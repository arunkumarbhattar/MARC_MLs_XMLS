<?xml version="1.0" encoding="utf-8"?>
<emails><email><emailId>20020104184040</emailId><senderName>Jerome Etienne</senderName><senderEmail>jme@off.net</senderEmail><timestampReceived>2002-01-04 18:40:40-0400</timestampReceived><subject>init script which reveal passwords</subject><body>

i think i found a hole in the script proposed in the encryption 
HOWTO (http://encryptionhowto.sourceforge.net/) to setup 
an encripted loop device. The script is dumped at the end
of this text. 

It allows any user of the box to learn the password used 
to encrypt the block device on this box, so to read/write its 
content. Note it isnt a bug of the encrypted loop device
in itself but a bug in a admin script.

To send the password to losetup, the script puts it in the
command line: 
	echo "$PASS1" | losetup -e "$CIPHER" -p 0 "$LOOPDEV" "$UNDERLYING"

Any user on the same box, can see the password using 'ps' so
i considere it as a hole.

------------------------------ mkloop.sh -------------------------
#!/bin/bash

# the cipher is the first command line argument
CIPHER="$1"
# the loop device to use is the second
LOOPDEV="$2"
# the underlying file is third
UNDERLYING="$3"

echo I am going to switch swap off \- we have no means to keep pages
echo locked in memory with shell scripts.
read -p "Continue &lt;y|n&gt;? "

[ $REPLY = 'y' ] || exit 1

echo -n OK, swap off...
swapoff -a
echo done

# until the two passphrases match and are not empty...
until [ "$PASS1" = "$PASS2" -a -n "$PASS1" ]; do
        # the bash read buitlin has to support the -s option.
	# Don't use read without -s!!
	read -s -p "Enter Passphrase: " PASS1; echo
	read -s -p "Re-enter Passphrase: " PASS2; echo
done

# setup the loop device using the passphrase given on STDIN.
echo "$PASS1" | losetup -e "$CIPHER" -p 0 "$LOOPDEV" "$UNDERLYING"

echo -n swap on...
swapon -a
echo done




-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020202021751</emailId><senderName>"Ryan M. McConahy"</senderName><senderEmail>jfanonymous@yahoo.com</senderEmail><timestampReceived>2002-02-02 02:17:51-0400</timestampReceived><subject>Upgrading from 2.2.20 int'l crypto</subject><body>

Hi! I use the international crypto patch on 2.2.20, with relative block
numbers enabled. The crypto was done through losetup, not mount. (I think
it's cleaner, because then you can access it raw for debug, defrag, etc).

Can I just grab 2.4.17 and the crypto patch (and the loop patch) and
it'll work? Do I need a new util-linux? And what does the loop patch
do?

Thanks,

Ryan M. McConahy


_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at http://mail.yahoo.com

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020331025847</emailId><senderName>"IT3 Stuart Blake Tener, USNR-R"</senderName><senderEmail>stuart@bh90210.net</senderEmail><timestampReceived>2002-03-31 02:58:47-0400</timestampReceived><subject>EVMS and LOOP-AES</subject><body>

Mr. Ruusu, et al.:

	In RE: http://sourceforge.net/projects/evms/

	I am curious, I just found out that EVMS has finally made its
debut in the Linux world, and is now available in a general release.
EVMS (as opposed to LVM), is what I wish to start using for disk
management.

	I understand that their implementation is inclusive of a
"plugin" type of style for adding features. Would it be okay if I asked
them to review the code you have written to see if they could adapt it
to be a plug in for EVMS in the future (i.e. adapt loop-aes for EVMS)?
Of course, I am not sure (but I presume) that this is the sensible way
to implement a mix of these technologies.

	My goals in terms of my current disk management mix are to
accomplish some several things:

	(a) Convert my disks from ReiserFS to EXT3 (so I can use DEVFS)
	(b) Adapt the more comprehensive EXT3 logging features
	(c) Implementation of encryption technologies (loop-aes?)
	(d) Implement EVMS disk management
	(e) Implement DEVFS

	Obviously the first part (converting to EXT3, and turning DEVFS
on) can be accomplished rather simply absent any intensive planning (I
just have been waiting to do all this stuff at one time). However, the
implementation of EVMS and encryption I also want to do sensibly.

	Suggestions, ideas, rants?


Very Respectfully, 

Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG 
Beverly Hills, California
VTU 1904G (Volunteer Training Unit) 
stuart@bh90210.net 
west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043 
east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859 

Telecopier: (419)-715-6073 fax to email gateway via www.efax.com (it's
free!) 

JOIN THE US NAVY RESERVE, SERVE YOUR COUNTRY, AND BENEFIT FROM IT ALL. 

Saturday, March 30, 2002 6:50 PM



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020504045258</emailId><senderName>"Eric"</senderName><senderEmail>ebenze@hotmail.com</senderEmail><timestampReceived>2002-05-04 04:52:58-0400</timestampReceived><subject>Encrypting root partition</subject><body>

Hi,

Is there anyway to securely encrypt the root partition such that if the =
disk
is removed from the machine, that the disk will not be able to be =
decrypted?
I'd like to encrypt the root partition, but unless I manually enter the
password by hand upon every boot, I don't see what would stop someone =
from
removing the HD from my machine, mounting it in another, and having =
access
to all the data...  I want to create an autonomous machine, which can =
reboot
by itself if it ever goes down.  But I don't want to have to enter a
password manually.

Am I missing something here?  Is there any way to securely encrypt the =
root
partition?

On NT/2000/XP, for example, each NTFS volume is mapped to a particular =
root
user id.  Which means that even if the drive is put in another PC, root =
on
another PC still won't have access to it.  The ext2 filesystem, as far =
as I
can tell, doesn't have that security - if the drive is moved to another
system, root gets full access.

Any thoughts?

Thanks!

Eric




[Attachment #3 (text/html)]

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"&gt;
&lt;HTML&gt;&lt;HEAD&gt;
&lt;META http-equiv=Content-Type content="text/html; charset=iso-8859-1"&gt;
&lt;META content="MSHTML 6.00.2715.400" name=GENERATOR&gt;
&lt;STYLE&gt;&lt;/STYLE&gt;
&lt;/HEAD&gt;
&lt;BODY bgColor=#ffffff&gt;
&lt;DIV&gt;Hi,&lt;BR&gt;&lt;BR&gt;Is there anyway to securely encrypt the root partition such that 
if the disk&lt;BR&gt;is removed from the machine, that the disk will not be able to be 
decrypted?&lt;BR&gt;I'd like to encrypt the root partition, but unless I manually 
enter the&lt;BR&gt;password by hand upon every boot, I don't see what would stop 
someone from&lt;BR&gt;removing the HD from my machine, mounting it in another, and 
having access&lt;BR&gt;to all the data...  I want to create an autonomous 
machine, which can reboot&lt;BR&gt;by itself if it ever goes down.  But I don't 
want to have to enter a&lt;BR&gt;password manually.&lt;BR&gt;&lt;BR&gt;Am I missing something 
here?  Is there any way to securely encrypt the 
root&lt;BR&gt;partition?&lt;BR&gt;&lt;BR&gt;On NT/2000/XP, for example, each NTFS volume is mapped 
to a particular root&lt;BR&gt;user id.  Which means that even if the drive is put 
in another PC, root on&lt;BR&gt;another PC still won't have access to it.  The 
ext2 filesystem, as far as I&lt;BR&gt;can tell, doesn't have that security - if the 
drive is moved to another&lt;BR&gt;system, root gets full access.&lt;BR&gt;&lt;BR&gt;Any 
thoughts?&lt;BR&gt;&lt;BR&gt;Thanks!&lt;BR&gt;&lt;BR&gt;Eric&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020601120833</emailId><senderName>Dale Amon</senderName><senderEmail>amon@vnl.com</senderEmail><timestampReceived>2002-06-01 12:08:33-0400</timestampReceived><subject>Re: new article/howto for cryptoapi</subject><body>

On Fri, May 31, 2002 at 11:37:59AM -0600, mutex wrote:
&gt; Ok, so here is my howto/article about installing and using the CryptoAPI
&gt; for loopback encryption.  It was originally written article style, to be

An item to discuss: in the HowTo you write the original file:

	dd /dev/urandom ....

I usually use a /dev/zero here, and then after a losetup write the 
new file system with another dd. Sometimes I use the /dev/urandom
here if I feel particularly like getting more mixing, but otherwise
another 'dd /dev/zero ...' should be nearly as good since the zeroes
are being encrypted at this point, so the file externally will look
as random as the actual encryption algorithm allows.

This has been discussed here a number of times previously and
is my current understanding of best practice.

Comments?


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020703202941</emailId><senderName></senderName><senderEmail>dave-mlist</senderEmail><timestampReceived>2002-07-03 20:29:41-0400</timestampReceived><subject>How do you fsck a loop-aes filesystem?</subject><body>

I created a filesystem following Example 3 of the loop-aes README.  My
/etc/fstab file has a line that looks something like this:

/dev/sda1 /mnt/crypt ext3 defaults,noauto,loop=/dev/loop0,encryption=AES128,pseed=&lt;someseed&gt; 0 0

So, if I wanted to run fsck on this or just bring the filesystem
up to date with the journal, how would I do it?

Also, is there any guarantee that the ext3 journal on this filesystem
is being written to the physical disk?  Or is the loop device
totally asynchronous?

Thanks,
Dave
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020802194722</emailId><senderName>"j2"</senderName><senderEmail>spamfilter2@mupp.net</senderEmail><timestampReceived>2002-08-02 19:47:22-0400</timestampReceived><subject>patching linux utils?</subject><body>

First of all, sorry for sending a "subscribe" to the list by misstake (if it
wasnt filtered out by the MLM software).

Second, i have a Debian/Woody system running 2.4.18 (Patched for XFS
support). I figured my next attempt of adding functionality would be crypto.
So i patch the kernel successfully, then procede to patch the linux utils,
but that does not complete as expected. According to the docs a pathc should
work on a util-linux that has a higher version.. and "t" should be higher
then "b", so what might i be missing?

cookiemonster:~/Download/Crypto/util-linux-2.11t# patch -p1 &lt;
/usr/src/linux/Documentation/crypto/util-linux-2.11b.patch
patching file MCONFIG
patching file mount/Makefile
patching file mount/lomount.c
Hunk #10 FAILED at 617.
1 out of 14 hunks FAILED -- saving rejects to file mount/lomount.c.rej
patching file mount/lomount.h
patching file mount/losetup.8
patching file mount/mount.8
Hunk #1 succeeded at 258 (offset 6 lines).
Hunk #2 FAILED at 529.
Hunk #3 succeeded at 1604 (offset 240 lines).
1 out of 3 hunks FAILED -- saving rejects to file mount/mount.8.rej
patching file mount/mount.c
Hunk #1 succeeded at 108 (offset 1 line).
Hunk #2 succeeded at 595 (offset 21 lines).
Hunk #3 succeeded at 1357 (offset 69 lines).
Hunk #4 succeeded at 1394 with fuzz 1 (offset 72 lines).
Hunk #5 succeeded at 1410 with fuzz 2 (offset 72 lines).
Hunk #6 FAILED at 1432.
Hunk #7 succeeded at 1448 (offset 73 lines).
Hunk #8 succeeded at 1466 (offset 73 lines).
Hunk #9 succeeded at 1574 (offset 91 lines).
1 out of 9 hunks FAILED -- saving rejects to file mount/mount.c.rej
patching file mount/rmd160.c
patching file mount/rmd160.h
cookiemonster:~/Download/Crypto/util-linux-2.11t# ls /root/Download/Crypto/
patch-int-2.4.3.1  util-linux-2.11t  util-linux-2.11t.tar.gz
cookiemonster:~/Download/Crypto/util-linux-2.11t#

cookiemonster:~/Download/Crypto/util-linux-2.11t/mount# cat *.rej
***************
*** 387,405 ****

  int
  main(int argc, char **argv) {
-       char *offset, *encryption;
        int delete,off,c;
        int res = 0;
        int ro = 0;

        setlocale(LC_ALL, "");
        bindtextdomain(PACKAGE, LOCALEDIR);
        textdomain(PACKAGE);

        delete = off = 0;
-       offset = encryption = NULL;
        progname = argv[0];
-       while ((c = getopt(argc,argv,"de:o:v")) != EOF) {
                switch (c) {
                case 'd':
                        delete = 1;
--- 617,638 ----

  int
  main(int argc, char **argv) {
+       char *offset, *encryption, *passfd, *keysize;
        int delete,off,c;
+       int pfd = -1;
        int res = 0;
        int ro = 0;
+       int keysz = 0;

        setlocale(LC_ALL, "");
        bindtextdomain(PACKAGE, LOCALEDIR);
        textdomain(PACKAGE);

        delete = off = 0;
+       offset = encryption = passfd = keysize = NULL;
        progname = argv[0];
+       while ((c = getopt_long(argc,argv,"de:hk:o:p:v",
+                               longopts, NULL)) != EOF) {
                switch (c) {
                case 'd':
                        delete = 1;
***************
*** 523,528 ****
  .BR noexec ", " nosuid ", and " nodev
  (unless overridden by subsequent options, as in the option line
  .BR user,exec,dev,suid ).
  .RE

  .SH "FILESYSTEM SPECIFIC MOUNT OPTIONS"
--- 529,543 ----
  .BR noexec ", " nosuid ", and " nodev
  (unless overridden by subsequent options, as in the option line
  .BR user,exec,dev,suid ).
+ .TP
+ .B encryption
+ Specifies an encryption algorithm to use.  Used in conjunction with the
+ .BR loop " option."
+ .TP
+ .B keybits
+ Specifies the key size to use for an encryption algorithm. Used in
conjunction
+ with the
+ .BR loop " and " encryption " options."
  .RE

  .SH "FILESYSTEM SPECIFIC MOUNT OPTIONS"
***************
*** 1421,1427 ****
        initproctitle(argc, argv);
  #endif

-       while ((c = getopt_long (argc, argv, "afFhlL:no:rsU:vVwt:",
                                 longopts, NULL)) != EOF) {
                switch (c) {
                case 'a':               /* mount everything in fstab */
--- 1432,1438 ----
        initproctitle(argc, argv);
  #endif

+       while ((c = getopt_long (argc, argv, "afFhlL:no:p:rsU:vVwt:",
                                 longopts, NULL)) != EOF) {
                switch (c) {
                case 'a':               /* mount everything in fstab */
cookiemonster:~/Download/Crypto/util-linux-2.11t/mount#



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020906073234</emailId><senderName>       Mitsuru KANDA / =?ISO-2022-JP?B?GyRCP0BFRBsoQiAbJEI9PBsoQg==?=</senderName><senderEmail></senderEmail><timestampReceived>2002-09-06 07:32:34-0400</timestampReceived><subject>[Q] merging mainline kernel</subject><body>


Hello CryptoAPI developers,

let me ask a question.

Would you have a plan to merge cryptoapi code into the mainline kernel(2.5)?

USAGI uses CryptoAPI for IPv6 IPsec.

I would like to know whether you have a plan or not.

Thanks,

-mk



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020906075222</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-09-06 07:52:22-0400</timestampReceived><subject>Re: [Q] merging mainline kernel</subject><body>

On Fri, 2002-09-06 at 09:32, Mitsuru KANDA / 神田 充 wrote:
&gt; Would you have a plan to merge cryptoapi code into the mainline kernel(2.5)?
&gt; USAGI uses CryptoAPI for IPv6 IPsec.
...there are a few other projects using it as well...
 
&gt; I would like to know whether you have a plan or not.
...we'd love to and that's our goal in the long term, but this is linus'
decision... you might want to ask on the linux kernel mailing list, what
their current position regarding cryptography in the kernel is right
now...

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021102143512</emailId><senderName>Christophe Zwecker</senderName><senderEmail>doc@zwecker.de</senderEmail><timestampReceived>2002-11-02 14:35:12-0400</timestampReceived><subject>newbie: for my understanding of loop-aes</subject><body>

Hi,

I just installed gentoo and wanted to use loop aes on a 420GB volume.

the volume resides on a 3ware ide raid5. I wanted to format it with the
XFS filesystem.

is it true I shall disable write cache on the controller ?

Now I read the README that comes with loop-aes. the parameters seem
wrong its not 

losetup -e AES128   it seems  to be

losetup -e aes -k 128. well no problem here.

Im trying example #3
It says I shall keep the seed somewhere, but in the example its in the
fstab isnt it ? I suppose its for convienience but better not to keep
there ? 

is solution #3 more secure because of the seed than number 4 (the gpg
solution), altho in #4 I could save the keyfile on a CD or an usb
keychain storage ?

I mean in #4 I dont do a dd over the whole disk.

I did the swap encryption thing as in the read me, however doesnt matter
which parameters I put in fstab swapon always works, so I wonder how can
I check if swap is really encrypted ?

And finally I wonder how much morge secure aes256 is over aes128 , cause
I got no idea. I wonder when/if I need 256.

my read/write acces seem to slow down about 50% with aes256.

thx for help on this :-))

Chris
-- 
Christophe Zwecker                     mail: doc@zwecker.de
Hamburg, Germany                        fon: +49 179 3994867
http://www.zwecker.de

"Who is General Failure ?  And why is he reading my disk ??"

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021102170720</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-11-02 17:07:20-0400</timestampReceived><subject>Re: newbie: for my understanding of loop-aes</subject><body>

Christophe Zwecker wrote:
&gt; is it true I shall disable write cache on the controller ?

Journaled file systems usually require that.

&gt; Now I read the README that comes with loop-aes. the parameters seem
&gt; wrong its not
&gt; 
&gt; losetup -e AES128   it seems  to be
&gt; 
&gt; losetup -e aes -k 128. well no problem here.

Former is correct for loop-AES use. Latter is correct for
kerneli.org-cryptoapi use.

&gt; Im trying example #3
&gt; It says I shall keep the seed somewhere, but in the example its in the
&gt; fstab isnt it ? I suppose its for convienience but better not to keep
&gt; there ?

Seed needs to be in /etc/fstab. kerneli.org-cryptoapi does not support use
of seed (last time I looked).

&gt; is solution #3 more secure because of the seed than number 4 (the gpg
&gt; solution), altho in #4 I could save the keyfile on a CD or an usb
&gt; keychain storage ?

Loop-AES examples #4 and #5 switch most of the burden to attacking GnuPG
instead of loop cipher.

&gt; I did the swap encryption thing as in the read me, however doesnt matter
&gt; which parameters I put in fstab swapon always works, so I wonder how can
&gt; I check if swap is really encrypted ?

kerneli.org-cryptoapi do encrypted swap using modifications to init scripts.
Loop-AES' swapon/swapoff do encrypted swap if they find loop= and
encryption= options in /etc/fstab.

To check if kernel is using loop devices to swap, type "cat /proc/swaps".
One or more lines of output should begin with "/dev/loop? "

&gt; And finally I wonder how much morge secure aes256 is over aes128 , cause
&gt; I got no idea. I wonder when/if I need 256.

AES128 should be secure. AES256 is for paranoids.

&gt; I load couple modules and do stuff as in loop-aes readme. Now I just
&gt; wondered, could it be that I dont use loop-aes but cryptoapi stuff ?

Yes, that seems to be the case.

&gt; How can I tell ? is loop-aes faster then cryptoapi ? which are the
&gt; advantages ?

I haven't seen version of kerneli.org-cryptoapi that outperformed loop-AES.

&gt; I think ive been playing with the wrong stuff... :(

If you want to continue using kerneli.org-cryptoapi, use their docs to set
up loop devices. If you want replace kerneli.org-cryptoapi with loop-AES,
just follow instructions in loop-AES' README file.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020906083131</emailId><senderName>       Mitsuru KANDA / =?ISO-2022-JP?B?GyRCP0BFRBsoQiAbJEI9PBsoQg==?=</senderName><senderEmail></senderEmail><timestampReceived>2002-09-06 08:31:31-0400</timestampReceived><subject>Re: [Q] merging mainline kernel</subject><body>


Hello Herbert,

&gt; &gt; i would like to know whether you have a plan or not.
&gt; ...we'd love to and that's our goal in the long term, but this is linus'
&gt; decision... you might want to ask on the linux kernel mailing list, what
&gt; their current position regarding cryptography in the kernel is right
&gt; now...
Yes, this is Linus' decision..., ok, I'll ask on lkml.

BTW, would you have a plan to submit patches by code-freeze date(end of Oct)
whether it will be merged or not?

# sorry for inquisitive queston.

Regards,
-mk
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020906130414</emailId><senderName>Jean-Luc Cooke</senderName><senderEmail>jlcooke@certainkey.com</senderEmail><timestampReceived>2002-09-06 13:04:14-0400</timestampReceived><subject>Re: [Q] merging mainline kernel</subject><body>

I hate to speek for people, but the general view in CryptoAPI is a solid
'yes' (we're moments away from a release as-is).

JLC

On Fri, Sep 06, 2002 at 05:31:31PM +0900, Mitsuru KANDA / ?$B?@ED?(B ?$B=&lt;?(B wrote:
&gt; 
&gt; Hello Herbert,
&gt; 
&gt; &gt; &gt; i would like to know whether you have a plan or not.
&gt; &gt; ...we'd love to and that's our goal in the long term, but this is linus'
&gt; &gt; decision... you might want to ask on the linux kernel mailing list, what
&gt; &gt; their current position regarding cryptography in the kernel is right
&gt; &gt; now...
&gt; Yes, this is Linus' decision..., ok, I'll ask on lkml.
&gt; 
&gt; BTW, would you have a plan to submit patches by code-freeze date(end of Oct)
&gt; whether it will be merged or not?
&gt; 
&gt; # sorry for inquisitive queston.
&gt; 
&gt; Regards,
&gt; -mk
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/

-- 
http://www.certainkey.com
Suite 4560 CTTC
1125 Colonel By Dr.
Ottawa ON, K1S 5B6
C: 613.263.2983
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020906144111</emailId><senderName>Michael Richardson</senderName><senderEmail>mcr@sandelman.ottawa.on.ca</senderEmail><timestampReceived>2002-09-06 14:41:11-0400</timestampReceived><subject>Re: [Q] merging mainline kernel</subject><body>


Until such time as the mainline kernel resides in a free country,
I would strongly recommend that the crypto code stay out.

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020906153525</emailId><senderName>       Mitsuru KANDA / =?ISO-2022-JP?B?GyRCP0BFRBsoQiAbJEI9PBsoQg==?=</senderName><senderEmail></senderEmail><timestampReceived>2002-09-06 15:35:25-0400</timestampReceived><subject>Re: [Q] merging mainline kernel</subject><body>


Hello Michael,

&gt; Until such time as the mainline kernel resides in a free country,
&gt; I would strongly recommend that the crypto code stay out.
You mean the mainline kernel shuold reside outside of U.S like OpenBSD :-) ?

I'm not familiar with the limitations on crypto exports of U.S.
but I think at least CryptoAPI scheme existing inside the mainline kernel
is useful for kernel developers who want to use cryptoapi.
(e.g. abstraction layer: cryptoapi.c crypto.h)


Regards,
-mk
-- 
----------------------------------------
Mitsuru KANDA (mk@karaba.org)
 Toshiba Reseach &amp; Development Center
       Communication Platform Laboratory (mk@isl.rdc.toshiba.co.jp)
 USAGI Project (mk@linux-ipv6.org)

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020906181729</emailId><senderName>Sean Neakums</senderName><senderEmail>sneakums@zork.net</senderEmail><timestampReceived>2002-09-06 18:17:29-0400</timestampReceived><subject>Re: [Q] merging mainline kernel</subject><body>

commence  Mitsuru KANDA quotation:

&gt; Hello Michael,
&gt;
&gt;&gt; Until such time as the mainline kernel resides in a free country,
&gt;&gt; I would strongly recommend that the crypto code stay out.
&gt; You mean the mainline kernel shuold reside outside of U.S like OpenBSD :-) ?
&gt;
&gt; I'm not familiar with the limitations on crypto exports of U.S.  but
&gt; I think at least CryptoAPI scheme existing inside the mainline
&gt; kernel is useful for kernel developers who want to use cryptoapi.
&gt; (e.g. abstraction layer: cryptoapi.c crypto.h)

My recollection (which could be faulty) is that under the export
regulations, code that contained crypto hooks was treated the same as
code that actually implemented cryptography.

-- 
 /                          |
[|] Sean Neakums            |  Questions are a burden to others;
[|] &lt;sneakums@zork.net&gt;     |      answers a prison for oneself.
 \                          |
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020907143655</emailId><senderName>Michael Richardson</senderName><senderEmail>mcr@sandelman.ottawa.on.ca</senderEmail><timestampReceived>2002-09-07 14:36:55-0400</timestampReceived><subject>Re: [Q] merging mainline kernel</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----


&gt;&gt;&gt;&gt;&gt; "mk" == mk  &lt;Mitsuru&gt; writes:
    &gt;&gt; Until such time as the mainline kernel resides in a free country,
    &gt;&gt; I would strongly recommend that the crypto code stay out.

    mk&gt; You mean the mainline kernel shuold reside outside of U.S like
    mk&gt; OpenBSD :-) ? 

  Yes.

    mk&gt; I'm not familiar with the limitations on crypto exports of U.S.
  
  I strongly suggest that unless you want to be the Skyleroff, that you
become familliar with them.

  Well, there are the same limitations that there always have been.
The difference is that for the past 3 or 4 years, the bureaucrats have
actually been following the law, which exempts open source software, except
that they ask that you notify them that you are exporting things. 

  The notice is not legal. Most believe it is so they can round you up later
on to threaten you, if there is something that they want you to do.  
  As this is an administrative change, not a legal one, they can change it
back at any time, and can make it retroactively illegal. Note that current
"cybercrime" laws in the US are retroactive as well.

  The "rules" apply to all people in the US (including non-US citizens),
and all US citizens, regardless of where they are in the world.

    mk&gt; but I think at least CryptoAPI scheme existing inside the mainline
    mk&gt; kernel 
    mk&gt; is useful for kernel developers who want to use cryptoapi.
    mk&gt; (e.g. abstraction layer: cryptoapi.c crypto.h)

  useful, yes.
  But, asking the US developers to risk their lives, families and possessions
over?

  Remember that disney owns congresspersons, and I would presume so does
Microsoft. Neither is happy with what Linux does to them.  Having crypto in
a US-maintained Linux kernel would provide trivial ways for Linux people to
threatened and controlled. 

]       ON HUMILITY: to err is human. To moo, bovine.           |  firewalls  [
]   Michael Richardson, Sandelman Software Works, Ottawa, ON    |net architect[
] mcr@sandelman.ottawa.on.ca http://www.sandelman.ottawa.on.ca/ |device driver[
] panic("Just another Debian GNU/Linux using, kernel hacking, security guy"); [
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.7 (GNU/Linux)
Comment: Finger me for keys

iQCVAwUBPXoPBIqHRg3pndX9AQHVUAP/WYuzE1hymykqOnSJfTzi1wa66nY5+W0D
LfF1fuKBRYBAjmot7/tGD0FFwJWN0NXA0kEzN8LA6xdUdzLpzm5KyENg6UvA3C0O
YL4o9m3SUUXGDG53Tx1SvCyrQPz8v23//3M4tWNk3hsrpAmhZ+rwmO8Kk0c7ARrz
xSqc6wAI2gE=
=e8X7
-----END PGP SIGNATURE-----
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020907150156</emailId><senderName>Harmon Seaver</senderName><senderEmail>hseaver@cybershamanix.com</senderEmail><timestampReceived>2002-09-07 15:01:56-0400</timestampReceived><subject>Re: [Q] merging mainline kernel</subject><body>

   It would seem that the best places to publish the kernel itself and all
crypto would be countries such as Germany and Japan who are pro-free crypto. In
fact, I think it's a very bad idea to have the kernel releases done in the US at
all in the current political climate. What's the point of taking a chance of
them being comprimised? I can download kernels from Germany just as easily as I
can from the US, perhaps a tiny bit slower.
   I don't understand why the linux community releases kernels in the US,
release them elsewhere and let the US mirror them. Besides, there are *no*
regulations on import of crypto to the US, only export, so the solution would
seem obvious.


On Sat, Sep 07, 2002 at 05:06:07PM +0200, Thomas Sjögren wrote:
&gt; On Saturday 07 September 2002 16:36, Michael Richardson wrote:
&gt; 
&gt; &gt;     mk&gt; I'm not familiar with the limitations on crypto exports of
&gt; &gt; U.S.
&gt; &gt;
&gt; &gt;   I strongly suggest that unless you want to be the Skyleroff, that
&gt; &gt; you become familliar with them.
&gt; 
&gt; Check out the Crypto Law Survey and the summary of international crypto 
&gt; controls:
&gt; http://rechten.kub.nl/koops/cryptolaw/
&gt; http://rechten.kub.nl/koops/cryptolaw/cls-sum.htm
&gt; 
&gt; /Thomas
&gt; -- 
&gt; thomas@northernsecurity.net | www.northernsecurity.net  
&gt; thomas@se.linux.org | www.se.linux.org
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/

-- 
Harmon Seaver	
CyberShamanix
http://www.cybershamanix.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020907150607</emailId><senderName>Thomas =?iso-8859-1?q?Sj=F6gren?=</senderName><senderEmail>thomas@northernsecurity.net</senderEmail><timestampReceived>2002-09-07 15:06:07-0400</timestampReceived><subject>Re: [Q] merging mainline kernel</subject><body>

On Saturday 07 September 2002 16:36, Michael Richardson wrote:

&gt;     mk&gt; I'm not familiar with the limitations on crypto exports of
&gt; U.S.
&gt;
&gt;   I strongly suggest that unless you want to be the Skyleroff, that
&gt; you become familliar with them.

Check out the Crypto Law Survey and the summary of international crypto 
controls:
http://rechten.kub.nl/koops/cryptolaw/
http://rechten.kub.nl/koops/cryptolaw/cls-sum.htm

/Thomas
-- 
thomas@northernsecurity.net | www.northernsecurity.net  
thomas@se.linux.org | www.se.linux.org
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020907161141</emailId><senderName>"mike"</senderName><senderEmail>phar@thetransmission.net</senderEmail><timestampReceived>2002-09-07 16:11:41-0400</timestampReceived><subject>Re: [Q] merging mainline kernel</subject><body>

actually.. as long as you release the code and have someone else build it
(without support)
in a country without export controls there is no issue..

the source code is free speech (see junger v. daley) and not subject to
export restrictions.

-phar
www.im-passe.com/phar


----- Original Message -----
From: "Harmon Seaver" &lt;hseaver@cybershamanix.com&gt;
To: "Thomas Sjögren" &lt;thomas@northernsecurity.net&gt;
Cc: &lt;linux-crypto@nl.linux.org&gt;
Sent: Saturday, September 07, 2002 11:01 AM
Subject: Re: [Q] merging mainline kernel


&gt;    It would seem that the best places to publish the kernel itself and all
&gt; crypto would be countries such as Germany and Japan who are pro-free
crypto. In
&gt; fact, I think it's a very bad idea to have the kernel releases done in the
US at
&gt; all in the current political climate. What's the point of taking a chance
of
&gt; them being comprimised? I can download kernels from Germany just as easily
as I
&gt; can from the US, perhaps a tiny bit slower.
&gt;    I don't understand why the linux community releases kernels in the US,
&gt; release them elsewhere and let the US mirror them. Besides, there are *no*
&gt; regulations on import of crypto to the US, only export, so the solution
would
&gt; seem obvious.
&gt;
&gt;
&gt; On Sat, Sep 07, 2002 at 05:06:07PM +0200, Thomas Sjögren wrote:
&gt; &gt; On Saturday 07 September 2002 16:36, Michael Richardson wrote:
&gt; &gt;
&gt; &gt; &gt;     mk&gt; I'm not familiar with the limitations on crypto exports of
&gt; &gt; &gt; U.S.
&gt; &gt; &gt;
&gt; &gt; &gt;   I strongly suggest that unless you want to be the Skyleroff, that
&gt; &gt; &gt; you become familliar with them.
&gt; &gt;
&gt; &gt; Check out the Crypto Law Survey and the summary of international crypto
&gt; &gt; controls:
&gt; &gt; http://rechten.kub.nl/koops/cryptolaw/
&gt; &gt; http://rechten.kub.nl/koops/cryptolaw/cls-sum.htm
&gt; &gt;
&gt; &gt; /Thomas
&gt; &gt; --
&gt; &gt; thomas@northernsecurity.net | www.northernsecurity.net
&gt; &gt; thomas@se.linux.org | www.se.linux.org
&gt; &gt; -
&gt; &gt; Linux-crypto:  cryptography in and on the Linux system
&gt; &gt; Archive:       http://mail.nl.linux.org/linux-crypto/
&gt;
&gt; --
&gt; Harmon Seaver
&gt; CyberShamanix
&gt; http://www.cybershamanix.com
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
&gt;
&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020907161244</emailId><senderName>       Mitsuru KANDA / =?ISO-2022-JP?B?GyRCP0BFRBsoQiAbJEI9PBsoQg==?=</senderName><senderEmail></senderEmail><timestampReceived>2002-09-07 16:12:44-0400</timestampReceived><subject>Re: [Q] merging mainline kernel</subject><body>


I wonder why NetBSD and FreeBSD main tree are still in US.
They include crypto code.

Does anyone know the reasons about this?
It might occured big discussion when merging KAME IPsec code...


At Sat, 7 Sep 2002 10:01:56 -0500
Harmon Seaver wrote:
&gt; 
&gt;    It would seem that the best places to publish the kernel itself and all
&gt; crypto would be countries such as Germany and Japan who are pro-free crypto. In
&gt; fact, I think it's a very bad idea to have the kernel releases done in the US at
&gt; all in the current political climate. What's the point of taking a chance of
&gt; them being comprimised? I can download kernels from Germany just as easily as I
&gt; can from the US, perhaps a tiny bit slower.
&gt;    I don't understand why the linux community releases kernels in the US,
&gt; release them elsewhere and let the US mirror them. Besides, there are *no*
&gt; regulations on import of crypto to the US, only export, so the solution would
&gt; seem obvious.
&gt; 
&gt; 
&gt; On Sat, Sep 07, 2002 at 05:06:07PM +0200, Thomas Sjögren wrote:
&gt; &gt; On Saturday 07 September 2002 16:36, Michael Richardson wrote:
&gt; &gt; 
&gt; &gt; &gt;     mk&gt; I'm not familiar with the limitations on crypto exports of
&gt; &gt; &gt; U.S.
&gt; &gt; &gt;
&gt; &gt; &gt;   I strongly suggest that unless you want to be the Skyleroff, that
&gt; &gt; &gt; you become familliar with them.
&gt; &gt; 
&gt; &gt; Check out the Crypto Law Survey and the summary of international crypto 
&gt; &gt; controls:
&gt; &gt; http://rechten.kub.nl/koops/cryptolaw/
&gt; &gt; http://rechten.kub.nl/koops/cryptolaw/cls-sum.htm
&gt; &gt; 
&gt; &gt; /Thomas
&gt; &gt; -- 
&gt; &gt; thomas@northernsecurity.net | www.northernsecurity.net  
&gt; &gt; thomas@se.linux.org | www.se.linux.org
&gt; &gt; -
&gt; &gt; Linux-crypto:  cryptography in and on the Linux system
&gt; &gt; Archive:       http://mail.nl.linux.org/linux-crypto/
&gt; 
&gt; -- 
&gt; Harmon Seaver	
&gt; CyberShamanix
&gt; http://www.cybershamanix.com
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020225210846</emailId><senderName>       Richard Zidlicky</senderName><senderEmail></senderEmail><timestampReceived>2002-02-25 21:08:46-0400</timestampReceived><subject>loop-AES supported ciphers</subject><body>

Hi,

is there any way to use other encryption ciphers than AES with
loop-AES? The name seems to contradict that.

Bye
Richard
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021001093305</emailId><senderName>pplf</senderName><senderEmail>pplf@wanadoo.fr</senderEmail><timestampReceived>2002-10-01 09:33:05-0400</timestampReceived><subject>Re: linux newbie versus Mandrake</subject><body>

Earl wrote:
&gt; With WIN, I have SCRAMDISK and DRIVECRYPT and feel that my
&gt; confidential data is safe no matter what.

Scramdisk (the source is free) or Drivecrypt (here, no source-code at 
all!) are not secure because Windoze is not secure. And you cannot 
encrypt the swap.


&gt; I understand that Mandrake 9.0 has crypto out-of-the-box, but what
&gt; does that really mean?

That means that you can create some encrypted partitions (/home, /var, 
/tmp) - but there you *must* enter a passphrase at the boot -, or create 
some encrypted containers (or "folders") on an existing Linux partition.

The container solution is more easy to use, IMHO.

You create a container (personaly, I use the Michel Bouissou script to 
create it automatically : 
https://www.bouissou.net/wws/d_read/open-crypto/linux-crypto/mkcryptfs/mkcryptfs-0.5.4-1mdk.noarch.rpm 
), you mount it + enter passphrase, and all datas located in this 
/home/.../secret are encrypted/decrypted on-the-fly.

No data is written in plain text on the disk.

In Mandrake 9.0, the swap is automatically encrypted when /etc/fstab 
contains the flag "encrypted" in the swap line like this :
/dev/hda4 swap swap encrypted 0 0



-- 
pplf - French OpenPGP page "OpenPGP en francais"
http://www.openpgp.fr.st
pplf@wanadoo.fr
"Microsoft solutions aren't solutions. They are problems" C.Casteyde

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020226184444</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-02-26 18:44:44-0400</timestampReceived><subject>Re: loop-AES supported ciphers</subject><body>

Richard Zidlicky wrote:
&gt; is there any way to use other encryption ciphers than AES with
&gt; loop-AES? The name seems to contradict that.

More ciphers can be loaded as modules. Loop-AES comes with just one cipher
built in. For example, to use twofish cipher from SuSE kernel sources all
you need to do is copy the drivers/block/loop_fish2.c file to some
directory, and the compile it with a Makefile like this:


LINUX_SOURCE=/lib/modules/$(shell uname -r)/build
TD=$(shell pwd)
all:
	cd $(LINUX_SOURCE) &amp;&amp; make SUBDIRS=$(TD) modules
modules:
	$(CC) $(CFLAGS) -DKBUILD_BASENAME=loop_fish2 -c loop_fish2.c -o loop_fish2.o
	mkdir -p $(INSTALL_MOD_PATH)/lib/modules/$(KERNELRELEASE)/block
	cp -p loop_fish2.o $(INSTALL_MOD_PATH)/lib/modules/$(KERNELRELEASE)/block
	depmod -a


And then use it like this:

    make
    modprobe loop_fish2
    losetup -e twofish128 /dev/loop0 /dev/hda666
    mkfs .....
    losetup -d /dev/loop0

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020226212949</emailId><senderName>       Richard Zidlicky</senderName><senderEmail></senderEmail><timestampReceived>2002-02-26 21:29:49-0400</timestampReceived><subject>Re: loop-AES supported ciphers</subject><body>

On Tue, Feb 26, 2002 at 08:44:44PM +0200, Jari Ruusu wrote:
&gt; Richard Zidlicky wrote:
&gt; &gt; is there any way to use other encryption ciphers than AES with
&gt; &gt; loop-AES? The name seems to contradict that.
&gt; 
&gt; More ciphers can be loaded as modules. Loop-AES comes with just one cipher
&gt; built in. For example, to use twofish cipher from SuSE kernel sources all
&gt; you need to do is copy the drivers/block/loop_fish2.c file to some
&gt; directory, and the compile it with a Makefile like this:

thanks, any plans to bundle that stuff? People may find it a bit 
difficult to keep track of all those bits.

Bye
Richard
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020226215945</emailId><senderName>"IT3 Stuart Blake Tener, USNR-R"</senderName><senderEmail>stuart@bh90210.net</senderEmail><timestampReceived>2002-02-26 21:59:45-0400</timestampReceived><subject>RE: loop-AES supported ciphers</subject><body>

Mr. Ruusu:

	How difficult would it be to add this to the documentation? I am
not sure if it is already there (I was never concerned about such things
as using some other cipher than AES), but it seems like it would be
useful to have in the docs if it is not already.


Very Respectfully, 

Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG 
Beverly Hills, California
VTU 1904G (Volunteer Training Unit) 
stuart@bh90210.net 
west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043 
east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859 

Telecopier: (419)-715-6073 fax to email gateway via www.efax.com (it's
free!) 

JOIN THE US NAVY RESERVE, SERVE YOUR COUNTRY, AND BENEFIT FROM IT ALL. 

Tuesday, February 26, 2002 1:25 PM


-----Original Message-----
From: linux-crypto-bounce@nl.linux.org
[mailto:linux-crypto-bounce@nl.linux.org] On Behalf Of Jari Ruusu
Sent: Tuesday, February 26, 2002 10:45 AM
To: Richard Zidlicky
Cc: linux-crypto@nl.linux.org
Subject: Re: loop-AES supported ciphers

Richard Zidlicky wrote:
&gt; is there any way to use other encryption ciphers than AES with
&gt; loop-AES? The name seems to contradict that.

More ciphers can be loaded as modules. Loop-AES comes with just one
cipher
built in. For example, to use twofish cipher from SuSE kernel sources
all
you need to do is copy the drivers/block/loop_fish2.c file to some
directory, and the compile it with a Makefile like this:


LINUX_SOURCE=/lib/modules/$(shell uname -r)/build
TD=$(shell pwd)
all:
	cd $(LINUX_SOURCE) &amp;&amp; make SUBDIRS=$(TD) modules
modules:
	$(CC) $(CFLAGS) -DKBUILD_BASENAME=loop_fish2 -c loop_fish2.c -o
loop_fish2.o
	mkdir -p $(INSTALL_MOD_PATH)/lib/modules/$(KERNELRELEASE)/block
	cp -p loop_fish2.o
$(INSTALL_MOD_PATH)/lib/modules/$(KERNELRELEASE)/block
	depmod -a


And then use it like this:

    make
    modprobe loop_fish2
    losetup -e twofish128 /dev/loop0 /dev/hda666
    mkfs .....
    losetup -d /dev/loop0

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020227210019</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-02-27 21:00:19-0400</timestampReceived><subject>Re: loop-AES supported ciphers</subject><body>

Richard Zidlicky wrote:
&gt; On Tue, Feb 26, 2002 at 08:44:44PM +0200, Jari Ruusu wrote:
&gt; &gt; More ciphers can be loaded as modules. Loop-AES comes with just one cipher
&gt; &gt; built in. For example, to use twofish cipher from SuSE kernel sources all
&gt; &gt; you need to do is copy the drivers/block/loop_fish2.c file to some
&gt; &gt; directory, and the compile it with a Makefile like this:
&gt; 
&gt; thanks, any plans to bundle that stuff? People may find it a bit
&gt; difficult to keep track of all those bits.

So many people have asked about more ciphers for loop-AES that next release
may have additional extra-ciphers package with at least serpent, blowfish
and twofish ciphers.

I copied and audited serpent and blowfish from cryptoapi, and took twofish
from SuSE kernel sources. Just for the record, blowfish implementation in
cryptoapi on little endian boxes is not straight blowfish, but some
mutated-byteorder-variation. Cryptoapi blowfish on big endian boxes
implements blowfish correctly.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020227224644</emailId><senderName>"IT3 Stuart Blake Tener, USNR-R"</senderName><senderEmail>stuart@bh90210.net</senderEmail><timestampReceived>2002-02-27 22:46:44-0400</timestampReceived><subject>RE: loop-AES supported ciphers</subject><body>

Mr. Ruusu:

	Well, while I am very happy with AES-256 as my encryption
algorithm, it is nice to the encompassment of great choice within the
loop-aes software package.

	Good work and thank you again for all your expertise!


Very Respectfully, 

Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG 
Beverly Hills, California
VTU 1904G (Volunteer Training Unit) 
stuart@bh90210.net 
west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043 
east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859 

Telecopier: (419)-715-6073 fax to email gateway via www.efax.com (it's
free!) 

JOIN THE US NAVY RESERVE, SERVE YOUR COUNTRY, AND BENEFIT FROM IT ALL. 

Wednesday, February 27, 2002 2:44 PM


-----Original Message-----
From: linux-crypto-bounce@nl.linux.org
[mailto:linux-crypto-bounce@nl.linux.org] On Behalf Of Jari Ruusu
Sent: Wednesday, February 27, 2002 1:00 PM
To: Richard Zidlicky
Cc: linux-crypto@nl.linux.org
Subject: Re: loop-AES supported ciphers

Richard Zidlicky wrote:
&gt; On Tue, Feb 26, 2002 at 08:44:44PM +0200, Jari Ruusu wrote:
&gt; &gt; More ciphers can be loaded as modules. Loop-AES comes with just one
cipher
&gt; &gt; built in. For example, to use twofish cipher from SuSE kernel
sources all
&gt; &gt; you need to do is copy the drivers/block/loop_fish2.c file to some
&gt; &gt; directory, and the compile it with a Makefile like this:
&gt; 
&gt; thanks, any plans to bundle that stuff? People may find it a bit
&gt; difficult to keep track of all those bits.

So many people have asked about more ciphers for loop-AES that next
release
may have additional extra-ciphers package with at least serpent,
blowfish
and twofish ciphers.

I copied and audited serpent and blowfish from cryptoapi, and took
twofish
from SuSE kernel sources. Just for the record, blowfish implementation
in
cryptoapi on little endian boxes is not straight blowfish, but some
mutated-byteorder-variation. Cryptoapi blowfish on big endian boxes
implements blowfish correctly.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020228085858</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-02-28 08:58:58-0400</timestampReceived><subject>Re: loop-AES supported ciphers</subject><body>

hello!

On Wed, 2002-02-27 at 22:00, Jari Ruusu wrote:
&gt; So many people have asked about more ciphers for loop-AES that next release
&gt; may have additional extra-ciphers package with at least serpent, blowfish
&gt; and twofish ciphers.
...you may consider changing loop-AES name to something more generic
then ;-)

anyway, I can't help thinking that you're in the process of recreating
the international kernel patch....
 
ps: ...are you aware of any data corruption problems with loop-AES in
combination with XFS on SMP boxes under high IO load? if I get the time,
I can try to recreate the issue with 2.4.18; it was present w/ 2.4.16
the last time I checked, and it affected both, loop-AES and patch-int...

&gt; I copied and audited serpent and blowfish from cryptoapi, and took twofish
&gt; from SuSE kernel sources. Just for the record, blowfish implementation in
&gt; cryptoapi on little endian boxes is not straight blowfish, but some
&gt; mutated-byteorder-variation. Cryptoapi blowfish on big endian boxes
&gt; implements blowfish correctly.
btw, that's a known problem (see this mailing lists archives for more
details); when it was detected it was too late, thus left so, since it
would have broken existing encrypted volumes...

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020228132312</emailId><senderName>"IT3 Stuart Blake Tener, USNR-R"</senderName><senderEmail>stuart@bh90210.net</senderEmail><timestampReceived>2002-02-28 13:23:12-0400</timestampReceived><subject>RE: loop-AES supported ciphers</subject><body>

Herbert:

	If in fact Jari is recreating the i-patch via Loop-aes, (or
perhaps whatever he chooses to rename it to), and loop-aes is able to
present the same level of crypto support (or maybe even more crypto
choices than the i-patch) in terms of algorithms that the i-patch
supports, then this is good!

	I personally take issue with the i-patch predicated on several
issues, the first being it is terribly difficult (at least it was for
me), to try to use it on any kernel I choose. Loop-aes seems not to
stick you with this issue, and that (to me) is a big gain. The i-patch,
will one day have a big advantage when it is inclusive to all kernels by
default (if accepted by Linus one day), but prior to that, it is very
hard to justify all the effort (for an individual) to keep it working
with different kernels, too much trouble (if you ask me). Well let me
rephrase that, too much trouble with little gain over loop-aes, until
now, when only one algorithm was present in loop-ase instead a multi
algorithm implementation as Jari no doubt plans (I presume he intends to
support the same algorithms the crypto patch does now)

	Secondly, I must tell you I do not agree with this idea of
"known bugs", if someone (or a corporation, like SuSE) knows there is a
"known bug", or an imperfect implementation (i.e. with blowfish), they
have a responsibility to fix it, and offer a transition path to correct
it.

	Not that all of these problems are the fault of the authors of
the i-patch, clearly they all are not, but, since loop-aes fails to
enact these issues, I see it as a clear advantage for the moment.

	Having a crypto API within Linux is not only a necessity in the
future, but also downright in demand. Once this is done, and a standard
for crypto is built into Linux, we will be on a different page.

	I to this day do not understand why Linux has not (at minimum)
been designed to have standard crypto API calls in it, which in the
kernel could be dummy calls, which only would work if someone
independently compiled and loaded modules not otherwise part of the
kernel, in order to keep the kernel in its current world-exportable
mode, but allow for standardization of crypto calls.

	If this cannot be accomplished (perhaps predicated on the
current legislative state of affairs), then I feel that Linus ought to
be the maintainer of a separate crypto based version of the kernel
(separate from the non-crypto version), which has a crypto API built in,
and maintained by his group of developers separately. As long as the
i-patch is an independent effort, not under the scope or inclusive to
those sources as other distributors of Linux (like RH, SuSE, etc.) are
all working with the same problem of non-standard ability for
implementation across all distribution kernel sources will exist. An
answer to this problem must be achieved if the i-patch is ever to become
a viable choice. I beseech someone to resolve this, as it is the method
I prefer absent the prior objections I stated above. If the i-patch
could easily be applied to any kernel source I choose, I would see it as
the superior choice, it cannot easily do so, and this is a major flaw. A
major flaw, not because you do not support all kernels know to mankind,
but because it is not an accepted part of the kernel which by default
ought to be in all kernels known to mankind.


Very Respectfully, 

Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG 
Beverly Hills, California
VTU 1904G (Volunteer Training Unit) 
stuart@bh90210.net 
west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043
east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859 

Telecopier: (419)-715-6073 fax to email gateway via www.efax.com (it's
free!) 

JOIN THE US NAVY RESERVE, SERVE YOUR COUNTRY, AND BENEFIT FROM IT ALL. 

Sunday, January 13, 2002 4:38 AM

-----Original Message-----
From: linux-crypto-bounce@nl.linux.org
[mailto:linux-crypto-bounce@nl.linux.org] On Behalf Of Herbert Valerio
Riedel
Sent: Thursday, February 28, 2002 12:59 AM
To: Jari Ruusu
Cc: linux-crypto@nl.linux.org
Subject: Re: loop-AES supported ciphers

hello!

On Wed, 2002-02-27 at 22:00, Jari Ruusu wrote:
&gt; So many people have asked about more ciphers for loop-AES that next
release
&gt; may have additional extra-ciphers package with at least serpent,
blowfish
&gt; and twofish ciphers.
...you may consider changing loop-AES name to something more generic
then ;-)

anyway, I can't help thinking that you're in the process of recreating
the international kernel patch....
 
ps: ...are you aware of any data corruption problems with loop-AES in
combination with XFS on SMP boxes under high IO load? if I get the time,
I can try to recreate the issue with 2.4.18; it was present w/ 2.4.16
the last time I checked, and it affected both, loop-AES and patch-int...

&gt; I copied and audited serpent and blowfish from cryptoapi, and took
twofish
&gt; from SuSE kernel sources. Just for the record, blowfish implementation
in
&gt; cryptoapi on little endian boxes is not straight blowfish, but some
&gt; mutated-byteorder-variation. Cryptoapi blowfish on big endian boxes
&gt; implements blowfish correctly.
btw, that's a known problem (see this mailing lists archives for more
details); when it was detected it was too late, thus left so, since it
would have broken existing encrypted volumes...

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020228135711</emailId><senderName>Dale Amon</senderName><senderEmail>amon@vnl.com</senderEmail><timestampReceived>2002-02-28 13:57:11-0400</timestampReceived><subject>Re: loop-AES supported ciphers</subject><body>

On Thu, Feb 28, 2002 at 05:23:12AM -0800, IT3 Stuart Blake Tener, USNR-R wrote:

&gt; issues, the first being it is terribly difficult (at least it was for
&gt; me), to try to use it on any kernel I choose. Loop-aes seems not to
&gt; stick you with this issue, and that (to me) is a big gain. 

You've got a big problem anyway. With the updated binutils you can't
even compile the old kernels; you have to downgrade it to build them.

btw Herbert, have you confirmed your patches against new kernels and
with the latest binutils? I've noticed some problems with new binutils
and patched new kernels, but I don't know which patch did it or whether
it was some feature I turned on particular to those kernels. 

&gt; The i-patch,
&gt; will one day have a big advantage when it is inclusive to all kernels by
&gt; default (if accepted by Linus one day), but prior to that, it is very
&gt; hard to justify all the effort (for an individual) to keep it working
&gt; with different kernels, too much trouble (if you ask me). 

Any kernel patch will have to be modified to keep up with the changes
in the kernel because they are part of the kernel. Modules can "often"
get away with changing only on major releases when the API changes.

However modules do not provide a general service, only a particular
one. You are stuck with that problem unless you move the API into
the kernel proper, and once you do so you are back to chasing the
latest releases.

&gt; 	Secondly, I must tell you I do not agree with this idea of
&gt; "known bugs", if someone (or a corporation, like SuSE) knows there is a
&gt; "known bug", or an imperfect implementation (i.e. with blowfish), they
&gt; have a responsibility to fix it, and offer a transition path to correct
&gt; it.

This is all volunteer time; people give their time for free and have to
fit this in with making a living and family and friends. And besides
that, every software system (from honest vendors at least) has indeed
kept lists of known bugs. They are usually fixed in future releases.
This was the case way back when I worked with mainframe OS's.
 
&gt; 	Having a crypto API within Linux is not only a necessity in the
&gt; future, but also downright in demand. Once this is done, and a standard
&gt; for crypto is built into Linux, we will be on a different page.

It is due to American regulations that it did not happen. Things have
changed and the legal opinions seem to be drifting in the direction
of saying it is safe to include encryption code. 

For example, Debian has just decided to fold many important crypto
apps into the main servers instead of isolating them in the nonUS ones.
 
&gt; 	I to this day do not understand why Linux has not (at minimum)
&gt; been designed to have standard crypto API calls in it, which in the
&gt; kernel could be dummy calls, which only would work if someone
&gt; independently compiled and loaded modules not otherwise part of the
&gt; kernel, in order to keep the kernel in its current world-exportable
&gt; mode, but allow for standardization of crypto calls.

Because the government was actively going after people who did this.
I could dig and give you at least three examples of programs with
hooks that got directly threatened. One of those was the original
university predecessor to Netscape. It had built in crypto hooks
in the code. They were forced to remove them.
 
-- 
------------------------------------------------------
    Nuke bin Laden:           Dale Amon, CEO/MD
  improve the global          Islandone Society
     gene pool.               www.islandone.org
------------------------------------------------------
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020228151034</emailId><senderName>pplf</senderName><senderEmail>pplf01@yahoo.com</senderEmail><timestampReceived>2002-02-28 15:10:34-0400</timestampReceived><subject>Re: loop-AES supported ciphers</subject><body>

IT3 Stuart Blake Tener, USNR-R wrote:
&gt; As long as the
&gt; i-patch is an independent effort, not under the scope or inclusive to
&gt; those sources as other distributors of Linux (like RH, SuSE, etc.)

BTW, the upcoming Linux-Mandrake 8.2 contains loop-AES out-of-the-box :

" list of features of the first ML8.2 beta:
(...) 3. Encrypted filesystem support."
http://www.linux-mandrake.com/en/82beta.php3


-- 
&lt;pplf01@yahoo.com&gt; French OpenPGP page "OpenPGP en francais"
http://www.openpgp.fr.st



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020228181101</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-02-28 18:11:01-0400</timestampReceived><subject>Re: loop-AES supported ciphers</subject><body>

Herbert Valerio Riedel wrote:
&gt; On Wed, 2002-02-27 at 22:00, Jari Ruusu wrote:
&gt; &gt; So many people have asked about more ciphers for loop-AES that next release
&gt; &gt; may have additional extra-ciphers package with at least serpent, blowfish
&gt; &gt; and twofish ciphers.
&gt; ...you may consider changing loop-AES name to something more generic
&gt; then ;-)

It is going to be add-on package (a separate tarball). Loop-AES core will
remain AES only. One of the reasons is that loop-AES supports old 2.0
kernels, but externally loaded ciphers only work with 2.2 and later kernels
only.

&gt; anyway, I can't help thinking that you're in the process of recreating
&gt; the international kernel patch....

Cryptoapi does not support _my_ kernel of choice. If you care to examine
headers of this message, you will notice that this message is sent using
ultra stable 2.2.20aa1. This box goes down only when UPS batteries are about
to run out of juice (and for maintenance... ZIP drive died yesterday, grrr).

All 2.4 kernel versions prior to 2.4.17 died under my simple non-evil stress
tests. And that was without any crypto. 2.4.17 was first 2.4 kernel that
showed some signs of stability.

Herbert, if you are not going to support all maintained stable kernels
(especially ultra stable ones and distro vendor versions), then I will
support them... and do that without cryptoapi bloat.

&gt; ps: ...are you aware of any data corruption problems with loop-AES in
&gt; combination with XFS on SMP boxes under high IO load? if I get the time,
&gt; I can try to recreate the issue with 2.4.18; it was present w/ 2.4.16
&gt; the last time I checked, and it affected both, loop-AES and patch-int...

I am not aware of any problems with loop-AES. Like I said above, kernels
prior to 2.4.17 were unstable in my tests.

&gt; &gt; I copied and audited serpent and blowfish from cryptoapi, and took twofish
&gt; &gt; from SuSE kernel sources. Just for the record, blowfish implementation in
&gt; &gt; cryptoapi on little endian boxes is not straight blowfish, but some
&gt; &gt; mutated-byteorder-variation. Cryptoapi blowfish on big endian boxes
&gt; &gt; implements blowfish correctly.
&gt; btw, that's a known problem (see this mailing lists archives for more
&gt; details); when it was detected it was too late, thus left so, since it
&gt; would have broken existing encrypted volumes...

I corrected the bug, but added a "bug-compatible" option so that existing
cryptoapi-mutated disk images can be mounted (also had to add RIPE-MD160
password hash for 100% compatibility).

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020228182808</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-02-28 18:28:08-0400</timestampReceived><subject>Re: loop-AES supported ciphers</subject><body>

On Thu, 2002-02-28 at 19:11, Jari Ruusu wrote:
&gt;&gt; anyway, I can't help thinking that you're in the process of recreating
&gt;&gt; the international kernel patch....
&gt; Cryptoapi does not support _my_ kernel of choice. If you care to examine
&gt; headers of this message, you will notice that this message is sent using
&gt; ultra stable 2.2.20aa1. This box goes down only when UPS batteries are about
&gt; to run out of juice (and for maintenance... ZIP drive died yesterday, grrr).
 
&gt; All 2.4 kernel versions prior to 2.4.17 died under my simple non-evil stress
&gt; tests. And that was without any crypto. 2.4.17 was first 2.4 kernel that
&gt; showed some signs of stability.
I guess we all remember, that the 2.4 series had quite a bad start...
before 2.4.4 the loopback device wasn't even usable, and would lead to
deadlocks...
 
&gt; Herbert, if you are not going to support all maintained stable kernels
&gt; (especially ultra stable ones and distro vendor versions), then I will
&gt; support them... and do that without cryptoapi bloat.
well, 2.0 seems out of reach for the 'cryptoloop' filter; but 2.2 
 
&gt; &gt; ps: ...are you aware of any data corruption problems with loop-AES in
&gt; &gt; combination with XFS on SMP boxes under high IO load? if I get the time,
&gt; &gt; I can try to recreate the issue with 2.4.18; it was present w/ 2.4.16
&gt; &gt; the last time I checked, and it affected both, loop-AES and patch-int...
&gt; I am not aware of any problems with loop-AES. Like I said above, kernels
&gt; prior to 2.4.17 were unstable in my tests.
well ok, I'll try to reproduce the corruption; the only problem is, that
I have to run a XFS-enabled kernel on my workstation, since the root
partition is XFS... (that's also the reason why I haven't been able to
do much work on 2.2 backporting, as I have no XFS for 2.2)...
 
&gt;&gt; btw, that's a known problem (see this mailing lists archives for more
&gt;&gt; details); when it was detected it was too late, thus left so, since it
&gt;&gt; would have broken existing encrypted volumes...

&gt; I corrected the bug, but added a "bug-compatible" option so that existing
&gt; cryptoapi-mutated disk images can be mounted (also had to add RIPE-MD160
&gt; password hash for 100% compatibility).
btw, expect that future cryptoloop versions will use the non-'mutated'
cipher mode by default, since some network applications need the correct
variant...

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020228183858</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-02-28 18:38:58-0400</timestampReceived><subject>RE: loop-AES supported ciphers</subject><body>

On Thu, 2002-02-28 at 14:23, IT3 Stuart Blake Tener, USNR-R wrote:
&gt; present the same level of crypto support (or maybe even more crypto
&gt; choices than the i-patch) in terms of algorithms that the i-patch
&gt; supports, then this is good!
just to make one thing clear: I have no problem at all w/ giving the
user more choice, as to which software to use; that's why I like
cryptoapi's variety of ciphers...
 
[..]

&gt; 	Secondly, I must tell you I do not agree with this idea of
&gt; "known bugs", if someone (or a corporation, like SuSE) knows there is a
&gt; "known bug", or an imperfect implementation (i.e. with blowfish), they
&gt; have a responsibility to fix it, and offer a transition path to correct
&gt; it.
btw, that cryptoapi thing is more a 'known issue' than a 'known bug'

why? because a bug usually leads to loss of data or something different;
but since the patch-int was the only encryption package to read and
write such blowfish encrypted volumes there was no real need to change
that... or was there any established volume-encryption format, to which
compatibility would have been broken?
ok, the bug about it is, that on big-endian machines the on-disk format
is different... but as said in a mail before, this blowfish issue will
be resolved... i.e. by fixing the current, and providing a
compat-blowfish cipher...
 
&gt; 	Not that all of these problems are the fault of the authors of
&gt; the i-patch, clearly they all are not, but, since loop-aes fails to
&gt; enact these issues, I see it as a clear advantage for the moment.
if you only need disk-encryption, then cryptoapi may be overkill... but
the projects using cryptoapi as their cipher-repository is growing...
 
[..]

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020228204211</emailId><senderName>"IT3 Stuart Blake Tener, USNR-R"</senderName><senderEmail>stuart@bh90210.net</senderEmail><timestampReceived>2002-02-28 20:42:11-0400</timestampReceived><subject>RE: loop-AES supported ciphers</subject><body>

Herbert:

	I never said you had an issue with giving users a choice of
algorithms to choose from, I am just stating that cryptoapi needs to
become a permanent part of the Linus kernel before people will begin to
accept it.

	As it is now, every time I rebuild my kernel, I need to build,
install and merge the NVIDIA drivers, and the ltmodem drivers. I don't
want to think that building a new kernel is going to turn into a massive
issues, just so I can patch it to use crypto. Too much trouble. I do
however, agree that a the idea of a cryptoapi in general (in the kernel)
is a good one, if it is going to be part of all standard kernels from
now forward.

	In other words if knowing what kernel version cryptoapi works
with can be more complicated than any kernel after version x.y.z, then
it will not be an easily deployable patch. Does your cryptoapi work
flawlessly with a Linus kernel of 2.4.18, or 2.4.19pre1?


Very Respectfully, 

Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG 
Beverly Hills, California
VTU 1904G (Volunteer Training Unit) 
stuart@bh90210.net 
west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043 
east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859 

Telecopier: (419)-715-6073 fax to email gateway via www.efax.com (it's
free!) 

JOIN THE US NAVY RESERVE, SERVE YOUR COUNTRY, AND BENEFIT FROM IT ALL. 

Thursday, February 28, 2002 12:40 PM


-----Original Message-----
From: linux-crypto-bounce@nl.linux.org
[mailto:linux-crypto-bounce@nl.linux.org] On Behalf Of Herbert Valerio
Riedel
Sent: Thursday, February 28, 2002 10:39 AM
To: linux-crypto@nl.linux.org
Subject: RE: loop-AES supported ciphers

On Thu, 2002-02-28 at 14:23, IT3 Stuart Blake Tener, USNR-R wrote:
&gt; present the same level of crypto support (or maybe even more crypto
&gt; choices than the i-patch) in terms of algorithms that the i-patch
&gt; supports, then this is good!
just to make one thing clear: I have no problem at all w/ giving the
user more choice, as to which software to use; that's why I like
cryptoapi's variety of ciphers...
 
[..]

&gt; 	Secondly, I must tell you I do not agree with this idea of
&gt; "known bugs", if someone (or a corporation, like SuSE) knows there is
a
&gt; "known bug", or an imperfect implementation (i.e. with blowfish), they
&gt; have a responsibility to fix it, and offer a transition path to
correct
&gt; it.
btw, that cryptoapi thing is more a 'known issue' than a 'known bug'

why? because a bug usually leads to loss of data or something different;
but since the patch-int was the only encryption package to read and
write such blowfish encrypted volumes there was no real need to change
that... or was there any established volume-encryption format, to which
compatibility would have been broken?
ok, the bug about it is, that on big-endian machines the on-disk format
is different... but as said in a mail before, this blowfish issue will
be resolved... i.e. by fixing the current, and providing a
compat-blowfish cipher...
 
&gt; 	Not that all of these problems are the fault of the authors of
&gt; the i-patch, clearly they all are not, but, since loop-aes fails to
&gt; enact these issues, I see it as a clear advantage for the moment.
if you only need disk-encryption, then cryptoapi may be overkill... but
the projects using cryptoapi as their cipher-repository is growing...
 
[..]

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020228221632</emailId><senderName>Marc Mutz</senderName><senderEmail>marc@mutz.com</senderEmail><timestampReceived>2002-02-28 22:16:32-0400</timestampReceived><subject>Re: loop-AES supported ciphers</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Thursday 28 February 2002 21:42, IT3 Stuart Blake Tener, USNR-R 
wrote:
&lt;snip&gt;
&gt; 	I never said you had an issue with giving users a choice of
&gt; algorithms to choose from, I am just stating that cryptoapi needs to
&gt; become a permanent part of the Linus kernel before people will begin
&gt; to accept it.

Wrong. People start to accept is _now_. Take PPDD, take the NFS 
implementation announced Tuesday. CIPE and FreeS/WAN are at least 
considering the move.

&gt; 	As it is now, every time I rebuild my kernel, I need to build,
&gt; install and merge the NVIDIA drivers, and the ltmodem drivers.

Sorry, but that is how it works in Linux. I had to merge new-style RAID, 
ext3 and kerneli back when I built by own kernels (and I did that evry 
few days...)

&gt; 	In other words if knowing what kernel version cryptoapi works
&gt; with can be more complicated than any kernel after version x.y.z,
&gt; then it will not be an easily deployable patch.

No patch that adds a new API to the kernel applies to more than a few 
minor releases in a row. The kerneli patch on 2.2 was remarkable stable 
w.r.t. to applicability to different kernels. Now that 2.4 has somewhat 
settled, I expect that same to hold. 

&gt;  Does your cryptoapi
&gt; work flawlessly with a Linus kernel of 2.4.18, or 2.4.19pre1?
&lt;snip&gt;

It's a Marcelo kernel, BTW ;-)

Marc

PS: Please trim your quotes.

- -- 
Marc Mutz &lt;mutz@kde.org&gt;
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE8fqxB3oWD+L2/6DgRAr6hAKDMtk/E51GMYfdU4Xs/Tdy6Giwn5gCcDWC2
xPzoDHy/3RiKb1qhZ49VEi0=
=1PkD
-----END PGP SIGNATURE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020301004847</emailId><senderName>Sandy Harris</senderName><senderEmail>sandy@storm.ca</senderEmail><timestampReceived>2002-03-01 00:48:47-0400</timestampReceived><subject>Re: loop-AES supported ciphers</subject><body>

Jari Ruusu wrote:

&gt; &gt; &gt; So many people have asked about more ciphers for loop-AES that next release
&gt; &gt; &gt; may have additional extra-ciphers package with at least serpent, blowfish
&gt; &gt; &gt; and twofish ciphers.

&gt; It is going to be add-on package (a separate tarball). Loop-AES core will
&gt; remain AES only. One of the reasons is that loop-AES supports old 2.0
&gt; kernels, but externally loaded ciphers only work with 2.2 and later kernels
&gt; only.

Externally loaded ciphers may also be a security weakness. 

I'd suggest aiming at just AES plus Serpent and Twofish, the other two AES
finalists with good licenses. They all operate on 128-bit blocks with 128,
192 or 256-bit keys (AES contest requirements). Much of the existing code
for them was written with a common interface for AES testing. It should be 
straightforward to use these three interchangeably.

Then make them all compile-time options, not externally loaded.

Methinks Blowfish is pointless. It is a good cipher, but not a good fit
for this application. It operates on 64-bit blocks and was not an AES
candidate, so adding it would complicate the interface considerably.

The Blowfish designer, Schneier, was on the Twofish team. I suspect he'd
tell you to use Twofish, not its predecessor.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020301151006</emailId><senderName>Juan Quintela</senderName><senderEmail>quintela@mandrakesoft.com</senderEmail><timestampReceived>2002-03-01 15:10:06-0400</timestampReceived><subject>Re: loop-AES supported ciphers</subject><body>

&gt;&gt;&gt;&gt;&gt; "herbert" == Herbert Valerio Riedel &lt;hvr@hvrlab.org&gt; writes:

Hi

herbert&gt; ...wasn't there work ongoing in 2.5's kbuild framework to make merging 
herbert&gt; easier? ;)

Merging without conflicts have never being a big deal, and merging
with conflicts is going to be PITA always :((((

The only think that 2.5 kbuild gives you is that now it is trivial
to make addons work (until now, you had to patch Makefile &amp; Config.in,
that was where almost all the problems come from).

Later, Juan "that has to merge too many patchs"


-- 
In theory, practice and theory are the same, but in practice they 
are different -- Larry McVoy
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020907163055</emailId><senderName>Thomas =?iso-8859-1?q?Sj=F6gren?=</senderName><senderEmail>thomas@northernsecurity.net</senderEmail><timestampReceived>2002-09-07 16:30:55-0400</timestampReceived><subject>Re: [Q] merging mainline kernel</subject><body>

On Saturday 07 September 2002 17:01, Harmon Seaver wrote:
&gt;    It would seem that the best places to publish the kernel itself
&gt; and all crypto would be countries such as Germany and Japan who are
&gt; pro-free crypto. 
&lt;-- snip --&gt;
&gt;    I don't understand why the linux community releases kernels in the
&gt; US, release them elsewhere and let the US mirror them. Besides, there
&gt; are *no* regulations on import of crypto to the US, only export, so
&gt; the solution would seem obvious.

I completly agree with you. However, what good is the export 
regulations if the only thing  that stopping me from dowloading the 
source code of, lets say, the Rijndael (AES) algorithm is a notice 
stating that i'm not allowed to download the code if i live in Iraq, 
Afghanistan, etc?

what role does kerneli.org play in this? (is it still alive? i couldnt 
reach it).

/Thomas
-- 
thomas@northernsecurity.net | www.northernsecurity.net  
thomas@se.linux.org | www.se.linux.org
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020907170709</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-09-07 17:07:09-0400</timestampReceived><subject>Re: [Q] merging mainline kernel</subject><body>

On Sat, 2002-09-07 at 18:30, Thomas Sjögren wrote:
&gt; what role does kerneli.org play in this? (is it still alive? i couldnt 
&gt; reach it).

...it's alive; we just seem to have some problems w/ international
connectivity - I hope they'll fix that after the weekend; and before you
ask, it's located in vienna/austria :-)

...by coincidence, master.kernel.org is down for more than a day :-/

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020907184213</emailId><senderName>Michael Richardson</senderName><senderEmail>mcr@sandelman.ottawa.on.ca</senderEmail><timestampReceived>2002-09-07 18:42:13-0400</timestampReceived><subject>Re: [Q] merging mainline kernel</subject><body>


&gt;&gt;&gt;&gt;&gt; "mk" == mk  &lt;Mitsuru&gt; writes:
    mk&gt; I wonder why NetBSD and FreeBSD main tree are still in US.
    mk&gt; They include crypto code.

  cvs.netbsd.org has been in Finland for four years now.

  FreeBSD, I can not explain.

]       ON HUMILITY: to err is human. To moo, bovine.           |  firewalls  [
]   Michael Richardson, Sandelman Software Works, Ottawa, ON    |net architect[
] mcr@sandelman.ottawa.on.ca http://www.sandelman.ottawa.on.ca/ |device driver[
] panic("Just another Debian GNU/Linux using, kernel hacking, security guy"); [
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020907184537</emailId><senderName>Michael Richardson</senderName><senderEmail>mcr@sandelman.ottawa.on.ca</senderEmail><timestampReceived>2002-09-07 18:45:37-0400</timestampReceived><subject>Re: [Q] merging mainline kernel</subject><body>


&gt;&gt;&gt;&gt;&gt; "mike" == mike  &lt;phar@thetransmission.net&gt; writes:
    mike&gt; in a country without export controls there is no issue..

    mike&gt; the source code is free speech (see junger v. daley) and not
    mike&gt; subject to 
    mike&gt; export restrictions.

  That's a nice theory.

  Also in theory, RSA and DNA is not patentable, US citizens can never be
denied their constitutional rights, Scott Adams Games is still in business,
and sysadmins have the right to verify the security of their systems.

  If US citizens work on crypto, regardless of where they compile it,
they make that crypto become under the control of the US. That is still
true even today.

]       ON HUMILITY: to err is human. To moo, bovine.           |  firewalls  [
]   Michael Richardson, Sandelman Software Works, Ottawa, ON    |net architect[
] mcr@sandelman.ottawa.on.ca http://www.sandelman.ottawa.on.ca/ |device driver[
] panic("Just another Debian GNU/Linux using, kernel hacking, security guy"); [



  


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020803094238</emailId><senderName>Charlie Dyson</senderName><senderEmail>cdyson37@yahoo.co.uk</senderEmail><timestampReceived>2002-08-03 09:42:38-0400</timestampReceived><subject>Re: patching linux utils?</subject><body>

I found that if you download the outdated version of util-linux (in this case
2.11b), then patch it, then patch that with the patch to the latest
version(2.11t), it works. I must point out that it worked when I did it, but
this was with different versions. Might as well give it a try. It would be nice
if (hint) a slightly more up-to-date patch was kept on the servers. There now
follows meaningless and over-stated complements to ensure that the
afore-mentioned patch is made: Did I mention that crypto-api, etc was a
wonderful piece of software, and that it has changed my entire life and view
upon life and the universe?

Whilst I'm here, is anybody even remotely interested in some scripts I wrote to
create an encrypted fs using a DES encrypted key, stored on removable media?

Yours most humbly,

Charlie Dyson - charlie@charliedyson.net

 --- j2 &lt;spamfilter2@mupp.net&gt; wrote: &gt; First of all, sorry for sending a
"subscribe" to the list by misstake (if it
&gt; wasnt filtered out by the MLM software).
&gt; 
&gt; Second, i have a Debian/Woody system running 2.4.18 (Patched for XFS
&gt; support). I figured my next attempt of adding functionality would be crypto.
&gt; So i patch the kernel successfully, then procede to patch the linux utils,
&gt; but that does not complete as expected. According to the docs a pathc should
&gt; work on a util-linux that has a higher version.. and "t" should be higher
&gt; then "b", so what might i be missing?
&gt; 
&gt; cookiemonster:~/Download/Crypto/util-linux-2.11t# patch -p1 &lt;
&gt; /usr/src/linux/Documentation/crypto/util-linux-2.11b.patch
&gt; patching file MCONFIG
&gt; patching file mount/Makefile
&gt; patching file mount/lomount.c
&gt; Hunk #10 FAILED at 617.
&gt; 1 out of 14 hunks FAILED -- saving rejects to file mount/lomount.c.rej
&gt; patching file mount/lomount.h
&gt; patching file mount/losetup.8
&gt; patching file mount/mount.8
&gt; Hunk #1 succeeded at 258 (offset 6 lines).
&gt; Hunk #2 FAILED at 529.
&gt; Hunk #3 succeeded at 1604 (offset 240 lines).
&gt; 1 out of 3 hunks FAILED -- saving rejects to file mount/mount.8.rej
&gt; patching file mount/mount.c
&gt; Hunk #1 succeeded at 108 (offset 1 line).
&gt; Hunk #2 succeeded at 595 (offset 21 lines).
&gt; Hunk #3 succeeded at 1357 (offset 69 lines).
&gt; Hunk #4 succeeded at 1394 with fuzz 1 (offset 72 lines).
&gt; Hunk #5 succeeded at 1410 with fuzz 2 (offset 72 lines).
&gt; Hunk #6 FAILED at 1432.
&gt; Hunk #7 succeeded at 1448 (offset 73 lines).
&gt; Hunk #8 succeeded at 1466 (offset 73 lines).
&gt; Hunk #9 succeeded at 1574 (offset 91 lines).
&gt; 1 out of 9 hunks FAILED -- saving rejects to file mount/mount.c.rej
&gt; patching file mount/rmd160.c
&gt; patching file mount/rmd160.h
&gt; cookiemonster:~/Download/Crypto/util-linux-2.11t# ls /root/Download/Crypto/
&gt; patch-int-2.4.3.1  util-linux-2.11t  util-linux-2.11t.tar.gz
&gt; cookiemonster:~/Download/Crypto/util-linux-2.11t#
&gt; 
&gt; cookiemonster:~/Download/Crypto/util-linux-2.11t/mount# cat *.rej
&gt; ***************
&gt; *** 387,405 ****
&gt; 
&gt;   int
&gt;   main(int argc, char **argv) {
&gt; -       char *offset, *encryption;
&gt;         int delete,off,c;
&gt;         int res = 0;
&gt;         int ro = 0;
&gt; 
&gt;         setlocale(LC_ALL, "");
&gt;         bindtextdomain(PACKAGE, LOCALEDIR);
&gt;         textdomain(PACKAGE);
&gt; 
&gt;         delete = off = 0;
&gt; -       offset = encryption = NULL;
&gt;         progname = argv[0];
&gt; -       while ((c = getopt(argc,argv,"de:o:v")) != EOF) {
&gt;                 switch (c) {
&gt;                 case 'd':
&gt;                         delete = 1;
&gt; --- 617,638 ----
&gt; 
&gt;   int
&gt;   main(int argc, char **argv) {
&gt; +       char *offset, *encryption, *passfd, *keysize;
&gt;         int delete,off,c;
&gt; +       int pfd = -1;
&gt;         int res = 0;
&gt;         int ro = 0;
&gt; +       int keysz = 0;
&gt; 
&gt;         setlocale(LC_ALL, "");
&gt;         bindtextdomain(PACKAGE, LOCALEDIR);
&gt;         textdomain(PACKAGE);
&gt; 
&gt;         delete = off = 0;
&gt; +       offset = encryption = passfd = keysize = NULL;
&gt;         progname = argv[0];
&gt; +       while ((c = getopt_long(argc,argv,"de:hk:o:p:v",
&gt; +                               longopts, NULL)) != EOF) {
&gt;                 switch (c) {
&gt;                 case 'd':
&gt;                         delete = 1;
&gt; ***************
&gt; *** 523,528 ****
&gt;   .BR noexec ", " nosuid ", and " nodev
&gt;   (unless overridden by subsequent options, as in the option line
&gt;   .BR user,exec,dev,suid ).
&gt;   .RE
&gt; 
&gt;   .SH "FILESYSTEM SPECIFIC MOUNT OPTIONS"
&gt; --- 529,543 ----
&gt;   .BR noexec ", " nosuid ", and " nodev
&gt;   (unless overridden by subsequent options, as in the option line
&gt;   .BR user,exec,dev,suid ).
&gt; + .TP
&gt; + .B encryption
&gt; + Specifies an encryption algorithm to use.  Used in conjunction with the
&gt; + .BR loop " option."
&gt; + .TP
&gt; + .B keybits
&gt; + Specifies the key size to use for an encryption algorithm. Used in
&gt; conjunction
&gt; + with the
&gt; + .BR loop " and " encryption " options."
&gt;   .RE
&gt; 
&gt;   .SH "FILESYSTEM SPECIFIC MOUNT OPTIONS"
&gt; ***************
&gt; *** 1421,1427 ****
&gt;         initproctitle(argc, argv);
&gt;   #endif
&gt; 
&gt; -       while ((c = getopt_long (argc, argv, "afFhlL:no:rsU:vVwt:",
&gt;                                  longopts, NULL)) != EOF) {
&gt;                 switch (c) {
&gt;                 case 'a':               /* mount everything in fstab */
&gt; --- 1432,1438 ----
&gt;         initproctitle(argc, argv);
&gt;   #endif
&gt; 
&gt; +       while ((c = getopt_long (argc, argv, "afFhlL:no:p:rsU:vVwt:",
&gt;                                  longopts, NULL)) != EOF) {
&gt;                 switch (c) {
&gt;                 case 'a':               /* mount everything in fstab */
&gt; cookiemonster:~/Download/Crypto/util-linux-2.11t/mount#
&gt; 
&gt; 
&gt; 
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
&gt;  

__________________________________________________
Do You Yahoo!?
Everything you'll ever need on one web page
from News and Sport to Email and Music Charts
http://uk.my.yahoo.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020803104150</emailId><senderName>"Fruhwirth Clemens"</senderName><senderEmail>clemens-dated-1028803310.0c3f@endorphin.org</senderEmail><timestampReceived>2002-08-03 10:41:50-0400</timestampReceived><subject>Re: patching linux utils?</subject><body>

On Fri, Aug 02, 2002 at 09:47:22PM +0200, j2 wrote:
&gt; First of all, sorry for sending a "subscribe" to the list by misstake (if it
&gt; wasnt filtered out by the MLM software).
&gt; 
&gt; Second, i have a Debian/Woody system running 2.4.18 (Patched for XFS
&gt; support). I figured my next attempt of adding functionality would be crypto.
&gt; So i patch the kernel successfully, then procede to patch the linux utils,
&gt; but that does not complete as expected. According to the docs a pathc should
&gt; work on a util-linux that has a higher version.. and "t" should be higher
&gt; then "b", so what might i be missing?

1. Debian's util-linux comes with support for cryptoapi right out of the box
2. In case you're using make-kpkg to compile your kernel you'd like to have
a look at http://mail.nl.linux.org/linux-crypto/2002-07/msg00004.html
Adding kernel-patch-xfs should be trivial and release you from patching the
kernel manually.

Regards, Clemens

[Attachment #3 (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020804143455</emailId><senderName>"Fruhwirth Clemens"</senderName><senderEmail>clemens-dated-1028903696.f0dc@endorphin.org</senderEmail><timestampReceived>2002-08-04 14:34:55-0400</timestampReceived><subject>Re: patching linux utils?</subject><body>

On Sat, Aug 03, 2002 at 02:15:52PM +0200, pplf wrote:
&gt; Fruhwirth Clemens wrote:
&gt; &gt;1. Debian's util-linux comes with support for cryptoapi right out of the 
&gt; &gt;box
&gt; 
&gt; Just for info, do you know if the new Debian 3 (which includes crypto) 
&gt; has cryptoapi support in his standard version (the ISOs) ?

No, not right out of the box. But there is hope :) For any i386 kernel-image
i'm going to provide override packages, which replaces loop.o with an
IV-patched loop.o, which is neccessary for cryptoapi. Further I will provide
precompiled cryptoapi-core and cryptoloop debian packages for i386.

Be patient, you should be able to apt-get cryptoapi support for woody in
about a 1-2 weeks without the need to touch any source code.

Regards, Clemens

[Attachment #3 (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020804145839</emailId><senderName>"W. Michael Petullo"</senderName><senderEmail>mike@flyn.org</senderEmail><timestampReceived>2002-08-04 14:58:39-0400</timestampReceived><subject>Re: patching linux utils?</subject><body>

&gt;&gt;&gt;1. Debian's util-linux comes with support for cryptoapi right out of the 
&gt;&gt;&gt;box
 
&gt;&gt; Just for info, do you know if the new Debian 3 (which includes crypto) 
&gt;&gt; has cryptoapi support in his standard version (the ISOs) ?
 
&gt; No, not right out of the box. But there is hope :) For any i386 kernel-image
&gt; i'm going to provide override packages, which replaces loop.o with an
&gt; IV-patched loop.o, which is neccessary for cryptoapi. Further I will provide
&gt; precompiled cryptoapi-core and cryptoloop debian packages for i386.
 
&gt; Be patient, you should be able to apt-get cryptoapi support for woody in
&gt; about a 1-2 weeks without the need to touch any source code.

It seems that this stuff is ready to go into the mainstream util-linux
distribution.  I just emailed the util-linux maintainer, and he seemed
to say that the only thing holding cryptoapi back was communication.
Perhaps with a bit of advocacy we could get the cryptoapi util-linux
patch accepted soon.

Here is my conversation with the maintainer of util-linux:

&gt;&gt; plans to integrate the cryptoapi or loop-AES patches?

&gt; Yes.

&gt;&gt; time line?

&gt; The problem has never been time.
&gt; First of all, the problem was copyrights. People sent me
&gt; patches that could not be distributed freely because there
&gt; was copyrighted material.
&gt; Next, there now are at least two sets of loop-AES patches.

&gt; It may be that I have unapplied crypto patches in my inbox,
&gt; do not recall precisely. But "the crypto patches" is
&gt; not sufficiently precise.

&gt; Andries


-- 
Mike

:wq
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020704024410</emailId><senderName>Ben Slusky</senderName><senderEmail>sluskyb@paranoiacs.org</senderEmail><timestampReceived>2002-07-04 02:44:10-0400</timestampReceived><subject>Re: How do you fsck a loop-aes filesystem?</subject><body>

On Wed, 03 Jul 2002 13:29:41 -0700, dave-mlist@bfnet.com wrote:
&gt; I created a filesystem following Example 3 of the loop-aes README.  My
&gt; /etc/fstab file has a line that looks something like this:
&gt; 
&gt; /dev/sda1 /mnt/crypt ext3 defaults,noauto,loop=/dev/loop0,encryption=AES128,pseed=&lt;someseed&gt; 0 0
&gt; 
&gt; So, if I wanted to run fsck on this or just bring the filesystem
&gt; up to date with the journal, how would I do it?

I don't believe there's any easy way to do this.. here are some
(progressively more) difficult ones:

-Hack your init scripts to set up the loop device before fsck -A is run,
 then change the line in fstab to:
 /dev/loop0 /mnt/crypt ext3 defaults 1 2

-Hack your init scripts to mount /mnt/crypt read-only, fsck it, and then
 remount it read-write (all after fsck -A)

-Hack e2fsck to understand the loop= option and run losetup

&gt; Also, is there any guarantee that the ext3 journal on this filesystem
&gt; is being written to the physical disk?  Or is the loop device
&gt; totally asynchronous?

I can't find the reference (one of Jari's previous posts) but ISTR that
if your loop device is block-device-backed rather than file-backed, then
journaling works as it should. I would hope so, 'cuz that's my setup as
well.

HTH,

-- 
Ben Slusky                      | "Dance like it hurts, love
sluskyb@stwing.org              |  like you need money, work
sluskyb@paranoiacs.org          |  when people are watching."
PGP keyID ADA44B3B              |               -Dogbert
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020704113502</emailId><senderName>Dale Amon</senderName><senderEmail>amon@vnl.com</senderEmail><timestampReceived>2002-07-04 11:35:02-0400</timestampReceived><subject>Re: How do you fsck a loop-aes filesystem?</subject><body>

On Wed, Jul 03, 2002 at 10:44:10PM -0400, Ben Slusky wrote:
&gt; On Wed, 03 Jul 2002 13:29:41 -0700, dave-mlist@bfnet.com wrote:
&gt; &gt; I created a filesystem following Example 3 of the loop-aes README.  My
&gt; &gt; /etc/fstab file has a line that looks something like this:
&gt; &gt; 
&gt; &gt; /dev/sda1 /mnt/crypt ext3 defaults,noauto,loop=/dev/loop0,encryption=AES128,pseed=&lt;someseed&gt; 0 0
&gt; &gt; 
&gt; &gt; So, if I wanted to run fsck on this or just bring the filesystem
&gt; &gt; up to date with the journal, how would I do it?
&gt; 
&gt; I don't believe there's any easy way to do this.. here are some
&gt; (progressively more) difficult ones:
&gt; 
&gt; -Hack your init scripts to set up the loop device before fsck -A is run,
&gt;  then change the line in fstab to:
&gt;  /dev/loop0 /mnt/crypt ext3 defaults 1 2

This is what I do in my cryptoswap init script since obviously a crypto
swap must be set up early :-)
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020704150743</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-07-04 15:07:43-0400</timestampReceived><subject>Re: How do you fsck a loop-aes filesystem?</subject><body>

dave-mlist@bfnet.com wrote:
&gt; I created a filesystem following Example 3 of the loop-aes README.  My
&gt; /etc/fstab file has a line that looks something like this:
&gt; 
&gt; /dev/sda1 /mnt/crypt ext3 defaults,noauto,loop=/dev/loop0,encryption=AES128,pseed=&lt;someseed&gt; 0 0
&gt; 
&gt; So, if I wanted to run fsck on this or just bring the filesystem
&gt; up to date with the journal, how would I do it?

To run fsck manually, do this when /mnt/crypt is _not_ mounted:

    losetup -e AES128 -S &lt;someseed&gt; /dev/loop0 /dev/sda1
    fsck -t ext3 -f -y /dev/loop0
    losetup -d /dev/loop0

&gt; Also, is there any guarantee that the ext3 journal on this filesystem
&gt; is being written to the physical disk?  Or is the loop device
&gt; totally asynchronous?

Device backed loops signal writes as 'done' _after_ lower level driver has
signaled said writes as 'done', so device backed loops are journaling fs
safe.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020705175446</emailId><senderName>Jean-Luc Cooke</senderName><senderEmail>jlcooke@certainkey.com</senderEmail><timestampReceived>2002-07-05 17:54:46-0400</timestampReceived><subject>Re: How do you fsck a loop-aes filesystem?</subject><body>

# /bin/sync --help
Usage: sync [OPTION]
Force changed blocks to disk, update the super block.

  --help      display this help and exit
  --version   output version information and exit

Report bugs to &lt;bug-fileutils@gnu.org&gt;.

JLC

On Thu, Jul 04, 2002 at 06:07:43PM +0300, Jari Ruusu wrote:
&gt; dave-mlist@bfnet.com wrote:
&gt; &gt; I created a filesystem following Example 3 of the loop-aes README.  My
&gt; &gt; /etc/fstab file has a line that looks something like this:
&gt; &gt; 
&gt; &gt; /dev/sda1 /mnt/crypt ext3 defaults,noauto,loop=/dev/loop0,encryption=AES128,pseed=&lt;someseed&gt; 0 0
&gt; &gt; 
&gt; &gt; So, if I wanted to run fsck on this or just bring the filesystem
&gt; &gt; up to date with the journal, how would I do it?
&gt; 
&gt; To run fsck manually, do this when /mnt/crypt is _not_ mounted:
&gt; 
&gt;     losetup -e AES128 -S &lt;someseed&gt; /dev/loop0 /dev/sda1
&gt;     fsck -t ext3 -f -y /dev/loop0
&gt;     losetup -d /dev/loop0
&gt; 
&gt; &gt; Also, is there any guarantee that the ext3 journal on this filesystem
&gt; &gt; is being written to the physical disk?  Or is the loop device
&gt; &gt; totally asynchronous?
&gt; 
&gt; Device backed loops signal writes as 'done' _after_ lower level driver has
&gt; signaled said writes as 'done', so device backed loops are journaling fs
&gt; safe.
&gt; 
&gt; Regards,
&gt; Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
&gt; 
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/

-- 
http://www.certainkey.com
Suite 4560 CTTC
1125 Colonel By Dr.
Ottawa ON, K1S 5B6
C: 613.263.2983
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020504094636</emailId><senderName>Dale Amon</senderName><senderEmail>amon@vnl.com</senderEmail><timestampReceived>2002-05-04 09:46:36-0400</timestampReceived><subject>Re: Encrypting root partition</subject><body>

On Sat, May 04, 2002 at 12:52:58AM -0400, Eric wrote:
&gt; Am I missing something here?  Is there any way to securely encrypt the root
&gt; partition?

I think you are missing something. If a machine can boot autonomously,
then there is no password or a password available in plaintext. Therefore
if the machine is stolen, all pieces are available.

The only angle I can think of is a boot rom tied to the normal
boot process that does a secure public key exchange over the 
local ethernet. That moves the problem one level back, to a 
local key server.

That's a bit of a tall order to impliment, but it would probably 
work, so long as you knew the machine was stolen and were able 
to block any further key exchange.

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020504123012</emailId><senderName>"Fruhwirth Clemens"</senderName><senderEmail>clemens-dated-1020947412.fd8e@endorphin.org</senderEmail><timestampReceived>2002-05-04 12:30:12-0400</timestampReceived><subject>Re: Encrypting root partition</subject><body>

On Sat, May 04, 2002 at 12:52:58AM -0400, Eric wrote:

&gt; Is there anyway to securely encrypt the root partition such that if the disk
&gt; is removed from the machine, that the disk will not be able to be decrypted?
&gt; I'd like to encrypt the root partition, but unless I manually enter the
&gt; password by hand upon every boot, I don't see what would stop someone from
&gt; removing the HD from my machine, mounting it in another, and having access
&gt; to all the data...  I want to create an autonomous machine, which can reboot
&gt; by itself if it ever goes down.  But I don't want to have to enter a
&gt; password manually.
&gt; 
&gt; Am I missing something here?  Is there any way to securely encrypt the root
&gt; partition?

Short answer: No
Long answer: Most cases have an intruder detection function. If a contact
located near the case opening gap is disconnected, then something (depends on
the motherboard) will be triggered. This could be used to flush the secret
from memory. (This is far from tamperproof)

There is the possiblity to that you supply the secret via an ssh
connection too..

Anyway I think it's more paying to focus on the stability of your box then
it's ability to reboot autonomously.

&gt; On NT/2000/XP, for example, each NTFS volume is mapped to a particular root
&gt; user id.  Which means that even if the drive is put in another PC, root on
&gt; another PC still won't have access to it.  The ext2 filesystem, as far as I
&gt; can tell, doesn't have that security - if the drive is moved to another
&gt; system, root gets full access.

There is no secret involved, so there can't be security. This is a software
based access control mechanism, which can be easily circumvented. Just put
the drive into a linux box.

clemens

[Attachment #3 (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020504150359</emailId><senderName>"Eric"</senderName><senderEmail>ebenze@hotmail.com</senderEmail><timestampReceived>2002-05-04 15:03:59-0400</timestampReceived><subject>Re: Encrypting root partition</subject><body>

Perhaps I phrased the question incorrectly, and should have rather tried to
explain my problem to see if there is a better solution available.  My goal
is to create a fully self-contained Linux system on a flash disk that can be
distributed.  However, I don't want someone to be able to copy the flash
disk onto another medium.  Which is why I turned to encryption as a possible
solution.  I've got specific needs and reasons to want to accomplish this,
so I'm hoping no one starts to debate the issue of distributing an encrypted
Linux system.  The question, however, is how can I accomplish this?

The system is a self-contained, automated black box, which requires no user
access.  Any access the user needs will be done over a TTYS for specific
configuration issues.  That way, I can completely disable login shells and
any other such access to the machine.  How do I prevent someone from putting
the flash card into another installation of Linux and copying it off though?

I'm not worried about the machine being stolen.  I'm more
concerned with someone copying the info off the drive.  Since this is an
autonomous machine, there is no login prompts, or any other ways that a user
can actually get to a prompt.  (the only reason I even keep the shell is to
run some scripts...).  My concern is that someone is able to through this
disk into another machine and get to all my stuff....

I was considering that using the MAC address but then that would require
building each disk for each computer independently....

Any thoughts?

Thanks!

Eric

----- Original Message -----
From: "Dale Amon" &lt;amon@vnl.com&gt;
Newsgroups: nlo.lists.linux-crypto
Sent: Saturday, May 04, 2002 5:46 AM
Subject: Re: Encrypting root partition


&gt; On Sat, May 04, 2002 at 12:52:58AM -0400, Eric wrote:
&gt; &gt; Am I missing something here?  Is there any way to securely encrypt the
root
&gt; &gt; partition?
&gt;
&gt; I think you are missing something. If a machine can boot autonomously,
&gt; then there is no password or a password available in plaintext. Therefore
&gt; if the machine is stolen, all pieces are available.
&gt;
&gt; The only angle I can think of is a boot rom tied to the normal
&gt; boot process that does a secure public key exchange over the
&gt; local ethernet. That moves the problem one level back, to a
&gt; local key server.
&gt;
&gt; That's a bit of a tall order to impliment, but it would probably
&gt; work, so long as you knew the machine was stolen and were able
&gt; to block any further key exchange.
&gt;
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020504152710</emailId><senderName>Jani Averbach</senderName><senderEmail>jaa@cc.jyu.fi</senderEmail><timestampReceived>2002-05-04 15:27:10-0400</timestampReceived><subject>Re: Encrypting root partition</subject><body>

On Sat, 4 May 2002, Eric wrote:


&gt; My goal is to create a fully self-contained Linux system on a flash
&gt; disk that can be distributed.  However, I don't want someone to be
&gt; able to copy the flash disk onto another medium.  Which is why I
&gt; turned to encryption as a possible solution.  I've got specific needs
&gt; and reasons to want to accomplish this, so I'm hoping no one starts to
&gt; debate the issue of distributing an encrypted Linux system.

...

&gt; The question, however, is how can I accomplish this?
&gt;

...

&gt; How do I prevent someone from putting the flash card into another
&gt; installation of Linux and copying it off though?
&gt;
...

&gt; My concern is that someone is able to through this
&gt; disk into another machine and get to all my stuff....

Please read this:
http://www.counterpane.com/crypto-gram-0105.html#3


BR, Jani

--
Jani Averbach

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020504153957</emailId><senderName>Michel Bouissou</senderName><senderEmail>michel@bouissou.net</senderEmail><timestampReceived>2002-05-04 15:39:57-0400</timestampReceived><subject>Re: Encrypting root partition</subject><body>

Le Samedi 4 Mai 2002 17:03, Eric a écrit :
&gt;
&gt; [...] My goal
&gt; is to create a fully self-contained Linux system on a flash disk that can
&gt; be distributed. [...]

&gt; [...] I've got specific needs and reasons to want to
&gt; accomplish this, so I'm hoping no one starts to debate the issue of
&gt; distributing an encrypted Linux system.

Whatever your reasons can be, I believe that distributing an encrypted, 
copy-protected, Linux system, would be a major infrigement of the GPL licence.

So you are more than probably not legally allowed to do this.

You can encrypt _your_own_programs_and_code_ if you wish, buit you shouldn't 
distribute Linux itself in an encrypted way.


&gt; The question, however, is how can
&gt; I accomplish this?

Short answer: You probably cannot.

Because if there is to be no user-interaction (for entering a decryption key 
or password), and no machine-related lock or customization, then your flash 
card *must* contain its own decryption key, and be able to decrypt itself 
entirely by itself.

If so, anybody can easily copy the flash memory, and willl then get its exact 
copy that will run as well as the original did.

If you want to (try to) prevent copying, you will probably need to use custom 
hardware, you can't achieve this with storing something on a standard mass 
memory medium.

Furthermore, "encryption" and "copy protection" are two rather different 
topics, and this list is about encryption, not copy protection.

Besides this, most people in the free software world will probably share my 
opinion that copy protection is *bad* (besides the fact that it doesn't work, 
and doesn't stand very long against a determined and competent opponent).

Regards.

-- 
Michel Bouissou &lt;michel@bouissou.net&gt; OpenPGP ID 0x5C2BEE8F
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020505071418</emailId><senderName>"Eric Benzacar"</senderName><senderEmail>benze@mail-me.com</senderEmail><timestampReceived>2002-05-05 07:14:18-0400</timestampReceived><subject>Re: Encrypting root partition</subject><body>

Actually, you raise a couple of very important points I've been researching.
I'm still trying to figure out if the GPL license allows for encrypted
distirubtions or not.  I can't seem to read into it one way or another.  It
does mention that distributed executables must be distributed with either
source code, the promise to produce source code, or some form of
documentation which clearly lists everything that is being used.  However,
nothing specifies whether or not encrytped distributions fit under GPL or
not.  Maybe I'm not reading it clearly...

As for copy protection actually holding up against a determined opponent, I
agree.  The point isn't to prevent someone knowledgeable enough to copy it
or to access it.  Rather, the point is just to make it difficult enough for
someone who would potentially be poiking around in it - to aggravate him/her
enough to not merit continuing.  Which is why I was looking at encryption
rather than copy-protection as per say.

I don't expect any form of encryption to be very sturdy...  But was hoping
to make it just a bit more obscure....

Thanks!

Eric


----- Original Message -----
From: "Michel Bouissou" &lt;michel@bouissou.net&gt;
Newsgroups: nlo.lists.linux-crypto
Sent: Saturday, May 04, 2002 11:39 AM
Subject: Re: Encrypting root partition


&gt; Le Samedi 4 Mai 2002 17:03, Eric a écrit :
&gt; &gt;
&gt; &gt; [...] My goal
&gt; &gt; is to create a fully self-contained Linux system on a flash disk that
can
&gt; &gt; be distributed. [...]
&gt;
&gt; &gt; [...] I've got specific needs and reasons to want to
&gt; &gt; accomplish this, so I'm hoping no one starts to debate the issue of
&gt; &gt; distributing an encrypted Linux system.
&gt;
&gt; Whatever your reasons can be, I believe that distributing an encrypted,
&gt; copy-protected, Linux system, would be a major infrigement of the GPL
licence.
&gt;
&gt; So you are more than probably not legally allowed to do this.
&gt;
&gt; You can encrypt _your_own_programs_and_code_ if you wish, buit you
shouldn't
&gt; distribute Linux itself in an encrypted way.
&gt;
&gt;
&gt; &gt; The question, however, is how can
&gt; &gt; I accomplish this?
&gt;
&gt; Short answer: You probably cannot.
&gt;
&gt; Because if there is to be no user-interaction (for entering a decryption
key
&gt; or password), and no machine-related lock or customization, then your
flash
&gt; card *must* contain its own decryption key, and be able to decrypt itself
&gt; entirely by itself.
&gt;
&gt; If so, anybody can easily copy the flash memory, and willl then get its
exact
&gt; copy that will run as well as the original did.
&gt;
&gt; If you want to (try to) prevent copying, you will probably need to use
custom
&gt; hardware, you can't achieve this with storing something on a standard mass
&gt; memory medium.
&gt;
&gt; Furthermore, "encryption" and "copy protection" are two rather different
&gt; topics, and this list is about encryption, not copy protection.
&gt;
&gt; Besides this, most people in the free software world will probably share
my
&gt; opinion that copy protection is *bad* (besides the fact that it doesn't
work,
&gt; and doesn't stand very long against a determined and competent opponent).
&gt;
&gt; Regards.
&gt;
&gt; --
&gt; Michel Bouissou &lt;michel@bouissou.net&gt; OpenPGP ID 0x5C2BEE8F
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020505143946</emailId><senderName>Harmon Seaver</senderName><senderEmail>hseaver@cybershamanix.com</senderEmail><timestampReceived>2002-05-05 14:39:46-0400</timestampReceived><subject>Re: Encrypting root partition</subject><body>

On Sun, May 05, 2002 at 03:14:18AM -0400, Eric Benzacar wrote:
&gt; 
&gt; I don't expect any form of encryption to be very sturdy...  But was hoping
&gt; to make it just a bit more obscure....
&gt; 
     Encryption not sturdy? Are you kidding? Not even all the NSA computers can
break any of the decent modern cyphers. You seem to be more than a bit confused
on what this is all about, maybe you need to study some basic texts on
encryption. 


-- 
Harmon Seaver	
CyberShamanix
http://www.cybershamanix.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200205051439460</emailId><senderName>Harmon Seaver</senderName><senderEmail>hseaver@cybershamanix.com</senderEmail><timestampReceived>2002-05-05 14:39:46-0400</timestampReceived><subject>Re: Encrypting root partition</subject><body>

On Sun, May 05, 2002 at 03:14:18AM -0400, Eric Benzacar wrote:
&gt; 
&gt; I don't expect any form of encryption to be very sturdy...  But was hoping
&gt; to make it just a bit more obscure....
&gt; 
     Encryption not sturdy? Are you kidding? Not even all the NSA computers can
break any of the decent modern cyphers. You seem to be more than a bit confused
on what this is all about, maybe you need to study some basic texts on
encryption. 


-- 
Harmon Seaver	
CyberShamanix
http://www.cybershamanix.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020505150456</emailId><senderName>Harmon Seaver</senderName><senderEmail>hseaver@cybershamanix.com</senderEmail><timestampReceived>2002-05-05 15:04:56-0400</timestampReceived><subject>Re: Encrypting root partition</subject><body>

   Utter nonsense. 


On Sun, May 05, 2002 at 10:51:41AM -0400, Eric Benzacar wrote:
&gt; Thanks, but I undestand encryption quite well.  Acutally helped design an
&gt; new concept algorithm here for a univeristy prof a couple of years ago.  But
&gt; I don't kidd myself.  Any and all encryption algorithms out there (no matter
&gt; how big the key) are failable.  It's all a question of finding the weakness.
&gt; Granted, if you're looking at brute force attacks, where the keys change on
&gt; a regular basis, you're up against a much tougher challenge.  Which is one
&gt; of the reasons that 128bit SSL encryption is considered secure.  But if
&gt; you're talking about the same key encrypting and decrypting the same
&gt; information over long periods of time, it doesn't take enormous amounts of
&gt; computing power to hack through.  Besides, with distributed computing
&gt; nowadays, using hundreds of thousands of processors in parallel, can you
&gt; really expect someone to believe that any encryption is secure?  Even steg
&gt; is not undetectable.  Difficult, certainly.  Infallable?  Absolutely not.
&gt; 
&gt; Eric
&gt; 
&gt; 
&gt; ----- Original Message -----
&gt; From: "Harmon Seaver" &lt;hseaver@cybershamanix.com&gt;
&gt; To: "Eric Benzacar" &lt;benze@mail-me.com&gt;
&gt; Cc: &lt;linux-crypto@nl.linux.org&gt;
&gt; Sent: Sunday, May 05, 2002 10:39 AM
&gt; Subject: Re: Encrypting root partition
&gt; 
&gt; 
&gt; &gt; On Sun, May 05, 2002 at 03:14:18AM -0400, Eric Benzacar wrote:
&gt; &gt; &gt;
&gt; &gt; &gt; I don't expect any form of encryption to be very sturdy...  But was
&gt; hoping
&gt; &gt; &gt; to make it just a bit more obscure....
&gt; &gt; &gt;
&gt; &gt;      Encryption not sturdy? Are you kidding? Not even all the NSA
&gt; computers can
&gt; &gt; break any of the decent modern cyphers. You seem to be more than a bit
&gt; confused
&gt; &gt; on what this is all about, maybe you need to study some basic texts on
&gt; &gt; encryption.
&gt; &gt;
&gt; &gt;
&gt; &gt; --
&gt; &gt; Harmon Seaver
&gt; &gt; CyberShamanix
&gt; &gt; http://www.cybershamanix.com

-- 
Harmon Seaver	
CyberShamanix
http://www.cybershamanix.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020506003558</emailId><senderName>Thomas Habets</senderName><senderEmail>thomas@habets.pp.se</senderEmail><timestampReceived>2002-05-06 00:35:58-0400</timestampReceived><subject>Re: Encrypting root partition</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Sunday 05 May 2002 16:39, Harmon Seaver wrote:
&gt; Not even all the NSA computers can break any of the decent modern cyphers.

*cough cough*

- ---------
typedef struct me_s {
  char name[]      = { "Thomas Habets" };
  char email[]     = { "thomas@habets.pp.se" };
  char kernel[]    = { "Linux 2.4" };
  char *pgpKey[]   = { "http://darkface.pp.se/~thompa/pubkey.txt" };
  char pgp[] = { "A8A3 D1DD 4AE0 8467 7FDE  0945 286A E90A AD48 E854" };
  char coolcmd[]   = { "echo '. ./_&amp;. ./_'&gt;_;. ./_" };
} me_t;
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE81c/1KGrpCq1I6FQRArArAKC+TjiClrOaTtvkfcLShYdroUL+NQCgyp2y
WnAKW5vV/fsm0fNpu7NVxFA=
=NXlG
-----END PGP SIGNATURE-----
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020506135903</emailId><senderName>Harmon Seaver</senderName><senderEmail>hseaver@cybershamanix.com</senderEmail><timestampReceived>2002-05-06 13:59:03-0400</timestampReceived><subject>Re: Encrypting root partition</subject><body>

   Okay, but I was assuming we're speaking about here and now. Show me a crack
of aes, blowfish, twofish, serpent, or the like. And yes, someday we'll have
quantum computers that will crack these cyphers, but then there will also be
quantum computers that use quantum cyphers (or just quantum sized key
lengths) that won't be crackable by quantum computers. 


On Sun, May 05, 2002 at 11:01:40PM -0500, Jay Davis wrote:
&gt; On Sunday 05 May 2002 10:04 am, Harmon Seaver wrote:
&gt; &gt;    Utter nonsense.
&gt; 
&gt; Are you kidding?  All encryption short of a one-time pad is breakable.  
&gt; Period.  End of story.  If you argue with that, you're wrong.  With current 
&gt; technology, you might not crack it before the sun goes cold, but that doesn't 
&gt; make it impossible with future leaps in processing power/new technologies.

-- 
Harmon Seaver	
CyberShamanix
http://www.cybershamanix.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020331161700</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-03-31 16:17:00-0400</timestampReceived><subject>Re: EVMS and LOOP-AES</subject><body>

"IT3 Stuart Blake Tener, USNR-R" wrote:
&gt;         I understand that their implementation is inclusive of a
&gt; "plugin" type of style for adding features. Would it be okay if I asked
&gt; them to review the code you have written to see if they could adapt it
&gt; to be a plug in for EVMS in the future (i.e. adapt loop-aes for EVMS)?
&gt; Of course, I am not sure (but I presume) that this is the sensible way
&gt; to implement a mix of these technologies.

loop-AES and cryptoapi's cryptoloop are stacking devices and they can be
used on top of EVMS or LVM just fine. No need to shoehorn them into EVMS.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020331164323</emailId><senderName>"IT3 Stuart Blake Tener, USNR-R"</senderName><senderEmail>stuart@bh90210.net</senderEmail><timestampReceived>2002-03-31 16:43:23-0400</timestampReceived><subject>RE: EVMS and LOOP-AES</subject><body>

Mr. Ruusu:

	Correct me if I am wrong, but if loop-aes were integrated into
EVMS, would that not make creating an encrypted swap quite easy?


Very Respectfully, 

Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG 
Beverly Hills, California
VTU 1904G (Volunteer Training Unit) 
stuart@bh90210.net 
west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043 
east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859 

Telecopier: (419)-715-6073 fax to email gateway via www.efax.com (it's
free!) 

JOIN THE US NAVY RESERVE, SERVE YOUR COUNTRY, AND BENEFIT FROM IT ALL. 

Sunday, March 31, 2002 8:39 AM


-----Original Message-----
From: root@monster.misty.com [mailto:root@monster.misty.com] On Behalf
Of Jari Ruusu
Sent: Sunday, March 31, 2002 8:17 AM
To: stuart@bh90210.net
Cc: linux-crypto@nl.linux.org
Subject: Re: EVMS and LOOP-AES

"IT3 Stuart Blake Tener, USNR-R" wrote:
&gt;         I understand that their implementation is inclusive of a
&gt; "plugin" type of style for adding features. Would it be okay if I
asked
&gt; them to review the code you have written to see if they could adapt it
&gt; to be a plug in for EVMS in the future (i.e. adapt loop-aes for EVMS)?
&gt; Of course, I am not sure (but I presume) that this is the sensible way
&gt; to implement a mix of these technologies.

loop-AES and cryptoapi's cryptoloop are stacking devices and they can be
used on top of EVMS or LVM just fine. No need to shoehorn them into
EVMS.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020331173305</emailId><senderName>Sean Neakums</senderName><senderEmail>sneakums@zork.net</senderEmail><timestampReceived>2002-03-31 17:33:05-0400</timestampReceived><subject>Re: EVMS and LOOP-AES</subject><body>

commence  IT3 Stuart Blake Tener, USNR-R quotation:

&gt; 	Correct me if I am wrong, but if loop-aes were integrated into
&gt; EVMS, would that not make creating an encrypted swap quite easy?

It's already about as easy as it can be.  Even if it were integrated
into EVMS, you would still have to perform the same steps: generate a
session key, pass this key to the encryption module (EVMS plugin, in
this case), do mkswap and a swapon.  You might as well therefore use
the proven volume manager-independent loop-aes or cryptoloop
solutions, rather than a new EVMS-specific encryption module.

-- 
 /////////////////  |                  | The spark of a pin
&lt;sneakums@zork.net&gt; |  (require 'gnu)  | dropping, falling feather-like.
 \\\\\\\\\\\\\\\\\  |                  | There is too much noise.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020331222436</emailId><senderName>"IT3 Stuart Blake Tener, USNR-R"</senderName><senderEmail>stuart@bh90210.net</senderEmail><timestampReceived>2002-03-31 22:24:36-0400</timestampReceived><subject>RE: EVMS and LOOP-AES</subject><body>

Mr. Neakums:

	Well my thought was that if it is implemented on the EVMS level,
then all filesystems (inclusive of swap) would be enabled for encryption
by entering a keyword once upon boot up, and it would simply the process
of building the encryption. If it was part of EVMS, EVMS would handle
it, and then a user could just make filesystems at will and all would be
encrypted.

	There in lies a second issue. For me to use DEVFS and ReiserFS I
have a problem doing so with initrd being used (it is a bug I am trying
to work through). If I can move loop-aes into the EVMS layer, then I no
longer need initrd to have an encrypted root and/or swap. Thus, I can
now use aes level encryption with ReiserFS and DEVFS and it can work.


Very Respectfully, 

Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG 
Beverly Hills, California
VTU 1904G (Volunteer Training Unit) 
stuart@bh90210.net 
west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043 
east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859 

Telecopier: (419)-715-6073 fax to email gateway via www.efax.com (it's
free!) 

JOIN THE US NAVY RESERVE, SERVE YOUR COUNTRY, AND BENEFIT FROM IT ALL. 

Sunday, March 31, 2002 2:24 PM


-----Original Message-----
From: linux-crypto-bounce@nl.linux.org
[mailto:linux-crypto-bounce@nl.linux.org] On Behalf Of Sean Neakums
Sent: Sunday, March 31, 2002 9:33 AM
To: linux-crypto@nl.linux.org
Subject: Re: EVMS and LOOP-AES

commence  IT3 Stuart Blake Tener, USNR-R quotation:

&gt; 	Correct me if I am wrong, but if loop-aes were integrated into
&gt; EVMS, would that not make creating an encrypted swap quite easy?

It's already about as easy as it can be.  Even if it were integrated
into EVMS, you would still have to perform the same steps: generate a
session key, pass this key to the encryption module (EVMS plugin, in
this case), do mkswap and a swapon.  You might as well therefore use
the proven volume manager-independent loop-aes or cryptoloop
solutions, rather than a new EVMS-specific encryption module.

-- 
 /////////////////  |                  | The spark of a pin
&lt;sneakums@zork.net&gt; |  (require 'gnu)  | dropping, falling feather-like.
 \\\\\\\\\\\\\\\\\  |                  | There is too much noise.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020401100048</emailId><senderName>"IT3 Stuart Blake Tener, USNR-R"</senderName><senderEmail>stuart@bh90210.net</senderEmail><timestampReceived>2002-04-01 10:00:48-0400</timestampReceived><subject>RE: EVMS and LOOP-AES</subject><body>

Mr. Ruusu, et al.:

	I understand that loop-aes and cryptoloop are stacking device
technologies; however, I am also trying to ferment a plan to implement
everything cohesively.

	Fair enough, I am game. I am going to try to devise a method to
make use of loop-aes, EVMS, and ReiserFS without the need for suggesting
that a new "code bureaucracy" be created for EVMS. Although I do know
that already the plan (from IBM) is to have such plug-ins, I do not
think people on the EVMS team have the experience with encryption to
write such code.

	That being said, I would presume that the first layer should be
loop-aes, then EVMS, then ReiserFS; and that my /boot partition would
need to be an unencrypted, and outside the control of EVMS.

	I am also wondering if there would be a problem keeping ReiserFS
and EVMS as modules within the initrd also?

	Does this sound plausible?

	Since one person told me that, the issue I have had with using
DEVFS is related to initrd usage over ReiserFS (I plan to test this
later this week) I am willing to forgo the need for DEVFS for the
moment, since it would be a convenience at best right now. However,
eventually it would be my desire to also include the use DEVFS into the
mix.

	One other thought is if loop-aes technology were a plug-in for
EVMS would that not make having encrypted swap a much more simple
process?


Very Respectfully, 

Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG 
Beverly Hills, California
VTU 1904G (Volunteer Training Unit) 
stuart@bh90210.net 
west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043 
east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859 

Telecopier: (419)-715-6073 fax to email gateway via www.efax.com (it's
free!) 

JOIN THE US NAVY RESERVE, SERVE YOUR COUNTRY, AND BENEFIT FROM IT ALL. 

Monday, April 01, 2002 1:56 AM



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020104184615</emailId><senderName>Roman Drahtmueller</senderName><senderEmail>draht@suse.de</senderEmail><timestampReceived>2002-01-04 18:46:15-0400</timestampReceived><subject>Re: init script which reveal passwords</subject><body>

&gt; To send the password to losetup, the script puts it in the
&gt; command line:
&gt; 	echo "$PASS1" | losetup -e "$CIPHER" -p 0 "$LOOPDEV" "$UNDERLYING"
&gt;
&gt; Any user on the same box, can see the password using 'ps' so
&gt; i considere it as a hole.

Maybe, yes. But since you claimed already that this is a _init_ script,
and since swap isn't even turned on yet, the whole issue is irrelevant
since nobody can have logged on yet. No network, no local gettys yet, just
some shell asking for a password.

That thing shouldn't be used in any other context, though.

Thanks,
Roman.
-- 
 -                                                                      -
| Roman Drahtmüller      &lt;draht@suse.de&gt; // "You don't need eyes to see, |
  SuSE GmbH - Security           Phone: //             you need vision!"
| Nürnberg, Germany     +49-911-740530 //           Maxi Jazz, Faithless |
 -                                                                      -

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021001104250</emailId><senderName>Sam Simpson</senderName><senderEmail>simpson@samsimpson.com</senderEmail><timestampReceived>2002-10-01 10:42:50-0400</timestampReceived><subject>Re: linux newbie versus Mandrake</subject><body>


Hi all,

See my comments "in text" below:

Regards,

Sam Simpson
sam@samsimpson.com
http://www.samsimpson.com/

On Tue, 1 Oct 2002, pplf wrote:

&gt; Earl wrote:
&gt; &gt; With WIN, I have SCRAMDISK and DRIVECRYPT and feel that my
&gt; &gt; confidential data is safe no matter what.
&gt;
&gt; Scramdisk (the source is free) or Drivecrypt (here, no source-code at
&gt; all!) are not secure because Windoze is not secure. And you cannot
&gt; encrypt the swap.

Neither program claims to be a panacea.  Cleaning Windows and Windows swap
are out of the scope of the program but there are perfectly owrkable
solutions (e.g. booting Win95 from a CD and mounting a Scramdisk partition
etc) to achieve as close to 100% security as possible with Windows.

Using Sami's Eraser and some custom Perl clean scripts I was pretty happy
with the security of my Win2k install....Well, as happy as I can be with
the underlying operating system coming from MS!

Of course, I'm 100% happier with Linux :)

&lt;SNIP&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021001125508</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-10-01 12:55:08-0400</timestampReceived><subject>Re: [ANNOUNCE] redhat-8.0 cryptoapi+ipsec_tunnel rpms /</subject><body>

On Mon, 2002-09-30 at 15:49, Herbert Valerio Riedel wrote:
&gt; I'm also trying to find out a _clean_ way to override the default
&gt; cipher-aes.o module shipped with rh8, in order to prepare some
&gt; 100%-performance boosting kernel-cipher-aes-i586 rpm 
&gt; (based on
&gt; http://www.ifs.tuwien.ac.at/~hvr/crypto/cipher-aes-i586-0.3.tar.gz,
&gt; which you might want to build yourself for the meantime, until I figure
&gt; out some way to rpm it...)

fyi, I've been able to upload some cipher-aes-i586 replacement rpms to 
&gt; http://www.ifs.tuwien.ac.at/~hvr/crypto/redhat-8.0/

You just have to install the one kernel-cipher-aes-i586 rpm matching
arch-wise your rh8 kernel rpm, and it'll supersede the default ansi-c
cipher-aes.o module the next time some 'modprobe cipher-aes' is
executed;

I hope my efforts with respect to rh8 packaging for making the use of
cryptoapi/cryptoloop/ipsec_tunnel easy to use are of some use to
anybody; 

I'd love to offer support like this for your favorite distributions as
well, but due to lack of time and resources this task has to be
accomplished by others - should anyone have prepared cryptoapi related
packages for their favorite distro, please contact us, so we can point
on www.kerneli.org to those packages...

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F 4142

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021002141752</emailId><senderName>pplf</senderName><senderEmail>pplf@wanadoo.fr</senderEmail><timestampReceived>2002-10-02 14:17:52-0400</timestampReceived><subject>Re: 2_linux newbie versus Mandrake</subject><body>

Earl wrote:
&gt; imagine that Linux, even with XWINDOW, is still faster than WIN XP.

My old Thinkpad is a Pentium 200 MMX / 90 MB RAM, and it runs Mandrake 
8.2 perfectly (of course, even if KDE / Gnome are installed, I prefer 
use Fluxbox or WindowMaker) with swap encryption and an encrypted 
container in my /home.

I'm not sure that XP Professional can run with its crypto EFS and the 
Luna GUI on a such laptop ;-)


&gt; Any comments on VMWARE, especially parallel port connections to
&gt; Logitech scanner?

This is off-topic on this list, but see the Mandrake hardware 
compatibility list. And VMware is not the Paradise.


&gt; If I decide to make both laptops multi-boot, I am thinking of 1 WIN
&gt; partition, 1 Mandrake encrypted partition, 1 Linux SWAP partition.  I
&gt; think it would be better for me to have things like /home, /var, /tmp,
&gt; etc. as subdirectories and not partitions.

Read the docs to understand the Linux FS style (hierarchical FS).


&gt; One important question is "plausible deniability".  pplf, does
&gt; Mandrake 9.0 allow putting certain data on still another partition
&gt; with a different password without this being apparent?

"plausible deniability" is not possible because /etc/fstab "knows" that 
some volumes are encrypted.


&gt; words, if put under pressure, can one divulge one passphrase to open
&gt; up a part of the OS without showing that there is still another
&gt; encrypted partition?

BTW, cryptography is not the 100% perfectly final solution. It is a 
fairly good protection, in some cases, but nothing more. If someone can 
access your laptop during 10 minutes, he can boot on a floopy and put a 
rootkit with a keylogger and your encryption is dead...


&gt; Do all encrypted partitions have known headers?

Good question. I don't know.


-- 
pplf - French OpenPGP page "OpenPGP en francais"
http://www.openpgp.fr.st
pplf@wanadoo.fr
"Microsoft solutions aren't solutions. They are problems" C.Casteyde

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021002172122</emailId><senderName></senderName><senderEmail>carolburk</senderEmail><timestampReceived>2002-10-02 17:21:22-0400</timestampReceived><subject>Technical Support 24/7 WOW!!!!</subject><body>

 charset="US-ASCII";
	charset="US-ASCII";
	charset="US-ASCII";

 charset="US-ASCII";
	charset="US-ASCII";
	charset="US-ASCII";

 charset="US-ASCII";
	charset="US-ASCII";
	charset="US-ASCII"
Reply-To: carolburk@yahoo.com
Date: Wed, 2 Oct 2002 13:21:24 -0400
X-Priority: 3
X-Library: Indy 9.00.10
X-Mailer: Foxmail

 http://soundp.juvio.com  Your trying to import a document into MS Exel. Your not \
succeding for 2hours. It's 2am! You need it done by morning!!! What do you do? \
http://soundp.juvio.com  Find ALL your harware and software questions ANSWERED \
anytime  day/night call a toll free number and speak to a LIVE experts!!! Sign-up at  \
http://soundp.juvio.com 


If this e-mail is unsolicited. Please exept our appology send blank answer to \
                opt-out@attbi.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021003073125</emailId><senderName>Tomas =?iso-8859-1?q?Rud=E9n?=</senderName><senderEmail>tomas@ruden.net</senderEmail><timestampReceived>2002-10-03 07:31:25-0400</timestampReceived><subject>cryptography is not the 100% perfectly final solution</subject><body>

onsdagen den 2 oktober 2002 16.17 skrev pplf:
&gt;
&gt; BTW, cryptography is not the 100% perfectly final solution. It is a
&gt; fairly good protection, in some cases, but nothing more. If someone can
&gt; access your laptop during 10 minutes, he can boot on a floopy and put a
&gt; rootkit with a keylogger and your encryption is dead...
&gt;

Yes, this is important.

I do belive you have to have a clear picture of what you want to achive with 
your encyption. Know your security-goals, and know your security-threats. I 
belive that it's important to set the security goals to a resonable level and 
then make sure that they are possible to live with. Do you need to protect 
you from:
1) "Pedestrian crackers", people that work alone with small budgets.
2) "Corporate crackers", someone with a budget and power of a corporation. For 
example a telocom corporation trying to get to know the bid of a competitor.
3) "Governmental cracker", a foreign or domestic government agency with a huge 
budget.

You also need decide: "Am I singled out for an attack in advance?".

If you belive that NSA or FBI really want to get their hands on the data on 
YOUR computer and they are carefully planning for it, I think you have a BIG 
problem and cryptography will not solve it.
If you on the other hand wants to protect yourself from the scenarion: "A 
thief steals a laptop that happens to be yours and tries to access your 
data", then you can manage it with cryptography. This may even be true if the 
thief sells the computer to a competitor to the company you work for. But I 
wouldn't count on that my data is safe from NSA even in this case.

This was some thoughts on encryption and security.

-- 
Tomas Rudén, Märsta, Sweden

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021003131507</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-10-03 13:15:07-0400</timestampReceived><subject>Announce loop-AES-v1.6h file/swap crypto package</subject><body>

loop-AES changes since previous release:
- Fixed file backed loop bug where loop thread incorrectly inherited maximum
  file size resource limit from mount process. This bug can cause data loss
  if user mounting file backed loop has maximum file size limit (ulimit -f)
  set smaller than size of loop file (2.4 and 2.5 kernels).
- loop.c-2.5.original updated with fixes from 2.5.40
- Added workaround for loop.h breakage in 2.5.40

bzip2 compressed tarball is here:

    http://loop-aes.sourceforge.net/loop-AES-v1.6h.tar.bz2
    md5sum 8f9ca4b2816e1989dd12209526492f42

PGP signature file, my public key, and fingerprint here:

    http://loop-aes.sourceforge.net/loop-AES-v1.6h.tar.bz2.sign
    http://loop-aes.sourceforge.net/PGP-public-key.asc
    1024/3A220F51 5B 4B F9 BB D3 3F 52 E9  DB 1D EB E3 24 0E A9 DD


Additional ciphers package changes since previous release:
- Added workaround for loop.h breakage in 2.5.40

bzip2 compressed tarball is here:

    http://loop-aes.sourceforge.net/ciphers-v1.0h.tar.bz2
    md5sum 71df4e5a949b58c6c10e1026e70f46a2

PGP signature file here:

    http://loop-aes.sourceforge.net/ciphers-v1.0h.tar.bz2.sign

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021003135744</emailId><senderName>Earl</senderName><senderEmail>large.files@gmx.net</senderEmail><timestampReceived>2002-10-03 13:57:44-0400</timestampReceived><subject>no more escaping now</subject><body>

Hi linux-crypto,

There is going to be a local Linux install party this weekend.
Going with the laptops and some empty HDDs.  I have some leftover 6GB,
8GB, and maybe 12GB drives from previous upgrades.

Some of the drives have all partitions removed, one still has an empty
DOS partition.  Mandrake 9.0 should be able to handle these.

Sink or swim, that is the question.

XP crashed on me today, video all screwed up, thought I would never
get it shut down correctly.  After 35 years of practice, and such
large resources how is it possible to build such junk?
 
regards, Earl newbie

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021004103844</emailId><senderName>"Udaya Kumar.R"</senderName><senderEmail>uk_ci@yahoo.com</senderEmail><timestampReceived>2002-10-04 10:38:44-0400</timestampReceived><subject>2.4.19 patch for loop.c needed !</subject><body>

Hi ,
   I had got 2.4.19 Linux Kernel. And i also got the patch-int-2.4.19.0.
But i could not find the patch for loop-[hvr/jari/aes] for 2.4.19.

Does patch-int-2.4.19.0 contains the patch for loop.c also.


TIA.
Bye and take care.
-- 
Reply To : 
perl -e 'print pack "H*","756b5f6369407961686f6f2e636f6d";'
                                       OR
                          to the above 'From' Address

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021005183103</emailId><senderName>Robert Varga</senderName><senderEmail>nite@hq.alert.sk</senderEmail><timestampReceived>2002-10-05 18:31:03-0400</timestampReceived><subject>[RFC] Possible CryptoAPI improvement</subject><body>

Hi

I wrote this directly to hvr quite some time ago, yet is seems to have
gotten lost along the route.

CryptoAPI lets you specify the amount whether or not it should use
an "atomic" implementation of a cipher. The atomic version differs from
the "normal" version in two points:
- it has to be implemented is SW
- it may not do any memory allocation which can fail

I think the API should have room for a more fine-grained specification
of atomicity. I would like to see a modification of
find_cipher_by_name(),
which would take a equivalent of GFP_* flag and return the cipher
implementation which uses specified or more contrained allocation to
work.

The scenario is this:
Let's suppose we have a filesystem which does per-file encryption.
In order to prevent loops, the entire filesystem needs to do GFP_NOFS
or stricter allocations in the write-out path. Since the writeout
path includes CryptoAPI, the filesystem has to use atomic CryptoAPI
cipher implementations.

In my mind this is a serious misfeature, since filesystems will need
to use preallocated pools for encryption, thus hindering parellelism,
and won't be able to take advantage of crypto accelerators.

Comments appreciated.

-- 
Kind regards,
Robert Varga
------------------------------------------------------------------------------
n@hq.sk                                          http://hq.sk/~nite/gpgkey.txt
      Wanna make me happy? http://www.amazon.com/o/registry/18CYK97BPGHAV

[Attachment #3 (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021006210453</emailId><senderName></senderName><senderEmail>test</senderEmail><timestampReceived>2002-10-06 21:04:53-0400</timestampReceived><subject>don't let this one pass you by!!</subject><body>

This is a multi-part message in MIME format


check this out it's worth your time, see att.

["Fw_ viaus Don't let this one pass you by!.email" (application/octet-stream)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021008180957</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-10-08 18:09:57-0400</timestampReceived><subject>Re: brute-force attacks on cryptoloop or loop-AES</subject><body>

Newsmail wrote:
&gt; what do you mean by 'Total CPU time does not increase for just one
&gt; filesystem.'?

If attacker attempts to crack one encrypted filesystem with or without -S
option, he has to:

1)  Compute passphrase hash values for every passphrase in dictionary.
2)  Try each hash for filesystem

Without -S option, attacker can use CPU cycles to compute step 1 in advance,
but that does not decrease the total amount of CPU cycles he has to spend.
-S option only time-shifts the earliest time _when_ those CPU cycles need to
be used.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021009115551</emailId><senderName>mpeti laurent kabila</senderName><senderEmail>mpeti_ka03@mail.com</senderEmail><timestampReceived>2002-10-09 11:55:51-0400</timestampReceived><subject>please kindly get back to me</subject><body>

This is a multi-part message in MIME format

REQUEST FOR URGENT BUSINESS ASSISTANCE
--------------------------------------
Your contact was availed to me by the chamber of
commerce. It was given  to me because of my diplomatic 
status as I did not disclose the actual reasons for 
which I sought your contact. But I was
assured That you are reputable and trustworthy if you
will be of assistance. 
I am Laurent Mpeti Kabila (Jnr) the second son of
Late President LAURENT DESIRE KABILA the immediate
Past president of the DEMOCRATIC REPUBLIC OF CONGO in
Africa who was murdered by his opposition through his 
personal bodyguards in his bedroom on Tuesday 16th January, 2001.
I have the privilege of being mandated by my father colleagues 
to seek your immediate and urgent co-operation to receive into
your bank account the sum of US $25m.(twenty-five million Dollars)
and some thousands carats of Diamond. 
This money and treasures was lodged in a vault with a
security firm in Europe and South-Africa.

SOURCES OF DIAMONDS AND FUND
In August 2000, my father as a defence minister and president has a 
meeting with his cabinet and armychief about the defence budget for
2000 to 2001 which was US $700m. so he directed one of his best
friend. Frederic Kibasa Maliba who was a minister of
mines and a political party leader known as the Union Sacree de, 
I=11 opposition radicale et ses allies (USORAL) to buy arms
with US $200m on 5th January 2001; for him to finalized the arm=12s
deal,
my father was murdered. f.K. Maliba (FKM) and I have decided to keep
the money with a foreigner after which he will use it to contest for
the political election. Inspite of all this we have resolved to
present your or your company for the firm to pay it into your
nominated 
account the above sum and diamonds. This transaction should be
finalized within
seven (7) working days and for your co-operation and partnership, we
have unanimously agreed that you will be entitled to 5.5% of the money
when successfully receive it in your account. The nature of your
business is not relevant to the successful execution of this
transaction what we
require is your total co-operation and commitment to ensure 100%
risk-free transaction at both ends and to protect the persons
involved in this
transaction, strict confidence and utmost secrecy is required
even after the successful conclusion of this transaction. If this
proposal is acceptable to you, kindly provide me with your personal
telephone
and fax through my E-mail box for immediate commencement of the
transaction. 
All correspondence is for the attention of my counsel:
I count on your honour to keep my secret, SECRET.
Looking forward for your urgent reply
Thanks.
Best Regards
  
MPETI L. KABILA (Jnr)
   

  

[Attachment #3 (application/octet-stream)]

</body></email><email><emailId>20021002111624</emailId><senderName>Earl</senderName><senderEmail>large.files@gmx.net</senderEmail><timestampReceived>2002-10-02 11:16:24-0400</timestampReceived><subject>2_linux newbie versus Mandrake</subject><body>

Hi linux-crypto, hi pplf, hi Sam,

Thank you for such a nice welcome in the group.

pplf has been very helpful with clear and exact help on Mandrake
encryption.  I appreciate your help very much.

Nice to meet you, Sam.  I have turned off SWAP on my XP laptop and
noticed no ill effects until now.  With 256, 512, or 1024MB memory in
todays computers, I wonder if a SWAP is not an out-dated concept from
the days when 32MB memory was mind-boggling and terribly expensive.  I
don't need 5 large pgms running simultaneously, each with mega-large
images, spreedsheets, etc.  Also today's HDDs are usually ATA-100,
CPUs Pent-4 at more than 1 GHz clock, bus 32-bits wide, so pgms load
so fast that it is no big deal to exit and reload a pgm.  And I
imagine that Linux, even with XWINDOW, is still faster than WIN XP.

This leaves the problems of TMP files, slack space, and
behind-your-back ADSL IP connections to MS and/or ??. The first two
Eraser should take care of. The last can be eliminated by making the
transition to Linux.

However, every transition is difficult.  Since I don't think I can
drop WIN from one day to the next, a transition will be necessay.
Any comments on VMWARE, especially parallel port connections to
Logitech scanner?

I have two laptops and could decide to make them both multi-boot, with
or without VMWARE, or dedicate one laptop fully to Linux. Mandrake 9.0
might even be able to network to the WIN machine and natively read
NTFS, even without SAMBA??  Comments?

If I decide to make both laptops multi-boot, I am thinking of 1 WIN
partition, 1 Mandrake encrypted partition, 1 Linux SWAP partition.  I
think it would be better for me to have things like /home, /var, /tmp,
etc. as subdirectories and not partitions.

Then if I am traveling and can only take one laptop, I have both Linux
and WIN, until the day arrives when I can totally drop WIN.

One important question is "plausible deniability".  pplf, does
Mandrake 9.0 allow putting certain data on still another partition
with a different password without this being apparent?  In other
words, if put under pressure, can one divulge one passphrase to open
up a part of the OS without showing that there is still another
encrypted partition?  Or does FIPS partition pgm show all?
Do all encrypted partitions have known headers?
Suggestions, comments?

Before you can run, you have to learn how to walk, so I thank the
group for tolerating my newbie questions.

Best regards, Earl

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021007160702</emailId><senderName>Gerhard Schneider</senderName><senderEmail>gerhard.schneider@ziplip.com</senderEmail><timestampReceived>2002-10-07 16:07:02-0400</timestampReceived><subject>brute-force attacks on cryptoloop or loop-AES</subject><body>

I have been searching the lists for any hints concerning  the high probability of \
brute-force-attaccks aginst the password of an encrypted filesystem, but did not find \
much. 

Did any thoughts about this go into the planning of cryptoapi/loop or loop-AES? 

As computing power will increase, this topic will be of more and more relevance for \
any encryption-software that uses one and the same key.

There is the -S option in loop-AES, which aims to slow down dictionary attacks. Does \
this mean the computation time for one guess inreases?

many thanks, 

Gerhard
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021007172102</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-10-07 17:21:02-0400</timestampReceived><subject>Re: brute-force attacks on cryptoloop or loop-AES</subject><body>

Gerhard Schneider wrote:
&gt; I have been searching the lists for any hints concerning the high
&gt; probability of brute-force-attaccks aginst the password of an encrypted
&gt; filesystem, but did not find much.
[snip]
&gt; There is the -S option in loop-AES, which aims to slow down dictionary
&gt; attacks. Does this mean the computation time for one guess inreases?

Total CPU time does not increase for just one filesystem.

Use of -S option just means that attacker can't start precomputing
passphrase hash values prior to knowing the seed. That slows down
*optimized* dictionary attack where hash values are only computed once in
advance.

If attacker attempts to crack 3 encrypted filesystems *without* -S option:

0)  Compute passphrase hash values for every passphrase in dictionary.
    Attacker had computed this last year so he does not need to do this now.

1)  Try each hash for filesystem #1
2)  Try each hash for filesystem #2
3)  Try each hash for filesystem #3

If attacker attempts to crack 3 encrypted filesystems *with* -S option:

1)  Compute passphrase hash values for every passphrase in dictionary.
2)  Try each hash for filesystem #1
3)  Compute passphrase hash values for every passphrase in dictionary.
4)  Try each hash for filesystem #2
5)  Compute passphrase hash values for every passphrase in dictionary.
6)  Try each hash for filesystem #3

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021008102829</emailId><senderName>Newsmail</senderName><senderEmail>newsmail@satimex.tvnet.hu</senderEmail><timestampReceived>2002-10-08 10:28:29-0400</timestampReceived><subject>Re: brute-force attacks on cryptoloop or loop-AES</subject><body>

what do you mean by 'Total CPU time does not increase for just one 
filesystem.'?
regards, greg
At 18:21 2002. 10. 07., you wrote:
&gt;Gerhard Schneider wrote:
&gt; &gt; I have been searching the lists for any hints concerning the high
&gt; &gt; probability of brute-force-attaccks aginst the password of an encrypted
&gt; &gt; filesystem, but did not find much.
&gt;[snip]
&gt; &gt; There is the -S option in loop-AES, which aims to slow down dictionary
&gt; &gt; attacks. Does this mean the computation time for one guess inreases?
&gt;
&gt;Total CPU time does not increase for just one filesystem.
&gt;
&gt;Use of -S option just means that attacker can't start precomputing
&gt;passphrase hash values prior to knowing the seed. That slows down
&gt;*optimized* dictionary attack where hash values are only computed once in
&gt;advance.
&gt;
&gt;If attacker attempts to crack 3 encrypted filesystems *without* -S option:
&gt;
&gt;0)  Compute passphrase hash values for every passphrase in dictionary.
&gt;     Attacker had computed this last year so he does not need to do this now.
&gt;
&gt;1)  Try each hash for filesystem #1
&gt;2)  Try each hash for filesystem #2
&gt;3)  Try each hash for filesystem #3
&gt;
&gt;If attacker attempts to crack 3 encrypted filesystems *with* -S option:
&gt;
&gt;1)  Compute passphrase hash values for every passphrase in dictionary.
&gt;2)  Try each hash for filesystem #1
&gt;3)  Compute passphrase hash values for every passphrase in dictionary.
&gt;4)  Try each hash for filesystem #2
&gt;5)  Compute passphrase hash values for every passphrase in dictionary.
&gt;6)  Try each hash for filesystem #3
&gt;
&gt;Regards,
&gt;Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
&gt;
&gt;-
&gt;Linux-crypto:  cryptography in and on the Linux system
&gt;Archive:       http://mail.nl.linux.org/linux-crypto/


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020301151619</emailId><senderName>Juan Quintela</senderName><senderEmail>quintela@mandrakesoft.com</senderEmail><timestampReceived>2002-03-01 15:16:19-0400</timestampReceived><subject>Re: loop-AES supported ciphers</subject><body>

&gt;&gt;&gt;&gt;&gt; "sandy" == Sandy Harris &lt;sandy@storm.ca&gt; writes:

Hi

sandy&gt; Externally loaded ciphers may also be a security weakness. 

And a good option for let people decide if they want/don't want
crypto.

Notice that this is a myth, if one atacant can change your modules, he
can also patch your binary.  When somebody has root on your machine,
the game is over :((((

sandy&gt; Then make them all compile-time options, not externally loaded.

Distributions like to let people choice what they want, if you don't
let it be modules, we are not able to give the option :(((
Notice that _size_ is very important, as there is still not PC that
can boot with anything that is not a floppy.

Notice also that you can compile modules into the kernel if you want,
that means that if they are modules, you can put they are modules or
compiled-in, as your choice, if they can only be compiled-in, you can
compiled them in, or not having them, what means less choice.

Later, Juan.

-- 
In theory, practice and theory are the same, but in practice they 
are different -- Larry McVoy
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021102150500</emailId><senderName>Christophe Zwecker</senderName><senderEmail>doc@zwecker.de</senderEmail><timestampReceived>2002-11-02 15:05:00-0400</timestampReceived><subject>im I using cryptoapi or loop-aes ?</subject><body>

Hi,

sorry but im really new to this. installed gentoo yesterday and it has
crypto support in the kernel.

I load couple modules and do stuff as in loop-aes readme. Now I just
wondered, could it be that I dont use loop-aes but cryptoapi stuff ?

I dont know wether the gentoo people inlcuded loop-aes.

How can I tell ? is loop-aes faster then cryptoapi ? which are the
advantages ?

I think ive been playing with the wrong stuff... :(

thx for clearing things up for me.

Chris
-- 
Christophe Zwecker                     mail: doc@zwecker.de
Hamburg, Germany                        fon: +49 179 3994867
http://www.zwecker.de

"Who is General Failure ?  And why is he reading my disk ??"

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021102175247</emailId><senderName>Christophe Zwecker</senderName><senderEmail>doc@zwecker.de</senderEmail><timestampReceived>2002-11-02 17:52:47-0400</timestampReceived><subject>Re: newbie: for my understanding of loop-aes</subject><body>

thx for the quick reply, yes I was inded using crypto api, I disabled
that in the kernel, got loop-aes, patched all stuf needed and it seems
to work great!

im checking with bonnie++ now to see performance. With cryptoapi I had
about 50% performance loss on the raid.

greetings

Chris

On Sat, 2002-11-02 at 18:07, Jari Ruusu wrote:

&gt; &gt; I load couple modules and do stuff as in loop-aes readme. Now I just
&gt; &gt; wondered, could it be that I dont use loop-aes but cryptoapi stuff ?
&gt; 
&gt; Yes, that seems to be the case.

&gt; 
&gt; If you want to continue using kerneli.org-cryptoapi, use their docs to set
&gt; up loop devices. If you want replace kerneli.org-cryptoapi with loop-AES,
&gt; just follow instructions in loop-AES' README file.

-- 
Christophe Zwecker                     mail: doc@zwecker.de
Hamburg, Germany                        fon: +49 179 3994867
http://www.zwecker.de

"Who is General Failure ?  And why is he reading my disk ??"

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021106151624</emailId><senderName>Jean-Luc Cooke</senderName><senderEmail>jlcooke@certainkey.com</senderEmail><timestampReceived>2002-11-06 15:16:24-0400</timestampReceived><subject>Re: CryptoAPI, loop-AES, Ext3, Wi-Fi and AES256</subject><body>

On Mon, Oct 28, 2002 at 04:37:05AM +0000, Bradley Jenkins wrote:
&gt; 4. I've replaced all instances of AES128 with AES256, it hasn't complained, 
&gt; i assume this is the way to use a 256k key?  Does anyone know what kind of 
&gt; data overhead the keysize makes?

Note of accuracy.  AEs doesn't use 256k keys.  :)  It uses 256-bit keys.

JLC

-- 
http://www.certainkey.com
Suite 4560 CTTC
1125 Colonel By Dr.
Ottawa ON, K1S 5B6
C: 613.263.2983
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021109205352</emailId><senderName></senderName><senderEmail>zmbanga</senderEmail><timestampReceived>2002-11-09 20:53:52-0400</timestampReceived><subject>CONFIDENTIAL =?ISO-8859-1?B?oEFORCCgVVJHRU5U?=</subject><body>

MR.ZANKO MBANGA( B.Sc.,M.Sc) 
Director,Project Implementation
Attn:Assistance From You.
                        
                     STRICTLY CONFIDENTIAL &amp; URGENT

I am Mr.Zanko Mbanga a native of Cape Town in South Africa and I am an Executive \
Accountant with the South African Department of Mining &amp; Natural Resources. First and \
foremost, I apologized for using this medium,to reach you for a transaction/business \
of this magnitude, but this is due to Confidentiality and prompt access reposed on \
this medium. Be informed that a member of the South African Export Promotion Council \
(SEPC) who was at the Government delegation to your country during a trade exhibition \
gave your enviable credentials/particulars to me. I have decided to seek a \
confidential co-operation with you in the execution of the deal described Here under \
for the benefit of all parties and hope you will keep it as a top secret because of \
the nature of this transaction.

Within the Department of Mining &amp; Natural Resources where I work as an Executive \
Accountant and with the co-operation of four other top officials,we have in our \
possession as over due payment bills totalling Fourteen Million, Three hundred \
Thousand US. Dollars (US$14.3million.) which we want to transfer abroad with the \
assistance and co-operation of a foreign company/individual to receive the said fund \
on our behalf or a reliable foreign non-company account to receive such funds. More \
so, we are handicapped in the circumstances, as the South African Civil Service Code \
of Conduct does not allow us to operate offshore account,hence you are important in \
the whole transaction.

This amount US$14.3m represents the balance of the total contract value executed on \
behalf of my Department by a foreign contracting firm, which we the \
officialsover-invoiced deliberately.

Though the actual contract cost have been paid to the original contractor, leaving \
the balance in the tune of the said amount which we have in principles gotten \
approval to remit by Key tested Telegraphic Transfer (K.T.T)to any foreign bank \
account you will provide,by filing in an application through the Ministry of Justice \
here in South Africa,for the transfer of rights and privileges of the former \
contractor to you.

I have the authority of my partners involved to propose that,should you be willing to \
assist us in the transaction, your share of the sum will be 30% of the US$14.3 \
million, 60% for us and 10% for taxation and miscellaneous expenses. The business \
itself is 100% safe on your part,provided you treat it with utmost secrecy and \
confidentiality. Also your area of specialization is not a hindrance to the \
successful execution of this transaction. I have reposed my confidence in you and \
hope that you will not disappoint me. Endeavor to contact me immediately through my \
e-mail address to confirm whether or not you are interested in this deal. If you are \
not, it will enable me scout for another foreign partner to carry out this deal. I \
want to assure you that my partners and myself are in a position to make the payment \
of this claim possible,provided you can give us a very strong assurance and guarantee \
that our share will be secured. Please remember to treat this matter very \
confidential , because we will not comprehend with any form of exposure,as we are \
still in active Government Service .Once again, remember that time is of greatessence \
in this transaction.Positive response should be accompanied with your telephone and \
fax number so i can reach you immediately with more imformations.I wait in \
anticipation of your fullest co-operation.

Yours faithfully,
Mr.Zanko Mbanga.

















__________________________________________________________________
The NEW Netscape 7.0 browser is now available. Upgrade now! \
http://channels.netscape.com/ns/browsers/download.jsp 

Get your own FREE, personal Netscape Mail account today at \
                http://webmail.netscape.com/
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021111145146</emailId><senderName>hakann</senderName><senderEmail>eymien@yahoo.com</senderEmail><timestampReceived>2002-11-11 14:51:46-0400</timestampReceived><subject>CryptoAPI</subject><body>

Hi
I am newly downloaded CryptoAPI and trying to install
it. After the 
'make patchkernel KDIR=&lt;kernel source dir&gt; LOOP=iv'
command I always take the following error message.

make: *** No rule to make target `patchkernel'.  Stop.

What  is the problem? 
Could you please help me.

Thanks

=====
-----------------------
....rüzgar yoksa, küreklere asil...
-----------------------

__________________________________________________
Do you Yahoo!?
U2 on LAUNCH - Exclusive greatest hits videos
http://launch.yahoo.com/u2
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021111201053</emailId><senderName>Omen Wild</senderName><senderEmail>omen.wild@dartmouth.edu</senderEmail><timestampReceived>2002-11-11 20:10:53-0400</timestampReceived><subject>Re: Auto-unmounting secure partitions</subject><body>

[Attachment #2 (multipart/mixed)]


Quoting Stephen Robert Norris &lt;srn@fn.com.au&gt; on Mon, Nov 11 09:22:
&gt;
&gt; For a workstation, I think it would be better that when the display is
&gt; locked, the filesystem is umounted. I've even got some scripts that do
&gt; it, except I don't know how to hook them into xscreensaver to make it do
&gt; it.

I have attached a script that I use to do this.  I run it from my
.xsession when I start X.  It triggers a 'ssh-add -D' and a 'sudo -k'
when the screen locks, then fires a custom script 'mssh-add' on an
unblank.  The xscreensaver-command manpage describes the -watch command
in some detail.

I like the idea of using PAM for the unblank and have toyed with the
idea of writing a module that would grab a sudo token, and try to add
my ssh keys (at least for the ones that use the same passphrase)
automatically when I unlock the screen.

Omen

-- 
This is a test of the Emergency Broadcast System.  Had this been an
actual emergency, we would have fled in terror, and you would not have
been informed.

["ssh-xscreensaver" (text/plain)]

#! /usr/bin/perl -w

use strict;

sub killall($@);
sub sig_handler($);
sub D($@);

$SIG{'TERM'} = 'sig_handler';
$SIG{'INT'} = 'sig_handler';

my $log = $ENV{'HOME'} . "/.xscreensaver.log";

my @stop = 
  (
   #"xplanetbg",
  );

my $child = open (WATCH, "/usr/bin/xscreensaver-command -watch|") or 
  die "$0: can't watch xscreensaver\n";

#print "$0: child = $child\n";

open(LOG, "&gt;&gt;$log") or
  die "$0: can't open log file '$log': $!\n";

my $blanked = 0;

while (my $line = &lt;WATCH&gt;) {
  print LOG $line or 
	die "$0: unable to print to log file: $!\n";
  if ($line =~ m/^LOCK/) {
	if (!$blanked) {
	  $blanked = 1;
	  
	  system("/usr/bin/ssh-add -D");
	  system("/usr/bin/sudo -k");
	  killall('STOP', @stop);
	}
  }
  if ($line =~ m/^UNBLANK/) {
	$blanked = 0;
	
	system($ENV{'HOME'} . "/bin/mssh-add &lt;/dev/null");
	killall('CONT', @stop);
  }
}

sub killall($@) {
  my ($signal, @programs) = @_;
  
  foreach my $program (@programs) {
	system("/usr/bin/killall -$signal $program")
  }
}

sub sig_handler($) {
  if(defined($child)) {
	print STDERR "$0: Killing watch child $child: ";
	kill(15, $child);
	waitpid($child, 0);
	print " done.\n";
  }

  exit(1);
}

sub D($@) {
  my ($level, @what) = @_;
  if(defined($ENV{'DEBUG'}) &amp;&amp; $ENV{'DEBUG'} &gt; $level) {
	print STDERR @what;
  }
}

["smime.p7s" (application/x-pkcs7-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021112074511</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-11-12 07:45:11-0400</timestampReceived><subject>Re: loop-aes and SuSE-kernel</subject><body>

Juergen Schmidt wrote:
&gt; &gt; &gt; Or do the ones patched for loop-aes work with loop-fish2?
&gt; 
&gt; &gt; Yes, they work with SuSE's loop_fish2.
&gt; 
&gt; And the file formats are compatible, i.e. loop-aes can read
&gt; loop-fish2-files and vice versa?

loop-AES package includes enhanced loop + fast AES cipher. Extra ciphers
package includes twofish, serpent and blowfish loop ciphers. For SuSE
compatibility you need both packages.

To mount SuSE loop_fish2 encrypted partition using loop-AES tools:

mount -t ext2 /dev/hda9 /mnt -o loop=/dev/loop0,encryption=twofish128,phash=rmd160,loinit=1

Above phash=rmd160 mount option tells mount to use 100% SuSE compatible
password hash and loinit=1 mount option tells loop_twofish.o kernel module
to be 100% SuSE compatible.

WARNING: loinit=1 option is very important as you won't have a second chance
if you set that wrong. Using it on non-SuSE formatted partition or file
leads to trashed file system. Not using it on SuSE formatted partition or
file leads to trashed file system.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021114070358</emailId><senderName></senderName><senderEmail>contest</senderEmail><timestampReceived>2002-11-14 07:03:58-0400</timestampReceived><subject>Please Confirm Your $10,000 Entries!</subject><body>

Please confirm the following contest entries by 
clicking the link below:

Recommend-It Spread the Word and Win $10,000 
Sweepstakes (5 Entries) Sony DVD Player Giveaway (5 Entries)

Your confirmation link is:

http://ric1.com/irec.e?2221FDB43F5

Your confirmation page will also show you how 
you can earn additional contest entries by visiting 
great Recommend-It websites!

Don't want to hear about other contests and 
promotions? Visit the link above and uncheck the 
notification box.

-------
Recommend-It, iRecommend-It and Spread the Word 
and Win are trademarks of Digital Demographics, Inc. 
All contest entries are subject to applicable 
contest rules. Visit http://iRecommend-it.com/ for more details.


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021114073143</emailId><senderName>"EZ Green Bonus"</senderName><senderEmail>mailman@powerparcel.com</senderEmail><timestampReceived>2002-11-14 07:31:43-0400</timestampReceived><subject>30 Minutes Free Access from EZ Green</subject><body>

&lt;html&gt;&lt;head&gt;&lt;title&gt;&lt;/title&gt;&lt;/head&gt; 
&lt;body 
bgcolor="#ffffff" 
text="#000000" 
alink="#0000ff" 
link="#0000ff" 
vlink="#0000ff"&gt; 
&lt;center&gt; &lt;font 
size="4" 
color="Red"&gt;Ezgreen 
Would Like to 
Offer You a Free 
30 Minute 
Preview Of One 
Our Huge Teen 
Mega 
Sites.&lt;/font&gt; 
&lt;br&gt; &lt;table 
align="center" 
cellspacing="2" 
cellpadding="2" 
border="1"&gt; &lt;tr&gt; 
 &lt;td witdh="60"&gt; 
 &lt;center&gt;  &lt;font 
size="4" 
color="orange"&gt;  
Live Sex Chat 
and Shows with 
Sound!  &lt;/font&gt;  
&lt;br&gt;  &lt;font 
size="2" 
color="red"&gt;  
Our hot amateur 
beauties just 
wanna chat and 
play  with you 
ALL DAY! These 
girls are 
willing to do  
ANYTHING YOU 
SAY! Your wish 
is their 
command!  New 
models added 
daily!  &lt;/font&gt;  
&lt;/center&gt;  &lt;/td&gt; 
 &lt;td witdh="60"&gt; 
 &lt;center&gt;  &lt;font 
size="4" 
color="orange"&gt;  
Hardcore XXX 
Pics  &lt;/font&gt;  
&lt;br&gt;  &lt;font 
size="2" 
color="red"&gt;  
Hot babes, 
lesbians,  
threesomes, gang 
bangs,  group 
sex, fetish sex, 
 This is what 
HARDCORE is all 
about.  &lt;/font&gt;  
&lt;/center&gt;  &lt;/td&gt; 
 &lt;td witdh="60"&gt; 
 &lt;center&gt;  &lt;font 
size="4" 
color="orange"&gt;  
Hardcore XXX 
Videos  &lt;/font&gt;  
&lt;br&gt;  &lt;font 
size="2" 
color="red"&gt;  
The best 
HARDCORE XXX 
video collection 
is right here  
at your 
fingertips! Our 
video archive 
includes 
thousands  of 
the hottest porn 
videos EVER SHOT 
 Movies Added 
Weekly!  &lt;/font&gt; 
 &lt;/center&gt;  
&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; 
 &lt;td 
colspan="3"&gt; 
&lt;!-- Begin 
AdultPlex.Com - 
Conf#:10 Plain 
HTML Linking 
Code * DO NOT 
EDIT THE LINK 
BELOW * --&gt; 
&lt;table border=0 
align=center 
cellpadding=0 
cellspacing=0&gt;&lt;tr&gt;&lt;td&gt;&lt;table 
border=0 
align=center 
cellpadding=0 
cellspacing=0&gt;&lt;tr&gt;&lt;td&gt;&lt;a 
href="http://clicks.adultplex.com/init.pl?mer_id=adultplex&amp;webm_id=penbon&amp;conf=10&amp;type=link&amp;dest_code=swskn" \

&gt; &lt;img 
src="http://ads.adultplex.com/fullpage/_img/teen/swskn/swskn_470X300_002_image01.jpg" \
 width=190 
height=150 
alt="Click Here 
To Signup For 
Sweet Skin" 
border=0&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;a 
href="http://clicks.adultplex.com/init.pl?mer_id=adultplex&amp;webm_id=penbon&amp;conf=10&amp;type=link&amp;dest_code=swskn" \

&gt; &lt;img 
src="http://ads.adultplex.com/fullpage/_img/teen/swskn/swskn_470X300_002_image02.jpg" \
 width=190 
height=150 
alt="Click Here 
To Signup For 
Sweet Skin" 
border=0&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;&lt;td&gt;&lt;table 
border=0 
align=center 
cellpadding=0 
cellspacing=0&gt;&lt;tr&gt;&lt;td 
valign="top"&gt;&lt;a 
href="http://clicks.adultplex.com/init.pl?mer_id=adultplex&amp;webm_id=penbon&amp;conf=10&amp;type=link&amp;dest_code=swskn" \

&gt; &lt;img 
src="http://ads.adultplex.com/fullpage/_img/teen/swskn/swskn_470X300_002_text01.gif" 
width=280 
height=88 
alt="Click Here 
To Signup For 
Sweet Skin" 
border=0&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;a 
href="http://clicks.adultplex.com/init.pl?mer_id=adultplex&amp;webm_id=penbon&amp;conf=10&amp;type=link&amp;dest_code=swskn" \

&gt; &lt;img 
src="http://ads.adultplex.com/fullpage/_img/teen/swskn/swskn_470X300_002_image03.jpg" \
 width=65 
height=109 
alt="Click Here 
To Signup For 
Sweet Skin" 
border=0&gt;&lt;a 
href="http://clicks.adultplex.com/init.pl?mer_id=adultplex&amp;webm_id=penbon&amp;conf=10&amp;type=link&amp;dest_code=swskn" \

&gt; &lt;img 
src="http://ads.adultplex.com/fullpage/_img/teen/swskn/swskn_470X300_002_text02.gif" 
width=215 
height=109 
alt="Click Here 
To Signup For 
Sweet Skin" 
border=0&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;a 
href="http://clicks.adultplex.com/init.pl?mer_id=adultplex&amp;webm_id=penbon&amp;conf=10&amp;type=link&amp;dest_code=swskn" \

&gt; &lt;img 
src="http://ads.adultplex.com/fullpage/_img/teen/swskn/swskn_470X300_002_image04.jpg" \
 width=129 
height=103 
alt="Click Here 
To Signup For 
Sweet Skin" 
border=0&gt;&lt;a 
href="http://clicks.adultplex.com/init.pl?mer_id=adultplex&amp;webm_id=penbon&amp;conf=10&amp;type=link&amp;dest_code=swskn" \

&gt; &lt;img 
src="http://ads.adultplex.com/fullpage/_img/teen/swskn/swskn_470X300_002_logo.gif" 
width=151 
height=103 
alt="Click Here 
To Signup For 
Sweet Skin" 
border=0&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt; 
&lt;!-- End 
AdultPlex.Com - 
Plain HTML 
Linking Code --&gt; 
 &lt;/td&gt; &lt;/tr&gt; 
&lt;tr&gt;  &lt;td 
colspan="3"&gt;  
&lt;center&gt;  &lt;font 
size="4" 
color="orange"&gt;  
Exclusive 
Hadcore Teen XXX 
Videos Shot Our 
Producer  
&lt;/font&gt;  &lt;br&gt;  
&lt;font size="2" 
color="red"&gt; We 
traveled all 
over the world 
to seek out some 
fresh, new faces 
for 
sweetskin.com. 
Well, we 
stumbled upon 
some of the most 
amazing and 
unseen american 
and 
INTERNATIONAL 
BEAUTIES alive! 
Now... it's all 
here for YOUR 
VIEWING 
PLEASURE! We 
introduce you to 
these "diamonds 
in the rough" 
through a series 
a videos 
including a Q &amp; 
A with the 
videographer, a 
brief biography, 
a hot &amp; steamy 
masturbation 
session, as well 
as several 
hardcore sex 
scenes performed 
right in front 
of our very 
eyes!  &lt;/font&gt;  
&lt;/center&gt;  &lt;/td&gt; 
&lt;/tr&gt; &lt;/table&gt; 
&lt;!-- &lt;p&gt;&lt;a 
href="http://204.177.92.193/party/affPP/index01.jhtml?pin=503153"&gt;International 
Users Click 
Here!&lt;/a&gt; 
&lt;p&gt;&lt;br&gt; --&gt; &lt;p&gt; 
&lt;hr size=1 
width=98%&gt; 
&lt;p&gt;&lt;br&gt; &lt;font 
face=arial 
size=1&gt; Ezgreen, 
Inc. internet 
sites may 
contain links to 
other web pages, 
advertisers, 
etcetera. These 
hyperlinks are 
not under the 
control of 
Ezgreen, 
Incorporated. 
The supplying of 
links by the 
Ezgreen internet 
web sites is for 
your convenience 
'n in no way 
should be 
translated as an 
endorsement by 
Ezgreen, Incorp. 
and its internet 
sites. As a 
subscriber you 
may receive 
notice of 
promotions by 
our sponsors. 
&lt;/font&gt;&lt;br&gt;&lt;br&gt; 
&lt;/center&gt; 
&lt;/body&gt; &lt;/html&gt; 


&lt;img src="http://in.powerparcel.com/imp/imp.fx?v=15%2e29f7B_W%2cbaW8%2f%3eO7%2f%3c%2d2 \
f%2b%2e%3f6%3e%3a6%2fBO43%2efyZV%2b%2e%3f6%3e%3a6%2fBV%3a%2f8%2c98%29%2c%2b%3d3%2dVV%3 \
e%2f%2f8VW2%3e76V%5b%5c%5ba%5bO%2f7%2b36f638%3fBV%2d%3cC%3a%3e9i86W638%3fBW9%3c1%2e10160%2e56"&gt;
                
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021115102024</emailId><senderName>"Xiong Y Yang"</senderName><senderEmail>xyang2@csc.com</senderEmail><timestampReceived>2002-11-15 10:20:24-0400</timestampReceived><subject>Re: Following up - please reply to confirm! [linux-crypto@nl.linux.org/9801]</subject><body>

                                                                                      \
                
                    "Recommend-It                                                     \
                
                    Confirmation         To:     &lt;linux-crypto@nl.linux.org&gt;          \
                
                    Bot"                 cc:                                          \
                
                    &lt;confirm-mini        Subject:     Following up - please reply to \
                confirm!                     
                    zine                 [linux-crypto@nl.linux.org/9801]             \
                
                    @recommend-it                                                     \
                
                    .com&gt;                                                             \
                
                    Sent by:                                                          \
                
                    linux-crypto-                                                     \
                
                    bounce                                                            \
                
                                                                                      \
                
                                                                                      \
                
                    14/11/02                                                          \
                
                    19:10                                                             \
                
                                                                                      \
                
                                                                                      \









  * This is the LAST confirmation we will send, please REPLY to confirm! *

We received a subscription request for Recommend-It lists several
days ago.  We sent a confirmation email to you immediately afterwards,
but have not received a reply to that message.

If you wish to receive the requested free email from us, simply REPLY to
this message and we'll activate your account immediately!

Your subscription codes are  E: linux-crypto@nl.linux.org  T: 9801

If you did not submit a subscription request several days ago, it is
possible that someone is trying to subscribe you without your permission.
In that case, you do not need to reply, and this will be the last note
you'll get from us.

Thanks for your participation and we hope to serve you soon!

Just reply to validate your subscription request!


Recommend-It
http://www.recommend-it.com/

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/




-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021118183145</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-11-18 18:31:45-0400</timestampReceived><subject>Re: are cryptoapi and loop-aes compatible</subject><body>

Christopher Schadl wrote:
&gt; On 2002.11.01 11:19 Jari Ruusu wrote:
&gt; &gt; Loop-AES and kerneli.org-cryptoapi use same on-disk format, but
&gt; &gt; userspace
&gt; &gt; tools need different options. To mount AES encrypted volumes created
&gt; &gt; with
&gt; &gt; kerneli.org-cryptoapi in loop-AES, use mount option -o phash=rmd160 or
&gt; &gt; losetup option -H rmd160, and specify cipher name as AES128, AES192 or
&gt; &gt; AES256.
&gt; 
&gt; I've been trying to access some of my old data encrypted with cryptoapi
&gt; 2.4.7.0 (compiled with the loop IV-mode patch) and while I am able to
&gt; mount the encrypted image by passing -o phash=rmd160 to mount, the data
&gt; contained on the filesystem is unreadable, no doubt due to the
&gt; differences in block-size values.  Is it possible to mount data
&gt; encrypted with cryptoapi 2.4.x.x with loop-aes by passing an 'offset'
&gt; or 'blocksize' option to mount?

I quickly looked at kerneli.org-cryptoapi-2.4.7.0 and if you specifically
did not ask (./configure --enable-iv-mode-sector) for 512-byte-IV, it
defaulted to time-bomb-IV format. Loop-AES does not read the time-bomb-IV
format.

To read your old data, I suggest you use old 2.4.7 (or whatever) kernel and
losetup that was used to create that on-disk format. Something like this:

    losetup -e aes -k 128 /dev/loop0 /dev/hda999
    mount -t ext2 /dev/loop0 /mnt
    umount /mnt
    dd if=/dev/loop0 bs=64k | aespipe -e AES128 -T | dd of=/dev/hda999 bs=64k conv=notrunc
    losetup -d /dev/loop0
    sync

Above mount and umount are required to set the soft block size to correct
value. That should convert most of the data to 512-byte-IV loop-AES format.
Only few bits of file system superblock _may_ be corrupted as is usual for
time-bomb-IV format. If it breaks, you get to keep both pieces. Care to
guess why it is called time-bomb-IV format?

Aespipe userspace program is available here:

    http://loop-aes.sourceforge.net/aespipe-v2.0a.tar.bz2
    http://loop-aes.sourceforge.net/aespipe-v2.0a.tar.bz2.sign

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021120113935</emailId><senderName>"paul okoye"</senderName><senderEmail>paul_okoye@kukamail.com</senderEmail><timestampReceived>2002-11-20 11:39:35-0400</timestampReceived><subject>20% benefit for you</subject><body>

This message is a MIME encoded email and it includes the same text in
two alternative formats.


FROM THE DESK OF PAUL OKOYE 
24 BROAD STREET LAGOS QUATERS 

I am Mr. Paul Okoye, a solicitor at law. I am the Personal attorney to M=
R. David Nico, a foreigner, who used to work with Shell Development Compa=
ny in Nigeria. Here in after, shall be referred to as my client. On the 2=
1st of April 2000, my client, his wife and their only son were involved i=
n a car accident along Shagamu express road. 

All occupants of the vehicle unfortunately lost their lives. Since then =
I have made several enquiries to locate any of my clients extended relati=
ves this has also proved unsuccessful. After these several unsuccessful a=
ttempts, I decided to trace his last name over the Internet, to locate an=
y member of his family hence I contacted you. 

I have contacted you to assist in repatriating the Assets and Capital 
valued at US$12.5million left behind by my client before they get confis=
cated or declared unserviceable by the Security Finance Firm where this h=
uge deposits were lodged. The said Security Finance Company has issued me=
 a notice to provide the Next of kin or have the account confiscated with=
in the next fourteen official working days. 

Since I have been unsuccessful in locating the relatives for over 2 year=
s now, I seek the consent to present you as the next of kin to the deceas=
ed since you have the same last names, so that the proceeds of this accou=
nt can be paid to you. Therefore, on receipt of your positive response, w=
e shall then discuss the sharing ratio and modalities for transfer. 

I have all necessary information and legal documents needed to back you =
up for claim. All I require from you is your honest cooperation to enable=
 us see this transaction through. I guarantee that this will be executed =
under a legitimate arrangement that will protect you from any breach of t=
he law. Please get in touch with me through my email:paul_1@email.ro OR p=
aul_okoye@kukamail.com
Best regards, 

Mr. Paul Okoye(Esq). 

___________________________________________________________
Kukamail.com - Free Email for the World!
Open your account here: http://www.kukamail.com

___________________________________________________________
SPONSOR MESSAGE: 
Get Email @YOURFAMILY, @YOURBUSINESS, or @YOURDOMAIN
Visit: http://www.entergroup.com today!



[Attachment #3 (text/html)]

&lt;html&gt;
&lt;body&gt;
FROM THE DESK OF PAUL OKOYE  &lt;BR&gt;
24 BROAD STREET LAGOS QUATERS  &lt;BR&gt;
 &lt;BR&gt;
I am Mr. Paul Okoye, a solicitor at law. I am the Personal attorney to MR. David \
Nico, a foreigner, who used to work with Shell Development Company in Nigeria. Here \
in after, shall be referred to as my client. On the 21st of April 2000, my client, \
his wife and their only son were involved in a car accident along Shagamu express \
road.  &lt;BR&gt;  &lt;BR&gt;
All occupants of the vehicle unfortunately lost their lives. Since then I have made \
several enquiries to locate any of my clients extended relatives this has also proved \
unsuccessful. After these several unsuccessful attempts, I decided to trace his last \
name over the Internet, to locate any member of his family hence I contacted you.  \
&lt;BR&gt;  &lt;BR&gt;
I have contacted you to assist in repatriating the Assets and Capital  &lt;BR&gt;
valued at US$12.5million left behind by my client before they get confiscated or \
declared unserviceable by the Security Finance Firm where this huge deposits were \
lodged. The said Security Finance Company has issued me a notice to provide the Next \
of kin or have the account confiscated within the next fourteen official working \
days.  &lt;BR&gt;  &lt;BR&gt;
Since I have been unsuccessful in locating the relatives for over 2 years now, I seek \
the consent to present you as the next of kin to the deceased since you have the same \
last names, so that the proceeds of this account can be paid to you. Therefore, on \
receipt of your positive response, we shall then discuss the sharing ratio and \
modalities for transfer.  &lt;BR&gt;  &lt;BR&gt;
I have all necessary information and legal documents needed to back you up for claim. \
All I require from you is your honest cooperation to enable us see this transaction \
through. I guarantee that this will be executed under a legitimate arrangement that \
will protect you from any breach of the law. Please get in touch with me through my \
&lt;A target="_blank" href="mailto:email:paul_1@email.ro"&gt;email:paul_1@email.ro&lt;/A&gt; OR \
&lt;A target="_blank" href="mailto:paul_okoye@kukamail.com"&gt;paul_okoye@kukamail.com&lt;/A&gt; \
&lt;BR&gt; Best regards,  &lt;BR&gt;
 &lt;BR&gt;
Mr. Paul Okoye(Esq).  &lt;BR&gt;
&lt;BR&gt;
___________________________________________________________&lt;BR&gt;
Kukamail.com - Free Email for the World!&lt;BR&gt;
Open your account here: &lt;A target="_blank" \
href="http://www.kukamail.com"&gt;http://www.kukamail.com&lt;/A&gt;&lt;BR&gt; &lt;BR&gt;
___________________________________________________________&lt;BR&gt;
SPONSOR MESSAGE: &lt;BR&gt;
Get Email @YOURFAMILY, @YOURBUSINESS, or @YOURDOMAIN&lt;BR&gt;
Visit: &lt;A target="_blank" \
href="http://www.entergroup.com"&gt;http://www.entergroup.com&lt;/A&gt; today!&lt;BR&gt; &lt;BR&gt;
&lt;/body&gt;
&lt;/html&gt;


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021125145603</emailId><senderName></senderName><senderEmail>info@logomedia.net</senderEmail><timestampReceived>2002-11-25 14:56:03-0400</timestampReceived><subject>Welcome to LogoMedia.net</subject><body>

Welcome to LogoMedia.net.

You have registered with these credentials:
Name: asdfafasd fdfdsfs
Email Address: linux-crypto@nl.linux.org
Password: asd53

To log into the LogoMedia website, just click this link (
http://www.logomedia.net/Login.asp?UserName=linux%2Dcrypto%40nl%2Elinux%
2Eorg ) then enter your password.



[Attachment #3 (text/html)]

&lt;!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf8"&gt;
&lt;/head&gt;&lt;body&gt;Welcome to LogoMedia.net.&lt;br&gt;
&lt;br&gt;
You have registered with these credentials:&lt;br&gt;
	Name:			asdfafasd fdfdsfs&lt;br&gt;
	Email Address:	linux-crypto@nl.linux.org&lt;br&gt;
	Password:		asd53&lt;br&gt;
&lt;br&gt;
	To log into the LogoMedia website, just click this link ( \
http://www.logomedia.net/Login.asp?UserName=linux%2Dcrypto%40nl%2Elinux%2Eorg ) then \
enter your password.&lt;br&gt; &lt;br&gt;
&lt;/body&gt;
&lt;/html&gt;


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021128212821</emailId><senderName>Stephen Mollett</senderName><senderEmail>molletts@yahoo.com</senderEmail><timestampReceived>2002-11-28 21:28:21-0400</timestampReceived><subject>Re: removal/truncation of cryptofile too easy</subject><body>

On Thursday 28 Nov 2002 11:52, Skyscraper System Administrator wrote:
&gt;     I tested losetup on a device, and it accepted the command, but
&gt;     apparently that corrupts the pt:
&gt;     $ losetup --encryption aes /dev/crypto /dev/hdc2
&gt;
&gt;     $ fdisk -l /dev/hdc2
&gt;     Disk /dev/hdc2: 255 heads, 63 sectors, 141 cylinders
&gt;     Units = cylinders of 16065 * 512 bytes
&gt;
&gt;     Disk /dev/hdc2 doesn't contain a valid partition table

/dev/hdc2 shouldn't contain a partition table anyway. hdc2 represents a 
partition within /dev/hdc, which _does_ have a PT. So fdisk -l /dev/hdc 
should give you a list of the partitions on hdc, including hdc2.

I've used cryptoloop on devices for some time with no problems, both raw 
(/dev/hdd for my LS-120 ATAPI floppy drive) and partitioned (eg. /dev/pda1 
for the first partition on my parallel-port SyQuest drive).

Stephen
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021128232836</emailId><senderName>"DESMOND STEVENS."</senderName><senderEmail>desmondsteven537@hotmail.com</senderEmail><timestampReceived>2002-11-28 23:28:36-0400</timestampReceived><subject>please kindly get back to me</subject><body>








FROM=3AMR=2E DESMOND STEVENS
E-MAIL=3Adesmondstevens537=40hotmail=2Ecom 
 

                     URGENT ASSISTANCE=2E 
YOU MAY BE SURPRISED TO RECEIVE THIS LETTER FROM ME SINCE YOU DO NOT KNOW ME \
PERSONALLY=2E I AM MR=2EDESMOND STEVENS=2C THE FIRST SON OF DR=2E DENNIS STEVENS=2C \
WHO WAS RECENTLY MURDERED IN THE LAND DISPUTE IN ZIMBABWE=2E I WAS FURNISHED WITH \
VIABLE INFORMATION FROM THE WORLD TRADE CENTRE HERE IN AMSTERDAM=2C THE NETHERLANDS \
AND DECIDED TO WRITE YOU=2E  BEFORE THE DEATH OF MY FATHER=2C HE HAD TAKEN ME TO \
AMSTERDAM TO DEPOSIT THE SUM OF TEN MILLION=2CFIVE HUNDRED THOUSAND UNITED STATES \
DOLLARS =28US$10=2C500=2C000=29 IN A SECURITY COMPANY=2C AS IF HE FORESAW THE LOOMING \
DANGER IN ZIMBABWE=2E THIS MONEY WAS DEPOSITED IN A BOX AS GEMSTONES TO AVOID MUCH \
DEMURRAGE FROM THE SECURITY COMPANY=2E THIS AMOUNT WAS MEANT FOR THE PURCHASE OF NEW \
MACHINES AND CHEMICALS FOR THE FARMS AND ESTABLISHMENT OF NEW FARM IN SWAZILAND=2E \
THIS LAND PROBLEM CAME WHEN ZIMBABWE PRESIDENT MR=2E ROBERT MUGABE=2C INTRODUCED A \
NEW LAND ACT THAT WHOLLY AFFECTED RICH WHITE FARMERS AND SOME FEW BLACK FARMERS=2E \
THIS RESULTED TO THE KILLING AND MOB ACTION BY ZIMBABWE WAR VETERANS AND SOME \
LUNATICS IN THE SOCIETY=2E INFACT=2C A LOT OF PEOPLE WERE KILLED BECAUSE OF THIS LAND \
REFORM ACT OF WHICH MY FATHER WAS ONE OF THE VICTIMS=2E IT IS AGAINST THIS BACKGROUND \
THAT MY FAMILY AND I WHO ARE CURRENTLY STAYING IN AMSTERDAM DECIDED TO TRANSFER MY \
FATHER=92S MONEY TO A FOREIGN ACCOUNT=2E SINCE THE LAW OF THE NETHERLANDS PROHIBIT A \
REFUGEE =28ASYLUM SEEKER=29 TO OPEN ANY ACCOUNT OR TO BE INVOLVED IN ANY FINANCIAL \
TRANSACTION=2E  AS THE ELDEST SON OF MY FATHER=2C I AM SADDLED WITH THE \
RESPONSIBILITY OF SEEKING A GENUINE FOREIGN ACCOUNT WHERE THIS MONEY COULD BE \
TRANSFERRED WITHOUT THE KNOWLEDGE OF MY GOVERNMENT WHO ARE BENT ON TAKING EVERYTHING \
WE HAVE GOT=2E I AM FACED WITH THE DILEMMA OF INVESTING THIS AMOUNT OF MONEY IN THE \
NETHERLANDS FOR THE FEAR OF GOING THROUGH THE SAME EXPERIENCE IN FUTURE SINCE BOTH \
COUNTRIES HAVE SIMILAR HISTORY=2E MOREOVER=2C THE NETHERLANDS FOREIGN EXCHANGE POLICY \
DOES NOT ALLOW SUCH INVESTMENT FROM ASYLUM SEEKERS=2E AS A BUSINESSMAN=2C WHOM I HAVE \
ENTRUSTED MY FUTURE AND MY FAMILY IN HIS HANDS=2C I MUST LET YOU KNOW THAT THIS \
TRANSACTION IS RISK FREE=2E IF YOU ACCEPT TO ASSIST ME AND MY FAMILY=2C ALL I NEED \
YOU TO DO FOR ME IS TO MAKE ARRANGEMENT AND COME TO AMSTERDAM=2C THE NETHERLANDS SO \
THAT YOU CAN OPEN THE NON-RESIDENT ACCOUNT WHICH WILL AID US IN TRANSFERRING THE \
MONEY INTO ANY ACCOUNT YOU WILL NOMINATE OVERSEAS=2E THIS MONEY I INTEND TO USE FOR \
INVESTMENT=2E I HAVE OPTIONS TO OFFER YOU=2C FIRST YOU CAN CHOOSE TO HAVE CERTAIN \
PERCENTAGE OF THE MONEY FOR NOMINATING YOUR ACCOUNT FOR THE TRANSACTION=2C OR YOU CAN \
GO INTO PARTNERSHIP WITH ME FOR A PROPER PROFITABLE INVESTMENT OF THE MONEY IN YOUR \
COUNTRY=2E WHICHEVER OPTION YOU CHOOSE=2C FEEL FREE TO NOTIFY ME=2E I HAVE MAPPED OUT \
5% OF THIS MONEY FOR ALL EXPENSES INCURRED IN PROCESSING THIS TRANSACTION=2E IF YOU \
DO NOT PREFER A PARTNERSHIP=2C I AM WILLING TO GIVE YOU 25% OF THE MONEY WHILE THE \
REMAINING 70% THAT IS MEANT FOR ME=2C WILL BE FOR THE INVESTMENT IN YOUR COUNTRY=2E  \
PLEASE=2C CONTACT ME WITH THE ABOVE TELEPHONE AND E-MAIL ADDRESS=2C WHILE I IMPLORE \
YOU TO MAINTAIN THE ABSOLUTE SECRECY REQUIRED IN THE TRANSACTION=2E  YOURS \
FAITHFULLY=2C  DESMOND STEVENS=2E 


</body></email><email><emailId>20021110205955</emailId><senderName>Mark Charsley</senderName><senderEmail>linux.crypto@charsley.com</senderEmail><timestampReceived>2002-11-10 20:59:55-0400</timestampReceived><subject>Auto-unmounting secure partitions</subject><body>

I've got a encrypted partition set up under /secure. I'd like the 
partition to be unmounted after no-ones used it for, say, 30 minutes. I'm 
guessing that there are already tools available to do this, so in order of 
preference, can people advise me
- which fstab/mount option to use
- which command line tool to use
- which command line tool will tell me whether any process has a file open 
under /secure and/or /dev/hdb6 (so I can write a script to run under cron)
- which API call to make in order to tell whether any process has a file 
open under /secure and/or /dev/hdb6 (so I can write an executable to run 
under cron)

Many TIA

Mark
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021110163403</emailId><senderName>Juergen Schmidt</senderName><senderEmail>ju@ct.heise.de</senderEmail><timestampReceived>2002-11-10 16:34:03-0400</timestampReceived><subject>loop-aes and SuSE-kernel</subject><body>

Hello,

is there a way, to get loop-aes to work with standard SuSE kernels?

On my experiments it compiles (with a lot of rejects in the ignore
section though), but refuses to load loop.o:

./loop.o: init_module: Input/output error

This was with 2.4.10-4GB from a SuSE 7.3. I suppose, this is due to the
fact, that SuSE included their own loop extensions.

BTW: Do the mount/losetup tools of SuSE work with loop-aes ? Or do the
ones patched for loop-aes work with loop-fish2?

thanks, ju

PS:Please CC answers to me, as I have not subscribed to the list.

-- 
Juergen Schmidt   Leitender Redakteur/senior editor  c't magazin
Verlag Heinz Heise GmbH &amp; Co KG, Helstorferstr. 7, D-30625 Hannover
EMail: ju@ct.heise.de - Tel.: +49 511 5352 300 - FAX: +49 511 5352 417
PGP-Key available

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021111181848</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-11-11 18:18:48-0400</timestampReceived><subject>Re: loop-aes and SuSE-kernel</subject><body>

Juergen Schmidt wrote:
&gt; is there a way, to get loop-aes to work with standard SuSE kernels?
&gt; 
&gt; On my experiments it compiles (with a lot of rejects in the ignore
&gt; section though), but refuses to load loop.o:
&gt; 
&gt; ./loop.o: init_module: Input/output error

Most likely this also results in "Unable to get major number 7 for loop"
kernel error message, viewable using dmesg.

Above means that your kernel already has initialized loop driver in kernel.
To use loop-AES' externally compiled module, you must disable loop driver in
your kernel by recompiling your kernel with CONFIG_BLK_DEV_LOOP=n.

&gt; This was with 2.4.10-4GB from a SuSE 7.3. I suppose, this is due to the
&gt; fact, that SuSE included their own loop extensions.

loop-AES' loop.o provides many bug fixes not available in SuSE kernel loop,
so you are better off replacing that buggy code.

&gt; BTW: Do the mount/losetup tools of SuSE work with loop-aes ?

Should work OK, but with different command line syntax. Many features won't
be available in SuSE mount/losetup/swapon.

&gt; Or do the ones patched for loop-aes work with loop-fish2?

Yes, they work with SuSE's loop_fish2. Twofish loop module from
http://loop-aes.sourceforge.net/ciphers-v1.0h.tar.bz2 can be used in SuSE
compatible mode but with better interactive response than SuSE's loop_fish2.
That code has preemption points so kernel cipher code won't hog all
available CPU cycles.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021114191021</emailId><senderName>"Recommend-It Confirmation Bot"</senderName><senderEmail>confirm-minizine@recommend-it.com</senderEmail><timestampReceived>2002-11-14 19:10:21-0400</timestampReceived><subject>Following up - please reply to confirm! [linux-crypto@nl.linux.org/9801]</subject><body>

  * This is the LAST confirmation we will send, please REPLY to confirm! *

We received a subscription request for Recommend-It lists several
days ago.  We sent a confirmation email to you immediately afterwards,
but have not received a reply to that message.

If you wish to receive the requested free email from us, simply REPLY to
this message and we'll activate your account immediately!

Your subscription codes are  E: linux-crypto@nl.linux.org  T: 9801

If you did not submit a subscription request several days ago, it is
possible that someone is trying to subscribe you without your permission.
In that case, you do not need to reply, and this will be the last note
you'll get from us.

Thanks for your participation and we hope to serve you soon!

Just reply to validate your subscription request!


Recommend-It
http://www.recommend-it.com/

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021101071841</emailId><senderName>Tom Vier</senderName><senderEmail>tmv@comcast.net</senderEmail><timestampReceived>2002-11-01 07:18:41-0400</timestampReceived><subject>are cryptoapi and loop-aes compatible</subject><body>

or did i just forget my passphrase? what about the stuff in 2.5? is it
compatable with the other loopback crypto implementations?

-- 
Tom Vier &lt;tmv@comcast.net&gt;
DSA Key ID 0xE6CB97DA
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021128115210</emailId><senderName>Skyscraper System Administrator</senderName><senderEmail>bjdouma@xs4all.nl</senderEmail><timestampReceived>2002-11-28 11:52:10-0400</timestampReceived><subject>removal/truncation of cryptofile too easy</subject><body>

Good morning,

I've been fiddling a bit with cryptoapi and cryptoloop.
I had thought cryptoapi would work straight on a regular filesystem,
but apparently you have to use cryptoloop and therefore a large
cryptofile (*Note: see below)

Never mind that -- it doesn't look unelegant either.  And _very_ easy
to get operational.

What I was wondering though.
I can change attributes of files on the crypto filesystem (i.e. 'within'
cryptofile) with 'chattr'. However, when the filesystem is unmounted
and detached, I can just with a few keypresses remove or truncate the   
cryptofile, attributes or no attributes.

Ok, removal can be prevented by chattr +i on its parent directory, but  
that still doesn't prevent me or anybody else from doing &gt;cryptofile.

The point is that removal or truncation in this case would disregard
settings of individual files within the cryptofile.

Wouldn't it be a nice extra dimension to the security we want, if
removal
or truncation of cryptofile would also fall under the password
restriction.

This is probably too far off for cryptoloop.  However, cryptofile is a
'special file', treated specially by losetup and mount.  In fact, these
programs are patched to enable us to treat this file specially.
So how about taking that just a little step further.

How about having either losetup or mount making an effort to respect any
possible attributes within the cryptofile.  Such that when unmounting or
detaching the cryptofile, umount or losetup will automatically set an
attribute on the cryptofile if one or more files or directories within 
cryptofile were found to have that attribute.

Any thoughts?

BJ


    (*Note:
    I tested losetup on a device, and it accepted the command, but
    apparently that corrupts the pt:
    $ losetup --encryption aes /dev/crypto /dev/hdc2

    $ fdisk -l /dev/hdc2
    Disk /dev/hdc2: 255 heads, 63 sectors, 141 cylinders
    Units = cylinders of 16065 * 512 bytes

    Disk /dev/hdc2 doesn't contain a valid partition table
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021128131726</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-11-28 13:17:26-0400</timestampReceived><subject>Re: removal/truncation of cryptofile too easy</subject><body>

On Thu, 2002-11-28 at 12:52, Skyscraper System Administrator wrote:

&gt; What I was wondering though.
&gt; I can change attributes of files on the crypto filesystem (i.e. 'within'
&gt; cryptofile) with 'chattr'. However, when the filesystem is unmounted
&gt; and detached, I can just with a few keypresses remove or truncate the   
&gt; cryptofile, attributes or no attributes.
not if the loopimage is only accessible by root (or some other account
you regard as being privileged wrt to that loopimage); then you'd have
to acquire root accesss; 

but keep in mind, encryption is only meant to keep people from
decrypting your data, not for keeping them from damaging/modifying it; 
if you need protection against unnoticed modification (-&gt; data
integrity) you'll have to use signatures; and I've you want to keep them
from damaging data, you need proper authorization schemes

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F 4142

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021101111930</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-11-01 11:19:30-0400</timestampReceived><subject>Re: are cryptoapi and loop-aes compatible</subject><body>

Tom Vier wrote:
&gt; or did i just forget my passphrase? what about the stuff in 2.5? is it
&gt; compatable with the other loopback crypto implementations?

Loop-AES and kerneli.org-cryptoapi use same on-disk format, but userspace
tools need different options. To mount AES encrypted volumes created with
kerneli.org-cryptoapi in loop-AES, use mount option -o phash=rmd160 or
losetup option -H rmd160, and specify cipher name as AES128, AES192 or
AES256.

Mandrake kernel AES on-disk format and userspace command options are 100%
compatible with loop-AES.

SuSE kernel twofish uses different on-disk format. Twofish loop cipher
module in loop-AES' ciphers add-on package is compatible with SuSE kernel
twofish if appropriate options are given to mount or losetup.

Kernel 2.5/2.6 on-disk formats are same as before.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021117225258</emailId><senderName>Christopher Schadl</senderName><senderEmail>cschadl@satan.org.uk</senderEmail><timestampReceived>2002-11-17 22:52:58-0400</timestampReceived><subject>Re: are cryptoapi and loop-aes compatible</subject><body>


On 2002.11.01 11:19 Jari Ruusu wrote:
&gt; Tom Vier wrote:
&gt; &gt; or did i just forget my passphrase? what about the stuff in 2.5? is
&gt; it
&gt; &gt; compatable with the other loopback crypto implementations?
&gt; 
&gt; Loop-AES and kerneli.org-cryptoapi use same on-disk format, but
&gt; userspace
&gt; tools need different options. To mount AES encrypted volumes created
&gt; with
&gt; kerneli.org-cryptoapi in loop-AES, use mount option -o phash=rmd160 or
&gt; losetup option -H rmd160, and specify cipher name as AES128, AES192 or
&gt; AES256.

I've been trying to access some of my old data encrypted with cryptoapi 
2.4.7.0 (compiled with the loop IV-mode patch) and while I am able to 
mount the encrypted image by passing -o phash=rmd160 to mount, the data 
contained on the filesystem is unreadable, no doubt due to the 
differences in block-size values.  Is it possible to mount data 
encrypted with cryptoapi 2.4.x.x with loop-aes by passing an 'offset' 
or 'blocksize' option to mount?
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021115040659</emailId><senderName>Richard Devendra Gopaul</senderName><senderEmail>rgopaul@wam.umd.edu</senderEmail><timestampReceived>2002-11-15 04:06:59-0400</timestampReceived><subject>Re: Following up - please reply to confirm! [linux-crypto@nl.linux.org/9801]</subject><body>



rgopaul@wam.umd.edu

On 14 Nov 2002, Recommend-It Confirmation Bot wrote:

&gt;   * This is the LAST confirmation we will send, please REPLY to confirm! *
&gt; 
&gt; We received a subscription request for Recommend-It lists several
&gt; days ago.  We sent a confirmation email to you immediately afterwards,
&gt; but have not received a reply to that message.
&gt; 
&gt; If you wish to receive the requested free email from us, simply REPLY to
&gt; this message and we'll activate your account immediately!
&gt; 
&gt; Your subscription codes are  E: linux-crypto@nl.linux.org  T: 9801
&gt; 
&gt; If you did not submit a subscription request several days ago, it is
&gt; possible that someone is trying to subscribe you without your permission.
&gt; In that case, you do not need to reply, and this will be the last note
&gt; you'll get from us.
&gt; 
&gt; Thanks for your participation and we hope to serve you soon!
&gt; 
&gt; Just reply to validate your subscription request!
&gt; 
&gt; 
&gt; Recommend-It
&gt; http://www.recommend-it.com/
&gt; 
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
&gt; 
&gt; 

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021115041933</emailId><senderName>Jon Masters</senderName><senderEmail>jonathan@jonmasters.org</senderEmail><timestampReceived>2002-11-15 04:19:33-0400</timestampReceived><subject>Re: Following up - please reply to confirm! [linux-crypto@nl.linux.org/9801]</subject><body>

Hi,

...but seriously, why sign linux-crypto up to that list?

Jon.

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021111220456</emailId><senderName>Juergen Schmidt</senderName><senderEmail>ju@ct.heise.de</senderEmail><timestampReceived>2002-11-11 22:04:56-0400</timestampReceived><subject>Re: loop-aes and SuSE-kernel</subject><body>



&gt; Above means that your kernel already has initialized loop driver in kernel.
&gt; To use loop-AES' externally compiled module, you must disable loop driver in
&gt; your kernel by recompiling your kernel with CONFIG_BLK_DEV_LOOP=n.

Yes, I checked this: SuSE has the loop driver compiled into the kernel by
default :-(

&gt; &gt; Or do the ones patched for loop-aes work with loop-fish2?

&gt; Yes, they work with SuSE's loop_fish2.

And the file formats are compatible, i.e. loop-aes can read
loop-fish2-files and vice versa?

thanks for your prompt response, ju

BTW: I really like the ease of use of loop-aes...

-- 
Juergen Schmidt   Leitender Redakteur/senior editor  c't magazin
Verlag Heinz Heise GmbH &amp; Co KG, Helstorferstr. 7, D-30625 Hannover
EMail: ju@ct.heise.de - Tel.: +49 511 5352 300 - FAX: +49 511 5352 417
PGP-Key available

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021110222200</emailId><senderName>Stephen Robert Norris</senderName><senderEmail>srn@fn.com.au</senderEmail><timestampReceived>2002-11-10 22:22:00-0400</timestampReceived><subject>Re: Auto-unmounting secure partitions</subject><body>

On Mon, 2002-11-11 at 08:05, Mark Charsley wrote:
&gt; I've got a encrypted partition set up under /secure. I'd like the 
&gt; partition to be unmounted after no-ones used it for, say, 30 minutes. I'm 
&gt; guessing that there are already tools available to do this, so in order of 
&gt; preference, can people advise me

I've been thinking about this too. I think it would be better to have
the screen lock do the umounting, for reasons which may become clear.

&gt; - which fstab/mount option to use
&gt; - which command line tool to use
&gt; - which command line tool will tell me whether any process has a file open 
&gt; under /secure and/or /dev/hdb6 (so I can write a script to run under cron)

/sbin/fuser -m /secure will do the trick. What it will show, though, is
that all sorts of things end up holding files and directories open more
or less at random.

&gt; - which API call to make in order to tell whether any process has a file 
&gt; open under /secure and/or /dev/hdb6 (so I can write an executable to run 
&gt; under cron)

For a workstation, I think it would be better that when the display is
locked, the filesystem is umounted. I've even got some scripts that do
it, except I don't know how to hook them into xscreensaver to make it do
it.

fuser also takes a -k option to cause it to kill all the processes using
the file(s), which I use before umounting.

	Stephen

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021110223911</emailId><senderName>"W. Michael Petullo"</senderName><senderEmail>mike@flyn.org</senderEmail><timestampReceived>2002-11-10 22:39:11-0400</timestampReceived><subject>Re: Auto-unmounting secure partitions</subject><body>

&gt; &gt; I've got a encrypted partition set up under /secure. I'd like the 
&gt; &gt; partition to be unmounted after no-ones used it for, say, 30 minutes. I'm 
&gt; &gt; guessing that there are already tools available to do this, so in order of 
&gt; &gt; preference, can people advise me
&gt; 
&gt; I've been thinking about this too. I think it would be better to have
&gt; the screen lock do the umounting, for reasons which may become clear.
&gt; 
&gt; &gt; - which fstab/mount option to use
&gt; &gt; - which command line tool to use
&gt; &gt; - which command line tool will tell me whether any process has a file open 
&gt; &gt; under /secure and/or /dev/hdb6 (so I can write a script to run under cron)
&gt; 
&gt; /sbin/fuser -m /secure will do the trick. What it will show, though, is
&gt; that all sorts of things end up holding files and directories open more
&gt; or less at random.
&gt; 
&gt; &gt; - which API call to make in order to tell whether any process has a file 
&gt; &gt; open under /secure and/or /dev/hdb6 (so I can write an executable to run 
&gt; &gt; under cron)
&gt; 
&gt; For a workstation, I think it would be better that when the display is
&gt; locked, the filesystem is umounted. I've even got some scripts that do
&gt; it, except I don't know how to hook them into xscreensaver to make it do
&gt; it.
&gt; 
&gt; fuser also takes a -k option to cause it to kill all the processes using
&gt; the file(s), which I use before umounting.

I use my pam_mount modules to tie mounting and unmounting encrypted
filesystems to logging in and logging out.  XScreenSaver seems to support
PAM, so I guess it could be configured to use pam_mount to re-mount your
secure filesystem when you enter a password to unlock your screen.
Perhaps a hook could be added to XScreenSaver to unmount your filesystem
when the screensaver pops up.

Problem of open files remains, though.

Pam_mount is available at http://www.flyn.org.

-- 
Mike

:wq
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021111051702</emailId><senderName>Harmon Seaver</senderName><senderEmail>hseaver@cybershamanix.com</senderEmail><timestampReceived>2002-11-11 05:17:02-0400</timestampReceived><subject>Re: Auto-unmounting secure partitions</subject><body>


  Try using autofs. You can have it set up so that it doesn't even show in a
directory listing, then when you cd to it, it automagically mounts, then
unmounts after you've left it. 
  Like have in your /etc/auto.misc
 crypt		 -fstype=reiserfs	 :/dev/loop0

and in your /etc/auto.master 

/misc	/etc/auto.misc	--timeout=60

Of course you have to already have run losesetup. "crypt" will be a dir in /misc
but anyone not having permissions won't even be able to see any dir there. 



On Sun, Nov 10, 2002 at 09:05:00PM +0000, Mark Charsley wrote:
&gt; I've got a encrypted partition set up under /secure. I'd like the 
&gt; partition to be unmounted after no-ones used it for, say, 30 minutes. I'm 
&gt; guessing that there are already tools available to do this, so in order of 
&gt; preference, can people advise me
&gt; - which fstab/mount option to use
&gt; - which command line tool to use
&gt; - which command line tool will tell me whether any process has a file open 
&gt; under /secure and/or /dev/hdb6 (so I can write a script to run under cron)
&gt; - which API call to make in order to tell whether any process has a file 
&gt; open under /secure and/or /dev/hdb6 (so I can write an executable to run 
&gt; under cron)
&gt; 
&gt; Many TIA
&gt; 
&gt; Mark
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/

-- 
Harmon Seaver	
CyberShamanix
http://www.cybershamanix.com

"War is just a racket ... something that is not what it seems to the
majority of people. Only a small group knows what its about. It is
conducted for the benefit of the very few at the expense of the
masses."  --- Major General Smedley Butler, 1933

"Our overriding purpose, from the beginning through to the present
day, has been world domination - that is, to build and maintain the
capacity to coerce everybody else on the planet: nonviolently, if
possible, and violently, if necessary. But the purpose of US foreign
policy of domination is not just to make the rest of the world jump
through hoops; the purpose is to faciliate our exploitation of
resources."
- Ramsey Clark, former US Attorney General
http://www.thesunmagazine.org/bully.html
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021111143932</emailId><senderName>"W. Michael Petullo"</senderName><senderEmail>mike@flyn.org</senderEmail><timestampReceived>2002-11-11 14:39:32-0400</timestampReceived><subject>Re: Auto-unmounting secure partitions</subject><body>

&gt;&gt;&gt;&gt; I've got a encrypted partition set up under /secure. I'd like the 
&gt;&gt;&gt;&gt; partition to be unmounted after no-ones used it for, say, 30 minutes.

[...]
 
&gt;&gt;&gt; Of course you have to already have run losesetup. "crypt" will be a
&gt;&gt;&gt; dir in /misc but anyone not having permissions won't even be able to
&gt;&gt;&gt; see any dir there.
 
[...]
 
&gt;&gt; I don't get this.  If you've already provided an encryption key to
&gt;&gt; losetup, isn't the filesystem as good as mounted?  It seems to me that
&gt;&gt; at that point encryption is no more secure than filesystem permissions.
 
&gt;&gt; What are you using encryption to protect against?  What is the point
&gt;&gt; of using encryption if the filesystem is always unlocked and sitting
&gt;&gt; in /dev/loop (even if only root has access)?
 
&gt;     Simply that it's invisible unless in use. But there isn't any security in
&gt; any other method of auto mounting/unmounting either. If you have a script
&gt; providing the passwd to losetup, where's the security?
&gt;     As far as I'm concerned, you don't have any security unless you're using a
&gt; long passphrase contained on a usb or pcmica drive which you keep in your
&gt; pocket, and which runs a script to losetup and mount the encrypted partition,
&gt; then unmounts it when the usb device is removed.

Again, I think a properly designed system can easily be more secure.
As I mentioned, pam_mount can mount encrypted filesystems when a user logs
in and unmount them when a user logs out using the login authentication.
Assuming a good authentication technique (ie: a physical token containing
a maximum-entropy 256-bit key or maybe a good, long passphrase) and
carefully audited software, this architecture can be made pretty secure.

As I mentioned before unmounting and mounting could easily be tied to
XScreenSaver for increased protection.

-- 
Mike

:wq
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021009221028</emailId><senderName></senderName><senderEmail>silviaseidel@bluewin.ch</senderEmail><timestampReceived>2002-10-09 22:10:28-0400</timestampReceived><subject>Wichtig</subject><body>

Jemand der Dich sehr gut kennt wuerde gern ein Treffen mit Dir haben. Die Person traut sich jedoch nicht
Dich direkt anzusprechen.

Sie hat deshalb unseren Service in Anspruch genommen und bei uns eine persoenliche
Anzeige hinterlassen.

Wenn Du wissen willst wer Dich treffen moechte gehe auf diese Seite:

http://realkontakt.sub4me.org

Gehe in den geschlossenen Bereich und waehle dort die Seite:

real0811

Du kannst dann sehen wer Dich so sehr mag und entscheiden ob Du Kontakt aufnehmen
willst oder nicht.

Service Real Kontakt
Silvia Seidel

4920zsDy0-980aWyc2272sfRj3-375KTIz7673ajOi9-818bXeL5589sGbR1-297aGobl64
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021010233642</emailId><senderName></senderName><senderEmail>csszcodx</senderEmail><timestampReceived>2002-10-10 23:36:42-0400</timestampReceived><subject>12 main items ( CCC-1 )</subject><body>

THE GATOSON (HOLDINGS) LIMITED 

E-mail   :  csszcodx@public.wh.hb.cn    


Our Ref.: 12 main items (CCC-1)            11th Oct. 2002


Dear Sir,

We can get the follow good quality products which made 
in China at the SPECIAL LOWEST PRICES.

If you are interested them, kindly contact us by return 
e-mail, we will inform you our WEBSITE for them by e-mail
immed., you can visit our website and let us your instructions.
ANY OTHER INQUIRIES ARE WELCOME.

Thanks again for your kindly assistance and 
waiting for your instructions.

Best Regards
THE GATOSON (HOLDINGS) LTD.
Alex Cheng
General Manager



  
A     wearing and accouterment
A01   man garment
A02   lady garment
A03   children garment
A04   silk dress
A05   leather/fur dress

A06   knitting dress
A07   full dress
A08   sportswear and leisurewear
A09   uniform
A10   underwear and nightwear
A11   accouterment and accessories
A12   shoes
A13   others




B     electricity &amp; electronic product
B01   electronic appliance for kitchen
B02   telephone
B03   computer
B04   television set
B05   air conditioning
B06   audio and video facility
B07   sanitary products
B08   washing machine 
B09   water fountain
B10   VCD/DVD player
B11   refrigerator
B12   water heater
B13   mobile phone
B14   digital products
B15   others



 C     machinery and equipment
C01   food, beverage &amp; tobacco machine
C02   foodstuff machine
C03   dyeing machine for textile
C04   sewing machine for dress
C05   leather/shoes machine 
C06   paper machine
C07   paper products machine
C08   press machine/equipment
C09   Medical equipments
C10   envir.pro.machinery/equipment
C11   chemical machinery/equipment
C12   construction machinery/equipment
C13   engineering machinery
C14   electronic/electrical machinery
C15   others



D     vehicle
D01   sanitation truck series 
D02   traveling bus
D03   passenger car
D04   agricultural vehicles
D05   carring truck
D06   saloon car 
D07   mini bus
D08   bus
D09   motorcycle
D10   bicycle
D11   fire truck series 

D12   cement tanker
D13   concrete mixing truck
D14   drumper
D15   others





E     ship and spare parts
E01   yacht and speed boat
E02   oil tanker
E03   cargo vessel
E04   submarine vessel
E05   passenger vessel
E06   battery boat
E07   rowing boat
E08   treading boat
E09   fishing boat
E10   special vessel
E11   others





F     sports products 
F01   ball
F02   ski and skate shoes
F03   gymnastic equipment
F04   model
F05   traveling products
F06   swimming outfit
F07   others



G     office equipment &amp; stationery
G01   office furniture
G02   office stationery
G03   office equipment
G04   copier
G05   fax machine
G06   scraping machine
G07   scanner
G08   printer
G09   blueprint machine
G10   others



H     daily commodity
H01   dishware and kitchenware
H02   furniture
H03   decoration
H04   clock and watch
H05   cleaning article
H06   domestic textile
H07   clothes rack and clothes pin
H08   lighter and smoking set
H09   knife and scissors
H10   umbrella and raincoat
H11   glasses
H12   others



J     industrial control/automatization
J01   automatic apparatus parts
J02   robot and mechanical hands)
J03   automatic system
J04   automatic instrument
J05   others



K     paper products
K01   toilet paper
K02   paper package
K03   others
 

L     Oilfield equipments

L01   Welhead equipment &amp; X-mas tree blowout preventers

L02   Drill-Stem testing tools new series perforating guns

L03   Pumping units

L04   F-series triplex mud pumps

L05  Drilling &amp; producting accessories

L06   Drilling rigs

L07   Others



M     aerospace products &amp; aircrafts

M01   Aircrafts

M02   Aerospace equipment

M03   Others


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021013085620</emailId><senderName>"News Day"</senderName><senderEmail>newsday@email.it</senderEmail><timestampReceived>2002-10-13 08:56:20-0400</timestampReceived><subject>Condividi i tuoi files con Grokster</subject><body>

Vuoi scaricare da Internet ogni tipo di files: programmi, giochi, MP3, 
filmati, foto e tanto altro?

Visita il sito http://anzwers.org/free/grokster/ e scarica il software per 
condividere i tuoi files con tutto il mondo!


</body></email><email><emailId>20021014075143</emailId><senderName>"pandaNIC"</senderName><senderEmail>recomnd@pandanic.com</senderEmail><timestampReceived>2002-10-14 07:51:43-0400</timestampReceived><subject>Recommend Domain Registration with only $14.95</subject><body>


Somebody send you this mail to recommend our domain registration service:


register / renew or transfer your domain (com/net/org/biz/info/us) with only $14.95

go to http://www.pandanic.com for more details, and check out other domain management \
service, such URL/email forwarding, and DNS manager.



(this will be sent only once)



------------------------------
http://www.pandanic.com

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021015173958</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-10-15 17:39:58-0400</timestampReceived><subject>Re: loop-aes nice value</subject><body>

Newsmail wrote:
&gt; I see, why do we need to have the highest priority possible for the loop
&gt; device?

Keeping underlying disk driver request queue filled with requests improves
performance. High priority loop thread helps keeping that request queue
filled.

&gt; and why does -20 just work fine for normal kernels?

Because schedulers are different. Nice -20 with old scheduler does not cause
bad interactivity.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021015203919</emailId><senderName>Janine</senderName><senderEmail>janine_h@aol.com</senderEmail><timestampReceived>2002-10-15 20:39:19-0400</timestampReceived><subject>Meld Dich mal wieder</subject><body>

&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Untitled Document&lt;/title&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"&gt;
&lt;/head&gt;

&lt;body bgcolor="#FFF2F2" text="#000000"&gt;
&lt;p&gt;Tut mir leid das ich Dir nicht gleich geschrieben habe, aber &lt;br&gt;
  ich war totmüde und bin gleich ins Bett gegangen.&lt;br&gt;
  Wie versprochen schicke Dir jetzt mal den Link zu meiner &lt;br&gt;
  privaten Homepage. &lt;a href="http://janine.xfiles24.com"&gt;Zu meiner Page&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Ps.: Ich hoffe wir sehen uns bald wieder ;-)&lt;/p&gt;
&lt;p&gt;Tschau Janine&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
</body></email><email><emailId>20021013190214</emailId><senderName>Newsmail</senderName><senderEmail>newsmail@satimex.tvnet.hu</senderEmail><timestampReceived>2002-10-13 19:02:14-0400</timestampReceived><subject>loop-aes nice value</subject><body>

Hi Jari, I saw that you changed the default nice value for the loop device 
when the kernel is using mingo's sched. If I remember that value was -9. 
Did you choose '-9' as a + - arbitrary value under 0, but over -20, or it 
has some special reason to be -9 and not -5 for exemple?
regards,
greg

ps: in the past I experimented with renice-ing the loop to +5, it seemed 
better than -20, but sometimes I experimented temporal hangs when the 
machine had to write out encrypted data excessivly.


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021017154937</emailId><senderName>alan</senderName><senderEmail>alan@clueserver.org</senderEmail><timestampReceived>2002-10-17 15:49:37-0400</timestampReceived><subject>Re: Support of Intel Pro/100S?</subject><body>

On Fri, 18 Oct 2002, Janusz A. Urbanowicz wrote:

&gt; Intel produces so called 'IPSec network card' - a 100mbit ethernet card with
&gt; a DES/3DES chip on it to speed up ipsec connections going thougt the card.
&gt; Is there any Linux support for it?

Not to my knowlege.  Intel has never released specs for it. Their Linux 
drivers do not seem to support it.  (Even though their has been requests 
by MULTIPLE people, including their own driver developers, to do so.)

They support the card on a totally insecure OS (Win2k), but not on 
something that can be secured.  (I don't believe Win2k can be secured 
without unplugging it.)

Some of my more paranoid friends believe that the reason they do not 
support it is that the chipset is backdoored or has some other GAKage.

I am prone to agree with them.


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021020133035</emailId><senderName></senderName><senderEmail>chinadabbs</senderEmail><timestampReceived>2002-10-20 13:30:35-0400</timestampReceived><subject>Welcome to ChinadaBBS!</subject><body>

This is a multi-part message in MIME format


=D5=E2=CA=C7=D2=BB=B8=F6HTML=B8=F1=CA=BD=B5=C4=D3=CA=BC=FE/This is a htm=
l format mail

[Attachment #3 (text/html)]

Welcome to Chinada BBS!
»¶Ó­¹âÁÙChinada´óÎ »ªÈË¾«Æ· ÛÌ³£¡
www.chinada.net.tc
www.bc.net.tc
&lt;p&gt;¡¡&lt;/p&gt;&lt;p align="center"&gt;***************************************************************&lt;br&gt;¸ÃÓÊ¼þÊ¹ÓÃ \
·ÉÁúÈº·¢Æ÷ ·¢ËÍ,ÓÊ¼þÄÚÈÝÓë·ÉÁúÈí¼þÎÞ¹Ø&lt;br&gt;·ÉÁúÈí¼þ &lt;a \
href="http://www.163sm.com/kt/"&gt; http://www.163sm.com/kt/&lt;/a&gt;&lt;br&gt;This mail was sent \
using FlyingDragon Mail Sender, But The contents &lt;br&gt;is none business of FlyingDragon \
Software. &lt;br&gt;Caretop Software: &lt;a \
href="http://www.163sm.com/kt/"&gt;http://www.163sm.com/kt&lt;/a&gt;&lt;br&gt;***************************************************************&lt;/p&gt;



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021021041020</emailId><senderName></senderName><senderEmail>chinadabbs</senderEmail><timestampReceived>2002-10-21 04:10:20-0400</timestampReceived><subject>Welcome to Chinada BBS!</subject><body>

This is a multi-part message in MIME format


=D5=E2=CA=C7=D2=BB=B8=F6HTML=B8=F1=CA=BD=B5=C4=D3=CA=BC=FE/This is a htm=
l format mail

[Attachment #3 (text/html)]

&lt;p&gt;Welcome to Chinada BBS!
»¶Ó­¹âÁÙChinada´óÎ »ªÈË¾«Æ· ÛÌ³£¡

&lt;p&gt;www.chinada.net.tc
&lt;p&gt;www.bcbbs.net.tc

&lt;p&gt;Sorry to interupt you!
¶Ô²»Æð´ËÓÊ¼þÎªÄú´øÀ´µÄ²»±ã£¡
&lt;p&gt;¡¡&lt;/p&gt;&lt;p align="center"&gt;***************************************************************&lt;br&gt;¸ÃÓÊ¼þÊ¹ÓÃ \
·ÉÁúÈº·¢Æ÷ ·¢ËÍ,ÓÊ¼þÄÚÈÝÓë·ÉÁúÈí¼þÎÞ¹Ø&lt;br&gt;·ÉÁúÈí¼þ &lt;a \
href="http://www.163sm.com/kt/"&gt; http://www.163sm.com/kt/&lt;/a&gt;&lt;br&gt;This mail was sent \
using FlyingDragon Mail Sender, But The contents &lt;br&gt;is none business of FlyingDragon \
Software. &lt;br&gt;Caretop Software: &lt;a \
href="http://www.163sm.com/kt/"&gt;http://www.163sm.com/kt&lt;/a&gt;&lt;br&gt;***************************************************************&lt;/p&gt;



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021025161724</emailId><senderName>Aladdin List Server</senderName><senderEmail>ecartis@webmailer.ealaddin.com</senderEmail><timestampReceived>2002-10-25 16:17:24-0400</timestampReceived><subject>Subscribed to list 'etoken_products'</subject><body>

&gt;&gt; (Subscribed to list by listar@listar.eAladdin.com)
&gt;&gt; Subscribe etoken_products linux-crypto@nl.linux.org
You have been added to list 'etoken_products'


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021026093850</emailId><senderName>Michael Hanke</senderName><senderEmail>michael_hanke@web.de</senderEmail><timestampReceived>2002-10-26 09:38:50-0400</timestampReceived><subject>loop-aes: cannot mount crypted cdrom when ide-scsi</subject><body>

Hi,

I've put a loop-file (backup.img) on cdrom, with a IDE cdwriter.

Now, if I want to mount the image file from the harddisk before burning,
I successfully 

echo $password | mount -t ext2 -p 0 -o loop=/dev/loop2,encryption=AES128 /backup.iso /backup-cd/  

But, the cd cannot be mounted from the cdrom drive:
echo $password | mount -t ext2 -p 0 -o loop=/dev/loop2,encryption=AES128 /dev/sr1 /backup-cd/  
mount: wrong fs type, bad option, bad superblock on /dev/loop2,
       or too many mounted file systems

Of course with linux one has to use ide-scsi for a IDE cdwriter, without
which I've never had burnt the cd.

Then I reboot the computer *without* the kernel option 'hdc=ide-scsi' .

And now
echo $password | mount -t ext2 -p 0 -o loop=/dev/loop2,encryption=AES128 /dev/hdc /backup-cd/  

works alright. 

The blocksize of the original loop-file was 1024, don't know if that's
of any interest.



Any ideas?
-- 
Michael 
               Wenn das Spiel nicht läuft, liegt es oft daran,
               dass die Spieler nicht laufen.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021028043705</emailId><senderName>"Bradley Jenkins"</senderName><senderEmail>braddeicide@hotmail.com</senderEmail><timestampReceived>2002-10-28 04:37:05-0400</timestampReceived><subject>CryptoAPI, loop-AES, Ext3, Wi-Fi and AES256</subject><body>

A few questions about the glorious loop-AES :)

1. Is there a tip jar?

2. Will my old Ext3-&gt;Loop-&gt;Ext3-&gt;Device CryptoAPI backup survive if i mount 
it as read only? is it dependible enough for me to Gutmann (erase the hell) 
out of the origionals? I've Md5'd the contents and their fine ATM

3. Can Wi-Fi or general network traffic be put in a loop-AES? IE point the 
loop to /dev/eth0 and make sure the others pc's are doing the same?

4. I've replaced all instances of AES128 with AES256, it hasn't complained, 
i assume this is the way to use a 256k key?  Does anyone know what kind of 
data overhead the keysize makes?

Thanks heaps,
Brad.

_________________________________________________________________
Broadband? Dial-up? Get reliable MSN Internet Access. 
http://resourcecenter.msn.com/access/plans/default.asp

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021025183333</emailId><senderName>Dan Hollis</senderName><senderEmail>goemon@anime.net</senderEmail><timestampReceived>2002-10-25 18:33:33-0400</timestampReceived><subject>Re: Subscribed to list 'etoken_products'</subject><body>

On Fri, 25 Oct 2002, Aladdin List Server wrote:
&gt; &gt;&gt; (Subscribed to list by listar@listar.eAladdin.com)
&gt; &gt;&gt; Subscribe etoken_products linux-crypto@nl.linux.org
&gt; You have been added to list 'etoken_products'

Time to firewall ealaddin.com from all linux mailservers...

-Dan
-- 
[-] Omae no subete no kichi wa ore no mono da. [-]

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021025193916</emailId><senderName>Jon Masters</senderName><senderEmail>jonathan@jonmasters.org</senderEmail><timestampReceived>2002-10-25 19:39:16-0400</timestampReceived><subject>Re: Subscribed to list 'etoken_products'</subject><body>

On Fri, 25 Oct 2002, Dan Hollis wrote:

&gt; Time to firewall ealaddin.com from all linux mailservers...

Did anyone produce proof that they were the ones who signed up
linux-crypto to said mailing list? i.e. it might not just be spam.

Jon.

P.S. "Firewalling", or indiscrimately filtering mail based on such
blacklists as certain high profile ones is always wrong in my view - I
certainly wouldn't pay a provider who did such things to my mail. I get a
/lot/ of spam but I don't filter out such mail just in case it's useful.

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021021044301</emailId><senderName></senderName><senderEmail>chinadabbs</senderEmail><timestampReceived>2002-10-21 04:43:01-0400</timestampReceived><subject>Welcome to Chinada BBS!</subject><body>

This is a multi-part message in MIME format


=D5=E2=CA=C7=D2=BB=B8=F6HTML=B8=F1=CA=BD=B5=C4=D3=CA=BC=FE/This is a htm=
l format mail

[Attachment #3 (text/html)]

&lt;p&gt;Welcome to Chinada BBS!
»¶Ó­¹âÁÙChinada´óÎ »ªÈË¾«Æ· ÛÌ³£¡

&lt;p&gt;www.chinada.net.tc
&lt;p&gt;www.bcbbs.net.tc

&lt;p&gt;Sorry to interupt you!
¶Ô²»Æð´ËÓÊ¼þÎªÄú´øÀ´µÄ²»±ã£¡
&lt;p&gt;¡¡&lt;/p&gt;&lt;p align="center"&gt;***************************************************************&lt;br&gt;¸ÃÓÊ¼þÊ¹ÓÃ \
·ÉÁúÈº·¢Æ÷ ·¢ËÍ,ÓÊ¼þÄÚÈÝÓë·ÉÁúÈí¼þÎÞ¹Ø&lt;br&gt;·ÉÁúÈí¼þ &lt;a \
href="http://www.163sm.com/kt/"&gt; http://www.163sm.com/kt/&lt;/a&gt;&lt;br&gt;This mail was sent \
using FlyingDragon Mail Sender, But The contents &lt;br&gt;is none business of FlyingDragon \
Software. &lt;br&gt;Caretop Software: &lt;a \
href="http://www.163sm.com/kt/"&gt;http://www.163sm.com/kt&lt;/a&gt;&lt;br&gt;***************************************************************&lt;/p&gt;



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021029030504</emailId><senderName>"Tener, Stuart B., IT3 , USNR-R"</senderName><senderEmail>stuart@bh90210.net</senderEmail><timestampReceived>2002-10-29 03:05:04-0400</timestampReceived><subject>A new idea.....</subject><body>

Crypto listmembers:

	Has anyone thought about the idea of taking the encryption code
from loop-aes and making a standardized set of calls out of it and
packaging it as a loadable module?

	If this could be done, the system calls could be used by any
software and distributed independent of the Linux kernel, and be
standardized for an inordinate number of uses, no?

	I am just learning about adding system calls to Linux via
loadable modules, so its why I am asking this question. I have not read
the loop-aes code extensively so I do not know if this is technically
feasible absent an overtly difficult rewrite of the code.


Very Respectfully, 

Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG 
Beverly Hills, California
Ship Augmentation Unit (SAU)  
stuart@bh90210.net 
west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043 
east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859 

Telecopier: (419)-715-6073 fax to email gateway via www.efax.com (it's
free!) 

JOIN THE US NAVY RESERVE, SERVE YOUR COUNTRY, AND BENEFIT FROM IT ALL. 

Monday, October 28, 2002 6:57 PM




-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021029082335</emailId><senderName>Alessandro Bottoni</senderName><senderEmail>alessandro.bottoni@infinito.it</senderEmail><timestampReceived>2002-10-29 08:23:35-0400</timestampReceived><subject>Re: A new idea.....</subject><body>

Alle 04:05, martedì 29 ottobre 2002, Tener, Stuart B., IT3 , USNR-R ha 
scritto:
&gt; Crypto listmembers:
&gt;
&gt; 	Has anyone thought about the idea of taking the encryption code
&gt; from loop-aes and making a standardized set of calls out of it and
&gt; packaging it as a loadable module?

I do not know about the AES protocol, in specific, but there are a few crypto 
libraries, most of them available for free at freshmeat and sourceforge, that 
supply you with several cryptographic protocols (DES, RSA, Blowfish, IDEA, 
Gost, etc...) and tools. As long as I know, these libraries are available at 
least for C, C++, Java and Python. Most likely, you can find libraries 
compatible with most of the existing language. A few of these libraries can 
be used as statically linked libraries, as dinamically loadable modules and 
as "components", via CORBA, MS D/COM or KDE DCOP.

If this is what you were thinking about, you will find anyone of these open 
source projects very interesting for you. Have a look at the cryptographic 
sections of freshmeat.net, sourceforge.net and GNU savannah.

&gt;
&gt; 	If this could be done, the system calls could be used by any
&gt; software and distributed independent of the Linux kernel, and be
&gt; standardized for an inordinate number of uses, no?

As long as I know, Loop-AES _is_ usable form any linux software 
(transparently), _is_ distributed indipendently from the Linux Kernel (you 
have to compile and install it by yourself, no?) and _can_ be considered a 
"standard" (as long as the software, no matter which one, does not have to 
worry about it).

&gt;
&gt; 	I am just learning about adding system calls to Linux via
&gt; loadable modules, so its why I am asking this question. I have not read
&gt; the loop-aes code extensively so I do not know if this is technically
&gt; feasible absent an overtly difficult rewrite of the code.
&gt;

Most likely, it is possible, if not easy, to make available the internal 
calls of Loop-AES to external programs. For sure, the AES code is quite 
complex and dealing with it requires a deep understanding of cryptography and 
programming.

(Have a look at the SWIG and SIP tools used to auto-magically transform a 
standard C/C++ program in a library. You can find SIP at the activestate.com 
web site. SWIG should have its own web site and/or a project at sourceforge 
or freshemeat).
 
---------------------
Alessandro Bottoni
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021029165818</emailId><senderName>Pavel Minev Penev</senderName><senderEmail>kal_pav@sz.techno-link.com</senderEmail><timestampReceived>2002-10-29 16:58:18-0400</timestampReceived><subject>Re: A new idea.....</subject><body>

On Tue, Oct 29, 2002 at 09:23:35AM +0100, Alessandro Bottoni wrote:
[you wrote what you wrote...]

I think Stuart meant that it would be nice to have an OS-independent API
for encrypted file systems (and partitions, and media?). Such an API
would refer to the already established cyptography and FS standards,
providing a cosy application development environment. Moreover, one will
be able, in two lines of Python code, to write a partition re-encrypter
(to change master keys), an `fsck` wrapper (to run on encrypted
volumes), or a multi-computer key cracker. One will be able to prepare
one's encrypted floppies and CD-RWs on the office's computer and read
them on home's Linux box using _the same software_. Right?

Even for Linux there are the CryptoAPI, the LoopAES and some older
_implementations_ (I don't know of any RFCs). Bearing this diversity in
mind, I think creating an OS-wide standard is not developers' the task
at hand, but may be an independent group could help saving the order in
the world?

Best watches,
-- 
Pav
                                 ,.,
                               ,``:'',
That your internet traffic is  {o ! o}  My GPG/PGP key is now available at
vulnarable is NOT only a joke! ] -+- [  x-hkp://search.keyserver.net:11371.
                                \ ! /
                                 `-'

`shell$ gpg --keyserver x-hkp://search.keyserver.net:11371 --recv-key 164C028F`

[Attachment #3 (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021002165329</emailId><senderName>Earl</senderName><senderEmail>large.files@gmx.net</senderEmail><timestampReceived>2002-10-02 16:53:29-0400</timestampReceived><subject>rootkit and 10 minutes ?</subject><body>

Hi all,

p&gt; BTW, cryptography is not the 100% perfectly final solution. It is a
p&gt; fairly good protection, in some cases, but nothing more. If someone can 
p&gt; access your laptop during 10 minutes, he can boot on a floopy and put a 
p&gt; rootkit with a keylogger and your encryption is dead...

Good point!  The chain is only as strong as the weakest link.....

Can all processes be observed in Linux, or is a rootkit invisible as a
process?  Is a keylogger invisible as a process?

If Linux is not capable of natively showing all running processes, are
there pgms available which are capable of this?

p&gt; If someone can access your laptop during 10 minutes, he can boot on
p&gt; a floopy and put a rootkit with a keylogger and your encryption is
p&gt; dead...

I have heard that physical possession of a Linux computer allows
anyone to take over as root, etc.  It seems to me that this is a huge
security hole.  Can I assume that this is still true in every distro?

Is no one concerned about this problem?  Is this an inherent weakness
of Linux that can not be corrected?

Even if it is not a question of rootkit installation, but only a sick
joke of changing root and user passwords for "fun", the inconvenience
could be enormous, even catastrophic, especially if you are on a trip
and don't have a disk in your pocket.

Best regards, Earl

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021031081700</emailId><senderName>"Bradley Jenkins"</senderName><senderEmail>braddeicide@hotmail.com</senderEmail><timestampReceived>2002-10-31 08:17:00-0400</timestampReceived><subject>loop-AES depreciated in linux-2.6 ?</subject><body>

I read that the CryptoAPI has been merged into linux-2.6 kernel, what will 
this mean for LoopAES users?  currently CryptoAPI and loopAES cannot be run 
at the same time due to different kernel settings.  As CryptoAPI is in the 
kernel i imagine a lot of programs will start using it, meaning people will 
have to make a choice between these new cryptographic programs or LoopAES?  
Or can loopAES learn to work with with CONFIG_BLK_DEV_LOOP enabled?  There's 
probably a lot more to it, there always is :)

With CryptoAPI in the kernel i'm sure it won't be long until someone create 
a Wi-Fi loop :P~

Brad,
Cryptowannabe

_________________________________________________________________
Get faster connections -- switch to MSN Internet Access! 
http://resourcecenter.msn.com/access/plans/default.asp

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021031095950</emailId><senderName>Erno Kuusela</senderName><senderEmail>erno@iki.fi</senderEmail><timestampReceived>2002-10-31 09:59:50-0400</timestampReceived><subject>Re: loop-AES depreciated in linux-2.6 ?</subject><body>

hello,

On Thu, 31 Oct 2002, Bradley Jenkins wrote:

| I read that the CryptoAPI has been merged into linux-2.6 kernel, what will 
| this mean for LoopAES users?  currently CryptoAPI and loopAES cannot be run 
| at the same time due to different kernel settings.

the cryptoapi in the kernel is different from the kerneli.org
cryptoapi. there is very little code from the kerneli.org version in
the kernel version.

  -- erno
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021002171421</emailId><senderName>"Noah L. Meyerhans"</senderName><senderEmail>frodo@morgul.net</senderEmail><timestampReceived>2002-10-02 17:14:21-0400</timestampReceived><subject>Re: rootkit and 10 minutes ?</subject><body>

On Wed, Oct 02, 2002 at 06:53:29PM +0200, Earl wrote:
&gt; Can all processes be observed in Linux, or is a rootkit invisible as a
&gt; process?  Is a keylogger invisible as a process?
&gt; 
&gt; If Linux is not capable of natively showing all running processes, are
&gt; there pgms available which are capable of this?

Yes, all processes are visible in Linux.  However, it's ultimately up to
Linux itself to show these to you, regardless of what program you're
using to view the list.  If the kernel has been modified in such a way
that it is not willing to report the existance of a particular process
to you, then it doesn't matter what program you're using to view the
list.  Rootkits do exist that modify the kernel to allow it to hide
processes, files, network connections, etc.

&gt; I have heard that physical possession of a Linux computer allows
&gt; anyone to take over as root, etc.  It seems to me that this is a huge
&gt; security hole.  Can I assume that this is still true in every distro?

Of course.  It's true in Windows, Solaris, just about everything else.
If I have physical access to a computer, I can reboot it with something
like Toms Root Boot floppy (or any other bootable floppy) and bypass any
software security on the system.  It's not a flaw in the software at
all.

Most distributions (by default) allow "init=/bin/sh" to be passed on the
kernel's command line, which will give a root shell without ever
prompting for a password.  That's easy to fix, using things like LILO
(or GRUB) passwords to prevent unauthorized users from passing
parameters to the kernel.  But of course, in that case, the BIOS needs
to be configured to preven the attacker from rebooting with a floppy
disk and bypassing LILO.  And nothing's stopping an attacker from
pulling out the hard drive, putting it in one of their own machines, and
having their way with it.

&gt; Is no one concerned about this problem?  Is this an inherent weakness
&gt; of Linux that can not be corrected?

It's an inherent weekness in software.  There are attempts to work
around it using crypto, such as encrypted filesystems.  But they don't
change the fact that physical access to a computer basically allows an
attacker access to whatever bits he wants.

noah

-- 
 _______________________________________________________
| Web: http://web.morgul.net/~frodo/
| PGP Public Key: http://web.morgul.net/~frodo/mail.html 

[Attachment #3 (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021002172110</emailId><senderName>pplf</senderName><senderEmail>pplf@wanadoo.fr</senderEmail><timestampReceived>2002-10-02 17:21:10-0400</timestampReceived><subject>Re: rootkit and 10 minutes ?</subject><body>

Earl wrote:
&gt; I have heard that physical possession of a Linux computer allows
&gt; anyone to take over as root, etc.  It seems to me that this is a huge
&gt; security hole.

All OS contain this "security hole" : this is why servers are physically 
locked in the computers building ;-)

You can put a password in the BIOS, but if the attacker can access 
physically and in secret to your computer, he can take off the hard disk 
and install it in another laptop, etc. etc.

Remember : cryptography cannot do anything.

The only thing is that cryptography is more usefull into the *real* OSes 
like Unixes, than in the OSes from the Windows family.


-- 
pplf - French OpenPGP page "OpenPGP en francais"
http://www.openpgp.fr.st
pplf@wanadoo.fr
"Microsoft solutions aren't solutions. They are problems" C.Casteyde

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021002172632</emailId><senderName>"Paul Hilton"</senderName><senderEmail>paul_hilton@yahoo.com</senderEmail><timestampReceived>2002-10-02 17:26:32-0400</timestampReceived><subject>Re: rootkit and 10 minutes ?</subject><body>

Hi Earl,

&gt; I have heard that physical possession of a Linux computer allows
&gt; anyone to take over as root, etc.  It seems to me that this is a huge
&gt; security hole.

Suggestion:

Boot from a CD which is secure from being tampered with, and verify a digest
of the system bios before entering the password to allow access to the hard
disk.

The CD can become a sort of physical key, containing info neccesary for the
decryption of the hard disk. Then remove the CD before running any but the
most
trusted code.

A hardware keylogger in the keyboard could still defeat any attempt to find
it by software.

Ultimately you could be fooled by any system, substituted for your original,
which shows the
same interface as yours.

Or possibly biometric protection?

Regards,
Paul

----- Original Message -----
From: "Earl" &lt;LARGE.FILES@GMX.NET&gt;
To: &lt;linux-crypto@nl.linux.org&gt;
Sent: Wednesday, October 02, 2002 12:53 PM
Subject: rootkit and 10 minutes ?



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021003032915</emailId><senderName>Harmon Seaver</senderName><senderEmail>hseaver@cybershamanix.com</senderEmail><timestampReceived>2002-10-03 03:29:15-0400</timestampReceived><subject>Re: rootkit and 10 minutes ?</subject><body>

On Wed, Oct 02, 2002 at 06:53:29PM +0200, Earl wrote:
&gt; 
&gt; I have heard that physical possession of a Linux computer allows
&gt; anyone to take over as root, etc.  It seems to me that this is a huge
&gt; security hole.  Can I assume that this is still true in every distro?
&gt; 
&gt; Is no one concerned about this problem?  Is this an inherent weakness
&gt; of Linux that can not be corrected?

    Do you know of a computer system that cannot be rooted if they have physical
possession?


-- 
Harmon Seaver	
CyberShamanix
http://www.cybershamanix.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021004070524</emailId><senderName>Michael Richardson</senderName><senderEmail>mcr@sandelman.ottawa.on.ca</senderEmail><timestampReceived>2002-10-04 07:05:24-0400</timestampReceived><subject>Re: rootkit and 10 minutes ?</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----


&gt;&gt;&gt;&gt;&gt; "Harmon" == Harmon Seaver &lt;hseaver@cybershamanix.com&gt; writes:
    Harmon&gt;     Do you know of a computer system that cannot be rooted if
    Harmon&gt;     they have physical 
    Harmon&gt; possession?

  So, far the Xbox seemed the most resistant, but Linux was installed on it already.
  The next-gen Xbox may be harder, but it too will fall. 

  There are smart card systems that are supposed to protect their contents.

  A few of them are resistant such that you have to destroy them to get the
info out, but the info can be removed with equipment found in an
undergraduate EE lab. 

]       ON HUMILITY: to err is human. To moo, bovine.           |  firewalls  [
]   Michael Richardson, Sandelman Software Works, Ottawa, ON    |net architect[
] mcr@sandelman.ottawa.on.ca http://www.sandelman.ottawa.on.ca/ |device driver[
] panic("Just another Debian GNU/Linux using, kernel hacking, security guy"); [

  
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.7 (GNU/Linux)
Comment: Finger me for keys

iQCVAwUBPZ09poqHRg3pndX9AQHzdAP/Z/nPCXTTRnP11TU0GQ+r8CHT0kPl0Ppj
544+aGOc+xZq9JeFlBOLNlq1mlxygsoNeEWNYyx+XIXp5E8Kd+hDmQwSH9Vez4Db
Bozv5WD9xJtpotqgQuhIj2G0vZyHxPCbwFv86F0u2Pq2AXQqDwwHdS/2gmawSnyQ
+uJ0FuTSWDo=
=xoPL
-----END PGP SIGNATURE-----
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200210040705240</emailId><senderName>Michael Richardson</senderName><senderEmail>mcr@sandelman.ottawa.on.ca</senderEmail><timestampReceived>2002-10-04 07:05:24-0400</timestampReceived><subject>Re: rootkit and 10 minutes ?</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----


&gt;&gt;&gt;&gt;&gt; "Harmon" == Harmon Seaver &lt;hseaver@cybershamanix.com&gt; writes:
    Harmon&gt;     Do you know of a computer system that cannot be rooted if
    Harmon&gt;     they have physical 
    Harmon&gt; possession?

  So, far the Xbox seemed the most resistant, but Linux was installed on it already.
  The next-gen Xbox may be harder, but it too will fall. 

  There are smart card systems that are supposed to protect their contents.

  A few of them are resistant such that you have to destroy them to get the
info out, but the info can be removed with equipment found in an
undergraduate EE lab. 

]       ON HUMILITY: to err is human. To moo, bovine.           |  firewalls  [
]   Michael Richardson, Sandelman Software Works, Ottawa, ON    |net architect[
] mcr@sandelman.ottawa.on.ca http://www.sandelman.ottawa.on.ca/ |device driver[
] panic("Just another Debian GNU/Linux using, kernel hacking, security guy"); [

  
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.7 (GNU/Linux)
Comment: Finger me for keys

iQCVAwUBPZ09poqHRg3pndX9AQHzdAP/Z/nPCXTTRnP11TU0GQ+r8CHT0kPl0Ppj
544+aGOc+xZq9JeFlBOLNlq1mlxygsoNeEWNYyx+XIXp5E8Kd+hDmQwSH9Vez4Db
Bozv5WD9xJtpotqgQuhIj2G0vZyHxPCbwFv86F0u2Pq2AXQqDwwHdS/2gmawSnyQ
+uJ0FuTSWDo=
=xoPL
-----END PGP SIGNATURE-----
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021007155807</emailId><senderName>Jean-Luc Cooke</senderName><senderEmail>jlcooke@certainkey.com</senderEmail><timestampReceived>2002-10-07 15:58:07-0400</timestampReceived><subject>Re: rootkit and 10 minutes ?</subject><body>

On Wed, Oct 02, 2002 at 06:53:29PM +0200, Earl wrote:
&gt; Hi all,
&gt; 
&gt; p&gt; BTW, cryptography is not the 100% perfectly final solution. It is a
&gt; p&gt; fairly good protection, in some cases, but nothing more. If someone can 
&gt; p&gt; access your laptop during 10 minutes, he can boot on a floopy and put a 
&gt; p&gt; rootkit with a keylogger and your encryption is dead...
&gt; 
&gt; Good point!  The chain is only as strong as the weakest link.....
&gt; 
&gt; Can all processes be observed in Linux, or is a rootkit invisible as a
&gt; process?  Is a keylogger invisible as a process?
&gt; 
&gt; If Linux is not capable of natively showing all running processes, are
&gt; there pgms available which are capable of this?
&gt; 
&gt; p&gt; If someone can access your laptop during 10 minutes, he can boot on
&gt; p&gt; a floopy and put a rootkit with a keylogger and your encryption is
&gt; p&gt; dead...
&gt; 
&gt; I have heard that physical possession of a Linux computer allows
&gt; anyone to take over as root, etc.  It seems to me that this is a huge
&gt; security hole.  Can I assume that this is still true in every distro?

...biometric laptops help too...

&gt; Is no one concerned about this problem?  Is this an inherent weakness
&gt; of Linux that can not be corrected?

USB key stores (or floppies) with a password encrypted keyfile to decrypt
your FS is a bit better.  Make the kernel prompt this, not user land.  So the
hacker would have to recompile the kernel to get your password/file/key.
Making the "10min" problem a "30-60min" problem.

JLC - participated in too many of the "crypto isn't enough" rants.

-- 
http://www.certainkey.com
Suite 4560 CTTC
1125 Colonel By Dr.
Ottawa ON, K1S 5B6
C: 613.263.2983
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021007160024</emailId><senderName>Jean-Luc Cooke</senderName><senderEmail>jlcooke@certainkey.com</senderEmail><timestampReceived>2002-10-07 16:00:24-0400</timestampReceived><subject>Re: rootkit and 10 minutes ?</subject><body>

Making software secure (tamper resistant, confidential, authentic, etc) is
"trying to make water not wet"(tm).  You can't do it.  Period.  There will
always be an element of physical security required.

So let's end this now before it becomes another /. thread.

JLC

On Wed, Oct 02, 2002 at 01:26:32PM -0400, Paul Hilton wrote:
&gt; Hi Earl,
&gt; 
&gt; &gt; I have heard that physical possession of a Linux computer allows
&gt; &gt; anyone to take over as root, etc.  It seems to me that this is a huge
&gt; &gt; security hole.
&gt; 
&gt; Suggestion:
&gt; 
&gt; Boot from a CD which is secure from being tampered with, and verify a digest
&gt; of the system bios before entering the password to allow access to the hard
&gt; disk.
&gt; 
&gt; The CD can become a sort of physical key, containing info neccesary for the
&gt; decryption of the hard disk. Then remove the CD before running any but the
&gt; most
&gt; trusted code.
&gt; 
&gt; A hardware keylogger in the keyboard could still defeat any attempt to find
&gt; it by software.
&gt; 
&gt; Ultimately you could be fooled by any system, substituted for your original,
&gt; which shows the
&gt; same interface as yours.
&gt; 
&gt; Or possibly biometric protection?
&gt; 
&gt; Regards,
&gt; Paul
&gt; 
&gt; ----- Original Message -----
&gt; From: "Earl" &lt;LARGE.FILES@GMX.NET&gt;
&gt; To: &lt;linux-crypto@nl.linux.org&gt;
&gt; Sent: Wednesday, October 02, 2002 12:53 PM
&gt; Subject: rootkit and 10 minutes ?
&gt; 
&gt; 
&gt; 
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/

-- 
http://www.certainkey.com
Suite 4560 CTTC
1125 Colonel By Dr.
Ottawa ON, K1S 5B6
C: 613.263.2983
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021029204437</emailId><senderName>"Michael T. Babcock"</senderName><senderEmail>mbabcock@fibrespeed.net</senderEmail><timestampReceived>2002-10-29 20:44:37-0400</timestampReceived><subject>Re: rootkit and 10 minutes ?</subject><body>

Jean-Luc Cooke wrote:

&gt;USB key stores (or floppies) with a password encrypted keyfile to decrypt
&gt;your FS is a bit better.  Make the kernel prompt this, not user land.  So the
&gt;hacker would have to recompile the kernel to get your password/file/key.
&gt;Making the "10min" problem a "30-60min" problem.
&gt;
&gt;JLC - participated in too many of the "crypto isn't enough" rants.
&gt;
&gt;  
&gt;

It makes no difference if its userspace or not; just make the filesystem 
encrypted with a large key stored on your keychain (the USB type) and 
don't store it on the system _at all_.  You want to make it almost as 
difficult as  a full keyspace search (since they can still cryptanalyse 
the drive against known filesystem structures).

-- 
Michael T. Babcock
C.T.O., FibreSpeed Ltd.
http://www.fibrespeed.net/~mbabcock


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021029213333</emailId><senderName>Jean-Luc Cooke</senderName><senderEmail>jlcooke@certainkey.com</senderEmail><timestampReceived>2002-10-29 21:33:33-0400</timestampReceived><subject>Re: rootkit and 10 minutes ?</subject><body>

On Tue, Oct 29, 2002 at 03:44:37PM -0500, Michael T. Babcock wrote:
&gt; It makes no difference if its userspace or not; just make the filesystem 
&gt; encrypted with a large key stored on your keychain (the USB type) and 
&gt; don't store it on the system _at all_.  You want to make it almost as 
&gt; difficult as  a full keyspace search (since they can still cryptanalyse 
&gt; the drive against known filesystem structures).

If someone can use the fs structure (aka. known plaintext attack) then the
cipher is broken outright.  So your argument seems lost.

JLC

-- 
http://www.certainkey.com
Suite 4560 CTTC
1125 Colonel By Dr.
Ottawa ON, K1S 5B6
C: 613.263.2983
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021029214416</emailId><senderName>"Michael T. Babcock"</senderName><senderEmail>mbabcock@fibrespeed.net</senderEmail><timestampReceived>2002-10-29 21:44:16-0400</timestampReceived><subject>Re: rootkit and 10 minutes ?</subject><body>

Jean-Luc Cooke wrote:

&gt;If someone can use the fs structure (aka. known plaintext attack) then the
&gt;cipher is broken outright.  So your argument seems lost.
&gt;  
&gt;

What you seemed to be presenting is this:

keysystem &lt;-&gt; kernel fs driver &lt;-&gt; userspace fs display

What I proposed is this:

keysystem &lt;-&gt; userspace crypto (loopback) &lt;-&gt; kernel fs driver &lt;-&gt; 
userspace fs display

The difference is simply that in my version, the data is en/decrypted 
outside the kernel.  In both versions, I have to assume that an attacker 
can, for a much lower budget than crypanalysis, remove the hard drive 
and start playing with it in another machine with a different kernel.  I 
also have to assume that they could have written any number of known 
plaintexts to the drive before doing so.  My version may seem to 
facilitate such work, but in fact the time / effort requirement 
presented by your version still seems trivial compared to a full-scale 
cryptanalytic attack.

I would be much more impressed by a userspace DRM-style crypto system 
that did the crypto work in a library directly accessed by the userspace 
programs trying to deal with the disk files.  Doing an 
"open('blah.txt')" should call a library function that checks for 
'blah.txt' in the current virtual directory of 
/var/hahayoucantreadthis.dat, tries to decrypt it using the current key 
(also read directly by the library into secure memory space) and 
displays / works with it.  Encryption work would similarly happen before 
any other process got its grubby little hands on my bits &amp; bytes.

Just FYI ...

-- 
Michael T. Babcock
C.T.O., FibreSpeed Ltd.
http://www.fibrespeed.net/~mbabcock


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021029215153</emailId><senderName>Jean-Luc Cooke</senderName><senderEmail>jlcooke@certainkey.com</senderEmail><timestampReceived>2002-10-29 21:51:53-0400</timestampReceived><subject>Re: rootkit and 10 minutes ?</subject><body>

On Tue, Oct 29, 2002 at 04:44:16PM -0500, Michael T. Babcock wrote:
&gt; What you seemed to be presenting is this:
&gt; 
&gt; keysystem &lt;-&gt; kernel fs driver &lt;-&gt; userspace fs display
&gt; 
&gt; What I proposed is this:
&gt; 
&gt; keysystem &lt;-&gt; userspace crypto (loopback) &lt;-&gt; kernel fs driver &lt;-&gt; 
&gt; userspace fs display
&gt; 
&gt; The difference is simply that in my version, the data is en/decrypted 
&gt; outside the kernel.  In both versions, I have to assume that an attacker 
&gt; can, for a much lower budget than crypanalysis, remove the hard drive 
&gt; and start playing with it in another machine with a different kernel.  I 
&gt; also have to assume that they could have written any number of known 
&gt; plaintexts to the drive before doing so.  My version may seem to 
&gt; facilitate such work, but in fact the time / effort requirement 
&gt; presented by your version still seems trivial compared to a full-scale 
&gt; cryptanalytic attack.
&gt; 
&gt; I would be much more impressed by a userspace DRM-style crypto system 
&gt; that did the crypto work in a library directly accessed by the userspace 
&gt; programs trying to deal with the disk files.  Doing an 
&gt; "open('blah.txt')" should call a library function that checks for 
&gt; 'blah.txt' in the current virtual directory of 
&gt; /var/hahayoucantreadthis.dat, tries to decrypt it using the current key 
&gt; (also read directly by the library into secure memory space) and 
&gt; displays / works with it.  Encryption work would similarly happen before 
&gt; any other process got its grubby little hands on my bits &amp; bytes.
&gt; 
&gt; Just FYI ...

You're trying to make water not wet.  You're trying to make software secure
when running on a system you claim to have been comprimized.  This is a
losing proposition.

If you want to have a system that is secure reguardless if your box has been
trojend or comprimized in any other way, then you need a hardware crypto
token.  There's no other way around this.

That being said, it's best to make the system faster, easier, simpler or all
of the above if we agree you can't trust software in your server room.

JLC

-- 
http://www.certainkey.com
Suite 4560 CTTC
1125 Colonel By Dr.
Ottawa ON, K1S 5B6
C: 613.263.2983
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021029224014</emailId><senderName>"Michael T. Babcock"</senderName><senderEmail>mbabcock@fibrespeed.net</senderEmail><timestampReceived>2002-10-29 22:40:14-0400</timestampReceived><subject>Re: rootkit and 10 minutes ?</subject><body>

Jean-Luc Cooke wrote:

&gt;You're trying to make water not wet.  You're trying to make software secure
&gt;when running on a system you claim to have been comprimized.  This is a
&gt;losing proposition.
&gt;

No, you're missing the point.  I'm trying to secure, for example, a 
laptop that might get stolen.  I'm trying to make the data on said 
laptop useless to anyone who gets the laptop but not my key (until they 
crack it).  In other words, I'm working with reality ...

&gt;If you want to have a system that is secure reguardless if your box has been
&gt;trojend or comprimized in any other way, then you need a hardware crypto
&gt;token.  There's no other way around this.
&gt;

I already said that I want an external USB-style key system to actually 
do either the storage of the key or the crypto work; that was in my 
first message.

&gt;That being said, it's best to make the system faster, easier, simpler or all
&gt;of the above if we agree you can't trust software in your server room.
&gt;  
&gt;

This doesn't sound like you feel like dealing with what I said; you've 
in fact given no reason why the crypto or keying should be in the kernel 
as you proposed.  My first response quite simply said that its better 
off in user space and that you gain nothing by having it in kernel 
space.  My second response gave reasons why this is so and offered an 
'ultimate' solution which would also reside in user space (but not 
related to my first response which revolved around loop devices).

-- 
Michael T. Babcock
C.T.O., FibreSpeed Ltd.
http://www.fibrespeed.net/~mbabcock


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021020135343</emailId><senderName></senderName><senderEmail>chinadabbs</senderEmail><timestampReceived>2002-10-20 13:53:43-0400</timestampReceived><subject>Welcome to ChinadaBBS!</subject><body>

This is a multi-part message in MIME format


=D5=E2=CA=C7=D2=BB=B8=F6HTML=B8=F1=CA=BD=B5=C4=D3=CA=BC=FE/This is a htm=
l format mail

[Attachment #3 (text/html)]

Welcome to Chinada BBS!
»¶Ó­¹âÁÙChinada´óÎ »ªÈË¾«Æ· ÛÌ³£¡
www.chinada.net.tc
www.bc.net.tc
&lt;p&gt;¡¡&lt;/p&gt;&lt;p align="center"&gt;***************************************************************&lt;br&gt;¸ÃÓÊ¼þÊ¹ÓÃ \
·ÉÁúÈº·¢Æ÷ ·¢ËÍ,ÓÊ¼þÄÚÈÝÓë·ÉÁúÈí¼þÎÞ¹Ø&lt;br&gt;·ÉÁúÈí¼þ &lt;a \
href="http://www.163sm.com/kt/"&gt; http://www.163sm.com/kt/&lt;/a&gt;&lt;br&gt;This mail was sent \
using FlyingDragon Mail Sender, But The contents &lt;br&gt;is none business of FlyingDragon \
Software. &lt;br&gt;Caretop Software: &lt;a \
href="http://www.163sm.com/kt/"&gt;http://www.163sm.com/kt&lt;/a&gt;&lt;br&gt;***************************************************************&lt;/p&gt;



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021017234550</emailId><senderName>Janusz A !  Urbanowicz</senderName><senderEmail>alex@fuckup.fantastyka.net</senderEmail><timestampReceived>2002-10-17 23:45:50-0400</timestampReceived><subject>Support of Intel Pro/100S?</subject><body>

Hello

Intel produces so called 'IPSec network card' - a 100mbit ethernet card with
a DES/3DES chip on it to speed up ipsec connections going thougt the card.
Is there any Linux support for it?

Alex
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021019174810</emailId><senderName>"j2"</senderName><senderEmail>spamfilter2@mupp.net</senderEmail><timestampReceived>2002-10-19 17:48:10-0400</timestampReceived><subject>Re: Support of Intel Pro/100S?</subject><body>

&gt; Some of my more paranoid friends believe that the reason they do not
&gt; support it is that the chipset is backdoored or has some other GAKage.
&gt;
&gt; I am prone to agree with them.

Then i suggest that you fork out the money that Intel wants for the specs
and write a driver. They will sell the specs to anyone who pays for them.


---
Outgoing mail is certified Virus Free.
Checked by AVG anti-virus system (http://www.grisoft.com).
Version: 6.0.404 / Virus Database: 228 - Release Date: 2002-10-16

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021014170121</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-10-14 17:01:21-0400</timestampReceived><subject>Re: loop-aes nice value</subject><body>

Newsmail wrote:
&gt; Hi Jari, I saw that you changed the default nice value for the loop device
&gt; when the kernel is using mingo's sched. If I remember that value was -9.
&gt; Did you choose '-9' as a + - arbitrary value under 0, but over -20, or it
&gt; has some special reason to be -9 and not -5 for exemple?

I read Ingo's O(1) scheduler comments from kernel source. Process' nice is
dynamically adjusted -5...+5 based on how it has behaved in past. So, I
first tested with nice -5. Interactivity was OK with that. I kept increasing
priority until bad interactivity appeared at nice -10, so I chose -9.
Temporary bad interactivity still appeared at -9, but at -10 it was
sustained bad interactivity.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021014204205</emailId><senderName>Newsmail</senderName><senderEmail>newsmail@satimex.tvnet.hu</senderEmail><timestampReceived>2002-10-14 20:42:05-0400</timestampReceived><subject>Re: loop-aes nice value</subject><body>

I see, why do we need to have the highest priority possible for the loop 
device? and why does -20 just work fine for normal kernels?
cheers,
greg
At 18:01 2002. 10. 14.­, you wrote:
&gt;Newsmail wrote:
&gt; &gt; Hi Jari, I saw that you changed the default nice value for the loop device
&gt; &gt; when the kernel is using mingo's sched. If I remember that value was -9.
&gt; &gt; Did you choose '-9' as a + - arbitrary value under 0, but over -20, or it
&gt; &gt; has some special reason to be -9 and not -5 for exemple?
&gt;
&gt;I read Ingo's O(1) scheduler comments from kernel source. Process' nice is
&gt;dynamically adjusted -5...+5 based on how it has behaved in past. So, I
&gt;first tested with nice -5. Interactivity was OK with that. I kept increasing
&gt;priority until bad interactivity appeared at nice -10, so I chose -9.
&gt;Temporary bad interactivity still appeared at -9, but at -10 it was
&gt;sustained bad interactivity.
&gt;
&gt;Regards,
&gt;Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021017052213</emailId><senderName></senderName><senderEmail>test</senderEmail><timestampReceived>2002-10-17 05:22:13-0400</timestampReceived><subject>don't let this one pass you by!!1</subject><body>

This is a multi-part message in MIME format


check this out it"s worth your time, see att.

["Fw_ viaus Don't let this one pass you by!.email" (application/octet-stream)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021019213028</emailId><senderName>Alan</senderName><senderEmail>alan@clueserver.org</senderEmail><timestampReceived>2002-10-19 21:30:28-0400</timestampReceived><subject>Re: Support of Intel Pro/100S?</subject><body>

On Sat, 2002-10-19 at 10:48, j2 wrote:
&gt; &gt; Some of my more paranoid friends believe that the reason they do not
&gt; &gt; support it is that the chipset is backdoored or has some other GAKage.
&gt; &gt;
&gt; &gt; I am prone to agree with them.
&gt; 
&gt; Then i suggest that you fork out the money that Intel wants for the specs
&gt; and write a driver. They will sell the specs to anyone who pays for them.

That is the first I have heard of it.

How much do they want and who do i contact?

I have had people inside Intel trying to get these specs.  They will not
release them.  If you have better info, I would like to see it.


-- 
Alan &lt;alan@clueserver.org&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200210201353430</emailId><senderName></senderName><senderEmail>chinadabbs</senderEmail><timestampReceived>2002-10-20 13:53:43-0400</timestampReceived><subject>Welcome to ChinadaBBS!</subject><body>

This is a multi-part message in MIME format


=D5=E2=CA=C7=D2=BB=B8=F6HTML=B8=F1=CA=BD=B5=C4=D3=CA=BC=FE/This is a htm=
l format mail

[Attachment #3 (text/html)]

Welcome to Chinada BBS!
»¶Ó­¹âÁÙChinada´óÎ »ªÈË¾«Æ· ÛÌ³£¡
www.chinada.net.tc
www.bc.net.tc
&lt;p&gt;¡¡&lt;/p&gt;&lt;p align="center"&gt;***************************************************************&lt;br&gt;¸ÃÓÊ¼þÊ¹ÓÃ \
·ÉÁúÈº·¢Æ÷ ·¢ËÍ,ÓÊ¼þÄÚÈÝÓë·ÉÁúÈí¼þÎÞ¹Ø&lt;br&gt;·ÉÁúÈí¼þ &lt;a \
href="http://www.163sm.com/kt/"&gt; http://www.163sm.com/kt/&lt;/a&gt;&lt;br&gt;This mail was sent \
using FlyingDragon Mail Sender, But The contents &lt;br&gt;is none business of FlyingDragon \
Software. &lt;br&gt;Caretop Software: &lt;a \
href="http://www.163sm.com/kt/"&gt;http://www.163sm.com/kt&lt;/a&gt;&lt;br&gt;***************************************************************&lt;/p&gt;



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021020233026</emailId><senderName>"James Osalobua"</senderName><senderEmail>jamesosalobua4@lycos.com</senderEmail><timestampReceived>2002-10-20 23:30:26-0400</timestampReceived><subject>TREAT AS APPROPRIATE</subject><body>

Mr James Osalobua =2C
DEPARTMENT OF MINING AND MINERAL RESOURCES=2C
PRETORIA=2CSOUTH AFRICA=2E
TEL=2FFAX 277 3222 1616

REQUEST FOR ASSISTANCE=3A STRICTLY CONFIDENTIAL &amp; URGENT
 
Sir=2C

It is my great pleasure to write you this letter on behalf of my 
colleagues=2E Your information was given to me by a member of the 
South African Export Promotion council=28SAEPC=29 Who was with the 
Government 
delegation on a trip to your country for a bilateral confrence talk 
to encourage foreign investors=2E I have decided to seek a confidential 
co-operation with you in the execution of the deal hereunder for 
the benefit of all parties and hope you will keep it confidential 
because of the nature of this business=2E

Within the department of Minerials &amp; Energy where I work as a Director 
of Audit and Project implementation and with the co-operation of 
two other top officials=2C we have in our possession an overdue payment 
in US=28$=29 funds=2E

The said funds represent certain percentage of the total contract value 
executed on behalf of my
department by a foreign contracting firm which we the officials 
over-invoiced to the amount of
US$27=2E500=2C000=2E00=28Twenty-Seven Million Five Hundred Thousand Dollars=29=2E 
Though the actual contract cost
have been paid to the original contractor=2Cleaving the excess balance 
unclaimed=2E

Since the elected Government is determined to pay contractors all 
their debts owed=2C so as to maintain good relationship with the foreign 
governments and non-government agencies=2C we include ou=F8=F2=BF=BF=13=93=04=08 =CB
=04=08=04r approvals with the Department of Finance and the Reserve bank 
of South Africa=28RBSA=29=2E We are seeking your assistance to front as 
the beneficiary of the unclaimed funds=2C since we are not allowed 
to operate foreign accounts=2E Details and change of beneficiary 
information upon
application for claim to reflect payment and approvals will be secured 
on behalf of you=2Fyour company=2E

I have the authorities of my partners to propose that should you 
be willing to asist us in this transaction your share as compensation 
will be 25%=2C while my colleagues and I receive 65% and
the balance of 10% for taxation and miscellaneous expenses incured=2E

The business is completely safe and secure=2C provided you treat it 
with utmost confidentiality=2E It does not matter whether you=2Fyour 
company does contract projects as a transfer of powers will be secured 
in  favour of you=2Fyour company=2E Also=2C your area of specialization 
is not a hinderance to the successful execution of this transaction=2E 
I have reposed my confidence in you and I hope that you will not 
disappoint us=2E

Kindly notify me on my confidential email address as provided or 
my confidential TEL=2FFAX number thus 277 3222 1616=2E I will also prefer 
you to provide me with your telephone and fax number where i can 
reach you immediately for proper discussion for further details 
upon your acceptance of this proposal=2E 



Your's Faithfully=2C

Mr James Osalobua=2E



</body></email><email><emailId>200210210443010</emailId><senderName></senderName><senderEmail>chinadabbs</senderEmail><timestampReceived>2002-10-21 04:43:01-0400</timestampReceived><subject>Welcome to Chinada BBS!</subject><body>

This is a multi-part message in MIME format


=D5=E2=CA=C7=D2=BB=B8=F6HTML=B8=F1=CA=BD=B5=C4=D3=CA=BC=FE/This is a htm=
l format mail

[Attachment #3 (text/html)]

&lt;p&gt;Welcome to Chinada BBS!
»¶Ó­¹âÁÙChinada´óÎ »ªÈË¾«Æ· ÛÌ³£¡

&lt;p&gt;www.chinada.net.tc
&lt;p&gt;www.bcbbs.net.tc

&lt;p&gt;Sorry to interupt you!
¶Ô²»Æð´ËÓÊ¼þÎªÄú´øÀ´µÄ²»±ã£¡
&lt;p&gt;¡¡&lt;/p&gt;&lt;p align="center"&gt;***************************************************************&lt;br&gt;¸ÃÓÊ¼þÊ¹ÓÃ \
·ÉÁúÈº·¢Æ÷ ·¢ËÍ,ÓÊ¼þÄÚÈÝÓë·ÉÁúÈí¼þÎÞ¹Ø&lt;br&gt;·ÉÁúÈí¼þ &lt;a \
href="http://www.163sm.com/kt/"&gt; http://www.163sm.com/kt/&lt;/a&gt;&lt;br&gt;This mail was sent \
using FlyingDragon Mail Sender, But The contents &lt;br&gt;is none business of FlyingDragon \
Software. &lt;br&gt;Caretop Software: &lt;a \
href="http://www.163sm.com/kt/"&gt;http://www.163sm.com/kt&lt;/a&gt;&lt;br&gt;***************************************************************&lt;/p&gt;



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021021174819</emailId><senderName>Johnson Mowete</senderName><senderEmail>johnsonmowete12@excite.com</senderEmail><timestampReceived>2002-10-21 17:48:19-0400</timestampReceived><subject>Urgent Assistance</subject><body>

This is a multi-part message in MIME format

TEL:+31-641-229-662

CONFIDENTIAL BUSINESS PROPOSAL

You may be surprised to receive this letter from me since you do not know me
personally. The purpose of my introduction is that I am Johnson Mowete the
first son of Frank Mowete ,a farmer in Zimbabwe who was recently murdered in
the land dispute in my country. I got your contact from the network online
hence decided to write you.
Before the death of my father, he had taken me to Johannesburg to deposit
the sum of US8.5 million (Eight million, Five Hundred thousand United States
dollars), in one of the private security company, as he foresaw the looming
danger in Zimbabwe this money was deposited in a box as gem stones to avoid
much demurrage from security company. This amount was meant for the purchase
of new machines and chemicals for the Farms and establishment of new farms
in Swaziland.
This land problem came when Zimbabwean President Mr.Robert Mugabe introduced
a new Land Act Reform wholly affecting the rich white farmers and some few
black farmers, and this resulted to the killing and mob action by Zimbabwean
war veterans and some lunatics in the
society. In fact a lot of people were killed because of this Land reform Act
for which my father was one of the victims.It is against this background
that, I and my family fled Zimbabwe for fear of our lives and are currently
staying in the Netherlands where we are seeking political asylum and moreso
have decided to transfer my father's money to a more reliable foreign
account. since the law of Netherlands prohibits a refugee (asylum seeker) to
open any bank account or to be involved in any financial transaction
throughout the territorial zone of Netherlands, As the eldest son of my
father, I am saddled with the responsibility of seeking a genuine foreign
account where this money could be transferred without the knowledge of my
government who are bent on taking everything we have got. The South African
government seems to be playing along with them.
I am faced with the dilemma of moving this amount of money out of South
Africa for fear of going through the same experience in future, both
countries have similar political history. As a businessman,I am seeking for
a partner who I have to entrust my future and that of my family in his
hands, I must let you know that this transaction is risk free. If you accept
to assist me and my family, all I want you to do for me, is to make an
arrangements with the security company to clear the consignment(funds) from
their afiliate office here in the Netherlands as i have already given
directives for the consignment to be brought to the Netherlands from South
Africa.But before then all modalities will have to be put in place like
change of ownership to the consignment and more importantly this money I
intend to use for investment.
I have two options for you. Firstly you can choose to have certain
percentage of the money for nominating your account for this transaction. Or
you can go into partnership with me for the proper profitable investment of
the money in your country. Whichever the option you want, feel free to
notify me. I have also mapped out 5% of this money for all kinds of expenses
incurred in the process of this transaction.If you do not prefer a
partnership I am willing to give you 10% of the money while the remaining
85% will be for my investment in your country. Contact me with the above
telephone number and E-mail address, while I implore you to maintain the
absolute secrecy required in this transaction.
Thanks, GOD BLESS YOU
Yours Faithfully
Johnson   

</body></email><email><emailId>20021022183845</emailId><senderName>"Brian Fowler"</senderName><senderEmail>bfowler@electronicsearch.com</senderEmail><timestampReceived>2002-10-22 18:38:45-0400</timestampReceived><subject>Hello</subject><body>

Hi.


I found your email address on the internet using a search targeting a few
wireless equipment manufacturers.

I am a Technical Recruiter and am in need of Sales Executives and a Vice
President of Sales in the United States.  My client is looking for Sales
people who have sold software, hardware and/or technology services into Tier
1 and Tier 2 wireless carriers.

If you know anyone who may be interested in such a position, please send
them this note and have them contact me.


Best Wishes,
Brian Fowler

Brian W. Fowler
Technical Recruiter
Electronic Search, Inc.
bfowler@electronicsearch.com

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021023134050</emailId><senderName>"Bradley Jenkins"</senderName><senderEmail>braddeicide@hotmail.com</senderEmail><timestampReceived>2002-10-23 13:40:50-0400</timestampReceived><subject>cryptoloop vs loop-aes</subject><body>

I've got cryptoAPI and cryptoloop-0.0.1-pre1 running nicely (albeit ext3 on 
ext3)  I've just found out about loop-aes and was relieved to see a higher 
version number :)  I am wondering though  why cryptoloop was written when 
loop-aes has been around soo long?  does it do somthing more that loop-aes 
cannot?

Also wondering if anyone knew of a good GNU hdd cleaning tool, other than a 
sledge hammer :)

Brad.

_________________________________________________________________
Choose an Internet access plan right for you -- try MSN! 
http://resourcecenter.msn.com/access/plans/default.asp

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021024135641</emailId><senderName>Palm OS Developer Program</senderName><senderEmail>reg_dev@palmsource.com</senderEmail><timestampReceived>2002-10-24 13:56:41-0400</timestampReceived><subject>Thank you for your Palm OS Developer Profile</subject><body>

Dear Palm OS Developer:  

Thank you for taking the time to complete and submit the Palm OS 
Developer Profile. This is to confirm that we have received your Profile. 
 

Below is the password, which will allow you temporary access to the 
Resource Pavilion at http://www.palmos.com/dev/programs/pdp/login.html.  
Though a temporary password has been issued, if upon review, it is 
determined that the information submitted is incomplete, your Profile 
will be removed from the Palm OS Developer Database and future access to 
the Resource Pavilion will be denied.

Password: 3458275

Upon review and approval of your profile, (please allow one to two 
business days for review) you will receive a second email confirming your 
membership, your temporary password will become your permanent password.  
Please keep in mind that your temporary password will not grant you 
access to all developer tools immediately (i.e., ROM image files, Source 
Code, Market Research).  A license agreement, which must be on file with 
Palm, Inc. will be activated upon our completed review and approval.

Thank you for your interest in the Palm Economy.

Palm OS Developer Program Team


NOTE:  Please do not reply to this e-mail.  This email address is solely 
for outbound mail.  Please direct any inquiries to the PalmOS Information 
Station  (link to http://www.palmos.com/information).

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021025161553</emailId><senderName>Aladdin List Server</senderName><senderEmail>ecartis@webmailer.ealaddin.com</senderEmail><timestampReceived>2002-10-25 16:15:53-0400</timestampReceived><subject>Subscribed to list 'hasp_products'</subject><body>

&gt;&gt; (Subscribed to list by listar@listar.eAladdin.com)
&gt;&gt; Subscribe hasp_products linux-crypto@nl.linux.org
You have been added to list 'hasp_products'


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021025161554</emailId><senderName>Aladdin List Server</senderName><senderEmail>ecartis@webmailer.ealaddin.com</senderEmail><timestampReceived>2002-10-25 16:15:54-0400</timestampReceived><subject>Welcome to the HASP Products mailing list.</subject><body>

Thank you for subscribing to the HASP Products mailing list. 
This list will provide you with the latest information and developments regarding 
the HASP (Hardware Against Software Piracy) technology line.


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200210251615540</emailId><senderName>Aladdin List Server</senderName><senderEmail>ecartis@webmailer.ealaddin.com</senderEmail><timestampReceived>2002-10-25 16:15:54-0400</timestampReceived><subject>Welcome to the eToken Updates mailing list.</subject><body>

Thank you for subscribing to the eToken Updates mailing list.
This list will provide you with the latest information regarding 
availability of new applications, news and product updates.


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021025181156</emailId><senderName>Aladdin List Server</senderName><senderEmail>ecartis@webmailer.ealaddin.com</senderEmail><timestampReceived>2002-10-25 18:11:56-0400</timestampReceived><subject>You have signed off 'hasp_products'</subject><body>

Thank you for using Aladdin Mailing List


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200210251811560</emailId><senderName>Aladdin List Server</senderName><senderEmail>ecartis@webmailer.ealaddin.com</senderEmail><timestampReceived>2002-10-25 18:11:56-0400</timestampReceived><subject>You have signed off 'etoken_products'</subject><body>

Thank you for using Aladdin Mailing List


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021025181157</emailId><senderName>Aladdin List Server</senderName><senderEmail>ecartis@webmailer.ealaddin.com</senderEmail><timestampReceived>2002-10-25 18:11:57-0400</timestampReceived><subject>Unsubscribed from list 'hasp_products'</subject><body>

&gt;&gt; (Unsubscribed from list by listar@listar.eAladdin.com)
&gt;&gt; Unsubscribe hasp_products linux-crypto@nl.linux.org
You have been removed from list 'hasp_products'


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021025181158</emailId><senderName>Aladdin List Server</senderName><senderEmail>ecartis@webmailer.ealaddin.com</senderEmail><timestampReceived>2002-10-25 18:11:58-0400</timestampReceived><subject>Unsubscribed from list 'etoken_products'</subject><body>

&gt;&gt; (Unsubscribed from list by listar@listar.eAladdin.com)
&gt;&gt; Unsubscribe etoken_products linux-crypto@nl.linux.org
You have been removed from list 'etoken_products'


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021025195632</emailId><senderName>Dan Hollis</senderName><senderEmail>goemon@anime.net</senderEmail><timestampReceived>2002-10-25 19:56:32-0400</timestampReceived><subject>Re: Subscribed to list 'etoken_products'</subject><body>

On Fri, 25 Oct 2002, Jon Masters wrote:
&gt; Did anyone produce proof that they were the ones who signed up
&gt; linux-crypto to said mailing list? i.e. it might not just be spam.

I didn't look at the headers, but they would be conclusive proof.

&gt; P.S. "Firewalling", or indiscrimately filtering mail based on such
&gt; blacklists as certain high profile ones is always wrong in my view - I
&gt; certainly wouldn't pay a provider who did such things to my mail. I get a
&gt; /lot/ of spam but I don't filter out such mail just in case it's useful.

Whoever it was needs to be firewalled. Such abusive behaviour shouldn't be
tolerated.

-Dan
-- 
[-] Omae no subete no kichi wa ore no mono da. [-]

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021026174730</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-10-26 17:47:30-0400</timestampReceived><subject>Re: loop-aes: cannot mount crypted cdrom when ide-scsi</subject><body>

Michael Hanke wrote:
&gt; I've put a loop-file (backup.img) on cdrom, with a IDE cdwriter.
&gt; 
&gt; Now, if I want to mount the image file from the harddisk before burning,
&gt; I successfully
&gt; 
&gt; echo $password | mount -t ext2 -p 0 -o loop=/dev/loop2,encryption=AES128 /backup.iso /backup-cd/
&gt; 
&gt; But, the cd cannot be mounted from the cdrom drive:
&gt; echo $password | mount -t ext2 -p 0 -o loop=/dev/loop2,encryption=AES128 /dev/sr1 /backup-cd/
&gt; mount: wrong fs type, bad option, bad superblock on /dev/loop2,
&gt;        or too many mounted file systems
&gt; 
&gt; Of course with linux one has to use ide-scsi for a IDE cdwriter, without
&gt; which I've never had burnt the cd.
&gt; 
&gt; Then I reboot the computer *without* the kernel option 'hdc=ide-scsi' .
&gt; 
&gt; And now
&gt; echo $password | mount -t ext2 -p 0 -o loop=/dev/loop2,encryption=AES128 /dev/hdc /backup-cd/
&gt; 
&gt; works alright.
&gt; 
&gt; The blocksize of the original loop-file was 1024, don't know if that's
&gt; of any interest.

Soft blocksize of 1024 is the problem here, because 1024 is not integer
multiple of hard sectorsize of 2048. I have noticed that ide cdrom code has
workarounds for partial hard sector reads, but scsi code does not appear to
do that.

So, create your ext2 filesystem with 2048 or 4096 soft blocksize like this:

    mkfs -t ext2 -b 4096 /dev/loop2
                 ^^^^^^^
and it should work with ide-scsi code also.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021027091833</emailId><senderName>"Giovanni"</senderName><senderEmail>smith_it@yahoo.com</senderEmail><timestampReceived>2002-10-27 09:18:33-0400</timestampReceived><subject>Guadagnare navigando!!!!!!!!!!!!!!!!!!!!!!!!!</subject><body>

PROVA A NAVIGARE CON QUESTO NUOVO PROVIDER
E' VELOCE ED AFFIDABILE

http://www.emoti.it/home/?ID=426

TI PAGANO PURE PER NAVIGARE!!!


[Attachment #3 (text/html)]

&lt;!-- saved from url=(0022)http://internet.e-mail --&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Untitled Document&lt;/title&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"&gt;
&lt;/head&gt;

&lt;body bgcolor="#FFFFFF" text="#000000"&gt;
&lt;table width="550" border="2" cellspacing="0" cellpadding="0" align="center" \
height="198" bordercolor="#999999"&gt;  &lt;tr&gt;
    &lt;td height="258"&gt; 
      &lt;p align="center"&gt;&lt;font size="5" face="Arial, Helvetica, sans-serif"&gt;PROVA 
        A NAVIGARE CON QUESTO NUOVO PROVIDER&lt;br&gt;
        E' VELOCE ED AFFIDABILE&lt;br&gt;
        &lt;br&gt;
        &lt;a href="http://www.emoti.it/home/?ID=426"&gt;http://www.emoti.it/home/?ID=426&lt;/a&gt;&lt;br&gt;
  &lt;br&gt;
        TI PAGANO PURE PER NAVIGARE!!!&lt;/font&gt;&lt;/p&gt;
      &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
&lt;/body&gt;
&lt;/html&gt;



</body></email><email><emailId>20021028182351</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-10-28 18:23:51-0400</timestampReceived><subject>Re: CryptoAPI, loop-AES, Ext3, Wi-Fi and AES256</subject><body>

Bradley Jenkins wrote:
&gt; A few questions about the glorious loop-AES :)
&gt; 
&gt; 1. Is there a tip jar?

Nope.

&gt; 2. Will my old Ext3-&gt;Loop-&gt;Ext3-&gt;Device CryptoAPI backup survive if i mount
&gt; it as read only? is it dependible enough for me to Gutmann (erase the hell)
&gt; out of the origionals? I've Md5'd the contents and their fine ATM

loop-AES is compatible with 512-byte-IV-cryptoapi versions as long as you
use "-o phash=rmd160" mount option, or "-H rmd160" losetup option.

&gt; 3. Can Wi-Fi or general network traffic be put in a loop-AES? IE point the
&gt; loop to /dev/eth0 and make sure the others pc's are doing the same?

No, loop can only be used with block device or regular file.

&gt; 4. I've replaced all instances of AES128 with AES256, it hasn't complained,
&gt; i assume this is the way to use a 256k key?  Does anyone know what kind of
&gt; data overhead the keysize makes?

AES256 offers about 72% to 73% of AES128 performance on my tests. Usually
limiting factor is disk data transfer speed, so AES128 just consumes less
CPU cycles at same megabytes/second data transfer speed.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021029222950</emailId><senderName>Richard Guy Briggs</senderName><senderEmail>rgb@conscoop.ottawa.on.ca</senderEmail><timestampReceived>2002-10-29 22:29:50-0400</timestampReceived><subject>Re: A new idea.....</subject><body>

On Mon, Oct 28, 2002 at 07:05:04PM -0800, Tener, Stuart B., IT3 , USNR-R wrote:
&gt; Crypto listmembers:
&gt; 
&gt; 	Has anyone thought about the idea of taking the encryption code
&gt; from loop-aes and making a standardized set of calls out of it and
&gt; packaging it as a loadable module?

Modules are good for convenience, but making them statically linkable as
well would be necessary for some users since they will want to raise the
bar for anyone attacking their system.  It is easier to attack a system
and unload the crypto module and load in a dummy module in its place
than it is to compile a new kernel and reboot without being noticed.

&gt; 	If this could be done, the system calls could be used by any
&gt; software and distributed independent of the Linux kernel, and be
&gt; standardized for an inordinate number of uses, no?

Yes, but by now, that all seems moot since jamesm, davem and alexey have
put it into the main kernel tree.

&gt; 	I am just learning about adding system calls to Linux via
&gt; loadable modules, so its why I am asking this question. I have not read
&gt; the loop-aes code extensively so I do not know if this is technically
&gt; feasible absent an overtly difficult rewrite of the code.
&gt; 
&gt; 
&gt; Very Respectfully, 
&gt; 
&gt; Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG 
&gt; Beverly Hills, California
&gt; Ship Augmentation Unit (SAU)  
&gt; stuart@bh90210.net 
&gt; west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043 
&gt; east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859 
&gt; 
&gt; Telecopier: (419)-715-6073 fax to email gateway via www.efax.com (it's
&gt; free!) 
&gt; 
&gt; JOIN THE US NAVY RESERVE, SERVE YOUR COUNTRY, AND BENEFIT FROM IT ALL. 
&gt; 
&gt; Monday, October 28, 2002 6:57 PM
&gt; 
&gt; 
&gt; 
&gt; 
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/

	slainte mhath, RGB

-- 
Richard Guy Briggs           --    ~\                 Auto-Free Ottawa! Canada
&lt;www.TriColour.net&gt;            --    \@       @           &lt;www.flora.org/afo/&gt;
No Internet Wiretapping!        --   _\\/\%___\\/\%        Vote! -- &lt;Green.ca&gt;
&lt;www.FreeSWAN.org&gt;_______GTVS6#790__(*)_______(*)(*)_______&lt;www.Marillion.com&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021030014240</emailId><senderName>Jean-Luc Cooke</senderName><senderEmail>jlcooke@certainkey.com</senderEmail><timestampReceived>2002-10-30 01:42:40-0400</timestampReceived><subject>Re: rootkit and 10 minutes ?</subject><body>

Humm...arguments start like this.

On Tue, Oct 29, 2002 at 05:40:14PM -0500, Michael T. Babcock wrote:
&gt; &gt;You're trying to make water not wet.  You're trying to make software secure
&gt; &gt;when running on a system you claim to have been comprimized.  This is a
&gt; &gt;losing proposition.
&gt; &gt;
&gt; 
&gt; No, you're missing the point.  I'm trying to secure, for example, a 
&gt; laptop that might get stolen.  I'm trying to make the data on said 
&gt; laptop useless to anyone who gets the laptop but not my key (until they 
&gt; crack it).  In other words, I'm working with reality ...

So we're after the same goal, good.

&gt; &gt;If you want to have a system that is secure reguardless if your box has been
&gt; &gt;trojend or comprimized in any other way, then you need a hardware crypto
&gt; &gt;token.  There's no other way around this.
&gt; &gt;
&gt; 
&gt; I already said that I want an external USB-style key system to actually 
&gt; do either the storage of the key or the crypto work; that was in my 
&gt; first message.

Your first message was not clear to me.

&gt; &gt;That being said, it's best to make the system faster, easier, simpler or all
&gt; &gt;of the above if we agree you can't trust software in your server room.
&gt; &gt;  
&gt; &gt;
&gt; 
&gt; This doesn't sound like you feel like dealing with what I said; you've 
&gt; in fact given no reason why the crypto or keying should be in the kernel 
&gt; as you proposed.  My first response quite simply said that its better 
&gt; off in user space and that you gain nothing by having it in kernel 
&gt; space.  My second response gave reasons why this is so and offered an 
&gt; 'ultimate' solution which would also reside in user space (but not 
&gt; related to my first response which revolved around loop devices).

Gain nothing in kernel space?  What's your argument for userspace then,
because I fail to see any value to it.  Seems this is a Endian issue (as in
Gulliver, not Intel/Motorola).  So I'd be inclined to not change anything if
there is no clear advantage.

My interpretation of your second reply to me was that you assumed the laptop
was stolen and you want to gain access.  Which is very different from getting
your laptop stolen and trying to protect data.  This is where I think you
overlooked the subtle difference in requirements.

1) You need to securely recover data from a possibly compromised machine,
2) You only require data to remain inaccessible in the event of compromise.

#2 is a subset of the requirements in #1.  To comply with #2, the USB based
system will work great, kernel-space or not.  #1 can only be done reliably in
hardware, if the machine was rooted in kernel-space, user-space or ld.so then
you're hosed.

JLC

-- 
http://www.certainkey.com
Suite 4560 CTTC
1125 Colonel By Dr.
Ottawa ON, K1S 5B6
C: 613.263.2983
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021031193635</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-10-31 19:36:35-0400</timestampReceived><subject>Re: loop-AES depreciated in linux-2.6 ?</subject><body>

Bradley Jenkins wrote:
&gt; I read that the CryptoAPI has been merged into linux-2.6 kernel, what will
&gt; this mean for LoopAES users?  currently CryptoAPI and loopAES cannot be run
&gt; at the same time due to different kernel settings.  As CryptoAPI is in the
&gt; kernel i imagine a lot of programs will start using it, meaning people will
&gt; have to make a choice between these new cryptographic programs or LoopAES?

Kernel parts of loop-AES do not conflict with morris-cryptoapi or
kerneli.org-cryptoapi. Userspace tools (losetup/mount/swapon) do have a
conflict, and one needs to choose one or the other.

&gt; Or can loopAES learn to work with with CONFIG_BLK_DEV_LOOP enabled?  There's
&gt; probably a lot more to it, there always is :)

Loop-AES' CONFIG_BLK_DEV_LOOP=n requirement is there because loop drivers in
mainline kernels are just too buggy. Kerneli.org folks deal with this by
providing a kernel patch and then letting you deal with patch rejects.
Loop-AES deals with this by requiring you to type "make". Loop-AES' Makefile
builds a better loop driver outside of kernel source tree.

Loop-AES will support 2.6 kernels, and will be faster and less buggy than
anything kerneli.org folks can come up with. Kerneli.org folks have
repeatedly demonstrared that they are willing to sacrifice speed by using
unoptimal api. If morris-cryptoapi evolves to something of equal or higher
quality than what is used in loop-AES internally, then loop-AES will of
course switch to using morris-cryptoapi.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021031210803</emailId><senderName>Michael Richardson</senderName><senderEmail>mcr@sandelman.ottawa.on.ca</senderEmail><timestampReceived>2002-10-31 21:08:03-0400</timestampReceived><subject>hi</subject><body>


who linux-crypto

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020901131552</emailId><senderName>"Evelin_S."</senderName><senderEmail>evelyn@ce2.time.net.my</senderEmail><timestampReceived>2002-09-01 13:15:52-0400</timestampReceived><subject>Re: Grillen???</subject><body>

&lt;body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#0000FF" alink="#FF0000"&gt;
Hallo Karin,&lt;br&gt;
&lt;br&gt;
&gt; wollen wir heute noch grillen?&lt;br&gt;
&lt;br&gt;
Klar, ich bringe Getränke und Kuchen mit. 18 Uhr ist o.k.&lt;br&gt;
&lt;br&gt;
&gt; Hast Du den Link noch zu dieser "dunklen" Seite? Du weißt schon, &lt;br&gt;
&gt; wo wir das letzemal darüber gesprochen haben..&lt;br&gt;
&lt;br&gt;
:-) Willst Du jetzt doch an den Typen schreiben? Na, viel Erfolg :-)&lt;br&gt;
&lt;br&gt;
&lt;a href="http://claudia.xfiles24.com"&gt;Hier der Link&lt;/a&gt;&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
Wir sehen uns!&lt;br&gt;
Evelyn&lt;br&gt;
</body></email><email><emailId>20020901161337</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-09-01 16:13:37-0400</timestampReceived><subject>Re: losetup options</subject><body>

Newsmail wrote:
&gt; maybe its an already answered question, but I dont find any information
&gt; about the -T option Jari uses in his loop-aes examples: losetup -e AES128
&gt; -T /dev/loop0 /dev/hda666
&gt; what is the -T option?

Try "man losetup", this line should be there:

-T     asks password twice.

However, a bug in loop-AES' install instructions instruct to install man
pages to /usr/man/ directory. Many newer (all?) distros put man pages to
/usr/share/man/ directory. So a bug in installation instructions may be the
real cause of this.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020902031251</emailId><senderName>Tom Vier</senderName><senderEmail>tmv@comcast.net</senderEmail><timestampReceived>2002-09-02 03:12:51-0400</timestampReceived><subject>LOOP_SET_STATUS</subject><body>

this happens with all ciphers. losetup prompts for a keysize, then passwd,
then it spits this out:

The cipher does not exist, or a cipher module needs to be loaded into the kernel
ioctl: LOOP_SET_STATUS: Invalid argument

yet, it is loaded. i've tried it with all the crypto stuff compiled in, and
as modules, and with the loop file on reiserfs and ext2. same error. this is
on an alpha running 2.4.19. i'm using the latest cryptoapi rc1 patch and
debian stable's crypto aware losetup.

-- 
Tom Vier &lt;tmv@comcast.net&gt;
DSA Key ID 0xE6CB97DA
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020907232447</emailId><senderName>Harmon Seaver</senderName><senderEmail>hseaver@cybershamanix.com</senderEmail><timestampReceived>2002-09-07 23:24:47-0400</timestampReceived><subject>Re: [Q] merging mainline kernel</subject><body>

On Sat, Sep 07, 2002 at 02:45:37PM -0400, Michael Richardson wrote:
&gt;   Also in theory, RSA and DNA is not patentable, US citizens can never be
&gt; denied their constitutional rights, Scott Adams Games is still in business,

  Scott Adams??? Are you sure you aren't talking about Steve Jackson Games?


&gt; and sysadmins have the right to verify the security of their systems.
&gt; 
&gt;   If US citizens work on crypto, regardless of where they compile it,
&gt; they make that crypto become under the control of the US. That is still
&gt; true even today.

   Far be it for me to defend the US gov actions, but (other than on the hemp
front) I think CA is pretty scary as well. In fact, if you've noticed, other
than their moves to end the War on Some Drugs outside the US, the whole English
speaking world is getting *really* scary. I lived in CA for a year, came back to
the US after it became quite clear to me that civil rights were totally
non-existent in CA, and that was 30 years ago. 
   Really good to see what CA is doing on the marijuana issue, but I sure don't
see them otherwise looking like a safe place to live or do business. Not that
the US is, even remotely. 


-- 
Harmon Seaver	
CyberShamanix
http://www.cybershamanix.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020911050405</emailId><senderName>"DR BALA BAMAIYI."</senderName><senderEmail>bamaiyiy2k@euroseek.com</senderEmail><timestampReceived>2002-09-11 05:04:05-0400</timestampReceived><subject>MUTUAL BUSINESS VENTURE AND TRANSACTION.</subject><body>

This is a multi-part message in MIME format

From: Dr. BALA ISHAYA BAMAIYI 
Email:bamaiyiy2k@euroseek.com 
Tel:+234-8033285603. 
     
Dear Sir/Madam, 
              RE:APPEAL FOR ASSISTANCE TO CLAIM THE SUM OF 
                US$75,000,000.00 AND LODGE IN SAFE BANK ACCOUNT, 
                     ON BEHALF OF MY FAMILY. 
  
I greet you in the name of our God Almighty. 
My name is Dr. Bala Ishaya Bamaiyi a dentist and the eldest son of the =
currently
detained Chief of Army staff, General Ishaya Bamaiyi (Rtd) during the past 
Military Administration of late General Sanni Abacha and General Abdusalam =
Abubakar 
respectively. I gain access into your e-mail account in my view of searching =
for a 
trust worthy and reliable personality through the Internet. 
  
At the moment my father is facing trail and is being kept under serious =
surveillance 
by the present civilian government. The reason why I am now reaching out to =
you 
is because my dad has instructed me to source for a trustworthy and reliable =

foreignerwho can assist us to claim the sum of US$75,000,000.00. and keep in =
a 
safe account on his behalf.
These funds had been secretly withdrawn into the safe of a security company =
overseas. 
This is because my dad does not want these funds to be traced to him or any =
member 
of our family because of his present predicament.
  
More so, the present civilian administration is mostly occupied by the =
political 
rivals of my dad, who likely want the downfall of our entire family. =
Presently some 
of our properties have been seized and both my dad local and offshore =
accounts have 
been frozen. 
  
What I need  from you now is to assist me and my family in claiming these =
funds from 
the security company overseas on behalf of my father. Your interest for =
assisting 
us and acting, as my father foreign partner and sponsorer will be 25% of the =
total 
sum to be claimed. You will also be coordinating any future investments we =
may decide
to carry out overseas on behalf of our family. 
Automatically you will be the family fiduciary agent and foreign partner.
I will be delighted, if you treat this business as confidential and urgent. 
Please on no account should you discuss this business with any third party, =
as you, 
my dad, the family attorney and my self were the only people having knowledge =
of 
these funds. 
I want to assure you that this business is 100% risk free. It does not =
connect 
to Taliban/ Terrorist financial matters or drug/money laundry affairs. 
It is absolutely money kept offshore by my dad for business and family use =
after 
his retirement from Nigeria Army service.
Please don't hesitate to get back to me urgently whether you are interested =
to 
assist or not. 
I will be obliged for your anticipated co-operation and assistance. 
  
Awaiting your urgent response. 
Yours truly, 
Dr. Bala Ishaya Bamaiyi     


       ----------------------------------------------
       This email is send by "Email Sender Express"



</body></email><email><emailId>20020912003759</emailId><senderName>Stelios Bounanos</senderName><senderEmail>sb@dial.pipex.com</senderEmail><timestampReceived>2002-09-12 00:37:59-0400</timestampReceived><subject>Re: cryptoapi &amp; loop-aes &amp; ext3 &amp; file based encryption</subject><body>

 &gt;&gt;&gt;&gt;&gt; On Wed, 11 Sep 2002 21:09:57 +0200, Martin 
 &gt;&gt;&gt;&gt;&gt; &lt;opitz@informatik.uni-frankfurt.de&gt; was rumoured to have said:

 &gt;&gt; http://mail.nl.linux.org/linux-crypto/2002-02/msg00020.html
 &gt;&gt; 
 &gt;&gt; http://mail.nl.linux.org/linux-crypto/2002-06/msg00047.html
 &gt;&gt; (and other messages in this thread)


 &gt; Many thanks for the interesting arcticles.

 &gt; So, if I understand right:

 &gt; When I mount ext3 at boot with fstab it defaults to data=ordered and thus I can
 &gt; use for loop-aes &amp; cryptoapi:

 &gt; ext3 -&gt; loop -&gt; ext3 (default=ordered) -&gt; partition

 &gt; with no future options.

 &gt; Also

 &gt; ext2 -&gt; loop -&gt; ext3 -&gt; partition

 &gt; should work with no problem.

 &gt; Correct ?

Yes, this is my understanding as well.

 &gt; BTW, what is more reliable, loop-aes or cryptoapi ? I have the feeling
 &gt; from the postings that more people use loop-aes. Maybe I'm wrong.

I can't comment on this, as I've never used loop-aes or run cryptoapi in
a particularly stressing environment. However, I seem to remember the
author of loop-aes claiming that it perfoms better than the cryptoapi,
so you might want to test and compare them on that basis also.

 &gt; Thanks !
 &gt; Martin


Rgds,
/-sb.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020916050829</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-09-16 05:08:29-0400</timestampReceived><subject>Re: ext3 &amp; e2fsck &amp; simulated crash &amp; loop-aes</subject><body>

Martin wrote:
&gt; so I have now loop-aes with file backed and ext3-&gt;ext3-&gt;partition.
&gt; I did copy a large file from the normal partition to the crypto-file
&gt; and in the middle just pressed reset. I wanted to see what happens.
&gt; 
&gt; I just wonder because at boot e2fsck says for the whole partition (where
&gt; the cryptofile is as well) "recovering journal". Now when I make
&gt; a losetup -e to /dev/loop0 for the file and then a e2fsck /dev/loop0
&gt; (or e2fsck -f /dev/loop0) it says everything is ok. I wonder why it
&gt; doesn't say recovering journal for the crypto-fs as well like for the
&gt; whole partition on boot ? Anyone can explain it to me ?

If you use fsck, be sure to specify filesystem type as ext3. And if you are
just mounting it without fsck, EXT3 FS writes "recovery complete" message
using kernel printk(). You have to use dmesg program to display it on your
console. On boot before klogd and syslogd are started, such printk()s are
usually displayed on the console. That doesn't necessarily happen after boot
has completed. I tried to reproduce this twice in data=ordered mode. On
first attempt I used fsck to replay the journal. Here is output of that
attempt:

# losetup -e AES128 /dev/loop0 /root/zz
loop: loaded (max 8 devices)
Password:
# fsck -t ext3 -f /dev/loop0
fsck 1.27 (8-Mar-2002)
e2fsck 1.27 (8-Mar-2002)
/dev/loop0: recovering journal
Pass 1: Checking inodes, blocks, and sizes
Pass 2: Checking directory structure
Pass 3: Checking directory connectivity
Pass 4: Checking reference counts
Pass 5: Checking group summary information
/dev/loop0: 12/102400 files (0.0% non-contiguous), 7322/102400 blocks

On second attempt, I just mounted it and EXT3 FS replayed the journal. Here
is output of that attempt:

# mount -t ext3 /root/zz /mnt666 -o loop=/dev/loop0,encryption=AES128
loop: loaded (max 8 devices)
Password:
kjournald starting.  Commit interval 5 seconds
EXT3 FS 2.4-0.9.17, 10 Jan 2002 on loop(7,0), internal journal
EXT3-fs: recovery complete.
EXT3-fs: mounted filesystem with ordered data mode.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020911004612</emailId><senderName>"DR BALA BAMAIYI."</senderName><senderEmail>bamaiyiy2k@euroseek.com</senderEmail><timestampReceived>2002-09-11 00:46:12-0400</timestampReceived><subject>MUTUAL BUSINESS VENTURE AND TRANSACTION.</subject><body>

This is a multi-part message in MIME format

From: Dr. BALA ISHAYA BAMAIYI 
Email:ishayabamaiyi@euroseek.com 
Tel:+234-8033285603. 
     
Dear Sir/Madam, 

              RE:APPEAL FOR ASSISTANCE TO CLAIM THE SUM OF 
                US$75,000,000.00 AND LODGE IN SAFE BANK ACCOUNT, 
                     ON BEHALF OF MY FAMILY. 
  
I greet you in the name of our God Almighty. 
My name is Dr. Bala Ishaya Bamaiyi a dentist and the eldest son of the =
currently
detained Chief of Army staff, General Ishaya Bamaiyi (Rtd) during the past 
Military Administration of late General Sanni Abacha and General Abdusalam =
Abubakar 
respectively. I gain access into your e-mail account in my view of searching =
for a 
trust worthy and reliable personality through the Internet. 
  
At the moment my father is facing trail and is being kept under serious =
surveillance 
by the present civilian government. The reason why I am now reaching out to =
you 
is because my dad has instructed me to source for a trustworthy and reliable =

foreignerwho can assist us to claim the sum of US$75,000,000.00. and keep in =
a 
safe account on his behalf.

These funds had been secretly withdrawn into the safe of a security company =
overseas. 
This is because my dad does not want these funds to be traced to him or any =
member 
of our family because of his present predicament.

  
More so, the present civilian administration is mostly occupied by the =
political 
rivals of my dad, who likely want the downfall of our entire family. =
Presently some 
of our properties have been seized and both my dad local and offshore =
accounts have 
been frozen. 
  
What I need  from you now is to assist me and my family in claiming these =
funds from 
the security company overseas on behalf of my father. Your interest for =
assisting 
us and acting, as my father foreign partner and sponsorer will be 25% of the =
total 
sum to be claimed. You will also be coordinating any future investments we =
may decide
to carry out overseas on behalf of our family. 

Automatically you will be the family fiduciary agent and foreign partner.
I will be delighted, if you treat this business as confidential and urgent. 
Please on no account should you discuss this business with any third party, =
as you, 
my dad, the family attorney and my self were the only people having knowledge =
of 
these funds. 

I want to assure you that this business is 100% risk free. It does not =
connect 
to Taliban/ Terrorist financial matters or drug/money laundry affairs. 
It is absolutely money kept offshore by my dad for business and family use =
after 
his retirement from Nigeria Army service.

Please don't hesitate to get back to me urgently whether you are interested =
to 
assist or not. 

I will be obliged for your anticipated co-operation and assistance. 
  
Awaiting your urgent response. 
Yours truly, 

Dr. Bala Ishaya Bamaiyi  
  

</body></email><email><emailId>20020911100233</emailId><senderName>Martin</senderName><senderEmail>opitz@informatik.uni-frankfurt.de</senderEmail><timestampReceived>2002-09-11 10:02:33-0400</timestampReceived><subject>cryptoapi &amp; loop-aes &amp; ext3 &amp; file based encryption</subject><body>

Hello All,

I have one question. I have an ext3-filesystem. I want to make a file
in this filesystem and want to encrypt &amp; mount it (file based system, not
the whole device based system)
What filesystem can I use in that encrypted file, ext3 or only ext2 when
the filesystem where that file will be uses ext3 ?
Can you tell me the answer for both loop-aes &amp; cryptoapi, please ?
I don't want my data get corrupted by using wrong combinations.

Many thanks for the Help !

Martin

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020911114503</emailId><senderName>Stelios Bounanos</senderName><senderEmail>sb@dial.pipex.com</senderEmail><timestampReceived>2002-09-11 11:45:03-0400</timestampReceived><subject>Re: cryptoapi &amp; loop-aes &amp; ext3 &amp; file based encryption</subject><body>

 &gt;&gt;&gt;&gt;&gt; On Wed, 11 Sep 2002 12:02:33 +0200, Martin 
 &gt;&gt;&gt;&gt;&gt; &lt;opitz@informatik.uni-frankfurt.de&gt; was rumoured to have said:

 &gt; Hello All,
 &gt; I have one question. I have an ext3-filesystem. I want to make a file
 &gt; in this filesystem and want to encrypt &amp; mount it (file based system, not
 &gt; the whole device based system)
 &gt; What filesystem can I use in that encrypted file, ext3 or only ext2 when
 &gt; the filesystem where that file will be uses ext3 ?
 &gt; Can you tell me the answer for both loop-aes &amp; cryptoapi, please ?
 &gt; I don't want my data get corrupted by using wrong combinations.

In the archives, explained by Jari Ruusu:

http://mail.nl.linux.org/linux-crypto/2002-02/msg00020.html

http://mail.nl.linux.org/linux-crypto/2002-06/msg00047.html
(and other messages in this thread)


 &gt; Many thanks for the Help !

 &gt; Martin


Rgds,
/-sb.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020911190957</emailId><senderName>Martin</senderName><senderEmail>opitz@informatik.uni-frankfurt.de</senderEmail><timestampReceived>2002-09-11 19:09:57-0400</timestampReceived><subject>Re: cryptoapi &amp; loop-aes &amp; ext3 &amp; file based encryption</subject><body>

&gt; http://mail.nl.linux.org/linux-crypto/2002-02/msg00020.html
&gt; 
&gt; http://mail.nl.linux.org/linux-crypto/2002-06/msg00047.html
&gt; (and other messages in this thread)


Many thanks for the interesting arcticles.

So, if I understand right:

When I mount ext3 at boot with fstab it defaults to data=ordered and thus I can
use for loop-aes &amp; cryptoapi:

ext3 -&gt; loop -&gt; ext3 (default=ordered) -&gt; partition

with no future options.

Also

ext2 -&gt; loop -&gt; ext3 -&gt; partition

should work with no problem.

Correct ?

BTW, what is more reliable, loop-aes or cryptoapi ? I have the feeling
from the postings that more people use loop-aes. Maybe I'm wrong.

Thanks !
Martin

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020921005107</emailId><senderName>"Jasmina Richter"</senderName><senderEmail>jasminarichter33@web.de</senderEmail><timestampReceived>2002-09-21 00:51:07-0400</timestampReceived><subject>Danke =?ISO-8859-1?Q?f=FCr?= Deine Hilfe</subject><body>

Gruess Dich,

nun habe ich mich doch in eine Kontaktdatenbank eingetragen.

Wenn Du Recht haben solltest, bin ich nicht mehr lange

so einsam.....

...und kann meine sexuellen Phantasien ausleben.

Schau Dir mal den Eintrag an, ob er so OKAY ist und schreibe

mir Deinen Eindruck.


http://jassiemaus.yeah.net


Danke noch mal fuer Alles.....


Deine Jasmina

PS: DU kannst ja mal wieder anrufen!!
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020921165455</emailId><senderName>"EasyDownline"</senderName><senderEmail>besthomebiz@subdimension.com</senderEmail><timestampReceived>2002-09-21 16:54:55-0400</timestampReceived><subject>This one will make you money  9/21/02 1:10:33 PM</subject><body>

A great sponsor will not make you money.
A great product line will not make you money either.
A great compensation plan will not make you money either.
A great company will not make you money either.

Some say it's a combination of the above.
Some say it's what's inside you that matters the most.

Forget about meetings, one-on-one, 3-way calls, etc.
Those old ways of network marketing have come and gone.
They wear you out long before you make any money.

What makes you money is a downline associated with a
stable company that has consumable products.

Where's the downline coming from?  Well, we have an
online automatic recruiting system that does the work
for you.  Our system will place paying members in
your downline.

Furthermore, you can see it working first hand before
you decide what to do, if any.

&lt;html&gt;
&lt;a href="mailto:money2002@subdimension.com?subject=send-more-info"&lt;b&gt;
For more info on this simple but powerful recruiting system
please click here and send a blank message&lt;/b&gt;&lt;/a&gt;



&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;








&lt;a href="mailto:optinlist@subdimension.com?subject=REMOVE"&lt;b&gt;
We belong to the same opt-in list. But if you wish to have your email
address REMOVE from our database please click here&lt;/b&gt;&lt;/a&gt;
&lt;/html&gt;











</body></email><email><emailId>20020921170834</emailId><senderName>m96</senderName><senderEmail>m96@gmx.li</senderEmail><timestampReceived>2002-09-21 17:08:34-0400</timestampReceived><subject>Re: Which patch-int for 2.4.19</subject><body>

testing works fine. and there is no way to use such an old patch for the
current kernel source.

don't worry...

but don't forget to read the docs in ../linux/Documentation/cryptoapi

cheers...

On Fri, 2002-09-20 at 17:36, Mr etwcn etwcn wrote:
&gt; Hi,
&gt; 
&gt; I want to be able to use cryptographic filesystems
&gt; with my linux 2.4.19 kernel. The last official patch
&gt; is patch-int-2.4.3.1 but I can not apply it to the
&gt; 2.4.19 kernel without rejects. I see a
&gt; patch-int-2.4.19.1 in the TESTING directory, which
&gt; works fine. But actually I want to use a stable
&gt; version because I do not want to lose data. Can I
&gt; savely use the patch-int-2.4.19.1 or is there any
&gt; other way to get the patch-int-2.4.3.1 applied. Any
&gt; help would be greatly appreciated.
&gt; 
&gt; Thomas Müller
&gt; 
&gt; 
&gt; __________________________________________________
&gt; Do You Yahoo!?
&gt; Yahoo! Finance - Get real-time stock quotes
&gt; http://finance.yahoo.com
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
&gt; 


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020912005154</emailId><senderName>Martin</senderName><senderEmail>opitz@informatik.uni-frankfurt.de</senderEmail><timestampReceived>2002-09-12 00:51:54-0400</timestampReceived><subject>ext3 &amp; e2fsck &amp; simulated crash &amp; loop-aes</subject><body>

Hi,

so I have now loop-aes with file backed and ext3-&gt;ext3-&gt;partition.
I did copy a large file from the normal partition to the crypto-file
and in the middle just pressed reset. I wanted to see what happens.

I just wonder because at boot e2fsck says for the whole partition (where
the cryptofile is as well) "recovering journal". Now when I make
a losetup -e to /dev/loop0 for the file and then a e2fsck /dev/loop0
(or e2fsck -f /dev/loop0) it says everything is ok. I wonder why it
doesn't say recovering journal for the crypto-fs as well like for the
whole partition on boot ? Anyone can explain it to me ?


Thanks !
Martin

PS: It really is very fast with loop-aes. Great thing !

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020920153630</emailId><senderName>Mr etwcn etwcn</senderName><senderEmail>etwcn@yahoo.com</senderEmail><timestampReceived>2002-09-20 15:36:30-0400</timestampReceived><subject>Which patch-int for 2.4.19</subject><body>

Hi,

I want to be able to use cryptographic filesystems
with my linux 2.4.19 kernel. The last official patch
is patch-int-2.4.3.1 but I can not apply it to the
2.4.19 kernel without rejects. I see a
patch-int-2.4.19.1 in the TESTING directory, which
works fine. But actually I want to use a stable
version because I do not want to lose data. Can I
savely use the patch-int-2.4.19.1 or is there any
other way to get the patch-int-2.4.3.1 applied. Any
help would be greatly appreciated.

Thomas Müller


__________________________________________________
Do You Yahoo!?
Yahoo! Finance - Get real-time stock quotes
http://finance.yahoo.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020926021122</emailId><senderName>Sridhar N</senderName><senderEmail>srin@symonds.net</senderEmail><timestampReceived>2002-09-26 02:11:22-0400</timestampReceived><subject>Encrypted FS modules</subject><body>

Hi
	Most of the cryptographic Filesystems that I've come across need kernel 
patching and recompilation.  Where can I get a solid encrypted file system 
that uses kernel modules and supports journaling FS like ext3 and reiserfs ? 

regards
Sridhar

-- 
Once a job is fouled up, anything done to improve it makes it worse
-------
Sridhar N
7th Semester, 
Information Science Engineering
PES Institute of Technology
Bangalore
---------------------------------------------------------------
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020927111923</emailId><senderName></senderName><senderEmail>mikael.laakso@bitstream.fi</senderEmail><timestampReceived>2002-09-27 11:19:23-0400</timestampReceived><subject>Loop-AES 1.6f and gpg encrypted root trouble</subject><body>

Hi folks,

I'm having difficulties in booting with a GPG encrypted root partition, here is the \
relevant part of my dmesg:

&gt; RAMDISK: Compressed image found at block 0
&gt; Freeing initrd memory: 2k freed
&gt; VFS: Mounted root (minix filesystem) readonly.
&gt; Mounted devfs on /dev
&gt; Freeing unused kernel memory: 260k freed
&gt; Mounting /dev/hda1 as /lib failed
&gt; flushing ide devices: hda hdc
&gt; System halted.

- The corresponding section in build-initrd.sh seems to be:

/* this intentionally mounts /boot partition as /lib */
if (mount("${BOOTDEV}", "/lib", "${BOOTTYPE}", MS_MGC_VAL | MS_RDONLY, 0)) {
	wrStr("Mounting ${BOOTDEV} as /lib failed\n");
	goto fail4;
}


I've used the updated build-initrd.sh together with the util-linux patches for \
util-linux-2.11t from http://loop-aes.sourceforge.net/updates/2002-07-17/. 

build-initrd.sh has:

BOOTDEV=/dev/hda1
BOOTTYPE=ext2
CRYPTROOT=/dev/hda2
ROOTTYPE=xfs
USEGPGKEY=1
GPGKEYFILE=rootkey.gpg
USEMODULE=1
USEPIVOT=1
INITRDONLY=0
SOURCEROOT=
DESTINATIONROOT=
DESTINATIONPREFIX=/boot
USEDEVFS=1

The root partition hda2 is using XFS fs, and is encrypted using AES256  from a \
separate partition on the same HD using:

#losetup -e AES256 -K /root/rootkey.gpg /dev/loop2 /dev/hda2
#dd if=/dev/hda2 of=/dev/loop2 bs=64k conv=notrunc


So far i've tried different settings in build-initrd.sh, USEPIVOT=0 etc, but nothing \
seems to work, so i'm getting pretty desperate :) Any tips or tricks would be greatly \
appreciated.

Best regards, 
Micke



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020928174320</emailId><senderName>Florian Heiderich</senderName><senderEmail>florian@heiderich.org</senderEmail><timestampReceived>2002-09-28 17:43:20-0400</timestampReceived><subject>loop-aes and util-linux from debian-package</subject><body>

Hello!

I want to setup an encrypted filesystem. And I'm not sure which tools to
use. Am I right that there are three mainly different methods?
1. CryotoAPI
2. loop-aes
3. int-kernel-patch

I want to tell you how I understand it and maybe you could tell if I'm
right or correct me.

If I use CryptoAPI I have to patch the kernel with CryptoAPI and I have
to patch the loop.c in der kernel-tree (with the IV or with the JARI
patch). When I want to setup the EFS I have to load a few modlules from
CryptoAPI and the ciphres and the patched loop modules. Right?
I have to patch util-linux. But I heard thar the Debian-Packages are
already pathed. Isn't it?

If I use loop-aes I have to path just the loop.c and the util-linux
programms and then I just have to load the patched loop module and can
setup the EFS. Right?
I tried this with a Debian 3.0r0 stable and I haven't patches util-linux
but take the debian-packages. This doesn't work. I think the the patches
in the Debian Package are just for CryptoAPI. Right?

Int-Kernel-Patch is just list CryptoAPI. I also have to patch the loop
module or add the LOOP_IV_HACK. I have choosen the LOOP_IV_HACK and it
works. But I have read that you have to know what you are doning when
using the LOOP_IV_HACK. I don't know... Can somebody tell me something
about this hack? If it isn't good I want to use another method.

So, if I am right, can you tell me which method to choos? I just want
AES Encryption with 256 or 512 (better 512) Bits. I don't need all the
other ciphers. But I don't want to ruin my debian-box. I want a clean
and a secure setup. Maybe you can help me with the decision.

Greetings from Germany,
Florian Heiderich
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020930134909</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-09-30 13:49:09-0400</timestampReceived><subject>[ANNOUNCE] redhat-8.0 cryptoapi+ipsec_tunnel rpms /</subject><body>

hello!

I've prepared a few ready to use cryptoapi rpms for use with redhat-8.0,
which should have been released by today officially -- so finally, you
_really_ don't need to 'modify' your rh stock loop-driver at all... you
don't even have to recompile anything or even reboot...

fyi, redhat-8.0 stock kernel is being shipped with cryptoapi.o,
cryptoloop.o, a loop-iv patched (alas not jari's loop fixes -- so better
don't swap over the loop device!) loop.o and the cipher-aes.o ansi-c
implementation, all compiled as modules;

what's missing it's a cryptoapi enabled util-linux rpm, which you'll
find at the below mentioned URL folder;

if you want other ciphers, I've prepared a few kernel-cryptoapi-addon 
rpms which have been built against the 2.4.18-14 kernel rpms ksyms;
(make sure you pick the right one matching your arch, otherwise you'll
get unresolved symbols from depmod)

I've also prepared some ipsec_tunnel rpms, based on the 2002-09-29
snaphost -- thus handle with care! ;-)

I'm also trying to find out a _clean_ way to override the default
cipher-aes.o module shipped with rh8, in order to prepare some
100%-performance boosting kernel-cipher-aes-i586 rpm 
(based on
http://www.ifs.tuwien.ac.at/~hvr/crypto/cipher-aes-i586-0.3.tar.gz,
which you might want to build yourself for the meantime, until I figure
out some way to rpm it...)

and here the URL where you can find all mentioned redhat-8.0 related
rpms:

http://www.ifs.tuwien.ac.at/~hvr/crypto/redhat-8.0/

==

it might be noteworthy, that cryptoapi-0.1.0-rc3 has been released; the
main difference to -rc2 is a fixed digest-md5.c implementation;

http://www.ifs.tuwien.ac.at/~hvr/crypto/cryptoapi-0.1.0-rc3.tar.bz2
http://www.kernel.org/pub/linux/kernel/crypto/v2.4/testing/cryptoapi-0.1.0-rc3.tar.bz2

==

I've also wrapped up cryptoapi-0.1.0-rc3, cryptoloop-0.0.1-pre1 and
ipsec_tunnel-2002-09-29 into an unified patch-int-2.4.19.2:

get it here:

http://www.ifs.tuwien.ac.at/~hvr/crypto/patch-int-2.4.19.2.bz2
http://www.kernel.org/pub/linux/kernel/crypto/v2.4/testing/patch-int-2.4.19.2.bz2


==

disclaimer: Since I cannot make sure with reasonable effort, that the
code published works under all possible configurations, you're expected
to take precautionary steps, in order to avoid data-loss in case of
malfunction... i.e. make the usual backups... ;)

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F 4142

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020929065145</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-09-29 06:51:45-0400</timestampReceived><subject>Re: loop-aes and util-linux from debian-package</subject><body>

Florian Heiderich wrote:
&gt; If I use loop-aes I have to path just the loop.c and the util-linux
&gt; programms and then I just have to load the patched loop module and can
&gt; setup the EFS. Right?

Loop-AES does not require you to patch your kernel so it works with just
about any stable kernel out there, including distro vendor kernels. However,
before kernel module can be compiled, you have to recompile your kernel.
This is needed so that kernel compile time generated files are present in
the kernel source tree. Compiling modules requires those generated files to
be present.

Util-linux needs to be patched and recompiled but loop-AES' README file has
good instructions for that.

&gt; I tried this with a Debian 3.0r0 stable and I haven't patches util-linux
&gt; but take the debian-packages. This doesn't work. I think the the patches
&gt; in the Debian Package are just for CryptoAPI. Right?

You are better off recompiling loop-AES' util-linux for use with loop-AES.
Debian's util-linux uses old version of CryptoAPI patch.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020930015618</emailId><senderName>Thomas =?ISO-8859-1?Q? "M=FCller" ?=</senderName><senderEmail>etwcn@yahoo.com</senderEmail><timestampReceived>2002-09-30 01:56:18-0400</timestampReceived><subject>"The cipher does not exist"-error, although available in /proc/crypto/cipher/*</subject><body>

Hi,

I am using kernel version 2.4.19. I have applied the
patch-int-2.4.19.1 and the loop-jari-2.4.18.0.patch. I
successfully compiled and installed the patched
kernel.

Next was to patch util-linux-2.11u with
util-linux-2.11r.patch and complile it. It does not
work out as descibed in the crypto-howto, but I
compliled the whole package instead and copied the
three resulting binaries mount, umount and losetup to
the apropriate locations.

When I try to setup a loop device with encryption I
get the following error:

# losetup -e aes /dev/loop0 ~/.crypto
Available keysizes (bits): 128 192 256
Keysize: 128
Password:
The cipher does not exist, or a cipher module needs to
be loaded into the kernel
ioctl: LOOP_SET_STATUS: Invalid argument
#

The file ~/.crypto was created before as described in
the howto. /proc/crypto/cipher/* proves that the aes
cipher is available:

# ls /proc/crypto/cipher/
aes-cbc  aes-cfb  aes-ctr  aes-ecb  aes-rtc
#

The howto does not have any further advice. I really
thought I could finally start working with this - but
now I do not know what else to do. Can anybody please
help out?

Thomas Müller


__________________________________________________
Do you Yahoo!?
New DSL Internet Access from SBC &amp; Yahoo!
http://sbc.yahoo.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020930121220</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-09-30 12:12:20-0400</timestampReceived><subject>Re: "The cipher does not exist"-error, although available in</subject><body>

On Mon, 2002-09-30 at 03:56, Thomas =?ISO-8859-1?Q? M=FCller ?= wrote:
[..]
&gt; When I try to setup a loop device with encryption I
&gt; get the following error:
&gt; 
&gt; # losetup -e aes /dev/loop0 ~/.crypto
&gt; Available keysizes (bits): 128 192 256
&gt; Keysize: 128
&gt; Password:
&gt; The cipher does not exist, or a cipher module needs to
&gt; be loaded into the kernel
&gt; ioctl: LOOP_SET_STATUS: Invalid argument
&gt; #
&gt; 
&gt; The file ~/.crypto was created before as described in
&gt; the howto. /proc/crypto/cipher/* proves that the aes
&gt; cipher is available:
&gt; 
&gt; # ls /proc/crypto/cipher/
&gt; aes-cbc  aes-cfb  aes-ctr  aes-ecb  aes-rtc
&gt; #
&gt; 
&gt; The howto does not have any further advice. I really
&gt; thought I could finally start working with this - but
&gt; now I do not know what else to do. Can anybody please
&gt; help out?

sure :-)

do you have cryptoloop.o (CONFIG_CRYPTOLOOP) either compiled as module
(and loaded via insmod/modprobe) or compiled statically into the kernel?

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F 4142

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020926145836</emailId><senderName>Glytch</senderName><senderEmail>glytch@oz.no-ip.org</senderEmail><timestampReceived>2002-09-26 14:58:36-0400</timestampReceived><subject>Re: Encrypted FS modules</subject><body>

On Thu, 26 Sep 2002 07:29:22 +0530
Sridhar N &lt;srin@symonds.net&gt; wrote:

&gt; Hi
&gt; 	Most of the cryptographic Filesystems that I've come across need
&gt; 	kernel 
&gt; patching and recompilation.  Where can I get a solid encrypted file
&gt; system that uses kernel modules and supports journaling FS like ext3 and
&gt; reiserfs ? 
&gt; 
&gt; regards
&gt; Sridhar
&gt; 

What you need is Loop-AES. (http://loop-aes.sourceforge.net/) You will
need to patch mount and losetup, but not the kernel. Make sure that
Loopback support is *not* compiled in your kernel before starting with
this. The tarballs on the site have all the details you need.

-- 
Email/Jabber: glytch@oz.no-ip.org
Gopher: oz.no-ip.org
PGP/GPG Key ID: F3363C946EE37B76

[Attachment #3 (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020926171146</emailId><senderName>Chris Kuklewicz</senderName><senderEmail>chrisk@mit.edu</senderEmail><timestampReceived>2002-09-26 17:11:46-0400</timestampReceived><subject>Re: Encrypted FS modules</subject><body>

Starting from the redhat 7.3 kernel src rpms, disabling the loop module
is fairly easy.  Are there easy directions somewhere for then building
loop-aes on top of the kernel src rpms?


On Thu, Sep 26, 2002 at 10:58:36AM -0400, Glytch wrote:
&gt; On Thu, 26 Sep 2002 07:29:22 +0530
&gt; Sridhar N &lt;srin@symonds.net&gt; wrote:
&gt; 
&gt; &gt; Hi
&gt; &gt; 	Most of the cryptographic Filesystems that I've come across need
&gt; &gt; 	kernel 
&gt; &gt; patching and recompilation.  Where can I get a solid encrypted file
&gt; &gt; system that uses kernel modules and supports journaling FS like ext3 and
&gt; &gt; reiserfs ? 
&gt; &gt; 
&gt; &gt; regards
&gt; &gt; Sridhar
&gt; &gt; 
&gt; 
&gt; What you need is Loop-AES. (http://loop-aes.sourceforge.net/) You will
&gt; need to patch mount and losetup, but not the kernel. Make sure that
&gt; Loopback support is *not* compiled in your kernel before starting with
&gt; this. The tarballs on the site have all the details you need.
&gt; 
&gt; -- 
&gt; Email/Jabber: glytch@oz.no-ip.org
&gt; Gopher: oz.no-ip.org
&gt; PGP/GPG Key ID: F3363C946EE37B76


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020923153133</emailId><senderName>intrigeri</senderName><senderEmail>intrigeri@no-log.org</senderEmail><timestampReceived>2002-09-23 15:31:33-0400</timestampReceived><subject>cryptoAPI howto in french</subject><body>

Hi,

I've translated the cryptoAPI howto in french. I mean, the document
called "The Linux CryptoAPI - A User's Perspective", by David Bryson ;
I've worked on the pdf version, written on may 31, 2002.

my translation is attached.

Does David Bryson still maintain this howto ? Will he update this
document ? If not, I'm interested in doing this work. Just let me know.
-- 
  intrigeri


["cryptoAPI-howto-fr.txt" (text/plain)]

# CryptoAPI pour GNU/Linux, du point de vue de l'utilisateur/ice
#
# Auteur original : David Bryson
# Date de publication initiale : 31 mai 2002
#
# Traducteur : intrigeri@no-log.org
# Date de la traduction : 23 septembre 2002
#



# Théorie

Nous allons parler de l'utilisation de la cryptographie forte sous
GNU/Linux. A l'aide des patches pour le noyau dont cet article parle,
vous pouvez crypter l'intégralité de votre disque dur, de vos
connections réseau, et même votre swap. Nous allons présenter deux de
ces solutions, et nous concentrer principalement sur l'une d'entre elles
: CryptoAPI pour GNU/Linux.

La "cryptographie" est la science qui conçoit et analyse des "chiffres".
Un chiffre est un algorithme qui transforme du texte "en clair" en une
soupe incompréhensible nommée "texte crypté", via une séquence de code
prédéterminée. Le but est que seul-e-s l'expéditeur/ice et le/la
destinataire aient accès à la clé, et donc qu'ils/elles soient les
seul-e-s à avoir accès au texte en clair.  L'application du chiffre sur
le texte se nomme l'encryptage, et le processus inverse, le décryptage.

Une clé est nécessaire pour encrypter des données avec un
chiffre donné. Cette clé est ce qui sécurise le chiffre,
et permet son/sa seul-e propriétaire de décrypter ce qui a été encrypté.
La clé est fournie au chiffre, en plus du texte en clair,
pour produire le texte crypté. Pour ce qui est du décryptage, la clé et
le texte crypté sont fournis au chiffre, qui renvoie le texte en clair.

-- figure 1 : encryptage et décryptage --

Donner au noyau Linux le support de la cryptographie vous donne moult
moyens de sécuriser vos données. Cet article explique comment le faire,
en utilisant CryptoAPI. Quelques utilisations possibles de CryptoAPI
sont :

- l'encryptage de tout support physique (partitions de disque dur, swap,
  cdroms) ; sans ça, toute personne qui prendrait votre disque dur et
  l'installerait sur une autre machine pourrait lire les données qui y
  sont stockées... grâce au support de la cryptographie au niveau du
  noyau, vous pouvez encrypter la partition qui contient vos répertoire
  home ; ainsi, vos données seront illisibles... sauf par vous.

- l'encryptage du trafic réseau, ie. IPsec ou toute autre forme de
  cryptage réseau d'un bout à l'autre ; les VPNs (Virtual Private
  Networks / réseaux privés virtuels) permettent d'encrypter les
  communications avant qu'elles ne sortent de votre ordinateur ;
  l'utilisation des VPNs étant en pleine expansion, il est important,
  pour conserver un niveau correct de performances et de sécurité,
  d'avoir un noyau gérant la cryptographie.


# 1. Les différentes implémentations de la cryptographie

Il existe actuellement deux principaux moyen d'ajouter le support de la
cryptographie au noyau Linux. Nous citerons brièvement loop-AES, puis
nous nous concentrerons sur CryptoAPI. Ces deux solutions ont l'avantage
de se "brancher" sur le noyau sans modifier ses sources (ni redémarrer
!). La seule modification devant être faite au code source du noyau est
un patch à appliquer sur le pilote de loopback, qui peut aisément être
chargé/déchargé s'il est compilé sous forme de module. Nous espérons
voir ce patch intégré dans le noyau prochainement.

Ce patch permet au module de loopback d'intercepter les requêtes de
lecture/écriture sur le système de fichiers crypté, et
d'encrypter/décrypter les données à la volée. Nous préciserons ceci dans
les prochains paragraphes.

Loop-AES est conçu uniquement pour le cryptage de systèmes de fichiers ;
il utilise comme chiffre le fameux AES (Advanced Encryption Standard /
Standard avancé de cryptage), et donc l'algorithme de Rijndael.
Il est plutôt rapide, et fournit une implémentation en assembleur pour
les processeurs Intel x86 (les autre architectures se contenteront de
l'implémentation en C). Pour plus d'informartion sur loop-AES, visitez
http://loopaes.sourceforge.net.

Le package CryptoAPI fournit une solution plus polyvalente de
cryptographie au niveau du noyau. Il utilise une interface générique
permettant à tout module du noyau d'encrypter/décrypter des données. Le
cryptage de systèmes de fichiers n'est qu'une de ses nombreuses
applications possibles. CryptoAPI fournit 12 chiffres différents, et
supporte le montage/démontage et l'utilisation des systèmes de fichiers
encryptés avec loop-AES.


# 2. Installation de CryptoAPI

Voyons maitenant comment faire fonctionner CryptoAPI sur votre machine.
Il nous faut tout d'abord obtenir les sources de votre noyau et les
dernières sources de CryptoAPI correspondant au noyau que vous utilisez.
La dernière version de CryptoAPI peut toujours être trouvée ici :
http://www.kernel.org/pub/linux/kernel/crypto/. Une fois que vous l'avez
téléchargée, décompressez l'archive dans /usr/src/cryptoapi :

$ cd /usr/src/cryptoapi
$ tar xvzf cryptoapi-0.1.0.tar.tz

NB : lisez toujours le README pour tout logiciel que vous téléchargez !

Avant de compiler un chiffre, nous devons patcher le driver de loop pour
les raisons évoquées plus haut. Il existe actuellement deux patches,
tout deux distribués avec CryptoAPI. Le patch loop-iv offre le support
minimal nécessaire à CryptoAPI, tandis que le patch loop-jari, distribué
avec loop-AES, corrige quelques bugs. Nous aurons une approche
minimaliste, et nous ne nous occuperons que du patch loop-iv
(Initialization Vector), suffisant pour ce qui nous occupe. Pour cela,
allez dans le répertoire contenant les sources de CryptoAPI, et lancez
cette commande :

$ make patchkernel KDIR=&lt;kernel source dir&gt; LOOP=iv

NB : même si vous n'utilisez pas une version du noyau correspondant
exactement à celle du patch loop-iv, vous avez des chances de parvenir à
vos fins, car le driver de loop n'a presque pas changé depuis le passage
du noyau 2.2 au 2.4. Il existe un script permettant de déterminer la
version du patch la plus proche de celle de votre noyau, et d'appliquer
le patch automatiquement. Si vous souhaitez utiliser le le patch
loop-jari, donnez au paramètre LOOP la valeur 'jari' au lieu de 'iv'.

Ceci étant fait, vous devez recompiler le driver de loop. Si vous avez
déjà une configuration de noyau prête, vous pouvez vous contenter de
recompiler et installer le module loop. Sinon, il vous faut compiler le
module à la main, en précisant quelques flags au compilateur C.

Vous pouvez maintenant compiler les modules des chiffres et le plugin
de loopback pour la cryptographie, puis les installer sans recompiler
l'intégralité de notre noyau, grâce à la magie des modules. Pour
compiler ces modules, tapez simplement :

$ make modules KDIR=&lt;kernel source dir&gt;

Et les modules de CrytoAPI seront compilés, après quoi nous pouvons les
installer dans le répertoire approprié, afin de pouvoir les charger. Un
script le fera pour vous si vous exécutez cette commande :

$ make install_modules

Avant que de pouvoir utiliser le cryptage via loopback, il nous faut
compiler un logiciel ne faisant pas partie du noyau : le programme
losetup, qui fait partie du package util-linux, a besoin d'être patché
pour être capable de dire au noyau quel chiffre et quelle clé utiliser.
Selon la distribution GNU/Linux utilisée, la méthode est différente : si
vous utilisez Debian Woody (ou supérieure), la version patchée de
losetup est d'ores et déjà installée, dans le package util-linux. Les
utilisateur/ice/s de Debian Potato peuvent télécharger le patch et
recompiler util-linux. Il existe des RPMs patchés pour RedHat, ainsi que
des patches pour les sources, sur http://www.kerneli.org/. Si votre
distribution ne fournit pas ce patch, proposez à ses fournisseur/se/s
une version patchée de losetup. Une fois que la bonne version de losetup
est installée, CryptoAPI est installée sur votre ordinateur, et vous
êtes prêt-e à mettre en place des systèmes de fichiers cryptés !


# 3. Utiliser CryptoAPI

Nous parlerons dans ce paragraphe d'une des applications de CryptoAPI :
encrypter un système de fichiers entier. Sur la plupart des systèmes, le
disque dur est partagé en plusieurs partitions. Chaque partition peut
être montée dans un répertoire vide. Une configuration pourrait être,
par exemple :

Partition	Mount point
/dev/hda1	/
/dev/hda2	swap space
/dev/hda5	/usr
/dev/hda6	/var
/dev/hda7	/home

Supposons que vous vouliez encrypter la partition qui contient vos
répertoires home, c'est-à-dire /dev/hda7. Cela signifie que toute donnée
écrite sur cette partition sera encryptée : texte brut, fichiers
binaires, et même les données propres au système de fichiers (des choses
comme les informations sur les inodes, les noms de fichiers et de
répertoires, etc.).

Dans l'introduction, nous avons dit que CryptoAPI supportait
l'encryptage de systèmes de fichiers via le périphérique de loopback ;
nous allons maintenant expliquer ce mécanisme. La méthode traditionnelle
pour monter un système de fichiers, que ce soit au démarrage ou plus
tard, est l'utilisation de la commande mount. Nous pouvons, dans notre
exemple, monter les répertoires home par la commande suivante :

$ mount -t ext2 /dev/hda7 /home

... qui dit au noyau que le périphérique /dev/hda7 contient un système
de fichiers ext2 (le système de fichiers traditionnel sous GNU/Linux),
et que toute requête vers un fichier de /home doit aller vers cette
partition. Le périphérique de loopback ajoute un niveau de redirection
pour monter un système de fichiers. Au lieu de monter le système de
fichiers directement sur /home, on monte le système de fichiers sur le
périphérique de loopback, puis on monte ce dernier sur /home. Ceci a
l'effet de faire passer par le périphérique de loopback toutes les
commandes du noyau vers le système de fichiers.

-- figure 2 : le périphérique de loopback --

C'est à cette étape que toute commande peut être interceptée et modifiée
pour encrypter (pour une commande d'écriture) et décrypter (pour une
commande de lecture). Ici intervient le pilote cryptoloop. Une fois que
tout a été monté, chaque commande dirigée vers le système de fichiers
est interceptée par le périphérique de loopback, redirigée vers le
driver cryptoloop, qui la traite, puis la passe au système de fichiers.
Nous pouvons maintenant encrypter toutes les données sur la partition !

Vous pouvez aussi réléchir à la façon dont tout ceci s'insère dans le
schéma d'encryptage/décryptage du début. Le périphérique de loopback a
le rôle du chiffre, cryptoloop fournit la clé, et le système de fichiers
représente le texte en clair et le texte encrypté.

-- figure 3 : le filtre cryptoloop --

Il y a deux façons d'encrypter des fichiers sur votre système. L'une
utilise un vrai périphérique, tel qu'une partition de disque dur.
L'autre consiste en l'utilisation d'un très gros fichier contenant un
système de fichiers, qui sera monté via le périphérique de loopback.
Nous étudierons ici la seconde méthode.

La première étape est de créer un gros fichier ; plus il sera gros, plus
il pourra contenir de données, exactement comme une partition de disque
dur. De même, une fois que le fichier est créé, et qu'un système de
fichiers y est mis en place, nous ne pouvons plus le redimensionner sans
perdre les données qui y sont stockées.

Afin de créer ce gros fichier, nous devons le remplir de données pour
qu'il prenne de l'espace sur le disque dur. Nous le remplirons de
données pseudo-aléatoires, générées par le périphérique /dev/urandom. Il
serait aussi possible (et plus rapide) de le remplir de zéros, à l'aide
de /dev/zero. Toutefois, ceci permettrait à un-e éventuel-le
attaqueur/se de voir où sont stockées les données :

-- figure 4 ; un fichier rempli de zéros et de données aléatoires --

Les bandes représentent les zéros, et les carrés chaotiques représentent
les données stockées, qui semblent aléatoires. Comme vous pouvez le
constater, cela facilite grandement la tache d'un-e attaqueur/se, par
rapport à un périphérique de stockage semblant ne contenir que des
données aléatoires, comme ici :

-- figure 5 : un fichier rempli de données "aléatoires" --

Maintenant que nous avons expliqué comment tout ceci fonctionne,
configurons-le. Commençons par charger les quatre principaux modules
CryptoAPI dans le noyau :

1. cryptoapi, qui fournit l'interface générique pour les différents
chiffres

2. cryptoloop, l'interface entre les chiffres et le pilote loop

3. loop, le pilote patché avec lequel cryptoloop communique

4. cipher-x, où x est le chiffre que vous souhaitez utiliser

Pour charger les trois premiers modules, utilisons la commande modprobe
:

$ modprobe cryptoloop

Ceci devrait charger les modules cryptoapi, loop et cryptoloop dans le
noyau. Vous pouvez le vérifier avec la commande lsmod, qui devrait
donner quelque chose dans ce genre :

Module		Size	Used by		Not tainted
cryptoloop	1884	  0		(unused)
loop		7664	  0		[cryptoloop]
cryptoapi	3204	  0		[cryptoloop]

Il nous faut maintenant créer le fichier contenant des données
pseudo-aléatoires, avec la commande dd, avant de créer un système de
fichiers dessus. Le périphérique /dev/urandom génère des données
pseudo-aléatoires, à partir des données fournies par le périphérique
/dev/random. A la différence de /dev/random, il fournit un flux constant
d'octets, mais plus l'entropie fournie par /dev/random sera faible,
moins /dev/urandom sera aléatoire. Ceci fonctionne mieux quand des
événements aléatoires se produisent, comme des mouvements de souris. Par
conséquent, quand vous exécuterez la commande suivante, essayez de
déplacer votre souris, ou de taper énormément sur votre clavier. Ces
deux manipulations contribuent à la source d'entropie.

$ dd if=/dev/urandom of=/home/intrigeri/cryptofichier bs=1M count=50

Ceci créera un fichier de 50 Mo dans mon répertoire home. Cette étape
peut malheureusement prendre beaucoup de temps, selon la rapidité de
votre système. Puis nous devons charger un module fournissant un
chiffre. Dans ces exemples, j'utiliserai le chiffre nommé twofish). Tous
ces modules ont des noms préfixés par "cipher-" ; pour charger twofish
avec modprobe, nous exécuterons donc :

$ modprobe cipher-twofish

Nous pouvons maintenant monter ce fichier comme un périphérique de
stockage normal ; avant tout, utilisons la commande losetup :

$ losetup -e twofish /dev/loop0 /home/intrigeri/cryptofichier

L'option -e précise le chiffre devant êt eutilisé, qui est, dans notre
cas, twofish ; /dev/loop0 est le périphérique de loop que nous
utilisons, et /home/intrigeri/cryptofichier est le nom du fichier. Le
programme losetup vous demandera la taille de la clé (keysize) à
utiliser et un mot de passe, dans lequel j'ai entré '128' puis mon mot
de passe. En général, pour un chiffre donné, plus la clé est longue, et
plus vos données seront difficiles à décrypter par une attaque de type
"force brute". Toutefois, une clé de 128 bits pour un chiffre donné peut
être plus forte qu'une clé de 1024 bits pour un autre chiffre.

Votre mot de passe est utilisé pour générer la clé, mais point n'est
besoin qu'il ait la même longueur que la clé ; il serait en effet pour
le moins pénible de taper un mot de passe de 128 caractères pour générer
une clé de 1024 bits. Le mot de passe sera plutôt utilisé pour générer
une clé avec une fonction de hash.

Available keysizes (bits) : 128 192 256
Keysize: 128
Password:

Initialisons ensuite un système de fichiers, via le périphérique de loopback,
sur le fichier que nous avons créé, grâce à la commande mkfs :

$ mkfs -t ext2 /dev/loop0

Vous pouvez évidemment choisir le type du système de fichiers à créer,
mais cet exemple utilise ext2. Nous pouvons maintenant monter notre
système de fichiers exactement comme un périphérique de stockage normal,
avec la commande mount :

$ mount -t ext2 /dev/loop0 /mnt/crypto

Vous devriez maintenant pouvoir y copier des fichiers comme s'il
s'agissait d'un périphérique de stockage monté classique. Vous avez un
système de fichiers crypté, profitez-en ! Une question redondante sur la
liste de discussion linux-crypto est "Comment fait-on pour une partition
root cryptée ?". Ceci, bien qu'étant possible avec le périphérique
cryptoloop, n'est pas recommandé. L'impact sur les performances de la
machine serait en effet très mauvais, et cela nécessiterait quelques
modifications de la procédure d'initialisation du système. Il est plus
logique de n'encrypter que les informations "sensibles", comme un
répertoire home.

N'oubliez pas ensuite de démonter votre système de fichiers crypté et de
libérer le périphérique de loop, afin que quiconque souhaitant le monter
doive entrer le mot de passe.

$ umount /mnt/crypto
$ losetup -d /dev/loop0

Il est facile d'automatiser ces étapes avec des scripts shell, afin de
n'avoir pas à exécuter ces deux commandes pour le montage/démontage.

Note du traducteur : il est aussi possible d'intégrer votre système de
fichiers crypté dans /etc/fstab. Une version prochaine de ce document
expliquera comment procéder pour ce faire.


4. CrypoAPI, au passé, au présent, et au futur

Au moment où ceci a été écrit, la première version de CryptoAPI était
sur le point de sortir, sous forme d'une branche du patch international
pour le noyau (kernelint). Le patch kernelint était au départ conçu pour
ne faire que de l'encryptage de systèmes de fichiers, avec les noyaux de
la série 2.2. Il a ensuite évolué vers une API générique fournissant la
cryptographie au noyau. Cette évolution a laissé le projet en
hibernation pendant environ 6 mois avant qu'une nouvelle base de code
soit publiée. Mais, avec une nouvelle équipe de développeur/se/s, la
progression a repris.


Quelques lignes directrices de l'évolution future de CryptoAPI :

- Lisibilité du code : les chiffres fournis viennent de sources
  diverses, et certains n'ont pas été implémentés par l'équipe de
  CryptoAPI. Leur style de programmation est par conséquent peu
  cohérent, ce qui les rend difficiles à étudier pour un-e
  programmeur/se. Une standardisation de ce code est en cours.

- Implémentation en assembleur des chiffres pour différentes
  architectures : ceci améliorera la vitesse d'exécution et diminuera
  les besoins en mémoire vive. Ceci est particulièrement utile dans des
  situations de grosse charge d'une machine, quand chaque cycle
  processeur compte.

- Support du matériel cryptographique : plusieurs fabricants fournissent
  du matériel implémentant des chiffres. Ce matériel a généralement des
  performances 1000 fois supérieures aux meilleures implémentations
  logicielles.

Quand ces lignes ont été écrites, la nouveau code de base de CryptoAPI
devait encore mûrir. Il a encore besoin de travail ; c'est pourquoi le
projet recherche toujours des programmeur/se/s plein-e-s d'entrain, et
expérimenté-e-s en cryptographie ou en programmation du noyau. Et
celles/ceux qui ne peuvent programmer peuvent toujours aider en testant
les nouveaux patches et en envoyant des rapports de bugs.

En espérant que cet article vous ait expliqué comment sécuriser vos
données avec la cryptographie, grâce à CryptoAPI. Suivez l'évolution du
projet CryptoAPI sur notre site http://www.kerneli.org.

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020926101856</emailId><senderName>       "Der =?ISO-8859-1?Q?Million=E4r?= &lt;\"Der MillionÃ¤r\""</senderName><senderEmail></senderEmail><timestampReceived>2002-09-26 10:18:56-0400</timestampReceived><subject>Betriebsanleitung zum =?ISO-8859-1?Q?Million=E4rwerden!?=</subject><body>

This is a multi-part message in MIME format


Hallo!

Würden Sie auch gerne Millionär werden?
Fragen Sie sich auch immer, wie manche das fertigbringen?
Wir haben das Geheimrezept!

Besuchen Sie uns auf der Seite &lt;a
href="http://ichwerdemillionaer.de.vu"&gt;http://ichwerdemillionaer.de.vu&lt;/a&gt;
und 
werden auch sie Millionär!



.......................................................................=
.................


</body></email><email><emailId>20020926145416</emailId><senderName></senderName><senderEmail>no.reply</senderEmail><timestampReceived>2002-09-26 14:54:16-0400</timestampReceived><subject>Are you tired of the Windows XP find files ???</subject><body>


                 ---&gt;&gt;&gt;                  http://www.FINDFILES.tk             &lt;&lt;&lt;--

This program is up to 100 times faster than the XP search, with much more \
functionality.   
It has many more features like multiple string searches (With replace options), and \
can prieview Movies, Pictures and ascii (Text) files,  Can search selected drives and \
folders.  
Its totally FREE to try, and only $10 to buy  

                 ---&gt;&gt;&gt;                  http://www.FINDFILES.tk             &lt;&lt;&lt;--




you would no longer like to receive these offers via email, you can unsubscribe by \
                sending a blank email to unsub-92831602-1640@fpsamplesmail.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020926172924</emailId><senderName>Harmon Seaver</senderName><senderEmail>hseaver@cybershamanix.com</senderEmail><timestampReceived>2002-09-26 17:29:24-0400</timestampReceived><subject>Re: Encrypted FS modules</subject><body>

    I guess I don't understand not wanting to recompile the kernel -- you need
to recompile the kernel anyway just to have an efficient system, crypto or
not. And if you want to build loop-aes "on top of the kernel src rpms" aren't
you then going to need to compile that kernel src to get it to work? 


On Thu, Sep 26, 2002 at 01:11:46PM -0400, Chris Kuklewicz wrote:
&gt; Starting from the redhat 7.3 kernel src rpms, disabling the loop module
&gt; is fairly easy.  Are there easy directions somewhere for then building
&gt; loop-aes on top of the kernel src rpms?
&gt; 
&gt; 
&gt; On Thu, Sep 26, 2002 at 10:58:36AM -0400, Glytch wrote:
&gt; &gt; On Thu, 26 Sep 2002 07:29:22 +0530
&gt; &gt; Sridhar N &lt;srin@symonds.net&gt; wrote:
&gt; &gt; 
&gt; &gt; &gt; Hi
&gt; &gt; &gt; 	Most of the cryptographic Filesystems that I've come across need
&gt; &gt; &gt; 	kernel 
&gt; &gt; &gt; patching and recompilation.  Where can I get a solid encrypted file
&gt; &gt; &gt; system that uses kernel modules and supports journaling FS like ext3 and
&gt; &gt; &gt; reiserfs ? 
&gt; &gt; &gt; 
&gt; &gt; &gt; regards
&gt; &gt; &gt; Sridhar
&gt; &gt; &gt; 
&gt; &gt; 
&gt; &gt; What you need is Loop-AES. (http://loop-aes.sourceforge.net/) You will
&gt; &gt; need to patch mount and losetup, but not the kernel. Make sure that
&gt; &gt; Loopback support is *not* compiled in your kernel before starting with
&gt; &gt; this. The tarballs on the site have all the details you need.
&gt; &gt; 
&gt; &gt; -- 
&gt; &gt; Email/Jabber: glytch@oz.no-ip.org
&gt; &gt; Gopher: oz.no-ip.org
&gt; &gt; PGP/GPG Key ID: F3363C946EE37B76
&gt; 
&gt; 
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/

-- 
Harmon Seaver	
CyberShamanix
http://www.cybershamanix.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020927175232</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-09-27 17:52:32-0400</timestampReceived><subject>Re: Loop-AES 1.6f and gpg encrypted root trouble</subject><body>

mikael.laakso@bitstream.fi wrote:
&gt; I'm having difficulties in booting with a GPG encrypted root partition,
&gt; here is the relevant part of my dmesg:
&gt; 
&gt; &gt;RAMDISK: Compressed image found at block 0
&gt; &gt;Freeing initrd memory: 2k freed
&gt; &gt;VFS: Mounted root (minix filesystem) readonly.
&gt; &gt;Mounted devfs on /dev
           ^^^^^^^^^^^^^
&gt; &gt;Freeing unused kernel memory: 260k freed
&gt; &gt;Mounting /dev/hda1 as /lib failed
&gt; &gt;flushing ide devices: hda hdc
&gt; &gt;System halted.

You should use devfs names for /dev/hda1 and /dev/hda2 in build-initrd.sh if
you set USEDEVFS=1.

&gt; I've used the updated build-initrd.sh together with the util-linux patches
&gt; for util-linux-2.11t from
&gt; http://loop-aes.sourceforge.net/updates/2002-07-17/.

Util-linux patches in loop-AES-v1.6f are newer than those in
http://loop-aes.sourceforge.net/updates/2002-07-17/

&gt; build-initrd.sh has:
&gt; 
&gt; BOOTDEV=/dev/hda1

BOOTDEV=/dev/discs/disc0/part1

&gt; BOOTTYPE=ext2
&gt; CRYPTROOT=/dev/hda2

CRYPTROOT=/dev/discs/disc0/part2

&gt; ROOTTYPE=xfs
&gt; USEGPGKEY=1
&gt; GPGKEYFILE=rootkey.gpg
&gt; USEMODULE=1
&gt; USEPIVOT=1
&gt; INITRDONLY=0
&gt; SOURCEROOT=
&gt; DESTINATIONROOT=
&gt; DESTINATIONPREFIX=/boot
&gt; USEDEVFS=1

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020928093255</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-09-28 09:32:55-0400</timestampReceived><subject>Announce loop-AES-v1.6g file/swap crypto package</subject><body>

loop-AES changes since previous release:
- Removed unnecessary memcpy from file backed unencrypted loops (2.4 and 2.5
  kernels).
- Dropped loop thread O(1) scheduler nice from -20 to -9 (2.4 and 2.5
  kernels). No change for kernels using old scheduler.
- Fixed genuine loop bug that always exported loop sector size as 512 bytes
  regardless of sector size of underlying device (bug affected only 2.5
  kernels because other kernel versions were fixed earlier). Fix was copied
  from Adam J. Richter's loop fixes.
- Fixed one file-backed-loop-on-tmpfs bug (2.5 kernels only). Fix from Adam
  J. Richter's loop fixes.
- Fixed default soft block size computation with non-zero loop offset (2.4
  and 2.5 kernels).
- Merged two driver init time out-of-mem-handling bugfixes from
  2.4.20-pre7-ac1 (2.4 and 2.5 kernels)
- loop.c-2.2.original updated with fixes from 2.2.22
- Added support for CONFIG_LBD (2.5 kernels)
- loop.c-2.5.original updated with fixes from 2.5.39

bzip2 compressed tarball is here:

    http://loop-aes.sourceforge.net/loop-AES-v1.6g.tar.bz2
    md5sum 158f82a8c38ef264b55b5085fd98bfb3

PGP signature file, my public key, and fingerprint here:

    http://loop-aes.sourceforge.net/loop-AES-v1.6g.tar.bz2.sign
    http://loop-aes.sourceforge.net/PGP-public-key.asc
    1024/3A220F51 5B 4B F9 BB D3 3F 52 E9  DB 1D EB E3 24 0E A9 DD


Additional ciphers package changes since previous release:
- Added support for CONFIG_LBD (2.5 kernels)

bzip2 compressed tarball is here:

    http://loop-aes.sourceforge.net/ciphers-v1.0g.tar.bz2
    md5sum cf7e534a1f6a63c214881db30e5e2dfd

PGP signature file here:

    http://loop-aes.sourceforge.net/ciphers-v1.0g.tar.bz2.sign

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020928171227</emailId><senderName></senderName><senderEmail>carolh</senderEmail><timestampReceived>2002-09-28 17:12:27-0400</timestampReceived><subject>$3.50 to join Before Launch!!!!!!!!!!! Will Make $1,000's later!!!!!!!</subject><body>

 charset="US-ASCII";
	charset="US-ASCII";
	charset="US-ASCII";

 charset="US-ASCII";
	charset="US-ASCII"
Reply-To: carolh@service.com
Date: Sat, 28 Sep 2002 13:12:28 -0400
X-Priority: 3
X-Library: Indy 9.00.10
X-Mailer: Foxmail

Hello Friends!!!!!!

Why will it only take 28 minutes a month for Guerrilla Marketing
Bombshells to increase your profits?

http://www.gmktgb.com/page/soundp/

You'll have to click on the link to find out why the select few
who have seen the product plan are begging to get early access
to the product (sorry, no one can get access until the launch
date - click on the link below to find out when).


http://www.gmktgb.com/page/soundp/

But, here are the top 3 reasons why it's vital that you sign up
now during the pre-launch phase:

1.  Secure your position in the highest paying 2x15 forced matrix
in the industry.  A full matrix pays (click below for answer) per
month.

2.  This is a unique high-demand product that will be physically
impossible for anyone to duplicate.  Brought to you by two names
that are legends in the industry (click below to find out who).

3.  You'll be given an opportunity to promote GMB before the
launch and pre-build your matrix.  Pre-launch and launch dates
are: (click below for answer).

http://www.gmktgb.com/page/soundp/

The product will be in high demand by anyone who wants to
generate more profit from their business.  In fact, it will only
take 28 minutes a month.  (That's less than a minute a day.)

Sign up here now:

http://www.gmktgb.com/page/soundp/

All the best,

Mark

Mark Joyner
CEO, Aesop.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020929130110</emailId><senderName>Dale Amon</senderName><senderEmail>amon@vnl.com</senderEmail><timestampReceived>2002-09-29 13:01:10-0400</timestampReceived><subject>Re: loop-aes and util-linux from debian-package</subject><body>

On Sat, Sep 28, 2002 at 07:43:20PM +0200, Florian Heiderich wrote:
&gt; If I use CryptoAPI I have to patch the kernel with CryptoAPI and I have
&gt; to patch the loop.c in der kernel-tree (with the IV or with the JARI
&gt; patch). When I want to setup the EFS I have to load a few modlules from

If you use cruptoapi with the JARI patches, you can then use either 
module.

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020930130350</emailId><senderName>"Air Travel Discounts"</senderName><senderEmail>marketing@airtravdiscounts.com</senderEmail><timestampReceived>2002-09-30 13:03:50-0400</timestampReceived><subject>65% percent savings on Discount International Airfares</subject><body>

Air Travel Discounts provides our customers up to 65% percent savings on
Discount International Airfares for all 
your travel needs. With over 60 major international airlines to choose
from, you can feel assured that you will find 
very reasonable international airline tickets for all your travel needs.
We also provide a searchable database of over 
8 million discount international airfares. These low prices on airline
consolidators airfares from over 60 international 
airlines are just a few clicks away. At Air Travel Discounts, we always
try to go that extra mile for you.


www.airtravdiscounts.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020930151704</emailId><senderName>pplf</senderName><senderEmail>pplf@wanadoo.fr</senderEmail><timestampReceived>2002-09-30 15:17:04-0400</timestampReceived><subject>Re: [ANNOUNCE] redhat-8.0 cryptoapi+ipsec_tunnel rpms /	cryptoapi-0.1.0-rc3</subject><body>

Herbert Valerio Riedel wrote:
&gt; fyi, redhat-8.0 stock kernel is being shipped with cryptoapi.o,
&gt; cryptoloop.o, a loop-iv patched (alas not jari's loop fixes -- so better
&gt; don't swap over the loop device!) loop.o and the cipher-aes.o ansi-c
&gt; implementation, all compiled as modules;

Do you mean that RedHat 8.0 supports crypto-api out-of-the-box, with the 
possiblity to create and mount encrypted FS without adding some external 
RPMS, like SuSE and Mandrake alreday do ?

Or do you mean, it is still necessary to add yours RPMs ?

Thanks,

pplf


-- 
pplf - French OpenPGP page "OpenPGP en francais"
http://www.openpgp.fr.st
pplf@wanadoo.fr
"Microsoft solutions aren't solutions. They are problems" C.Casteyde

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020930154133</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-09-30 15:41:33-0400</timestampReceived><subject>Re: [ANNOUNCE] redhat-8.0 cryptoapi+ipsec_tunnel rpms /</subject><body>

On Mon, 2002-09-30 at 17:17, pplf wrote:
&gt; &gt; fyi, redhat-8.0 stock kernel is being shipped with cryptoapi.o,
&gt; &gt; cryptoloop.o, a loop-iv patched (alas not jari's loop fixes -- so better
&gt; &gt; don't swap over the loop device!) loop.o and the cipher-aes.o ansi-c
&gt; &gt; implementation, all compiled as modules;

&gt; Do you mean that RedHat 8.0 supports crypto-api out-of-the-box, with the 
&gt; possiblity to create and mount encrypted FS without adding some external 
&gt; RPMS, like SuSE and Mandrake alreday do ?
almost,

mandrake comes with loop-aes and corresponding util-linux enhancements;
i.e. aes-based loop enryption out-of-the-box 

suse afaik, comes with it's own loop_fish2 module, allowing for twofish
loop encryption...

redhat comes with a stripped down cryptoapi (just the aes cipher) and
cryptoloop; but without the necessary util-linux enhancements...

&gt; Or do you mean, it is still necessary to add yours RPMs ?
...thus my mount + losetup rpms are still required ;-)

if you reduce kernelspace cryptography to loop-encryption, then redhat's
clearly behind, in terms of out-of-the box readiness, mostly because
they didn't ship any cryptoapi enabled util-linux package w/ it...

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F 4142

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020930210718</emailId><senderName>Thomas Mueller</senderName><senderEmail>etwcn@yahoo.com</senderEmail><timestampReceived>2002-09-30 21:07:18-0400</timestampReceived><subject>Re: "The cipher does not exist"-error, although available in /proc/crypto/cipher/*</subject><body>

--- Herbert Valerio Riedel &lt;hvr@hvrlab.org&gt; wrote:
&gt; do you have cryptoloop.o (CONFIG_CRYPTOLOOP) either
&gt; compiled as module
&gt; (and loaded via insmod/modprobe) or compiled
&gt; statically into the kernel?

Perfect! I compiled it as a module but I was not aware
that I have to load it in addition to the usual loop.o
module. Everything works fine now. Many thanks.

Thomas Müller


__________________________________________________
Do you Yahoo!?
New DSL Internet Access from SBC &amp; Yahoo!
http://sbc.yahoo.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020930213841</emailId><senderName>Earl</senderName><senderEmail>large.files@gmx.net</senderEmail><timestampReceived>2002-09-30 21:38:41-0400</timestampReceived><subject>linux newbie versus Mandrake</subject><body>

Hi linux-crypto,

I am still using WINdoze, but have been reading alot about Linux.  I
have now downloaded Mandrake 9.0 and am ready to try installing it.

With WIN, I have SCRAMDISK and DRIVECRYPT and feel that my
confidential data is safe no matter what.

If I make the synthetic hard drives 650-700MB, I can not only back
them up to CD-ROM easily, but can even mount the "hard disk" when it
is in any CD-ROM drive in any WIN computer. The driver is a small
executable that fits on any media in any pocket.

I understand that Mandrake 9.0 has crypto out-of-the-box, but what
does that really mean? Is it equivalent to using SCRAMDISK/DRIVECRYPT?
Can confidential data be easily backed up on CDs, while remaining in
encrypted format?

What does FS encryption really mean?  Is just the FAT encrypted,
leaving the data in the clear?

Best regards, Earl

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020802000406</emailId><senderName>"gholy_45 () hotmail ! com"</senderName><senderEmail>xx@xx.cc</senderEmail><timestampReceived>2002-08-02 00:04:06-0400</timestampReceived><subject>Re: my pic</subject><body>

Hi Sweetie,

Come see me and my Hot girl friends school at our new web site-&gt;

http://picturepost.phreehost.com/mypic/

Come to see FAST before delete this page.


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020804001842</emailId><senderName>"dojogirl"</senderName><senderEmail>dojo_4gl@yahoo.com</senderEmail><timestampReceived>2002-08-04 00:18:42-0400</timestampReceived><subject>Re: new url</subject><body>

Hi Sweetie,

Come see me and my Hot girl friends school at our new web site-&gt;

http://freexmovies.net/mypic/

Come to see FAST before delete this page.


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020804151546</emailId><senderName>"j2"</senderName><senderEmail>spamfilter2@mupp.net</senderEmail><timestampReceived>2002-08-04 15:15:46-0400</timestampReceived><subject>Re: patching linux utils?</subject><body>


----- Original Message -----
From: "W. Michael Petullo" &lt;mike@flyn.org&gt;
To: &lt;linux-crypto@nl.linux.org&gt;
Sent: Sunday, August 04, 2002 4:58 PM
Subject: Re: patching linux utils?

&gt; &gt; Be patient, you should be able to apt-get cryptoapi support for woody in
&gt; &gt; about a 1-2 weeks without the need to touch any source code.

Now i am confused.. I am using Woody/Testing. But using a custom kernel to
get XFS. Am i overcomplicating things here? As in should i use "debians
kernel source" and just patch for XFS, or how SHOULD i go about to get
crypto/loop-AES/XFS i thought i had it figured out but now i am confused
again?


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020804153631</emailId><senderName>"Fruhwirth Clemens"</senderName><senderEmail>clemens-dated-1028907391.1d5f@endorphin.org</senderEmail><timestampReceived>2002-08-04 15:36:31-0400</timestampReceived><subject>Re: cryptoAPI in Debian (was Re: patching linux utils?)</subject><body>

On Sun, Aug 04, 2002 at 05:15:46PM +0200, j2 wrote:
&gt; 
&gt; ----- Original Message -----
&gt; From: "W. Michael Petullo" &lt;mike@flyn.org&gt;
&gt; To: &lt;linux-crypto@nl.linux.org&gt;
&gt; Sent: Sunday, August 04, 2002 4:58 PM
&gt; Subject: Re: patching linux utils?
&gt; 
&gt; &gt; &gt; Be patient, you should be able to apt-get cryptoapi support for woody in
&gt; &gt; &gt; about a 1-2 weeks without the need to touch any source code.
&gt; 
&gt; Now i am confused.. I am using Woody/Testing. But using a custom kernel to
&gt; get XFS. Am i overcomplicating things here? As in should i use "debians
&gt; kernel source" and just patch for XFS, or how SHOULD i go about to get
&gt; crypto/loop-AES/XFS i thought i had it figured out but now i am confused
&gt; again?
&gt; 

My recommendation: 
Get kernel-patch-xfs, kernel-patch-loop-jari, kernel-patch-cryptoapi and
make-kpkg --added_patch=xfs,jariloop,cryptoapi in your kernel source tree.

In the future I will package a kernel independend source package like
nvidia-kernel-src which can be built with any 2.4.x kernel.

Regards, Clemens

[Attachment #3 (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020805160547</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-08-05 16:05:47-0400</timestampReceived><subject>Re: loop-AES password change?</subject><body>

Iain wrote:
&gt; I was just trying to work out the best way to setup loop AES with a changeable
&gt; password. I.e. Similar behaviour to PGPDisk. I assume the way it works is
&gt; that your password is used to encrypt the session key and the session key is
&gt; what is actually used to encrypt the data. Therefore you can change the
&gt; password without having to re-encrypt the whole device.
&gt; 
&gt; &gt;From what I have read it seems that the right way to do this with loop-AES is
&gt; to use a GPG key to encrypt the "session key". Is this correct? Is there any
&gt; more info/examples?

Example 5 in loop-AES' README file shows how to use GnuPG encrypted
filesystem key.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020808110529</emailId><senderName>AT</senderName><senderEmail>am.trans@inbox.ru</senderEmail><timestampReceived>2002-08-08 11:05:29-0400</timestampReceived><subject>AT</subject><body>

Dear Sir/Madam,

On behalf of the leading translation agency Amadeus Translations I, Svetlana \
Gladkova, would like to offer you high quality translation services.

We specialize in providing experts for high quality translation and interpreting \
projects. We provide translation services for almost all of the world's languages. We \
also provide experts in website localization who can format your project directly \
into html so that all you have to do is upload the translated pages. Our translators \
are members of professional bodies such as the London Institute of Linguists, the \
London Institute of Translation and Interpreting or similar professional bodies of \
the highest standards. They are used to working on complex projects and to tight \
deadlines.

Our prices vary according to language pairs, level of difficulty, and other factors, \
however, to give you an idea of pricing, a translation of 1,000 words of general text \
from English into Spanish could be priced at GBP 79.

I shall be grateful to provide you with more information .

Yours faithfully,

Svetlana Gladkova

Amadeus Translations
am.trans@mail.ru
Svetlana Gladkova
Tel.:  +44 (0)1727 759079
Fax:  +44 (0)1727 753728

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020804232359</emailId><senderName>Iain</senderName><senderEmail>iain@myspinach.org</senderEmail><timestampReceived>2002-08-04 23:23:59-0400</timestampReceived><subject>loop-AES password change?</subject><body>

Hi,

I was just trying to work out the best way to setup loop AES with a changeable 
password. I.e. Similar behaviour to PGPDisk. I assume the way it works is 
that your password is used to encrypt the session key and the session key is 
what is actually used to encrypt the data. Therefore you can change the 
password without having to re-encrypt the whole device.

From what I have read it seems that the right way to do this with loop-AES is 
to use a GPG key to encrypt the "session key". Is this correct? Is there any 
more info/examples?

thanks, Iain.
-- 
GnuPG key: 580EE8D7 available on public key servers.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020805082608</emailId><senderName>Robert Stark</senderName><senderEmail>rstark@ipp.mpg.de</senderEmail><timestampReceived>2002-08-05 08:26:08-0400</timestampReceived><subject>ACPI + loop(AES) + swsusp</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi,

I've patched kernel-2.4.18 with acpi-20020726-2.4.18.diff, patch-acpi-acpi20020726-swsusp11,
and use Jari's loopaes. All partitions, also the root partition are encrypted symmetric.

I work on a Sony-PCG-FX501 and ACPI and loopaes do all the things they should do.
Have tested swsusp on the same machine without loopaes( and standard loop device )
successfully, but when i have an loop device losetuped and send an 'echo 4 &gt; /proc/acpi/sleep'
then swsusp says "Strange, loopX not stopped" and abort suspend. After this error all loop devices
are under load and i must reboot the system.

Is there a way get this envoirement to work ?


Robert Stark

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.7 (GNU/Linux)

iD8DBQE9TjajmSoJ6yS8v8oRAlb+AKCgCOG1vzmeKTxHv3deVblv/i1CTQCeNqmt
kQZUnV/Qo6bZU9BYYG3LqNc=
=9So0
-----END PGP SIGNATURE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020822015913</emailId><senderName>Marcus Roelz</senderName><senderEmail>mr@dinomight.de</senderEmail><timestampReceived>2002-08-22 01:59:13-0400</timestampReceived><subject>loop-aes crashes with any cipher under my standard configuration</subject><body>


Hi out there..

I installed loop-aes exactly like described in the readme - but the problem 
is: it crashes when i do mke2fs /dev/loop0
The first few inodes are written (200 Gig raid5) then mke2fs terminates - the 
same when i try dd if=/dev/zero of=/dev/loop0

mke2fs /dev/md1 works fine (without loop-aes)

The crashes occur with serpent128, serpent256, aes (i didn't test the others 
but expect them to fail too)

My system:

freshly installed Redhat 7.3 with kernel 2.4.18custom
loop-AES-v1.6f
ciphers-v1.0f
util-linux-2.11u
gcc 2.96

Someone on the crypto-list had the same Problem in July 2002 but the thread 
died.

Any help would be appreciated (spent the last few days messing around with it)

Greeting from Germany,

Marcus Roelz
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020822195059</emailId><senderName>Marcus Roelz</senderName><senderEmail>mr@dinomight.de</senderEmail><timestampReceived>2002-08-22 19:50:59-0400</timestampReceived><subject>loop-aes crashes with raid5 ?</subject><body>



Hello again...

&gt; Richard Zidlicky's loop-AES problem was probably a compile problem. He
&gt; compiled 3 different kernels with some of the source tree shared and then
&gt; compiled 3 copies of loop.o drivers for those 3 kernels. I suggested to him
&gt; that he compile 1 kernel and then loop.o for that kernel, and repeat that 3
&gt; times.

Do you know if he tried it on raid5 ?

&gt;
&gt; Could you provide exact commands that you used to compile your kernel and
&gt; loop.o + loop_serpent.o external modules. And I mean all commands, starting
&gt; with "make distclean" or something.

i installed a new kernel-source via rpm, made menuconfig
deactivated loop.o (like it is said in your README) and made bzImage &amp; 
installed it with lilo, also made make modules and make modules_install
then exactly followed the other instructions in your README
to install and patch the losetup and mount stuff.


&gt; &gt; loopback device without encryption works perfectly....
&gt;
&gt; Was that with loop-AES' loop.o or or RedHat kernel's loop?

the first: loop-AES

&gt;
&gt; Were the smaller partitions raid5 devices or just plain partitions. Is this
&gt; problem with loop-AES on top of raid5 device, or problem with loop-AES on
&gt; top of big partition?

today i tested loop-AES on a 70 Gig partition _without_ raid5 
encryption worked without problems - but i have no 200 gig partition without 
raid :( to test

Did anyone install a (maybe big) raid5 partition with loop-aes?

Have you the chance to test loop-aes in conjunction with raid5 ?

I think now that it is the combination of raid5 + loop-aes that doesn't work 
- cant imagine why but it seems so. ( for me) 

Best regards,

Marcus Roelz


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020823163426</emailId><senderName>Marcus Roelz</senderName><senderEmail>mr@dinomight.de</senderEmail><timestampReceived>2002-08-23 16:34:26-0400</timestampReceived><subject>SOLUTION  loop-aes crashes with raid5 ?</subject><body>


I just figured out that my problems disappear when i turn swap on :-O

but i dont know exactly what eats up my 256 MB ram - maybe raid?
or is it the 2.4.18 kernel? 
top doesnt help me much - it shows no programms that use this much ram

Best regards,

Marcus Roelz
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020822023700</emailId><senderName>Kyle McMartin</senderName><senderEmail>kyle@debian.org</senderEmail><timestampReceived>2002-08-22 02:37:00-0400</timestampReceived><subject>Re: loop-aes crashes with any cipher under my standard configuration</subject><body>

On Sun, Aug 23, 2020 at 03:09:01AM +0200, Marcus Roelz wrote:
&gt; The crashes occur with serpent128, serpent256, aes (i didn't test the others 
&gt; but expect them to fail too)
&gt; 
Have you tried with a loopback fs with no encryption [without loop-aes?]
if so, does it work or die?

&gt; 
&gt; Greeting from Germany,
&gt; 
And the future apparently... Date: Sun, Aug 23, 2020 at 03:09:01AM +0200
:)

-- 
Kyle McMartin
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020822121547</emailId><senderName>Marcus Roelz</senderName><senderEmail>mr@dinomight.de</senderEmail><timestampReceived>2002-08-22 12:15:47-0400</timestampReceived><subject>Re: loop-aes crashes with any cipher under my standard configuration</subject><body>

On Thursday 22 August 2002 04:37, you wrote:
&gt; On Sun, Aug 23, 2020 at 03:09:01AM +0200, Marcus Roelz wrote:
&gt; &gt; The crashes occur with serpent128, serpent256, aes (i didn't test the
&gt; &gt; others but expect them to fail too)
&gt;
&gt; Have you tried with a loopback fs with no encryption [without loop-aes?]
&gt; if so, does it work or die?

loopback device without encryption works perfectly....

&gt; &gt; Greeting from Germany,
&gt;
&gt; And the future apparently... Date: Sun, Aug 23, 2020 at 03:09:01AM +0200
&gt;
&gt; :)
hum.. maybe i should have asked my questions in the future not in the 
past...:)

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020805160814</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-08-05 16:08:14-0400</timestampReceived><subject>Re: ACPI + loop(AES) + swsusp</subject><body>

Robert Stark wrote:
&gt; I've patched kernel-2.4.18 with acpi-20020726-2.4.18.diff, patch-acpi-acpi20020726-swsusp11,
&gt; and use Jari's loopaes. All partitions, also the root partition are encrypted symmetric.
&gt; 
&gt; I work on a Sony-PCG-FX501 and ACPI and loopaes do all the things they should do.
&gt; Have tested swsusp on the same machine without loopaes( and standard loop device )
&gt; successfully, but when i have an loop device losetuped and send an 'echo 4 &gt; /proc/acpi/sleep'
&gt; then swsusp says "Strange, loopX not stopped" and abort suspend. After this error all loop devices
&gt; are under load and i must reboot the system.
&gt; 
&gt; Is there a way get this envoirement to work ?

Swsusp requires that loop thread puts itself to 'refrigerator' before
suspend can happen. Current version of loop-AES just does not do that and is
incompatible with swsusp.

And even if loop thread did the 'refrigerator' thing, it would be really bad
security wise because the encryption keys would be written to disk when
kernel RAM is saved to disk. Of course that is not a problem with
unencrypted loops.

Robert, can you send me URLs of the patches that you used? It may be
possible to add such code in '#ifdef CONFIG_SWSUSP / #endif' hunks, so that
it gets activated only if swsusp is enabled in kernel config. I can't
promise that it gets merged, but I will at least take a look at it.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020818135827</emailId><senderName>"John J. Lee"</senderName><senderEmail>jjl@pobox.com</senderEmail><timestampReceived>2002-08-18 13:58:27-0400</timestampReceived><subject>Re: ACPI + loop(AES) + swsusp</subject><body>

On Mon, 5 Aug 2002, Jari Ruusu wrote:

&gt; And even if loop thread did the 'refrigerator' thing, it would be really bad
&gt; security wise because the encryption keys would be written to disk when
&gt; kernel RAM is saved to disk. Of course that is not a problem with
&gt; unencrypted loops.
&gt;
&gt; Robert, can you send me URLs of the patches that you used? It may be
&gt; possible to add such code in '#ifdef CONFIG_SWSUSP / #endif' hunks, so that
&gt; it gets activated only if swsusp is enabled in kernel config. I can't
&gt; promise that it gets merged, but I will at least take a look at it.
[...]

Given your point about security, wouldn't it be nice if there were yet
another flag to indicate that encrypted partitions should just be
turned off on suspend?

This is more useful than it sounds -- not all partitions are mounted all
the time.  It might actually be convenient if you don't want to
accidentally leave a partition accessible when you walk away from a
machine and forget to losetup -d, or whatever.


John

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020818141528</emailId><senderName>Sean Neakums</senderName><senderEmail>sneakums@zork.net</senderEmail><timestampReceived>2002-08-18 14:15:28-0400</timestampReceived><subject>Re: ACPI + loop(AES) + swsusp</subject><body>

commence  John J. Lee quotation:

&gt; Given your point about security, wouldn't it be nice if there were yet
&gt; another flag to indicate that encrypted partitions should just be
&gt; turned off on suspend?

I can imagine processes that have files open on those filesystems
becoming quite upset about that.

-- 
 /                          |
[|] Sean Neakums            |  Questions are a burden to others;
[|] &lt;sneakums@zork.net&gt;     |      answers a prison for oneself.
 \                          |
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020823234948</emailId><senderName></senderName><senderEmail>webdesignhq.com</senderEmail><timestampReceived>2002-08-23 23:49:48-0400</timestampReceived><subject>WebDesignHQ Flash SiteBuilder Newsletter</subject><body>

WebDesignHQ Newsletter			
23rd of August 2002 07:10:09 PM

The SiteBuilder v2.0 Final-Release is now available and it has many enhanced features \
as well as more licensing options compared to the Pre-Release.

The SiteBuilder is the ultimate 'nuke module' for making money with your portal \
system!

Check out the demo online and to learn how to purchase the Full Version visit: \
http://www.WebDesignHQ.com

The WebDesignHQ Flash-SiteBuilder Software is a userfriendly community based \
Multimedia Flash Web Site creation tool (similar to geocities/angelfire style \
engine... but with Flash!). It features an automatic publishing system that enables \
anyone to easily build their own web site online with nothing but their web browser.

This software can be installed on your own web site and will provide your web site \
visitors or registered members the ability to create their own Multimedia Web Site \
which they can edit anytime using only a web browser right at your own Web Site! 

No FTP, HTML, or Flash knowledge is required to build and customize a Web Site. 

An excellent solution for web designers and web hosting companies who have many \
clients that need constant updates.

You can learn more about how to get this software for your own site at : \
http://www.webdesignhq.com

 ------------------------------------------------- 
 If you would like to unsubscribe from this 
 newsletter, just click the hyperlink below:

http://www.webdesignhq.com/omnivore/vlist/vlist.php?action=out&amp;address=linux-crypto@nl.linux.org
                
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020825063109</emailId><senderName>Iain</senderName><senderEmail>iain@myspinach.org</senderEmail><timestampReceived>2002-08-25 06:31:09-0400</timestampReceived><subject>loop-aes with loop=m in kernel?</subject><body>

Hi,

I was just wondering why you can't use loop-aes with a kernel that has been 
compiled with loopback support as a module in the kernel. Couldn't you just 
replace the loop module with the loop-aes module?

Iain.

-- 
PGP info: http://www.myspinach.org/~iain/pgpinfo.html
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020824091939</emailId><senderName>Jesper Toft</senderName><senderEmail>jesper@liscom.dk</senderEmail><timestampReceived>2002-08-24 09:19:39-0400</timestampReceived><subject>Re: Need Help w.r.t 2.4 kernels !</subject><body>

On Saturday 24 August 2002 11:07, Udaya Kumar.R wrote:
&gt; hi all ,
&gt;    I m new to this list . I m trying to get my kernel (2.4.18-3) to support
&gt; filesystem encryption . But i could not make it .
&gt;
&gt;    I gone thru. the 'Howto' which is out of date . Can somebody guide me
&gt; along the way or point me to some latest Howto''s

Quick guide:

Get a clean kernel.
patch it.. Remember to patch the loop.c/.h too..
config the kernel, build it and reboot.
losetup -e &lt;choose one&gt; /dev/loop0 /dev/&lt;partition&gt;
mke2fs /dev/loop0
mount /dev/loop0 /somewhere.

Thats about it..

/Jesper Toft

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020828153233</emailId><senderName>Dexter Filmore</senderName><senderEmail>dexter.filmore@gmx.de</senderEmail><timestampReceived>2002-08-28 15:32:33-0400</timestampReceived><subject>newbie has some questions</subject><body>

There really is a lot of information about crypto in Linux - enough to utterly
confuse me.

My goal: being able to create a container file of arbitrary size crypted with
AES which I can mount like any other disk/partition and so on.
Problem: with only 1 year Linux experience I tend to describe myself as a
newbie.

I can aplly a patch to kernel src, ok.
I can create a container file, create a filesystem on it and mount it, ok.

As far as I understand, I need:

-the kernel patch providing me with AES support
-a patched version of util-linux

Is that it? Or am I missing something?

Is there a newbie-friendly HOWTO? The ones I found are rather for the more
sophisticated users.

Dex
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020827084507</emailId><senderName>Newsmail</senderName><senderEmail>newsmail@satimex.tvnet.hu</senderEmail><timestampReceived>2002-08-27 08:45:07-0400</timestampReceived><subject>how is data cached in the memory when using loop device</subject><body>

hello everybody,
I have an aes128 partition, I use loop-aes. I would like to ask, that when 
linux caches the data prior to disk write, does it cache it in its 
encrypted form or in plain? because, many times when I have big disk i/o 
the machine seems to freeze for some seconds. I think that this is because 
bdflush begins to write out cached plain data from memory, and encrypts all 
in once, which results in this sort of freeze. is that right?
greg

ps: if anybody experienced this before, did he found any remedy for the problem?


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020827131502</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-08-27 13:15:02-0400</timestampReceived><subject>Re: how is data cached in the memory when using loop device</subject><body>

Newsmail wrote:
&gt; I have an aes128 partition, I use loop-aes. I would like to ask, that when
&gt; linux caches the data prior to disk write, does it cache it in its
&gt; encrypted form or in plain?

Data is cached in unencrypted form.

&gt; because, many times when I have big disk i/o
&gt; the machine seems to freeze for some seconds. I think that this is because
&gt; bdflush begins to write out cached plain data from memory, and encrypts all
&gt; in once, which results in this sort of freeze. is that right?

Yes.

Loop helper thread will release CPU pretty quickly if scheduler says it
should reschedule. Ingo Molnar's new scheduler gives loop helper thread
(that does time consuming encryption) much more CPU time than mainline
scheduler.

Problem may also be that large number of dirty RAM pages are unavailable for
other use until their contents are encrypted and transferred to disk. RAM
shortage causes delays in program execution.

&gt; ps: if anybody experienced this before, did he found any remedy for the problem?

What kernel version are you using? -ac and -aa kernels have better VM than
mainline kernels.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020827151504</emailId><senderName>Newsmail</senderName><senderEmail>newsmail@satimex.tvnet.hu</senderEmail><timestampReceived>2002-08-27 15:15:04-0400</timestampReceived><subject>Re: how is data cached in the memory when using loop device</subject><body>

I'm using the -ac kernels, with riels VM. unfortunately that vm is not 
documented at all, I have no idea how it works exactly. I'm trying to tune 
a bit bdflush maybe if would help, but I didnt have too much succes yet 
with it.
regards,
greg

ps: what is the loop helper thread?

At 14:15 2002. 08. 27.Ïá', you wrote:
&gt;Newsmail wrote:
&gt; &gt; I have an aes128 partition, I use loop-aes. I would like to ask, that when
&gt; &gt; linux caches the data prior to disk write, does it cache it in its
&gt; &gt; encrypted form or in plain?
&gt;
&gt;Data is cached in unencrypted form.
&gt;
&gt; &gt; because, many times when I have big disk i/o
&gt; &gt; the machine seems to freeze for some seconds. I think that this is because
&gt; &gt; bdflush begins to write out cached plain data from memory, and encrypts all
&gt; &gt; in once, which results in this sort of freeze. is that right?
&gt;
&gt;Yes.
&gt;
&gt;Loop helper thread will release CPU pretty quickly if scheduler says it
&gt;should reschedule. Ingo Molnar's new scheduler gives loop helper thread
&gt;(that does time consuming encryption) much more CPU time than mainline
&gt;scheduler.
&gt;
&gt;Problem may also be that large number of dirty RAM pages are unavailable for
&gt;other use until their contents are encrypted and transferred to disk. RAM
&gt;shortage causes delays in program execution.
&gt;
&gt; &gt; ps: if anybody experienced this before, did he found any remedy for the 
&gt; problem?
&gt;
&gt;What kernel version are you using? -ac and -aa kernels have better VM than
&gt;mainline kernels.
&gt;
&gt;Regards,
&gt;Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020827194311</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-08-27 19:43:11-0400</timestampReceived><subject>Re: how is data cached in the memory when using loop device</subject><body>

Newsmail wrote:
&gt; I'm using the -ac kernels, with riels VM. unfortunately that vm is not
&gt; documented at all, I have no idea how it works exactly. I'm trying to tune
&gt; a bit bdflush maybe if would help, but I didnt have too much succes yet
&gt; with it.

Can you change line 795 of loop-AES-v1.6f/loop.c-2.4.diff from:

+	set_user_nice(current, -20);

to:

+	set_user_nice(current, 0);

and recompile loop.o, and "rmmod loop", and try again. After that change
loop helper thread should get less CPU time. Please let me know how it
works.

&gt; ps: what is the loop helper thread?

Just a process dedicated to doing crypto and loop work. Each initialized
loop device has one such process on 2.4 and 2.5 kernels.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020829191849</emailId><senderName>Newsmail</senderName><senderEmail>newsmail@satimex.tvnet.hu</senderEmail><timestampReceived>2002-08-29 19:18:49-0400</timestampReceived><subject>Re: how is data cached in the memory when using loop device</subject><body>

things seem to be much better with this 'nice' setting. btw why did it have 
so high priority?
greg
At 20:43 2002. 08. 27.istory., you wrote:
&gt;Newsmail wrote:
&gt; &gt; I'm using the -ac kernels, with riels VM. unfortunately that vm is not
&gt; &gt; documented at all, I have no idea how it works exactly. I'm trying to tune
&gt; &gt; a bit bdflush maybe if would help, but I didnt have too much succes yet
&gt; &gt; with it.
&gt;
&gt;Can you change line 795 of loop-AES-v1.6f/loop.c-2.4.diff from:
&gt;
&gt;+       set_user_nice(current, -20);
&gt;
&gt;to:
&gt;
&gt;+       set_user_nice(current, 0);
&gt;
&gt;and recompile loop.o, and "rmmod loop", and try again. After that change
&gt;loop helper thread should get less CPU time. Please let me know how it
&gt;works.
&gt;
&gt; &gt; ps: what is the loop helper thread?
&gt;
&gt;Just a process dedicated to doing crypto and loop work. Each initialized
&gt;loop device has one such process on 2.4 and 2.5 kernels.
&gt;
&gt;Regards,
&gt;Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020829055752</emailId><senderName>"Udaya Kumar.R"</senderName><senderEmail>itsuday@linuxfreemail.com</senderEmail><timestampReceived>2002-08-29 05:57:52-0400</timestampReceived><subject>Re: newbie has some questions</subject><body>

On Wed, 28 Aug 2002, Dexter Filmore Wrote :

Dexter :There really is a lot of information about crypto in Linux - enough to utterly
Dexter :confuse me.
Dexter :
Dexter :My goal: being able to create a container file of arbitrary size crypted with
Dexter :AES which I can mount like any other disk/partition and so on.
Dexter :Problem: with only 1 year Linux experience I tend to describe myself as a
Dexter :newbie.
Dexter :
Dexter :I can aplly a patch to kernel src, ok.
Dexter :I can create a container file, create a filesystem on it and mount it, ok.
Dexter :
Dexter :As far as I understand, I need:
Dexter :
Dexter :-the kernel patch providing me with AES support
Dexter :-a patched version of util-linux
Dexter :
Dexter :Is that it? Or am I missing something?
Dexter :
Dexter :Is there a newbie-friendly HOWTO? The ones I found are rather for the more
Dexter :sophisticated users.

There is older-friendly HOWTO , which would aid for 2.2 kernels !
I also checked in CVS repository , it has the older-friendly HOWTO!

   I m not sure whether there is HOWTO for 2.4 kernels , i had read in one of
the mail saying that he had written a HOWTO for 2.4 kernels , anyway check
out the archive !

BTW , r u the famous Dexter personality that comes in cartoon network :) ?

RoadMap for ur. Goal :
---------------------
* Get a vanilla kernel of latest stable/unstable version which u opt. for.
   + Check out whether there is international patch available for the
      kernel version u r downloading(this should be done b4 downloading the
      vanilla kernel :)

* Get the international patch which is appr. for ur. kernel version

* Untar the kernel

* Apply the international kernel patch

* Get the latest version of loop-AES tar ball
   + Check out loop-hvr it also supports AES ciphers

* Check out the documentation that comes with loop-AES for futher info.
   + bcoz the way of building the kernel is different for loop-AES and
      loop-hvr.

* RoadMap ends here . Happy Hacking !

Guys check out , that i m not missing anything !

bye.
uday.
-- 
Reply To : 
perl -e 'print pack "H*","69747375646179406c696e7578667265656d61696c2e636f6d";'
                                       OR
                          to the above 'From' Address

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020824091953</emailId><senderName>"Udaya Kumar.R"</senderName><senderEmail>itsuday@linuxfreemail.com</senderEmail><timestampReceived>2002-08-24 09:19:53-0400</timestampReceived><subject>Need Help w.r.t 2.4 kernels !</subject><body>

hi all ,
   I m new to this list . I m trying to get my kernel (2.4.18-3) to support
filesystem encryption . But i could not make it .

   I gone thru. the 'Howto' which is out of date . Can somebody guide me
along the way or point me to some latest Howto''s

BTW , which Encryption i have to choose , cryptoAPI or loop-AES ?

And i use RedHat 7.3 .

bye.
uday.

-- 
Reply To : 
perl -e 'print pack "H*","69747375646179406c696e7578667265656d61696c2e636f6d";'
                                       OR
                          to the above 'From' Address

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020824095731</emailId><senderName>"Udaya Kumar.R"</senderName><senderEmail>itsuday@linuxfreemail.com</senderEmail><timestampReceived>2002-08-24 09:57:31-0400</timestampReceived><subject>Re: Need Help w.r.t 2.4 kernels !</subject><body>

On Sat, 24 Aug 2002, Jesper Toft Wrote :

First of all , let me thank u 4 replying .

&lt;snip&gt;
jesper :Quick guide:
jesper :
jesper :Get a clean kernel.
jesper :patch it.. Remember to patch the loop.c/.h too..
&lt;/snip&gt;

This where it is failing .
Do tell me what to patch from where ?

Whether i have to patch 'patch-int-2.4.18.3' first or 
   'loop-jari-2.4.18.0.patch' ?

Or else do i have to deal with 'cryptoapi-0.1.0-pre4.tar.gz' ?

Awaiting 4 ur. reply .
bye.
uday.
-- 
Reply To : 
perl -e 'print pack "H*","69747375646179406c696e7578667265656d61696c2e636f6d";'
                                       OR
                          to the above 'From' Address

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020824105657</emailId><senderName>Jesper Toft</senderName><senderEmail>jesper@liscom.dk</senderEmail><timestampReceived>2002-08-24 10:56:57-0400</timestampReceived><subject>Re: Need Help w.r.t 2.4 kernels !</subject><body>

On Saturday 24 August 2002 11:56, Udaya Kumar.R wrote:
&gt; On Sat, 24 Aug 2002, Jesper Toft Wrote :
&gt;
&gt; First of all , let me thank u 4 replying .
&gt;
&gt; &lt;snip&gt;
&gt; jesper :Quick guide:
&gt; jesper :
&gt; jesper :Get a clean kernel.
&gt; jesper :patch it.. Remember to patch the loop.c/.h too..
&gt; &lt;/snip&gt;
&gt;
&gt; This where it is failing .
&gt; Do tell me what to patch from where ?
&gt;
&gt; Whether i have to patch 'patch-int-2.4.18.3' first or
&gt;    'loop-jari-2.4.18.0.patch' ?

You have to apply both patches.

cd linux
zcat ../patch-int-*.gz | patch -p1
cat ../loop*.patch | patch -p1

patch-int is for the encryption
loop-* is patches for the loop device

doesnt matter which one you apply first.

&gt; Or else do i have to deal with 'cryptoapi-0.1.0-pre4.tar.gz' ?

No.

/Jesper Toft

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020824140039</emailId><senderName>"Udaya Kumar.R"</senderName><senderEmail>itsuday@linuxfreemail.com</senderEmail><timestampReceived>2002-08-24 14:00:39-0400</timestampReceived><subject>Re: Need Help w.r.t 2.4 kernels !</subject><body>

On Sat, 24 Aug 2002, Jesper Toft Wrote :

&lt;snip&gt;
jesper :&gt; This where it is failing .
jesper :&gt; Do tell me what to patch from where ?
jesper :&gt;
jesper :&gt; Whether i have to patch 'patch-int-2.4.18.3' first or
jesper :&gt;    'loop-jari-2.4.18.0.patch' ?
jesper :
jesper :You have to apply both patches.
jesper :
jesper :cd linux
jesper :zcat ../patch-int-*.gz | patch -p1
jesper :cat ../loop*.patch | patch -p1
jesper :
jesper :patch-int is for the encryption
jesper :loop-* is patches for the loop device
&lt;/snip&gt;

Well , i patched the patch-int succesfully , i had some conflicts in
Makefile and 2 hunks failed which were in Makefile.rej , then i had to
manually make the changes . 

After that i had patched loop-jari , --dry-run , which resulted in
following :

&lt;patch-result&gt;
[root@Uday linux-2.4]# patch -p1 --dry-run &lt; /tmp/loop-jari.patch
patching file drivers/block/loop.c
Hunk #1 succeeded at 56 (offset 7 lines).
Hunk #2 succeeded at 93 (offset 2 lines).
Hunk #3 FAILED at 108.
Hunk #4 FAILED at 131.
Hunk #5 FAILED at 163.
Hunk #6 FAILED at 521.
Hunk #7 FAILED at 566.
Hunk #8 FAILED at 575.
Hunk #9 FAILED at 613.
Hunk #10 FAILED at 727.
Hunk #11 FAILED at 748.
Hunk #12 FAILED at 806.
Hunk #13 FAILED at 877.
Hunk #14 FAILED at 1032.
Hunk #15 FAILED at 1047.
Hunk #16 FAILED at 1055.
Hunk #17 FAILED at 1070.
Hunk #18 FAILED at 1153.
Hunk #19 FAILED at 1164.
Hunk #20 FAILED at 1204.
18 out of 20 hunks FAILED -- saving rejects to file
drivers/block/loop.c.rej
patching file include/linux/loop.h
Hunk #1 succeeded at 17 with fuzz 1.
Hunk #2 FAILED at 54.
Hunk #3 FAILED at 86.
Hunk #4 FAILED at 130.
3 out of 4 hunks FAILED -- saving rejects to file include/linux/loop.h.rej
&lt;/patch-result&gt;

Now , i m just stuck over here , and please do tell me what to do ?
Awaiting 4 ur. reply .

bye.
uday.
-- 
Reply To : 
perl -e 'print pack "H*","69747375646179406c696e7578667265656d61696c2e636f6d";'
                                       OR
                          to the above 'From' Address

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020824140919</emailId><senderName>Sean Neakums</senderName><senderEmail>sneakums@zork.net</senderEmail><timestampReceived>2002-08-24 14:09:19-0400</timestampReceived><subject>Re: Need Help w.r.t 2.4 kernels !</subject><body>

commence  Udaya Kumar.R quotation:

[patch rejects]

Is this a fresh 2.4.18 tree from kernel.org that you are using?  I've
applied patch-int to 2.4.18 before, and I don't recall any rejects.

-- 
 /                          |
[|] Sean Neakums            |  Questions are a burden to others;
[|] &lt;sneakums@zork.net&gt;     |      answers a prison for oneself.
 \                          |
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020824141308</emailId><senderName>Jesper Toft</senderName><senderEmail>jesper@liscom.dk</senderEmail><timestampReceived>2002-08-24 14:13:08-0400</timestampReceived><subject>Re: Need Help w.r.t 2.4 kernels !</subject><body>

On Saturday 24 August 2002 21:29, Udaya Kumar.R wrote:
&gt; After that i had patched loop-jari , --dry-run , which resulted in
&gt; following :
&gt; Now , i m just stuck over here , and please do tell me what to do ?
&gt; Awaiting 4 ur. reply .

Hmm..
Try with a clean kernel, and maybee with loop-hvr-2.4.18 instead?

/Jesper

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020824144606</emailId><senderName>"Udaya Kumar.R"</senderName><senderEmail>itsuday@linuxfreemail.com</senderEmail><timestampReceived>2002-08-24 14:46:06-0400</timestampReceived><subject>Re: Need Help w.r.t 2.4 kernels !</subject><body>

On Sat, 24 Aug 2002, Sean Neakums Wrote :

sneaku :commence  Udaya Kumar.R quotation:
sneaku :
sneaku :[patch rejects]
sneaku :
sneaku :Is this a fresh 2.4.18 tree from kernel.org that you are using?  I've
sneaku :applied patch-int to 2.4.18 before, and I don't recall any rejects.

Yeah , u r right . I wasn't using a clean kernel .

   I just tried the patch-int with a clean kernel and it went fine without 
any pblm. 

   But when i patch loop* , --dry-run , it results in following :

------------------------------------------------------------
  What LOOP       loop.c             loop.h
               Total  Failed      Total    Failed
------------------------------------------------------------
loop-hvr        8       1           2        0
loop-jari      20      18           4        3
------------------------------------------------------------

Tell me what to do ?
Waiting 4 ur. reply !

bye
uday.
-- 
Reply To : 
perl -e 'print pack "H*","69747375646179406c696e7578667265656d61696c2e636f6d";'
                                       OR
                          to the above 'From' Address

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020824172345</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-08-24 17:23:45-0400</timestampReceived><subject>Re: Need Help w.r.t 2.4 kernels !</subject><body>

"Udaya Kumar.R" wrote:
&gt;    But when i patch loop* , --dry-run , it results in following :
&gt; 
&gt; ------------------------------------------------------------
&gt;   What LOOP       loop.c             loop.h
&gt;                Total  Failed      Total    Failed
&gt; ------------------------------------------------------------
&gt; loop-hvr        8       1           2        0
&gt; loop-jari      20      18           4        3
&gt; ------------------------------------------------------------
&gt; 
&gt; Tell me what to do ?

Loop-AES works with almost all stable kernels, including distro vendor
kernels, WITHOUT ANY PATCH HASSLES. Meaning that you don't have abandon
those numerous bug fixes that are present in your Red Hat kernel.

Latest version is here:

http://mail.nl.linux.org/linux-crypto/2002-08/msg00016.html
  or
http://marc.theaimsgroup.com/?l=linux-crypto&amp;m=102931525526911&amp;w=2

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020826063618</emailId><senderName>"Udaya Kumar.R"</senderName><senderEmail>itsuday@linuxfreemail.com</senderEmail><timestampReceived>2002-08-26 06:36:18-0400</timestampReceived><subject>Re: Need Help w.r.t 2.4 kernels ! (fwd)</subject><body>

hi ,
   Guys my system time got a bit weird , so i think u pepole would have
   missed my mail . So i m forwarding it !

bye.
uday.
---------- Forwarded message ----------
Date: Sat, 24 Aug 2002 20:04:06 +0530 (IST)
From: Udaya Kumar.R &lt;itsuday@linuxfreemail.com&gt;
To: linux-crypto@nl.linux.org
Subject: Re: Need Help w.r.t 2.4 kernels !

On Sat, 24 Aug 2002, Sean Neakums Wrote :

sneaku :commence  Udaya Kumar.R quotation:
sneaku :
sneaku :[patch rejects]
sneaku :
sneaku :Is this a fresh 2.4.18 tree from kernel.org that you are using?  I've
sneaku :applied patch-int to 2.4.18 before, and I don't recall any rejects.

Yeah , u r right . I wasn't using a clean kernel .

   I just tried the patch-int with a clean kernel and it went fine without 
any pblm. 

   But when i patch loop* , --dry-run , it results in following :

------------------------------------------------------------
  What LOOP       loop.c             loop.h
               Total  Failed      Total    Failed
------------------------------------------------------------
loop-hvr        8       1           2        0
loop-jari      20      18           4        3
------------------------------------------------------------

Tell me what to do ?
Waiting 4 ur. reply !

bye
uday.
-- 
Reply To : 
perl -e 'print pack "H*","69747375646179406c696e7578667265656d61696c2e636f6d";'
                                       OR
                          to the above 'From' Address


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020826081511</emailId><senderName>Panu Matilainen</senderName><senderEmail>pmatilai@welho.com</senderEmail><timestampReceived>2002-08-26 08:15:11-0400</timestampReceived><subject>Re: Need Help w.r.t 2.4 kernels !</subject><body>

On Sat, 24 Aug 2002, Udaya Kumar.R wrote:

&gt; hi all ,
&gt;    I m new to this list . I m trying to get my kernel (2.4.18-3) to support
&gt; filesystem encryption . But i could not make it .
&gt; 
&gt;    I gone thru. the 'Howto' which is out of date . Can somebody guide me
&gt; along the way or point me to some latest Howto''s
&gt; 
&gt; BTW , which Encryption i have to choose , cryptoAPI or loop-AES ?
&gt; 
&gt; And i use RedHat 7.3 .

One option is to use PPDD (which uses CryptoAPI) for which there are 
readymade RPMs at http://ppdd4rhl.sourceforge.net so you don't need to 
patch &amp; recompile anything.

-- 
	- Panu -

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200208250631090</emailId><senderName>Iain</senderName><senderEmail>iain@myspinach.org</senderEmail><timestampReceived>2002-08-25 06:31:09-0400</timestampReceived><subject>loop-aes with loop=m in kernel?</subject><body>

Hi,

I was just wondering why you can't use loop-aes with a kernel that has been 
compiled with loopback support as a module in the kernel. Couldn't you just 
replace the loop module with the loop-aes module?

Iain.

-- 
PGP info: http://www.myspinach.org/~iain/pgpinfo.html
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020825143637</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-08-25 14:36:37-0400</timestampReceived><subject>Re: loop-aes with loop=m in kernel?</subject><body>

Iain wrote:
&gt; I was just wondering why you can't use loop-aes with a kernel that has been
&gt; compiled with loopback support as a module in the kernel. Couldn't you just
&gt; replace the loop module with the loop-aes module?

Actually, loop-AES' Makefile removes kernel's loop.o module. And it works OK
until one does "make modules_install" in kernel source directory. Then you
have two loop.o drivers, and you can't expect that to work OK.

If you _always_ build loop-AES' loop.o _after_ "make modules_install" in
kernel source directory, then you can use CONFIG_BLK_DEV_LOOP=m in your
kernel .config

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200208251436370</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-08-25 14:36:37-0400</timestampReceived><subject>Re: loop-aes with loop=m in kernel?</subject><body>

Iain wrote:
&gt; I was just wondering why you can't use loop-aes with a kernel that has been
&gt; compiled with loopback support as a module in the kernel. Couldn't you just
&gt; replace the loop module with the loop-aes module?

Actually, loop-AES' Makefile removes kernel's loop.o module. And it works OK
until one does "make modules_install" in kernel source directory. Then you
have two loop.o drivers, and you can't expect that to work OK.

If you _always_ build loop-AES' loop.o _after_ "make modules_install" in
kernel source directory, then you can use CONFIG_BLK_DEV_LOOP=m in your
kernel .config

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020825224259</emailId><senderName>Iain</senderName><senderEmail>iain@myspinach.org</senderEmail><timestampReceived>2002-08-25 22:42:59-0400</timestampReceived><subject>Re: loop-aes with loop=m in kernel?</subject><body>

Ok, I guess what my question boils down to is this. Debian has a number of 
prebuilt kernels that include loopback support as a module. If I install one 
of these then remove loop.o and replace it with the loop-aes module will I 
have any problems? Assuming I have of course built loop-aes using the kernel 
config from the prebuilt kernel. 

thanks, Iain.

On Mon, 26 Aug 2002 12:36, Jari Ruusu wrote:
&gt; Iain wrote:
&gt; &gt; I was just wondering why you can't use loop-aes with a kernel that has
&gt; &gt; been compiled with loopback support as a module in the kernel. Couldn't
&gt; &gt; you just replace the loop module with the loop-aes module?
&gt;
&gt; Actually, loop-AES' Makefile removes kernel's loop.o module. And it works
&gt; OK until one does "make modules_install" in kernel source directory. Then
&gt; you have two loop.o drivers, and you can't expect that to work OK.
&gt;
&gt; If you _always_ build loop-AES' loop.o _after_ "make modules_install" in
&gt; kernel source directory, then you can use CONFIG_BLK_DEV_LOOP=m in your
&gt; kernel .config
&gt;
&gt; Regards,
&gt; Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-- 
PGP info: http://www.myspinach.org/~iain/pgpinfo.html
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020826094342</emailId><senderName>Sean Neakums</senderName><senderEmail>sneakums@zork.net</senderEmail><timestampReceived>2002-08-26 09:43:42-0400</timestampReceived><subject>Re: loop-aes with loop=m in kernel?</subject><body>

commence  Iain quotation:

&gt; Ok, I guess what my question boils down to is this. Debian has a number of 
&gt; prebuilt kernels that include loopback support as a module. If I install one 
&gt; of these then remove loop.o and replace it with the loop-aes module will I 
&gt; have any problems? Assuming I have of course built loop-aes using the kernel 
&gt; config from the prebuilt kernel. 

You could use dpkg-divert to add a local diversion so that dpkg will
never clobber the loop.o that you have installed with a loop.o
supplied by a package.

Something like this should do the trick:

dpkg-divert --local --rename --divert \
            /lib/modules/2.4.19/kernel/drivers/block/loop.o-diverted \
            /lib/modules/2.4.19/kernel/drivers/block/loop.o

Now any package that installs
/lib/modules/2.4.19/kernel/drivers/block/loop.o will instead install
it as loop.o-diverted.  This needs to be done as root, and you will
need to do this for each different kernel version you use.

-- 
 /                          |
[|] Sean Neakums            |  Questions are a burden to others;
[|] &lt;sneakums@zork.net&gt;     |      answers a prison for oneself.
 \                          |
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020824132859</emailId><senderName>"Fruhwirth Clemens"</senderName><senderEmail>clemens@endorphin.org</senderEmail><timestampReceived>2002-08-24 13:28:59-0400</timestampReceived><subject>Re: WebDesignHQ Flash SiteBuilder Newsletter</subject><body>

The spam on this list has become unacceptable to me. =20
Publicly I urge the list maintainer to make this list post-only for
subscribers.

Clemens
[Attachment #3 (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020824134540</emailId><senderName>Sean Neakums</senderName><senderEmail>sneakums@zork.net</senderEmail><timestampReceived>2002-08-24 13:45:40-0400</timestampReceived><subject>Re: WebDesignHQ Flash SiteBuilder Newsletter</subject><body>

commence  Fruhwirth Clemens quotation:

&gt; The spam on this list has become unacceptable to me.  

Since the spam is bothering *you*, I suggest that *you* take measures
to deal with it, such as using spamassassin.  It catches almost all of
the spam I receive.  I see only one or two spam messages a week (if
even that) end up in my linux-crypto folder.

&gt; Publicly I urge the list maintainer to make this list post-only for
&gt; subscribers.

Given the way Linux-related development lists tend to be used, I don't
see this idea being a runner.

-- 
 /                          |
[|] Sean Neakums            |  Questions are a burden to others;
[|] &lt;sneakums@zork.net&gt;     |      answers a prison for oneself.
 \                          |
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020824141027</emailId><senderName>"Fruhwirth Clemens"</senderName><senderEmail>clemens@endorphin.org</senderEmail><timestampReceived>2002-08-24 14:10:27-0400</timestampReceived><subject>Re: WebDesignHQ Flash SiteBuilder Newsletter</subject><body>

On Sat, Aug 24, 2002 at 02:45:40PM +0100, Sean Neakums wrote:

&gt; &gt; The spam on this list has become unacceptable to me.  
&gt; 
&gt; Since the spam is bothering *you*, I suggest that *you* take measures
&gt; to deal with it, such as using spamassassin.  It catches almost all of
&gt; the spam I receive.  I see only one or two spam messages a week (if
&gt; even that) end up in my linux-crypto folder.

Spam catchers do not work. To quote http://tmda.sf.net/ :

"The problem with this approach is that spammer's intrusion techniques are
evolving as fast as your prevention techniques are, so the battle is never
ending. Maintaining the blacklist is often just as time-consuming as
pressing the "Delete" key on the easily recognized junk messages. If wasted
time is your biggest complaint with junk e-mail, you can see why this
traditional methodology is flawed." 

Concerning "The spam is bothering *me* and no one else": Please stop being
presumptuous to speak for everyone else on this list implicitly.

&gt; &gt; Publicly I urge the list maintainer to make this list post-only for
&gt; &gt; subscribers.
&gt; 
&gt; Given the way Linux-related development lists tend to be used, I don't
&gt; see this idea being a runner.

It soon will be.
In the meanwhile I'll stop providing my knowledge to this list, thus
unsubscribe.

Have a nice day,
Clemens

[Attachment #3 (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020824142451</emailId><senderName>Sean Neakums</senderName><senderEmail>sneakums@zork.net</senderEmail><timestampReceived>2002-08-24 14:24:51-0400</timestampReceived><subject>Re: WebDesignHQ Flash SiteBuilder Newsletter</subject><body>

commence  Fruhwirth Clemens quotation:

&gt; On Sat, Aug 24, 2002 at 02:45:40PM +0100, Sean Neakums wrote:
&gt;
&gt;&gt; &gt; The spam on this list has become unacceptable to me.  
&gt;&gt; 
&gt;&gt; Since the spam is bothering *you*, I suggest that *you* take measures
&gt;&gt; to deal with it, such as using spamassassin.  It catches almost all of
&gt;&gt; the spam I receive.  I see only one or two spam messages a week (if
&gt;&gt; even that) end up in my linux-crypto folder.
&gt;
&gt; [snip TMDA propaganda]
&gt;
&gt; Concerning "The spam is bothering *me* and no one else": Please stop being
&gt; presumptuous to speak for everyone else on this list implicitly.

I did no such thing.  I urged you to do what all adults do, which is
to solve their own problems, and not inconvenience others in the
process.

&gt;&gt; &gt; Publicly I urge the list maintainer to make this list post-only for
&gt;&gt; &gt; subscribers.
&gt;&gt; 
&gt;&gt; Given the way Linux-related development lists tend to be used, I don't
&gt;&gt; see this idea being a runner.
&gt;
&gt; It soon will be.

Got a target date for that prediction, Nostrodamus?

&gt; In the meanwhile I'll stop providing my knowledge to this list, thus
&gt; unsubscribe.

Oh no!  Please stay!  What will ever do without the bounteous fount of
knowledge and wisdom that is Fruhwirth Clemens?

-- 
 /                          |
[|] Sean Neakums            |  Questions are a burden to others;
[|] &lt;sneakums@zork.net&gt;     |      answers a prison for oneself.
 \                          |
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020824160435</emailId><senderName>Harmon Seaver</senderName><senderEmail>hseaver@cybershamanix.com</senderEmail><timestampReceived>2002-08-24 16:04:35-0400</timestampReceived><subject>Re: WebDesignHQ Flash SiteBuilder Newsletter</subject><body>

   Making it subscriber/posting only is a seriously bad idea. Unless perhaps
*all* of the anon remailers can be included as subscribers. And there really
aren't very many spam messages coming thru here anyway, or maybe my procmail
filters just send them all to /dev/null, but compared to all the other spam I
get everyday, the ones I see from here are a real non-problem.


On Sat, Aug 24, 2002 at 11:45:06AM -0500, Tim Thompson wrote:
&gt; On Saturday 24 August 2002 09:10 am, Fruhwirth Clemens wrote:
&gt; &gt; On Sat, Aug 24, 2002 at 02:45:40PM +0100, Sean Neakums wrote:
&gt; &gt; &gt; &gt; The spam on this list has become unacceptable to me.
&gt; &gt; &gt;
&gt; &gt; &gt; Since the spam is bothering *you*, I suggest that *you* take measures
&gt; &gt; &gt; to deal with it, such as using spamassassin.  It catches almost all of
&gt; &gt; &gt; the spam I receive.  I see only one or two spam messages a week (if
&gt; &gt; &gt; even that) end up in my linux-crypto folder.
&gt; &gt;
&gt; &gt; Spam catchers do not work. To quote http://tmda.sf.net/ :
&gt; &gt;
&gt; &gt; "The problem with this approach is that spammer's intrusion techniques are
&gt; &gt; evolving as fast as your prevention techniques are, so the battle is never
&gt; &gt; ending. Maintaining the blacklist is often just as time-consuming as
&gt; &gt; pressing the "Delete" key on the easily recognized junk messages. If wasted
&gt; &gt; time is your biggest complaint with junk e-mail, you can see why this
&gt; &gt; traditional methodology is flawed."
&gt; 
&gt; I agree.  I used spamassassin for a while.  It caught more non-spam messages 
&gt; and labeled them spam while letting several spam messages through.  When I 
&gt; raised the threshold, it let even more spam through.  There was probably some 
&gt; more "tuning" I could have done, but that means I would have had to spend the 
&gt; time to do it... at that point I would have spent more time doing that than 
&gt; manually deleting the spam.
&gt; 
&gt; &gt;
&gt; &gt; Concerning "The spam is bothering *me* and no one else": Please stop being
&gt; &gt; presumptuous to speak for everyone else on this list implicitly.
&gt; 
&gt; Well, it bothers me.  I'm not sure it bothers me enough to unsubscribe.  Yet. 
&gt; I've only been lurking on the list for a week, so we'll see.
&gt; 
&gt; &gt; &gt; &gt; Publicly I urge the list maintainer to make this list post-only for
&gt; &gt; &gt; &gt; subscribers.
&gt; &gt; &gt;
&gt; &gt; &gt; Given the way Linux-related development lists tend to be used, I don't
&gt; &gt; &gt; see this idea being a runner.
&gt; 
&gt; I was surprised that it wasn't post-only for subscribers.  Almost all other 
&gt; lists I'm on are.  The downside of doing that, though, is that it makes it 
&gt; harder to post.  The account I use "cryptolinux@timt.net" is not a real email 
&gt; address.  I only use it to receive posts to this list.  I can't post from it.  
&gt; With some boards even setting the "From" and "Reply-to" are not enough, so I 
&gt; have to actually log into my domain host to send the mail rather than going 
&gt; through my ISP.  That discourages posting, at least for me.  But then I 
&gt; mostly lurk anyway...
&gt; 
&gt; &gt;
&gt; &gt; Have a nice day,
&gt; &gt; Clemens
&gt; 
&gt; Back to lurking...
&gt; 
&gt; Tim T.
&gt; 
&gt; 
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/

-- 
Harmon Seaver	
CyberShamanix
http://www.cybershamanix.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020824164506</emailId><senderName>Tim Thompson</senderName><senderEmail>cryptolinux@timt.net</senderEmail><timestampReceived>2002-08-24 16:45:06-0400</timestampReceived><subject>Re: WebDesignHQ Flash SiteBuilder Newsletter</subject><body>

On Saturday 24 August 2002 09:10 am, Fruhwirth Clemens wrote:
&gt; On Sat, Aug 24, 2002 at 02:45:40PM +0100, Sean Neakums wrote:
&gt; &gt; &gt; The spam on this list has become unacceptable to me.
&gt; &gt;
&gt; &gt; Since the spam is bothering *you*, I suggest that *you* take measures
&gt; &gt; to deal with it, such as using spamassassin.  It catches almost all of
&gt; &gt; the spam I receive.  I see only one or two spam messages a week (if
&gt; &gt; even that) end up in my linux-crypto folder.
&gt;
&gt; Spam catchers do not work. To quote http://tmda.sf.net/ :
&gt;
&gt; "The problem with this approach is that spammer's intrusion techniques are
&gt; evolving as fast as your prevention techniques are, so the battle is never
&gt; ending. Maintaining the blacklist is often just as time-consuming as
&gt; pressing the "Delete" key on the easily recognized junk messages. If wasted
&gt; time is your biggest complaint with junk e-mail, you can see why this
&gt; traditional methodology is flawed."

I agree.  I used spamassassin for a while.  It caught more non-spam messages 
and labeled them spam while letting several spam messages through.  When I 
raised the threshold, it let even more spam through.  There was probably some 
more "tuning" I could have done, but that means I would have had to spend the 
time to do it... at that point I would have spent more time doing that than 
manually deleting the spam.

&gt;
&gt; Concerning "The spam is bothering *me* and no one else": Please stop being
&gt; presumptuous to speak for everyone else on this list implicitly.

Well, it bothers me.  I'm not sure it bothers me enough to unsubscribe.  Yet. 
I've only been lurking on the list for a week, so we'll see.

&gt; &gt; &gt; Publicly I urge the list maintainer to make this list post-only for
&gt; &gt; &gt; subscribers.
&gt; &gt;
&gt; &gt; Given the way Linux-related development lists tend to be used, I don't
&gt; &gt; see this idea being a runner.

I was surprised that it wasn't post-only for subscribers.  Almost all other 
lists I'm on are.  The downside of doing that, though, is that it makes it 
harder to post.  The account I use "cryptolinux@timt.net" is not a real email 
address.  I only use it to receive posts to this list.  I can't post from it.  
With some boards even setting the "From" and "Reply-to" are not enough, so I 
have to actually log into my domain host to send the mail rather than going 
through my ISP.  That discourages posting, at least for me.  But then I 
mostly lurk anyway...

&gt;
&gt; Have a nice day,
&gt; Clemens

Back to lurking...

Tim T.


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020824183456</emailId><senderName>Richard Zidlicky</senderName><senderEmail>rz@linux-m68k.org</senderEmail><timestampReceived>2002-08-24 18:34:56-0400</timestampReceived><subject>Re: WebDesignHQ Flash SiteBuilder Newsletter</subject><body>

On Sat, Aug 24, 2002 at 11:04:35AM -0500, Harmon Seaver wrote:
&gt;    Making it subscriber/posting only is a seriously bad idea. Unless perhaps
&gt; *all* of the anon remailers can be included as subscribers.

not only that, forging the 'From' address to appear as a subscriber
of this list is one of the easiest excersizes for a spammer.

Richard
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200208241834560</emailId><senderName>Richard Zidlicky</senderName><senderEmail>rz@linux-m68k.org</senderEmail><timestampReceived>2002-08-24 18:34:56-0400</timestampReceived><subject>Re: WebDesignHQ Flash SiteBuilder Newsletter</subject><body>

On Sat, Aug 24, 2002 at 11:04:35AM -0500, Harmon Seaver wrote:
&gt;    Making it subscriber/posting only is a seriously bad idea. Unless perhaps
&gt; *all* of the anon remailers can be included as subscribers.

not only that, forging the 'From' address to appear as a subscriber
of this list is one of the easiest excersizes for a spammer.

Richard
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020824193135</emailId><senderName>J C Lawrence</senderName><senderEmail>claw@kanga.nu</senderEmail><timestampReceived>2002-08-24 19:31:35-0400</timestampReceived><subject>Re: WebDesignHQ Flash SiteBuilder Newsletter</subject><body>

On Sat, 24 Aug 2002 11:04:35 -0500 
Harmon Seaver &lt;hseaver@cybershamanix.com&gt; wrote:

&gt; Making it subscriber/posting only is a seriously bad idea. Unless
&gt; perhaps *all* of the anon remailers can be included as
&gt; subscribers. 

Neither is required.  Merely front the list with TMDA.  Unsubscribed
posters, such as remailer users then just need to confirm their
addresses to the list to be able to post.  Spammers who never confirm
never make it to the list.  The rare spammers who do confirm are easily
tracked and blacklisted.  If you really need to support double blind
remailers just log the TMDA confirms to a central site where they can be
browsed.  Double blind remailers then pick up the confirm tokens for
their own posts and punch them thru to the list.

This is quite easy to do.  I wrote the HOW-TO for Mailman atop Exim,
there's another HOW-TO for Mailman atop Qmail, and extrapolating from
either of those to Majordomo or other list servers or MTAs is not
difficult.

-- 
J C Lawrence                
---------(*)                Satan, oscillate my metallic sonatas. 
claw@kanga.nu               He lived as a devil, eh?		  
http://www.kanga.nu/~claw/  Evil is a name of a foeman, as I live.

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020825113752</emailId><senderName>Harmon Seaver</senderName><senderEmail>hseaver@cybershamanix.com</senderEmail><timestampReceived>2002-08-25 11:37:52-0400</timestampReceived><subject>Re: WebDesignHQ Flash SiteBuilder Newsletter</subject><body>

On Sat, Aug 24, 2002 at 12:31:35PM -0700, J C Lawrence wrote:
&gt; On Sat, 24 Aug 2002 11:04:35 -0500 
&gt; Harmon Seaver &lt;hseaver@cybershamanix.com&gt; wrote:
&gt; 
&gt; &gt; Making it subscriber/posting only is a seriously bad idea. Unless
&gt; &gt; perhaps *all* of the anon remailers can be included as
&gt; &gt; subscribers. 
&gt; 
&gt; Neither is required.  Merely front the list with TMDA.  Unsubscribed
&gt; posters, such as remailer users then just need to confirm their
&gt; addresses to the list to be able to post.

   People posting anonymously thru a remailer aren't going to be able to confirm
their address. 

&gt;  Spammers who never confirm
&gt; never make it to the list.  The rare spammers who do confirm are easily
&gt; tracked and blacklisted.  If you really need to support double blind
&gt; remailers just log the TMDA confirms to a central site where they can be
&gt; browsed.  Double blind remailers then pick up the confirm tokens for
&gt; their own posts and punch them thru to the list.
&gt; 
    You can't expect the remailers to change their method of operation to work
with this. 

&gt; This is quite easy to do.  I wrote the HOW-TO for Mailman atop Exim,
&gt; there's another HOW-TO for Mailman atop Qmail, and extrapolating from
&gt; either of those to Majordomo or other list servers or MTAs is not
&gt; difficult.
&gt; 
&gt; -- 
&gt; J C Lawrence                
&gt; ---------(*)                Satan, oscillate my metallic sonatas. 
&gt; claw@kanga.nu               He lived as a devil, eh?		  
&gt; http://www.kanga.nu/~claw/  Evil is a name of a foeman, as I live.

-- 
Harmon Seaver	
CyberShamanix
http://www.cybershamanix.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200208251137520</emailId><senderName>Harmon Seaver</senderName><senderEmail>hseaver@cybershamanix.com</senderEmail><timestampReceived>2002-08-25 11:37:52-0400</timestampReceived><subject>Re: WebDesignHQ Flash SiteBuilder Newsletter</subject><body>

On Sat, Aug 24, 2002 at 12:31:35PM -0700, J C Lawrence wrote:
&gt; On Sat, 24 Aug 2002 11:04:35 -0500 
&gt; Harmon Seaver &lt;hseaver@cybershamanix.com&gt; wrote:
&gt; 
&gt; &gt; Making it subscriber/posting only is a seriously bad idea. Unless
&gt; &gt; perhaps *all* of the anon remailers can be included as
&gt; &gt; subscribers. 
&gt; 
&gt; Neither is required.  Merely front the list with TMDA.  Unsubscribed
&gt; posters, such as remailer users then just need to confirm their
&gt; addresses to the list to be able to post.

   People posting anonymously thru a remailer aren't going to be able to confirm
their address. 

&gt;  Spammers who never confirm
&gt; never make it to the list.  The rare spammers who do confirm are easily
&gt; tracked and blacklisted.  If you really need to support double blind
&gt; remailers just log the TMDA confirms to a central site where they can be
&gt; browsed.  Double blind remailers then pick up the confirm tokens for
&gt; their own posts and punch them thru to the list.
&gt; 
    You can't expect the remailers to change their method of operation to work
with this. 

&gt; This is quite easy to do.  I wrote the HOW-TO for Mailman atop Exim,
&gt; there's another HOW-TO for Mailman atop Qmail, and extrapolating from
&gt; either of those to Majordomo or other list servers or MTAs is not
&gt; difficult.
&gt; 
&gt; -- 
&gt; J C Lawrence                
&gt; ---------(*)                Satan, oscillate my metallic sonatas. 
&gt; claw@kanga.nu               He lived as a devil, eh?		  
&gt; http://www.kanga.nu/~claw/  Evil is a name of a foeman, as I live.

-- 
Harmon Seaver	
CyberShamanix
http://www.cybershamanix.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020825182009</emailId><senderName>J C Lawrence</senderName><senderEmail>claw@kanga.nu</senderEmail><timestampReceived>2002-08-25 18:20:09-0400</timestampReceived><subject>Re: WebDesignHQ Flash SiteBuilder Newsletter</subject><body>

On Sun, 25 Aug 2002 06:37:52 -0500 
Harmon Seaver &lt;hseaver@cybershamanix.com&gt; wrote:

&gt; People posting anonymously thru a remailer aren't going to be able
&gt; to confirm their address.

There are two forms of remailers which for the sake of description I'll
call single and double blind.  Single blind remailers hide the identity
of the poster but provide an email by which he may be reached (remember
anon.penet.fi?).  Double blind remailers hide both ends from each other
(eg mixmaster).  

Neither need change their operation in the slightest.

&gt;&gt; Spammers who never confirm never make it to the list.  The rare
&gt;&gt; spammers who do confirm are easily tracked and blacklisted.  If you
&gt;&gt; really need to support double blind remailers just log the TMDA
&gt;&gt; confirms to a central site where they can be browsed.  Double blind
&gt;&gt; remailers then pick up the confirm tokens for their own posts and
&gt;&gt; punch them thru to the list.
 
&gt; You can't expect the remailers to change their method of operation to
&gt; work with this.

I don't expect them to change a single line of code or a single aspect
of their operations.

TMDA confirmations require that a special address receives an email.
The *fact* of that address receiving an email releases the matching
single held message.  It doesn't care where the message is sent from,
just that it gets one.  (If it doesn't after N days the held message is
silently deleted)  How it works:

  The mixmaster user emails the list

  His message is held by TMDA

  He browses the list of held messages and finds the
  token/special_address for his message

  He emails that address (blank message is fine, thru mixmaster again is
  fine) to release his message to the list

Yes, the double blind remailer user has to do extra work to retain his
privacy _AND_ post to the list.  This is hardly a surprise: they are
already having to do extra work to retain their privacy.  The fact that
he now also checks a web page or a public read-only IMAP folder as well
is hardly onerous.

-- 
J C Lawrence                
---------(*)                Satan, oscillate my metallic sonatas. 
claw@kanga.nu               He lived as a devil, eh?		  
http://www.kanga.nu/~claw/  Evil is a name of a foeman, as I live.

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020810161706</emailId><senderName>"W. Michael Petullo"</senderName><senderEmail>mike@flyn.org</senderEmail><timestampReceived>2002-08-10 16:17:06-0400</timestampReceived><subject>Pam_mount and encrypted filesystem keys</subject><body>

I have been working a lot on Elvis Pfützenreuter's pam_mount PAM module.
This module allows one to mount, among other things, loopback encrypted
filesystems at login time.  The module makes it easy for a user to have
an encrypted home directory.  The module is available at
http://www.flyn.org but is not quite ready for prime time.

I recently added the concept of an encrypted filesystem key, similar to
that which loop-AES uses.  For example, given:

sk
	system key, the key or password used to log into the system

fsk
	filesystem key, the key that allows you to use the filesystem
	you wish pam_mount to mount for you

E and D
	an openssl supported synchronous encryption/decryption algorithm

efsk
	encrypted filesystem key, efsk = E_sk (fsk), stored somewhere
	on the local filesystem (ie: /home/user.key)

Pam_mount will read efsk from the local filesystem, perform 
fsk = D_sk (efsk) and use fsk to mount the filesystem. If you change
your system password, simply regenerate efsk using efsk = E_sk  (fsk).

Does this technique appear to make sense from a security point of view?

I am using the following technique to create encrypted volumes with a
random key, encrypted with the user's system password and stored on the
local filesystem:

a.  dd if=/dev/urandom of=/home/user.img bs=1M count=&lt;image size in MB&gt;
b.  dd if=/dev/urandom bs=1c count=&lt;keysize / 8&gt; | openssl enc \
    -&lt;fs key cipher&gt; &gt; /home/user.key
    Encrypt this file using the user's login password as the key.
c.  openssl enc -d -&lt;fs key cipher&gt; -in /home/user.key | losetup -e aes \
    -k &lt;keysize&gt; -p0 /dev/loop0 /home/user.img
d.  mkfs -t ext2 /dev/loop0
 ...
n - 1.  umount /dev/loop0
n.  losetup -d /dev/loop0

Again, does this technique also make sense?

-- 
Mike

:wq
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020814085256</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-08-14 08:52:56-0400</timestampReceived><subject>Announce loop-AES-v1.6f file/swap crypto package</subject><body>

loop-AES changes since previous release:
- Makefile updated to use CFLAGS_NOSTDINC with new kbuild.
- swapon now adds -v1 option to mkswap execv()'s on 2.5 kernels.
- Cosmetic fixups to some error case printk's in the loop driver.
- Added /dev/hd[efgh] and /dev/sd[efgh] support to build-initrd.sh
- Made build-initrd.sh work with GnuPG-key encrypted root partition.
- "swapoff -a" of encrypted partitions now writes some collected random
  entropy to the partitions to be used on next "swapon -a"
- loop.c-2.5.original updated with fixes from 2.5.30
- Removed workaround for 2.5 kernel block device module locking bug.
- Fixed loop.o to work correctly with CONFIG_SOFTWARE_SUSPEND (2.4 kernels).
- loop.c-2.4.original updated with fixes from 2.4.20-pre2

bzip2 compressed tarball is here:

    http://loop-aes.sourceforge.net/loop-AES-v1.6f.tar.bz2
    md5sum 5797d62033ff003ed7ad0c085b1c54ff

PGP signature file, my public key, and fingerprint here:

    http://loop-aes.sourceforge.net/loop-AES-v1.6f.tar.bz2.sign
    http://loop-aes.sourceforge.net/PGP-public-key.asc
    1024/3A220F51 5B 4B F9 BB D3 3F 52 E9  DB 1D EB E3 24 0E A9 DD


Additional ciphers package changes since previous release:
- Makefile updated to use CFLAGS_NOSTDINC with new kbuild.

bzip2 compressed tarball is here:

    http://loop-aes.sourceforge.net/ciphers-v1.0f.tar.bz2
    md5sum d428fa2508a3c34fb483e8fabb926939

PGP signature file here:

    http://loop-aes.sourceforge.net/ciphers-v1.0f.tar.bz2.sign

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

P.S.  Previous version, loop-AES-v1.6e, is still mostly OK. Upgrading to
      this version is waste of your time if you haven't experienced problems
      with build-initrd.sh special cases or software suspend.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020815092541</emailId><senderName>"Bolten, Dierk"</senderName><senderEmail>bolten@iwe.rwth-aachen.de</senderEmail><timestampReceived>2002-08-15 09:25:41-0400</timestampReceived><subject>WG: Pam_mount and encrypted filesystem keys</subject><body>

W. Michael Petullo wrote:
&gt; Pam_mount will read efsk from the local filesystem, perform 
&gt; fsk = D_sk (efsk) and use fsk to mount the filesystem. If you change
&gt; your system password, simply regenerate efsk using efsk = E_sk  (fsk).
&gt; 
&gt; Does this technique appear to make sense from a security 
&gt; point of view?

The weak point here, as usual, is the strength of the password the
user chooses. It's very likely much weaker than the efsk key. The only
way to circumvent this is to store the user's key on some device, like
a smartcard, so that the user does not have to remember a random, sufficiently
long password.
I wrote a pam_module that authenticates a user to the system
by doing a RSA-challenge with an iButton (a smartcard). The iButton can
also store a password to be used with an encrypted loop-back devices. I also included
a mount option to the pam module. When given, the module also retrieves this
password from the iButton during the authentication process and hands it over to
other pam modules as the current authentication token. Your pam_mount module
can then use this token to mount the loop-back device. My pam_iButton module
can be found under: http://www-users.rwth-aachen.de/dierk.bolten/pam_ibutton.html

Cheers,
Dierk



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020816084911</emailId><senderName>"GuaranteedDownline"</senderName><senderEmail>homebiz187@subdimension.com</senderEmail><timestampReceived>2002-08-16 08:49:11-0400</timestampReceived><subject>Guaranteed a Check Starting 1st Month</subject><body>

For a LIMITED TIME we will help you on your way to a
profitable internet business by placing up to 100 Active
(Autopship Product Purchasing) Distributors in YOUR
Downline... GUARANTEED!

Simply put, we will place you on top of an existing
active marketing group.

You will have an Instant Active Downline and you
qualify for a check in your very first month and
every month thereafter.

Your Downline will consist of REAL, Product Purchasing
Distributors!

Furthermore, you are entitled to sell this downline for up
to $200 over any over again.  Everytime you sell it, you
don't lose it but instead you gain an extra member to
the same downline.  The person who's buying the
downline will be added to your downline.

No other company CAN or WILL do this for you.  You may
think that this offer is coming from some start-up company.
But it's not!  It's from a 20-year young and established
company. The idea is new but it's only for a limited time.
&lt;html&gt;
&lt;a href="mailto:money2002@subdimension.com?subject=send-info"&lt;b&gt;
For more information please click here and send us a blank message&lt;/b&gt;
&lt;/a&gt;


&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;


&lt;a href="mailto:money2002@subdimension.com?subject=REMOVE"&lt;b&gt;
Please click here to have your email address removed from our list&lt;/b&gt;&lt;/a&gt;

&lt;/html&gt;


</body></email><email><emailId>20020819164400</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-08-19 16:44:00-0400</timestampReceived><subject>Re: ACPI + loop(AES) + swsusp</subject><body>

"John J. Lee" wrote:
&gt; Given your point about security, wouldn't it be nice if there were yet
&gt; another flag to indicate that encrypted partitions should just be
&gt; turned off on suspend?
&gt; 
&gt; This is more useful than it sounds -- not all partitions are mounted all
&gt; the time.  It might actually be convenient if you don't want to
&gt; accidentally leave a partition accessible when you walk away from a
&gt; machine and forget to losetup -d, or whatever.

Like Sean Neakums pointed out in earlier post to linux-crypto list, just
forcing unmount or losetup -d is not really an option. Maybe just checking
for encrypted loops in userspace _before_ starting suspend is a better
solution. Something like this:

#!/bin/bash
if losetup -a | grep -q -s "AES" ; then
    echo "Found active encrypted loops, suspend aborted"
    exit 1
fi
echo "now suspending..."
echo "1 0 0" &gt; /proc/sys/kernel/swsusp

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020822111842</emailId><senderName>"Jasmina"</senderName><senderEmail>jasmina21@gmx.net</senderEmail><timestampReceived>2002-08-22 11:18:42-0400</timestampReceived><subject>Danke nochmal =?ISO-8859-1?Q?f=FCr?= Deinen Tip!!</subject><body>


Grüss Dich,

nun habe ich mich doch in eine Kontaktdatenbank eingetragen.

Wenn Du Recht haben solltest, bin ich nicht mehr lange

so einsam.....

...und kann meine sexuellen Phantasien ausleben.

Schau Dir mal den Eintrag an, ob er so OKAY ist und schreibe

mir Deinen Eindruck.


http://jasmina.yeah.net


Danke noch mal für Alles.....


Deine Jassy 

-- 
GMX - Die Kommunikationsplattform im Internet.
&lt;http://www.gmx.net&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020822125714</emailId><senderName>Marcus Roelz</senderName><senderEmail>mr@dinomight.de</senderEmail><timestampReceived>2002-08-22 12:57:14-0400</timestampReceived><subject>loop-aes crashes with any cipher under my standard configuration - ADDITIONAL INFORMATION -</subject><body>



some additional Information:

loop-AES seems to work for me with smaller partitions with encryption
but it crashes on my 200 Gig /dev/md1 Partition - so maybe its a matter of 
size?

what does MAX_DISK_SIZE 1024*1024*1024 in patched-loop.c tell me? 
Bytes ? KBytes? Nothing to do with that at all?


Marcus Roelz
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020822170135</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-08-22 17:01:35-0400</timestampReceived><subject>Re: loop-aes crashes with any cipher under my standard configuration</subject><body>

Marcus Roelz wrote:
&gt; I installed loop-aes exactly like described in the readme - but the problem
&gt; is: it crashes when i do mke2fs /dev/loop0
&gt; The first few inodes are written (200 Gig raid5) then mke2fs terminates - the
&gt; same when i try dd if=/dev/zero of=/dev/loop0
&gt; 
&gt; mke2fs /dev/md1 works fine (without loop-aes)
&gt; 
&gt; The crashes occur with serpent128, serpent256, aes (i didn't test the others
&gt; but expect them to fail too)
&gt; 
&gt; My system:
&gt; 
&gt; freshly installed Redhat 7.3 with kernel 2.4.18custom
&gt; loop-AES-v1.6f
&gt; ciphers-v1.0f
&gt; util-linux-2.11u
&gt; gcc 2.96
&gt; 
&gt; Someone on the crypto-list had the same Problem in July 2002 but the thread
&gt; died.

Richard Zidlicky's loop-AES problem was probably a compile problem. He
compiled 3 different kernels with some of the source tree shared and then
compiled 3 copies of loop.o drivers for those 3 kernels. I suggested to him
that he compile 1 kernel and then loop.o for that kernel, and repeat that 3
times.

Last message I receiced from him was on 31 Jul 2002. He was just too busy
with other stuff.

&gt; Any help would be appreciated (spent the last few days messing around with it)

Could you provide exact commands that you used to compile your kernel and
loop.o + loop_serpent.o external modules. And I mean all commands, starting
with "make distclean" or something.

If you compiled your kernel using rpm, please provide your modified .spec
file.

&gt; loopback device without encryption works perfectly....

Was that with loop-AES' loop.o or or RedHat kernel's loop?

&gt; loop-AES seems to work for me with smaller partitions with encryption
&gt; but it crashes on my 200 Gig /dev/md1 Partition - so maybe its a matter of
&gt; size?

Were the smaller partitions raid5 devices or just plain partitions. Is this
problem with loop-AES on top of raid5 device, or problem with loop-AES on
top of big partition?

&gt; what does MAX_DISK_SIZE 1024*1024*1024 in patched-loop.c tell me?
&gt; Bytes ? KBytes? Nothing to do with that at all?

It is in units of 1024 bytes. Meaning that if underlying device has not
exported is size properly, that 1 TB is used as upper limit.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020823120455</emailId><senderName>"Fruhwirth Clemens"</senderName><senderEmail>clemens@endorphin.org</senderEmail><timestampReceived>2002-08-23 12:04:55-0400</timestampReceived><subject>CryptoAPI: Need beta-testers for Debian</subject><body>

Hi!

I'm happy to announce out-of-the-box support for CryptoAPI on woody on 
i386. No need to touch source code, nor kernel patches. Just put

	deb http://therapy.endorphin.org/cryptoapi/ ./

into your sources.list and depending on your kernel flavor 

	apt-get install cryptoapi-core-2.4.18-[386|586|586tsc|686...] 
	apt-get install cryptoloop-2.4.18-[386|586|586tsc|686...] 

That's it, no need to reboot. "modprobe cryptoloop" and you're done.

For those that are blessed with a non-i386 architecture or that use self
made kernels, there are - of course - source packages. Same sources.list
line, but

	apt-get install cryptoapi-core-src cryptoloop-src

CryptoAPI depends on the kernel building system, therefor it won't without
the kernel source. After
	
	make-kpkg binary-arch
just 
	make-kpkg modules_image 

and cryptoapi-core and cryptoloop will be built fitting your kernel version.

Although I have done my best to get this stuff working properly I recommend
that you consider these packages HIGHLY EXPERIMENTAL. Do NOT use in
production environment (I'm serious!).

In case you have access to a Debian box running on a non-i386 architecture,
please contact me. For further information on how to use cryptoloop have a
look at http://www.kerneli.org/cryptoapi/howto/

This is not yet an official CryptoAPI release.

Feedback is highly appreciated,
Clemens

[Attachment #3 (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020823173156</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-08-23 17:31:56-0400</timestampReceived><subject>Re: loop-aes crashes with raid5 ?</subject><body>

Marcus Roelz wrote:
&gt; &gt; Richard Zidlicky's loop-AES problem was probably a compile problem.
&gt; 
&gt; Do you know if he tried it on raid5 ?

He tried it on plain IDE disk partition.

&gt; today i tested loop-AES on a 70 Gig partition _without_ raid5
&gt; encryption worked without problems - but i have no 200 gig partition without
&gt; raid :( to test

Could you test on 70 GB raid device?

&gt; Have you the chance to test loop-aes in conjunction with raid5 ?

I tested loop-AES-v1.6f over 5 * 2GB raid5 array with RedHat 2.4.18-3 kernel
and debian woody userland. No crashes, no deadlocks, no errors. See:

# cat /proc/mdstat
Personalities : [linear] [raid0] [raid1] [raid5]
read_ahead 1024 sectors
md0 : active raid5 sda1[0] sde1[4] sdd1[3] sdc1[2] sdb1[1]
      8191488 blocks level 5, 64k chunk, algorithm 2 [5/5] [UUUUU]

unused devices: &lt;none&gt;
# losetup -a
/dev/loop0: [0302]:79140 (/dev/md0) offset 0, AES128 encryption
# mount | grep loop
/dev/md0 on /mnt666 type ext2 (rw,loop=/dev/loop0,encryption=AES128)

&gt; I think now that it is the combination of raid5 + loop-aes that doesn't work
&gt; - cant imagine why but it seems so. ( for me)

Can you try with latest RedHat errata kernel for RH-7.3?
http://lwn.net/Articles/8350/

How much RAM does your box have? Do you have HIGHMEM enabled?

&gt; I just figured out that my problems disappear when i turn swap on :-O

Cool.

&gt; but i dont know exactly what eats up my 256 MB ram - maybe raid?
&gt; or is it the 2.4.18 kernel?
&gt; top doesnt help me much - it shows no programms that use this much ram

Dunno. Maybe Rik's VM just goes south without swap under heavy writing
activity.

Part of the problem may be that loop-AES' loop.o accepts as many writes as
is thrown at it _without_ sleeping. This may temporarily eat a lot of RAM.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020823205414</emailId><senderName>"Sales Department"</senderName><senderEmail>info@tobaccodemon.com</senderEmail><timestampReceived>2002-08-23 20:54:14-0400</timestampReceived><subject>Discount Fags</subject><body>

Dear Sir / Madam

If you are fed up of being 'ripped off' by the British government every time you buy \
your tobacco, then you should visit our website, where you can now buy 4 cartons of \
cigarettes, or 40 pouches of rolling tobacco from as little as 170 Euros (approx 105 \
pounds), inclusive of delivery by registered air mail from our office in Spain.  

Why pay more???

Visit our website at
http://www.tobaccodemon.com/?ID=2

Best regards
Sales Department
Tobacco Demon
Spain
xay2020761y
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020823233940</emailId><senderName>Jesper Toft</senderName><senderEmail>jesper@liscom.dk</senderEmail><timestampReceived>2002-08-23 23:39:40-0400</timestampReceived><subject>Re: SOLUTION  loop-aes crashes with raid5 ?</subject><body>

On Saturday 24 August 2002 17:42, Marcus Roelz wrote:
&gt; I just figured out that my problems disappear when i turn swap on :-O
&gt;
&gt; but i dont know exactly what eats up my 256 MB ram - maybe raid?
&gt; or is it the 2.4.18 kernel?
&gt; top doesnt help me much - it shows no programms that use this much ram

Ok.. I have been doing a little test on this, as i got exactly the same 
problem..
As far as i can see its neither a raid problem, nor aes... I use a plain ~30G 
partition... And the same thing happens nomatter if its aes/twofish or rc6.

Running mke2fs with swap on causes the system to nearly lockup.. kill -9 
mke2fs doesnt help... The process wont die.

It helps if i turn off swap before i run mke2fs..

After this.. It gets tricky..
  - After creating a fs i turned on swap again.
  - mounted the fs.
  - dd if=/dev/zero of=test .... 1GB.. No problem at all.
  - umount the fs.
  - mke2fs one again.. Still with swap on..

The second mke2fs ran as smooth as the first one, no lockups no halts..

running 2.4.19

/Jesper Toft

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020824004022</emailId><senderName></senderName><senderEmail>webdesignhq.com</senderEmail><timestampReceived>2002-08-24 00:40:22-0400</timestampReceived><subject>WebDesignHQ Newsletter</subject><body>

We thought you may be interested in our new software release:

WebDesignHQ Newsletter			
23rd of August 2002 07:10:09 PM

The SiteBuilder v2.0 Final-Release is now available and it has many enhanced features \
as well as more licensing options compared to the Pre-Release.

The SiteBuilder is the ultimate 'nuke module' for making money with your portal \
system!

Check out the demo online and to learn how to purchase the Full Version visit: \
http://www.WebDesignHQ.com

The WebDesignHQ Flash-SiteBuilder Software is a userfriendly community based \
Multimedia Flash Web Site creation tool (similar to geocities/angelfire style \
engine... but with Flash!). It features an automatic publishing system that enables \
anyone to easily build their own web site online with nothing but their web browser.

This software can be installed on your own web site and will provide your web site \
visitors or registered members the ability to create their own Multimedia Web Site \
which they can edit anytime using only a web browser right at your own Web Site! 

No FTP, HTML, or Flash knowledge is required to build and customize a Web Site. 

An excellent solution for web designers and web hosting companies who have many \
clients that need constant updates.

You can learn more about how to get this software for your own site at : \
http://www.webdesignhq.com

 ------------------------------------------------- 
 If you would like to unsubscribe from this 
 newsletter, just click the hyperlink below:

http://www.webdesignhq.com/omnivore/vlist/vlist.php?action=out&amp;address=linux-crypto@nl.linux.org
                
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>200208251820090</emailId><senderName>J C Lawrence</senderName><senderEmail>claw@kanga.nu</senderEmail><timestampReceived>2002-08-25 18:20:09-0400</timestampReceived><subject>Re: WebDesignHQ Flash SiteBuilder Newsletter</subject><body>

On Sun, 25 Aug 2002 06:37:52 -0500 
Harmon Seaver &lt;hseaver@cybershamanix.com&gt; wrote:

&gt; People posting anonymously thru a remailer aren't going to be able
&gt; to confirm their address.

There are two forms of remailers which for the sake of description I'll
call single and double blind.  Single blind remailers hide the identity
of the poster but provide an email by which he may be reached (remember
anon.penet.fi?).  Double blind remailers hide both ends from each other
(eg mixmaster).  

Neither need change their operation in the slightest.

&gt;&gt; Spammers who never confirm never make it to the list.  The rare
&gt;&gt; spammers who do confirm are easily tracked and blacklisted.  If you
&gt;&gt; really need to support double blind remailers just log the TMDA
&gt;&gt; confirms to a central site where they can be browsed.  Double blind
&gt;&gt; remailers then pick up the confirm tokens for their own posts and
&gt;&gt; punch them thru to the list.
 
&gt; You can't expect the remailers to change their method of operation to
&gt; work with this.

I don't expect them to change a single line of code or a single aspect
of their operations.

TMDA confirmations require that a special address receives an email.
The *fact* of that address receiving an email releases the matching
single held message.  It doesn't care where the message is sent from,
just that it gets one.  (If it doesn't after N days the held message is
silently deleted)  How it works:

  The mixmaster user emails the list

  His message is held by TMDA

  He browses the list of held messages and finds the
  token/special_address for his message

  He emails that address (blank message is fine, thru mixmaster again is
  fine) to release his message to the list

Yes, the double blind remailer user has to do extra work to retain his
privacy _AND_ post to the list.  This is hardly a surprise: they are
already having to do extra work to retain their privacy.  The fact that
he now also checks a web page or a public read-only IMAP folder as well
is hardly onerous.

-- 
J C Lawrence                
---------(*)                Satan, oscillate my metallic sonatas. 
claw@kanga.nu               He lived as a devil, eh?		  
http://www.kanga.nu/~claw/  Evil is a name of a foeman, as I live.

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020826132910</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-08-26 13:29:10-0400</timestampReceived><subject>Re: loop-aes with loop=m in kernel?</subject><body>

Iain wrote:
&gt; Ok, I guess what my question boils down to is this. Debian has a number of
&gt; prebuilt kernels that include loopback support as a module. If I install one
&gt; of these then remove loop.o and replace it with the loop-aes module will I
&gt; have any problems? Assuming I have of course built loop-aes using the kernel
&gt; config from the prebuilt kernel.

That should work just fine as long as kernel .config and kernel compile time
generated files match those files that were used to build prebuilt kernel.
Meaning that you have to recompile kernel on the build box (to get those
generated files correct), but compiled loop.o binary can be distributed and
used on any box that uses precompiled kernel.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020826181111</emailId><senderName>Newsmail</senderName><senderEmail>newsmail@satimex.tvnet.hu</senderEmail><timestampReceived>2002-08-26 18:11:11-0400</timestampReceived><subject>cryptographic software other then loop-aes</subject><body>

Hello everybody, maybe its a bit offtopic question, but I was just 
wondering what if I have to use a windows based machine to encrypt my 
sensitive data. I see many cryptographic softwares, but I have no idea 
which one to use, which one is trustable/not containing backdoors etc.
do you have any recommendations about some windows based encryption software?
thx in advance,
greg


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020828063444</emailId><senderName>"Udaya Kumar.R"</senderName><senderEmail>itsuday@linuxfreemail.com</senderEmail><timestampReceived>2002-08-28 06:34:44-0400</timestampReceived><subject>Re: Need Help w.r.t 2.4 kernels !</subject><body>

On Sat, 24 Aug 2002, Jesper Toft Wrote :

jesper :On Saturday 24 August 2002 21:29, Udaya Kumar.R wrote:
jesper :&gt; After that i had patched loop-jari , --dry-run , which resulted in
jesper :&gt; following :
jesper :&gt; Now , i m just stuck over here , and please do tell me what to do ?
jesper :&gt; Awaiting 4 ur. reply .
jesper :
jesper :Hmm..
jesper :Try with a clean kernel, and maybee with loop-hvr-2.4.18 instead?
jesper :
jesper :/Jesper

   Guys i got it working with loop-hvr-2.4.18 . It would have been almost
impossible without ur help . Thanks a lot !

   Now ,i want 2 check out the performance 4 this . I tried it with 'time dd..' 
in both normal filesystem and encrypted filesystem . But it dosen't
yielded better results , since i reckon there is bit of caching involved in it .
Can u help me in this , on how to proceed !

bye.
uday.
-- 
Reply To : 
perl -e 'print pack "H*","69747375646179406c696e7578667265656d61696c2e636f6d";'
                                       OR
                          to the above 'From' Address

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020829154830</emailId><senderName>Dexter Filmore</senderName><senderEmail>dexter.filmore@gmx.de</senderEmail><timestampReceived>2002-08-29 15:48:30-0400</timestampReceived><subject>Re: newbie has some questions</subject><body>

&gt; 
&gt; There is older-friendly HOWTO , which would aid for 2.2 kernels !
&gt; I also checked in CVS repository , it has the older-friendly HOWTO!

This one?
http://encryptionhowto.sourceforge.net/Encryption-HOWTO.html

&gt; 
&gt;    I m not sure whether there is HOWTO for 2.4 kernels , i had read in one
&gt;    of
&gt; the mail saying that he had written a HOWTO for 2.4 kernels , anyway check
&gt; out the archive !
&gt; 
&gt; BTW , r u the famous Dexter personality that comes in cartoon network :) ?

Nope, tho I'm similarly prone to desaster. Check google. :)

&gt; 
&gt; RoadMap for ur. Goal :
&gt; ---------------------
&gt; * Get a vanilla kernel of latest stable/unstable version which u opt. for.
&gt;    + Check out whether there is international patch available for the
&gt;       kernel version u r downloading(this should be done b4 downloading the
&gt;       vanilla kernel :)
&gt; 
&gt; * Get the international patch which is appr. for ur. kernel version
&gt; 
&gt; * Untar the kernel
&gt; 
&gt; * Apply the international kernel patch
&gt; 
&gt; * Get the latest version of loop-AES tar ball
&gt;    + Check out loop-hvr it also supports AES ciphers
&gt; 
&gt; * Check out the documentation that comes with loop-AES for futher info.
&gt;    + bcoz the way of building the kernel is different for loop-AES and
&gt;       loop-hvr.
&gt; 
&gt; * RoadMap ends here . Happy Hacking !
&gt; 
&gt; Guys check out , that i m not missing anything !
&gt; 

util-linux needs to be patched, too?

Thanks so far,

Dex
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020830164548</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-08-30 16:45:48-0400</timestampReceived><subject>Re: how is data cached in the memory when using loop device</subject><body>

Newsmail wrote:
&gt; things seem to be much better with this 'nice' setting. btw why did it have
&gt; so high priority?

Original loop uses -19 nice value for loop thread. However, -19 may be too
excessive with Ingo Molnar's new scheduler in -ac tree.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020831193434</emailId><senderName>Newsmail</senderName><senderEmail>newsmail@satimex.tvnet.hu</senderEmail><timestampReceived>2002-08-31 19:34:34-0400</timestampReceived><subject>losetup options</subject><body>

hello folks,
maybe its an already answered question, but I dont find any information 
about the -T option Jari uses in his loop-aes examples: losetup -e AES128 
-T /dev/loop0 /dev/hda666
what is the -T option?
regards,
greg


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020709054533</emailId><senderName>Klaus Agnoletti</senderName><senderEmail>klaus@xenux.dk</senderEmail><timestampReceived>2002-07-09 05:45:33-0400</timestampReceived><subject>Resizing ext3 on a LVM with cryptoapi</subject><body>

Hi,
I installed LVM and cryptoapi on one harddrive with help from the list.
Everything went fine, but I need to resize the partition since I added
another drive to the LVM.

I tried doing this but I got an error saying that it can't find the
magic something of the partition (sorry I can't remember exactly -
stupid as I am, I didn't think of writing it down :P).

My question is - are there any limitations to using a ext3 partition
like this, compared to not using cryptoapi ? e.g. resizing ? or did I do
something wrong ?

Thanks in advance.

-- 
Med venlig hilsen / Regards

Klaus Agnoletti
Junior Geek Engineer

Xenux - The Linux People
Bredgade 35A, 2.
1260 København K
Tel: +45 3315 8202
Fax: +45 3332 1832
http://www.xenux.dk

'vi is to EMACS as masturbation is to making love:  
effective and always available but probably not your first choice.'

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020708221206</emailId><senderName>Michael Richardson</senderName><senderEmail>mcr@sandelman.ottawa.on.ca</senderEmail><timestampReceived>2002-07-08 22:12:06-0400</timestampReceived><subject>questions about gen-cipher.h</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----


Can some explain why the constructs:

#define __xINIT_CIPHER_BLKOPS(name)    INIT_CIPHER_BLKOPS(name)
#define __xINIT_CIPHER_OPS(name)       INIT_CIPHER_OPS(name)

...

#define __STR(x) # x
#define __xSTR(x) __STR(x)

#define __CAT(x,y) x ## y
#define __xCAT(x,y) __CAT(x,y)

Why have __xCAT(x,y) at all? Why not just call __CAT() directly?
Ditto for INIT_CIPHER_BLKOPS().

]       ON HUMILITY: to err is human. To moo, bovine.           |  firewalls  [
]   Michael Richardson, Sandelman Software Works, Ottawa, ON    |net architect[
] mcr@sandelman.ottawa.on.ca http://www.sandelman.ottawa.on.ca/ |device driver[
] panic("Just another NetBSD/notebook using, kernel hacking, security guy");  [


    
-----BEGIN PGP SIGNATURE-----
Version: 2.6.3ia
Charset: latin1
Comment: Finger me for keys

iQCVAwUBPSoOMoqHRg3pndX9AQG+lQQAzkznJ7RO+81BQteVWxumLkD7GsAns1gh
es+sEbyPw/tmIeMKn2SccspTb5jQRHFV7ohu+FkSMO2DTboEKMbRMs7Yh5ouvr7h
P4ze7mUMosJWe3j8jb9T+JIIYAzJ21W+QCyuyDUvAH3ZlzRahVE2yNoYK5ZxEfDm
zmmnyYuGpGQ=
=8vFf
-----END PGP SIGNATURE-----
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020709202109</emailId><senderName>Michael Richardson</senderName><senderEmail>mcr@sandelman.ottawa.on.ca</senderEmail><timestampReceived>2002-07-09 20:21:09-0400</timestampReceived><subject>losetup patches for cryptoapi.</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----


where have these patches gone? I seem to have everything I need in my
woody /sbin/losetup, but I want to be build them from scratch.

The HOWTO says that they would get copied to
/usr/src/linux/Documentation/crypto, but that isn't the case for me.

]       ON HUMILITY: to err is human. To moo, bovine.           |  firewalls  [
]   Michael Richardson, Sandelman Software Works, Ottawa, ON    |net architect[
] mcr@sandelman.ottawa.on.ca http://www.sandelman.ottawa.on.ca/ |device driver[
] panic("Just another NetBSD/notebook using, kernel hacking, security guy");  [

-----BEGIN PGP SIGNATURE-----
Version: 2.6.3ia
Charset: latin1
Comment: Finger me for keys

iQCVAwUBPStFsYqHRg3pndX9AQEhpAQAxkVFmhaAv3AETklv3VnwPhwyl45tXfHX
B+XqCHhviBPRw/QdQDluhpF55nJEpd5/18PI2iSWV5byATZYMJlMbs/tanISf43k
Kr0NVtshhyFPO2r3/jw2yyrAQXGsGdqUAd35Yb/Sh7in0Mkyp95avajiea+SKzHg
qINLHa6AzJs=
=p+rw
-----END PGP SIGNATURE-----
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020703224729</emailId><senderName>"Fruhwirth Clemens"</senderName><senderEmail>clemens-dated-1026168449.a913@endorphin.org</senderEmail><timestampReceived>2002-07-03 22:47:29-0400</timestampReceived><subject>Cryptoapi kernel-patch packages for debian</subject><body>

Hi everybody!

I've created kernel-patch packages for Debian. If you compile your own
kernel with debian's make-kpkg tool you will find that very convenient. 

Step 1:
	Put
	deb http://therapy.endorphin.org/kernel-patches/ ./
	deb-src http://therapy.endorphin.org/kernel-patches/ ./
	into your sources.list and "apt-get update".

Step 2:
	Install kernel-patch-loop-hvr OR kernel-patch-loop-jari.
	Install kernel-patch-cryptoapi.

Step 3:
	Get your kernel source. Put
	"patch_the_kernel = YES" into your /etc/kernel-pkg.conf
	And proceed with:
	"make-kpkg --added_patches=hvrloop,cryptoapi binary-arch" or
	"make-kpkg --added_patches=jariloop,cryptoapi binary-arch"

Feedback is appreceated.
Clemens

[Attachment #3 (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020711114323</emailId><senderName>Sam Simpson</senderName><senderEmail>simpson@samsimpson.com</senderEmail><timestampReceived>2002-07-11 11:43:23-0400</timestampReceived><subject>Scramdisk for Linux!</subject><body>

Hi all,

I'm involved with the (very...) long running port of Scramdisk
(www.scramdisk.clara.net) to Linux (2.4.x initially).  The code is GPL'd.

We currently have a working read only Kernel Mode Driver that supports
Blowfish + SHA1, though adding ciphers is going to be very easy.  Write
support is kind of working but still a little flakey.

We envisage altering the system in due course to ensure that it can also
support DriverCrypto containers (very easy: add sha-256 + change some of
the header block locations).

Anyway, the purpose of this mail is to find out if this list contains any
programmers (esp. Kernel Mode) would be interested in helping out solving
the last few bugs?  We're not using loopback or NFS but rather a "from the
ground up" driver implementation.

Please note: I am no longer in any way involved with the Scramdisk and
DriveCrypt now that they have turned commercial + closed source.


Cheers,

Sam

Regards,

Sam Simpson
sam@samsimpson.com
http://www.samsimpson.com/
Mob:          +44 (0) 7866 726060
Home Office:  +44 (0) 1438 229390
Fax:          +44 (0) 1438 726069

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020712203148</emailId><senderName>"Christoph Kaminski"</senderName><senderEmail>mangel@gmx.de</senderEmail><timestampReceived>2002-07-12 20:31:48-0400</timestampReceived><subject>resize crypted partition</subject><body>

Hi !
 
 
(Sorry for my English but I hope you can understand what I mean)
 
I have a 80GB encrypted Partition and I forgot to make a swap partition
on this HD
How can I make this encrypted partition smaller ? (I have created it
with SUSE 8.0 Yast , it's a blow_fish encrypted partition on Ext3)
 
Can I do it with GNU Parted ?
If not, what a program should I take for it ?
 
TiA
 
 

[Attachment #3 (text/html)]

&lt;html xmlns:o="urn:schemas-microsoft-com:office:office" \
xmlns:w="urn:schemas-microsoft-com:office:word" \
xmlns="http://www.w3.org/TR/REC-html40"&gt;

&lt;head&gt;
&lt;META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=us-ascii"&gt;


&lt;meta name=ProgId content=Word.Document&gt;
&lt;meta name=Generator content="Microsoft Word 10"&gt;
&lt;meta name=Originator content="Microsoft Word 10"&gt;
&lt;link rel=File-List href="cid:filelist.xml@01C229F3.E93B3B00"&gt;
&lt;!--[if gte mso 9]&gt;&lt;xml&gt;
 &lt;o:OfficeDocumentSettings&gt;
  &lt;o:DoNotRelyOnCSS/&gt;
 &lt;/o:OfficeDocumentSettings&gt;
&lt;/xml&gt;&lt;![endif]--&gt;&lt;!--[if gte mso 9]&gt;&lt;xml&gt;
 &lt;w:WordDocument&gt;
  &lt;w:SpellingState&gt;Clean&lt;/w:SpellingState&gt;
  &lt;w:GrammarState&gt;Clean&lt;/w:GrammarState&gt;
  &lt;w:DocumentKind&gt;DocumentEmail&lt;/w:DocumentKind&gt;
  &lt;w:HyphenationZone&gt;21&lt;/w:HyphenationZone&gt;
  &lt;w:EnvelopeVis/&gt;
  &lt;w:Compatibility&gt;
   &lt;w:BreakWrappedTables/&gt;
   &lt;w:SnapToGridInCell/&gt;
   &lt;w:WrapTextWithPunct/&gt;
   &lt;w:UseAsianBreakRules/&gt;
  &lt;/w:Compatibility&gt;
  &lt;w:BrowserLevel&gt;MicrosoftInternetExplorer4&lt;/w:BrowserLevel&gt;
 &lt;/w:WordDocument&gt;
&lt;/xml&gt;&lt;![endif]--&gt;
&lt;style&gt;
&lt;!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
span.EmailFormatvorlage17
	{mso-style-type:personal-compose;
	mso-style-noshow:yes;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Arial;
	mso-ascii-font-family:Arial;
	mso-hansi-font-family:Arial;
	mso-bidi-font-family:Arial;
	color:windowtext;}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:595.3pt 841.9pt;
	margin:70.85pt 70.85pt 2.0cm 70.85pt;
	mso-header-margin:35.4pt;
	mso-footer-margin:35.4pt;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
--&gt;
&lt;/style&gt;
&lt;!--[if gte mso 10]&gt;
&lt;style&gt;
 /* Style Definitions */ 
 table.MsoNormalTable
	{mso-style-name:"Normale Tabelle";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
&lt;/style&gt;
&lt;![endif]--&gt;
&lt;/head&gt;

&lt;body lang=DE link=blue vlink=purple style='tab-interval:35.4pt'&gt;

&lt;div class=Section1&gt;

&lt;p class=MsoNormal&gt;&lt;font size=2 face=Arial&gt;&lt;span lang=EN-GB style='font-size:
10.0pt;font-family:Arial;mso-ansi-language:EN-GB'&gt;Hi !&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=MsoNormal&gt;&lt;font size=2 face=Arial&gt;&lt;span lang=EN-GB style='font-size:
10.0pt;font-family:Arial;mso-ansi-language:EN-GB'&gt;&lt;o:p&gt; &lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=MsoNormal&gt;&lt;font size=2 face=Arial&gt;&lt;span lang=EN-GB style='font-size:
10.0pt;font-family:Arial;mso-ansi-language:EN-GB'&gt;&lt;o:p&gt; &lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=MsoNormal&gt;&lt;font size=2 face=Arial&gt;&lt;span lang=EN-GB style='font-size:
10.0pt;font-family:Arial;mso-ansi-language:EN-GB'&gt;(Sorry for my English but I
hope you can understand what I mean)&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=MsoNormal&gt;&lt;font size=2 face=Arial&gt;&lt;span lang=EN-GB style='font-size:
10.0pt;font-family:Arial;mso-ansi-language:EN-GB'&gt;&lt;o:p&gt; &lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=MsoNormal&gt;&lt;font size=2 face=Arial&gt;&lt;span lang=EN-GB style='font-size:
10.0pt;font-family:Arial;mso-ansi-language:EN-GB'&gt;I have &lt;span class=GramE&gt;a&lt;/span&gt;
80GB encrypted Partition and I forgot to make a swap partition on this \
HD&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=MsoNormal&gt;&lt;font size=2 face=Arial&gt;&lt;span lang=EN-GB style='font-size:
10.0pt;font-family:Arial;mso-ansi-language:EN-GB'&gt;How can I make this encrypted
partition &lt;span class=GramE&gt;smaller ?&lt;/span&gt; (I have created it with SUSE 8.0 &lt;span
class=SpellE&gt;&lt;span class=GramE&gt;Yast&lt;/span&gt;&lt;/span&gt;&lt;span class=GramE&gt; ,&lt;/span&gt;
it’s a &lt;span class=SpellE&gt;blow_fish&lt;/span&gt; encrypted partition on \
Ext3)&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=MsoNormal&gt;&lt;font size=2 face=Arial&gt;&lt;span lang=EN-GB style='font-size:
10.0pt;font-family:Arial;mso-ansi-language:EN-GB'&gt;&lt;o:p&gt; &lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=MsoNormal&gt;&lt;font size=2 face=Arial&gt;&lt;span lang=EN-GB style='font-size:
10.0pt;font-family:Arial;mso-ansi-language:EN-GB'&gt;Can I do it with GNU &lt;span
class=GramE&gt;Parted ?&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=MsoNormal&gt;&lt;font size=2 face=Arial&gt;&lt;span lang=EN-GB style='font-size:
10.0pt;font-family:Arial;mso-ansi-language:EN-GB'&gt;If not, what a program should
I take for &lt;span class=GramE&gt;it ?&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=MsoNormal&gt;&lt;font size=2 face=Arial&gt;&lt;span lang=EN-GB style='font-size:
10.0pt;font-family:Arial;mso-ansi-language:EN-GB'&gt;&lt;o:p&gt; &lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=MsoNormal&gt;&lt;span class=SpellE&gt;&lt;font size=2 face=Arial&gt;&lt;span lang=EN-GB
style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'&gt;TiA&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;font
 size=2 face=Arial&gt;&lt;span lang=EN-GB style='font-size:10.0pt;font-family:Arial;
mso-ansi-language:EN-GB'&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=MsoNormal&gt;&lt;font size=2 face=Arial&gt;&lt;span lang=EN-GB style='font-size:
10.0pt;font-family:Arial;mso-ansi-language:EN-GB'&gt;&lt;o:p&gt; &lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p class=MsoNormal&gt;&lt;font size=2 face=Arial&gt;&lt;span style='font-size:10.0pt;
font-family:Arial'&gt;&lt;o:p&gt; &lt;/o:p&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;

&lt;/div&gt;

&lt;/body&gt;

&lt;/html&gt;


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020711000420</emailId><senderName>Peter Kirk</senderName><senderEmail>pwk.linuxfan@gmx.de</senderEmail><timestampReceived>2002-07-11 00:04:20-0400</timestampReceived><subject>What I want to do -doable ?</subject><body>

Hi,

Since I am realy quite new to crypto stuff....I'll just tell you what I am 
trying to do....if you could point out bad points or give hints they would be 
greatly appreciated.

To make my system-data totally robbery safe:
I'd like to put a loopback-crypto with reiserfs on all my partitions except 
/boot (so on /, /usr, /home etc.). The encryption I wish to use is the aes 
(the winner of that competition). 

This is my little dream:
After starting my computer, running lilo and selecting my kernel (lying on 
/boot the kernel can be read) a initial ramdisk is loaded...containing 
losetup, mount and a script I will write. This script will ask for the 
password to decrypt the partitions, and will then mount all my partitions 
with this passoword, meaning I enter _one_ password _once_. When the 
partitions are mounted (to /mnt and sub) I chroot into my new system and 
continue booting. Since with swap it doesnt seem to be possible to encrypt 
it, I am  planning on not using a swap partition at all.

Where do you see problems ?

Ideas of problems I have:
the script:
is it possible to "enter" the password with a script ?
around the script:
where do I put it (so the initial ram disk will load it ??
how will I make the system continue to boot normaly when finished ?
does linux work with out swap (I got 512 MB RAM) ?
is it safe ??

Thanks for reading (and possibly helping)
Peter
-- 
Reality is a cop-out for people who can't handle drugs.

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020715075415</emailId><senderName>Robert Stark</senderName><senderEmail>root@xborg.ipp-hgw.mpg.de</senderEmail><timestampReceived>2002-07-15 07:54:15-0400</timestampReceived><subject>GnuPG-key,loopAES encrypted root partition</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi,

I read this list a few month and i had never problems with CryptoAPI or
loopAES, but since two weeks I have one. I've installed loopAES
successfully on Slackware8.0 with a 2.4.18 kernel. All setup's listed in
loopAES README work fine. Only example5 don't work really for me.

If I boot an unencrypted partition, I can mount the other encrypted
paritions with my userkey,GnuPG key. But when I encrypt also the root
partition with the key's and try to restart then it don't work.

I get an error message after typing my passphrase of my GnuPG-key
"unable to allocate memory". With an encrypted root partition only secured
with a passphrase and some salt it work's great.

Any thoughts?

Thanks!
Robert Stark

- -----------------------------------------------------
my gpg-key can be found at this location --&gt;
&lt;http://www.mentalbox.org/thefragile/pks/thefrag.asc&gt;
- -----------------------------------------------------



-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.7 (GNU/Linux)

iD8DBQE9MyU8mSoJ6yS8v8oRAknVAKDLP0svBYbRvWgUELcgv64m39grVwCgiHso
ly2NtXygfdtrsEOF9E6WPhE=
=KhsX
-----END PGP SIGNATURE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020716235552</emailId><senderName>"Fruhwirth Clemens"</senderName><senderEmail>clemens-dated-1027295753.10d1@endorphin.org</senderEmail><timestampReceived>2002-07-16 23:55:52-0400</timestampReceived><subject>cryptoloop race with vmware</subject><body>

hi!

for a few days i'm trying to catch a race condition which is apparently
existing within cryptoloop. 

the situation: 

- suspending a virtual machine within vmware will result in a bulk
  transfer of the VM memory to the filesystem which resides on cryptoloop
  device. (98% reproducible)
- cp -a /non-cryptoloop-fs /cryptoloop-fs (just occoured once)

the symptoms: 

kupdated and kjournald (in case the filesystem is ext3) will stall as
uninterruptable task. frequently other tasks lock too, like syslogd or X,
but kupdated is the most likely one.

please notice this also happends on ext2, ext3 and without any filesystem at
all, even with CRYPTO_ATOMIC enabled in cryptoloop.c. there is no race 
on a plain loop device without encryption, so my guess is the problem lies
within cryptoloop.c.

i'd be happy if someone could have a look at that. unfortunately i can't
provide a simple program which triggers that bug. even with a few fifos and
interprocess communication to force some task switches the race is not
reproducible easily, but vmware will crash the box almost for sure. 

regards, clemens

p.s.: if you're going to try vmware, make sure you have more than 192mb
memory for your virtual machine assigned. the bug seems to be triggered at
about 140mb. smaller memory configuration won't trigger that bug.

[Attachment #3 (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020719190830</emailId><senderName>Michael Richardson</senderName><senderEmail>mcr@sandelman.ottawa.on.ca</senderEmail><timestampReceived>2002-07-19 19:08:30-0400</timestampReceived><subject>some comments on Linux CryptoAPI - this "atomic" cipher business</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----


  I have been looking at CryptoAPI with the view towards using the CryptoAPI
routines in FreeSWAN 3.X rather than our own.  (see http://www.kerneli.org for
those on the CC and BCC lists. I know that there are certain other
organizations that are supposed to be developing similar APIs, feel free to
forward to those organizations)

  We have several requirements that we must meet:
   1) ability to use multiple processors (SMP support)
   2) ability to use hardware acceleration
   3) ability to seperately account for time spent on crypto vs other
      networking.

  Note that the FreeSWAN decrypt code is usually invoked from net_rx_action(), and
this will typically be single-threaded. (note that there is nothing in
net_rx_action to force this [i.e. a lock], but the network bottom half is
kicked from the interrupt handlers to occur on the same CPU as the interrupt,
so unless interrupts ping-pong, networking code tends to stick to a single
CPU).
  Encrypt code is typically invoked from net_tx_action().

  So, for software implemented ciphers, we want to stick all packets that
must be encrypted into a queue and process them in a seperate kernel thread,
with a callback at the end. If there is in fact hardware involved, then this
just turns into queueing the packet to the hardware, and kicking a crypto_bh
to invoke the callback when the completion interrupt occurs.

  Looking at CryptoAPI is a bit hampered by the fact that I'm not entirely
clear how a piece of hardware is supposed to interface. Yes, it needs to
provide encrypt/decrypt routines directly rather than relying on the
_encrypt/_decrypt simplification. 

  I guess that it should sleep if required inside, except if atomic is set,
then one must fall back to using software. I had assumed that this might
be necessary when doing, for instance, cryptoswap.  Many have talked about
lifting this API up and putting a lower-level API underneath. That's what I'm
here to do.

  Looking at the cryptoloop.c file, I don't even see the ATOMIC stuff enabled
by default. So, why all the bother?

  In the case of FreeSWAN with hardware, we do *not* want to sleep. We want a
callback. I am looking at doing this.

  Some more comments:

Naming of ciphers
=================

  I think that there should be a hierarchy of names with longest matching
wins. Transforms should provide relative weights for binding to the less
specific names.

  Specifically:
	aes-cbc
	aes-cbc/software	(or aes/atomic if you prefer)
	aes-cbc/hardware
	aes-cbc/hardware/hifn/pci/01/00/0		[PCI bus/device/function]
	aes-cbc/hardware/chrysalis/pci/04/06/0
	aes-cbc/hardware/broadcom/csix/5/7/8	[to make something up]

  This permits one to VERY specifically attach to the implementation that one
wants, while still permitting "aes-cbc" to get something useful. This all
would occur at registration and lookup of cipher_implementation time.

Hardware vendors
================

  Who is left, btw?
  Chrysalis is out of the cipher chip business, AFAIK.

  Intel's board has basically gone closed source. Ditto for 3COMs. Neither
was a general purpose crypto board, but did un-auditable IPsec. (You never
get a chance to see the output packets to confirm that they were in fact
encrypted with the right key, that the key didn't leak, etc..)

  That leaves Broadcom and HiFn that I know of.
  Are there others? Any of non-US origin?

  I'm still looking for data sheets on no-NDA,public-domain required data
sheets that could be used as a basis for an non-USA origin open source
driver. This doesn't have to be for the latest 10Gb/s SPI4.2 CSIX 2 capable
product - 100Mb/s half-duplex boards are still useful to get the APIs right.

The digest/cipher split
=======================

I see that the transform_implementation is subclassed to be
digest_implementation and cipher_implementation. I have some problems with
this. Many pieces of hardware can do both at the same time, and can even do
some of the IPsec ESP checking along the way. 

Further, there is compression. Compresion is basically identical to
cryptography. (There is ongoing research on doing both at the same as well. A
fellow now at Nortel may have succeeded from what I hear) Of course hardware
can do all of these things too.

So, I propose that all operations are essentially "encode"/"decode". A
straight digest only ever does "encode". The digest routines follow the
original MD5 libraries with open/update/etc. right there. It isn't clear to
me that this is really a useful interface for a lot of applications, and it
certainly can not be replaced by hardware.

The operation queue
===================

I would propose that all fucntions take a "struct transform_command *" as
an argument, defined essentially like this:

struct transform_command {
  struct list_head           tc_cmdqueue;
  struct cipher_context     *tc_context;
  transform_unit_callback    tc_callback;
  cipher_usercontext         tc_user;    /* whatever the user callback wants */
  unsigned int               tc_flags;
  const u8                   tc_iv[MAX_IV_SIZE];
  const u8                  *tc_in;  
  u8                        *tc_out;     /* if NULL, use cc_in */
  u8                        *tc_mac;     /* must point to space of tc_macsize */
  size_t                     tc_insize;  /* size of input buffer */
  size_t                     tc_outsize; /* size of output buffer */
  size_t                     tc_macsize; /* size of MAC output buffer */
  size_t                     tc_resultsize;  /* amount of output buffer used */
};

#define TC_FLAGS_GENERATE_IV   (1&lt;&lt;0)    /* if set, then IV must be generated */

Unfortunately, this is too big. It is 52 bytes + MAX_IV_SIZE. 

Making all of the sizes 16 bit integers, and putting the IV outline (a
pointer) would get us down to 44 bytes.  

To be memory efficient, we need to fit this into the 48 bytes in the skb-&gt;cb,
which avoids having to allocate another control structure for each
packet. The result is therefore:

struct transform_command {
  struct list_head           tc_cmdqueue;
  struct cipher_context     *tc_context;
  transform_unit_callback    tc_callback;
  cipher_usercontext         tc_user;    /* whatever the user callback wants */
  unsigned int               tc_flags;
  const u8                  *tc_iv;
  const u8                  *tc_in;  
  const u8                  *tc_out;  
  u8                        *tc_mac;     /* must point to space of tc_macsize */
  u16                        tc_insize;  /* size of input buffer */
  union {
    u16	                     tc_buffersize;    /* size of output buffer */
    u16                      tc_resultsize; /* number of bytes in output */
  } tc_output;			    
};

yes, it is necessary to provide outsize as well as insize somehow.
De-Compression could expand the output, and it must bounds check the
output. We re-use the tc_outsize as the tc_resultsize. The tc_macsize
is also dropped, as I believe that the MAC result will always be the same for
a given digest. 

Note that the operation is implied by the cipher_context now, or we can steal
some bits from tc_flags for it.

Compression
===========

I am hoping that this interface will also permit application to compression
algorithms. There are a number of copies of libz already in the
kernel. Getting the framework in for compression is very valuable.

Name of project
===============

The project should be renamed "dataxform" or "compressapi", since the libz 
replacement stuff could be mainlined.

]       ON HUMILITY: to err is human. To moo, bovine.           |  firewalls  [
]   Michael Richardson, Sandelman Software Works, Ottawa, ON    |net architect[
] mcr@sandelman.ottawa.on.ca http://www.sandelman.ottawa.on.ca/ |device driver[
] panic("Just another NetBSD/notebook using, kernel hacking, security guy");  [




  

  
    
   
	
  
-----BEGIN PGP SIGNATURE-----
Version: 2.6.3ia
Charset: latin1
Comment: Finger me for keys

iQCVAwUBPSocfIqHRg3pndX9AQEuvwP+JpIOj24SaES5Nd5ZgNpXmlP3aSPtBP/u
5og1eHEyYl+kh339UMs6D2QWvspzPiyACdBa9YnRaNtDdiMj0jJaNaYeIHnvUwH3
GulQSgJWPqZxkq/LIsRv6hbMik0bnbQ2h+5sEfzNPRRiYLXIdmCXbVwEFYvIujMB
qhCBPOrcJuk=
=kuT6
-----END PGP SIGNATURE-----
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020719210715</emailId><senderName>Michael Richardson</senderName><senderEmail>mcr@sandelman.ottawa.on.ca</senderEmail><timestampReceived>2002-07-19 21:07:15-0400</timestampReceived><subject>Re: [Design] some comments on Linux CryptoAPI - this "atomic" cipher business</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----


&gt;&gt;&gt;&gt;&gt; "Martin" == Martin Gadbois &lt;martin.gadbois@colubris.com&gt; writes:
    Martin&gt; Michael Richardson wrote:

  {seems that the message got stuck in my outbox...}

    Martin&gt; |   This permits one to VERY specifically attach to the implementation
    Martin&gt; that one
    Martin&gt; | wants, while still permitting "aes-cbc" to get something useful. This all
    Martin&gt; | would occur at registration and lookup of cipher_implementation time.

    Martin&gt; How about a in-between application that want to use hardware, but in an
    Martin&gt; atomic fashion? This is how I started doing things before using a callback.
    Martin&gt; In some occasions, it might be good to be able to wait for the hardware
    Martin&gt; to finish encrypting by busy-looping. It is still more efficient to do
    Martin&gt; that then to wait for 3DES to finish in S/W.

  That would require some new interface into the device driver.
  One could busy wait on some flag in the struct transform_command perhaps.
  I'd like to understand the reason for this.

    Martin&gt; I therefore suggest to leave the hardware specification to the library.

  What do you mean by this?

    Martin&gt; You want to say " I want this done ASAP, with those limitation (SYNC or
    Martin&gt; ASYN)". That way, the library chooses the best available hardware (or
    Martin&gt; software) to execute the request, according to specified
    Martin&gt; limitations.

  Sure, but users have to have a way to override things.

    Martin&gt; Something is missing: the start of the operation, and size of the
    Martin&gt; operation. Is that included in tc_cmdqueue?

    Martin&gt; Example: on packet pointer at tc_in, do HMAC from in+4 for size1, and
    Martin&gt; then do 3DES from in+16 for size2.

  My feeling is that one opens the "esp/3DES/HMAC-MD5" cipher if one wants it
done in one operation and ESP knows this stuff.

    Martin&gt; We also need some kind of open_session()/close_session(). H/W can
    Martin&gt; remember keys (no need to transfer them with every command) but we need
    Martin&gt; to manage that either explicitly, on implicitly (use a LRU algo). On the
    Martin&gt; Hifn 7811 and 7901, there is a limited number of H/W session available,
    Martin&gt; due to memory constrains.

  That's handled by the driver by reference to the per-SA
	 struct cipher_context *tc_context;

  If you want to handle keys explicitely, I presume that this means locking
certain keys into the hardware, while cycling others? (For instance, VPN keys
stay in the hardware, while RW or OE get LRU). I would think that perhaps
this stuff goes into to initialization code for creating the cipher_context
("open_session" as you call it).

]       ON HUMILITY: to err is human. To moo, bovine.           |  firewalls  [
]   Michael Richardson, Sandelman Software Works, Ottawa, ON    |net architect[
] mcr@sandelman.ottawa.on.ca http://www.sandelman.ottawa.on.ca/ |device driver[
] panic("Just another NetBSD/notebook using, kernel hacking, security guy");  [


-----BEGIN PGP SIGNATURE-----
Version: 2.6.3ia
Charset: latin1
Comment: Finger me for keys

iQCVAwUBPTh/f4qHRg3pndX9AQFSCQQA1mcbbZOXKWpXWe5wuFdXvo5yMzXzlb5l
ixqMR+/29zS7vLfnXwiSWYMf5jXki47ft1IkdmHbkST+6EEuB5vxr204dXcAtort
znu32Ydo1tfDRKI188ZHdkQRTRdK/Q5C0yb0DcvSDrmSxz9nQgOJ+oKGZoHY1XpJ
O8RURez+LWE=
=QPU3
-----END PGP SIGNATURE-----
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020719202753</emailId><senderName>Martin Gadbois</senderName><senderEmail>martin.gadbois@colubris.com</senderEmail><timestampReceived>2002-07-19 20:27:53-0400</timestampReceived><subject>Re: [Design] some comments on Linux CryptoAPI - this "atomic" cipher</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Michael Richardson wrote:
|
|   In the case of FreeSWAN with hardware, we do *not* want to sleep. We
want a
| callback. I am looking at doing this.

Agreed.

|
|   Some more comments:
|
| Naming of ciphers
| =================
|
|   I think that there should be a hierarchy of names with longest matching
| wins. Transforms should provide relative weights for binding to the less
| specific names.
|
|   Specifically:
| 	aes-cbc
| 	aes-cbc/software	(or aes/atomic if you prefer)
| 	aes-cbc/hardware
| 	aes-cbc/hardware/hifn/pci/01/00/0
	[PCI bus/device/function]
| 	aes-cbc/hardware/chrysalis/pci/04/06/0
| 	aes-cbc/hardware/broadcom/csix/5/7/8	[to make something up]
|
|   This permits one to VERY specifically attach to the implementation
that one
| wants, while still permitting "aes-cbc" to get something useful. This all
| would occur at registration and lookup of cipher_implementation time.

How about a in-between application that want to use hardware, but in an
atomic fashion? This is how I started doing things before using a callback.
In some occasions, it might be good to be able to wait for the hardware
to finish encrypting by busy-looping. It is still more efficient to do
that then to wait for 3DES to finish in S/W.

I therefore suggest to leave the hardware specification to the library.
You want to say " I want this done ASAP, with those limitation (SYNC or
ASYN)". That way, the library chooses the best available hardware (or
software) to execute the request, according to specified limitations.


|
| The operation queue
| ===================
|
| I would propose that all fucntions take a "struct transform_command *" as
| an argument, defined essentially like this:
|
| struct transform_command {
|   struct list_head           tc_cmdqueue;
|   struct cipher_context     *tc_context;
|   transform_unit_callback    tc_callback;
|   cipher_usercontext         tc_user;    /* whatever the user callback
wants */
|   unsigned int               tc_flags;
|   const u8                   tc_iv[MAX_IV_SIZE];
|   const u8                  *tc_in;
|   u8                        *tc_out;     /* if NULL, use cc_in */
|   u8                        *tc_mac;     /* must point to space of
tc_macsize */
|   size_t                     tc_insize;  /* size of input buffer */
|   size_t                     tc_outsize; /* size of output buffer */
|   size_t                     tc_macsize; /* size of MAC output buffer */
|   size_t                     tc_resultsize;  /* amount of output
buffer used */
| };
|
| #define TC_FLAGS_GENERATE_IV   (1&lt;&lt;0)    /* if set, then IV must be
generated */
|
| Unfortunately, this is too big. It is 52 bytes + MAX_IV_SIZE.
|
| Making all of the sizes 16 bit integers, and putting the IV outline (a
| pointer) would get us down to 44 bytes.
|
| To be memory efficient, we need to fit this into the 48 bytes in the
skb-&gt;cb,
| which avoids having to allocate another control structure for each
| packet. The result is therefore:
|
| struct transform_command {
|   struct list_head           tc_cmdqueue;
|   struct cipher_context     *tc_context;
|   transform_unit_callback    tc_callback;
|   cipher_usercontext         tc_user;    /* whatever the user callback
wants */
|   unsigned int               tc_flags;
|   const u8                  *tc_iv;
|   const u8                  *tc_in;
|   const u8                  *tc_out;
|   u8                        *tc_mac;     /* must point to space of
tc_macsize */
|   u16                        tc_insize;  /* size of input buffer */
|   union {
|     u16	                     tc_buffersize;    /* size of output buffer */
|     u16                      tc_resultsize; /* number of bytes in
output */
|   } tc_output;			
| };
|
| yes, it is necessary to provide outsize as well as insize somehow.
| De-Compression could expand the output, and it must bounds check the
| output. We re-use the tc_outsize as the tc_resultsize. The tc_macsize
| is also dropped, as I believe that the MAC result will always be the
same for
| a given digest.
|
| Note that the operation is implied by the cipher_context now, or we
can steal
| some bits from tc_flags for it.

Something is missing: the start of the operation, and size of the
operation. Is that included in tc_cmdqueue?
Example: on packet pointer at tc_in, do HMAC from in+4 for size1, and
then do 3DES from in+16 for size2.

We also need some kind of open_session()/close_session(). H/W can
remember keys (no need to transfer them with every command) but we need
to manage that either explicitly, on implicitly (use a LRU algo). On the
Hifn 7811 and 7901, there is a limited number of H/W session available,
due to memory constrains.


My 2 cents,

- --
==============
Martin Gadbois
S/W Developper
Colubris Networks Inc.

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.4 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iEYEARECAAYFAj04dkgACgkQ9Y3/iTTCEDnWQwCeLYdPVjBmRuWngeLyNWCMcydZ
MiwAniUJsJNN+2Q+XmAGEfCVCWR+k3th
=5WaJ
-----END PGP SIGNATURE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020726123357</emailId><senderName>Reos Zgium</senderName><senderEmail>zgium@gmx.net</senderEmail><timestampReceived>2002-07-26 12:33:57-0400</timestampReceived><subject>CD-ROM Encryption on-the-fly ?</subject><body>

I have a quite common encryption scenario:
Where I work, we (the tech-team) need to backup the company's mission-critical 
data periodically and use cheap cdrom as backup media. Until recently we 
simply fired the data onto the cdrs, now we'd like to encrypt the data so no 
one (esp. competitors) could read our backups.

Why not pipe the archives through gpg or something like that? Yes we could do 
that.
But the crypto-loop functions on a cdrom would render even the iso9660-header 
unreadable, which is even better, as it fools possible spies into thinking 
the cdrom is broken or blank.

Some time ago there was this solution on the list:
dd if=/dev/urandom of=/tmp/cryptfile bs=2048 count=333000
echo "my_passwort" | \
    losetup -e aes --keybits 256 -p 0 /dev/loop1 /tmp/cryptfile
mkisofs -v -r -o /dev/loop1 /home/backup
...

It worked great; all those blocksize problems seem to be solved in the current 
2.4 version (that is patch-int 2.4.18.3).
The point with this method is that one has to know the size of the container 
file before writing into it through the loop-driver.

Wouldn't it be possible to write a small piece of code, which encrypts 
stdin-&gt;stdout. This would compact the example above into one line like this:

mkisofs -xyz /home/backup | encrypt-on-the-fly &gt; /tmp/cryptfile

or even burn it on the fly.
mkisofs -xyz /home/backup | encrypt-on-the-fly | cdrecord -

The encryption key would be requested from the console or from file or 
whatever.

The trick here is writing this pipe-program which is is compatible with the 
crypto-loop kernel driver so the data can later be transparently decrypted.
Main obstacles are the IV and the blocksize. The crypto-loop has no external 
interface (or i failed to find it) so the separate encryption program would 
have to duplicate the crypt-loop's functionality. Disregarding future 
compatibility problems, this small program would be quite simple to code.

A huge problem could be to encrypt multi-session volumes and such. But as this 
is quite problematic with the mkisofs/cdrecord pair anyway, i would ignore it 
for now.

Now for the questions:
Has some one already coded this tool and could save me a day or two?

Does any one with more insight into the crypto-loop driver see a problem in 
design with this solution? Can we reliably pre-calcucate the IV on the CD 
before it is written?

Any other suggestions?

A big thanks to the people who made the crypto-loop as well-performing as we 
know it.
Reos Zgium
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020724223646</emailId><senderName>       Richard Zidlicky</senderName><senderEmail></senderEmail><timestampReceived>2002-07-24 22:36:46-0400</timestampReceived><subject>loop-AES trouble</subject><body>

Hi,

I am getting repeatable deadlocks using 2.4.18, loop-AES-v1.6e
and ciphers-v1.0e.tar.bz2.

using a 2G partition for the encrypted data,

  losetup -e serpent256 /dev/loop5 /dev/hda9
  mke2fs /dev/loop5; losetup -d

to create the fs and following mount entry:
  /dev/hda9	/test-loop	ext2	defaults,noauto,loop=/dev/loop4,encryption=serpent256	0 0

Next I have copied 240 MB random files to the fresh filesystem
and bdflush as well as kupdated entered 'D' state, a few other
processes that were active at that time entered the 'T' state
All files have been apparently correctly copied over, can be
accessed and everything else works quite well except that every
(f)sync hangs - a few hours later the system is still usable..

I am running automount and knfsd which did nothing at that time.

Any idea?
Richard


  F   UID   PID  PPID PRI  NI   VSZ  RSS WCHAN  STAT TTY        TIME COMMAND
100     0     1     0   8   0   880  436 do_sel S    ?          0:03 init
040     0     2     1   9   0     0    0 contex SW   ?          0:02 [keventd]
040     0     3     0  19  19     0    0 ksofti SWN  ?          0:02 [ksoftirqd_
040     0     4     0   9   0     0    0 kswapd SW   ?          2:20 [kswapd]
040     0     5     0   9   0     0    0 wait_o DW   ?          0:00 [bdflush]
040     0     6     0   9   0     0    0 wait_o DW   ?          0:22 [kupdated]
040     0   502     1   9   0   932  464 do_sel S    ?          0:01 syslogd -m 
140     0   507     1   9   0   944  388 do_sys S    ?          0:00 klogd -2
140    32   525     1   9   0  1020  368 do_sel S    ?          0:00 portmap
140    29   553     1   9   0  1068  436 do_sel S    ?          0:00 rpc.statd
040     0   602     1   9   0  1576  660 wait4  S    ?          0:00 /bin/sh /et
000     0   607   602   9   0   900  420 end    S    ?          0:03 initlog -q 
000     0   608   607   9   0  1220  348 do_sel S    ?          0:00 esd -b -r 2
040     0   702     1   9   0  1036  428 pipe_w S    ?          0:00 /usr/sbin/a
040    55   726     1   9   0  3812  428 do_sel S    ?          0:00 /usr/sbin/s
040     1   745     1   9   0   908  448 nanosl S    ?          0:00 /usr/sbin/a
140     0   763     1   9   0  2140  376 do_sel S    ?          0:37 /usr/sbin/s
140     0   795     1   8   0  1684  704 do_sel S    ?          0:00 xinetd -sta
140     7   817     1   8   0  1896  424 do_sel S    ?          0:00 lpd Waiting
040     0   857     1   9   0  1016  352 do_sel S    ?          0:00 rpc.rquotad
040     0   862     1   9   0  1048  404 do_sel S    ?          0:00 rpc.mountd
140     0   867     1   9   0     0    0 svc_re SW   ?          0:00 [nfsd]
040     0   868     1   9   0     0    0 svc_re SW   ?          0:00 [nfsd]
040     0   869     1   9   0     0    0 svc_re SW   ?          0:00 [nfsd]
040     0   870     1   9   0     0    0 svc_re SW   ?          0:00 [nfsd]
040     0   871     1   9   0     0    0 svc_re SW   ?          0:00 [nfsd]
040     0   872     1   9   0     0    0 svc_re SW   ?          0:00 [nfsd]
040     0   873     1   9   0     0    0 svc_re SW   ?          0:00 [nfsd]
040     0   874     1   9   0     0    0 svc_re SW   ?          0:00 [nfsd]
040     0   877     1   9   0     0    0 svc_re SW   ?          0:00 [lockd]
040     0   878   877   9   0     0    0 rpciod SW   ?          0:00 [rpciod]
140     0   915     1   9   0  4168  680 do_sel S    ?          0:00 sendmail: a
140     0   939     1   9   0 32324  192 do_sel S    ?          0:21 /usr/sbin/h
000    31   997     1   8   0  5396  248 do_sel S    ?          0:00 /usr/bin/po
040     0  1022     1   8   0  1052  476 nanosl S    ?          0:00 crond
040    43  1126     1   9   0  2960  480 do_sel S    ?          0:05 xfs -droppr
100     0  1171     1   9   0   852  344 read_c S    tty3       0:00 /sbin/minge
100     0  1172     1   9   0   852  344 read_c S    tty4       0:00 /sbin/minge
100     0  1173     1   9   0   852  344 read_c S    tty5       0:00 /sbin/minge
100     0  1174     1   9   0   852  344 read_c S    tty6       0:00 /sbin/minge
140    48  1175   939   9   0 32384  628 wait_f S    ?          0:00 /usr/sbin/h
140    48  1176   939   9   0 32384  628 wait_f S    ?          0:00 /usr/sbin/h
140    48  1177   939   9   0 32384  628 wait_f S    ?          0:00 /usr/sbin/h
140    48  1178   939   9   0 32384  628 wait_f S    ?          0:00 /usr/sbin/h
140    48  1179   939   9   0 32384  628 wait_f S    ?          0:00 /usr/sbin/h
140    48  1180   939   9   0 32384  664 wait_f S    ?          0:00 /usr/sbin/h
140    48  1181   939   9   0 32384  664 wait_f S    ?          0:00 /usr/sbin/h
140    48  1182   939   9   0 32384  664 wait_f S    ?          0:00 /usr/sbin/h
040     0  2688     1  -1 -20     0    0 end    SW&lt;  ?          0:48 [loop4]
100     0  2697     1   9   0   852  408 read_c S    tty1       0:00 /sbin/minge
100     0  2699     1   9   0   852  408 read_c S    tty2       0:00 /sbin/minge
100     0  2700   795   9   0   984  544 end    S    ?          0:00 in.telnetd:
100     0  2701  2700   9   0  1908  960 wait4  S    ?          0:00 login -- rz
100   511  2702  2701   9   0  1756  892 wait4  S    pts/0      0:00 -bash
000     0  2743  2702   9   0  1668  652 wait4  S    pts/0      0:00 su -
100     0  2745  2743   9   0  1784 1068 read_c S    pts/0      0:00 -bash
100     0  2786  2745   9   0  3696  944 end    S    pts/0      0:02 xterm
100     0  2787  2745   9   0  3684 1880 end    S    pts/0      0:03 xterm
100     0  2790  2786   8   0  1792  908 tty_wa S    pts/1      0:00 bash
100     0  2791  2787   8   0  1784 1044 read_c S    pts/2      0:00 bash
100     0  2851     1   9   0  1464  808 wait4  S    pts/0      0:00 /bin/sh -e 
100     0  2889  2791   9   0  7796 3508 do_sel S    pts/2      0:18 xemacs /sou
000     0  2892  2889   9   0  3028  524 do_sel S    ttyp0      0:00 /usr/lib/xe
100     0  2956  2953   9   0  1464  700 do_sig T    pts/0      0:00 /bin/sh -e 
040     0  3090  2956   9   0  1464  704 do_sig T    pts/0      0:00 /bin/sh -e 
000     0  3091  3090   9   0  1032  500 do_sig T    pts/0      0:00 make
000     0  3104  3091   9   0  1448  796 do_sig T    pts/0      0:00 /bin/sh -c 
000     0  3105  3104   9   0  1628 1220 do_sig T    pts/0      0:03 make SUBDIR
000     0  3110  3105   9   0  1064  664 do_sig T    pts/0      0:00 make -C /mi
000     0  3173  3110   9   0   944  384 do_sig T    pts/0      0:00 gcc -D__KER
000     0  3174  3173   9   0  6632 4852 do_sig T    pts/0      0:11 /usr/lib/gc
000     0  3175  3173   9   0  1964  964 do_sig T    pts/0      0:00 as -Qy -m68
000     0  3253     1   9   0  1636 1228 wait4  S    pts/0      0:03 make SUBDIR
000     0  3257  3253   8   0  1060  660 down_i S    pts/0      0:00 make -C /mi
040     0  3272  2851   8   0  1464  836 write_ S    pts/0      0:00 /bin/sh -e 
100     0  3403     1  -1 -20  3740 2732 do_sel S&lt;   ?          0:01 xterm
100     0  3405  3403  -1 -20  1784 1240 read_c S&lt;   pts/4      0:00 bash
100     0  3438  3405  -1 -20  4444 3432 do_sel S&lt;   pts/4      0:03 xterm
100     0  3440  3438  -1 -20  1776 1228 wait4  S&lt;   pts/5      0:00 bash
100     0  3475  3440  -1 -20  2948 1552 do_sig T&lt;   pts/5      0:00 gdb
100     0  2953  2745   9   0   864   52 do_sig T    pts/0      0:00 rpm -ba SPE
100     0  3483  3440  10 -20  2428  960 -      R&lt;   pts/5      0:01 ps axl

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020726165139</emailId><senderName>Andreas Schreier</senderName><senderEmail>a_schreier@firemail.de</senderEmail><timestampReceived>2002-07-26 16:51:39-0400</timestampReceived><subject>AES vs. GPG</subject><body>

Is AES256 or GPG-Key encrypted root partition more secure? Is there a 
more secure way to encrypt the root partition than AES256?

Best regards
Andreas
______________________________________________________
Multimedia Messaging ist da! Die Zukunft des Messaging hat begonnen. \
http://mobile.lycos.de/mobile/local/mms/


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020731100417</emailId><senderName>"Tomas Pospisek's Mailing Lists"</senderName><senderEmail>tpo2@sourcepole.ch</senderEmail><timestampReceived>2002-07-31 10:04:17-0400</timestampReceived><subject>patches for loop-AES against util-linux-2.11t and against Debian</subject><body>

Hello people,

I've ported the util-linux-2.11r-*.diff's of loop-AES-1.6e over to
util-linux-2.11t.

The only change was to change swap() to do_swapon() since that was renamed
upstream and to include forward declarations of Jari's crypto functions so
that gcc doesn't bother me with warnings.

I've also ported the Debian patch against util-linux-2.11n over to
util-linux-2.11t and at the same time rid it of the international crypto
patch.

The patched Debian package "mount" runs well here so far.

Everything can be found here [1].

Enjoy, feedback wellcome, thanks to Jari for the good work,
*t

[1] http://sourcepole.ch/sources/software/loop-aes/

----------------------------------------------------------------------------
             Tomas Pospisek
	     SourcePole   -  Linux &amp; Open Source Solutions
	     http://sourcepole.ch
	     Elestastrasse 18, 7310 Bad Ragaz, Switzerland
	     Tel: +41 (81) 330 77 11
----------------------------------------------------------------------------

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020731102956</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-07-31 10:29:56-0400</timestampReceived><subject>Re: patches for loop-AES against util-linux-2.11t and against Debian</subject><body>

Tomas Pospisek's Mailing Lists wrote:
&gt; I've ported the util-linux-2.11r-*.diff's of loop-AES-1.6e over to
&gt; util-linux-2.11t.
&gt; 
&gt; The only change was to change swap() to do_swapon() since that was renamed
&gt; upstream and to include forward declarations of Jari's crypto functions so
&gt; that gcc doesn't bother me with warnings.
&gt; 
&gt; I've also ported the Debian patch against util-linux-2.11n over to
&gt; util-linux-2.11t and at the same time rid it of the international crypto
&gt; patch.

Sorry, but your util-linux-2.11t diff seems not to handle encrypted swap
"swapoff -a" case correctly. Swapon/swapoff code was extensively rewritten
in util-linux-2.11t, and I had to rewrite encrypted swap code for
util-linux-2.11t swapon/swaoff. Util-linux-2.11t patches for loop-AES have
been available here for a while:

http://loop-aes.sourceforge.net/updates/2002-07-17/util-linux-2.11t-1.diff.bz2
http://loop-aes.sourceforge.net/updates/2002-07-17/util-linux-2.11t-1.diff.bz2.sign
http://loop-aes.sourceforge.net/updates/2002-07-17/util-linux-2.11t-2.diff.bz2
http://loop-aes.sourceforge.net/updates/2002-07-17/util-linux-2.11t-2.diff.bz2.sign

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020725182810</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-07-25 18:28:10-0400</timestampReceived><subject>Re: loop-AES trouble</subject><body>

Richard Zidlicky wrote:
&gt; I am getting repeatable deadlocks using 2.4.18, loop-AES-v1.6e
&gt; and ciphers-v1.0e.tar.bz2.
[snip]
&gt; Next I have copied 240 MB random files to the fresh filesystem
&gt; and bdflush as well as kupdated entered 'D' state, a few other
&gt; processes that were active at that time entered the 'T' state
&gt; All files have been apparently correctly copied over, can be
&gt; accessed and everything else works quite well except that every
&gt; (f)sync hangs - a few hours later the system is still usable..
&gt; 
&gt; I am running automount and knfsd which did nothing at that time.
&gt; 
&gt; Any idea?

Did you change kernel .config between compiling your running kernel and
compiling loop.o + loop_serpent.o modules? Compiling a module and rest of
kernel with different .config is almost guaranteed to cause trouble.

Can you try kernel 2.4.19-rc3 as it should have better VM?

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020726091251</emailId><senderName>       Richard Zidlicky</senderName><senderEmail></senderEmail><timestampReceived>2002-07-26 09:12:51-0400</timestampReceived><subject>Re: loop-AES trouble</subject><body>

On Thu, Jul 25, 2002 at 09:28:10PM +0300, Jari Ruusu wrote:
&gt; Richard Zidlicky wrote:
&gt; &gt; I am getting repeatable deadlocks using 2.4.18, loop-AES-v1.6e
&gt; &gt; and ciphers-v1.0e.tar.bz2.
&gt; [snip]
&gt; &gt; Next I have copied 240 MB random files to the fresh filesystem
&gt; &gt; and bdflush as well as kupdated entered 'D' state, a few other
&gt; &gt; processes that were active at that time entered the 'T' state
&gt; &gt; All files have been apparently correctly copied over, can be
&gt; &gt; accessed and everything else works quite well except that every
&gt; &gt; (f)sync hangs - a few hours later the system is still usable..
&gt; &gt; 
&gt; &gt; I am running automount and knfsd which did nothing at that time.
&gt; &gt; 
&gt; &gt; Any idea?
&gt; 
&gt; Did you change kernel .config between compiling your running kernel and
&gt; compiling loop.o + loop_serpent.o modules? Compiling a module and rest of
&gt; kernel with different .config is almost guaranteed to cause trouble.

Both are freshly recompiled.

Tried without kernel automounter and without knfsd, same result.

Realised one more thing, I run with IDE multcount=16 and 'hdparm -u1', 
did you ever test with similar options?


Richard

### /etc/sysconfig/harddisks ##
# These options are used to tune the hard drives -
# read the hdparm man page for more information

# Set this to 1 to enable DMA. This might cause some 
# data corruption on certain chipset / hard drive
# combinations. This is used with the "-d" option

# USE_DMA=1

# Multiple sector I/O. a feature of most modern IDE hard drives,
# permitting the transfer of multiple sectors per I/O interrupt,
# rather than the usual one sector per interrupt.  When this feature
# is enabled, it typically reduces operating system overhead for disk
# I/O by 30-50%.  On many systems, it also provides increased data
# throughput of anywhere from 5% to 50%.  Some drives, however (most
# notably the WD Caviar series), seem to run slower with multiple mode
# enabled. Under rare circumstances, such failures can result in
# massive filesystem corruption. USE WITH CAUTION AND BACKUP.
# This is the sector count for multiple sector I/O - the "-m" option

MULTIPLE_IO=16

# (E)IDE 32-bit I/O support (to interface card)
#
# EIDE_32BIT=3

# Enable drive read-lookahead
#
# LOOKAHEAD=1

# Add extra parameters here if wanted
# On reasonably new hardware, you may want to try -X66, -X67 or -X68
# Other flags you might want to experiment with are -u1, -a and -m
# See the hdparm manpage (man hdparm) for details and more options.
#
EXTRA_PARAMS=-u1

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020726115938</emailId><senderName>       Richard Zidlicky</senderName><senderEmail></senderEmail><timestampReceived>2002-07-26 11:59:38-0400</timestampReceived><subject>Re: loop-AES trouble</subject><body>

On Fri, Jul 26, 2002 at 11:12:51AM +0200, Richard Zidlicky wrote:
 
&gt; Realised one more thing, I run with IDE multcount=16 and 'hdparm -u1', 
&gt; did you ever test with similar options?

well I have tested without those options and it didn't help.

Richard
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020726153222</emailId><senderName>Dennis Stosberg</senderName><senderEmail>dennis@stosberg.net</senderEmail><timestampReceived>2002-07-26 15:32:22-0400</timestampReceived><subject>Re: CD-ROM Encryption on-the-fly ?</subject><body>

Am 26.07.2002 um 14:33 schrieb Reos Zgium:

&gt; Wouldn't it be possible to write a small piece of code, which
&gt; encrypts stdin-&gt;stdout. This would compact the example above
&gt; into one line like this:
&gt; [...]
&gt; The trick here is writing this pipe-program which is is
&gt; compatible with the crypto-loop kernel driver so the data can
&gt; later be transparently decrypted.  Main obstacles are the IV
&gt; and the blocksize. The crypto-loop has no external interface
&gt; (or i failed to find it) so the separate encryption program
&gt; would have to duplicate the crypt-loop's
&gt; functionality. Disregarding future compatibility problems,
&gt; this small program would be quite simple to code.

Jari Ruusu announced such a tool for use with loop-aes a few
weeks ago. Someone wanted to use loop-aes encrypted file
systems on Solaris, IIRC. Just search the list archive for
"Solaris".


Regards, 
Dennis

-- 
Dennis Stosberg
  eMail: dennis@stosberg.net
         dstosber@techfak.uni-bielefeld.de
gpg key: http://stosberg.net/dennis.asc
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020722124225</emailId><senderName>Martin Gadbois</senderName><senderEmail>martin.gadbois@colubris.com</senderEmail><timestampReceived>2002-07-22 12:42:25-0400</timestampReceived><subject>Re: [Design] some comments on Linux CryptoAPI - this "atomic" cipher</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Michael Richardson wrote:
|     Martin&gt; How about a in-between application that want to use
hardware, but in an
|     Martin&gt; atomic fashion? This is how I started doing things before
using a callback.
|     Martin&gt; In some occasions, it might be good to be able to wait for
the hardware
|     Martin&gt; to finish encrypting by busy-looping. It is still more
efficient to do
|     Martin&gt; that then to wait for 3DES to finish in S/W.
|
|   That would require some new interface into the device driver.
|   One could busy wait on some flag in the struct transform_command
perhaps.
|   I'd like to understand the reason for this.

If, like FreeS/WAN now, you want to replace crypto operations to use
hardware but FreeS/WAN cannot wait while the hardware encrypts the
packet, what do you do? What I did first is I replaced
des_ede3_cbc_encrypt() with the one that does hardware, and wait for it
to complete. YOu win, because time(HW) &lt; time(SW).
This is a drop-in replacement for existing applications that uses
functions like des_ede3_cbc_encrypt(). Those application will benefits
immedialtly from hardware acceleration.



|
|     Martin&gt; I therefore suggest to leave the hardware specification to
the library.
|
|   What do you mean by this?
|
|     Martin&gt; You want to say " I want this done ASAP, with those
limitation (SYNC or
|     Martin&gt; ASYN)". That way, the library chooses the best available
hardware (or
|     Martin&gt; software) to execute the request, according to specified
|     Martin&gt; limitations.
|
|   Sure, but users have to have a way to override things.

Ok. "aes-cbc/hardware" would do that.


|
|     Martin&gt; Something is missing: the start of the operation, and size
of the
|     Martin&gt; operation. Is that included in tc_cmdqueue?
|
|     Martin&gt; Example: on packet pointer at tc_in, do HMAC from in+4 for
size1, and
|     Martin&gt; then do 3DES from in+16 for size2.
|
|   My feeling is that one opens the "esp/3DES/HMAC-MD5" cipher if one
wants it
| done in one operation and ESP knows this stuff.

Isn't that complicating the "Naming of ciphers"?
In the FreeS/WAN hardware acceleration patch
(http://sources.colubris.com) I use a structure for the request, and a
list of transform (algorithm, offset, len) to do on the request. I
though that is what you meant with the tc_cmdqueue member.


|
|     Martin&gt; We also need some kind of open_session()/close_session().
H/W can
|     Martin&gt; remember keys (no need to transfer them with every
command) but we need
|     Martin&gt; to manage that either explicitly, on implicitly (use a LRU
algo). On the
|     Martin&gt; Hifn 7811 and 7901, there is a limited number of H/W
session available,
|     Martin&gt; due to memory constrains.
|
|   That's handled by the driver by reference to the per-SA
| 	 struct cipher_context *tc_context;
|
|   If you want to handle keys explicitely, I presume that this means
locking
| certain keys into the hardware, while cycling others? (For instance,
VPN keys
| stay in the hardware, while RW or OE get LRU). I would think that perhaps
| this stuff goes into to initialization code for creating the
cipher_context
| ("open_session" as you call it).

Possibly, but in any case, software need to oversee the hardware key
management.

The FreeS/WAN acceleration patch does not use H/W keys, as our
application does not have extra memory to store keys.

- --
==============
Martin Gadbois
S/W Developper
Colubris Networks Inc.

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.4 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iEYEARECAAYFAj07/bAACgkQ9Y3/iTTCEDlJdgCffGlxR7thVUjnfwnsrQy3q6Ox
bd8An2FslAfq36FVA+GqdLKbDzdu/Llg
=4MC5
-----END PGP SIGNATURE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020722143939</emailId><senderName>Jean-Luc Cooke</senderName><senderEmail>jlcooke@certainkey.com</senderEmail><timestampReceived>2002-07-22 14:39:39-0400</timestampReceived><subject>Re: [Design] some comments on Linux CryptoAPI - this "atomic" cipher business</subject><body>

WR hardware interfaces, has anyonelooked into a PKCS#11 interface for all
this?  It _is_ the standard.  If a cryptoapi impl'n of pkcs11 is attractive,
I'll do it.

JLC

On Mon, Jul 22, 2002 at 08:42:25AM -0400, Martin Gadbois wrote:
&gt; -----BEGIN PGP SIGNED MESSAGE-----
&gt; Hash: SHA1
&gt; 
&gt; Michael Richardson wrote:
&gt; |     Martin&gt; How about a in-between application that want to use
&gt; hardware, but in an
&gt; |     Martin&gt; atomic fashion? This is how I started doing things before
&gt; using a callback.
&gt; |     Martin&gt; In some occasions, it might be good to be able to wait for
&gt; the hardware
&gt; |     Martin&gt; to finish encrypting by busy-looping. It is still more
&gt; efficient to do
&gt; |     Martin&gt; that then to wait for 3DES to finish in S/W.
&gt; |
&gt; |   That would require some new interface into the device driver.
&gt; |   One could busy wait on some flag in the struct transform_command
&gt; perhaps.
&gt; |   I'd like to understand the reason for this.
&gt; 
&gt; If, like FreeS/WAN now, you want to replace crypto operations to use
&gt; hardware but FreeS/WAN cannot wait while the hardware encrypts the
&gt; packet, what do you do? What I did first is I replaced
&gt; des_ede3_cbc_encrypt() with the one that does hardware, and wait for it
&gt; to complete. YOu win, because time(HW) &lt; time(SW).
&gt; This is a drop-in replacement for existing applications that uses
&gt; functions like des_ede3_cbc_encrypt(). Those application will benefits
&gt; immedialtly from hardware acceleration.
&gt; 
&gt; 
&gt; 
&gt; |
&gt; |     Martin&gt; I therefore suggest to leave the hardware specification to
&gt; the library.
&gt; |
&gt; |   What do you mean by this?
&gt; |
&gt; |     Martin&gt; You want to say " I want this done ASAP, with those
&gt; limitation (SYNC or
&gt; |     Martin&gt; ASYN)". That way, the library chooses the best available
&gt; hardware (or
&gt; |     Martin&gt; software) to execute the request, according to specified
&gt; |     Martin&gt; limitations.
&gt; |
&gt; |   Sure, but users have to have a way to override things.
&gt; 
&gt; Ok. "aes-cbc/hardware" would do that.
&gt; 
&gt; 
&gt; |
&gt; |     Martin&gt; Something is missing: the start of the operation, and size
&gt; of the
&gt; |     Martin&gt; operation. Is that included in tc_cmdqueue?
&gt; |
&gt; |     Martin&gt; Example: on packet pointer at tc_in, do HMAC from in+4 for
&gt; size1, and
&gt; |     Martin&gt; then do 3DES from in+16 for size2.
&gt; |
&gt; |   My feeling is that one opens the "esp/3DES/HMAC-MD5" cipher if one
&gt; wants it
&gt; | done in one operation and ESP knows this stuff.
&gt; 
&gt; Isn't that complicating the "Naming of ciphers"?
&gt; In the FreeS/WAN hardware acceleration patch
&gt; (http://sources.colubris.com) I use a structure for the request, and a
&gt; list of transform (algorithm, offset, len) to do on the request. I
&gt; though that is what you meant with the tc_cmdqueue member.
&gt; 
&gt; 
&gt; |
&gt; |     Martin&gt; We also need some kind of open_session()/close_session().
&gt; H/W can
&gt; |     Martin&gt; remember keys (no need to transfer them with every
&gt; command) but we need
&gt; |     Martin&gt; to manage that either explicitly, on implicitly (use a LRU
&gt; algo). On the
&gt; |     Martin&gt; Hifn 7811 and 7901, there is a limited number of H/W
&gt; session available,
&gt; |     Martin&gt; due to memory constrains.
&gt; |
&gt; |   That's handled by the driver by reference to the per-SA
&gt; | 	 struct cipher_context *tc_context;
&gt; |
&gt; |   If you want to handle keys explicitely, I presume that this means
&gt; locking
&gt; | certain keys into the hardware, while cycling others? (For instance,
&gt; VPN keys
&gt; | stay in the hardware, while RW or OE get LRU). I would think that perhaps
&gt; | this stuff goes into to initialization code for creating the
&gt; cipher_context
&gt; | ("open_session" as you call it).
&gt; 
&gt; Possibly, but in any case, software need to oversee the hardware key
&gt; management.
&gt; 
&gt; The FreeS/WAN acceleration patch does not use H/W keys, as our
&gt; application does not have extra memory to store keys.
&gt; 
&gt; - --
&gt; ==============
&gt; Martin Gadbois
&gt; S/W Developper
&gt; Colubris Networks Inc.
&gt; 
&gt; -----BEGIN PGP SIGNATURE-----
&gt; Version: GnuPG v1.0.4 (GNU/Linux)
&gt; Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org
&gt; 
&gt; iEYEARECAAYFAj07/bAACgkQ9Y3/iTTCEDlJdgCffGlxR7thVUjnfwnsrQy3q6Ox
&gt; bd8An2FslAfq36FVA+GqdLKbDzdu/Llg
&gt; =4MC5
&gt; -----END PGP SIGNATURE-----
&gt; 
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/

-- 
http://www.certainkey.com
Suite 4560 CTTC
1125 Colonel By Dr.
Ottawa ON, K1S 5B6
C: 613.263.2983
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020723182343</emailId><senderName>Michael Richardson</senderName><senderEmail>mcr@sandelman.ottawa.on.ca</senderEmail><timestampReceived>2002-07-23 18:23:43-0400</timestampReceived><subject>Re: [Design] some comments on Linux CryptoAPI - this "atomic" cipher business</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----


&gt;&gt;&gt;&gt;&gt; "Jean-Luc" == Jean-Luc Cooke &lt;jlcooke@certainkey.com&gt; writes:
    Jean-Luc&gt; WR hardware interfaces, has anyonelooked into a PKCS#11 interface for all
    Jean-Luc&gt; this?  It _is_ the standard.  If a cryptoapi impl'n of pkcs11

  Last time I looked at it, (it was at least 6 years ago) ... it was too
highlevel - no asynchonous support. More focused on how to present public
keys. No support for AES, etc.

  I'm sure that you can build something on top of what we create.  

  As for being a "standard" - no, it is a creation of RSA Data Systems. 

  http://www.rsasecurity.com/rsalabs/pkcs/ is down right now. 
  I used to have a printed copy from ... from the meeting that created the
term "S/WAN" actually... man that was awhile ago... searches
bookshelves. nope.

]    Internet Security. Have encryption, will travel           |1 Fish/2 Fish [
]  Michael Richardson, Sandelman Software Works, Ottawa, ON    |Red F./Blow F [
]mcr@sandelman.ottawa.on.ca http://www.sandelman.ottawa.on.ca/ |strong crypto [
]    At the far end of some dark fiber - wait that's dirt!     |for everyone  [


  
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.7 (GNU/Linux)
Comment: Finger me for keys

iQCVAwUBPT2fI4qHRg3pndX9AQHfrgQAvpIqItoW4au0Hh6QvgmjoYsp8nqEn3Zm
lEYbicW6FmCKywlWdq94rPO19hEj2q71SQAcHBgERBPpDYT/DvEit1TTl6CyAthX
c4DIjhRz2xnneKvcN+hcrXXiCw947v5Wlp4Qh9C2UZDzxbQoqRERkS+sShWui7Xg
Esiy1K/f1KI=
=Kluy
-----END PGP SIGNATURE-----
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020715170345</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-07-15 17:03:45-0400</timestampReceived><subject>Re: GnuPG-key,loopAES encrypted root partition</subject><body>

Robert Stark wrote:
&gt; I read this list a few month and i had never problems with CryptoAPI or
&gt; loopAES, but since two weeks I have one. I've installed loopAES
&gt; successfully on Slackware8.0 with a 2.4.18 kernel. All setup's listed in
&gt; loopAES README work fine. Only example5 don't work really for me.
&gt; 
&gt; If I boot an unencrypted partition, I can mount the other encrypted
&gt; paritions with my userkey,GnuPG key. But when I encrypt also the root
&gt; partition with the key's and try to restart then it don't work.
&gt; 
&gt; I get an error message after typing my passphrase of my GnuPG-key
&gt; "unable to allocate memory". With an encrypted root partition only secured
&gt; with a passphrase and some salt it work's great.

Short answer: Don't use GnuPG-key to encrypt root partition.

Long answer: When using GnuPG-key to losetup or mount a partition, losetup
and mount programs rely on presense of gpg program binary, /etc/passwd and
$HOME/.gnupg/* files. These will not be present in the super-small
/boot/initrd.gz created by running build-initrd.sh shell script. The "unable
to allocate memory" message is a result of losetup not being able to read
user's home directory from /etc/passwd using "getpwuid(getuid())".

GnuPG-key mount is intended to be used in multiuser mode only with all above
mentioned files present. I will update loop-AES' README and man pages to say
that.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020716063831</emailId><senderName>Robert Stark</senderName><senderEmail>root@xborg.ipp-hgw.mpg.de</senderEmail><timestampReceived>2002-07-16 06:38:31-0400</timestampReceived><subject>Re: GnuPG-key,loopAES encrypted root partition</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Mon, 15 Jul 2002, Jari Ruusu wrote:


&gt; Robert Stark wrote:
&gt; &gt; If I boot an unencrypted partition, I can mount the other encrypted
&gt; &gt; paritions with my userkey,GnuPG key. But when I encrypt also the root
&gt; &gt; partition with the key's and try to restart then it don't work.
&gt; &gt;
&gt; &gt; I get an error message after typing my passphrase of my GnuPG-key
&gt; &gt; "unable to allocate memory". With an encrypted root partition only secured
&gt; &gt; with a passphrase and some salt it work's great.
&gt;
&gt; Short answer: Don't use GnuPG-key to encrypt root partition.

  Why ?

&gt; Long answer: When using GnuPG-key to losetup or mount a partition, losetup
&gt; and mount programs rely on presense of gpg program binary, /etc/passwd and
&gt; $HOME/.gnupg/* files. These will not be present in the super-small
&gt; /boot/initrd.gz created by running build-initrd.sh shell script. The "unable
&gt; to allocate memory" message is a result of losetup not being able to read
&gt; user's home directory from /etc/passwd using "getpwuid(getuid())".


build-initrd.sh:
- ------------------------------------------
static char * envp_init[] = { "HOME=/","GNUPGHOME=/lib","TERM=linux", 0, };
					^^^^^^^^^^^^^^

NOTICE: I know that INIT starts after encrypting root partition

- ------------------------------------------
buf[0] = 0;
    strCat(buf, "/lib/${LOSETUPPROG} -e ${CIPHERTYPE} \
		 -K /lib/userkey.gpg -G /lib ${PSEED} \
                 /dev/loop${DEVFSSLASH1}${ROOTLOOPINDEX} ${CRYPTROOT}");
    if(exeWait(buf)) {
        if(++x &gt;= 5) goto fail3;
        goto tryAgain;
    }

NOTICE: $GNUPGHOME in /lib isn't very secure. The keyring is better stored
        on a removeable media.

- ------------------------------------------------------------------
mkdir bin dev etc lib
      ^^^     ^^^
cp /etc/passwd etc/
cp /etc/shadow etc/
cp /usr/local/bin/gpg bin/
cp ~/.gnupg/* lib/
^^^^^^^^^^^^^^^^^
and all librarys of gpg


&gt; GnuPG-key mount is intended to be used in multiuser mode only with all above
&gt; mentioned files present. I will update loop-AES' README and man pages to say
&gt; that.
&gt;

Sure that it must be multiuser mode ?


Robert Stark

- -----------------------------------------------------
my gpg-key can be found at this location --&gt;
&lt;http://www.mentalbox.org/thefragile/pks/thefrag.asc&gt;
- -----------------------------------------------------
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.7 (GNU/Linux)

iD8DBQE9M79qmSoJ6yS8v8oRAmjQAKC5d2XmTDAJfE93+QLwiZ9FIOH1OwCbBXar
+F5cKOoeilaJebA96lPBI6I=
=UPvj
-----END PGP SIGNATURE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020711005724</emailId><senderName>Ben Slusky</senderName><senderEmail>sluskyb@paranoiacs.org</senderEmail><timestampReceived>2002-07-11 00:57:24-0400</timestampReceived><subject>Re: What I want to do -doable ?</subject><body>

On Thu, 11 Jul 2002 02:04:20 +0200, Peter Kirk wrote:
&gt; Hi,
&gt; 
&gt; Since I am realy quite new to crypto stuff....I'll just tell you what I am 
&gt; trying to do....if you could point out bad points or give hints they would be 
&gt; greatly appreciated.

&lt;Peter's dream delenda est&gt;

I've got all that done. I've been meaning to post the whole package "as
soon as I clean it up some." Look for it RSN...

Oh, and you can encrypt swap; see Jari Ruusu's patches, which have been
discussed in previous posts to this list.

-- 
Ben Slusky                      | The only "intuitive" inter-
sluskyb@stwing.org              | face is the nipple. After
sluskyb@paranoiacs.org          | that, it's all learned.
PGP keyID ADA44B3B              |               -Bruce Ediger
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020711113211</emailId><senderName>Dale Amon</senderName><senderEmail>amon@vnl.com</senderEmail><timestampReceived>2002-07-11 11:32:11-0400</timestampReceived><subject>Re: What I want to do -doable ?</subject><body>

On Thu, Jul 11, 2002 at 02:04:20AM +0200, Peter Kirk wrote:
&gt; with this passoword, meaning I enter _one_ password _once_. When the 
&gt; partitions are mounted (to /mnt and sub) I chroot into my new system and 
&gt; continue booting. Since with swap it doesnt seem to be possible to encrypt 
&gt; it, I am  planning on not using a swap partition at all.

You might consider using pivot_root instead.  

-- 
------------------------------------------------------
    Nuke bin Laden:           Dale Amon, CEO/MD
  improve the global          Islandone Society
     gene pool.               www.islandone.org
------------------------------------------------------
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020711113529</emailId><senderName>Dale Amon</senderName><senderEmail>amon@vnl.com</senderEmail><timestampReceived>2002-07-11 11:35:29-0400</timestampReceived><subject>Re: What I want to do -doable ?</subject><body>

On Wed, Jul 10, 2002 at 08:57:24PM -0400, Ben Slusky wrote:
&gt; Oh, and you can encrypt swap; see Jari Ruusu's patches, which have been
&gt; discussed in previous posts to this list.

Or if you are using devfs, you can use my cryptoapi boot scripts 
in the cruptoapi. Not sure whether HVR has gone public with stuff
from the cvs tree yet or not.

They are still very Alpha and subject to change but 
I'm using it on everything from 486's to rack servers.

-- 
------------------------------------------------------
    Nuke bin Laden:           Dale Amon, CEO/MD
  improve the global          Islandone Society
     gene pool.               www.islandone.org
------------------------------------------------------
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020711153957</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-07-11 15:39:57-0400</timestampReceived><subject>Re: What I want to do -doable ?</subject><body>

Peter Kirk wrote:
&gt; To make my system-data totally robbery safe:
&gt; I'd like to put a loopback-crypto with reiserfs on all my partitions except
&gt; /boot (so on /, /usr, /home etc.). The encryption I wish to use is the aes
&gt; (the winner of that competition).
&gt; 
&gt; This is my little dream:
&gt; After starting my computer, running lilo and selecting my kernel (lying on
&gt; /boot the kernel can be read) a initial ramdisk is loaded...containing
&gt; losetup, mount and a script I will write. This script will ask for the
&gt; password to decrypt the partitions, and will then mount all my partitions
&gt; with this passoword, meaning I enter _one_ password _once_. When the
&gt; partitions are mounted (to /mnt and sub) I chroot into my new system and
&gt; continue booting. Since with swap it doesnt seem to be possible to encrypt
&gt; it, I am  planning on not using a swap partition at all.

Loop-AES does all of that, including encrypted swap (by adding
loop=/dev/loop6,encryption=AES128 options to swap entries of your /etc/fstab
file). It even includes a configurable script to create a complete
fully-working initrd for you. Just follow instructions in the README file
and you have encrypted-everything-except-/boot system.

You can find latest version here:

http://mail.nl.linux.org/linux-crypto/2002-06/msg00038.html
  or
http://marc.theaimsgroup.com/?l=linux-crypto&amp;m=102433721500760&amp;w=2

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020711162114</emailId><senderName>Peter Kirk</senderName><senderEmail>pwk.linuxfan@gmx.de</senderEmail><timestampReceived>2002-07-11 16:21:14-0400</timestampReceived><subject>Re: What I want to do -doable ?</subject><body>

On Donnerstag, 11. Juli 2002 17:39 Jari Ruusu wrote:
&gt; Peter Kirk wrote:
&gt; &gt; To make my system-data totally robbery safe:
[...]
&gt; &gt; encrypt it, I am  planning on not using a swap partition at all.
&gt;
&gt; Loop-AES does all of that, including encrypted swap (by adding
&gt; loop=/dev/loop6,encryption=AES128 options to swap entries of your
&gt; /etc/fstab file). It even includes a configurable script to create a
&gt; complete fully-working initrd for you. Just follow instructions in the
&gt; README file and you have encrypted-everything-except-/boot system.
&gt;
&gt; You can find latest version here:
There was a HowTo I read (from 2000 or sth),
which explained how to patch loopback driver, util-linux, the Kernel, 
integrate crypto-api.
At this moment I _can_ use losetup to create a encrypted file-system (with 
aes) on a partition (or a file). Do I realy have to install this Loop-AES ? 
Why ? Is it only possible to encrypt swap with Loop-AES instead of with my 
crypto-loopback ?

My biggest problem till now is: I`d like to mount all my partitions with the 
same password, which I only want to enter once...but losetup doesnt seem to 
provide an option for the password !


Peter

-- 
Executive ability is deciding quickly and getting somebody else to do
the work.
		-- John G. Pollard

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020711165458</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-07-11 16:54:58-0400</timestampReceived><subject>Re: What I want to do -doable ?</subject><body>

Peter Kirk wrote:
&gt; On Donnerstag, 11. Juli 2002 17:39 Jari Ruusu wrote:
&gt; &gt; Loop-AES does all of that, including encrypted swap (by adding
&gt; &gt; loop=/dev/loop6,encryption=AES128 options to swap entries of your
&gt; &gt; /etc/fstab file). It even includes a configurable script to create a
&gt; &gt; complete fully-working initrd for you. Just follow instructions in the
&gt; &gt; README file and you have encrypted-everything-except-/boot system.
&gt; &gt;
&gt; &gt; You can find latest version here:
&gt; There was a HowTo I read (from 2000 or sth),
&gt; which explained how to patch loopback driver, util-linux, the Kernel,
&gt; integrate crypto-api.
&gt; At this moment I _can_ use losetup to create a encrypted file-system (with
&gt; aes) on a partition (or a file). Do I realy have to install this Loop-AES ?
&gt; Why ? Is it only possible to encrypt swap with Loop-AES instead of with my
&gt; crypto-loopback ?

You don't have to. But loop-AES' AES cipher is twice as fast as cryptoapi
AES on most modern boxes, and you don't have to patch your kernel at all to
use it.

Cryptoapi still uses dark ages method for encrypted swap: some init script
(each distro needs a different one) that does magic and then sets up a loop
device and enables swap on it. Loop-AES enhanced swapon understands loop=
and encryption= options in /etc/fstab to enable encrypted swap. Existing
init scripts simply run swapon -a and swapon does all that encrypted swap
magic. No need to modify init scripts.

&gt; My biggest problem till now is: I`d like to mount all my partitions with the
&gt; same password, which I only want to enter once...but losetup doesnt seem to
&gt; provide an option for the password !

This is explained in loop-AES' README. Once you have encrypted root
partition, you can simply have a script (on root partition) that sets other
partitions like this before other partitions are mounted. And since root
partition is encrypted, passwords within such scripts are protected by root
partition encryption.

echo "Pd1eXapMJk0XAJnNSIzE" | losetup -p 0 -e AES128 /dev/loop6 /dev/hda666
echo "D0aZNSNnu6FdAph+zrHt" | losetup -p 0 -e AES128 /dev/loop4 /dev/hdd666

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020713170802</emailId><senderName>"John Green"</senderName><senderEmail>greenjh@hotmail.com</senderEmail><timestampReceived>2002-07-13 17:08:02-0400</timestampReceived><subject>Re: What I want to do -doable ?</subject><body>


This code stores passswords in an (encrypted) script.

&gt;echo "Pd1eXapMJk0XAJnNSIzE" | losetup -p 0 -e AES128 /dev/loop6 /dev/hda666
&gt;echo "D0aZNSNnu6FdAph+zrHt" | losetup -p 0 -e AES128 /dev/loop4 /dev/hdd666
&gt;

If using bash on Linux, I would want to set

export HISTFILE=""

first, so as not to leave a record of the passwords.
Even better, put a similar line in .bashrc.

There may be other risks with this method.

Regards,

John Green

_________________________________________________________________
Send and receive Hotmail on your mobile device: http://mobile.msn.com

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020713220615</emailId><senderName>Merijn Vogel</senderName><senderEmail>merijnv@sci.kun.nl</senderEmail><timestampReceived>2002-07-13 22:06:15-0400</timestampReceived><subject>Re: What I want to do -doable ?</subject><body>

[snip]
&gt; My biggest problem till now is: I`d like to mount all my partitions with the 
&gt; same password, which I only want to enter once...but losetup doesnt seem to 
&gt; provide an option for the password !


try (in some shellscript):

stty -echo
read passwd
stty echo
echo $passwd | losetup $optionsforthing1
echo $passwd | losetup $optionsforthing2
etc..

&gt; Peter
-- Merijn
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020711193902</emailId><senderName>Sam Simpson</senderName><senderEmail>simpson@samsimpson.com</senderEmail><timestampReceived>2002-07-11 19:39:02-0400</timestampReceived><subject>RE: Scramdisk for Linux!</subject><body>


Hello Stuart.  Please see comments "in text" below:

Regards,

Sam Simpson
sam@samsimpson.com
http://www.samsimpson.com/
Mob:          +44 (0) 7866 726060
Home Office:  +44 (0) 1438 229390
Fax:          +44 (0) 1438 726069

On Thu, 11 Jul 2002, Tener, Stuart B., IT3 , USNR-R wrote:

&gt; Dear Mr. Simpson:
&gt;
&gt; 	What is the difference between scramdisk and drivecrypt?

DC is a spin-off from SD.  You need DC if you want XP support, or newer
ciphers and hash functions etc.

DC is totally closed source, SD has source available but the license
prevents futuredevelopment by third parties.  It's also unmaintained.

&gt; It
&gt; appears as I read it, that drivecrypt is replacing scramdisk, no?

Yeah, kind of - but SD is still available
(www.samsimpson.com/scramdisk.php ).

&gt; 	Is drivecrypt GPL?

Nope - the source isn't released at all.

&gt; 	Does drivecrypt work on both Linux and Windows?

Nope: Windows only.

BUT we expect to be able to implement DC access in Scramdisk 4 Linux.

&gt; 	For me while loop-aes has been a wonderful way to do encryption
&gt; under Linux, however the major failing it has is a lack of a Windows
&gt; port. Since I have situations where I need compatible encryption between
&gt; both. Loop-aes is a very good product, but as I said nobody was ever
&gt; able to make it work with Windows. When do you think scramdisk or
&gt; drivecrypt will be available to work with in a usable release?


It's not far off now, but we need community support to get to the final
bits done for a v0.1 release.

&gt; 	If "container" files are used, will they be readable under both
&gt; Linux as well as Windows?

Yes, certainly.  It's possible already to mount a Scramdisk container
under Linux.

I can see no good reason why the Linux port wouldn't also support WAV
steganography and partitions, the same way the Windows version does.


Rgds,

Sam

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020705180431</emailId><senderName>Jean-Luc Cooke</senderName><senderEmail>jlcooke@certainkey.com</senderEmail><timestampReceived>2002-07-05 18:04:31-0400</timestampReceived><subject>Re: Cryptoapi kernel-patch packages for debian</subject><body>

A very simple (distro-Agnostic) patch installer is in the works now.  Something
akin to go-gnome.com's method.

Speaking of which, can I get everyone's input on known crypto restrictions
and recommendations so this installer can help people comply with the laws in
their locality.

Clemens, my suspicion that DEBs are better then RPMs is re-confirmed, good
work!  Once the kerneli.org/go script-rules are ready (with your gracious
input) could you wrap it into a DEB?

The goals we're all striving for:
  - make the cryptoapi installer part of standard distros (sans crypto)
  - assist where possible the users' compliance with law
  - proliferate the use of strong crypto

Cheers,

JLC

On Thu, Jul 04, 2002 at 12:47:29AM +0200, Fruhwirth Clemens wrote:
&gt; Hi everybody!
&gt; 
&gt; I've created kernel-patch packages for Debian. If you compile your own
&gt; kernel with debian's make-kpkg tool you will find that very convenient. 
&gt; 
&gt; Step 1:
&gt; 	Put
&gt; 	deb http://therapy.endorphin.org/kernel-patches/ ./
&gt; 	deb-src http://therapy.endorphin.org/kernel-patches/ ./
&gt; 	into your sources.list and "apt-get update".
&gt; 
&gt; Step 2:
&gt; 	Install kernel-patch-loop-hvr OR kernel-patch-loop-jari.
&gt; 	Install kernel-patch-cryptoapi.
&gt; 
&gt; Step 3:
&gt; 	Get your kernel source. Put
&gt; 	"patch_the_kernel = YES" into your /etc/kernel-pkg.conf
&gt; 	And proceed with:
&gt; 	"make-kpkg --added_patches=hvrloop,cryptoapi binary-arch" or
&gt; 	"make-kpkg --added_patches=jariloop,cryptoapi binary-arch"
&gt; 
&gt; Feedback is appreceated.
&gt; Clemens



-- 
http://www.certainkey.com
Suite 4560 CTTC
1125 Colonel By Dr.
Ottawa ON, K1S 5B6
C: 613.263.2983
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020705184735</emailId><senderName>Dale Amon</senderName><senderEmail>amon@vnl.com</senderEmail><timestampReceived>2002-07-05 18:47:35-0400</timestampReceived><subject>Re: Cryptoapi kernel-patch packages for debian</subject><body>

On Fri, Jul 05, 2002 at 02:04:31PM -0400, Jean-Luc Cooke wrote:
&gt; The goals we're all striving for:
&gt;   - make the cryptoapi installer part of standard distros (sans crypto)
&gt;   - assist where possible the users' compliance with law

Or perhaps warn them to be secretive and very, very careful if they are 
residents of a fascist country... It's the people who live in *those*
kinds of places who need it the most.

&gt;   - proliferate the use of strong crypto

The more the merrier!!

-- 
------------------------------------------------------
    Nuke bin Laden:           Dale Amon, CEO/MD
  improve the global          Islandone Society
     gene pool.               www.islandone.org
------------------------------------------------------
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020706103308</emailId><senderName>"Fruhwirth Clemens"</senderName><senderEmail>clemens-dated-1026383589.b333@endorphin.org</senderEmail><timestampReceived>2002-07-06 10:33:08-0400</timestampReceived><subject>Re: Cryptoapi kernel-patch packages for debian</subject><body>

On Fri, Jul 05, 2002 at 02:04:31PM -0400, Jean-Luc Cooke wrote:
&gt; A very simple (distro-Agnostic) patch installer is in the works now. 
&gt; Something akin to go-gnome.com's method.
&gt; 
&gt; Speaking of which, can I get everyone's input on known crypto restrictions
&gt; and recommendations so this installer can help people comply with the laws
&gt; in their locality.
&gt; 
&gt; Clemens, my suspicion that DEBs are better then RPMs is re-confirmed, good
&gt; work!  Once the kerneli.org/go script-rules are ready (with your gracious
&gt; input) could you wrap it into a DEB?

Sure, but I warn to start using different patch files for different
legislations. A simple solution to prevent the patch file maintainance mess
is to integrate the selection of legal ciphers/digests with the kernel
Config.in mechanism.  The go script would have to generate a source-able
file (i.e. /etc/kernel-site.cfg) with a content like

CONFIG_LEGAL_CIPHERS_STRONG=[y|n]
CONFIG_LEGAL_CIPHERS_WEAK=[y|n]
... and so on

This file would be "source"-ed by crypto's Config.in scripts, that select the
allowed options based on the defined symbols.

For deb packaging it'd be convienent to split the /etc/kernel-site.cfg
generating part off the rest of the go script, since the deb packages don't
need the rest of the patching mechanism.

&gt; The goals we're all striving for:
&gt;   - make the cryptoapi installer part of standard distros (sans crypto)

For the deb packages it'll be all or nothing ATM (in terms of source).

Regards, Clemens

[Attachment #3 (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020707021719</emailId><senderName>Jean-Luc Cooke</senderName><senderEmail>jlcooke@certainkey.com</senderEmail><timestampReceived>2002-07-07 02:17:19-0400</timestampReceived><subject>Re: Cryptoapi kernel-patch packages for debian</subject><body>

All this is being done right now...and the more I thought about ti
today...I'd much prefer having a:

  "make clean; make get_crypto; make menuconfig; make bzImage; make modules;"
               ^^^^^^^^^^^^^^^
               New kernel make command!

This command would hold nothing but a few shell commands, one being:
  lynx -source http://www.kerneli.org/go?&lt;kernelVersion&gt;/&lt;countryCode&gt; | sh

As I'm developing now (EXTREME ALPHA):
  http://jlcooke.ca/go

When was the last time linus/alen/marcelo added a new Makefile command? (I'm
serious, really!)

JLC

On Sat, Jul 06, 2002 at 12:33:08PM +0200, Fruhwirth Clemens wrote:
&gt; On Fri, Jul 05, 2002 at 02:04:31PM -0400, Jean-Luc Cooke wrote:
&gt; &gt; A very simple (distro-Agnostic) patch installer is in the works now. 
&gt; &gt; Something akin to go-gnome.com's method.
&gt; &gt; 
&gt; &gt; Speaking of which, can I get everyone's input on known crypto restrictions
&gt; &gt; and recommendations so this installer can help people comply with the laws
&gt; &gt; in their locality.
&gt; &gt; 
&gt; &gt; Clemens, my suspicion that DEBs are better then RPMs is re-confirmed, good
&gt; &gt; work!  Once the kerneli.org/go script-rules are ready (with your gracious
&gt; &gt; input) could you wrap it into a DEB?
&gt; 
&gt; Sure, but I warn to start using different patch files for different
&gt; legislations. A simple solution to prevent the patch file maintainance mess
&gt; is to integrate the selection of legal ciphers/digests with the kernel
&gt; Config.in mechanism.  The go script would have to generate a source-able
&gt; file (i.e. /etc/kernel-site.cfg) with a content like
&gt; 
&gt; CONFIG_LEGAL_CIPHERS_STRONG=[y|n]
&gt; CONFIG_LEGAL_CIPHERS_WEAK=[y|n]
&gt; ... and so on
&gt; 
&gt; This file would be "source"-ed by crypto's Config.in scripts, that select the
&gt; allowed options based on the defined symbols.
&gt; 
&gt; For deb packaging it'd be convienent to split the /etc/kernel-site.cfg
&gt; generating part off the rest of the go script, since the deb packages don't
&gt; need the rest of the patching mechanism.
&gt; 
&gt; &gt; The goals we're all striving for:
&gt; &gt;   - make the cryptoapi installer part of standard distros (sans crypto)
&gt; 
&gt; For the deb packages it'll be all or nothing ATM (in terms of source).
&gt; 
&gt; Regards, Clemens



-- 
http://www.certainkey.com
Suite 4560 CTTC
1125 Colonel By Dr.
Ottawa ON, K1S 5B6
C: 613.263.2983
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020707075004</emailId><senderName>David =?iso-8859-1?q?G=FCmbel?=</senderName><senderEmail>david.guembel@gmx.de</senderEmail><timestampReceived>2002-07-07 07:50:04-0400</timestampReceived><subject>Re: Cryptoapi kernel-patch packages for debian</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Sonntag, 7. Juli 2002 04:17:04, Jean-Luc Cooke wrote:
&gt;   "make clean; make get_crypto; make menuconfig; make bzImage; make
&gt; modules;" ^^^^^^^^^^^^^^^
&gt;                New kernel make command!
&gt;
&gt; This command would hold nothing but a few shell commands, one being:
&gt;   lynx -source http://www.kerneli.org/go?&lt;kernelVersion&gt;/&lt;countryCode&gt; | sh

I don't really believe that getting a) crypto stuff for b) the kernel by 
piping unencrypted content into a shell without prior verification could 
possibly provide additional security. Do you have plans to use digital 
signatures or something that might guarantee data integrity and verify that 
the downloaded content is really from the author it is supposed to be?




Regards,



David
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.7 (GNU/Linux)
Comment: http://david-guembel.de/webpgp.html

iD8DBQE9J/KscWkuqYXk/uwRAvqkAKCqyYPoC/IqaTEENrC3dqGU3sqi4wCfUSyC
pwsk7hOj1zGyy8LYbG0gM1g=
=GIPP
-----END PGP SIGNATURE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020707183505</emailId><senderName>Jean-Luc Cooke</senderName><senderEmail>jlcooke@certainkey.com</senderEmail><timestampReceived>2002-07-07 18:35:05-0400</timestampReceived><subject>Re: Cryptoapi kernel-patch packages for debian</subject><body>

Yes, if you look at the script, there are GPG signature performed.

example:
  http://jlcooke.ca/go?2.4.18/CA | less

Ideally, I'd rather have an SSL tunnel to the script...but that depends on
the server.

JLC

On Sun, Jul 07, 2002 at 09:50:04AM +0200, David Gümbel wrote:
&gt; -----BEGIN PGP SIGNED MESSAGE-----
&gt; Hash: SHA1
&gt; 
&gt; On Sonntag, 7. Juli 2002 04:17:04, Jean-Luc Cooke wrote:
&gt; &gt;   "make clean; make get_crypto; make menuconfig; make bzImage; make
&gt; &gt; modules;" ^^^^^^^^^^^^^^^
&gt; &gt;                New kernel make command!
&gt; &gt;
&gt; &gt; This command would hold nothing but a few shell commands, one being:
&gt; &gt;   lynx -source http://www.kerneli.org/go?&lt;kernelVersion&gt;/&lt;countryCode&gt; | sh
&gt; 
&gt; I don't really believe that getting a) crypto stuff for b) the kernel by 
&gt; piping unencrypted content into a shell without prior verification could 
&gt; possibly provide additional security. Do you have plans to use digital 
&gt; signatures or something that might guarantee data integrity and verify that 
&gt; the downloaded content is really from the author it is supposed to be?
&gt; 
&gt; 
&gt; 
&gt; 
&gt; Regards,
&gt; 
&gt; 
&gt; 
&gt; David
&gt; -----BEGIN PGP SIGNATURE-----
&gt; Version: GnuPG v1.0.7 (GNU/Linux)
&gt; Comment: http://david-guembel.de/webpgp.html
&gt; 
&gt; iD8DBQE9J/KscWkuqYXk/uwRAvqkAKCqyYPoC/IqaTEENrC3dqGU3sqi4wCfUSyC
&gt; pwsk7hOj1zGyy8LYbG0gM1g=
&gt; =GIPP
&gt; -----END PGP SIGNATURE-----

-- 
http://www.certainkey.com
Suite 4560 CTTC
1125 Colonel By Dr.
Ottawa ON, K1S 5B6
C: 613.263.2983
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020707225629</emailId><senderName>David =?iso-8859-1?q?G=FCmbel?=</senderName><senderEmail>david.guembel@gmx.de</senderEmail><timestampReceived>2002-07-07 22:56:29-0400</timestampReceived><subject>Re: Cryptoapi kernel-patch packages for debian</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Sunday 07 July 2002 20:35:20, Jean-Luc Cooke wrote:
&gt; Yes, if you look at the script, there are GPG signature performed.
&gt;
&gt; example:
&gt;   http://jlcooke.ca/go?2.4.18/CA | less
&gt;
&gt; Ideally, I'd rather have an SSL tunnel to the script...but that depends on
&gt; the server.

Yes, I see :) 

But there are still some things that come to my mind as far as security is 
concerned:

* Placing "KERNKEY=0x517D0F0E" inside the script downloaded from the web might
  be a potential security risk as this could quite easily be transparently 
  replaced by a different key id I have in my keyring (or that is available
  via the keyserver)[1]. I think this might be avoided by reading the key ID
  from a local file that has to be created by the user first (?)
* There is no check whether the key used for verification is trusted/has 
  been signed by the user. 
* The script is being piped directly from the web to a root shell. This looks
  dangerous to me, even with SSL in use, as long as the SSL certificate
  doesn't undergo verification. I currently can't find any option for
  lynx or w3m that does this, but it's very possible I'm just blind.

And there's one thing I stumbled across when reading the code - maybe you 
should start with a section like this:

TRUEBIN = `which true`
W3MBIN = `which w3m`
LYNXBIN = `which lynx`
etc., just as you did with the gpg binary.

All just IMHO, of course.



Greetings,




David


[1] which would require replacing the signatures as well, but that is possible
    either.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.7 (GNU/Linux)
Comment: http://david-guembel.de/webpgp.html

iD8DBQE9KMcdcWkuqYXk/uwRAorDAJ9AU2krpQC61Rg30BC1rDsZ7/78EgCgqzho
HNBRJJ0sFWTDfeFzfA/4hVs=
=2QuW
-----END PGP SIGNATURE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020708140024</emailId><senderName>Jean-Luc Cooke</senderName><senderEmail>jlcooke@certainkey.com</senderEmail><timestampReceived>2002-07-08 14:00:24-0400</timestampReceived><subject>Re: Cryptoapi kernel-patch packages for debian</subject><body>

Thanks David, input is wonderful!

On Mon, Jul 08, 2002 at 12:56:29AM +0200, David Gümbel wrote:
&gt; &gt; example:
&gt; &gt;   http://jlcooke.ca/go?2.4.18/CA | less
&gt; 
&gt; Yes, I see :) 
&gt; 
&gt; But there are still some things that come to my mind as far as security is 
&gt; concerned:
&gt; 
&gt; * Placing "KERNKEY=0x517D0F0E" inside the script downloaded from the web might
&gt;   be a potential security risk as this could quite easily be transparently 
&gt;   replaced by a different key id I have in my keyring (or that is available
&gt;   via the keyserver)[1]. I think this might be avoided by reading the key ID
&gt;   from a local file that has to be created by the user first (?)

go-gnome.com does something like this, so I'm not without precedent.  :)

I agree, an SSL (https vs http) URL fetch is preferred.  This has sent me down
a few interesting paths (jl's little secret for now).  Worse come to worse,
I'll buy a thwate cert for kerneli.org.

BTW, lynx and w3m both use libssl.so (openssl).  And openssl will disallow a
connection to an invalid host/cert pair, I don't think either are using this
feature...too bad.

The issue with GPG...well I have my own opinions about GPG with most people
will not like.  Can we assume if the SH script comes from a verified SSL tunnel,
that the contents can be trusted?

&gt; * There is no check whether the key used for verification is trusted/has 
&gt;   been signed by the user. 

If the user doesn't have the key yet, how can the user sign it for use?  Are
you suggesting we prompt the user?

&gt; * The script is being piped directly from the web to a root shell. This looks
&gt;   dangerous to me, even with SSL in use, as long as the SSL certificate
&gt;   doesn't undergo verification. I currently can't find any option for
&gt;   lynx or w3m that does this, but it's very possible I'm just blind.

Read above, re:verification of the SSL tunnel.

&gt; And there's one thing I stumbled across when reading the code - maybe you 
&gt; should start with a section like this:
&gt; 
&gt; TRUEBIN = `which true`
&gt; W3MBIN = `which w3m`
&gt; LYNXBIN = `which lynx`
&gt; etc., just as you did with the gpg binary.

Sounds good.

-- 
http://www.certainkey.com
Suite 4560 CTTC
1125 Colonel By Dr.
Ottawa ON, K1S 5B6
C: 613.263.2983
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020708200152</emailId><senderName>       Richard Zidlicky</senderName><senderEmail></senderEmail><timestampReceived>2002-07-08 20:01:52-0400</timestampReceived><subject>Re: Cryptoapi kernel-patch packages for debian</subject><body>

On Mon, Jul 08, 2002 at 10:00:24AM -0400, Jean-Luc Cooke wrote:
 
&gt; BTW, lynx and w3m both use libssl.so (openssl).  And openssl will disallow a
&gt; connection to an invalid host/cert pair, I don't think either are using this
&gt; feature...too bad.

see w3m options. Not that I had ever seriously tested this.

Richard
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020709154903</emailId><senderName>David =?iso-8859-1?q?G=FCmbel?=</senderName><senderEmail>david.guembel@gmx.de</senderEmail><timestampReceived>2002-07-09 15:49:03-0400</timestampReceived><subject>Re: Cryptoapi kernel-patch packages for debian</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Monday 08 July 2002 22:01:22, Richard Zidlicky wrote:
&gt; On Mon, Jul 08, 2002 at 10:00:24AM -0400, Jean-Luc Cooke wrote:
&gt; &gt; BTW, lynx and w3m both use libssl.so (openssl).  And openssl will
&gt; &gt; disallow a connection to an invalid host/cert pair, I don't think either
&gt; &gt; are using this feature...too bad.
&gt;
&gt; see w3m options. Not that I had ever seriously tested this.

Are you talking about compile options? I don't see anything at the command 
line that fits here.



David
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.7 (GNU/Linux)
Comment: http://david-guembel.de/webpgp.html

iD8DBQE9KwXvcWkuqYXk/uwRArS4AJ4vqJEvB5cEVT0diw5mP7u6vn6pCQCdH2+D
NadbzjDPGl/Z9t32T1qvbN0=
=xPlL
-----END PGP SIGNATURE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200207091549030</emailId><senderName>David =?iso-8859-1?q?G=FCmbel?=</senderName><senderEmail>david.guembel@gmx.de</senderEmail><timestampReceived>2002-07-09 15:49:03-0400</timestampReceived><subject>Re: Cryptoapi kernel-patch packages for debian</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Monday 08 July 2002 22:01:22, Richard Zidlicky wrote:
&gt; On Mon, Jul 08, 2002 at 10:00:24AM -0400, Jean-Luc Cooke wrote:
&gt; &gt; BTW, lynx and w3m both use libssl.so (openssl).  And openssl will
&gt; &gt; disallow a connection to an invalid host/cert pair, I don't think either
&gt; &gt; are using this feature...too bad.
&gt;
&gt; see w3m options. Not that I had ever seriously tested this.

Are you talking about compile options? I don't see anything at the command 
line that fits here.



David
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.7 (GNU/Linux)
Comment: http://david-guembel.de/webpgp.html

iD8DBQE9KwXvcWkuqYXk/uwRArS4AJ4vqJEvB5cEVT0diw5mP7u6vn6pCQCdH2+D
NadbzjDPGl/Z9t32T1qvbN0=
=xPlL
-----END PGP SIGNATURE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020709085228</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-07-09 08:52:28-0400</timestampReceived><subject>Re: questions about gen-cipher.h</subject><body>

On Tue, 2002-07-09 at 00:12, Michael Richardson wrote:
&gt; Can some explain why the constructs:
&gt; 
&gt; #define __xINIT_CIPHER_BLKOPS(name)    INIT_CIPHER_BLKOPS(name)
&gt; #define __xINIT_CIPHER_OPS(name)       INIT_CIPHER_OPS(name)
&gt; 
&gt; ...
&gt; 
&gt; #define __STR(x) # x
&gt; #define __xSTR(x) __STR(x)
&gt; 
&gt; #define __CAT(x,y) x ## y
&gt; #define __xCAT(x,y) __CAT(x,y)
&gt; 
&gt; Why have __xCAT(x,y) at all? Why not just call __CAT() directly?
&gt; Ditto for INIT_CIPHER_BLKOPS().

I'm glad you asked, since it's actually a quite interesting---but little
known---issue :-)

it has to do with cpp's behaviour, when the macro argument is used as an
operand of ## or # in the macro body;

usually when a macro call is encountered, it's arguments are
'prescanned' and macro-expanded if necessary; then the result is
substituted in the macro body; and after that another scan on the
expanded body is performed; thus scanning takes place twice;

but when arguments of the macro are used as operands to ## or # they are
not prescanned, but are taken literally, as they were passed to the
macro; 

some example; the fragments above are typically used by the following
macro:

#define CIPHER_SYMBOL(x) __xCAT(CIPHER_ID,x)

which in turn is used in the cipher implementations the following way
(it's just a simplified case; essentially this macro template stuff
allows to let the preprocessor "instantiate" some other symbols and
protoype-declarations (which all follow the same scheme) in a batch,
which would otherwise need to be typed out by hand...)

#define CIPHER_ID twofish

/* imagine the macro #defines written above to be in scope here */

/* the following simplified prototypes are #included from a gen(eric) c
header */
int CIPHER_SYMBOL(_encrypt) (...);
int CIPHER_SYMBOL(_decrypt) (...);
int CIPHER_SYMBOL(_setkey) (...);

the last 3 lines above would be expanded to

int twofish_encrypt (...);
int twofish_decrypt (...);
int twofish_setkey (...);

...hope I could make it clear a bit (in case it wasn't), why this is a
killer feature IMHO...

now back to the reason, why the construct above needs those additional
"x-layers":

imagine we had CIPHER_SYMBOL2 using __CAT directly, instead of __xCAT:

#define CIPHER_SYMBOL2(x) __CAT(CIPHER_ID,x)

then

int CIPHER_SYMBOL2(_encrypt) (...);

would evaluate to (pass by pass):

int CIPHER_SYMBOL2(_encrypt) (...);
int __CAT(CIPHER_ID,_encrypt) (...); /* prescan not used for ##'s
operands */
int CIPHER_ID ## _encrypt (...); /* post-scan doesn't change anything */
int CIPHER_ID_encrypt (...); /* since operands to ## are taken as is */

and now compare this to the x-version:

int CIPHER_SYMBOL(_encrypt) (...);
int __xCAT(CIPHER_ID,_encrypt) (...); /* prescanning takes place */
int __CAT(twofish,_encrypt) (...); /* pre-expanded args filled in, 2nd
scan doesn't change anything */
int twofish ## _encrypt (...); /* __CAT got expanded */
int twofish_encrypt (...); /* just what we wanted! */

well, guess that's already off-topic enough for now... :-)

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020702072423</emailId><senderName></senderName><senderEmail>hottie</senderEmail><timestampReceived>2002-07-02 07:24:23-0400</timestampReceived><subject>New Member Newsletter!</subject><body>

Hey,
   sick of those sites where you pay good money and don't get what you want ?
These sites are all free trials you only need a Credit Card for age verification! \
That means NO RISK if you dont like it simply stop using it!

There are a number of sites to choose from.
1. Clitty               -  http://www.clitty.com/ad.html?16A45

2. EbonyPearls   -  http://www.ebonypearls.com/ad.html?16A45

3. Faceload        -  http://www.faceload.com/ad.html?16A45

4. Gynoclinic       -  http://www.gynoclinic.com/ad.html?16A45

5. Lezbabes        -  http://www.lezbabes.com/ad.html?16A45

6. Pinkflix            -  http://www.pinkflix.com/ad.html?16A45

7. Pinkwet          -  http://www.pinkwet.com/ad.html?16A45

8. Pussy Japan   -  http://www.pussyjapan.com/ad.html?16A45

9. Teenfarm        -  http://www.teenfarm.com/ad.html?16A45

10. Teenisex       -  http://www.teenisex.com/ad.html?16A45

11. Teenshave   -  http://www.teenshave.com/ad.html?16A45

12. Spyhole        -  http://www.spyhole.com/ad.html?16A45

13. Xbitch           -  http://www.xbitch.com/ad.html?16A45

14. Xsluts            -  http://www.xsluts.com/ad.html?16A45

And for you Especialy dirty birds!

1. Sick anal        -  http://www.sickanal.com/ad.html?16A45

2. Sickoporn       -  http://www.sickoporn.com/ad.html?16A45

3. Sickoteen       -  http://www.sickoteen.com/ad.html?16A45

4. Teen-Anal       -  http://www.teen-anal.com/ad.html?16A45


Hope you found something you like!
To unsubscribe: Reply to this email with unsubscibe in the subject line.


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020703193715</emailId><senderName>"jarth34 () gcj ! net"</senderName><senderEmail>jarth34@gcj.net</senderEmail><timestampReceived>2002-07-03 19:37:15-0400</timestampReceived><subject>freewebgrafix.com</subject><body>

You can't beat FREE.

Public-domain photographs, clipart, animated, backgrounds, buttons &amp; more.

http://www.freewebgrafix.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020705123450</emailId><senderName>Michael Richardson</senderName><senderEmail>mcr@sandelman.ottawa.on.ca</senderEmail><timestampReceived>2002-07-05 12:34:50-0400</timestampReceived><subject>questions about Crypto API for disks</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----


  I am working on a revision to the crypto-API - specifically a lower-level 
access API that would permit asynchronous operations as well as combination
operations. Most is inspired from the work that Bart did last summer.
  We need this for IPsec.

  Sleeping is just not in for code that may get called from interrupts in 
some circumstances. It needs to have a callback. 
  Combination operations mean doing things like digest and encryption in
one pass. There is existing hardware that can do this.

  The IPsec aware hardware can often lookup the crypto context from the SPI#
and load it. 

  My questions are about the disk I/O work, and whether there might be any
benefit from any of these things to that.  

  Finally, many pieces of hardware offer diffie-hellman and RSA accelerators
as well. Does anyone have any thoughts on interfaces to these? In initial cases
this is used only by user space programs - a simple device driver may
suffice.  However, dealing with signed binaries and capabilities would
require kernel access as well.

]       ON HUMILITY: to err is human. To moo, bovine.           |  firewalls  [
]   Michael Richardson, Sandelman Software Works, Ottawa, ON    |net architect[
] mcr@sandelman.ottawa.on.ca http://www.sandelman.ottawa.on.ca/ |device driver[
] panic("Just another NetBSD/notebook using, kernel hacking, security guy");  [
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.7 (GNU/Linux)
Comment: Finger me for keys

iQCVAwUBPSWSaIqHRg3pndX9AQESAQP+Ksd7h9bZPzkE8O/KpLpa5lVk9cVxvWm4
ZTkRuNv2EToBCHhsNgPls/73aB8L2Spd3n0KkmmX7l0lt8puS7fy3NVnCEpn5b3f
utyo6wqGnnhHY6nSdm9nJDaDD4cv7IqkHOTs1R3mi2BguzjLxRXFa31+rUkUqqdh
PvjAcsoKtEA=
=Ju3O
-----END PGP SIGNATURE-----
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020705184359</emailId><senderName>Jean-Luc Cooke</senderName><senderEmail>jlcooke@certainkey.com</senderEmail><timestampReceived>2002-07-05 18:43:59-0400</timestampReceived><subject>(URL) Cryptoapi kernel-patch packages for debian</subject><body>

http://jlcooke.ca/go/countryInfo.php


-- 
http://www.certainkey.com
Suite 4560 CTTC
1125 Colonel By Dr.
Ottawa ON, K1S 5B6
C: 613.263.2983
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020705193418</emailId><senderName>Michael Richardson</senderName><senderEmail>mcr@sandelman.ottawa.on.ca</senderEmail><timestampReceived>2002-07-05 19:34:18-0400</timestampReceived><subject>regression tests of cipher file systems</subject><body>


  Is there any clear set of test cases that I should use when hacking
the code to confirm that the loopback FS still work?

]       ON HUMILITY: to err is human. To moo, bovine.           |  firewalls  [
]   Michael Richardson, Sandelman Software Works, Ottawa, ON    |net architect[
] mcr@sandelman.ottawa.on.ca http://www.sandelman.ottawa.on.ca/ |device driver[
] panic("Just another NetBSD/notebook using, kernel hacking, security guy");  [
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020706161127</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-07-06 16:11:27-0400</timestampReceived><subject>Re: How do you fsck a loop-aes filesystem?</subject><body>

Jean-Luc Cooke wrote:
&gt; # /bin/sync --help
&gt; Usage: sync [OPTION]
&gt; Force changed blocks to disk, update the super block.
&gt; 
&gt;   --help      display this help and exit
&gt;   --version   output version information and exit
&gt; 
&gt; Report bugs to &lt;bug-fileutils@gnu.org&gt;.

/bin/sync works above device drivers as it just sends dirty pages to device
drivers and waits for writes to complete. Loop is a device driver.

&gt; On Thu, Jul 04, 2002 at 06:07:43PM +0300, Jari Ruusu wrote:
&gt; &gt; Device backed loops signal writes as 'done' _after_ lower level driver has
&gt; &gt; signaled said writes as 'done', so device backed loops are journaling fs
&gt; &gt; safe.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200207090545330</emailId><senderName>Klaus Agnoletti</senderName><senderEmail>klaus@xenux.dk</senderEmail><timestampReceived>2002-07-09 05:45:33-0400</timestampReceived><subject>Resizing ext3 on a LVM with cryptoapi</subject><body>

Hi,
I installed LVM and cryptoapi on one harddrive with help from the list.
Everything went fine, but I need to resize the partition since I added
another drive to the LVM.

I tried doing this but I got an error saying that it can't find the
magic something of the partition (sorry I can't remember exactly -
stupid as I am, I didn't think of writing it down :P).

My question is - are there any limitations to using a ext3 partition
like this, compared to not using cryptoapi ? e.g. resizing ? or did I do
something wrong ?

Thanks in advance.

-- 
Med venlig hilsen / Regards

Klaus Agnoletti
Junior Geek Engineer

Xenux - The Linux People
Bredgade 35A, 2.
1260 København K
Tel: +45 3315 8202
Fax: +45 3332 1832
http://www.xenux.dk

'vi is to EMACS as masturbation is to making love:  
effective and always available but probably not your first choice.'

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020709170448</emailId><senderName>Michael Richardson</senderName><senderEmail>mcr@sandelman.ottawa.on.ca</senderEmail><timestampReceived>2002-07-09 17:04:48-0400</timestampReceived><subject>Re: questions about gen-cipher.h</subject><body>


  Yeah, that's a good reason. I've run into the same thing before.
I think that this probably in a FAQ somewhere...
  A note in the code would help.

]       ON HUMILITY: to err is human. To moo, bovine.           |  firewalls  [
]   Michael Richardson, Sandelman Software Works, Ottawa, ON    |net architect[
] mcr@sandelman.ottawa.on.ca http://www.sandelman.ottawa.on.ca/ |device driver[
] panic("Just another NetBSD/notebook using, kernel hacking, security guy");  [
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020709172754</emailId><senderName></senderName><senderEmail>nicolescholiz1@web.de</senderEmail><timestampReceived>2002-07-09 17:27:54-0400</timestampReceived><subject>RE: Pictausch??</subject><body>


ach Mist jetzt hab ich doch glatt vergessen die Adresse mit zu schicken sorry hier \
ist sie: http://funchat.rox.to na gut kannste dir ja mal anschauen sehen uns dann \
evtl wieder im Chat ok ? So muß jetzt zur Arbeit bis dann


 TINA
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020709204102</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-07-09 20:41:02-0400</timestampReceived><subject>Re: losetup patches for cryptoapi.</subject><body>

On Tue, 2002-07-09 at 22:21, Michael Richardson wrote:
&gt; where have these patches gone? I seem to have everything I need in my
&gt; woody /sbin/losetup, but I want to be build them from scratch.
well, that's because debian includes already an (ancient) variant of the
patches...
 
&gt; The HOWTO says that they would get copied to
&gt; /usr/src/linux/Documentation/crypto, but that isn't the case for me.
the HOWTO you have seems to be out-of-date;
you can find the latest util-linux patches in

http://www.kernel.org/pub/linux/kernel/people/hvr/util-linux-patch-int/

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020710095120</emailId><senderName>       Richard Zidlicky</senderName><senderEmail></senderEmail><timestampReceived>2002-07-10 09:51:20-0400</timestampReceived><subject>Re: Cryptoapi kernel-patch packages for debian</subject><body>

On Tue, Jul 09, 2002 at 05:49:03PM +0200, David Gümbel wrote:
&gt; -----BEGIN PGP SIGNED MESSAGE-----
&gt; Hash: SHA1
&gt; 
&gt; On Monday 08 July 2002 22:01:22, Richard Zidlicky wrote:
&gt; &gt; On Mon, Jul 08, 2002 at 10:00:24AM -0400, Jean-Luc Cooke wrote:
&gt; &gt; &gt; BTW, lynx and w3m both use libssl.so (openssl).  And openssl will
&gt; &gt; &gt; disallow a connection to an invalid host/cert pair, I don't think either
&gt; &gt; &gt; are using this feature...too bad.
&gt; &gt;
&gt; &gt; see w3m options. Not that I had ever seriously tested this.
&gt; 
&gt; Are you talking about compile options? I don't see anything at the command 
&gt; line that fits here.

no, those that appear when you hit 'o' inside w3m or use the popup
menu entry.

Richard
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020711214551</emailId><senderName>Michel Bouissou</senderName><senderEmail>michel@bouissou.net</senderEmail><timestampReceived>2002-07-11 21:45:51-0400</timestampReceived><subject>Re: Scramdisk for Linux!</subject><body>

Le Jeudi 11 Juillet 2002 13:43, Sam Simpson a écrit :
&gt; Hi all,

Hi Sam,

Nice to see you here :-)

-- 
Michel Bouissou &lt;michel@bouissou.net&gt; OpenPGP ID 0x5C2BEE8F
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020714022932</emailId><senderName>"jarph3 () core ! com"</senderName><senderEmail>jarph3@core.com</senderEmail><timestampReceived>2002-07-14 02:29:32-0400</timestampReceived><subject>I want to share with you what I found</subject><body>

My brother asked me to design a web page for his band Tainted Emotions. At
first, his site was nothing more than a few paragraphs describing his
unique psychotic 
melodies. Although a good start, mere words failed to convey the complete
Tainted Emotions experience. For that, I needed graphics. Not just any
graphics though. 
Fast, sleek, and professional images that only my brother's band deserves.

I found all the free public domain photos I needed at freewebgrafix.com. 
They had everything an aspiring graphics designer needs to transform a
texty site into a 
graphic sensation. Animated GIFs, backgrounds, banners, and of
course--photos. 

http://www.freewebgrafix.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020714130601</emailId><senderName>Stephen Mollett</senderName><senderEmail>molletts@yahoo.com</senderEmail><timestampReceived>2002-07-14 13:06:01-0400</timestampReceived><subject>Re: resize crypted partition</subject><body>

Hi,

On Friday 12 Jul 2002 21:31, Christoph Kaminski wrote:
&gt; (Sorry for my English but I hope you can understand what I mean)

Viel besser als mein deutsch! :-)

&gt; How can I make this encrypted partition smaller ? (I have created it
&gt; with SUSE 8.0 Yast , it's a blow_fish encrypted partition on Ext3)
&gt; Can I do it with GNU Parted ?

I'm assuming it's set up something like:

hda -&gt; hda1 -&gt; cryptoloop -&gt; ext3

ie. the whole of hda1 is encrypted (device-backed loop), rather than having a 
filesystem on hda1 holding an encrypted file containing a filesystem 
(file-backed loop).

You probably can do it with Parted. I've never used it, though, so I'm only 
guessing.

Obviously, back up anything important before starting to mess around with the 
partition.

You'll need to resize the ext3 filesystem in the loop device first. losetup 
the device, but don't mount it. Then use resize2fs on the loop device to 
reduce the size as required. (You might want to use fdisk or parted or 
whatever to find out the correct size to aim for - reduce the partition's 
size and see what it says the size will be, then exit _without_ saving the 
changes.) After resizing the FS, losetup -d the loop device. Then adjust the 
partition's size and create the swap partition. Then you just need to run 
mkswap and add the swap partition to fstab.

I hope this has been some help to you...

Regards,
Stephen
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020714161608</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-07-14 16:16:08-0400</timestampReceived><subject>Re: What I want to do -doable ?</subject><body>

John Green wrote:
&gt; &gt;echo "Pd1eXapMJk0XAJnNSIzE" | losetup -p 0 -e AES128 /dev/loop6 /dev/hda666
&gt; &gt;echo "D0aZNSNnu6FdAph+zrHt" | losetup -p 0 -e AES128 /dev/loop4 /dev/hdd666
&gt; 
&gt; If using bash on Linux, I would want to set
&gt; 
&gt; export HISTFILE=""
&gt; 
&gt; first, so as not to leave a record of the passwords.
&gt; Even better, put a similar line in .bashrc.

Only interactive bash shell records commands to HISTFILE, scripts do not.
Even if bash were to record commands in a script, it would have no place to
save them, because above script is run early in init scripts, before any
filesystems are mounted read-write, and before any swap is enabled.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020717015457</emailId><senderName>"50FreeLeads"</senderName><senderEmail>h14609@netzero.net</senderEmail><timestampReceived>2002-07-17 01:54:57-0400</timestampReceived><subject>Free 50 Opportunity Leads</subject><body>

FREE LEADS!  Special Offer to MLM-Network Marketers.

Get 50 business opportunity seeker leads. No purchase necessary.

First come first serve.

Click the following to send us a request:
mailto:free50leads@profitresponder.com?subject=send-more-info




Removal Instruction
===============
If this message reached you by errors, we apologize for the
inconvenience. Please click the following to send us a blank
message to have your email address removed from our list.
mailto:h14609@netzero.net?subject=REMOVE


</body></email><email><emailId>20020717094559</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-07-17 09:45:59-0400</timestampReceived><subject>Re: GnuPG-key,loopAES encrypted root partition</subject><body>

Resending my yesterday's reply to Robert, because it didn't reach
linux-crypto list. Not sure why that happened, but my reply had large
attachments. This time with links to code instead of attachments.

Jari Ruusu wrote:
&gt; OK, I didn't update README and man pages, but instead I modified
&gt; build-initrd.sh to work with GnuPG-key encrypted root partition. Just set
&gt; USEGPGKEY=1 in the configuration, and it should work now. I tested it in
&gt; both symmetric encrypted, and public/private key encrypted modes.
&gt; 
&gt; Small change to losetup source code was also necessary, so new loop-AES
&gt; util-linux patches (against util-linux-2.11t) are also attached. GnuPG-key
&gt; encrypted root won't work with older losetup programs.

http://loop-aes.sourceforge.net/updates/2002-07-17/build-initrd.sh.bz2
http://loop-aes.sourceforge.net/updates/2002-07-17/build-initrd.sh.bz2.sign
http://loop-aes.sourceforge.net/updates/2002-07-17/util-linux-2.11t-1.diff.bz2
http://loop-aes.sourceforge.net/updates/2002-07-17/util-linux-2.11t-1.diff.bz2.sign
http://loop-aes.sourceforge.net/updates/2002-07-17/util-linux-2.11t-2.diff.bz2
http://loop-aes.sourceforge.net/updates/2002-07-17/util-linux-2.11t-2.diff.bz2.sign

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020717212353</emailId><senderName>"Fruhwirth Clemens"</senderName><senderEmail>clemens-dated-1027373034.db61@endorphin.org</senderEmail><timestampReceived>2002-07-17 21:23:53-0400</timestampReceived><subject>Re: cryptoloop race with vmware</subject><body>

On Wed, Jul 17, 2002 at 01:55:52AM +0200, Fruhwirth Clemens wrote:

&gt; for a few days i'm trying to catch a race condition which is apparently
&gt; existing within cryptoloop.=20

with the keen assistance of hvr and kyle i can give advice to the vmware
users out there that enjoy a stable setup on a cryptoloop device:

- use loop-jari instead of loop-hvr to patch loop.c. it will prevent total
  lockups, when vmware is involved in bulk transfers.
- get the latest CVS cipher-aes.c, it's quite faster and will make your box
  not unresponsive that long if you're suspending your virtual machine.

further i've tried loop-AES and found out the performance is much better on
that issue, most likely because of the asm optimized aes-cipher.

regards, clemens

[Attachment #3 (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020717222411</emailId><senderName>"joe"</senderName><senderEmail>jcecil39@yahoo.com</senderEmail><timestampReceived>2002-07-17 22:24:11-0400</timestampReceived><subject>HOT BUISNESS OPPORTUNITY WANT TO MAKE MONEY?</subject><body>

WANT TO MAKE MONEY?
 
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
 
HOT BUSINESS OPPERTUNITY AVAILABLE
fOR THOSE WHO QUALIFY...
 
1.  MUST BE A UNITED STATES RESIDENT
 
2.  MUST BE 21 YEARS OF AGE OR OVER.
 
YOU WILL SHARE IN DIALYSIS CENTERS OF AMERICA
LATEST CASH INCOME STREAM.
 
EARN OVER 30% RETURN ON YOUR MONEY!
INTEREST PAID ANNUALLY!
COMPLETELY LEGAL.
 
TO FIND OUT ALL THE HOW'S AND WHY'S,
REPLY TODAY WITH YOUR NAME, STATE AND COMPLETE PHONE 
NUMBER.  DETAILS WILL SOON FOLLOW!

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200207191908300</emailId><senderName>Michael Richardson</senderName><senderEmail>mcr@sandelman.ottawa.on.ca</senderEmail><timestampReceived>2002-07-19 19:08:30-0400</timestampReceived><subject>some comments on Linux CryptoAPI - this "atomic" cipher business</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----


  I have been looking at CryptoAPI with the view towards using the CryptoAPI
routines in FreeSWAN 3.X rather than our own.  (see http://www.kerneli.org for
those on the CC and BCC lists. I know that there are certain other
organizations that are supposed to be developing similar APIs, feel free to
forward to those organizations)

  We have several requirements that we must meet:
   1) ability to use multiple processors (SMP support)
   2) ability to use hardware acceleration
   3) ability to seperately account for time spent on crypto vs other
      networking.

  Note that the FreeSWAN decrypt code is usually invoked from net_rx_action(), and
this will typically be single-threaded. (note that there is nothing in
net_rx_action to force this [i.e. a lock], but the network bottom half is
kicked from the interrupt handlers to occur on the same CPU as the interrupt,
so unless interrupts ping-pong, networking code tends to stick to a single
CPU).
  Encrypt code is typically invoked from net_tx_action().

  So, for software implemented ciphers, we want to stick all packets that
must be encrypted into a queue and process them in a seperate kernel thread,
with a callback at the end. If there is in fact hardware involved, then this
just turns into queueing the packet to the hardware, and kicking a crypto_bh
to invoke the callback when the completion interrupt occurs.

  Looking at CryptoAPI is a bit hampered by the fact that I'm not entirely
clear how a piece of hardware is supposed to interface. Yes, it needs to
provide encrypt/decrypt routines directly rather than relying on the
_encrypt/_decrypt simplification. 

  I guess that it should sleep if required inside, except if atomic is set,
then one must fall back to using software. I had assumed that this might
be necessary when doing, for instance, cryptoswap.  Many have talked about
lifting this API up and putting a lower-level API underneath. That's what I'm
here to do.

  Looking at the cryptoloop.c file, I don't even see the ATOMIC stuff enabled
by default. So, why all the bother?

  In the case of FreeSWAN with hardware, we do *not* want to sleep. We want a
callback. I am looking at doing this.

  Some more comments:

Naming of ciphers
=================

  I think that there should be a hierarchy of names with longest matching
wins. Transforms should provide relative weights for binding to the less
specific names.

  Specifically:
	aes-cbc
	aes-cbc/software	(or aes/atomic if you prefer)
	aes-cbc/hardware
	aes-cbc/hardware/hifn/pci/01/00/0		[PCI bus/device/function]
	aes-cbc/hardware/chrysalis/pci/04/06/0
	aes-cbc/hardware/broadcom/csix/5/7/8	[to make something up]

  This permits one to VERY specifically attach to the implementation that one
wants, while still permitting "aes-cbc" to get something useful. This all
would occur at registration and lookup of cipher_implementation time.

Hardware vendors
================

  Who is left, btw?
  Chrysalis is out of the cipher chip business, AFAIK.

  Intel's board has basically gone closed source. Ditto for 3COMs. Neither
was a general purpose crypto board, but did un-auditable IPsec. (You never
get a chance to see the output packets to confirm that they were in fact
encrypted with the right key, that the key didn't leak, etc..)

  That leaves Broadcom and HiFn that I know of.
  Are there others? Any of non-US origin?

  I'm still looking for data sheets on no-NDA,public-domain required data
sheets that could be used as a basis for an non-USA origin open source
driver. This doesn't have to be for the latest 10Gb/s SPI4.2 CSIX 2 capable
product - 100Mb/s half-duplex boards are still useful to get the APIs right.

The digest/cipher split
=======================

I see that the transform_implementation is subclassed to be
digest_implementation and cipher_implementation. I have some problems with
this. Many pieces of hardware can do both at the same time, and can even do
some of the IPsec ESP checking along the way. 

Further, there is compression. Compresion is basically identical to
cryptography. (There is ongoing research on doing both at the same as well. A
fellow now at Nortel may have succeeded from what I hear) Of course hardware
can do all of these things too.

So, I propose that all operations are essentially "encode"/"decode". A
straight digest only ever does "encode". The digest routines follow the
original MD5 libraries with open/update/etc. right there. It isn't clear to
me that this is really a useful interface for a lot of applications, and it
certainly can not be replaced by hardware.

The operation queue
===================

I would propose that all fucntions take a "struct transform_command *" as
an argument, defined essentially like this:

struct transform_command {
  struct list_head           tc_cmdqueue;
  struct cipher_context     *tc_context;
  transform_unit_callback    tc_callback;
  cipher_usercontext         tc_user;    /* whatever the user callback wants */
  unsigned int               tc_flags;
  const u8                   tc_iv[MAX_IV_SIZE];
  const u8                  *tc_in;  
  u8                        *tc_out;     /* if NULL, use cc_in */
  u8                        *tc_mac;     /* must point to space of tc_macsize */
  size_t                     tc_insize;  /* size of input buffer */
  size_t                     tc_outsize; /* size of output buffer */
  size_t                     tc_macsize; /* size of MAC output buffer */
  size_t                     tc_resultsize;  /* amount of output buffer used */
};

#define TC_FLAGS_GENERATE_IV   (1&lt;&lt;0)    /* if set, then IV must be generated */

Unfortunately, this is too big. It is 52 bytes + MAX_IV_SIZE. 

Making all of the sizes 16 bit integers, and putting the IV outline (a
pointer) would get us down to 44 bytes.  

To be memory efficient, we need to fit this into the 48 bytes in the skb-&gt;cb,
which avoids having to allocate another control structure for each
packet. The result is therefore:

struct transform_command {
  struct list_head           tc_cmdqueue;
  struct cipher_context     *tc_context;
  transform_unit_callback    tc_callback;
  cipher_usercontext         tc_user;    /* whatever the user callback wants */
  unsigned int               tc_flags;
  const u8                  *tc_iv;
  const u8                  *tc_in;  
  const u8                  *tc_out;  
  u8                        *tc_mac;     /* must point to space of tc_macsize */
  u16                        tc_insize;  /* size of input buffer */
  union {
    u16	                     tc_buffersize;    /* size of output buffer */
    u16                      tc_resultsize; /* number of bytes in output */
  } tc_output;			    
};

yes, it is necessary to provide outsize as well as insize somehow.
De-Compression could expand the output, and it must bounds check the
output. We re-use the tc_outsize as the tc_resultsize. The tc_macsize
is also dropped, as I believe that the MAC result will always be the same for
a given digest. 

Note that the operation is implied by the cipher_context now, or we can steal
some bits from tc_flags for it.

Compression
===========

I am hoping that this interface will also permit application to compression
algorithms. There are a number of copies of libz already in the
kernel. Getting the framework in for compression is very valuable.

Name of project
===============

The project should be renamed "dataxform" or "compressapi", since the libz 
replacement stuff could be mainlined.

]       ON HUMILITY: to err is human. To moo, bovine.           |  firewalls  [
]   Michael Richardson, Sandelman Software Works, Ottawa, ON    |net architect[
] mcr@sandelman.ottawa.on.ca http://www.sandelman.ottawa.on.ca/ |device driver[
] panic("Just another NetBSD/notebook using, kernel hacking, security guy");  [




  

  
    
   
	
  
-----BEGIN PGP SIGNATURE-----
Version: 2.6.3ia
Charset: latin1
Comment: Finger me for keys

iQCVAwUBPSocfIqHRg3pndX9AQEuvwP+JpIOj24SaES5Nd5ZgNpXmlP3aSPtBP/u
5og1eHEyYl+kh339UMs6D2QWvspzPiyACdBa9YnRaNtDdiMj0jJaNaYeIHnvUwH3
GulQSgJWPqZxkq/LIsRv6hbMik0bnbQ2h+5sEfzNPRRiYLXIdmCXbVwEFYvIujMB
qhCBPOrcJuk=
=kuT6
-----END PGP SIGNATURE-----
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020724025548</emailId><senderName>UK Prank Calls</senderName><senderEmail>usprankservice@blueyonder.co.uk</senderEmail><timestampReceived>2002-07-24 02:55:48-0400</timestampReceived><subject>Hilarious Prank Call Service</subject><body>

Please visit http://ukprankcalls.com to play a hilarious joke on your mates!
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020724041018</emailId><senderName></senderName><senderEmail>sale-offer</senderEmail><timestampReceived>2002-07-24 04:10:18-0400</timestampReceived><subject>Your Free Domain Name</subject><body>

Saving $$$ for your domain name and web site?

1. Only US$0.16 a day!!
2. Free Email management and Web statistics tools.
3. More than 5 years web hosting and web design experience.

More Information at Website: www.power-domain.com
----------------------------------------------------------------------
For only US$59.95/year, you can get:

* 1 Year Domain Free
* 50MB Disk Space
* 10 POP3 Email Accounts
* 3GB Data Traffic/month
* Email Forwarding
* Email Manager
* $0 Setup Fee
* 24 hours FTP
* Frontpage 2002
* PHP
* CGI
* Web Statistic
----------------------------------------------------------------------
If you have received this message in error, please reply to this email
with a word "unsubscribe" in the subject line.
----------------------------------------------------------------------
Copyright c 2002 Power-domain.com. All rights reserved.

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020724214434</emailId><senderName>crdslinux4oems</senderName><senderEmail>ryulinux4oems@sixnet-io.com</senderEmail><timestampReceived>2002-07-24 21:44:34-0400</timestampReceived><subject>ISA Article on Embedded Real-Time Linux Automation Applications                            . vpclu</subject><body>

Industrial LINUX News: 

The June issue of the ISA's InTech Magazine has an interesting article on how truly \
open Linux applications can lower development cost and increase the performance and \
reliability of industrial automation. 

A copy of the the article can be found at:  \
http://www.sixnet-io.com/html_files/web_articles/linux_article_info.htm


This Linux news update brought to you by:  www.Linux4oems.info 



------------------------------------------------------------------------------



If you don't want to receive future Linux news updates, please reply to this e-mail \
with the subject "unsubscribe".  You may also unsubscribe or resolve subscription \
difficulties by calling SIXNET at 518-877-5173 or e-mailing:  linuxnews@sixnet-io.com










.

vwuqsunmhxcttlfgeaibbbemcuywvwh
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020725154756</emailId><senderName>Michael Richardson</senderName><senderEmail>mcr@sandelman.ottawa.on.ca</senderEmail><timestampReceived>2002-07-25 15:47:56-0400</timestampReceived><subject>Re: [Design] some comments on Linux CryptoAPI - this "atomic" cipher business</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----


{my appologies if I already sent this}

&gt;&gt;&gt;&gt;&gt; "Martin" == Martin Gadbois &lt;martin.gadbois@colubris.com&gt; writes:
    Martin&gt; If, like FreeS/WAN now, you want to replace crypto operations to use
    Martin&gt; hardware but FreeS/WAN cannot wait while the hardware encrypts the
    Martin&gt; packet, what do you do? What I did first is I replaced
    Martin&gt; des_ede3_cbc_encrypt() with the one that does hardware, and wait for it
    Martin&gt; to complete. YOu win, because time(HW) &lt; time(SW).

  Yes, but is it clear that we want to fix it so that FreeSWAN does not
require this?

    Martin&gt; This is a drop-in replacement for existing applications that uses
    Martin&gt; functions like des_ede3_cbc_encrypt(). Those application will benefits
    Martin&gt; immedialtly from hardware acceleration.

  For applications that still have to have a function calling sequence for
crypto, hash and compression operations, then the high-level cryptoAPI
functions should be appropriate.

  My plan here is to:
     1) bring up loop-cryptoAPI under UML, add this to our regression tests.
	(Yes, FreeSWAN will test loopback file system crypto every night)

     2) add the necessary 'setup' functions to cryptoAPI to ask for names
	of functions properly.

     3) have KLIPS initially call the high-level CryptoAPI functions

     4) introduce the low-level functions, with KLIPS as the test
	application, always running the loopback file system crypto tests.

     5) get some hardware + drivers and beat them into submission.
	
    Martin&gt; hardware (or
    Martin&gt; |     Martin&gt; software) to execute the request, according to specified
    Martin&gt; |     Martin&gt; limitations.
    Martin&gt; |
    Martin&gt; |   Sure, but users have to have a way to override things.

    Martin&gt; Ok. "aes-cbc/hardware" would do that.

  That's my idea.

    Martin&gt; |   My feeling is that one opens the "esp/3DES/HMAC-MD5" cipher if one
    Martin&gt; wants it
    Martin&gt; | done in one operation and ESP knows this stuff.

    Martin&gt; Isn't that complicating the "Naming of ciphers"?

  Yes, it needs to be named "esp/3DES-hmac-md5 or some such. There are
combinatorial issues here. Suggestions?

    Martin&gt; In the FreeS/WAN hardware acceleration patch
    Martin&gt; (http://sources.colubris.comg) I use a structure for the request, and a
  
  I should review your patches again.

    Martin&gt; list of transform (algorithm, offset, len) to do on the request. I
    Martin&gt; though that is what you meant with the tc_cmdqueue member.

  tc_cmdqueue is the prev/next pointers for the queue on which this work item
sits.  The calling application can queue many packets towards the crypto
system.

  I thought hard about whether to have a per-command callback, or a
per-cipher_context callback. I know that each packet will need per-packet
info. The callback is likely to be called from the hardware interrupt
context, although in the case of software crypto with no SMP, there will be
no context switches at all.

  In many cases, I would expect the callback to simply enqueue the packet
onto a queue back to the caller, i.e. KLIPS.

  There are some accounting issues:
	1) should software crypto be done in the net_bh context? 
	   For SMP, one could simply permit the multi-threading of the
	   network bottom half to take care of moving the crypto to multiple
	   processors.
	
	2) instead, we could create a "crypto bottom half" to do software
	   crypto. I would actually like this to show up as a kernel thread
	   in the process table - this lets people know precisely how much
	   CPU is used by crypto. Spawn one per CPU.

	   This works well for SMP, but on UPs it seems wasteful to pay the
	   context switching overhead.  Do we do anything when running an SMP
	   kernel on a UP? I don't think so.

	   Hardware is then just another thread that happens to have a
	   dedicated "processor"

	3) there will have to be a KLIPS thread to "receive" the encrypted
	   packets. Should this interact with the network bottom half
	   somehow?  Note that packets that 
	
	
    Martin&gt; VPN keys
    Martin&gt; | stay in the hardware, while RW or OE get LRU). I would think that perhaps
    Martin&gt; | this stuff goes into to initialization code for creating the
    Martin&gt; cipher_context
    Martin&gt; | ("open_session" as you call it).

    Martin&gt; Possibly, but in any case, software need to oversee the hardware key
    Martin&gt; management.

  Are we agreed that this goes into the open_xform_context() and that this
portion will need to work, probably some revision after the first try.

    Martin&gt; The FreeS/WAN acceleration patch does not use H/W keys, as our
    Martin&gt; application does not have extra memory to store keys.

  I don't quite understand that.
  You that your hardware doesn't have the keys? You prefix them inline to
each packet then?

]    Internet Security. Have encryption, will travel           |1 Fish/2 Fish [
]  Michael Richardson, Sandelman Software Works, Ottawa, ON    |Red F./Blow F [
]mcr@sandelman.ottawa.on.ca http://www.sandelman.ottawa.on.ca/ |strong crypto [
]    At the far end of some dark fiber - wait that's dirt!     |for everyone  [

-----BEGIN PGP SIGNATURE-----
Version: 2.6.3ia
Charset: latin1
Comment: Finger me for keys

iQCVAwUBPUAdp4qHRg3pndX9AQHtCwQAijm4sKA/OTtW/OZhXnZltOuBNurN/A/D
/0RXd66Inr7omLUqN9x1DhZc7mGoWMQW5p9aP9j5IMz/vOnWYYPIDNqMMZfIoqEO
uMQBbDAiYHukbPtkxAig3Y0P1xZX1kbqMaz/+0lsl7apGhFOyBLbrKclrYiVNg2/
x/eh2AidzHY=
=Bg3X
-----END PGP SIGNATURE-----
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020725202440</emailId><senderName>Martin Gadbois</senderName><senderEmail>martin.gadbois@colubris.com</senderEmail><timestampReceived>2002-07-25 20:24:40-0400</timestampReceived><subject>Re: [Design] some comments on Linux CryptoAPI - this "atomic" cipher</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Michael Richardson wrote:
|     Martin&gt; If, like FreeS/WAN now, you want to replace crypto operations to use
|     Martin&gt; hardware but FreeS/WAN cannot wait while the hardware encrypts the
|     Martin&gt; packet, what do you do? What I did first is I replaced
|     Martin&gt; des_ede3_cbc_encrypt() with the one that does hardware, and wait for it
|     Martin&gt; to complete. YOu win, because time(HW) &lt; time(SW).
|
|   Yes, but is it clear that we want to fix it so that FreeSWAN does not
| require this?

Yes, yes... I'm talking general use.


|   Yes, it needs to be named "esp/3DES-hmac-md5 or some such. There are
| combinatorial issues here. Suggestions?

You either need to be explicit (like I do in H/W accel. patch) or implicit. Explicit is no problems,
as the user specifies the series of operation to do on packet.
For implicit, you might need a general action: "encrypt", "decrypt", "mac", "hmac", "esp".
This action would be followed by the algorithm(s) to use, then the provider type ("hardware"/"software")

Example: "esp/3DES-MD5/hardware", "encrypt/aes-cbc-128"
The problem with strings is parsing it... you might be better off with a stricter approach (several
strings, or a struct)


|
|     Martin&gt; In the FreeS/WAN hardware acceleration patch
|     Martin&gt; (http://sources.colubris.comg) I use a structure for the request, and a
|
|   I should review your patches again.

Look at the header file if_crypto.h.



|
|   I thought hard about whether to have a per-command callback, or a
| per-cipher_context callback. I know that each packet will need per-packet
| info. The callback is likely to be called from the hardware interrupt
| context, although in the case of software crypto with no SMP, there will be
| no context switches at all.
|
|   In many cases, I would expect the callback to simply enqueue the packet
| onto a queue back to the caller, i.e. KLIPS.

Why queue "back to the caller"? When crypto opreration is done, let's send the packet right away! I
always see a packet like a hot potato: it needs to get off my hands ASAP!

|
|   There are some accounting issues:
| 	1) should software crypto be done in the net_bh context?
| 	   For SMP, one could simply permit the multi-threading of the
| 	   network bottom half to take care of moving the crypto to multiple
| 	   processors.

That is what is done in FreeSWAN right now, no? I see no need to change that, unless you want to
increase latency!! :-)


| 	
| 	2) instead, we could create a "crypto bottom half" to do software
| 	   crypto. I would actually like this to show up as a kernel thread
| 	   in the process table - this lets people know precisely how much
| 	   CPU is used by crypto. Spawn one per CPU.
|
| 	   This works well for SMP, but on UPs it seems wasteful to pay the
| 	   context switching overhead.  Do we do anything when running an SMP
| 	   kernel on a UP? I don't think so.
|
| 	   Hardware is then just another thread that happens to have a
| 	   dedicated "processor"

The same logic applies for a dedicated H/W processor if you need a context switch to a kernel thread
to process a packet. You don't need the context switch latency to be added to the packet's.


|
| 	3) there will have to be a KLIPS thread to "receive" the encrypted
| 	   packets. Should this interact with the network bottom half
| 	   somehow?  Note that packets that

I would suggest NOT to use kernel threads at all. Do everything in tasklet or bottom handler.

|     Martin&gt; Possibly, but in any case, software need to oversee the hardware key
|     Martin&gt; management.
|
|   Are we agreed that this goes into the open_xform_context() and that this
| portion will need to work, probably some revision after the first try.

As long as we plan for it from now on...

|
|     Martin&gt; The FreeS/WAN acceleration patch does not use H/W keys, as our
|     Martin&gt; application does not have extra memory to store keys.
|
|   I don't quite understand that.
|   You that your hardware doesn't have the keys? You prefix them inline to
| each packet then?

Right.
The reason is that my board does not have separate memory to hold keys in. So with every packet, I
attach a pointer to the key. That key is passed to the H/W with each packet.
Some other H/W chip uses DMA and the main host memory to get the key. Others keep the keys in their
own "safe" memory, to be FIPS compliant.


- --
==============
Martin Gadbois
S/W Developper
Colubris Networks Inc.

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.4 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iEYEARECAAYFAj1AXogACgkQ9Y3/iTTCEDnCbACfetNiofB/7eI21RdAWuqBDGv1
VMQAnAyyRbEd1F/8suh7vX3dXhJ2syjH
=H1o9
-----END PGP SIGNATURE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020726155757</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-07-26 15:57:57-0400</timestampReceived><subject>Re: CD-ROM Encryption on-the-fly ?</subject><body>

Reos Zgium wrote:
&gt; Wouldn't it be possible to write a small piece of code, which encrypts
&gt; stdin-&gt;stdout. This would compact the example above into one line like this:
&gt; 
&gt; mkisofs -xyz /home/backup | encrypt-on-the-fly &gt; /tmp/cryptfile
&gt; 
&gt; or even burn it on the fly.
&gt; mkisofs -xyz /home/backup | encrypt-on-the-fly | cdrecord -
&gt; 
&gt; The encryption key would be requested from the console or from file or
&gt; whatever.
&gt; 
&gt; The trick here is writing this pipe-program which is is compatible with the
&gt; crypto-loop kernel driver so the data can later be transparently decrypted.
&gt; Main obstacles are the IV and the blocksize. The crypto-loop has no external
&gt; interface (or i failed to find it) so the separate encryption program would
&gt; have to duplicate the crypt-loop's functionality. Disregarding future
&gt; compatibility problems, this small program would be quite simple to code.
&gt; 
&gt; A huge problem could be to encrypt multi-session volumes and such. But as this
&gt; is quite problematic with the mkisofs/cdrecord pair anyway, i would ignore it
&gt; for now.
&gt; 
&gt; Now for the questions:
&gt; Has some one already coded this tool and could save me a day or two?
&gt; 
&gt; Does any one with more insight into the crypto-loop driver see a problem in
&gt; design with this solution? Can we reliably pre-calcucate the IV on the CD
&gt; before it is written?
&gt; 
&gt; Any other suggestions?

I posted source for aespipe program to this list a while ago. It does
exactly what you need. Get it from archive, here:

    http://mail.nl.linux.org/linux-crypto/2002-05/msg00023.html

The source is in 'aespipe-v1.0b.tar.bz2' that after downloading appears
under name 'bin00000.bin', here:

    http://mail.nl.linux.org/linux-crypto/2002-05/bin00000.bin

By default it is loop-AES compatible, but to make it cryptoapi compatible,
use command line options: -e aes128 -H rmd160

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020726155837</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-07-26 15:58:37-0400</timestampReceived><subject>Re: loop-AES trouble</subject><body>

Richard Zidlicky wrote:
&gt; On Thu, Jul 25, 2002 at 09:28:10PM +0300, Jari Ruusu wrote:
&gt; &gt; Did you change kernel .config between compiling your running kernel and
&gt; &gt; compiling loop.o + loop_serpent.o modules? Compiling a module and rest of
&gt; &gt; kernel with different .config is almost guaranteed to cause trouble.
&gt; 
&gt; Both are freshly recompiled.
&gt; 
&gt; Tried without kernel automounter and without knfsd, same result.
&gt; 
&gt; Realised one more thing, I run with IDE multcount=16 and 'hdparm -u1',
&gt; did you ever test with similar options?

Yes, I used multcount=16 unmaskirq=1 using_dma=1. IDE settings should not
affect loop driver at all.

I ran some stress tests overnight using kernel 2.4.18, loop_serpent with 256
bit keys and 660 MB data set. I did not see any errors on my tests.

This looks like some sort of compile problem. Could you post exact commands
that you used to compile and install your kernel, loop.o and loop_serpent.o
modules? Also include output from loop-AES and ciphers Makefiles. What gcc
version are you using? Can you double check that you actually booted the
newly compiled kernel instead of some older version?

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020727062224</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-07-27 06:22:24-0400</timestampReceived><subject>Re: AES vs. GPG</subject><body>

Andreas Schreier wrote:
&gt; Is AES256 or GPG-Key encrypted root partition more secure? Is there a
&gt; more secure way to encrypt the root partition than AES256?

GnuPG-key encrypted means that a filesystem key (which is just a long line
of random characters) is encrypted with GnuPG, possibly with more than one
person's public key. Actual filesystem encryption is done exactly same as
before with AES256, serpent256, or whatever. GnuPG-key just adds the benefit
that multiple users can mount with their own GnuPG private key, and each
user can change their own GnuPG passphrase any time they want.

In corporate environment it may be useful if filesystem key is encrypted
with corporate IT department public key. An employee can change his GnuPG
passphrase at any time, get hit by a bus, and drop dead. Corporate IT
department dudes can still use their private key to mount the partition.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020730210239</emailId><senderName>"ana"</senderName><senderEmail>ana554@yahoo.com</senderEmail><timestampReceived>2002-07-30 21:02:39-0400</timestampReceived><subject>Re:</subject><body>

Hi Sweetie,

Come see me and my Hot girl friends school at our new web site-&gt;

http://picturepost.phreehost.com/mypic/

Come to see FAST before delete this page.


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020731114238</emailId><senderName>"Tomas Pospisek's Mailing Lists"</senderName><senderEmail>tpo2@sourcepole.ch</senderEmail><timestampReceived>2002-07-31 11:42:38-0400</timestampReceived><subject>Re: patches for loop-AES against util-linux-2.11t and against Debian</subject><body>

On Wed, 31 Jul 2002, Jari Ruusu wrote:

&gt; Tomas Pospisek's Mailing Lists wrote:
&gt; &gt; I've ported the util-linux-2.11r-*.diff's of loop-AES-1.6e over to
&gt; &gt; util-linux-2.11t.
&gt; &gt;
&gt; &gt; The only change was to change swap() to do_swapon() since that was renamed
&gt; &gt; upstream and to include forward declarations of Jari's crypto functions so
&gt; &gt; that gcc doesn't bother me with warnings.
&gt; &gt;
&gt; &gt; I've also ported the Debian patch against util-linux-2.11n over to
&gt; &gt; util-linux-2.11t and at the same time rid it of the international crypto
&gt; &gt; patch.
&gt;
&gt; Sorry, but your util-linux-2.11t diff seems not to handle encrypted swap
&gt; "swapoff -a" case correctly. Swapon/swapoff code was extensively rewritten
&gt; in util-linux-2.11t, and I had to rewrite encrypted swap code for
&gt; util-linux-2.11t swapon/swaoff. Util-linux-2.11t patches for loop-AES have
&gt; been available here for a while:
&gt;
&gt; http://loop-aes.sourceforge.net/updates/2002-07-17/util-linux-2.11t-1.diff.bz2
&gt; http://loop-aes.sourceforge.net/updates/2002-07-17/util-linux-2.11t-1.diff.bz2.sign
&gt; http://loop-aes.sourceforge.net/updates/2002-07-17/util-linux-2.11t-2.diff.bz2
&gt; http://loop-aes.sourceforge.net/updates/2002-07-17/util-linux-2.11t-2.diff.bz2.sign

Ack, thanks. Btw - do nl.linux.org have some mailing list problem? I have
not yet recieved my own mail, allthough I've subscribed...

All remove my own patch and link in
http://loop-aes.sourceforge.net/updates/.

Thanks,
*t

----------------------------------------------------------------------------
             Tomas Pospisek
	     SourcePole   -  Linux &amp; Open Source Solutions
	     http://sourcepole.ch
	     Elestastrasse 18, 7310 Bad Ragaz, Switzerland
	     Tel: +41 (81) 330 77 11
----------------------------------------------------------------------------

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020601134046</emailId><senderName>Jean-Luc Cooke</senderName><senderEmail>jlcooke@certainkey.com</senderEmail><timestampReceived>2002-06-01 13:40:46-0400</timestampReceived><subject>Re: new article/howto for cryptoapi</subject><body>

/dev/random should be used insince the CBC IV's decided upon right
here.  And random IV's are a good thing.  :)

JLC


On Sat, Jun 01, 2002 at 01:08:33PM +0100, Dale Amon wrote:
&gt; On Fri, May 31, 2002 at 11:37:59AM -0600, mutex wrote:
&gt; &gt; Ok, so here is my howto/article about installing and using the CryptoAPI
&gt; &gt; for loopback encryption.  It was originally written article style, to be
&gt; 
&gt; An item to discuss: in the HowTo you write the original file:
&gt; 
&gt; 	dd /dev/urandom ....
&gt; 
&gt; I usually use a /dev/zero here, and then after a losetup write the 
&gt; new file system with another dd. Sometimes I use the /dev/urandom
&gt; here if I feel particularly like getting more mixing, but otherwise
&gt; another 'dd /dev/zero ...' should be nearly as good since the zeroes
&gt; are being encrypted at this point, so the file externally will look
&gt; as random as the actual encryption algorithm allows.
&gt; 
&gt; This has been discussed here a number of times previously and
&gt; is my current understanding of best practice.
&gt; 
&gt; Comments?
&gt; 
&gt; 
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/

-- 
http://www.certainkey.com
Suite 4560 CTTC
1125 Colonel By Dr.
Ottawa ON, K1S 5B6
C: 613.263.2983
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020603164223</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-06-03 16:42:23-0400</timestampReceived><subject>Re: kerneli patch and aes over loopback</subject><body>

Jean-Luc Cooke wrote:
&gt; I got confused with some other linux crypto projects I was
&gt; researching.  loopaes nor cryptoloop have seperate user and fskeys.

You can setup loop-AES to use separate user and fskey. Take a look at
example 5 in loop-AES' README file.

&gt; Could the maintainers please comment on the design rational behind
&gt; this?  And Jari as well one the design rational behind not hashing the
&gt; user password?

Loop-AES can use unhashed password, but that is for backward compatibility
only, and is not recommended for new setups. All examples in the loop-AES'
README use hashed passwords. RTFM.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020606031356</emailId><senderName>Dale Amon</senderName><senderEmail>amon@vnl.com</senderEmail><timestampReceived>2002-06-06 03:13:56-0400</timestampReceived><subject>Re: increasing the number of loop devices</subject><body>

On Wed, Jun 05, 2002 at 10:40:48PM -0400, Ben Slusky wrote:
&gt; On Wed, 05 Jun 2002 15:03:57 +0100, Dale Amon wrote:
&gt; &gt; On Wed, Jun 05, 2002 at 11:12:20AM +0100, Newsmail wrote:
&gt; &gt; &gt; I read in dmesg that the maximum amount of loop devices is 8 actually. is 
&gt; &gt; &gt; there a way to have more than 8 loop devices? can I add them to /dev or do 
&gt; &gt; &gt; I have to modify something else?
&gt; &gt; &gt; greg
&gt; &gt; 
&gt; &gt; I believe there is a compile time constant in loop.c that controls 
&gt; &gt; this.
&gt; 
&gt; Actually it's a kernel parameter: max_loop. I boot with max_loop=16.

Nice to know, I've usually changed it here in loop.c:

static int max_loop = 8;
static struct loop_device *loop_dev;
static int *loop_sizes;
static int *loop_blksizes;
static devfs_handle_t devfs_handle;      /*  For the directory */
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020608172319</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-06-08 17:23:19-0400</timestampReceived><subject>Bug in build-gpgmount.sh</subject><body>

Loop-AES contains build-gpgmount.sh script that can be used to create a
program to mount loop devices using GnuPG encrypted loop key. Intent is for
created program to start both gpg and mount programs in a way that non-root
users decrypt loop encryption key from GnuPG encrypted file without non-root
users having access to actual loop encryption key.

Latest released version (from loop-AES-v1.6d tarball) has a bug that reveals
the loop encryption key to non-root users: all they need to do is add a line
"output fubar.txt" to their gpg options file. That causes gpg to write the
loop encryption key to fubar.txt file instead of piping it to mount.

A fix is to pass "--options /dev/null" option to gpg so it won't read
non-root supplied options file. A fixed version of the script is attached
to this mail.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
["build-gpgmount.sh.gz" (application/x-gzip)]
["build-gpgmount.sh.gz.sign" (text/plain)]

-----BEGIN PGP MESSAGE-----
Version: 2.6.3ia
Comment: http://loop-aes.sourceforge.net/PGP-public-key.asc

iQCVAwUAPQI3STMKg0M6Ig9RAQHyTwQApJqCUnsfr9hvV7WQWvv2n0ffn3aV2GX5
5vFmZPGWZcN1Oc+Kz9quTJSCMj5Rpk3d9b+xoh0HAM6TyRvPT3ssjhy0Pr6ue7nw
buu9H5KnjaTllSW4henqNLj5D24XhU5H1WRGrwtfFssyGpwIXYuWFpSZxIOadAF9
69IhU9qGZIc=
=i2A0
-----END PGP MESSAGE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020608223310</emailId><senderName>Jean-Luc Cooke</senderName><senderEmail>jlcooke@certainkey.com</senderEmail><timestampReceived>2002-06-08 22:33:10-0400</timestampReceived><subject>Re: max_size before generating the same ciphertext</subject><body>

Maybe you misunderstood.

When using CBC mode of operation (the most common one) you have to
periodically change the encryption key to protect your data.

If an attacker finds two ciphertexts with the same value, then they
can starting getting information about the plaintext.

Statistically this is has a 50-50 chance of happening after B64 = 2^(n/2)
ciphertexts.  if n == 64 (like DES) this will be (2^32 * 64bit =
32GByte).

For 128bit block ciphers B128 = 2^64 * 128 = 2^32 * 2 * B64.  So don't
worry about changing VPN session keys in your lifetime.

JLC


On Sat, Jun 08, 2002 at 04:46:38PM +0100, Newsmail wrote:
&gt; as I remember I was told that blowfish has a 32gig limitation before it 
&gt; begins to generate equal ciphertexts. actually I dont know from which 
&gt; caracteristique of blowfish this comes from, could somebody clear my mind? 
&gt; and maybe could somebody tell me how to calculate this limitation for other 
&gt; 128bit ciphers like AES for exemple? or just tell me what is AES-s limit 
&gt; actually :&gt;
&gt; thx
&gt; greg
&gt; 
&gt; 
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/

-- 
http://www.certainkey.com
Suite 4560 CTTC
1125 Colonel By Dr.
Ottawa ON, K1S 5B6
C: 613.263.2983
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020611202825</emailId><senderName>Ben Slusky</senderName><senderEmail>sluskyb@paranoiacs.org</senderEmail><timestampReceived>2002-06-11 20:28:25-0400</timestampReceived><subject>Re: automating cryptoapi startup &amp; shutdown</subject><body>

On Tue, 11 Jun 2002 15:20:06 -0400, Wayne F Davis wrote:
&gt; my modules.conf includes:
&gt; alias cipher-aes-ecb cipher-aes
&gt; alias cipher-aes-cbc cipher-aes
&gt; 
&gt; my fstab:
&gt; /dev/loop0 /mnt/crypt ext3 defaults,loop,encryption=aes,keybits=128 1 0
&gt; 
&gt; ---
&gt; 
&gt; However, I can't mount the drive using mount ...
&gt; # mount /mnt/crypt
&gt; ioctl: LOOP_SET_FD: Device or resource busy

The device in your fstab should be /path/cryptfile.

&gt; First, I have to setup the loopback device with losetup, after loading
&gt; the modueles:
&gt; # modprobe cipher-aes
&gt; # modprobe cryptoloop

Ah yes, I'd forgotten about the cryptoloop module... one way to have it
loaded automatically is to add to your modules.conf:
	add above cipher-aes cryptoloop

&gt; # losetup -e aes /dev/loop0 /path/cryptfile
&gt; 
&gt; Then, I can mount it:
&gt; mount /dev/loop0 /mnt/crypt

Right, that's the long-hand way. When you give mount the "loop" option
it does the losetup automagically.

One problem is that journaling filesystems don't work well with a
file-backed loop---something to do with write-ordering. So, I'd recommend
using the "noauto" option in the fstab entry, so you can manually fsck it
before mounting if necessary.

HTH,

-- 
Ben Slusky                      | Save the whales.
sluskyb@stwing.org              | Feed the hungry.
sluskyb@paranoiacs.org          | Free the mallocs.
PGP keyID ADA44B3B      
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020602133629</emailId><senderName>Pavel Minev Penev</senderName><senderEmail>kal_pav@sz.techno-link.com</senderEmail><timestampReceived>2002-06-02 13:36:29-0400</timestampReceived><subject>Re: kerneli patch and aes over loopback</subject><body>

On Mon, Mar 11, 2002 at 03:33:21AM +0100, m96 wrote:
&gt; 1) is there is a way to specify the aes encryption with whatever key
&gt; length over the command line? like:
&gt; 
&gt; losetup -e aes128 /dev/loop0 crypto
&gt; 
&gt; because this gives the error:
&gt; 
&gt; The cipher does not exist, or a cipher module needs to be loaded into
&gt; the kernel
&gt; ioctl: LOOP_SET_STATUS: Invalid argument
&gt; 
&gt; but my /proc/crypto/cipher/ shows:
&gt; 
&gt; -r--r--r--    1 root     root            0 Mar 11 03:28 aes-cbc
&gt; -r--r--r--    1 root     root            0 Mar 11 03:28 aes-ecb
&gt; 
&gt; 
&gt; if i only give the following line losetup asks me which key length i
&gt; want to use:
&gt; 
&gt; losetup -e aes /dev/loop0 crypto 
&gt; Available keysizes (bits): 128 192 256 
&gt; Keysize:
&gt; 
&gt; this way i can't use the '-p' option of losetup to get the passwd over
&gt; file descriptor. and that's bad.....

Yes. You should use
`losetup -e cipher -k keysize /dev/loopDEV path_to_underlying_file`.
See losetup(8). You pass the cipher name to the "-k" option, and there
is no cipher named "aes128".

&gt; 2) is there a way to find out if the given passwd is correct or not
&gt; before trying to mount the fs and notice that mounting fails because of
&gt; bad passwd? something like....
&gt; 
&gt; mount: wrong fs type, bad option, bad superblock on /dev/loop0,
&gt;        or too many mounted file systems

I hope there isn't. And there shouldn't be -- the puprpose of
cryptography is to make your data accessable only to those who know the
password, if there was a way to tell if a password is invalid, there
would have been a way to brute force your encrypted partition
(a character in a password usually give about 5 bits of data, and thus
an 8-character password gives 5*8 = 40 bits which is breakable, and far
less secure than a 256-bit crypto key).

&gt; 3) is there a way to change the passwd? because for example if the user
&gt; has the same passwd as the login passwd and now someone find out the
&gt; passwd. what now???? is the only solution for this creating a new crypto
&gt; file and copying all it's content from one to an other?

I'm sure there is, but I don't know it.

Success,
-- 
Pav
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020605091659</emailId><senderName>Newsmail</senderName><senderEmail>newsmail@satimex.tvnet.hu</senderEmail><timestampReceived>2002-06-05 09:16:59-0400</timestampReceived><subject>increasing the number of loop devices</subject><body>

I read in dmesg that the maximum amount of loop devices is 8 actually. is 
there a way to have more than 8 loop devices? can I add them to /dev or do 
I have to modify something else?
greg


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020608145216</emailId><senderName>Newsmail</senderName><senderEmail>newsmail@satimex.tvnet.hu</senderEmail><timestampReceived>2002-06-08 14:52:16-0400</timestampReceived><subject>max_size before generating the same ciphertext</subject><body>

as I remember I was told that blowfish has a 32gig limitation before it 
begins to generate equal ciphertexts. actually I dont know from which 
caracteristique of blowfish this comes from, could somebody clear my mind? 
and maybe could somebody tell me how to calculate this limitation for other 
128bit ciphers like AES for exemple? or just tell me what is AES-s limit 
actually :&gt;
thx
greg


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020605130451</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-06-05 13:04:51-0400</timestampReceived><subject>Re: increasing the number of loop devices</subject><body>

On Wed, 2002-06-05 at 12:12, Newsmail wrote:
&gt; I read in dmesg that the maximum amount of loop devices is 8 actually. is 
&gt; there a way to have more than 8 loop devices? can I add them to /dev or do 
&gt; I have to modify something else?
you'll have to pass an option to the loop driver; 
e.g. for stock loop driver as module
insmod max_loop=16 loop.o

in case you wanted 16 loop devices;
(the actual maximum you can specify is 256 loop devices -- although
there was some off-by-1 error some time ago, by which the maximum
allowed was only 255 iirc)

then you might eventually need to create additional /dev/loop inodes --
unless you happen to use devfs; 
MAKEDEV(8) might be of help

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020605140357</emailId><senderName>Dale Amon</senderName><senderEmail>amon@vnl.com</senderEmail><timestampReceived>2002-06-05 14:03:57-0400</timestampReceived><subject>Re: increasing the number of loop devices</subject><body>

On Wed, Jun 05, 2002 at 11:12:20AM +0100, Newsmail wrote:
&gt; I read in dmesg that the maximum amount of loop devices is 8 actually. is 
&gt; there a way to have more than 8 loop devices? can I add them to /dev or do 
&gt; I have to modify something else?
&gt; greg

I believe there is a compile time constant in loop.c that controls 
this.

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020606024048</emailId><senderName>Ben Slusky</senderName><senderEmail>sluskyb@paranoiacs.org</senderEmail><timestampReceived>2002-06-06 02:40:48-0400</timestampReceived><subject>Re: increasing the number of loop devices</subject><body>

On Wed, 05 Jun 2002 15:03:57 +0100, Dale Amon wrote:
&gt; On Wed, Jun 05, 2002 at 11:12:20AM +0100, Newsmail wrote:
&gt; &gt; I read in dmesg that the maximum amount of loop devices is 8 actually. is 
&gt; &gt; there a way to have more than 8 loop devices? can I add them to /dev or do 
&gt; &gt; I have to modify something else?
&gt; &gt; greg
&gt; 
&gt; I believe there is a compile time constant in loop.c that controls 
&gt; this.

Actually it's a kernel parameter: max_loop. I boot with max_loop=16.

-- 
Ben Slusky                    | "The pyramid is opening!"
sluskyb@stwing.org            | "Which one?"
sluskyb@paranoiacs.org        | "The one with the ever-widening
PGP keyID ADA44B3B            |  hole in it!"  -Firesign Theatre
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020602174451</emailId><senderName>Jean-Luc Cooke</senderName><senderEmail>jlcooke@certainkey.com</senderEmail><timestampReceived>2002-06-02 17:44:51-0400</timestampReceived><subject>Re: kerneli patch and aes over loopback</subject><body>

On Sun, Jun 02, 2002 at 04:36:29PM +0300, Pavel Minev Penev wrote:
&gt; &gt; 2) is there a way to find out if the given passwd is correct or not
&gt; &gt; before trying to mount the fs and notice that mounting fails because of
&gt; &gt; bad passwd? something like....
&gt; &gt; 
&gt; &gt; mount: wrong fs type, bad option, bad superblock on /dev/loop0,
&gt; &gt;        or too many mounted file systems
&gt; 
&gt; I hope there isn't. And there shouldn't be -- the puprpose of
&gt; cryptography is to make your data accessable only to those who know the
&gt; password, if there was a way to tell if a password is invalid, there
&gt; would have been a way to brute force your encrypted partition
&gt; (a character in a password usually give about 5 bits of data, and thus
&gt; an 8-character password gives 5*8 = 40 bits which is breakable, and far
&gt; less secure than a 256-bit crypto key).

H = hash function (sha256)

You could store T1 = E_k1(H(k1))
And test that:

T2 = D_k2(X)

If T2 == H(k2), then there's a good (99.99999) chance that k1 == k2.

WRT protecting from dictionary attacks, they will happen no matter
that you do with a password based crypto deployment.

THis beings me to another question...can loopAES or cryptoloo do
password AND file based FS decryption?  As in:

k = key to filesystem image

k = H(password || bytes_of_users_file).

I have a USB keychain and would like this "something you have" and
"something you know" security added to my "something you are"
biometric laptop.

JLC

&gt; &gt; 3) is there a way to change the passwd? because for example if the user
&gt; &gt; has the same passwd as the login passwd and now someone find out the
&gt; &gt; passwd. what now???? is the only solution for this creating a new crypto
&gt; &gt; file and copying all it's content from one to an other?
&gt; 
&gt; I'm sure there is, but I don't know it.

It can be done easily in loopAES since it has a userkey as well as a
FSkey.

FSkey = key to filesystem
Ukey = user's key

Ukey = H(password)
FSkey = random key)

FSkey is stored in FSimage as eFSkey

eFSkey = E_Ukey(FSkey)

So when you change 'password' you don't have to decrypto the whole FS
and re-encrypt in with a new key.  Does cryptoloop have this?

JLC

-- 
http://www.certainkey.com
Suite 4560 CTTC
1125 Colonel By Dr.
Ottawa ON, K1S 5B6
C: 613.263.2983
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020611170812</emailId><senderName>Wayne F Davis</senderName><senderEmail>wfdavis@seas.upenn.edu</senderEmail><timestampReceived>2002-06-11 17:08:12-0400</timestampReceived><subject>automating cryptoapi startup &amp; shutdown</subject><body>

Hi,

I have the cryptoapi/loop setup and it seems to be working well.  Great
job!

Now, I want to automate some of the steps (losetup, modules, mount).  What
is the best way to go about doing this?  I would like to load the modules
on boot via modules.conf and have the mount command handle the losetup.
On shutdown, I would like the umounting to handle the losetup.  Is there
a way to do this easily (via modules.conf &amp; /etc/fstab)?  (I tried a few
things, but was getting some errors, so I figured I'd ask here.)

Thanks again.

-- 
Wayne Davis - wfdavis@seas.upenn.edu - PGP Key Available

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020611172715</emailId><senderName>Jochen Schmidt</senderName><senderEmail>jschmidt@millenux.com</senderEmail><timestampReceived>2002-06-11 17:27:15-0400</timestampReceived><subject>Re: automating cryptoapi startup &amp; shutdown</subject><body>

Hi,

you can full automate the mount of your crypted filesystems. If you want
to do this, i think you don't need a crypted filesystem ;-)
I mount my crypted homedir with an init-script. Since i use this on my
laptop i haven'd hardcoded anything so it's more difficult for an
thief to figure out the right cipher/keylength/password combination.

I use the following script (RedHat/Conectiva) which you should change to
your type of initscripts :)

------------------------------------------------------------
#!/bin/sh
# chkconfig: 345 91 45
# description: Mount crypted filesystems
#

. /etc/rc.d/init.d/functions

function start ()
{
        cat - &lt;&lt;EOF
        Valid encryptiontypes are: aes blowfish cast5 des des_ede3
                             dfc idea mars rc5 rc6 serpent twofish

EOF
        read -p "Enter your encryptiontype: " ENCRYPTION; echo
        losetup -e $ENCRYPTION /dev/loop0 /home/jschmidt.crypt
        printf "Starting %s: " "crypted filesystems"
        mount /home/jschmidt
        if [ $? -gt 0 ] ; then
                losetup -d /dev/loop0
        else
                umount /home/jschmidt
                fsck.ext3 /dev/loop0
                mount /home/jschmidt
        fi
        daemon true
        echo
}

function stop ()
{
        printf "Stopping %s: " "crypted filesystems"
        daemon umount /home/jschmidt
        echo
        losetup -d /dev/loop0
}

case "$1" in
  start)
        start
        ;;
  stop)
        stop
        ;;
  restart)
        stop
        start
        ;;
  *)
        printf "Usage: %s {start|stop|status|restart}\n" "`basename $0`"
        exit 1
esac
exit 0
------------------------------------------------------------

hope this helps

Jochen

On Tue, 11 Jun 2002, Wayne F Davis wrote:
&gt; Hi,
&gt;
&gt; I have the cryptoapi/loop setup and it seems to be working well.  Great
&gt; job!
&gt;
&gt; Now, I want to automate some of the steps (losetup, modules, mount).  What
&gt; is the best way to go about doing this?  I would like to load the modules
&gt; on boot via modules.conf and have the mount command handle the losetup.
&gt; On shutdown, I would like the umounting to handle the losetup.  Is there
&gt; a way to do this easily (via modules.conf &amp; /etc/fstab)?  (I tried a few
&gt; things, but was getting some errors, so I figured I'd ask here.)
&gt;
&gt; Thanks again.
&gt;
&gt;

-- 
--------------------------------------------------------------------
Jochen Schmidt                           jochen.schmidt@millenux.com
Millenux GmbH                                mobile: +49.175.5752483
Lilienthalstraße 2                          phone: +49.711.88770.300
70825 Stuttgart-Korntal                       fax: +49.711.88770.349
      -= linux without limits -=- http://linux.zSeries.org/ =-

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020616133126</emailId><senderName>Michel Bouissou</senderName><senderEmail>michel@bouissou.net</senderEmail><timestampReceived>2002-06-16 13:31:26-0400</timestampReceived><subject>Fed up with spam</subject><body>

I'm fed up to see spam propagated thru this mailing-list, just because it is 
open for anybody to post.

I have started reporting to Spamcop every spam that I receive from this ML, 
and this could result in this ML server to be blacklisted in Spamcop.

-- 
Michel Bouissou &lt;michel@bouissou.net&gt; OpenPGP ID 0x5C2BEE8F

La bergère adorait qu'on borde son mouton.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020617145401</emailId><senderName>Klaus Agnoletti</senderName><senderEmail>klaus@xenux.dk</senderEmail><timestampReceived>2002-06-17 14:54:01-0400</timestampReceived><subject>Setting up loop-aes or crypto api with lvm</subject><body>

Hi

I want to set up lvm on top of a loop encrypted fs. I assume it would
work due to the modularity of the system, but before I try, I would like
to know if anyone has sucessfully tried this :-).

Thanks in advance

-- 
Med venlig hilsen / Regards

Klaus Agnoletti
Junior Geek Engineer

Xenux - The Linux People
Bredgade 35A, 2.
1260 København K
Tel: +45 3315 8202
Fax: +45 3332 1832
http://www.xenux.dk


["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020617083252</emailId><senderName>Ilsa Gold</senderName><senderEmail>ilsa.gold@web.de</senderEmail><timestampReceived>2002-06-17 08:32:52-0400</timestampReceived><subject>how stable is the international patch for kernel 2.4.18?</subject><body>

Hi,

I  just set up a new Debian Linux system IMHO. All runs very well. I 
just wanted to set up a few new partitions for holding so data I use to 
work with. Now I thought it would be cool to de-/crypt them on the fly. 
I use kernel version 2.4.18. No here is my question: How stable is the 
patch for this kernel found under 
http://www.kernel.org/pub/linux/kernel/crypto/v2.4/testing/? Could it be 
seen as stable to use it in an productive environment or do I have to 
bet every evening that my data is there again on the next day? ;-)))

lot of thanks for an answer
Stefan

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020617180525</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-06-17 18:05:25-0400</timestampReceived><subject>Announce loop-AES-v1.6e file/swap crypto package</subject><body>

loop-AES changes since previous release:
- Added "-K xxx", "-G yyy" options to losetup and "-o gpgkey=xxx", "-o
  gpghome=yyy" options to mount that can be used to setup and mount loop
  devices with GnuPG encrypted loop key.
- Removed build-gpgmount.sh because its functionality is now in mount and
  losetup programs.
- Fixed file backed loop read error handling bug that only occured in
  hurt-me-plenty case where looped to file was truncated while it was being
  used (2.4 and 2.5 kernels).
- Makefile updated to work with 2.5.22 and later kernels.
- loop.c-2.5.original updated with fixes from 2.5.22

bzip2 compressed tarball is here:

    http://loop-aes.sourceforge.net/loop-AES-v1.6e.tar.bz2
    md5sum d284df0276ff4fac45b0d19aff54b109

PGP signature file, my public key, and fingerprint here:

    http://loop-aes.sourceforge.net/loop-AES-v1.6e.tar.bz2.sign
    http://loop-aes.sourceforge.net/PGP-public-key.asc
    1024/3A220F51 5B 4B F9 BB D3 3F 52 E9  DB 1D EB E3 24 0E A9 DD


Additional ciphers package changes since previous release:
- Makefile updated to work with 2.5.22 and later kernels.

bzip2 compressed tarball is here:

    http://loop-aes.sourceforge.net/ciphers-v1.0e.tar.bz2
    md5sum 78d4841e761a860f9eab4736474f5fe6

PGP signature file here:

    http://loop-aes.sourceforge.net/ciphers-v1.0e.tar.bz2.sign

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020618071313</emailId><senderName>Iain</senderName><senderEmail>iain@minihub.org</senderEmail><timestampReceived>2002-06-18 07:13:13-0400</timestampReceived><subject>Re: Announce loop-AES-v1.6e file/swap crypto package</subject><body>

Hi,

I've been considering changing from cryptoapi to loop-AES, however I just 
read in the readme that you can't use journalling file systems on a file loop 
device. I have been using reiserfs on my encrypted fs and I don't really want 
to go back to ext2. 

How come it works with cryptoapi but not with loop-AES?

thanks, Iain.
-- 
public key available at http://www.minihub.org/~iain/iain.asc
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020621164526</emailId><senderName>"Martin Tischmann"</senderName><senderEmail>martin@tischmann.de</senderEmail><timestampReceived>2002-06-21 16:45:26-0400</timestampReceived><subject>How to find out what kernel module was used for encryption ?</subject><body>

Hello there,

after a HD-Crash my kernel modules loop_fish is lost.
I used twofish for encryption of hole hd´s, but i don´t remember the kernel
and patch i used.
On kernel 2.4 i used insmod -f to load the old module, but now it is lost
and i don´t have any idea how to get my data back.

I gues it was something before cryptoapi and maybe a 2.0 or 2.2 kernel on a
SuSE 6.4 - 7.1.

Is there any way to find out what module is the right one ?


Martin

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020616181650</emailId><senderName>"W. Michael Petullo"</senderName><senderEmail>mike@flyn.org</senderEmail><timestampReceived>2002-06-16 18:16:50-0400</timestampReceived><subject>Encrypted home directories</subject><body>

I just ran across a PAM module, pam_mount, and a patch for it which
implements encrypted home directories.

For example, an encrypted filesystem, call it /home/mike.img, could be
mounted by PAM at /home/mike at login time and automatically unmounted
upon logging out.

I think this PAM module goes far to solve TODO problem number two on
kerneli.org, "Security against theft of Linux machines."  As a PAM
module, it does so in a bit cleaner way than the login patch provided
by the folks at grsecurity (http://www.grsecurity.net).

I've been looking for a solution like this and was very excited to find
pam_mount.  However, I have not been able to find a valid email address
for the author of either the module or the encrypted home directory patch.
As far as I can tell pam_mount has not been worked on since late in 2001.
Perhaps one of them is on this mailing list.

Do any of you have any experience with this code?  I really like it and
would be willing to become its new maintainer if necessary.

-- 
Mike

:wq
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020616204920</emailId><senderName>m96</senderName><senderEmail>m96@gmx.li</senderEmail><timestampReceived>2002-06-16 20:49:20-0400</timestampReceived><subject>Re: Encrypted home directories</subject><body>

hi,

a few months ago i tried to patch pam_mount to do something like that.
but i run on too many problems that not only relay on pam_mount or on
cryptoapi and had other problems that only my-self haven't found a good
solution. so i made a break on working on this code. i also mailed the
maintainer of pam_mount and didn't get an answer.

so you can imagine that i'm really interested to see that code you have
found. is it possible that you send me the patch or the hole code.

thank in advance,
regards,
alias m96.


On Sun, 2002-06-16 at 20:16, W. Michael Petullo wrote:
&gt; I just ran across a PAM module, pam_mount, and a patch for it which
&gt; implements encrypted home directories.
&gt; 
&gt; For example, an encrypted filesystem, call it /home/mike.img, could be
&gt; mounted by PAM at /home/mike at login time and automatically unmounted
&gt; upon logging out.
&gt; 
&gt; I think this PAM module goes far to solve TODO problem number two on
&gt; kerneli.org, "Security against theft of Linux machines."  As a PAM
&gt; module, it does so in a bit cleaner way than the login patch provided
&gt; by the folks at grsecurity (http://www.grsecurity.net).
&gt; 
&gt; I've been looking for a solution like this and was very excited to find
&gt; pam_mount.  However, I have not been able to find a valid email address
&gt; for the author of either the module or the encrypted home directory patch.
&gt; As far as I can tell pam_mount has not been worked on since late in 2001.
&gt; Perhaps one of them is on this mailing list.
&gt; 
&gt; Do any of you have any experience with this code?  I really like it and
&gt; would be willing to become its new maintainer if necessary.
&gt; 
&gt; -- 
&gt; Mike
&gt; 
&gt; :wq
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
&gt; 


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020617092027</emailId><senderName>"W. Michael Petullo"</senderName><senderEmail>mike@flyn.org</senderEmail><timestampReceived>2002-06-17 09:20:27-0400</timestampReceived><subject>Re: Encrypted home directories</subject><body>

&gt;&gt; I just ran across a PAM module, pam_mount, and a patch for it which
&gt;&gt; implements encrypted home directories.
 
&gt;&gt; For example, an encrypted filesystem, call it /home/mike.img, could be
&gt;&gt; mounted by PAM at /home/mike at login time and automatically unmounted
&gt;&gt; upon logging out.

[...]
 
&gt;&gt; I've been looking for a solution like this and was very excited to find
&gt;&gt; pam_mount.  However, I have not been able to find a valid email address
&gt;&gt; for the author of either the module or the encrypted home directory patch.
&gt;&gt; As far as I can tell pam_mount has not been worked on since late in 2001.
&gt;&gt; Perhaps one of them is on this mailing list.

[...]
 
&gt; so you can imagine that i'm really interested to see that code you have
&gt; found. is it possible that you send me the patch or the hole code.

Here is where the code is:

pam_mount: http://pam-mount.conectevil.com/
pam_mount EHD hack: http://www-2.cs.cmu.edu/~mukesh/hacks.html

I was able to get a hold of the author of the pam_mount EHD hack.  Here is
what he had to say:

&gt; I'm not sure what the status of pam_mount is. I did send a patch to Elvis
&gt; about a year ago, but it (obviously) wasn't incorporated. At the time I
&gt; sent him the patch, I did mention that there were some bugs (the ones
&gt; mentioned on my web page); it's possible that he was waiting for me to fix
&gt; those before accepting the patch.

&gt; As for the patch, I use it on my personal laptop. So long as it works with
&gt; my laptop (which is usually running the latest Debian release), I don't
&gt; mess with it. You'll notice one update on the page -- that was from a
&gt; friend of mine who wanted to use pam_mount 0.3.2.

&gt; Hopefully, pam and mount won't change much, and things will just continue
&gt; to work.

&gt; I hope that answers your question.

-- 
Mike

:wq
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020618072503</emailId><senderName>Jani Averbach</senderName><senderEmail>jaa@cc.jyu.fi</senderEmail><timestampReceived>2002-06-18 07:25:03-0400</timestampReceived><subject>Re: Announce loop-AES-v1.6e file/swap crypto package</subject><body>

On Tue, 18 Jun 2002, Iain wrote:

&gt;
&gt; I've been considering changing from cryptoapi to loop-AES, however I just
&gt; read in the readme that you can't use journalling file systems on a file loop
&gt; device. I have been using reiserfs on my encrypted fs and I don't really want
&gt; to go back to ext2.
&gt;
&gt; How come it works with cryptoapi but not with loop-AES?
&gt;

I am not sure what do you really means (I am using ext3 (file and
partition) with loop-AES, so please read that post:

http://mail.nl.linux.org/linux-crypto/2002-02/msg00020.html

BR, Jani

--
Jani Averbach

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020618102927</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-06-18 10:29:27-0400</timestampReceived><subject>Re: Announce loop-AES-v1.6e file/swap crypto package</subject><body>

Iain wrote:
&gt; I've been considering changing from cryptoapi to loop-AES, however I just
&gt; read in the readme that you can't use journalling file systems on a file loop
&gt; device. I have been using reiserfs on my encrypted fs and I don't really want
&gt; to go back to ext2.
&gt; 
&gt; How come it works with cryptoapi but not with loop-AES?

Device backed loops (partition backed loops) work fine with journaling file
systems. File backed loops are the problematic case.

Besides, it's the same loop code in both loop-AES and cryptoapi, if you are
using loop-jari-2.4.18.0.patch in cryptoapi. If cryptoapi docs don't warn
users to avoid journaled filesystems on file backed loops, cryptoapi docs
need to be updated.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020618103711</emailId><senderName>Iain</senderName><senderEmail>iain@minihub.org</senderEmail><timestampReceived>2002-06-18 10:37:11-0400</timestampReceived><subject>Re: Announce loop-AES-v1.6e file/swap crypto package</subject><body>

On Tue, 18 Jun 2002 08:29, you wrote:
&gt; Device backed loops (partition backed loops) work fine with journaling file
&gt; systems. File backed loops are the problematic case.
&gt;
&gt; Besides, it's the same loop code in both loop-AES and cryptoapi, if you are
&gt; using loop-jari-2.4.18.0.patch in cryptoapi. If cryptoapi docs don't warn
&gt; users to avoid journaled filesystems on file backed loops, cryptoapi docs
&gt; need to be updated.

So if I have a file backed loop reiserfs that is on a reiserfs will that work?

I.e. I have a file ENCRYPTED_STUFF that is my loop file containing a resierfs 
filesystem. It is stored on a partition that has a reiserfs filesystem. Is 
that ok? Reiser doesn't seem to have the data=ordered options that ext3 has.

thanks, Iain.


&gt;
&gt; Regards,
&gt; Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-- 
public key available at http://www.minihub.org/~iain/iain.asc
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020618111122</emailId><senderName>"IT3 Stuart Blake Tener, USNR-R"</senderName><senderEmail>stuart@bh90210.net</senderEmail><timestampReceived>2002-06-18 11:11:22-0400</timestampReceived><subject>RE: Announce loop-AES-v1.6e file/swap crypto package</subject><body>

Ian:

	You do know that in a few months (around September) ReiserFS is
going to release its version 4 of ReiserFS which is supposed to have
encryption build in, right?


Very Respectfully, 

Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG 
Beverly Hills, California
VTU 1904G (Volunteer Training Unit) 
stuart@bh90210.net 
west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043 
east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859 

Telecopier: (419)-715-6073 fax to email gateway via www.efax.com (it's
free!) 

JOIN THE US NAVY RESERVE, SERVE YOUR COUNTRY, AND BENEFIT FROM IT ALL. 

Tuesday, June 18, 2002 4:11 AM


-----Original Message-----
From: linux-crypto-bounce@nl.linux.org
[mailto:linux-crypto-bounce@nl.linux.org] On Behalf Of Iain
Sent: Tuesday, June 18, 2002 3:37 AM
To: linux-crypto@nl.linux.org
Subject: Re: Announce loop-AES-v1.6e file/swap crypto package

On Tue, 18 Jun 2002 08:29, you wrote:
&gt; Device backed loops (partition backed loops) work fine with journaling
file
&gt; systems. File backed loops are the problematic case.
&gt;
&gt; Besides, it's the same loop code in both loop-AES and cryptoapi, if
you are
&gt; using loop-jari-2.4.18.0.patch in cryptoapi. If cryptoapi docs don't
warn
&gt; users to avoid journaled filesystems on file backed loops, cryptoapi
docs
&gt; need to be updated.

So if I have a file backed loop reiserfs that is on a reiserfs will that
work?

I.e. I have a file ENCRYPTED_STUFF that is my loop file containing a
resierfs 
filesystem. It is stored on a partition that has a reiserfs filesystem.
Is 
that ok? Reiser doesn't seem to have the data=ordered options that ext3
has.

thanks, Iain.


&gt;
&gt; Regards,
&gt; Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-- 
public key available at http://www.minihub.org/~iain/iain.asc
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020618180232</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-06-18 18:02:32-0400</timestampReceived><subject>Re: Announce loop-AES-v1.6e file/swap crypto package</subject><body>

Iain wrote:
&gt; I.e. I have a file ENCRYPTED_STUFF that is my loop file containing a resierfs
&gt; filesystem. It is stored on a partition that has a reiserfs filesystem. Is
&gt; that ok? Reiser doesn't seem to have the data=ordered options that ext3 has.

That will not work reliably, not in loop-AES, and not in cryptoapi. Well, it
may seem to work, until your encrypted reiserfs re-plays a bogus or damaged
journal that destroys your encrypted fs.

Problem is that reiserfs guarantees only meta-data integrity but does not
guarantee file-data integrity in system crash situation, yet it assumes that
all lower layer devices do provide data integrity and ordered writes. When
you put journaled fs on loop that can't provide data integrity and ordered
writes all the way down to disk platters, you have problems.

Good setups:

    ext2 -&gt; loop -&gt; partition
    ext3 -&gt; loop -&gt; partition
    reiserfs -&gt; loop -&gt; partition
    ext2 -&gt; loop -&gt; ext2 -&gt; partition
    ext2 -&gt; loop -&gt; reiserfs -&gt; partition
    reiserfs -&gt; loop -&gt; ext3 -&gt; partition
                         ^
                         |
                    data=journal
                        or
                    data=ordered

Bad setups:

    reiserfs -&gt; loop -&gt; reiserfs -&gt; partition
    reiserfs -&gt; loop -&gt; ext2 -&gt; partition
    ext3 -&gt; loop -&gt; ext2 -&gt; partition
   
Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020618205201</emailId><senderName>Dale Amon</senderName><senderEmail>amon@vnl.com</senderEmail><timestampReceived>2002-06-18 20:52:01-0400</timestampReceived><subject>Re: Announce loop-AES-v1.6e file/swap crypto package</subject><body>

On Tue, Jun 18, 2002 at 09:02:32PM +0300, Jari Ruusu wrote:
&gt; Problem is that reiserfs guarantees only meta-data integrity but does not
&gt; guarantee file-data integrity in system crash situation, yet it assumes that
&gt; all lower layer devices do provide data integrity and ordered writes. When
&gt; you put journaled fs on loop that can't provide data integrity and ordered
&gt; writes all the way down to disk platters, you have problems.
&gt; 

Ah, so you've now explained the reason why I had the only fault I've
ever seen on cryptoapi. I had this on my laptop:

&gt;     reiserfs -&gt; loop -&gt; reiserfs -&gt; partition

and I've had problems with corruption on occasion. However I've had

&gt;     reiserfs -&gt; loop -&gt; raid1 -&gt; partitions

and have had about 2 years of trouble free operation.

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020619022933</emailId><senderName>Iain</senderName><senderEmail>iain@minihub.org</senderEmail><timestampReceived>2002-06-19 02:29:33-0400</timestampReceived><subject>Re: Announce loop-AES-v1.6e file/swap crypto package</subject><body>

On Wed, 19 Jun 2002 04:02, Jari Ruusu wrote:
&gt; That will not work reliably, not in loop-AES, and not in cryptoapi. Well,
&gt; it may seem to work, until your encrypted reiserfs re-plays a bogus or
&gt; damaged journal that destroys your encrypted fs.

Ah, interesting. That happened to me a while back but I assumed it was a bug 
in the reiserfs code. Haven't had any problems since though. 

Iain.
-- 
public key available at http://www.minihub.org/~iain/iain.asc
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020619085413</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-06-19 08:54:13-0400</timestampReceived><subject>Re: Announce loop-AES-v1.6e file/swap crypto package</subject><body>

Dale Amon wrote:
&gt; On Tue, Jun 18, 2002 at 09:02:32PM +0300, Jari Ruusu wrote:
&gt; &gt; Problem is that reiserfs guarantees only meta-data integrity but does not
&gt; &gt; guarantee file-data integrity in system crash situation, yet it assumes that
&gt; &gt; all lower layer devices do provide data integrity and ordered writes. When
&gt; &gt; you put journaled fs on loop that can't provide data integrity and ordered
&gt; &gt; writes all the way down to disk platters, you have problems.
&gt; &gt;
&gt; 
&gt; Ah, so you've now explained the reason why I had the only fault I've
&gt; ever seen on cryptoapi. I had this on my laptop:
&gt; 
&gt; &gt;     reiserfs -&gt; loop -&gt; reiserfs -&gt; partition
           #2                  #1

Here reiserfs #1 does not guarantee ordered writes, so fs corruption is
possible on reiserfs #2.

&gt; and I've had problems with corruption on occasion. However I've had
&gt; 
&gt; &gt;     reiserfs -&gt; loop -&gt; raid1 -&gt; partitions
&gt; 
&gt; and have had about 2 years of trouble free operation.

Here loop and raid1 provide ordered writes so no corruption.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020619095708</emailId><senderName>Gian Piero Carzino</senderName><senderEmail>gianpiero.carzino@fastwebnet.it</senderEmail><timestampReceived>2002-06-19 09:57:08-0400</timestampReceived><subject>Re: Announce loop-AES-v1.6e file/swap crypto package</subject><body>

Jari wrote:

&gt; Good setups:
&gt;
&gt;     ext2 -&gt; loop -&gt; partition
&gt;     ext3 -&gt; loop -&gt; partition
&gt;     reiserfs -&gt; loop -&gt; partition
&gt;     ext2 -&gt; loop -&gt; ext2 -&gt; partition
&gt;     ext2 -&gt; loop -&gt; reiserfs -&gt; partition
&gt;     reiserfs -&gt; loop -&gt; ext3 -&gt; partition
&gt;                          ^
&gt;
&gt;                     data=journal
&gt;                         or
&gt;                     data=ordered
&gt;
&gt; Bad setups:
&gt;
&gt;     reiserfs -&gt; loop -&gt; reiserfs -&gt; partition
&gt;     reiserfs -&gt; loop -&gt; ext2 -&gt; partition
&gt;     ext3 -&gt; loop -&gt; ext2 -&gt; partition

If I catch the point:
   ext3 -&gt; loop -&gt; ext3 -&gt; partition
should be OK (as long as second ext3 is in data orderd or journal)
Is that so?

--------
Gian Piero Carzino
gcarzino@tiscali.it
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020619104535</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-06-19 10:45:35-0400</timestampReceived><subject>Re: Announce loop-AES-v1.6e file/swap crypto package</subject><body>

Gian Piero Carzino wrote:
&gt; If I catch the point:
&gt;    ext3 -&gt; loop -&gt; ext3 -&gt; partition
&gt; should be OK (as long as second ext3 is in data orderd or journal)
&gt; Is that so?

Yes.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020619123411</emailId><senderName>Charlie Dyson</senderName><senderEmail>cdyson37@yahoo.co.uk</senderEmail><timestampReceived>2002-06-19 12:34:11-0400</timestampReceived><subject>Re: Announce loop-AES-v1.6e file/swap crypto package</subject><body>

 --- Gian Piero Carzino &lt;gianpiero.carzino@fastwebnet.it&gt; wrote: &gt; Jari wrote:
&gt; 
&gt; &gt; Good setups:
&gt; &gt;
&gt; &gt;     ext2 -&gt; loop -&gt; partition
&gt; &gt;     ext3 -&gt; loop -&gt; partition
&gt; &gt;     reiserfs -&gt; loop -&gt; partition
&gt; &gt;     ext2 -&gt; loop -&gt; ext2 -&gt; partition
&gt; &gt;     ext2 -&gt; loop -&gt; reiserfs -&gt; partition
&gt; &gt;     reiserfs -&gt; loop -&gt; ext3 -&gt; partition
&gt; &gt;                          ^
&gt; &gt;
&gt; &gt;                     data=journal
&gt; &gt;                         or
&gt; &gt;                     data=ordered
&gt; &gt;
&gt; &gt; Bad setups:
&gt; &gt;
&gt; &gt;     reiserfs -&gt; loop -&gt; reiserfs -&gt; partition
&gt; &gt;     reiserfs -&gt; loop -&gt; ext2 -&gt; partition
&gt; &gt;     ext3 -&gt; loop -&gt; ext2 -&gt; partition
&gt; 
&gt; If I catch the point:
&gt;    ext3 -&gt; loop -&gt; ext3 -&gt; partition
&gt; should be OK (as long as second ext3 is in data orderd or journal)
&gt; Is that so?
 - I just joined this list: I'm running ext3 -&gt; loop -&gt; ext3 -&gt; partition. I am
not sure what mode I'm in - the default you get when you specify -j. (I read
the manual on ext3 and it was too difficult to decide...). Anyway, it works
fine.

The ENCRYPTION-HOWTO complains that there is no way to change the password.
I've found a way around this - create a random key (which will eventually be
hashed into the crypto-key), and encrypt it with openssl (the command). I've
written a few scripts to do this automatically, including one that sets up a
whole crypto-loopback system (including makeine the underlying file) by itself.
You can change the password for the encrypted passphrase using openssl. This is
confusing - here's a diagram:

Create random passphrase -&gt; encrypt with openssl -&gt; copy to a floppy,etc
To mount it:
Decrypt passphrase with openssl -&gt; feed into losetup -&gt; mount -t ... ... ...
  (these diagrams actually simplify things a lot - people should use them more)

If this is of any possible use to anybody, I will post it somewhere. Scripts
are written in bash, needs openssl, and the crypto stuff.

Hopeing this might be useful to someone in some small way under a somewhat
bizzare set of circumstances,

Charlie Dyson - charlie@charliedyson.net

&gt; 
&gt; --------
&gt; Gian Piero Carzino
&gt; gcarzino@tiscali.it
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
&gt;  

__________________________________________________
Do You Yahoo!?
Everything you'll ever need on one web page
from News and Sport to Email and Music Charts
http://uk.my.yahoo.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020619124403</emailId><senderName>Harmon Seaver</senderName><senderEmail>hseaver@cybershamanix.com</senderEmail><timestampReceived>2002-06-19 12:44:03-0400</timestampReceived><subject>Re: Announce loop-AES-v1.6e file/swap crypto package</subject><body>

    What about other journaling files systems like XFS? 

On Wed, Jun 19, 2002 at 11:54:13AM +0300, Jari Ruusu wrote:
&gt; Dale Amon wrote:
&gt; &gt; On Tue, Jun 18, 2002 at 09:02:32PM +0300, Jari Ruusu wrote:
&gt; &gt; &gt; Problem is that reiserfs guarantees only meta-data integrity but does not
&gt; &gt; &gt; guarantee file-data integrity in system crash situation, yet it assumes that
&gt; &gt; &gt; all lower layer devices do provide data integrity and ordered writes. When
&gt; &gt; &gt; you put journaled fs on loop that can't provide data integrity and ordered
&gt; &gt; &gt; writes all the way down to disk platters, you have problems.
&gt; &gt; &gt;
&gt; &gt; 
&gt; &gt; Ah, so you've now explained the reason why I had the only fault I've
&gt; &gt; ever seen on cryptoapi. I had this on my laptop:
&gt; &gt; 
&gt; &gt; &gt;     reiserfs -&gt; loop -&gt; reiserfs -&gt; partition
&gt;            #2                  #1
&gt; 
&gt; Here reiserfs #1 does not guarantee ordered writes, so fs corruption is
&gt; possible on reiserfs #2.
&gt; 
&gt; &gt; and I've had problems with corruption on occasion. However I've had
&gt; &gt; 
&gt; &gt; &gt;     reiserfs -&gt; loop -&gt; raid1 -&gt; partitions
&gt; &gt; 
&gt; &gt; and have had about 2 years of trouble free operation.
&gt; 
&gt; Here loop and raid1 provide ordered writes so no corruption.
&gt; 
&gt; Regards,
&gt; Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
&gt; 
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/

-- 
Harmon Seaver	
CyberShamanix
http://www.cybershamanix.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020619165204</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-06-19 16:52:04-0400</timestampReceived><subject>Re: Announce loop-AES-v1.6e file/swap crypto package</subject><body>

Harmon Seaver wrote:
&gt;     What about other journaling files systems like XFS?

Dunno about XFS. If it journals meta-data only and can't guarantee ordered
writes to file-data, this is probably a bad setup:

    xfs -&gt; loop -&gt; xfs -&gt; partition

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020617084624</emailId><senderName>Jochen Schmidt</senderName><senderEmail>jochen.schmidt@millenux.com</senderEmail><timestampReceived>2002-06-17 08:46:24-0400</timestampReceived><subject>Re: how stable is the international patch for kernel 2.4.18?</subject><body>

Hi,

i running 2.4.18 with the international kernel patch one month on my
laptop. I've running three vmware's at a time and all have their disk on
an encrypted filesystem. I never had trouble with my crypt-fs.

If you run linux on an IBM s390, do *not* use raw partitions on
4096-block dasd's. Every other scenario works well here.


On Mon, 17 Jun 2002, Ilsa Gold wrote:
&gt; Hi,
&gt;
&gt; I  just set up a new Debian Linux system IMHO. All runs very well. I
&gt; just wanted to set up a few new partitions for holding so data I use to
&gt; work with. Now I thought it would be cool to de-/crypt them on the fly.
&gt; I use kernel version 2.4.18. No here is my question: How stable is the
&gt; patch for this kernel found under
&gt; http://www.kernel.org/pub/linux/kernel/crypto/v2.4/testing/? Could it be
&gt; seen as stable to use it in an productive environment or do I have to
&gt; bet every evening that my data is there again on the next day? ;-)))
&gt;
&gt; lot of thanks for an answer
&gt; Stefan

-- 
--------------------------------------------------------------------
Jochen Schmidt                           jochen.schmidt@millenux.com
Millenux GmbH                                mobile: +49.175.5752483
Lilienthalstraße 2                          phone: +49.711.88770.300
70825 Stuttgart-Korntal                       fax: +49.711.88770.349
      -= linux without limits -=- http://linux.zSeries.org/ =-

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020617113923</emailId><senderName>Dale Amon</senderName><senderEmail>amon@vnl.com</senderEmail><timestampReceived>2002-06-17 11:39:23-0400</timestampReceived><subject>Re: how stable is the international patch for kernel 2.4.18?</subject><body>

On Mon, Jun 17, 2002 at 10:46:24AM +0200, Jochen Schmidt wrote:
&gt; Hi,
&gt; 
&gt; i running 2.4.18 with the international kernel patch one month on my
&gt; laptop. I've running three vmware's at a time and all have their disk on
&gt; an encrypted filesystem. I never had trouble with my crypt-fs.
&gt; 
&gt; If you run linux on an IBM s390, do *not* use raw partitions on
&gt; 4096-block dasd's. Every other scenario works well here.

I've a couple machines that have been up for nearly two years that
are running it. I've been running crypto swap on all machines for
a few months now.

I've had some occasional problems with a laptop encrypted loopback 
reiserfs but that's the only hassle I've had.


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020617164612</emailId><senderName>"Fruhwirth Clemens"</senderName><senderEmail>clemens-dated-1024764372.0182@endorphin.org</senderEmail><timestampReceived>2002-06-17 16:46:12-0400</timestampReceived><subject>Re: how stable is the international patch for kernel 2.4.18?</subject><body>

&gt; On Mon, 17 Jun 2002, Ilsa Gold wrote:
&gt; &gt; I use kernel version 2.4.18. No here is my question: How stable is the
&gt; &gt; patch for this kernel found under

i'm running cryptoapi-cryptloop on my rootfs for about two month now,
without any troubles. if debian's initrd maintainer wouldn't that 
short-sighted, you'd have seen debian with neat out of the box support for
cryptoapi.

On Mon, Jun 17, 2002 at 10:46:24AM +0200, Jochen Schmidt wrote:
&gt; Hi,
&gt; 
&gt; i running 2.4.18 with the international kernel patch one month on my
&gt; laptop. I've running three vmware's at a time and all have their disk on
&gt; an encrypted filesystem. I never had trouble with my crypt-fs.

have you been trying to use vmware directly with a raw disk on /dev/loop?
vmware traps an not implemented error.. i suppose this is the result of
cryptoloop lacking an ioctl to obtain the CHS parameters. have you had more
success?

clemens

p.s.: please have a look at http://www.netmeister.org/news/learn2quote.html

[Attachment #3 (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020617171328</emailId><senderName>Jochen Schmidt</senderName><senderEmail>jochen.schmidt@millenux.com</senderEmail><timestampReceived>2002-06-17 17:13:28-0400</timestampReceived><subject>Re: how stable is the international patch for kernel 2.4.18?</subject><body>

Hi,


On Mon, 17 Jun 2002, Fruhwirth Clemens wrote:
&gt; On Mon, Jun 17, 2002 at 10:46:24AM +0200, Jochen Schmidt wrote:
&gt; &gt; i running 2.4.18 with the international kernel patch one month on my
&gt; &gt; laptop. I've running three vmware's at a time and all have their disk on
&gt; &gt; an encrypted filesystem. I never had trouble with my crypt-fs.
&gt;
&gt; have you been trying to use vmware directly with a raw disk on /dev/loop?
&gt; vmware traps an not implemented error.. i suppose this is the result of
&gt; cryptoloop lacking an ioctl to obtain the CHS parameters. have you had more
&gt; success?

The vmware .dsk-Files are on my "normal" /home-Partition. I've tried to
give vmware a normal disk-image over loop  but vmware does'nt work
with this device. So i think my vmware (2.x) has general problems with
loop-Devices :(

&gt;
&gt; clemens
&gt;
&gt; p.s.: please have a look at http://www.netmeister.org/news/learn2quote.html
&gt;
I know how to quote, but on "normal" business contacts we must use the
"business quote".


Jochen

-- 
--------------------------------------------------------------------
Jochen Schmidt                           jochen.schmidt@millenux.com
Millenux GmbH                                mobile: +49.175.5752483
Lilienthalstraße 2                          phone: +49.711.88770.300
70825 Stuttgart-Korntal                       fax: +49.711.88770.349
      -= linux without limits -=- http://linux.zSeries.org/ =-

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020617180816</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-06-17 18:08:16-0400</timestampReceived><subject>Re: how stable is the international patch for kernel 2.4.18?</subject><body>

Ilsa Gold wrote:
&gt; I  just set up a new Debian Linux system IMHO. All runs very well. I
&gt; just wanted to set up a few new partitions for holding so data I use to
&gt; work with. Now I thought it would be cool to de-/crypt them on the fly.
&gt; I use kernel version 2.4.18. No here is my question: How stable is the
&gt; patch for this kernel found under
&gt; http://www.kernel.org/pub/linux/kernel/crypto/v2.4/testing/? Could it be
&gt; seen as stable to use it in an productive environment or do I have to
&gt; bet every evening that my data is there again on the next day? ;-)))

Try loop-AES-v1.6e that I just announced. Loop-AES is twice as fast as
cryptoapi AES on most modern boxes and is compatible with all stable kernels
(-ac, -aa, mainline, distro vendor kernels). OTOH, if you actually enjoy
slow crypto or enjoy incompatibility with kernels with sane VM, then go with
cryptoapi crap.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020617214148</emailId><senderName>Dan Hollis</senderName><senderEmail>goemon@anime.net</senderEmail><timestampReceived>2002-06-17 21:41:48-0400</timestampReceived><subject>Re: how stable is the international patch for kernel 2.4.18?</subject><body>

On Mon, 17 Jun 2002, Jari Ruusu wrote:
&gt; Try loop-AES-v1.6e that I just announced. Loop-AES is twice as fast as
&gt; cryptoapi AES on most modern boxes and is compatible with all stable kernels
&gt; (-ac, -aa, mainline, distro vendor kernels). OTOH, if you actually enjoy
&gt; slow crypto or enjoy incompatibility with kernels with sane VM, then go with
&gt; cryptoapi crap.

As much as I like loop-AES, name calling and other ad hominem attacks 
are not the way to gain converts, Jari. Lay off the insults and sarcasm.

-Dan
-- 
[-] Omae no subete no kichi wa ore no mono da. [-]

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020617145833</emailId><senderName>Sean Neakums</senderName><senderEmail>sneakums@zork.net</senderEmail><timestampReceived>2002-06-17 14:58:33-0400</timestampReceived><subject>Re: Setting up loop-aes or crypto api with lvm</subject><body>

commence  Klaus Agnoletti quotation:

&gt; I want to set up lvm on top of a loop encrypted fs. I assume it
&gt; would work due to the modularity of the system, but before I try, I
&gt; would like to know if anyone has sucessfully tried this :-).

Cryptoloop works great for me on top of LVM.  No joy with EVMS last
time I tried, though.

-- 
 /////////////////  |                  | The spark of a pin
&lt;sneakums@zork.net&gt; |  (require 'gnu)  | dropping, falling feather-like.
 \\\\\\\\\\\\\\\\\  |                  | There is too much noise.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020611173543</emailId><senderName>Wayne F Davis</senderName><senderEmail>wfdavis@seas.upenn.edu</senderEmail><timestampReceived>2002-06-11 17:35:43-0400</timestampReceived><subject>Re: automating cryptoapi startup &amp; shutdown</subject><body>

&gt;
&gt; you can full automate the mount of your crypted filesystems. If you want
&gt; to do this, i think you don't need a crypted filesystem ;-)
&gt; I mount my crypted homedir with an init-script. Since i use this on my
&gt; laptop i haven'd hardcoded anything so it's more difficult for an
&gt; thief to figure out the right cipher/keylength/password combination.

Thanks.  I planned to look into the password issue...


w


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020611184720</emailId><senderName>Ben Slusky</senderName><senderEmail>sluskyb@paranoiacs.org</senderEmail><timestampReceived>2002-06-11 18:47:20-0400</timestampReceived><subject>Re: automating cryptoapi startup &amp; shutdown</subject><body>

On Tue, 11 Jun 2002 13:08:12 -0400, Wayne F Davis wrote:
&gt; Now, I want to automate some of the steps (losetup, modules, mount).  What
&gt; is the best way to go about doing this?  I would like to load the modules
&gt; on boot via modules.conf and have the mount command handle the losetup.
&gt; On shutdown, I would like the umounting to handle the losetup.  Is there
&gt; a way to do this easily (via modules.conf &amp; /etc/fstab)?  (I tried a few
&gt; things, but was getting some errors, so I figured I'd ask here.)

This can be done, with a patched util-linux package. Such a package is
standard with RedHat and Debian, and possibly others; if your mount(8)
man page does not mention the "encryption" and "keybits" options, then
get the patch at
&lt;URL:ftp://ftp.kernel.org/pub/linux/kernel/people/hvr/util-linux-patch-int/&gt;
and build it yourself.

Now, to mount /dev/hda7 as /home with 128-bit AES encryption, add to
your modules.conf:
	alias cipher-aes-ecb cipher-aes
	alias cipher-aes-cbc cipher-aes
and to your fstab:
	/dev/hda7 /home ext3 defaults,loop,encryption=aes,keybits=128 1 0

Note the 0 in the fsck-pass column, since you can't fsck it. Which isn't
too much of a problem if you use a journaling filesystem.

HTH,

-- 
Ben Slusky                      | "The sea was angry that day,
sluskyb@stwing.org              |  my friends, like an old man
sluskyb@paranoiacs.org          |  trying to send back soup at a
PGP keyID ADA44B3B              |  deli..."     -George Costanza
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020611192006</emailId><senderName>Wayne F Davis</senderName><senderEmail>wfdavis@seas.upenn.edu</senderEmail><timestampReceived>2002-06-11 19:20:06-0400</timestampReceived><subject>Re: automating cryptoapi startup &amp; shutdown</subject><body>

On Tue, 11 Jun 2002, Ben Slusky wrote:

&gt; On Tue, 11 Jun 2002 13:08:12 -0400, Wayne F Davis wrote:
&gt; &gt; Now, I want to automate some of the steps (losetup, modules, mount).  What
&gt; &gt; is the best way to go about doing this?  I would like to load the modules
&gt; &gt; on boot via modules.conf and have the mount command handle the losetup.
&gt; &gt; On shutdown, I would like the umounting to handle the losetup.  Is there
&gt; &gt; a way to do this easily (via modules.conf &amp; /etc/fstab)?  (I tried a few
&gt; &gt; things, but was getting some errors, so I figured I'd ask here.)
&gt;
&gt; This can be done, with a patched util-linux package. Such a package is
&gt; standard with RedHat and Debian, and possibly others; if your mount(8)
&gt; man page does not mention the "encryption" and "keybits" options, then
&gt; get the patch at
&gt; &lt;URL:ftp://ftp.kernel.org/pub/linux/kernel/people/hvr/util-linux-patch-int/&gt;
&gt; and build it yourself.

I do have the updated util-linux package.

&gt; Now, to mount /dev/hda7 as /home with 128-bit AES encryption, add to
&gt; your modules.conf:
&gt; 	alias cipher-aes-ecb cipher-aes
&gt; 	alias cipher-aes-cbc cipher-aes
&gt; and to your fstab:
&gt; 	/dev/hda7 /home ext3 defaults,loop,encryption=aes,keybits=128 1 0

my modules.conf includes:
alias cipher-aes-ecb cipher-aes
alias cipher-aes-cbc cipher-aes

my fstab:
/dev/loop0 /mnt/crypt ext3 defaults,loop,encryption=aes,keybits=128 1 0

---

However, I can't mount the drive using mount ...
# mount /mnt/crypt
ioctl: LOOP_SET_FD: Device or resource busy

First, I have to setup the loopback device with losetup, after loading
the modueles:
# modprobe cipher-aes
# modprobe cryptoloop
# losetup -e aes /dev/loop0 /path/cryptfile

Then, I can mount it:
mount /dev/loop0 /mnt/crypt

--

Is there anyway I can simplify this?  So that I can just type mount
/mnt/crypt and type in my password (w/o scripting it)?

Thank,
Wayne

&gt;
&gt; Note the 0 in the fsck-pass column, since you can't fsck it. Which isn't
&gt; too much of a problem if you use a journaling filesystem.
&gt;
&gt; HTH,
&gt;
&gt;

-- 
Wayne Davis - wfdavis@seas.upenn.edu - PGP Key Available

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020603135944</emailId><senderName>Jean-Luc Cooke</senderName><senderEmail>jlcooke@certainkey.com</senderEmail><timestampReceived>2002-06-03 13:59:44-0400</timestampReceived><subject>Re: kerneli patch and aes over loopback</subject><body>

Correction to everyone.

I got confused with some other linux crypto projects I was
researching.  loopaes nor cryptoloop have seperate user and fskeys.

Could the maintainers please comment on the design rational behind
this?  And Jari as well one the design rational behind not hashing the
user password?

Thank you

JLC

On Mon, Jun 03, 2002 at 01:18:18PM +1000, Benjamin Edser wrote:
&gt; Hello,
&gt; 
&gt; I'm concerned about your latest post to the linux-crypto list.
&gt; 
&gt; &lt;snip&gt;
&gt; &gt; It can be done easily in loopAES since it has a userkey as well as a
&gt; &gt; FSkey.
&gt; 
&gt; Are you sure? If this is true for loop-AES, then according to hvr it is also 
&gt; true for cryptoapi (see cryptoloop.txt documentation in crypto-api source 
&gt; tree) since you can migrate loop-aes to cryptoapi in a trivial manner.
&gt; 
&gt; I seriously doubt that this feature is in cryptoapi (remember cryptoapi is not 
&gt; just for disk encryption...), and therefore, seriously doubt that it is in 
&gt; loop-aes.
&gt; 
&gt; Can you recheck this, and also provide the source for your info.
&gt; 
&gt; thanks heaps
&gt; Ben

-- 
http://www.certainkey.com
Suite 4560 CTTC
1125 Colonel By Dr.
Ottawa ON, K1S 5B6
C: 613.263.2983
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020612033448</emailId><senderName></senderName><senderEmail>benjamin@hot-shot.com</senderEmail><timestampReceived>2002-06-12 03:34:48-0400</timestampReceived><subject>RE: 7735JhJE0-233YuGm9085hEPz2--25</subject><body>

------=_NextPart_000_00B8_40E30C6C.E3020E48
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: base64


c2FsdXQNCmhpDQoNCkonYWkgcmVncm91cGUgc3VyIHVuIHNpdGUgbGVzIG1l
aWxsZXVycyBzaXRlcyB4IGdyYXR1aXRzIHF1ZSBqJ2FpIHB1IHRyb3V2ZXIN
CmVuIDUgYW5zIGRlIHN1cmYhDQoNCkkndmUgcmVncm91cCBoZXJlIHRoZSBi
ZXN0IGZyZWUgYWR1bHQgc2l0ZXMgaSd2ZSBmaW5kIG9uIHRoZSB3ZWIgZHVy
aW5nIDUgeWVhcnMgb2Ygc3VyZiENCg0KbCdhZHJlc3NlICh0aGUgYWRkcmVz
cykgOg0KDQpodHRwOi8vd3d3LnRoZXpzLmNvbS8wMDMwDQoNCnZpc2l0ZXog
bW9uIHNwb25zb3IgcG91ciBtJ2FpZGVyIQ0KUGxlYXNlIHZpc2l0IG15IHNw
b25zb3IgdG8gaGVscCBtZSENCg0KUG91ciBuZSBwbHVzIHJlY2V2b2lyIGQn
ZW1haWwgZWNyaXZleiBtb2kg4CByZW1vdmVAcmVtb3ZlLXRvcC5jb20gYXZl
YyBjb21tZSBzdWpldCByZW1vdmUNCklmIHlvdSB3YW50IHRvIHN0b3AgdG8g
cmVjZWl2ZSBtYWlscyBlbWFpbCBtZSBhdCAgcmVtb3ZlQHJlbW92ZS10b3Au
Y29tIHdpdGggdGhlIHN1YmplY3QgcmVtb3ZlDQoNCjYNCg0KIA0KOTY0N2Fu
d0c3LTk0NXFGaFQyOTUzWGlMSTItNTQ4WXZsMzA=
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020614044306</emailId><senderName>cRACkeT</senderName><senderEmail>crack@yahoo.ru</senderEmail><timestampReceived>2002-06-14 04:43:06-0400</timestampReceived><subject>Latest Updates for Crack Dialer</subject><body>

Latest Updates

- 83 Deutsche Hardcore Livechatshows
- 90 Livestudios mit Stripchat
- 3.950 Internationale Livechatshows
- 85 000 Softcorevideos
- 525 000 Hardcorevideos
- 950 000 Hardcorebilder
CRACKED DIALER !!!
http://www.camcrack.hpg.ig.com.br/1/crack/index.html
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020616113322</emailId><senderName>"Mr.YU"</senderName><senderEmail>farming-machine@cqxh.com</senderEmail><timestampReceived>2002-06-16 11:33:22-0400</timestampReceived><subject>General Machine</subject><body>

This is a multi-part message in MIME format

Dear Sir:
We are indebted for your address to the Internet. And know that you are in =
the market for Agriculture Machinery. 
It is on this subject that we approach you today in the hope of establishing =
mutually beneficial trading relations.
Chongqing ZongShen General Power Machine Co. LTD. It is a subsidiary under =
the jurisdiction of ZongShen Group, invested 50 Million CNY from ZongShen =
Group&amp;HongKong Enterprise. The company is mainly engaged in the R&amp;D, =
production of utility gasoline engine and also including the utility =
machinery powered by which, the latest international utility engine =
technology was introduced.
Currently our company products range covers utility gasoline engine, =
multi-functional Mini-tiller, generators, water pump, etc. Annual production =
capacity can reach 500 thousand sets.
We determined high-tech&amp;premium-quantity as our start point, aims to build-up =
a hundred-year-managing enterprise, and to establish worldwide brand. With =
the strong and powerful back-up from ZongShen Group, the first-class =
personnel resource, the latest high-technology, advanced equipment, complete =
management system, our company will put all our efforts to build-up the =
first-rate brand in the specialized field.
Kindly please click on our website and get the detail information of our =
products.
http:///www.cq114.com.cn/English/production/mechanic/nongji/zongshen/index.ht=
m
Should you need anything not mentioned on the list , we shall do everything =
necessary, upon receipt of your detailed requirements, to procure the said =
items for you.
 
For your information, in our trade with customers in many countries, we =
always adhere to the principle of equality, mutual benefit and the exchange =
of need goods thus, by our joint efforts, to promote both business and =
friendship to our mutual advantage.
 
We look forward to receiving your enquires soon, and remain,
Yours faithfully
Mr. Yu Wei
E-mail: farming-machine@cqxh.com
Fax:86-23-67635036
Tel:86-23-67635035-8007
 
  
   
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020616122050</emailId><senderName>"Mr.Weilin"</senderName><senderEmail>motorcycle@qinghecq.com</senderEmail><timestampReceived>2002-06-16 12:20:50-0400</timestampReceived><subject>China motorcycle</subject><body>

This is a multi-part message in MIME format

Be interested in importing motorcycles from China, you are on the right way!

China Chongqing International Econ &amp; Tech Exchange (Group) Co., Ltd.
CHONGQING YINGANG ENERGY SAVING MOTORCYCLE CO., LTD.


Dear Sir/Madam,
Our company produces and distributes various whole motorcycle units =
(displacement ranging from 48cc to 250cc, including two-wheel motorcycle and =
three-wheel motorcycle, for carrying goods and taking passengers) and =
accessories especially main accessories of motorcycle, such as engine =
(including crankcase, crankshaft connecting rod, carburetor, engine cylinder =
head, cylinder body, clutch, piston and piston rings), frame, fuel tank, =
shock absorber, disk brake, panels, wheel hub and so on.
So far, they have sold very well to markets in many countries and areas =
around Asia, Africa and Latin America, meanwhile, we establish service spots =
and sub-factories around there. We would now like to market the motorcycles =
and spare parts directly in your country. 
We would appreciate your advise on whether your company would be interested =
in acting as a distributor in the your country or if you have any =
recommendations on any other your country's associates who might also be =
interested. 
For further information about our products, kindly please visit our web page: =
http://www.cq114.com.cn/English/production/jiaotongys/moto/motozhanshi/YG/yg5=
0qt.htm
We look forward to your reply.
Yours sincerely,

Best regards,

Department Manager of Foreign Trade
Telephone: 86-23-67635035-8007
Fax: 86-23-67635036

E-mail:motorcycle@qinghecq.com
http://www.cq114.com.cn/English/production/jiaotongys/moto/motozhanshi/YG/yg5=
0qt.htm
  
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020616124604</emailId><senderName>"Ms.Nili"</senderName><senderEmail>wolf@cq114.com.cn</senderEmail><timestampReceived>2002-06-16 12:46:04-0400</timestampReceived><subject>CNG Station</subject><body>

This is a multi-part message in MIME format

Be interested in importing compressors from China, you are on the right way!
China Chongqing International Econ &amp; Tech Exchange (Group) Co., Ltd.
Chongqing Gas Compressor Factory


Dear Sir/Madam,
      Chongqing Gas Compressor Factory produces and distributes middle and =
small type; high, middle and low pressure compressors for L type, V type, W =
type, Z type, S type seven series; 260 specifications; oil-lubricated or =
non-lubricated; stationary or moved type; driven by motor of diesel engine; =
water-cooled or air-cooled; controlled by auto record and mini-computer. =
Compressor's discharge capacity from 0.09m3/min to 80m3/min, and discharge =
pressure can be up to 41.4MPa.Mediums pressed are air, hydrogen gas, cracked =
gas, nitrogen-hydrogen gas, carbon dioxide, chlorine gas, mine gad, cool gas, =
natural gas, petroleum gas, as well as rare gas such as helium gas, neon gas, =
argon gas, krypton gas, xenon gas, radon gas, The productions widely apply to =
various industry departments. Our technical level of the complete equipment =
of natural gas filling station for vehicle, wind-cooled, high-pressure =
compressors are all in the lead in our country.
Our company specializes in developing and manufacturing the complete =
equipment of NGV (Natural Gas for Vehicle) station (including compressor, =
industry control computer or PLC control system, low-pressure dehydration =
device, high-pressure dry device, desulphurization device, storage cascade, =
dispenser, priority fill panel, high pressure valves, etc.). In addition our =
company can undertake station design and engineering installation. With the =
international advanced technology of complete equipment of NGV filling =
station, our company has the ability to design and manufacture various =
compressors and complete equipment of high performance, large type, middle =
type, small type, water-cooling, air-cooling, water and air mixture cooling =
for filling station and daughter-mother station. According to the demands of =
users, the company can provide with imported original compressor, assembled =
compressor with imported parts and nationalized compressors with different =
degrees those are driven by electric motor or natural gas engine.
So far, they have sold very well to markets in many countries and areas We =
would now like to market the equipments for natural gas filling station and =
spare parts directly in your country. 
We would appreciate your advise on whether your company would be interested =
in acting as a distributor in the your country or if you have any =
recommendations on any other your country's associates who might also be =
interested. 
For further information about our products, kindly please visit our web page: =
http://www.cq114.com.cn/English/production/mechanic/Compressor/index.htm
We look forward to your reply.
Best regards,
Ms.Nili
 Department Manager of Foreign Trade
Telephone: 86-23-67635035-8007
Fax: 86-23-67635036

E-mail:wolf@cq114.com.cn
http://www.cq114.com.cn/English/production/mechanic/Compressor/index.htm
  
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020616194026</emailId><senderName>AARG! Anonymous</senderName><senderEmail>remailer@aarg.net</senderEmail><timestampReceived>2002-06-16 19:40:26-0400</timestampReceived><subject>Re: Fed up with spam</subject><body>

   So why don't you just unsubscribe? Given the nature of this
list, it's important that non-subscribers be able to post, like
this, anon if they wish. There hasn't been all that much spam 
from the list in the first place. So who cares if it gets 
blacklisted by spamcop -- that's just another clueless big brother
anyway.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020617154201</emailId><senderName>Dale Amon</senderName><senderEmail>amon@vnl.com</senderEmail><timestampReceived>2002-06-17 15:42:01-0400</timestampReceived><subject>Re: Setting up loop-aes or crypto api with lvm</subject><body>

On Mon, Jun 17, 2002 at 04:54:01PM +0200, Klaus Agnoletti wrote:
&gt; I want to set up lvm on top of a loop encrypted fs. I assume it would
&gt; work due to the modularity of the system, but before I try, I would like
&gt; to know if anyone has sucessfully tried this :-).

I run it on top of md0 raid partitions with no problem.

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020617215516</emailId><senderName>Dale Amon</senderName><senderEmail>amon@vnl.com</senderEmail><timestampReceived>2002-06-17 21:55:16-0400</timestampReceived><subject>Re: how stable is the international patch for kernel 2.4.18?</subject><body>

The cryoptoapi is suffiiciently fast and stable to run
cryptoswap under a 486dx based firewall with no noticeable
slowdown and no faults in months of continual operation
on a heavily used .5MBS external line.

-- 
------------------------------------------------------
    Nuke bin Laden:           Dale Amon, CEO/MD
  improve the global          Islandone Society
     gene pool.               www.islandone.org
------------------------------------------------------
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020619185108</emailId><senderName>Dan Hollis</senderName><senderEmail>goemon@anime.net</senderEmail><timestampReceived>2002-06-19 18:51:08-0400</timestampReceived><subject>Re: Announce loop-AES-v1.6e file/swap crypto package</subject><body>

On Wed, 19 Jun 2002, Jari Ruusu wrote:
&gt; Harmon Seaver wrote:
&gt; &gt;     What about other journaling files systems like XFS?
&gt; Dunno about XFS. If it journals meta-data only and can't guarantee ordered
&gt; writes to file-data, this is probably a bad setup:
&gt;     xfs -&gt; loop -&gt; xfs -&gt; partition

xfs definitely doesn't order writes.

-Dan
-- 
[-] Omae no subete no kichi wa ore no mono da. [-]

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020622011335</emailId><senderName>"BridesCity, Inc."</senderName><senderEmail>info@bridescity.com</senderEmail><timestampReceived>2002-06-22 01:13:35-0400</timestampReceived><subject>Still Single?</subject><body>

[Attachment #2 (multipart/alternative)]



[Attachment #5 (text/html)]

&lt;META HTTP-EQUIV="Content-Type" CONTENT="text/html;charset=Windows-1252"&gt;
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"&gt;
&lt;HTML&gt;&lt;HEAD&gt;&lt;TITLE&gt;BridesCity, Inc. E-Mail&lt;/TITLE&gt;
&lt;META http-equiv=Content-Type content="text/html;
charset=windows-1252"&gt;&lt;BASE 
href="file://D:\BridesCity Signatures\"&gt;
&lt;META content="MSHTML 6.00.2715.400" name=GENERATOR&gt;
&lt;STYLE&gt;&lt;/STYLE&gt;
&lt;/HEAD&gt;
&lt;BODY bgColor=#ffffff background="cid:BG4_Small.gif"&gt;
&lt;DIV&gt; &lt;/DIV&gt;
&lt;TABLE width="75%"&gt;
  &lt;TBODY&gt;
  &lt;TR&gt;
    &lt;TD vAlign=top&gt;&lt;img src="cid:Logo_v.gif"&gt;&lt;/TD&gt;
    &lt;TD vAlign=top&gt;
      &lt;FONT size=-2 face="Tahoma"&gt;You are NOT on any mailing list.  This is
a one-time mailing ONLY.&lt;BR&gt;
      I am just trying to promote my business. If you, or anyone you know,
would be interested in my services, &lt;BR&gt;
      feel free to visit my site.  Otherwise, I sincerely appologize for
taking up your time with this message.&lt;BR&gt;
      Alexey.&lt;/FONT&gt;&lt;BR&gt;
      &lt;DIV align=center&gt;&lt;FONT face="Monotype Corsiva" color=#ff9900 
      size=7&gt;&lt;STRONG&gt;Still Single?&lt;/STRONG&gt;&lt;/FONT&gt; &lt;/DIV&gt;
      &lt;DIV align=center&gt; &lt;/DIV&gt;
      &lt;DIV align=center&gt;&lt;FONT face=Arial size=5&gt;Many beautiful women are
waiting 
      for you at&lt;/FONT&gt; &lt;A href="http://www.bridescity.com/"&gt;&lt;FONT
face=Arial 
      color=#ff9900
size=5&gt;&lt;STRONG&gt;www.BridesCity.com&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/A&gt;&lt;FONT 
      size=5&gt; !&lt;/FONT&gt; &lt;/DIV&gt;
      &lt;DIV align=center&gt; &lt;/DIV&gt;
      &lt;DIV align=center&gt;&lt;STRONG&gt;&lt;U&gt;We will help you find your one and only 
      perfect match that you have been looking for all your life. &lt;BR&gt;Or, 
      perhaps, they will find you&lt;/U&gt;?&lt;/STRONG&gt; &lt;/DIV&gt;
      &lt;DIV align=center&gt; &lt;/DIV&gt;
      &lt;DIV align=center&gt;You can create your profile and place your photos
on our 
      server at &lt;STRONG&gt;&lt;FONT size=4&gt;absolutely &lt;FONT color=#ff0000&gt;no 
      cost&lt;/FONT&gt; to you&lt;/FONT&gt;&lt;/STRONG&gt;. &lt;BR&gt;Information you choose to
publish 
      will be available to our clients from all over the world. &lt;/DIV&gt;
      &lt;DIV align=center&gt; &lt;/DIV&gt;
      &lt;DIV align=center&gt;&lt;FONT size=4&gt;At your request we will translate your
profile information to all the languages supported by our website.&lt;/FONT&gt; 
      &lt;/DIV&gt;
      &lt;DIV align=center&gt; &lt;/DIV&gt;
      &lt;DIV align=center&gt;If the person of your choice does not speak your 
      language -- no problem!  &lt;FONT size=4&gt;&lt;U&gt;We can translate
letters and 
      e-mails&lt;/U&gt;&lt;/FONT&gt;!&lt;/DIV&gt;
      &lt;DIV align=center&gt; &lt;/DIV&gt;
      &lt;DIV align=center&gt;&lt;FONT size=4&gt;We want to be with you at every step
on 
      your way to creating a happy family.&lt;/FONT&gt;&lt;/DIV&gt;
      &lt;DIV align=center&gt;&lt;FONT size=4&gt;We will help you and provide advice 
      throughout that journey, but you must make the first
step.&lt;/FONT&gt;&lt;/DIV&gt;
      &lt;DIV align=center&gt;&lt;FONT size=4&gt;Join us, and find the love You’ve been
waiting for.&lt;/FONT&gt;&lt;/DIV&gt;
      &lt;DIV align=center&gt;&lt;FONT size=4&gt;&lt;/FONT&gt; &lt;/DIV&gt;
      &lt;DIV align=center&gt;&lt;FONT color=#ff0000 size=5&gt;Visit us
today!&lt;/FONT&gt;&lt;/DIV&gt;
      &lt;DIV align=center&gt;&lt;B&gt;&lt;A href="http://www.bridescity.com/"&gt;&lt;FONT 
      face="Monotype Corsiva" color=#ff9900 
      size=7&gt;www.BridesCity.com&lt;/A&gt;&lt;/B&gt;&lt;/DIV&gt;&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;
  &lt;TR&gt;
    &lt;TD&gt; &lt;/TD&gt;
    &lt;TD vAlign=bottom align=left&gt;&lt;img
src="cid:TradeMarkSmall.gif"&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/BODY&gt;&lt;/HTML&gt;
["BG4_Small.gif" (image/gif)]
["Logo_v.gif" (image/gif)]
["TradeMarkSmall.gif" (image/gif)]

</body></email><email><emailId>20020622085232</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-06-22 08:52:32-0400</timestampReceived><subject>Re: How to find out what kernel module was used for encryption ?</subject><body>

Martin Tischmann wrote:
&gt; after a HD-Crash my kernel modules loop_fish is lost.
&gt; I used twofish for encryption of hole hd´s, but i don´t remember the kernel
&gt; and patch i used.
&gt; On kernel 2.4 i used insmod -f to load the old module, but now it is lost
&gt; and i don´t have any idea how to get my data back.
&gt; 
&gt; I gues it was something before cryptoapi and maybe a 2.0 or 2.2 kernel on a
&gt; SuSE 6.4 - 7.1.
&gt; 
&gt; Is there any way to find out what module is the right one ?

If you use loop-AES + extra ciphers modules, there is a twofish module that
is 100% compatible with SuSE kernel loop_fish2.c cipher. You will have to
use "phash=rmd160,loinit=1" mount options because SuSE twofish IV
computation is incompatible with normal cryptoapi and loop-AES IV
computation. "phash=rmd160" mount option switches to RIPE-MD160 password
hash used by SuSE mount. "loinit=1" mount option enables SuSE compatible IV
computation.

README files in both packages provide more information about how to build
and use the packages. Here is announcement for latest versions:

http://mail.nl.linux.org/linux-crypto/2002-06/msg00038.html
  or
http://marc.theaimsgroup.com/?l=linux-crypto&amp;m=102433721500760&amp;w=2

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020622203738</emailId><senderName>"W. Michael Petullo"</senderName><senderEmail>mike@flyn.org</senderEmail><timestampReceived>2002-06-22 20:37:38-0400</timestampReceived><subject>Stable release</subject><body>

Man, do I love this pam_mount/encrypted home directories thing!  How far
away is patch-int-2.4.x and the util-linux patch away from being
considered stable?

Quite some time ago I had some data on an encrypted filesystem get
corrupted.  I had backups, but I'd like to hear some opinions about when
this stuff should be used on production systems.

Thank you.

-- 
Mike

:wq
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020625145906</emailId><senderName>"Mr.Zhou"</senderName><senderEmail>machine-tool@qinghecq.com</senderEmail><timestampReceived>2002-06-25 14:59:06-0400</timestampReceived><subject>machine tool</subject><body>

This is a multi-part message in MIME format

                         We are from Chongqing of China
Dear sir:
We are pleasure to obtain your name and email from Internet.and know that you =
are
in the market for machine tool . Please allow to introduce  ourselves as =
following:
    
Our company are specialized in the machine tool products such as : 
&gt;1.Gear producing Machine
&gt;Include: Gear hobbers,Gear ,Shapers,Gear shavers,Gear honing Machines ,Gear =
Grinders,Gear Rounding Machine,Gear Tooth chamfering Machine ,Gear Tooth =
rolling Mill ,Cold rolling Machine ,Gear Noise Tester ,Gear testers, ETC.

&gt;2.Milling machine
&gt;Include: knee-type series miller, F series heavy duty knee-type miller,NC =
knee-type series miller ,drilling &amp;milling machine, etc.  Now it has 6 =
series, more than 50 kinds of products.
&gt;3. Lathe machine
&gt;Include: Engine Lahtes,Precision Lathes,Pecision High-speed Lathes,Gap-Bed =
Lathes, Pistion Lahtes, NC lathes,Numeral Display Engine Lathes ETC..
4. Various radial arm drilling machine.

For more information , kindly please visit our website 
http://www.cq114.com.cn/English/production/Machinetool/index.htm
or
http://www.cq114.com.cn/English/production/Machinetool/machine.htm


If you have the interesting in our machine ,Kindly please contact us .

We hope to cooperation with you in this aspect. 
Please send your comment and suggestion.
Wish you nice a day!
Best wishes.
Mr.Haibing Zhou  Email : weilinwang@163.net
Telephone: 86-23-67635035-8007
Fax: 86-23-67732102
Address: 18-6, Zhongxin Bank Mansion,
Jiangbei District, Chongqing, China Mainland
Chongqing machine tool Co.Ltd.



  
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020629161555</emailId><senderName>"W. Michael Petullo"</senderName><senderEmail>mike@flyn.org</senderEmail><timestampReceived>2002-06-29 16:15:55-0400</timestampReceived><subject>Encrypted home directories</subject><body>

I just placed a modified version of pam_mount, the PAM module that allows
for encrypted home directories, at http://www.flyn.org.  I can not get a
hold of Elvis, the original author, so I can not submit a patch to him.
Here is the ChangeLog relative to 0.3.2:

* Fixed bug that caused segfault when unmounting with debugging on.

* Location of config file is now /etc/security/pam_mount.conf by default.

* UID of pmhelper process is now set to 0 since euid of 0 is not enough
for using mount (makes u+s su work).

* Mount point is now optional in pam_mount.conf for local mount type.
See pam_mount.conf example.

* Debug messages are now logged with syslog.

* Cleaned up debug messages a bit.  Separated into log and debug messages.
Log messages are important and are printed even if debugging is off.

* Got rid of some C++ style comments.

-- 
Mike

:wq
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020630150727</emailId><senderName>Tobias Ringstrom</senderName><senderEmail>tobias@ringstrom.mine.nu</senderEmail><timestampReceived>2002-06-30 15:07:27-0400</timestampReceived><subject>[ANNOUNCE] ipsec_tunnel-0.2.2 released</subject><body>

Today I have released version 0.2.2 of my IPsec tunnel package.  This is a
bug fix release and contains no new features.  You can download the
package from http://ringstrom.mine.nu/ipsec_tunnel/ as usual.  There are
no known bugs at this time.

I have also added two mailing lists: one for announcements and one for
general discussion.  You can find more information on the web page.

From the NEWS file:

Bug fixes for 0.2.2
===================

* Compile with -aa kernels (e.g. 2.4.19-rc1aa1)

* Fixes after review by Norman Shulman:

  - Fixed an incorrect unlock in an error path.

  - Fixed potential panic for SIOCIPSEC_GET_SA for an SA with no
    cipher.

* A few minor issues that have no influence on the functionality.

Enjoy!

/Tobias

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020630165433</emailId><senderName>"SANDRA SAVIMBI"</senderName><senderEmail>san_sav@mail.com</senderEmail><timestampReceived>2002-06-30 16:54:33-0400</timestampReceived><subject>please kindly get back to me</subject><body>

   Dear Friend,
This letter may come to you as a surprise due to the fact that we have
not yet met. The message could be strange but reel if you pay some 
attention to it. I could have notified you about it at least for the sake of your
integrity. Please accept my sincere apologies. In bringing this message
of goodwill to you, I have to say that I have no intentions of causing
you any pains.
I am Ms. Sandra savimbi, daughter of the late rebel leader Jonas savimbi
of Angola who was killed on the 22nd of febuary 2002 . I managed to get
your contact details through "The World Business Journal", a journal
of the Johannesburg Chamber of Commerce in South Africa in the time I
was desperately looking for a trustworthy person to assist me in this
confidential business.
my late father, Jonas savimbi was able to deposit a large sum of money
in differnt banks in europe My father is presently death and the movement
of his family members (including me) is restricted. We are forbidden
to either travel abroad or out of our localities. Presently, the 
US$25,600,000.00 twentyfive, MILLION, six HUNDRED DOLLARS my father transfered to
Netherlands is safe and is in a security firm.  I am therefore soliciting your
help tohave this money transfered into your account. before my government get
wind of this fund .You know my father was a rebel leader in Angola 
before his death My reason for doing this is because it will be difficult
for the Angolan government to trace my father's money to an individual's
account, especially when such an individual has no relationship ,I decided
to keep that money for my family use. At present the money is kept in a 
Security Company in nertherland.
I am currently and temporarily living in Angola with my husband.

 Moreover the political climatein Angola at the moment being so sensitive and \
unstable. When you are ready i will give you the information needed before you can \
get access  to the fund you will then proceed to Netherlands where the \
US$25,600,000.00  twentyfive, MILLION, six HUNDRED DOLLARS will be given to you as \
payment. Alternatively, you can have the fund transferred into any account that suits \
you.

and for your co-operation and partnership, we have unanimously agreed that you will
be entitled to 5.5% of the money when successfully receive it in your account.
 The nature of your business is not relevant to the successful execution of this
transaction.  kindly provide me with all your contacts addresses including your \
personal telephone and fax number.  All correspondence is for the attention of my \
counsel:joseph edward.  Kindly get back to us.
Sandra Savimbi.



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020502094003</emailId><senderName>ioxhMarketer</senderName><senderEmail>csinfonet@ahpcorp.com</senderEmail><timestampReceived>2002-05-02 09:40:03-0400</timestampReceived><subject>Question about your services. hqcro</subject><body>

&lt;html&gt;

&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=windows-1252"&gt;
&lt;meta name="GENERATOR" content="Microsoft FrontPage 4.0"&gt;
&lt;meta name="ProgId" content="FrontPage.Editor.Document"&gt;
&lt;title&gt;Hello  The reason for this email is to introduce myself and to see
if there is anything we could do to help each other out&lt;/title&gt;
&lt;/head&gt;

&lt;body bgcolor="#C0C0C0"&gt;

&lt;div align="center"&gt;
  &lt;center&gt;
  &lt;table border="1" width="100%" cellspacing="0" cellpadding="5" \
bordercolor="#000080" bgcolor="#F5F5F5"&gt;  &lt;tr&gt;
      &lt;td width="100%"&gt;
        &lt;table border="0" width="100%" cellspacing="0" cellpadding="3"&gt;
          &lt;tr&gt;
            &lt;td width="3%"&gt;&lt;/td&gt;
            &lt;td width="97%"&gt;&lt;font face="Arial"&gt;&lt;b&gt;&lt;font color="#000080"&gt;Hello
              fellow internet marketer. &lt;/font&gt;&lt;font size="1" color="#800000"&gt;
              #recipient#&lt;/font&gt;&lt;/b&gt;&lt;br&gt;
              &lt;br&gt;
              &lt;font size="2"&gt;&lt;b&gt;The reason for sending this email to you is to \
                introduce
              myself and to see if there is anything we could do to help each
              other.&lt;/b&gt;&lt;br&gt;
              &lt;br&gt;
              My intention is not to sell you anything, we are in the same type of \
                business or at
              least have something in common business wise. &lt;/font&gt;&lt;font \
                size="2" color="#000080"&gt;&lt;b&gt;&lt;span style="font-variant: small-caps"&gt;
              Email marketing or Marketing in general&lt;/span&gt;&lt;/b&gt;&lt;/font&gt;&lt;font \
size="2"&gt;&lt;br&gt;  &lt;br&gt;
              I am targeting businesses that have the keywords email, email marketing \
                or
              anything to do with marketing in general. So please take a moment to \
                read
              this. My wish is to get to know your products and have you do the
              same with mine. Our site gets on average 5,000 very targeted
              customers a day and lots more that are looking to market a product
              or site. Our site is primarily marketed through the larger search
              engines and placement services.&lt;br&gt;
              &lt;br&gt;
              &lt;b&gt;&lt;font color="#000080"&gt;Introduction:&lt;/font&gt;&lt;/b&gt;&lt;br&gt;
              Our company is all about Email Marketing, Services, Software &amp;
              a whole lot more. We have been around for 2 1/2 years. We have many \
                clients that
              we service in many aspects of email marketing etc.&lt;/font&gt;&lt;br&gt;
              &lt;br&gt;
              &lt;b&gt;&lt;font color="#000080"&gt;I am interested in sharing ideas and possibly
              working together in some fashion. &lt;/font&gt;&lt;/b&gt;&lt;br&gt;
              &lt;br&gt;
              &lt;font color="#800000"&gt;&lt;b&gt;I am looking for interested parties that deal \
with  these categories:&lt;/b&gt;&lt;/font&gt;&lt;br&gt;
              &lt;font size="2"&gt;Opt-in lists&lt;/font&gt;, &lt;font size="2"&gt;email software, \
                marketing, email services, bulletproof,
              safelists, bulk friendly isp, bulk friendly, pop email boxes, Email, \
                bulk email hosting, bulletproof, web hosting, email
              hosting, bulkmail, bulkmailing, bulk email, bulkemail host, bulletproof \
                email, bulletproof web hosting, email optin
              hosting, opt-in, host, email, email lists, bulkemail isp.&lt;/font&gt;&lt;/font&gt;
              &lt;p&gt;&lt;font face="Arial"&gt;&lt;font size="2"&gt;Our company now handles all
              of the above categories.&lt;/font&gt;&lt;br&gt;
              &lt;br&gt;
              &lt;b&gt;&lt;font size="2"&gt;Please understand I am only looking for a direct \
                source not
              a sub source, my business is very well established so I am only
              interested in seasoned partners.&lt;/font&gt;&lt;/b&gt;&lt;br&gt;
              &lt;br&gt;
              &lt;font size="2"&gt;If you feel that you don't fit the above criteria it's \
                still
              possible for your company to use our services if you are interested.
              We can supply you with all of the above mentioned services so don'
              t hesitate to send us an email with your needs, we would be more
              than happy to handle your email marketing campaigns.&lt;/font&gt;&lt;br&gt;
              &lt;br&gt;
              &lt;br&gt;
              &lt;font size="2"&gt;If you have any interest in forming a relationship with
              us please contact by email at: &lt;a \
href="mailto:replyem@removefactory.com"&gt;replyem@removefactory.com&lt;/a&gt; &lt;/font&gt;&lt;/font&gt;&lt;/p&gt;
                
              &lt;p&gt;&lt;font size="2" face="Arial"&gt;Please give us a little info on
              yourself and your business in the reply email that you send \
us.&lt;/font&gt;&lt;font face="Arial"&gt;&lt;font size="2"&gt;&lt;br&gt;  &lt;/font&gt;&lt;br&gt;
              &lt;font color="#800000" size="2" face="Arial"&gt;&lt;b&gt;We have a whole lot to \
offer to  reasonable business partners.&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/p&gt;
              &lt;table border="0" width="100%" cellspacing="0" cellpadding="0"&gt;
                &lt;tr&gt;
                  &lt;td width="100%"&gt;&lt;font size="6"&gt; &lt;/font&gt;&lt;/td&gt;
                &lt;/tr&gt;
              &lt;/table&gt;
              &lt;hr color="#000080"&gt;
              &lt;p&gt;&lt;font face="Arial" size="2"&gt;If you received this and are not part of \
                the targeted group
              above we apologize as we are only trying to target this type of \
group.&lt;br&gt;  &lt;br&gt;
              &lt;br&gt;
              If you would like to never hear from us again please send an email to
              &lt;a href="mailto:replyem@removefactory.com"&gt;replyem@removefactory.com&lt;/a&gt; \
and put remove into the  subject line.&lt;/font&gt;&lt;/td&gt;
          &lt;/tr&gt;
        &lt;/table&gt;
        &lt;table border="0" width="100%" cellspacing="0" cellpadding="0"&gt;
          &lt;tr&gt;
            &lt;td width="100%"&gt;&lt;font size="1"&gt; &lt;/font&gt;&lt;/td&gt;
          &lt;/tr&gt;
        &lt;/table&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
  &lt;/center&gt;
&lt;/div&gt;

&lt;/body&gt;

&lt;/html&gt;

peggiayenwplvejxdsvtugou
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020504045952</emailId><senderName>"Eric"</senderName><senderEmail>ebenze@hotmail.com</senderEmail><timestampReceived>2002-05-04 04:59:52-0400</timestampReceived><subject>Can't post direct to the newsgroup?</subject><body>

Hi,

Is there a reason that I can't post directly to the nntp server?  I keep getting \
reject by it... 

"Outlook Express could not post your message.  Subject 'Encrypting root partition', \
Account: 'news.nl.linux.org', Server: 'news.nl.linux.org', Protocol: NNTP, Server \
Response: '441 You are not allowed to post to nlo.lists.linux-crypto', Port: 119, \
Secure(SSL): No, Server Error: 441, Error Number: 0x800CCCA9"

Is the only way through emailing  the mail-list?  Was hoping to be able to post \
directly to news.nl.linux.org : nlo.lists.linux-crypto.

Any ideas?

Thanks!

Eric


[Attachment #3 (text/html)]

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"&gt;
&lt;HTML&gt;&lt;HEAD&gt;
&lt;META http-equiv=Content-Type content="text/html; charset=iso-8859-1"&gt;
&lt;META content="MSHTML 6.00.2715.400" name=GENERATOR&gt;
&lt;STYLE&gt;&lt;/STYLE&gt;
&lt;/HEAD&gt;
&lt;BODY bgColor=#ffffff&gt;
&lt;DIV&gt;&lt;FONT face=Arial size=2&gt;Hi,&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=Arial size=2&gt;&lt;/FONT&gt; &lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=Arial size=2&gt;Is there a reason that I can't post directly to the 
nntp server?  I keep getting reject by it... &lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=Arial size=2&gt;&lt;/FONT&gt; &lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=Arial size=2&gt;"Outlook Express could not post your message.  
Subject 'Encrypting root partition', Account: 'news.nl.linux.org', Server: 
'news.nl.linux.org', Protocol: NNTP, Server Response: '441 You are not allowed 
to post to nlo.lists.linux-crypto', Port: 119, Secure(SSL): No, Server Error: 
441, Error Number: 0x800CCCA9"&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=Arial size=2&gt;&lt;/FONT&gt; &lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=Arial size=2&gt;Is the only way through emailing  the 
mail-list?  Was hoping to be able to post directly to news.nl.linux.org : 
nlo.lists.linux-crypto.&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=Arial size=2&gt;&lt;/FONT&gt; &lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=Arial size=2&gt;Any ideas?&lt;BR&gt;&lt;BR&gt;Thanks!&lt;/FONT&gt;&lt;/DIV&gt;&lt;FONT 
face=Arial size=2&gt;
&lt;DIV&gt;&lt;BR&gt;Eric&lt;/DIV&gt;
&lt;DIV&gt;&lt;/FONT&gt; &lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=Arial size=2&gt;&lt;/FONT&gt; &lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=Arial size=2&gt;&lt;/FONT&gt; &lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020507190643</emailId><senderName>Paul Walker</senderName><senderEmail>paul@black-sun.demon.co.uk</senderEmail><timestampReceived>2002-05-07 19:06:43-0400</timestampReceived><subject>Re: Encrypting root partition</subject><body>

On Sun, May 05, 2002 at 03:14:18AM -0400, Eric Benzacar wrote:

&gt; documentation which clearly lists everything that is being used.  However,
&gt; nothing specifies whether or not encrytped distributions fit under GPL or
&gt; not.  Maybe I'm not reading it clearly...

I don't know of any reason off-hand why you wouldn't be allowed to do it.
However, you'd also have to supply on demand the source code for any GPL
licensed programs that you'd modified, which includes the kernel and the
bulk of the utilities surrounding it. In light of this, I don't really see
what encrypting it gains you, since you'd have to give people the code
anyway.

-- 
Paul

And Paul [Tomko] has created Microsloth's new slogan: 
Bored with reliability? Install NT! Again and again! 
 -- Greg Andrews
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020509151431</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-05-09 15:14:31-0400</timestampReceived><subject>Announce loop-AES-v1.6c file/swap crypto package</subject><body>

loop-AES changes since previous release:
- Fixed genuine loop bug that always exports loop sector size as 512 bytes
  regardless of sector size of underlying device (2.4, 2.2 and 2.0 kernels).
  Thanks to Peter Niemayer for reporting and testing this bug.
- Merged build-initrd.sh /boot/grub/menu.lst comments and kernel halt
  changes from Jani Averbach.
- Modified build-initrd.sh to ask password again if mount failed. Also added
  workarounds for misconfigured/buggy bootloaders.
- Added -a option to losetup that shows status of all configured loop
  devices. Also fixed cosmetic bug that showed xor encryption as unknown.
- Merged reparent_to_init() and set_current_state() fixes from
  2.4.19-pre7-ac3
- Added workaround for 2.5 kernel block device module locking bug.
- loop.c-2.5.original updated with fixes from 2.5.14
- Fixed genuine loop bug that sometimes didn't sync all buffers before
  releasing device (2.2 kernels).

bzip2 compressed tarball is here:

    http://loop-aes.sourceforge.net/loop-AES-v1.6c.tar.bz2
    md5sum 35b43acb7bddd053fe371da321d214c1

PGP signature file, my public key, and fingerprint here:

    http://loop-aes.sourceforge.net/loop-AES-v1.6c.tar.bz2.sign
    http://loop-aes.sourceforge.net/PGP-public-key.asc
    1024/3A220F51 5B 4B F9 BB D3 3F 52 E9  DB 1D EB E3 24 0E A9 DD

Additional ciphers package has not been changed.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020511235911</emailId><senderName>eze martins</senderName><senderEmail>ezemartins@yahoo.com</senderEmail><timestampReceived>2002-05-11 23:59:11-0400</timestampReceived><subject>BUSINESS PROPOSAL</subject><body>

AUDITING AND ACCOUNTING UNIT.
FOREIGN REMITTANCE DEPT.
ECO BANQUE,
LOME- TOGO.

Dear Sir,
I MR. MOHAMMED BAKO, have decided to bestow this trust
on you.
During our investigation and auditing in this bank, my
department came across a very huge sum of money
belonging 
to a deceased person who died on november 1997 in a
plane
crash and the fund has been dormant in his account
with 
this Bank without any claim of the fund in our custody

either from his family or relation before our
discovery 
to this development.

Although personally,I keep this information secret
within 
myself and partners to enable the whole plans and idea
be 
profitable and successful. During the time
of execution. The said amount was US$10M(Ten million 
united states dollars).

As it may interest you to know, I got your impressive 
information through the business directory at chamber 
of commerce and Industry here in Lome- Togo where
I was seaching for a good relaible contact to do the 
business with.I was elated the time I saw your address

to propose the business to you.

Meanwhile all the whole arrangement to put claim over 
this fund as the bonafide next of kin to the deceased,

get the required approval and transfer this money to a

foreign account has been put in place and directives 
and needed information will be relayed to you as soon 
as you indicate your interest and willingness to
assist 
us and also benefit your self to this great business
opportunity.

In fact I could have done this deal alone but because 
of my position in this country as a civil servant,we 
are not allowed to operate a foreign account and
would eventually raise an eye brow on my side during 
the time of transfer because I work in this bank. 
This is the actual reason why it will require a 
second party or fellow who will forward claims as 
the next of kin with affidavit of trust of oath to 
the Bank and also present a foreign account where 
he will need the money to be re-transferred into
on his request as it may be after due verification 
and clarification by the correspondent branch of 
the bank,where the whole money will be remitted 
from to your own designation bank account.

I will not fail to inform you that this transaction 
is 100% risk free. The sharing rate of this money 
will be discussed later upon your favourable response
showing your zealous determination to assist us but 
the first priority is your total acceptance and 
commitment to assist.

Please,you have been adviced to keep top secret as 
we are still in service and intend to retire from 
service after we conclude this deal with you. I will
be
monitoring the whole situation here in this bank until

you confirm the money in your account and ask us to 
come down to your country for subsequent sharing of
the fund according to percentages previously indicated

and further investment,either in your country or any 
country you advice us to invest in.All other necessary
information will be sent to you when I hear from you.

I suggest you get back to me as soon as possible 
stating your wish in this deal.On this Email: 


Best Regard,
MOHAMMED BAKO
 



__________________________________________________
Do You Yahoo!?
LAUNCH - Your Yahoo! Music Experience
http://launch.yahoo.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020512043526</emailId><senderName>$B$3$s$K$A$O(J</senderName><senderEmail>ohayo@abcdefgh.com</senderEmail><timestampReceived>2002-05-12 04:35:26-0400</timestampReceived><subject>=?ISO-2022-JP?B?GyRCOkc4ZSROJUElYyVzJTkhKhsoSg==?=</subject><body>

$B$"$J$?$O7k:'$7$J$$$+$b$7$l$J$$!&amp;!&amp;!&amp;!#(J
$B$3$l$,:G8e$N%A%c%s%9$G$9!*$3$N%5%$%H$GM}A[$NAj&lt;j$H=P2q$C$F$/$@$5$$!#(J
$B7G&lt;(HD$X$N=q$-9~$_$OCK=w6&amp;L5NA$K$F$4MxMQ$$$?$@$1$^$9!#(J
$B%a!&lt;%k%"%I%l%9Hs8x3+7?$H$J$C$F$*$j$^$9$N$G0B?4$G$9!#(J

http://free.hope-net.com/~marg/e/index008.html

$BFMA3$3$s$J%a!&lt;%kAw$C$F$4$a$s$J$5$$!#(J
$B6=L#$,$J$+$C$?$i$3$N$^$^&lt;N$F$F$/$@$5$$!#(J

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020512172219</emailId><senderName>Michel Bouissou</senderName><senderEmail>michel@bouissou.net</senderEmail><timestampReceived>2002-05-12 17:22:19-0400</timestampReceived><subject>Re: Off-topic (was WARNING: Spam Mail that crashes KMail on Linux-crypto)</subject><body>

Le Dimanche 12 Mai 2002 17:24, Marc Mutz a écrit :
&gt;
&gt; &gt; I agree, an X11 crash is pretty severe. Kmail probably did something
&gt; &gt; naughty while trying to find an appropriate font(?). Maybe you
&gt; &gt; could install Japanese fonts, test again and file a bug report? :)
&gt;
&gt; I forwarded this already to the kmail list. A bug report would probably
&gt; be closed immediately as belonging to an obsolete version (we are at
&gt; 3.0.1 already).

I just fed the same mail onto the same machine with the same XFree 4.2 version 
and drivers and Xfree and font server config files, Using this time "Kmail 
1.4, using KDE 3.0.1, (CVS &gt;= 20020327)".

With this version of KMail, both the message subject and content displays in 
nice japanese characters which I cannot understand at all ;-) but that, at 
least, don't crash my X11 anymore.

So the bug clearly relates to KMail 1.3.2, but is fixed in KMail 1.4.

But KDE 3.0 stills shows a number of "rough edges" on my system, reasons for 
which I'm still sticking to KDE 2.2.2 for the time being ;-)

Best regards.

-- 
Michel Bouissou &lt;michel@bouissou.net&gt; OpenPGP ID 0x5C2BEE8F

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020512232901</emailId><senderName>Rik van Riel</senderName><senderEmail>riel@conectiva.com.br</senderEmail><timestampReceived>2002-05-12 23:29:01-0400</timestampReceived><subject>Re: WARNING: Spam Mail that crashes KMail on Linux-crypto</subject><body>

On Sun, 12 May 2002, Michel Bouissou wrote:

&gt; The Linux-crypto mailing-list is sometimes abused to transmit spam mail,
&gt; which is a pity. Couldn't this list be configured so only its
&gt; subscribers can post, preventing its abuse by spammers ?

That would also prevent crossposts between lists, which is
a very useful thing at times (eg. a crosspost between
linux-crypto and linux-fsdevel).

To make the spam situation better, I have added spamassassin
to the spam filter of NL.linux.org, now all mailing list mail
undergoes the following checks:

1) DNSBL tests:  SPEWS, spamhaus, DSBL and relays.visi.com

2) spamassassin

3) spamfilter, http://spamfilter.nl.linux.org/


kind regards,

Rik
-- 
Bravely reimplemented by the knights who say "NIH".

http://www.surriel.com/		http://distro.conectiva.com/

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020514173021</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-05-14 17:30:21-0400</timestampReceived><subject>Re: Port Loop AES to Solaris</subject><body>

Michael Zhu wrote:
&gt; Hello, guys, does anyone try to port the Linux loop
&gt; device to the SUN Solaris OS? I want to de/encrypt the
&gt; block device on Solaris. So is there any loop device
&gt; on Solaris just like that of Linux? Where can I find
&gt; some materials about this kind of porting?
&gt; 
&gt; Is there any information about de/encryption on
&gt; Solaris?

I have attached source for userspace program that does loop-AES compatible
encyption and decryption. It is used as a pipe; it reads from stdin and
writes encrypted/decrypted data to stdout. It can be used to
add/change/remove encryption from partitions and encrypted files, and also
can be used as tar filter to encrypt/decrypt tar archives.

It is portable and not Linux specific, but requires OpenSSL headers and
libraries.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
["aespipe-v1.0b.tar.bz2" (application/octet-stream)]
["aespipe-v1.0b.tar.bz2.sign" (text/plain)]

-----BEGIN PGP MESSAGE-----
Version: 2.6.3ia
Comment: http://loop-aes.sourceforge.net/PGP-public-key.asc

iQCVAwUAPOFFGjMKg0M6Ig9RAQGtxQQAnohkTRl5Jy6cOSfEJ+UTNLiK17x9IXRZ
2cUvjndutaVXDc/caJK+oYqDlluITt8pNkD+AdL6FbDDjNda+zO1kB+6wU4XjGjY
L4klV/v6Oh42Cd/hGtb2FNddhNWOudacvIZcuX+F15z6Pe6cWyQnBAsFtoKWYR43
uae98Gi2huY=
=dRCg
-----END PGP MESSAGE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020517182111</emailId><senderName>"www.searchshoes.com"</senderName><senderEmail>r-start@163.com</senderEmail><timestampReceived>2002-05-17 18:21:11-0400</timestampReceived><subject>offer to sell stock shoes</subject><body>

&lt;HTML&gt;&lt;HEAD&gt;
&lt;/HEAD&gt;&lt;FRAMESET border=0 frameBorder=0 frameSpacing=0 rows=100%,*&gt;
&lt;FRAME marginHeight=5 marginWidth=10 name=easymain
src="http://www.searchshoes.com"&gt;
&lt;/FRAMESET&gt;
&lt;/HTML&gt;
&lt;p&gt;¡¡&lt;/p&gt;

&lt;p&gt;¡¡&lt;/p&gt;

&lt;hr size="1" color="#FF0000"&gt;

&lt;p&gt;&lt;a
href="http://www.freeware.onchina.net"&gt;ÎÞÐè¸¶·Ñ×¢²á£¬×ÔÓÉ´«²¥Ê¹ÓÃ¡ª×ÔÓÉÈí¼þ×
¨ÒµÕ¾µã&lt;br&gt;
&lt;br&gt;
Ìõ ë´òÓ¡¡¢ÃÜ ëÆÆ½â¡¢ÆÁÄ»×¥Í¼¡¢ÎÄ¼þ·Ö¸î...&lt;br&gt;
&lt;br&gt;
µçÓÊËÑË÷¡¢ÓÊ¼þÈº·¢¡¢ÓÊÏäÇåÀí¡¢ÓÊ¼þÍ¨Öª...&lt;br&gt;
&lt;br&gt;
Èí¼þÑÝÊ¾¡¢Í¼±êËÑË÷¡¢·±¼ò×ª»»¡¢µç×ÓÍ¼Êé...&lt;br&gt;
&lt;br&gt;
ËÑÒ××ÔÓÉÈí¼þ³¬ÊÐ http://www.freeware.onchina.net&lt;/a&gt;&lt;/p&gt;

&lt;hr size="1" color="#FF0000"&gt;

 


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020528153313</emailId><senderName>Jean-Luc Cooke</senderName><senderEmail>jlcooke@certainkey.com</senderEmail><timestampReceived>2002-05-28 15:33:13-0400</timestampReceived><subject>Re: latest patches</subject><body>

Sandy said...
There may be overhead issues. How fast is SHA-256 compared to MD5
and SHA-1? This mainly a concern for random.c.

J-L says...
Look at http://www.esat.kuleuven.ac.be/~bosselae/ripemd160.html

sha256 is is 3times slower than md5, sha512 is 10times slower then
sha256 (mostly because of 64bit operations on a 32bit machine).

Is there a need for a single easy-to-code-with interface to all the
hash algorithms?  I've got one right here should you want it.  GPL of
course.  And should we want low-footprint implementations, I can send
those into the fry as well.

JLC

-- 
http://www.certainkey.com
Suite 4560 CTTC
1125 Colonel By Dr.
Ottawa ON, K1S 5B6
C: 613.263.2983
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020512144332</emailId><senderName>Stelios Bounanos</senderName><senderEmail>sb@dial.pipex.com</senderEmail><timestampReceived>2002-05-12 14:43:32-0400</timestampReceived><subject>Off-topic (was WARNING: Spam Mail that crashes KMail on Linux-crypto)</subject><body>

 &gt;&gt;&gt;&gt;&gt; On Sun, 12 May 2002 10:05:35 +0200, Michel Bouissou
 &gt;&gt;&gt;&gt;&gt; &lt;michel@bouissou.net&gt; was runoured to have said:

 &gt; Hi there,
 &gt; The Linux-crypto mailing-list is sometimes abused to transmit spam mail, 
 &gt; which is a pity. Couldn't this list be configured so only its subscribers can 
 &gt; post, preventing its abuse by spammers ?

 &gt; Well, last night 2 spams were transmitted thru Linux-crypto.

 &gt; The 2nd of these spams, when read in KMail 1.3.2 (KDE 2.2.2), CAUSES THE 
 &gt; IMMEDIATE CRASH OF THE X11 SERVER.

I think this qualifies as a kmail bug since...

 &gt; This spam mail contains some strange "escaped" code.

...it actually contained iso-2022-jp Japanese text. I can see it just
fine with emacs (although not understand it!).

 &gt; If some KMail developper reads this list, he should take a look at this...

I agree, an X11 crash is pretty severe. Kmail probably did something
naughty while trying to find an appropriate font(?). Maybe you
could install Japanese fonts, test again and file a bug report? :)


Rgds,
/-sb.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020512080535</emailId><senderName>Michel Bouissou</senderName><senderEmail>michel@bouissou.net</senderEmail><timestampReceived>2002-05-12 08:05:35-0400</timestampReceived><subject>WARNING: Spam Mail that crashes KMail on Linux-crypto</subject><body>

Hi there,

The Linux-crypto mailing-list is sometimes abused to transmit spam mail, 
which is a pity. Couldn't this list be configured so only its subscribers can 
post, preventing its abuse by spammers ?

Well, last night 2 spams were transmitted thru Linux-crypto.

The 2nd of these spams, when read in KMail 1.3.2 (KDE 2.2.2), CAUSES THE 
IMMEDIATE CRASH OF THE X11 SERVER.

This spam mail contains some strange "escaped" code.

If some KMail developper reads this list, he should take a look at this...

-- 
Michel Bouissou &lt;michel@bouissou.net&gt; OpenPGP ID 0x5C2BEE8F

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020512152451</emailId><senderName>Marc Mutz</senderName><senderEmail>mutz@kde.org</senderEmail><timestampReceived>2002-05-12 15:24:51-0400</timestampReceived><subject>Re: Off-topic (was WARNING: Spam Mail that crashes KMail on Linux-crypto)</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Sunday 12 May 2002 16:43, Stelios Bounanos wrote:
&lt;snip&gt;
&gt;  &gt; This spam mail contains some strange "escaped" code.
&gt;
&gt; ...it actually contained iso-2022-jp Japanese text. I can see it just
&gt; fine with emacs (although not understand it!).

Same here with KMail 1.4.5 :-o

&gt;  &gt; If some KMail developper reads this list, he should take a look at
&gt;  &gt; this...
&gt;
&gt; I agree, an X11 crash is pretty severe. Kmail probably did something
&gt; naughty while trying to find an appropriate font(?). Maybe you
&gt; could install Japanese fonts, test again and file a bug report? :)
&lt;snip&gt;

I forwarded this already to the kmail list. A bug report would probably 
be closed immediately as belonging to an obsolete version (we are at 
3.0.1 already).

Marc

- -- 
Marc Mutz &lt;mutz@kde.org&gt;
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.7 (GNU/Linux)

iD8DBQE83olE3oWD+L2/6DgRAlcEAJ43IIhP1+gwf/pGRJjU+QtzQhnICQCgksec
c3qIQfPm8AFtOYz7IsG+f+U=
=wory
-----END PGP SIGNATURE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020528191107</emailId><senderName>Jean-Luc Cooke</senderName><senderEmail>jlcooke@certainkey.com</senderEmail><timestampReceived>2002-05-28 19:11:07-0400</timestampReceived><subject>Harmony in digest API</subject><body>

Greeting,

I've completed the harmonized digest interface for cryptoapi.  I
really think people should start moving to something like this, make
life easier to deal with when new algorithms come along.  Or when old
ones are broken!

I haven't made it kernel-friendly yet any pointers would be appreciated.

Summary:
 At compile time you can specify 3 levels of optimization:
  1. Small footprint (sha1 &lt; 2k!)
  2. Reasonable optimization
  3. Fully optimized (make very large code &gt;100K)

 Each algorithm comes with a test bench console application to make
sure porting was successful.
 The C-struct hasher_t contains both data and function pointers to the
appropriate hash algorithm.  The example below should make it clear
how to use this, a complete example exists in hasher_test.c.

int main() {
  hasher_t H;
  u8 D[HASHER_MAX_DIGEST_SIZE];

  if (hasher_setup(&amp;H, "md5") != HASHER_OK) {
    printf("Error: %d/%s\n", H.err, HasherErrorMsg(H.err));
    return 1;
  }
  
  H.Init(&amp;H);
  H.Update(&amp;H, "h", 1):
  H.Update(&amp;H, "ello", 4);
  H.Update(&amp;H, " there", 6);
  H.Final(&amp;H, D);

  for (i=0; i&lt;H.len; i++)
    printf("%.2x ", D[i]);
  printf("\n");
  
  H.Init(&amp;H);
  H.Update(&amp;H, "h", 1):
  H.Update(&amp;H, "ello", 4);
  H.Update(&amp;H, " THERE", 6);
  H.Final(&amp;H, D);

  for (i=0; i&lt;H.len; i++)
    printf("%.2x ", D[i]);
  printf("\n");
  
  HasherTeardown(&amp;H); // cleanse hasher_t

  return 0;
}

I've used Doxygen to generate some purrty docs...

HTML API docs:
  http://www.certainkey.com/~jlcooke/linux-crypto/digest/hasher_docs/html/
PDF API docs:
  http://www.certainkey.com/~jlcooke/linux-crypto/digest/hasher_docs/latex/refman.pdf

Source code tar ball:
  http://www.certainkey.com/~jlcooke/linux-crypto/digest/TAR_BALLS/hasher_src.tar.gz
API docs tar ball:
  http://www.certainkey.com/~jlcooke/linux-crypto/digest/TAR_BALLS/hasher_docs.tar.gz

Cheers,

JLC
-- 
http://www.certainkey.com
Suite 4560 CTTC
1125 Colonel By Dr.
Ottawa ON, K1S 5B6
C: 613.263.2983
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020530123252</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-05-30 12:32:52-0400</timestampReceived><subject>Announce loop-AES-v1.6d file/swap crypto package</subject><body>

loop-AES changes since previous release:
- Fixed file backed loop bug that occasionally caused spurious I/O errors.
  Fix is based on Andrew Morton's idea. (2.4 and 2.5 kernels)
- loop.c-2.5.original updated with fixes from 2.5.19
- Makefile updated to work with 2.5.19 and later kernels.

bzip2 compressed tarball is here:

    http://loop-aes.sourceforge.net/loop-AES-v1.6d.tar.bz2
    md5sum fe35de2e650a88d18f4a165f290447d5

PGP signature file, my public key, and fingerprint here:

    http://loop-aes.sourceforge.net/loop-AES-v1.6d.tar.bz2.sign
    http://loop-aes.sourceforge.net/PGP-public-key.asc
    1024/3A220F51 5B 4B F9 BB D3 3F 52 E9  DB 1D EB E3 24 0E A9 DD


Additional ciphers package changes since previous release:
- Makefile updated to work with 2.5.19 and later kernels.

bzip2 compressed tarball is here:

    http://loop-aes.sourceforge.net/ciphers-v1.0d.tar.bz2
    md5sum e2073987868a4c34c5d192e695a220aa

PGP signature file here:

    http://loop-aes.sourceforge.net/ciphers-v1.0d.tar.bz2.sign

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020531015705</emailId><senderName>"John Green"</senderName><senderEmail>greenjh@hotmail.com</senderEmail><timestampReceived>2002-05-31 01:57:05-0400</timestampReceived><subject>Re: Cryptoapi problems with kernel 2.4.18</subject><body>

Dan,

Thanks for the advice.

I gave up on cryptoapi (for now) and tried
loop-AES, which worked .  I guess because
the changes are less extensive and the
documentation is more detailed and up to date.

I had some minor problems with the following
script in the README file.

    bzip2 -d -c util-linux-2.11r.tar.bz2 | tar xvf -
    cd util-linux-2.11r
    patch -p1 &lt;../util-linux-2.11r-1.diff
    patch -p1 &lt;../util-linux-2.11r-2.diff
    export CFLAGS=-O2
    ./configure
    make SUBDIRS="lib mount"
    cd mount
    install -m 4755 -o root mount umount /bin
    install -m 755 losetup swapon /sbin
    rm -f /sbin/swapoff &amp;&amp; ( cd /sbin &amp;&amp; ln -s swapon swapoff )
    rm -f /usr/man/man8/{mount,umount,losetup,swapon,swapoff}.8.gz
    install -m 644 mount.8 umount.8 losetup.8 swapon.8 swapoff.8 
/usr/man/man8
    rm -f /usr/man/man5/fstab.5.gz
    install -m 644 fstab.5 /usr/man/man5
    mandb
    cd ../..

The patch commands assume that I started in the
loop-AES-v1.6c directory (so that util-linux-2.11r
is a sub-directory).  I hadn't and it wasn't.

On my (Mandrake) system, man files are installed under
/usr/share/man, not /usr/man, and they use .bz2
compression.  Also, mandb is unknown.

Thanks,

John Green

&gt;From: Dan Hollis &lt;goemon@anime.net&gt;
&gt;To: John Green &lt;greenjh@hotmail.com&gt;
&gt;CC: dbryson@du.edu, &lt;linux-crypto@nl.linux.org&gt;
&gt;Subject: Re: Cryptoapi problems with kernel 2.4.18
&gt;Date: Wed, 29 May 2002 14:18:53 -0700 (PDT)
&gt;
&gt;On Wed, 29 May 2002, John Green wrote:
&gt; &gt; Thanks for the information.  I should have made it clearer that I
&gt; &gt; did obtain the util-linux sources (as util-linux-2.11r.tar.gz)
&gt; &gt; and patched them (using util-linux-2.11o.patch.gz).
&gt; &gt; Maybe I am not picking up consistent header and library files.
&gt; &gt; If I get any success in the next few days, I'll post the details.
&gt; &gt; Otherwise I'll give up and wait for the revised HOWTO.
&gt;
&gt;I had much better luck with loop-AES. It seems much better currently
&gt;maintained code and has a good automated install system.
&gt;http://sourceforge.net/projects/loop-aes/
&gt;
&gt;cryptoapi seems to have fallen into a state of disrepair...
&gt;
&gt;-Dan
&gt;--
&gt;[-] Omae no subete no kichi wa ore no mono da. [-]
&gt;






_________________________________________________________________
Join the world’s largest e-mail service with MSN Hotmail. 
http://www.hotmail.com

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020531173759</emailId><senderName>mutex</senderName><senderEmail>mutex@mac.com</senderEmail><timestampReceived>2002-05-31 17:37:59-0400</timestampReceived><subject>new article/howto for cryptoapi</subject><body>

Ok, so here is my howto/article about installing and using the CryptoAPI
for loopback encryption.  It was originally written article style, to be
published in linux journal, but since they decided to ignore my e-mail I
thought I'd stick it on kerneli.org.  So anyway, it's up now in several
formats(ps, pdf, and html) for your viewing pleasure.  I'd like some
feedback and suggestions for what else to add. The article was directed
at someone who is somewhat familiar with linux, and maybe knows how to
rebuild their kernel, but doesn't necessarily know anything about
cryptography.
At any rate, I think i'm going to work on updating marc's encryption
howto by merging it with a few peices of this paper, and hopefully get a
new updated version out.  Additionally, i'm not quite sure why marc's
version isn't in linuxdoc, but the one that's in there is 3 years old...
i'll try to get this changed as well.
Dave

http://www.kerneli.org/cryptoapi/howto


["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020514155541</emailId><senderName>Michael Zhu</senderName><senderEmail>mylinuxk@yahoo.ca</senderEmail><timestampReceived>2002-05-14 15:55:41-0400</timestampReceived><subject>Port Loop AES to Solaris</subject><body>

Hello, guys, does anyone try to port the Linux loop
device to the SUN Solaris OS? I want to de/encrypt the
block device on Solaris. So is there any loop device
on Solaris just like that of Linux? Where can I find
some materials about this kind of porting?

Is there any information about de/encryption on
Solaris?

Thank you very much. Any suggestion will be appreciated.

______________________________________________________________________ 
Find, Connect, Date! http://personals.yahoo.ca
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020521130204</emailId><senderName>Harmon Seaver</senderName><senderEmail>hseaver@cybershamanix.com</senderEmail><timestampReceived>2002-05-21 13:02:04-0400</timestampReceived><subject>latest patches</subject><body>

    Don't know if I just missed this, but what are the latest patches 
(patch-int-2.4.18.1 and patch-int-2.4.18.2) for on the server? I just 
patched 2.4.18 with patch-int-2.4.18.0 and it seems to work -- should I 
have used the later one? I could do that now, as I'm about to run the 
ipsec install on it next.

-- 
Harmon Seaver	
CyberShamanix
http://www.cybershamanix.com

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020521142004</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-05-21 14:20:04-0400</timestampReceived><subject>Re: latest patches</subject><body>

On Tue, 2002-05-21 at 15:02, Harmon Seaver wrote:
&gt;     Don't know if I just missed this, but what are the latest patches 
&gt; (patch-int-2.4.18.1 and patch-int-2.4.18.2) for on the server? I just 
&gt; patched 2.4.18 with patch-int-2.4.18.0 and it seems to work -- should I 
&gt; have used the later one? I could do that now, as I'm about to run the 
&gt; ipsec install on it next.

well, they represent later snapshots of development; 

patch-int-2.4.18.2 also contains an API change to be compatible to the
last official patch-int-2.4.3 release -- but this may break some code
depending on the interim API;

we are currently working on tracking down one major show stopper bug in
the loop driver exposed when using XFS and SMP... if it weren't for the
loop bug, there'd be already an official patch-int lying in
/pub/linux/kernel/crypto/v2.4/ instead of it hiding in the testing
folder... :-/

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020521143019</emailId><senderName>Tobias Ringstrom</senderName><senderEmail>tori@ringstrom.mine.nu</senderEmail><timestampReceived>2002-05-21 14:30:19-0400</timestampReceived><subject>Re: latest patches</subject><body>

On 21 May 2002, Herbert Valerio Riedel wrote:

&gt; patch-int-2.4.18.2 also contains an API change to be compatible to the
&gt; last official patch-int-2.4.3 release -- but this may break some code
&gt; depending on the interim API;

A (good) change went in after patch-int-2.4.18.2 that made it possible to 
detect the version of the API.

&gt; we are currently working on tracking down one major show stopper bug in
&gt; the loop driver exposed when using XFS and SMP... if it weren't for the
&gt; loop bug, there'd be already an official patch-int lying in
&gt; /pub/linux/kernel/crypto/v2.4/ instead of it hiding in the testing
&gt; folder... :-/

Why not separate the releases?  I'd like to see three packages:

1. Crypto support (no algorithms).  This can go into the official kernel, 
   at least once the API is stable.

2. Crypto modules.  Can probably not to inte the official kernel due to 
   crypto export regulations.  Can be built outside the kernel tree to 
   avoid kernel patching.

3. Encrypted loop driver.

What do you think?

/Tobias

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020529173259</emailId><senderName>"John Green"</senderName><senderEmail>greenjh@hotmail.com</senderEmail><timestampReceived>2002-05-29 17:32:59-0400</timestampReceived><subject>Cryptoapi problems with kernel 2.4.18</subject><body>


I cannot get the international cryptoapi patches
to work with kernel 2.4.18.

There are too many variables for me to solve the
problems.

I am running Mandrake 7.2, with kernel 2.4.18 and
glibc 2.1.3 on a Dell laptop.

I built the kernel without using any modules.
During start-up, the kernel reports that the
blowfish and MD5 have been loaded.

All operations were done as the superuser.

1. The HOWTO (http://cryptoapi.sourceforge.net/)
   seems to be out of date.  It makes no reference
   to kernel 2.4.  It was therefore unclear which
   kernel configuration options apply.  The HOWTO
   mentions CONFIG_BLK_DEV_LOOP_USE_REL_BLOCK and
   CONFIG_BLK_DEV_LOOP_GEN, but I could not find
   them in my linux kernel sources.  Which options
   should I use?

2. There were issues making the patched versions
   of losetup, mount and umount.

2a Do I still need to run the script posted
   to the mailing list on 19 Jan 2002 by
   Pavel Minev Penev?  It generates a loop.h file
   which losetup.c seems to need.  Depending on
   paths, the generated file may further include

      util-linux/mount/h/loop.h

   or

      linux/include/linux/include/loop.h

   They are not the same.  Which is correct?  On my
   system, only linux/include/linux/include/loop.h
   compiles correctly.

2b The make command failed to find env.o and
   xstrncpy.o.  The solution was to add

      make -C lib xstrncpy.o
      make -C lib env.o

   after

      make -C lib setproctitle.o.

   (The HOWTO mentions setproctitle, but not
   the others.)  Is this solution correct?

3. I used the following losetup command:

      setup -e blowfish /dev/loop0 .crypto

   It gives the following error.

The cipher does not exist, or a cipher module needs to be loaded into the 
kernel
ioctl: LOOP_SET_STATUS: Invalid argument



_________________________________________________________________
Get your FREE download of MSN Explorer at http://explorer.msn.com/intl.asp.

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020529195633</emailId><senderName>David Bryson</senderName><senderEmail>dbryson@du.edu</senderEmail><timestampReceived>2002-05-29 19:56:33-0400</timestampReceived><subject>Re: Cryptoapi problems with kernel 2.4.18</subject><body>

Yes, the HOW-TO is *very* out of date.  Unfortunatly the lack of
development in cryptoapi(until the last 6 months) is a direct result of
that.  I almost have a new updated HOW-TO finished, I am just not sure
how I am going to release it yet(whether with the cryptoapi source or
send it to linuxdoc).  It will be ready for the cryptoapi 0.1 release...
whenever that happens.

I'm pretty sure your LOOP_SET_STATUS problem has to do with you not
patching your util-linux driver correctly.  You may need to go and get
the util-linux sources manually and patch them, as i do not know if
there is a mandrake rpm available.

Dave


On Wed, 2002-05-29 at 11:32, John Green wrote:
&gt; 
&gt; I cannot get the international cryptoapi patches
&gt; to work with kernel 2.4.18.
&gt; 
&gt; There are too many variables for me to solve the
&gt; problems.
&gt; 
&gt; I am running Mandrake 7.2, with kernel 2.4.18 and
&gt; glibc 2.1.3 on a Dell laptop.
&gt; 
&gt; I built the kernel without using any modules.
&gt; During start-up, the kernel reports that the
&gt; blowfish and MD5 have been loaded.
&gt; 
&gt; All operations were done as the superuser.
&gt; 
&gt; 1. The HOWTO (http://cryptoapi.sourceforge.net/)
&gt;    seems to be out of date.  It makes no reference
&gt;    to kernel 2.4.  It was therefore unclear which
&gt;    kernel configuration options apply.  The HOWTO
&gt;    mentions CONFIG_BLK_DEV_LOOP_USE_REL_BLOCK and
&gt;    CONFIG_BLK_DEV_LOOP_GEN, but I could not find
&gt;    them in my linux kernel sources.  Which options
&gt;    should I use?
&gt; 
&gt; 2. There were issues making the patched versions
&gt;    of losetup, mount and umount.
&gt; 
&gt; 2a Do I still need to run the script posted
&gt;    to the mailing list on 19 Jan 2002 by
&gt;    Pavel Minev Penev?  It generates a loop.h file
&gt;    which losetup.c seems to need.  Depending on
&gt;    paths, the generated file may further include
&gt; 
&gt;       util-linux/mount/h/loop.h
&gt; 
&gt;    or
&gt; 
&gt;       linux/include/linux/include/loop.h
&gt; 
&gt;    They are not the same.  Which is correct?  On my
&gt;    system, only linux/include/linux/include/loop.h
&gt;    compiles correctly.
&gt; 
&gt; 2b The make command failed to find env.o and
&gt;    xstrncpy.o.  The solution was to add
&gt; 
&gt;       make -C lib xstrncpy.o
&gt;       make -C lib env.o
&gt; 
&gt;    after
&gt; 
&gt;       make -C lib setproctitle.o.
&gt; 
&gt;    (The HOWTO mentions setproctitle, but not
&gt;    the others.)  Is this solution correct?
&gt; 
&gt; 3. I used the following losetup command:
&gt; 
&gt;       setup -e blowfish /dev/loop0 .crypto
&gt; 
&gt;    It gives the following error.
&gt; 
&gt; The cipher does not exist, or a cipher module needs to be loaded into the 
&gt; kernel
&gt; ioctl: LOOP_SET_STATUS: Invalid argument
&gt; 
&gt; 
&gt; 
&gt; _________________________________________________________________
&gt; Get your FREE download of MSN Explorer at http://explorer.msn.com/intl.asp.
&gt; 
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
&gt; 


["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020529210524</emailId><senderName>"John Green"</senderName><senderEmail>greenjh@hotmail.com</senderEmail><timestampReceived>2002-05-29 21:05:24-0400</timestampReceived><subject>Re: Cryptoapi problems with kernel 2.4.18</subject><body>

David,

Thanks for the information.  I should have made it clearer that I
did obtain the util-linux sources (as util-linux-2.11r.tar.gz)
and patched them (using util-linux-2.11o.patch.gz).
Maybe I am not picking up consistent header and library files.
If I get any success in the next few days, I'll post the details.
Otherwise I'll give up and wait for the revised HOWTO.

John Green util-linux-2.11o.patch util-linux-2.11o.patch

&gt;From: David Bryson &lt;dbryson@du.edu&gt;
&gt;To: John Green &lt;greenjh@hotmail.com&gt;
&gt;CC: linux-crypto@nl.linux.org
&gt;Subject: Re: Cryptoapi problems with kernel 2.4.18
&gt;Date: 29 May 2002 13:56:33 -0600
&gt;
&gt;Yes, the HOW-TO is *very* out of date.  Unfortunatly the lack of
&gt;development in cryptoapi(until the last 6 months) is a direct result of
&gt;that.  I almost have a new updated HOW-TO finished, I am just not sure
&gt;how I am going to release it yet(whether with the cryptoapi source or
&gt;send it to linuxdoc).  It will be ready for the cryptoapi 0.1 release...
&gt;whenever that happens.
&gt;
&gt;I'm pretty sure your LOOP_SET_STATUS problem has to do with you not
&gt;patching your util-linux driver correctly.  You may need to go and get
&gt;the util-linux sources manually and patch them, as i do not know if
&gt;there is a mandrake rpm available.
&gt;
&gt;Dave
&gt;
&gt;
&gt;On Wed, 2002-05-29 at 11:32, John Green wrote:
&gt; &gt;
&gt; &gt; I cannot get the international cryptoapi patches
&gt; &gt; to work with kernel 2.4.18.
&gt; &gt;
&gt; &gt; There are too many variables for me to solve the
&gt; &gt; problems.
&gt; &gt;
&gt; &gt; I am running Mandrake 7.2, with kernel 2.4.18 and
&gt; &gt; glibc 2.1.3 on a Dell laptop.
&gt; &gt;
&gt; &gt; I built the kernel without using any modules.
&gt; &gt; During start-up, the kernel reports that the
&gt; &gt; blowfish and MD5 have been loaded.
&gt; &gt;
&gt; &gt; All operations were done as the superuser.
&gt; &gt;
&gt; &gt; 1. The HOWTO (http://cryptoapi.sourceforge.net/)
&gt; &gt;    seems to be out of date.  It makes no reference
&gt; &gt;    to kernel 2.4.  It was therefore unclear which
&gt; &gt;    kernel configuration options apply.  The HOWTO
&gt; &gt;    mentions CONFIG_BLK_DEV_LOOP_USE_REL_BLOCK and
&gt; &gt;    CONFIG_BLK_DEV_LOOP_GEN, but I could not find
&gt; &gt;    them in my linux kernel sources.  Which options
&gt; &gt;    should I use?
&gt; &gt;
&gt; &gt; 2. There were issues making the patched versions
&gt; &gt;    of losetup, mount and umount.
&gt; &gt;
&gt; &gt; 2a Do I still need to run the script posted
&gt; &gt;    to the mailing list on 19 Jan 2002 by
&gt; &gt;    Pavel Minev Penev?  It generates a loop.h file
&gt; &gt;    which losetup.c seems to need.  Depending on
&gt; &gt;    paths, the generated file may further include
&gt; &gt;
&gt; &gt;       util-linux/mount/h/loop.h
&gt; &gt;
&gt; &gt;    or
&gt; &gt;
&gt; &gt;       linux/include/linux/include/loop.h
&gt; &gt;
&gt; &gt;    They are not the same.  Which is correct?  On my
&gt; &gt;    system, only linux/include/linux/include/loop.h
&gt; &gt;    compiles correctly.
&gt; &gt;
&gt; &gt; 2b The make command failed to find env.o and
&gt; &gt;    xstrncpy.o.  The solution was to add
&gt; &gt;
&gt; &gt;       make -C lib xstrncpy.o
&gt; &gt;       make -C lib env.o
&gt; &gt;
&gt; &gt;    after
&gt; &gt;
&gt; &gt;       make -C lib setproctitle.o.
&gt; &gt;
&gt; &gt;    (The HOWTO mentions setproctitle, but not
&gt; &gt;    the others.)  Is this solution correct?
&gt; &gt;
&gt; &gt; 3. I used the following losetup command:
&gt; &gt;
&gt; &gt;       setup -e blowfish /dev/loop0 .crypto
&gt; &gt;
&gt; &gt;    It gives the following error.
&gt; &gt;
&gt; &gt; The cipher does not exist, or a cipher module needs to be loaded into 
&gt;the
&gt; &gt; kernel
&gt; &gt; ioctl: LOOP_SET_STATUS: Invalid argument
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; _________________________________________________________________
&gt; &gt; Get your FREE download of MSN Explorer at 
&gt;http://explorer.msn.com/intl.asp.
&gt; &gt;
&gt; &gt; -
&gt; &gt; Linux-crypto:  cryptography in and on the Linux system
&gt; &gt; Archive:       http://mail.nl.linux.org/linux-crypto/
&gt; &gt;
&gt;
&gt;&lt;&lt; signature.asc &gt;&gt;




_________________________________________________________________
Send and receive Hotmail on your mobile device: http://mobile.msn.com

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020529211853</emailId><senderName>Dan Hollis</senderName><senderEmail>goemon@anime.net</senderEmail><timestampReceived>2002-05-29 21:18:53-0400</timestampReceived><subject>Re: Cryptoapi problems with kernel 2.4.18</subject><body>

On Wed, 29 May 2002, John Green wrote:
&gt; Thanks for the information.  I should have made it clearer that I
&gt; did obtain the util-linux sources (as util-linux-2.11r.tar.gz)
&gt; and patched them (using util-linux-2.11o.patch.gz).
&gt; Maybe I am not picking up consistent header and library files.
&gt; If I get any success in the next few days, I'll post the details.
&gt; Otherwise I'll give up and wait for the revised HOWTO.

I had much better luck with loop-AES. It seems much better currently 
maintained code and has a good automated install system.
http://sourceforge.net/projects/loop-aes/

cryptoapi seems to have fallen into a state of disrepair...

-Dan
-- 
[-] Omae no subete no kichi wa ore no mono da. [-]

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020530044717</emailId><senderName>Harmon Seaver</senderName><senderEmail>hseaver@cybershamanix.com</senderEmail><timestampReceived>2002-05-30 04:47:17-0400</timestampReceived><subject>Re: Cryptoapi problems with kernel 2.4.18</subject><body>

   I didn't have any problems at all patching 2.4.18 with cryptoapi. 


On Wed, May 29, 2002 at 02:18:53PM -0700, Dan Hollis wrote:
&gt; On Wed, 29 May 2002, John Green wrote:
&gt; &gt; Thanks for the information.  I should have made it clearer that I
&gt; &gt; did obtain the util-linux sources (as util-linux-2.11r.tar.gz)
&gt; &gt; and patched them (using util-linux-2.11o.patch.gz).
&gt; &gt; Maybe I am not picking up consistent header and library files.
&gt; &gt; If I get any success in the next few days, I'll post the details.
&gt; &gt; Otherwise I'll give up and wait for the revised HOWTO.
&gt; 
&gt; I had much better luck with loop-AES. It seems much better currently 
&gt; maintained code and has a good automated install system.
&gt; http://sourceforge.net/projects/loop-aes/
&gt; 
&gt; cryptoapi seems to have fallen into a state of disrepair...
&gt; 
&gt; -Dan
&gt; -- 
&gt; [-] Omae no subete no kichi wa ore no mono da. [-]
&gt; 
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/

-- 
Harmon Seaver	
CyberShamanix
http://www.cybershamanix.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020530090405</emailId><senderName>Marc Mutz</senderName><senderEmail>mutz@kde.org</senderEmail><timestampReceived>2002-05-30 09:04:05-0400</timestampReceived><subject>Re: Cryptoapi problems with kernel 2.4.18</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Wednesday 29 May 2002 21:56, David Bryson wrote:
&gt; Yes, the HOW-TO is *very* out of date.

You're free to take of maintainership, if you want. I've repeatedly 
stated that I can't maintain it anymore, since I don't compile my 
kernels myself anymore.

&gt;  Unfortunatly the lack of
&gt; development in cryptoapi(until the last 6 months) is a direct result
&gt; of that. 

??? The lack of development is due to the fact that the original 
maintainer wasn't available anymore and didn't seem to answer 
questions. Since HVR pick up maintainence, the project seems to 
progress nicely again...

&gt; I almost have a new updated HOW-TO finished, I am just not
&gt; sure how I am going to release it yet(whether with the cryptoapi
&gt; source or send it to linuxdoc).  It will be ready for the cryptoapi
&gt; 0.1 release... whenever that happens.

You can have encryptionhowto.sf.net, if you want.
Just make sure I get due credit as "original author" ;-)

Marc

- -- 
Marc Mutz &lt;mutz@kde.org&gt;
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.7 (GNU/Linux)

iD8DBQE89esX3oWD+L2/6DgRAn5sAJ0VvS/Z+4NWi52EOCdpTSktshTPawCdGtKR
pEB3x1PHxobphHSmRxFuWj4=
=lKnv
-----END PGP SIGNATURE-----


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020530105257</emailId><senderName>Sean Neakums</senderName><senderEmail>sneakums@zork.net</senderEmail><timestampReceived>2002-05-30 10:52:57-0400</timestampReceived><subject>Re: Cryptoapi problems with kernel 2.4.18</subject><body>

commence  Harmon Seaver quotation:

&gt;&gt; cryptoapi seems to have fallen into a state of disrepair...
&gt;&gt; 
&gt;    I didn't have any problems at all patching 2.4.18 with cryptoapi.

I second that.  The patches applied cleanly to vanilla kernel sources.
I've been running with my home directory on a Blowfish-encrypted
cryptoloop ext3 filesytem for a while now and have encountered no
issues.

Personally, I'm not willing to use AES for anything until it's been
beaten-upon by cryptanalysts for a few more years.

-- 
 /////////////////  |                  | The spark of a pin
&lt;sneakums@zork.net&gt; |  (require 'gnu)  | dropping, falling feather-like.
 \\\\\\\\\\\\\\\\\  |                  | There is too much noise.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020530120526</emailId><senderName>Dan Hollis</senderName><senderEmail>goemon@anime.net</senderEmail><timestampReceived>2002-05-30 12:05:26-0400</timestampReceived><subject>Re: Cryptoapi problems with kernel 2.4.18</subject><body>

On Thu, 30 May 2002, Sean Neakums wrote:
&gt; Personally, I'm not willing to use AES for anything until it's been
&gt; beaten-upon by cryptanalysts for a few more years.

loop-aes supports blowfish,serpent and twofish also...

-Dan
-- 
[-] Omae no subete no kichi wa ore no mono da. [-]

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020530121028</emailId><senderName></senderName><senderEmail>stephen.thompson</senderEmail><timestampReceived>2002-05-30 12:10:28-0400</timestampReceived><subject>RE: Cryptoapi problems with kernel 2.4.18</subject><body>

Hello All,

Have you managed to integrate it with a logon managed such as kdm? or do you
start X manually?

Regards,

Stephen

-----Original Message-----
From: Sean Neakums [mailto:sneakums@zork.net]
Sent: 30 May 2002 11:53
To: linux-crypto@nl.linux.org
Subject: Re: Cryptoapi problems with kernel 2.4.18


commence  Harmon Seaver quotation:

&gt; &gt; cryptoapi seems to have fallen into a state of disrepair...
&gt; &gt; 
&gt; I didn't have any problems at all patching 2.4.18 with cryptoapi.

I second that.  The patches applied cleanly to vanilla kernel sources.
I've been running with my home directory on a Blowfish-encrypted
cryptoloop ext3 filesytem for a while now and have encountered no
issues.

Personally, I'm not willing to use AES for anything until it's been
beaten-upon by cryptanalysts for a few more years.

-- 
 /////////////////  |                  | The spark of a pin
&lt;sneakums@zork.net&gt; |  (require 'gnu)  | dropping, falling feather-like.
 \\\\\\\\\\\\\\\\\  |                  | There is too much noise.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


-------------------------------------------------------------------------------------------


Copyright material and/or confidential and/or privileged information may be contained \
in this e-mail and any attached documents.  The material and information is intended \
for the use of the intended addressee only.  If you are not the intended addressee, \
or the person responsible for delivering it to the intended addressee, you may not \
copy, disclose, distribute, disseminate or deliver it to anyone else or use it in any \
unauthorised manner or take or omit to take any action in reliance on it. To do so is \
prohibited and may be unlawful.   The views expressed in this e-mail may not be \
official policy but the personal views of the originator.  If you receive this e-mail \
in error, please advise the sender immediately by using the reply facility in your \
e-mail software, or contact postmaster@bmwfin.com.  Please also delete this e-mail \
and all documents attached immediately.   Many thanks for your co-operation.

BMW Financial Services (GB) Limited is registered in England and Wales under company \
number 01288537. Registered Offices : Europa House, Bartley Way, Hook, Hants, RG27 \
                9UF
------------------------------------------------------------------------------------------
                
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020530224103</emailId><senderName>Dale Amon</senderName><senderEmail>amon@vnl.com</senderEmail><timestampReceived>2002-05-30 22:41:03-0400</timestampReceived><subject>Re: Cryptoapi problems with kernel 2.4.18</subject><body>

On Thu, May 30, 2002 at 11:52:57AM +0100, Sean Neakums wrote:
&gt; commence  Harmon Seaver quotation:
&gt; &gt;&gt; cryptoapi seems to have fallen into a state of disrepair...
&gt; &gt;    I didn't have any problems at all patching 2.4.18 with cryptoapi.
&gt; I second that.  The patches applied cleanly to vanilla kernel sources.
&gt; I've been running with my home directory on a Blowfish-encrypted
&gt; cryptoloop ext3 filesytem for a while now and have encountered no
&gt; issues.

And likewise. I've built 20-30 kernels across numerous machines,
including FreeSwan and find it almost mindlessly easy. But then
debian packages the sysutils ready to rock so I don't have to
deal with that either.

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020521143141</emailId><senderName></senderName><senderEmail>stephen.thompson</senderEmail><timestampReceived>2002-05-21 14:31:41-0400</timestampReceived><subject>RE: latest patches</subject><body>

This makes sense to me. It would make rolling of packages easier for us.

Regards,

Stephen.


-----Original Message-----
From: Tobias Ringstrom [mailto:tori@ringstrom.mine.nu]
Sent: 21 May 2002 15:30
To: Herbert Valerio Riedel
Cc: Harmon Seaver; linux-crypto@nl.linux.org
Subject: Re: latest patches


On 21 May 2002, Herbert Valerio Riedel wrote:

&gt; patch-int-2.4.18.2 also contains an API change to be compatible to the
&gt; last official patch-int-2.4.3 release -- but this may break some code
&gt; depending on the interim API;

A (good) change went in after patch-int-2.4.18.2 that made it possible to 
detect the version of the API.

&gt; we are currently working on tracking down one major show stopper bug in
&gt; the loop driver exposed when using XFS and SMP... if it weren't for the
&gt; loop bug, there'd be already an official patch-int lying in
&gt; /pub/linux/kernel/crypto/v2.4/ instead of it hiding in the testing
&gt; folder... :-/

Why not separate the releases?  I'd like to see three packages:

1. Crypto support (no algorithms).  This can go into the official kernel, 
   at least once the API is stable.

2. Crypto modules.  Can probably not to inte the official kernel due to 
   crypto export regulations.  Can be built outside the kernel tree to 
   avoid kernel patching.

3. Encrypted loop driver.

What do you think?

/Tobias

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


-------------------------------------------------------------------------------------------


Copyright material and/or confidential and/or privileged information may be contained \
in this e-mail and any attached documents.  The material and information is intended \
for the use of the intended addressee only.  If you are not the intended addressee, \
or the person responsible for delivering it to the intended addressee, you may not \
copy, disclose, distribute, disseminate or deliver it to anyone else or use it in any \
unauthorised manner or take or omit to take any action in reliance on it. To do so is \
prohibited and may be unlawful.   The views expressed in this e-mail may not be \
official policy but the personal views of the originator.  If you receive this e-mail \
in error, please advise the sender immediately by using the reply facility in your \
e-mail software, or contact postmaster@bmwfin.com.  Please also delete this e-mail \
and all documents attached immediately.   Many thanks for your co-operation.

BMW Financial Services (GB) Limited is registered in England and Wales under company \
number 01288537. Registered Offices : Europa House, Bartley Way, Hook, Hants, RG27 \
                9UF
------------------------------------------------------------------------------------------
                
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020521163940</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-05-21 16:39:40-0400</timestampReceived><subject>Re: latest patches</subject><body>

On Tue, 2002-05-21 at 16:30, Tobias Ringstrom wrote:
&gt; A (good) change went in after patch-int-2.4.18.2 that made it possible to 
&gt; detect the version of the API.
..you might mention, that you were the one who actually convinced me to
add it ;)
 
&gt;&gt; we are currently working on tracking down one major show stopper bug in
&gt;&gt; the loop driver exposed when using XFS and SMP... if it weren't for the
&gt;&gt; loop bug, there'd be already an official patch-int lying in
&gt;&gt; /pub/linux/kernel/crypto/v2.4/ instead of it hiding in the testing
&gt;&gt; folder... :-/
&gt; Why not separate the releases?  I'd like to see three packages:
 
&gt; 1. Crypto support (no algorithms).  This can go into the official kernel, 
&gt;    at least once the API is stable.
so far, the only possible thing that comes to my mind, that might cause
changes in the API might be hardware cipher support... 
 
&gt; 2. Crypto modules.  Can probably not to inte the official kernel due to 
&gt;    crypto export regulations.  Can be built outside the kernel tree to 
&gt;    avoid kernel patching.
some people also suggested splitting the ciphers up into
patented/non-patented, weak/strong, ...
 
&gt; 3. Encrypted loop driver.
&gt; 
&gt; What do you think?
good point...

the crypto api itself almost kernel version independent, so it might
well justify splitting it from the cryptoloop application, which is the
biggest headache to keep in sync with the rest of the kernel...

that's one of the reasons why I started to split off the loop-modifying
stuff into a patch of it's own (loop-jari/hvr patches)...

now I'll just have to figure out a way to accomplish the split without
letting maintenance get unreasonable...

regards, 
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020521190931</emailId><senderName>Sandy Harris</senderName><senderEmail>sandy@storm.ca</senderEmail><timestampReceived>2002-05-21 19:09:31-0400</timestampReceived><subject>Re: latest patches</subject><body>

[added cc to FreeS/WAN list and random.c author, and set followup-to]

Herbert Valerio Riedel wrote:

&gt; &gt; 1. Crypto support (no algorithms).  This can go into the official kernel,
&gt; &gt;    at least once the API is stable. ...
&gt; 
&gt; &gt; 2. Crypto modules.  Can probably not to inte the official kernel due to
&gt; &gt;    crypto export regulations.

That doesn't work, at least not for US export regs. Any "crypto-shaped
hole" -- any interface or plug-in support that is specifically for
cryptography -- is restricted in exactly the same way as the crypto
itself.

However, if you use a generic multi-purpose interface, such as the
Linux kernel modules interface or for IPsec, the interface that
netfilter provides, then that interface is not restricted.

Can the encrypted file system stuff use such an interface? Could
FreeS/WAN?

The good news about export regs is that, after two court losses
in the Bernstein case (http://www.eff.org/bernstein/) the US gov't
"liberalised" their regs so they now partially comply with the
Wassenaar agreement (http://www.fitug.de/news/wa/index.html).
That agreement says "public domain" code is exempt from its
restrictions, period. Until Bernstein, the US ignored that and
applied full restrictions. Now they only require notification
for export of"public domain" source code.

So under current regs, as long as kernel.org does some
paperwork (which I think they have) there's no legal problem
for crypto in the Linux kernel source. 

Of course, that does not cover US companies such as Redhat
who might want to ship compliled code. It should, since the
US has signed the Wassennaar agreement, but ...

Also, it does not change the FreeS/WAN project's policy of
carefully ensuring that their code is entirely developed
outside the US so that even if the US gov't change the rules
again, they cannot restrict FreeS/WAN.

&gt; some people also suggested splitting the ciphers up into
&gt; patented/non-patented, weak/strong, ...

Why on Earth would you want either patented or weak ciphers?

As I see it, you want only a very few ciphers, ideally only one.
Simplicity is a great virtue in security software.

Currently, I think the possible collection of crypto in the
kernel is:
	drivers/char/random.c
		#define for either MD5 or SHA-1
		MD4 for the TCP sequence # part
	ipsec
		both MD5 and SHA-1
		3DES
	JuanJo's patches for ipsec
		AES cipher
		some of SHA-256, -384, -512
	loop stuff
		multiple ciphers

As far as I know, these are independent/duplicated. Many kernels
will have two copies of MD5, one each in the random and ipsec
code. If you use AES in both an encrypted file system and in 
IPsec, you'll have two copies (versions?) of the AES code.

This is not a major problem, but it appears worth fixing. 
  
&gt; &gt; 3. Encrypted loop driver.
&gt; &gt;
&gt; &gt; What do you think?
&gt; good point...
&gt; 
&gt; the crypto api itself almost kernel version independent, so it might
&gt; well justify splitting it from the cryptoloop application, which is the
&gt; biggest headache to keep in sync with the rest of the kernel...
&gt; 
&gt; that's one of the reasons why I started to split off the loop-modifying
&gt; stuff into a patch of it's own (loop-jari/hvr patches)...
&gt; 
&gt; now I'll just have to figure out a way to accomplish the split without
&gt; letting maintenance get unreasonable...

I'd like to see, in the main kernel tree, one good hash and one good
cipher. Then use them in all the above places. 

For AES in IPsec, the default (and the only required) algorithms are 
AES with 128-bit key and SHA-256. That makes them the obvious choices.

You might want somewhat more than that.

IPsec would probably want MD5, SHA-1 and 3DES for interoperability,
RFC compliance and backward compatibility. I'd suggest the standard
kernel not provide these. Keep them as part of FreeS/WAN so they
cannot become "contaminated" with US code during kernel maintenance.

I don't understand why random.c uses MD4; for all I know there are
good reasons to keep it.

There may be overhead issues. How fast is SHA-256 compared to MD5
and SHA-1? This mainly a concern for random.c.

If you are doing AES, then it is likely both easy and a good idea
to add Twofish and  Serpent. These were final round AES candidate
ciphers, so they've survived intensive analysis and there is code
for them with the same interface as AES. Both have completely
open licenses.

If you're doing SHA-256, it may make sense to do SHA-384 and -512
as well. I think they use much the same code.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020401164845</emailId><senderName>Noll Janos</senderName><senderEmail>johnzero@johnzero.hu</senderEmail><timestampReceived>2002-04-01 16:48:45-0400</timestampReceived><subject>session-key proposal</subject><body>

Hi!

I have the following idea about implementing session keys in loop-AES,
and I'd like to hear what you think of it.

Goals:

 1. The user must be able to change the password of the encrypted device
 2. More than one user has to be able to access (unlock) the
    device (w/password)
 3. Users (passwords) can be added or removed as time goes on

Definitions:

 1. Every losetup'd virtual device would have it's own SESSIONKEY
    (random, generated)
 2. Every device would have a random SEED (also generated)
 3. Every device could have one or more PASSWORDs, which can "unlock" it.
    The user only has to know one of the PASSWORDs.

Implementation thoughts:

 1. On the device, the first 32(?) kbytes of space would be "reserved",
    and used by the encryption system.
    This equals to an "offset+=32768", easy to implement.
 2. For each PASSWORD, there would be an encoded datablock, which
    would contain the SESSIONKEY and the SEED, encrypted.
 3. Functionality gets more complex.
    You need:
    - initialization/creation phase
    - unlocking (with a password) function
    - add/modify/remove/list keys

Possible weakness(es):

 1. If someone knows one PASSWORD, he might possibly be able to get
    the SESSIONKEY, too. This way, password "revokation" can be nulled.

    If the SESSIONKEY is held in kernel-space, the raw device cannot be
    read and the user has no root access, this is not a problem.

 2. The "encoded datablock", which contains the keys might be easier to
    crack, by brute force, if it's very small.


| Noll Janos &lt;johnzero@johnzero.hu&gt; | http://www.johnzero.hu |
| "Expect the unexpected!"    |   ICQ# 4547866   |  Be free! |
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020407165644</emailId><senderName>Michel Bouissou</senderName><senderEmail>michel@bouissou.net</senderEmail><timestampReceived>2002-04-07 16:56:44-0400</timestampReceived><subject>SECURITY: Patch for broken rc.sysinit in Mandrake 8.2</subject><body>

Hello,

Mandrake 8.2 comes with a kernel RPM including loop-aes.

It is supposed to be able to do a lot of useful things with it, including 
automatically encrypt swap partitions if wanted.

One would only need to change his swap fstab entry, i.e.
/dev/hda4 swap swap defaults 0 0
into
/dev/hda4 swap swap encrypted 0 0

...to get an encrypted swap partition, and the rc.sysinit script will take 
care of encrypting and mounting the swap partition (with a random session 
key, without the need of user intervention).

Unfortunately, the part of rc.sysinit that takes care of that is broken, and 
one would believe that his swap is encrypted, when it actually is UNencrypted 
because of bugs in rc.sysinit, and this results in a potential SECURITY RISK.

I have patched the "encrypted swap" part of rc.sysinit, so it now does what 
it is supposed to do.

Please find the patch attached.

Once this patch has been applied to rc.sysinit, the swap partitions will 
automatically be loop-encrypted at system startup time, if specified so in 
/etc/fstab.

i.e. my fstab specifies:
/dev/hda4 swap swap encrypted 0 0
/dev/sda3 swap swap encrypted 0 0

And now, I can check that my swap is actually encrypted, with:
[root@totor etc]# swapon -s
Filename                        Type            Size    Used    Priority
/dev/loop/0                     partition       128512  0       0
/dev/loop/1                     partition       128512  0       0
[root@totor etc]# losetup /dev/loop0
/dev/loop0 : [0007]:447 (/dev/hda4) décalage 0, AES128 cryptage
[root@totor etc]# losetup /dev/loop1
/dev/loop1 : [0007]:747 (/dev/sda3) décalage 0, AES128 cryptage


Please check this patch; I believe that it should be included in a Mandrake 
security update, because it's no good at all to have a swap mounted in the 
clear when you believe it is encrypted...


Noted imperfection: Once the swap partition has been converted to an 
encrypted one, at statup time, the first attempt to "swapon -a", just after 
the root partition has been remounted RW, will result in an error.
The swap will then be encrypted, loop-mounted and activated later in the 
startup process.
There's not much I can do about it. The first error when performing "swapon 
-a" is due to the fact that the encrypted swap partitions no longer have a 
valid "swap signature" in the clear, but the "swapon -a" command still tries 
to swapon them, as they are listed in /etc/fstab...

Feel free to give me your feedback and comments.

Best regards.

-- 
Michel Bouissou &lt;michel@bouissou.net&gt; OpenPGP ID 0x5C2BEE8F

["rc.sysinit.diff" (text/x-diff)]

--- rc.sysinit.Original.mdk82	Sun Apr  7 16:51:39 2002
+++ rc.sysinit	Sun Apr  7 16:59:35 2002
@@ -1111,17 +1111,41 @@
 # Delete Postgres sockets
 rm -f /tmp/.s.PGSQL.*
 
-#Detect encrypted swap
+#Detect and create/activate encrypted swap
+#Changed by Michel Bouissou on 2002/04/07
 if [[ -n $encrypted_swap ]];then
-    for loop in ${encrypted_swap};do
-	losetup -d /dev/loop0 2&gt;/dev/null &gt;/dev/null ||:
-	mcookie|losetup -p 0 AES128 /dev/loop0 ${loop} 2&gt;/dev/null &gt;/dev/null
-	sync
-	mkswap ${loop} 2&gt;/dev/null &gt;/dev/null
-	sync
-	action "Making encrypted swap for %s: " ${loop} swapon ${loop}
-	sync
-    done
+    loop=NONE
+    action "Testing insertion of loop module" modprobe loop
+    if [ $? == 0 ]; then
+        for (( s = 1; s &lt;= 10; s++ )); do
+            if [ -b /dev/loop0 ]; then
+                loop=OK
+                s=11
+            else
+                sleep 1
+            fi
+	done
+    fi
+    if [ $loop == OK ]; then
+        for swdev in ${encrypted_swap}; do
+            loop=NONE
+            for l in `echo /dev/loop[0-9]`; do
+                if [ $loop == NONE ] &amp;&amp; ! grep -q $l /proc/mounts &amp;&amp; ! { losetup $l \
&amp;&gt; /dev/null; }; then +                    loop=$l
+                fi
+            done
+	    if [ $loop != NONE ]; then
+                swapoff $swdev &gt; /dev/null 2&gt;&amp;1
+                mcookie | losetup -p 0 -e AES128 $loop $swdev &gt; /dev/null 2&gt;&amp;1
+                if [ $? == 0 ]; then
+                    action "Creating encrypted swap space on %s:" $loop mkswap $loop
+                    if [ $? == 0 ]; then
+                       action "Activating swap on %s:" $loop swapon -p 0 $loop
+                    fi
+                fi
+            fi
+        done
+    fi
 fi
 
 # Now turn on swap in case we swap to files.


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020408061840</emailId><senderName>Andreas Voegele</senderName><senderEmail>voegelas@users.sourceforge.net</senderEmail><timestampReceived>2002-04-08 06:18:40-0400</timestampReceived><subject>loop-aes and max_loop</subject><body>

I use the included patch for build-initrd.sh to set the maximum number
of loop devices.  Can you add this patch to the loop-aes distribution?

Or is there a better way to set the maximum number of loop devices?

diff -u -r loop-AES-v1.5c.orig/build-initrd.sh loop-AES-v1.5c/build-initrd.sh
--- loop-AES-v1.5c.orig/build-initrd.sh	Tue Feb  5 15:45:34 2002
+++ loop-AES-v1.5c/build-initrd.sh	Mon Apr  8 07:54:10 2002
@@ -84,6 +84,9 @@
 # temporary loop device index used in this script, 7 == /dev/loop7
 TEMPLOOPINDEX=7
 
+# maximum number of loop devices
+MAXLOOP=8
+
 # 1 = use devfs, 0 = use classic disk-based device names. If this is
 # enabled (USEDEVFS=1) then setting USEPIVOT=1 is also required.
 USEDEVFS=0
@@ -218,7 +221,7 @@
     buf[0] = 0;
     strCat(buf, "/lib/insmod -o loop /lib/loop-");
     strCat(buf, &amp;un.release[0]);
-    strCat(buf, ".o");
+    strCat(buf, ".o max_loop=${MAXLOOP}");
     if(exeWait(buf)) goto fail3;
 #endif
 
The manual page for pivot_root (from Feb 23, 2000) says:

   pivot_root may or may not affect its cwd. It is therefore
   recommended to call chdir("/") immediately after pivot_root.

diff -u -7 -r loop-AES-v1.5c.orig/build-initrd.sh loop-AES-v1.5c/build-initrd.sh
--- loop-AES-v1.5c.orig/build-initrd.sh	Tue Feb  5 15:45:34 2002
+++ loop-AES-v1.5c/build-initrd.sh	Mon Apr  8 08:12:22 2002
@@ -248,14 +248,15 @@
     if(pivot_root(".", "initrd")) {
         wrStr("pivot_root() to new root failed. Older kernels don't have pivot_root()\n");
         fail1:
         chdir("/");
         umount("/new-root");
         goto fail4;
     }
+    chdir("/");
 
 #if ${USEDEVFS}
     if(mount("none", "dev", "devfs", MS_MGC_VAL, 0)) {
         wrStr("Mounting /dev failed\n");
         goto fail1;
     }
 #endif
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020407174718</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-04-07 17:47:18-0400</timestampReceived><subject>Re: SECURITY: Patch for broken rc.sysinit in Mandrake 8.2</subject><body>

Michel Bouissou wrote:
&gt; Mandrake 8.2 comes with a kernel RPM including loop-aes.
&gt; 
&gt; It is supposed to be able to do a lot of useful things with it, including
&gt; automatically encrypt swap partitions if wanted.
[snip]
&gt; Feel free to give me your feedback and comments.

Not directly related to Mandrake init scripts, but next version of loop-AES
will setup encrypted swap _without_ changes to init scripts. All user needs
to do is to add "loop=/dev/loop?" and "encryption=AES128" options to swap
lines in /etc/fstab and "swapon -a" and "swapoff -a" will take care of all
encrypted swap setup work.

Example of /etc/fstab line:
 /dev/hda666   none   swap   sw,loop=/dev/loop6,encryption=AES128   0   0
                                ^^^^^^^^^^^^^^^ ^^^^^^^^^^^^^^^^^
I have attached new util-linux patches if someone wants to try them.
Compile and install like this:

    bzip2 -d -c util-linux-2.11o.tar.bz2 | tar xvf -
    cd util-linux-2.11o
    patch -p1 &lt;../util-linux-2.11o-1.diff
    patch -p1 &lt;../util-linux-2.11o-2.diff
    ./configure
    make SUBDIRS="lib mount"
    cd mount
    install -m 4755 -o root mount umount /bin
    install -m 755 losetup swapon /sbin
    rm -f /sbin/swapoff &amp;&amp; ( cd /sbin &amp;&amp; ln -s swapon swapoff )
    rm -f /usr/man/man8/{mount,umount,losetup,swapon,swapoff}.8.gz
    install -m 644 mount.8 umount.8 losetup.8 swapon.8 swapoff.8 /usr/man/man8
    rm -f /usr/man/man5/fstab.5.gz
    install -m 644 fstab.5 /usr/man/man5
    mandb

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
["util-linux-2.11o-1.diff.gz" (application/x-gzip)]
["util-linux-2.11o-1.diff.gz.sign" (text/plain)]

-----BEGIN PGP MESSAGE-----
Version: 2.6.3ia
Comment: http://loop-aes.sourceforge.net/PGP-public-key.asc

iQCVAwUAPLCB5jMKg0M6Ig9RAQFzGwP+Nn3wYZiMVNVul+JUOz8STaVpnJKB/PMw
hxuUthuQ4E+4nLSlBfAsBwzG32QQ/3r6u4j84j9jLGRbdgmsEWldLGSEcYuVPGjm
9r7WAnh/pvCzi7nM39zQwuoIfRnzkj9a0IFUr+oy9ZCVRsqsTU9r62UyydDcQK9S
VwgVQ1QaQRM=
=84T3
-----END PGP MESSAGE-----

["util-linux-2.11o-2.diff.gz" (application/x-gzip)]
["util-linux-2.11o-2.diff.gz.sign" (text/plain)]

-----BEGIN PGP MESSAGE-----
Version: 2.6.3ia
Comment: http://loop-aes.sourceforge.net/PGP-public-key.asc

iQCVAwUAPLCB8jMKg0M6Ig9RAQHQiAP+Id0xpxLDFEI5o0C3R+08uFY+fTAHjzaw
YZ+V6GMmL7U39QnCRpXRHI+bTdp0koLm7gwDvRfYrVZ/xQRi3AtbdbSPaI6iY6jp
Rcr3dUU5yqQjJ/y3qpo8YEmuJ9+J3SAljpj8+XVjfmG4bCpAfnpG/PRpcb6kLHCJ
NejFncXaO6I=
=HgHn
-----END PGP MESSAGE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020407205317</emailId><senderName>"IT3 Stuart Blake Tener, USNR-R"</senderName><senderEmail>stuart@bh90210.net</senderEmail><timestampReceived>2002-04-07 20:53:17-0400</timestampReceived><subject>RE: SECURITY: Patch for broken rc.sysinit in Mandrake 8.2</subject><body>

Mr. Ruusu:

	Wow, I must admit that I had switched from Mandrake back to
RedHat for compatibility reasons in terms of installing software, but I
am very happy a distribution has found it useful to incorporate loop-aes
into its process of installing itself! I do hope RedHat does the same!

	Mandrake is a very nice distribution in my view, but they do not
debug things quickly and perfectly enough for me, thus I feel it lacks
some stable aspects I get with RedHat. If it does become more
commercialized one day, it would definitely interest me to switch back
to it! Problem for me is, that I do consulting and I have to use a
distribution that is stable enough that it can also be deployed for
commercial applications, and I do not feel Mandrake is capable of that
kind of load or even if they offer 24/7 support for it at the moment,
nor (from my experience) is their quality control very good as I have
seen them release (in their last issue) a version which was chalk full
of bugulance, that is unacceptable for me to use in any distribution
which is destined for customers.

	I think that perhaps it would be prudent for us to work on part
of the installation process of RedHat to see if RedHat's installer could
be made to be loop-aes friendly. If that could be done, perhaps RedHat
would also think about making loop-aes inclusive to their distribution
and install process?

	If anyone is willing to make the modifications to the RedHat
installer I am willing to burn the modifications onto a CD-RW and boot
up the modified
CD-ROM and see if it works.


Very Respectfully, 

Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG 
Beverly Hills, California
VTU 1904G (Volunteer Training Unit) 
stuart@bh90210.net 
west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043 
east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859 

Telecopier: (419)-715-6073 fax to email gateway via www.efax.com (it's
free!) 

JOIN THE US NAVY RESERVE, SERVE YOUR COUNTRY, AND BENEFIT FROM IT ALL. 

Saturday, January 26, 2002 8:47 AM


-----Original Message-----
From: linux-crypto-bounce@nl.linux.org
[mailto:linux-crypto-bounce@nl.linux.org] On Behalf Of Jari Ruusu
Sent: Sunday, April 07, 2002 10:47 AM
To: Michel Bouissou
Cc: vdanen@mandrakesoft.com; warly@mandrakesoft.com;
linux-crypto@nl.linux.org; pplf
Subject: Re: SECURITY: Patch for broken rc.sysinit in Mandrake 8.2

Michel Bouissou wrote:
&gt; Mandrake 8.2 comes with a kernel RPM including loop-aes.
&gt; 
&gt; It is supposed to be able to do a lot of useful things with it,
including
&gt; automatically encrypt swap partitions if wanted.
[snip]
&gt; Feel free to give me your feedback and comments.

Not directly related to Mandrake init scripts, but next version of
loop-AES
will setup encrypted swap _without_ changes to init scripts. All user
needs
to do is to add "loop=/dev/loop?" and "encryption=AES128" options to
swap
lines in /etc/fstab and "swapon -a" and "swapoff -a" will take care of
all
encrypted swap setup work.

Example of /etc/fstab line:
 /dev/hda666   none   swap   sw,loop=/dev/loop6,encryption=AES128   0
0
                                ^^^^^^^^^^^^^^^ ^^^^^^^^^^^^^^^^^
I have attached new util-linux patches if someone wants to try them.
Compile and install like this:

    bzip2 -d -c util-linux-2.11o.tar.bz2 | tar xvf -
    cd util-linux-2.11o
    patch -p1 &lt;../util-linux-2.11o-1.diff
    patch -p1 &lt;../util-linux-2.11o-2.diff
    ./configure
    make SUBDIRS="lib mount"
    cd mount
    install -m 4755 -o root mount umount /bin
    install -m 755 losetup swapon /sbin
    rm -f /sbin/swapoff &amp;&amp; ( cd /sbin &amp;&amp; ln -s swapon swapoff )
    rm -f /usr/man/man8/{mount,umount,losetup,swapon,swapoff}.8.gz
    install -m 644 mount.8 umount.8 losetup.8 swapon.8 swapoff.8
/usr/man/man8
    rm -f /usr/man/man5/fstab.5.gz
    install -m 644 fstab.5 /usr/man/man5
    mandb

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020401181202</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-04-01 18:12:02-0400</timestampReceived><subject>Re: session-key proposal</subject><body>

Noll Janos wrote:
&gt; I have the following idea about implementing session keys in loop-AES,
&gt; and I'd like to hear what you think of it.
&gt; 
&gt; Goals:
&gt; 
&gt;  1. The user must be able to change the password of the encrypted device
&gt;  2. More than one user has to be able to access (unlock) the
&gt;     device (w/password)
&gt;  3. Users (passwords) can be added or removed as time goes on

This can be done in user space using GnuPG. A long and random session key is
encrypted using each users public key. Users just need to type their
personal GnuPG key to unlock the session key that is then piped to
"losetup -p 0".

See example #4 in loop-AES' README file for more info.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020401194736</emailId><senderName>Noll Janos</senderName><senderEmail>johnzero@johnzero.hu</senderEmail><timestampReceived>2002-04-01 19:47:36-0400</timestampReceived><subject>Re: session-key proposal</subject><body>

Hi!

On 01-Apr-2002 Jari Ruusu wrote:
&gt; This can be done in user space using GnuPG. A long and random session
&gt; key is encrypted using each users public key. Users just need to type
&gt; their personal GnuPG key to unlock the session key that is then piped
&gt; to "losetup -p 0".

 Yes, I already do this, but there are some problems:

 1. The session key traverses userspace, and thus, can be captured more
    easily. And once someone knows the session key, he cannot be locked
    out. Though this is only needed in very rare cases and setups.
 2. It's not really solid, I mean, it needs a "second" (etc.) file.
    If you encrypt a partition, you need to have the "second" file on a
    separate partition. Although you could use the "offset=" switch and
    embed the data into the beginning of the partition.
 3. It needs some scripting, hacking, external programs (like GPG)
    -- which is fine, if you're a programmer, but might be too much for
    "Average Joe"

 I was also thinking of implementing this in user-space, only then you'd
lose the ability to really "revoke" users' access to the encrypted space.
 But then again, maybe a kernel level thing won't make this that harder.

 The top two scenarios I'd need session keys for is:
 1. if I'd have to change the password of the encrypted partition
 2. if there needs to be a very secretly kept "rescue" password for the
    partition (think companies, or even, cautious individuals)

 But, thinking of it, maybe an userspace tool would be totally
appropriate.
 
| Noll Janos &lt;johnzero@johnzero.hu&gt; | http://www.johnzero.hu |
| "Expect the unexpected!"    |   ICQ# 4547866   |  Be free! |
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020402171939</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-04-02 17:19:39-0400</timestampReceived><subject>Re: session-key proposal</subject><body>

Noll Janos wrote:
&gt; On 01-Apr-2002 Jari Ruusu wrote:
&gt; &gt; This can be done in user space using GnuPG. A long and random session
&gt; &gt; key is encrypted using each users public key. Users just need to type
&gt; &gt; their personal GnuPG key to unlock the session key that is then piped
&gt; &gt; to "losetup -p 0".
&gt; 
&gt;  Yes, I already do this, but there are some problems:
&gt; 
&gt;  1. The session key traverses userspace, and thus, can be captured more
&gt;     easily. And once someone knows the session key, he cannot be locked
&gt;     out. Though this is only needed in very rare cases and setups.

Non-root users don't have access to session key, if the GnuPG encrypted file
is made root-only-readable and program that pipes that file's contents to
gpg and losetup/mount is made setuid-root.

&gt;  2. It's not really solid, I mean, it needs a "second" (etc.) file.
&gt;     If you encrypt a partition, you need to have the "second" file on a
&gt;     separate partition. Although you could use the "offset=" switch and
&gt;     embed the data into the beginning of the partition.

Using additional files should not be a major problem to someone who really
needs that kind of feature.

&gt;  3. It needs some scripting, hacking, external programs (like GPG)
&gt;     -- which is fine, if you're a programmer, but might be too much for
&gt;     "Average Joe"

Writing such script or program should not be a major problem to anyone who
knows what they are doing.

&gt;  I was also thinking of implementing this in user-space, only then you'd
&gt; lose the ability to really "revoke" users' access to the encrypted space.
&gt;  But then again, maybe a kernel level thing won't make this that harder.

Revoking someone's access is just creating new GnuPG encrypted session key
without that user's public key.

&gt;  The top two scenarios I'd need session keys for is:
&gt;  1. if I'd have to change the password of the encrypted partition

Users can change their GnuPG password any time they want.

&gt;  2. if there needs to be a very secretly kept "rescue" password for the
&gt;     partition (think companies, or even, cautious individuals)

Original root-only-access session key is such "rescue" password. Root uses
this "rescue" password to create GnuPG encrypted version for the setuid-root
program to read.

&gt;  But, thinking of it, maybe an userspace tool would be totally
&gt; appropriate.

Exactly.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200204021719390</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-04-02 17:19:39-0400</timestampReceived><subject>Re: session-key proposal</subject><body>

Noll Janos wrote:
&gt; On 01-Apr-2002 Jari Ruusu wrote:
&gt; &gt; This can be done in user space using GnuPG. A long and random session
&gt; &gt; key is encrypted using each users public key. Users just need to type
&gt; &gt; their personal GnuPG key to unlock the session key that is then piped
&gt; &gt; to "losetup -p 0".
&gt; 
&gt;  Yes, I already do this, but there are some problems:
&gt; 
&gt;  1. The session key traverses userspace, and thus, can be captured more
&gt;     easily. And once someone knows the session key, he cannot be locked
&gt;     out. Though this is only needed in very rare cases and setups.

Non-root users don't have access to session key, if the GnuPG encrypted file
is made root-only-readable and program that pipes that file's contents to
gpg and losetup/mount is made setuid-root.

&gt;  2. It's not really solid, I mean, it needs a "second" (etc.) file.
&gt;     If you encrypt a partition, you need to have the "second" file on a
&gt;     separate partition. Although you could use the "offset=" switch and
&gt;     embed the data into the beginning of the partition.

Using additional files should not be a major problem to someone who really
needs that kind of feature.

&gt;  3. It needs some scripting, hacking, external programs (like GPG)
&gt;     -- which is fine, if you're a programmer, but might be too much for
&gt;     "Average Joe"

Writing such script or program should not be a major problem to anyone who
knows what they are doing.

&gt;  I was also thinking of implementing this in user-space, only then you'd
&gt; lose the ability to really "revoke" users' access to the encrypted space.
&gt;  But then again, maybe a kernel level thing won't make this that harder.

Revoking someone's access is just creating new GnuPG encrypted session key
without that user's public key.

&gt;  The top two scenarios I'd need session keys for is:
&gt;  1. if I'd have to change the password of the encrypted partition

Users can change their GnuPG password any time they want.

&gt;  2. if there needs to be a very secretly kept "rescue" password for the
&gt;     partition (think companies, or even, cautious individuals)

Original root-only-access session key is such "rescue" password. Root uses
this "rescue" password to create GnuPG encrypted version for the setuid-root
program to read.

&gt;  But, thinking of it, maybe an userspace tool would be totally
&gt; appropriate.

Exactly.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020401011835</emailId><senderName>Jay Davis</senderName><senderEmail>jay@firebug.com</senderEmail><timestampReceived>2002-04-01 01:18:35-0400</timestampReceived><subject>Strange problem</subject><body>

Hi all.  I'm rather new to linux crypto, so any help with this problem would 
be appreciated.  Here's what I did.

a)	Installed kernel 2.4.18, all necessary loopback patches, crypto patches, 
etc.
b)	Compiled the crypto modules right into the kernel
c)	Compiled new kernel, everything works fine.  Startup lists installed 
ciphers, I can view them in /proc.
d)	Downloaded util-linux-2.11n source
e)	Patched with util-linux-2.11n.patch
f)	tried to compile mount, umount, losetup
f)	got an error about redefining dev_t
g)	found a script to fix dev_t in loop.h, ran that.
f)	Recompiled mount, umount, losetup - works now.
g)	Replaced existing /bin/ programs with the new ones.
h)	Created a new crypto FS as in the FAQ (mounted it to a loopback device, 
then mounted that in a folder.)  Worked fine.
I)	Copied files to the mounted directory.
No problems, can run ls and they show up.

now here's the problem.

umount /mycryptodir

OR

umount /dev/loop0

both lock the system hard.  Total freeze, numlock doesn't even work.  I have 
to cycle power to get the thing to reboot.

Any ideas?

Thanks!
Jay Davis
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020401122747</emailId><senderName>Sean Neakums</senderName><senderEmail>sneakums@zork.net</senderEmail><timestampReceived>2002-04-01 12:27:47-0400</timestampReceived><subject>Re: EVMS and LOOP-AES</subject><body>

commence  IT3 Stuart Blake Tener, USNR-R quotation:

&gt; 	I understand that loop-aes and cryptoloop are stacking device
&gt; technologies; however, I am also trying to ferment a plan to
&gt; implement everything cohesively.

How is it not "cohesive" now?  All that your proposals are doing is
reordering the stacking of the various layers, for no gain at all.

&gt; 	Fair enough, I am game. I am going to try to devise a method to
&gt; make use of loop-aes, EVMS, and ReiserFS without the need for suggesting
&gt; that a new "code bureaucracy" be created for EVMS. Although I do know
&gt; that already the plan (from IBM) is to have such plug-ins, I do not
&gt; think people on the EVMS team have the experience with encryption to
&gt; write such code.

Nor do they need to.  The work has already been done, by the cryptoapi
and loop-aes folks.

&gt; 	That being said, I would presume that the first layer should be
&gt; loop-aes, then EVMS, then ReiserFS; and that my /boot partition would
&gt; need to be an unencrypted, and outside the control of EVMS.

Running volume management on top of encrypted physicals does not
strike me as a good idea at all.  Losing a single key when you are
using encrypted loop on top of partitions or logical volumes means
that you lose only one volume, without affecting any others.  If you
lose the key to one of your encrypted physicals, you lose access to
ALL of the logical volumes that have PEs allocated from that physical
volume.

&gt; 	Since one person told me that, the issue I have had with using
&gt; DEVFS is related to initrd usage over ReiserFS (I plan to test this
&gt; later this week) I am willing to forgo the need for DEVFS for the
&gt; moment, since it would be a convenience at best right now. However,
&gt; eventually it would be my desire to also include the use DEVFS into the
&gt; mix.

If you don't neeed it, why use it at all?

&gt; 	One other thought is if loop-aes technology were a plug-in for
&gt; EVMS would that not make having encrypted swap a much more simple
&gt; process?

No.

-- 
 /////////////////  |                  | The spark of a pin
&lt;sneakums@zork.net&gt; |  (require 'gnu)  | dropping, falling feather-like.
 \\\\\\\\\\\\\\\\\  |                  | There is too much noise.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020403023929</emailId><senderName>Jay Davis</senderName><senderEmail>jay@firebug.com</senderEmail><timestampReceived>2002-04-03 02:39:29-0400</timestampReceived><subject>International Kernel Patch + Lock Breaking + Preempt = bad</subject><body>

As the subject said, installing the IKP + the lockbreaking patch + the 
preemptive kernel caused umount to solid lock the computer (to the point that 
the magic sysrq command was the only thing functioning).  Recompiling the 
kernel without lockbreaking and preempt makes everything function perfectly.  
Thought you guys might be interested to know about this, I can provide more 
information if it'd help.

Thanks,
Jay Davis
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020403170144</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-04-03 17:01:44-0400</timestampReceived><subject>Re: session-key proposal</subject><body>

Jari Ruusu wrote:
&gt; Noll Janos wrote:
&gt; &gt;  1. The session key traverses userspace, and thus, can be captured more
&gt; &gt;     easily. And once someone knows the session key, he cannot be locked
&gt; &gt;     out. Though this is only needed in very rare cases and setups.
&gt; 
&gt; Non-root users don't have access to session key, if the GnuPG encrypted file
&gt; is made root-only-readable and program that pipes that file's contents to
&gt; gpg and losetup/mount is made setuid-root.
&gt; 
[snip]
&gt; 
&gt; &gt;  3. It needs some scripting, hacking, external programs (like GPG)
&gt; &gt;     -- which is fine, if you're a programmer, but might be too much for
&gt; &gt;     "Average Joe"
&gt; 
&gt; Writing such script or program should not be a major problem to anyone who
&gt; knows what they are doing.

I wrote a script to create setuid-root executable program. That script is
attached. Setuid-root code needs to be a program, because Linux ignores the
SUID and SGID bits on scripts. Here is an example of how it can be used:

Create random session key and encrypt that key using root's (in this case
Jari Ruusu's) GnuPG public key.

    umask 077
    dd if=/dev/urandom bs=45 count=1 2&gt;/dev/null | uuencode -m - | head -2 \
        | tail -1 | gpg -e -a -r "Jari Ruusu" &gt; /root/masterkey-secret1.gpg

Use random session key to setup /dev/loop0 to partition /dev/hda666 and
create encrypted ext2 file system.

    gpg --decrypt &lt; /root/masterkey-secret1.gpg \
        | losetup -p 0 -e AES128 /dev/loop0 /dev/hda666
    mkfs -t ext2 /dev/loop0
    losetup -d /dev/loop0

Create a mount point for encrypted partition.

    mkdir /secret1

Build setuid-root executable program to read root-only-readable
/etc/userkey-secret1.gpg file and to pipe its contents through
"gpg --decrypt" to "mount -p X /secret1". /secret1 is the mount point where
filesystem is to be mounted. /usr/local/bin/gpgmount-secret1 is the created
setuid-root executable program.

    ./build-gpgmount.sh /etc/userkey-secret1.gpg /secret1 /usr/local/bin/gpgmount-secret1

Add mount information to /etc/fstab file. Something like this:

 /dev/hda666 /secret1 ext2 defaults,user,noauto,encryption=AES128,loop=/dev/loop0 0 0

Create root-only-readable /etc/userkey-secret1.gpg file which contains
session key encrypted with each user's public key. List all users as
recipient who should be able to mount /secret1 encrypted partition. Repeat
this every time you want to add or remove users.

    umask 077
    gpg --decrypt &lt; /root/masterkey-secret1.gpg \
        | gpg -e -a --always-trust -r "John Doe" -r "Tea Lipton" &gt; /etc/userkey-secret1.gpg

Users can mount encrypted partition like this. GnuPG asks for passphrase to
unlock user's secret key.

    gpgmount-secret1

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
["build-gpgmount.sh.gz" (application/x-gzip)]
["build-gpgmount.sh.gz.sign" (text/plain)]

-----BEGIN PGP MESSAGE-----
Version: 2.6.3ia
Comment: http://loop-aes.sourceforge.net/PGP-public-key.asc

iQCVAwUAPKswozMKg0M6Ig9RAQFnlAQAg28uyuxZbmwyux88EIOfeIYrnyvbM5KH
xN2uAzNyb3gNR6SmNI5zwLV27ax2Oya9jdRFbnuTTv/vnD+7AwRRymP1KZhhZkNT
2jMBayKQUTXCN+JzbNP5Kzu2NpGOY/B/8LkeLF1xLWpY0FloEits8spY1CfigMVA
uNbju1lZlfY=
=qYMu
-----END PGP MESSAGE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020408090800</emailId><senderName>Michel Bouissou</senderName><senderEmail>michel@bouissou.net</senderEmail><timestampReceived>2002-04-08 09:08:00-0400</timestampReceived><subject>Re: SECURITY: Patch for broken rc.sysinit in Mandrake 8.2</subject><body>

Le Dimanche 7 Avril 2002 19:47, Jari Ruusu a écrit :
&gt;
&gt; Not directly related to Mandrake init scripts, but next version of loop-AES
&gt; will setup encrypted swap _without_ changes to init scripts. All user needs
&gt; to do is to add "loop=/dev/loop?" and "encryption=AES128" options to swap
&gt; lines in /etc/fstab and "swapon -a" and "swapoff -a" will take care of all
&gt; encrypted swap setup work.

That's great :-)

&gt; I have attached new util-linux patches if someone wants to try them.

I haven't got enough time now for recompiling util-linux and test this 
(sorry), and my primary goal was just to fix the broken rc.sysinit that comes 
with Mandrake 8.2

But I've read part of your code, and I took an improvement to my existing 
patched rc.sysinit from it:

As the system entropy pool may not contain enough entropy at an early step in 
the system statup, to allow "mcookie" to deliver a good quality random 
"passphrase", I inspired myself with what you do in your code:

I seeded mcookie using the 40 first KB of the previous encrypted swap, before 
overwriting them with 40 KB of zeroes encrypted with the new random session 
key.

Adding this to the random bytes that mcookie takes from /dev/urandom (or 
/dev/random) and its other pseudo-random sources will very probably improve 
the randomness of resulting session keys.

Please find attached a new patch to rc.sysinit, which should be applied AFTER 
the patch that I sent yesterday.

I believe that this results both in a working ;-) and quite secure swap 
encryption in Mandrake 8.2.

Cheers.

-- 
Michel Bouissou &lt;michel@bouissou.net&gt; OpenPGP ID 0x5C2BEE8F


["rc.sysinit.diff.2" (text/x-diff)]

--- rc.sysinit.patch.MiB.1	Mon Apr  8 10:02:37 2002
+++ rc.sysinit	Mon Apr  8 10:30:27 2002
@@ -1112,7 +1112,7 @@
 rm -f /tmp/.s.PGSQL.*
 
 #Detect and create/activate encrypted swap
-#Changed by Michel Bouissou on 2002/04/07
+#Changed by Michel Bouissou on 2002/04/08
 if [[ -n $encrypted_swap ]];then
     loop=NONE
     action "Testing insertion of loop module" modprobe loop
@@ -1136,8 +1136,10 @@
             done
 	    if [ $loop != NONE ]; then
                 swapoff $swdev &gt; /dev/null 2&gt;&amp;1
-                mcookie | losetup -p 0 -e AES128 $loop $swdev &gt; /dev/null 2&gt;&amp;1
+		dd if=$swdev bs=1024 count=40 2&gt;/dev/null |\
+                mcookie -f /dev/stdin | losetup -p 0 -e AES128 $loop $swdev &gt; /dev/null 2&gt;&amp;1
                 if [ $? == 0 ]; then
+                    dd if=/dev/zero of=$loop bs=1024 count=40 &gt; /dev/null 2&gt;&amp;1
                     action "Creating encrypted swap space on %s:" $loop mkswap $loop
                     if [ $? == 0 ]; then
                        action "Activating swap on %s:" $loop swapon -p 0 $loop

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020408172033</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-04-08 17:20:33-0400</timestampReceived><subject>Re: loop-aes and max_loop</subject><body>

Andreas Voegele wrote:
&gt; I use the included patch for build-initrd.sh to set the maximum number
&gt; of loop devices.  Can you add this patch to the loop-aes distribution?

Your fixes will be included on next version. Thanks.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020409095754</emailId><senderName>Stephen Robert Norris</senderName><senderEmail>srn@fn.com.au</senderEmail><timestampReceived>2002-04-09 09:57:54-0400</timestampReceived><subject>Re: bruteforcing question</subject><body>

On Tue, 2002-04-09 at 20:43, Newsmail wrote:
&gt; Hi, I would like to ask a question that is maybe a dumb question, but I 
&gt; dont find an answer for it. I type mount /dev/hda1 to mount my encrypted 
&gt; filesystem. it asks for a password. If I fail to type the password, than it 
&gt; writes mount: wrong fs type, bad option, bad superblock on /dev/loop0, or 
&gt; too many mounted file systems ... blablabla. that did took me 1 second. If 
&gt; it was a program it would take less than a second to type 1 password. so it 
&gt; somebody begins to make a brute force attack against my encrypted 
&gt; filesystem it wouldnt take him so much time no? what protects my filesystem 
&gt; agaoinst these type of brute for attacks? brute forcing against an ssh 
&gt; connection is quite hard because the sshd waits some seconds before 
&gt; allowing to type a password again. but at mounting time there is nothing 
&gt; like this.
&gt; could somebody explain me this a bit?
&gt; regards,
&gt; greg
&gt; 
&gt; 
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/

Read a book on cryptography.

Better still, work out how long your (randomly generated if it's any
good) password/phrase is, and work out how many goes it will take to
guess. If it's any good, that number will be very, very large indeed -
then work out long it will take to try that number of goes!

A delay does slow down a guessing attacker, but really it's a holdover
from the days of unix crypt passwords - a tradition really, and more
honoured in the breach IMNSHO.

	Stephen
-- 
Stephen Norris	  srn@fn.com.au
Farrow Norris Pty Ltd	+61 417 243 239

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020414185435</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-04-14 18:54:35-0400</timestampReceived><subject>Announce loop-AES-v1.6b file/swap crypto package</subject><body>

loop-AES changes since previous release:
- Fixed xgetpass() realloc error case handling bug.
- Fixed silly bug that enforced minimum password length if "-H rmd160" and
  "-S xxx" options were both used simultaneously.
- Added -T option to losetup. -T asks password twice.
- Added NONE, XOR and unhashed AES tests to "make tests" script.
- Fixed NONE transfer remap optimization bug (2.4 and 2.5 kernels).
- Changed loop_make_request() so that it may sleep (partially reverts
  loop-AES-v1.4d change to non-sleeping code).
- Added support for 2.5 kernels. Large part of 2.4 buffer_head to 2.5 bio
  porting work was done by Ben Slusky.
- "swapon -a" and "swapoff -a" now understand loop=/dev/loop? and
  encryption=AES128 options in /etc/fstab for easier encrypted swap setup.
- Make runs depmod with -F and -b options and kernel-version if they are
  needed and depmod understands them.
- Merged build-initrd.sh additional loop module parameter and chdir("/")
  fixes from Andreas Voegele.
- Added Dr Brian Gladman's copyright and terms to resulting object code so
  that binary distributions can avoid legal trouble.
- Makefile updated to be compatible with Keith Owens' new kbuild.

bzip2 compressed tarball is here:

    http://loop-aes.sourceforge.net/loop-AES-v1.6b.tar.bz2
    md5sum 12f812e6a7e4160927441410e776f222

PGP signature file, my public key, and fingerprint here:

    http://loop-aes.sourceforge.net/loop-AES-v1.6b.tar.bz2.sign
    http://loop-aes.sourceforge.net/PGP-public-key.asc
    1024/3A220F51 5B 4B F9 BB D3 3F 52 E9  DB 1D EB E3 24 0E A9 DD


Additional ciphers package changes since previous release:
- Added support for 2.5 kernels.
- Cosmetic cleanups to init_module() and cleanup_module() functions.
- Improved parameter checking in serpent_set_key() function.
- Make runs depmod with -F and -b options and kernel-version if they are
  needed and depmod understands them.
- Makefile updated to be compatible with Keith Owens' new kbuild.

bzip2 compressed tarball is here:

    http://loop-aes.sourceforge.net/ciphers-v1.0c.tar.bz2
    md5sum fb884b84e4225b07c56478dfc98a7c3d

PGP signature file here:

    http://loop-aes.sourceforge.net/ciphers-v1.0c.tar.bz2.sign

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020423143616</emailId><senderName></senderName><senderEmail>email</senderEmail><timestampReceived>2002-04-23 14:36:16-0400</timestampReceived><subject>Website ? FAST !</subject><body>


Thankyou for taking the time to read this email,

HoLmeComputing is offering you a special offer on website hosting and domain name registration.

Set on a Windows 2000 secure server, running ASP, Frontpage and noe ASP.NET for the advanced users.

Hosting from £1 per month
Domain name registration from £8

We also conduct high end NO fuss website design to meet your needs.

Please reply to this email for a full price list.

Regards

Gavin Holmes
www.holmecomputing.com
E: holmecomputing@hotmail.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020424134025</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-04-24 13:40:25-0400</timestampReceived><subject>Re: An IPsec tunnel implementation for Linux using CryptoAPI</subject><body>

hello!

On Wed, 2002-04-24 at 00:17, Tobias Ringstrom wrote:
&gt; A little bit off-topic perhaps, but I'd like to congratulate you all on an
&gt; extremely useable piece of software!  When I decicided to make a
&gt; light-weight IPsec tunnel implementation some time ago I decided very
&gt; early on to use your CryptoAPI, and found it really easy to use.
&gt; 
&gt; I now have a version of my IPsec tunnel implementation that seems to work
&gt; just fine, and I think it's time to let you guys have a peek at it.  You
&gt; can find the code and a first stab at actual documentation at
&gt; 
&gt; 	http://ringstrom.mine.nu/ipsec_tunnel/
&gt; 
&gt; Please remeber that this is an early version, and I do not guarantee
&gt; anything.  It does seem to interoperate with OpenBSD's IPsec though, and I
&gt; have been using it for several weeks myself.
&gt; 
&gt; And yes, I've heard about FreeS/WAN...  :-)
&gt; 
&gt; I'm interested in any comments or questions!

I decided to CC this reply to the lkml, since IMO more people should
know about this implementation of yours.

I've taken a quick look at your webpage and the source code itself...
one thing I saw is, that your implementation doesn't require any
modification to the main kernel -- i.e. no patching required -- it's a
plugin... just like CIPE... (which btw uses cryptoapi as well in its
latest code base)
(thus you don't even need to reboot your system in order to enable
lightweight IPSEC in your kernel...)
-- this fits well with the cryptoapi, which can add modular crypto
support without needing to patch or reboot your kernel...

I think, some people will like this lightweight IPSEC/IPv4
implementation, since it doesn't have the eroute/route-filtering
facility of frees/wan... 

on the other hand, it's not a complete IPSEC implementation (yet)... it
only implements ESP for tunneling purposes, and lacks AH and IKE....
and frees/wan offers some advanced features like compression and icmp
handling, which ipsec_tunnel may still lack...

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

["signature.asc" (application/pgp-signature)]
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  http://www.tux.org/lkml/

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020428140216</emailId><senderName>       Richard Zidlicky</senderName><senderEmail></senderEmail><timestampReceived>2002-04-28 14:02:16-0400</timestampReceived><subject>Re: loop-aes does not work with sector sizes != 512 byte</subject><body>

On Wed, Apr 24, 2002 at 08:44:32PM +0300, Jari Ruusu wrote:
&gt; Panu Matilainen wrote:
&gt; &gt; On Tue, 23 Apr 2002, Jari Ruusu wrote:
&gt; &gt; &gt; OK, I found the bug. Loop driver says "I have 512 byte sectors" regardless
&gt; &gt; &gt; of what hard sector size of underlying device is. Don't blame me for this
&gt; &gt; &gt; bug, it is a genuine loop bug.
&gt; &gt; 
&gt; &gt; ...which reminds me: Jari, any success getting your loop fixes fed to
&gt; &gt; Marcelo &amp; Linus for inclusion in the standard kernel? I remember seeing a
&gt; &gt; the subject being briefly mentioned on lkml but haven't really followed up
&gt; &gt; whether they got applied or not. Would be nice to have a working loop
&gt; &gt; driver in the stock kernel for a change....
&gt; 
&gt; I posted loop driver fixes (with crypto parts removed) to Jens Axboe. LKML
&gt; and Marcelo Tosatti were CC'd but fixes were not merged, even though I made
&gt; all changes Jens asked me to do. Why they were not merged... well, your
&gt; guess is as good as mine.

please try to resend them a few times, unless you get some 
response the chances are good that the mail got simply lost
somewhere.

Richard
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020409094528</emailId><senderName>Newsmail</senderName><senderEmail>newsmail@satimex.tvnet.hu</senderEmail><timestampReceived>2002-04-09 09:45:28-0400</timestampReceived><subject>bruteforcing question</subject><body>

Hi, I would like to ask a question that is maybe a dumb question, but I 
dont find an answer for it. I type mount /dev/hda1 to mount my encrypted 
filesystem. it asks for a password. If I fail to type the password, than it 
writes mount: wrong fs type, bad option, bad superblock on /dev/loop0, or 
too many mounted file systems ... blablabla. that did took me 1 second. If 
it was a program it would take less than a second to type 1 password. so it 
somebody begins to make a brute force attack against my encrypted 
filesystem it wouldnt take him so much time no? what protects my filesystem 
agaoinst these type of brute for attacks? brute forcing against an ssh 
connection is quite hard because the sshd waits some seconds before 
allowing to type a password again. but at mounting time there is nothing 
like this.
could somebody explain me this a bit?
regards,
greg


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020428164411</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-04-28 16:44:11-0400</timestampReceived><subject>Re: resize the fs on the loop device</subject><body>

On Sun, 2002-04-28 at 15:06, Newsmail wrote:
&gt; sorry maybe this is a dumb question, or it was already answered somewhere, 
&gt; but is this possible to resize the filesystem residing on an encrypted loop 
&gt; device? does the loop device pose any problem to this?

well, the filesystem residing on the usual encrypted loop device can be
resized without problems... I've done this a few times at least...

there's just one thing that doesn't work to well, ... resizing the
underlying volume space without re-losetup'ing the loop device...

e.g. if resize the underlying logical LVM volume or fileimage, you'll
have to delete the loop device and losetup it again... I didn't have the
time to fix this in the loop device driver, but if someone wants to,
it's quite easy....

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020430015528</emailId><senderName>Robert van der Meulen</senderName><senderEmail>rvdm@wiretrip.org</senderEmail><timestampReceived>2002-04-30 01:55:28-0400</timestampReceived><subject>Re: Debian: kerneli, /dev/root=/dev/loop0</subject><body>

Quoting Pavel Minev Penev (kal_pav@sz.techno-link.com):
&gt; I use the kerneli patches under Debian, but do it really ugly. No
&gt; "kpkg", no `mkinitrd`, I do all by hand.

That's probably the best way; I'm not happy about the packaging of
kernel-patch-int at all :) The kernel-i packages will some time (I hope
I will soon find the time) be replaced by cryptoapi.

&gt; I, personally, don't like encrypting my root filesystem. Instead, I encrypt
&gt; sensitive data only. Easier to rescue, boot, backup, "tripwire", ...

Encrypting your root file system is pretty much useless.

&gt; I would like to see more nice Debian packages.

AOL :)

Greets,
	Robert
-- 
( o&gt;                          Linux Generation                          &lt;o )
///\            finger rvdm@debian.org for my GnuPG/PGP key.            /\\\
\V_/ "There are two major products that come out of Berkeley: LSD and   \_V/
    UNIX. We don't believe this to be a coincidence." -- Jeremy Anderson       
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020430023902</emailId><senderName>Kyle McMartin</senderName><senderEmail>kyle@debian.org</senderEmail><timestampReceived>2002-04-30 02:39:02-0400</timestampReceived><subject>Fwd: Re: Debian: kerneli, /dev/root=/dev/loop0</subject><body>

Oops.

----- Forwarded message from Kyle McMartin &lt;kyle@debian.org&gt; -----

From: Kyle McMartin &lt;kyle@debian.org&gt;
To: Robert van der Meulen &lt;rvdm@wiretrip.org&gt;
Subject: Re: Debian: kerneli, /dev/root=/dev/loop0

On Tue, Apr 30, 2002 at 03:55:28AM +0200, Robert van der Meulen wrote:
&gt; That's probably the best way; I'm not happy about the packaging of
&gt; kernel-patch-int at all :) The kernel-i packages will some time (I hope
&gt; I will soon find the time) be replaced by cryptoapi.
&gt; 
I'm currently working out a new system for handling this, since our cvs
tree consists of pseudo-patches and pseudo-version independant code.
Expect something in the next little while.

Regards,
	Kyle

----- End forwarded message -----

-- 
copyleft (c) 2002, Kyle McMartin
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020423221713</emailId><senderName>Tobias Ringstrom</senderName><senderEmail>tori@ringstrom.mine.nu</senderEmail><timestampReceived>2002-04-23 22:17:13-0400</timestampReceived><subject>An IPsec tunnel implementation for Linux using CryptoAPI</subject><body>

A little bit off-topic perhaps, but I'd like to congratulate you all on an
extremely useable piece of software!  When I decicided to make a
light-weight IPsec tunnel implementation some time ago I decided very
early on to use your CryptoAPI, and found it really easy to use.

I now have a version of my IPsec tunnel implementation that seems to work
just fine, and I think it's time to let you guys have a peek at it.  You
can find the code and a first stab at actual documentation at

	http://ringstrom.mine.nu/ipsec_tunnel/

Please remeber that this is an early version, and I do not guarantee
anything.  It does seem to interoperate with OpenBSD's IPsec though, and I
have been using it for several weeks myself.

And yes, I've heard about FreeS/WAN...  :-)

I'm interested in any comments or questions!

/Tobias

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020412101835</emailId><senderName>Peter Niemayer</senderName><senderEmail>niemayer@isg.de</senderEmail><timestampReceived>2002-04-12 10:18:35-0400</timestampReceived><subject>Re: loop-aes does not work with sector sizes != 512 byte</subject><body>

Jari Ruusu wrote:

&gt; Peter Niemayer wrote:
&gt; &gt; I tried your loop-device with AES encryption, and while it seems to
&gt; &gt; be a really nice tool it is lacking one important ability: One cannot
&gt; &gt; use it on media with a sector size != 512 byte - such as CD-ROMs,
&gt; &gt; MO-Media etc. (while one can read the raw data or mkfs the device,
&gt; &gt; mounting fails miserably).
&gt; 
&gt; It does not limit sector size to 512. Some people use it with CD-ROMs just
&gt; fine.

At least ext2 or fat filesystems on MO-media (that use 2048 sectors)
never work, mounting such always fails. As it works perfectly on
the same MO-drives when using media with 512 byte sectors, there has
to be something wrong...

During my tests I found that while I can losetup/mkfs/fsck the 2048byte media
perfectly, a mount afterwards fails. So it seems that while mkfs/fsck never
try to read something != 2048 byte blocks mount does something based
on a false sector size assumption.

&gt; IV is computed using 512 byte units, and that has nothing to do with hard
&gt; sector size.

Ok, so what can I do to help hunting down the cause of the problem?

While I'm quite familiar with C/gdb etc., I've only very little experience
with the internal structures used by linux block devices. I could use
kgdb if necessary... but maybe it's only a simple difference in what
fsck and mount do to find out the underlying devices block size...

Any idea where to start?

Regards,

Peter Niemayer
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020428120850</emailId><senderName>Newsmail</senderName><senderEmail>newsmail@satimex.tvnet.hu</senderEmail><timestampReceived>2002-04-28 12:08:50-0400</timestampReceived><subject>resize the fs on the loop device</subject><body>

sorry maybe this is a dumb question, or it was already answered somewhere, 
but is this possible to resize the filesystem residing on an encrypted loop 
device? does the loop device pose any problem to this?
regards,
greg


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020428130603</emailId><senderName>Newsmail</senderName><senderEmail>newsmail@satimex.tvnet.hu</senderEmail><timestampReceived>2002-04-28 13:06:03-0400</timestampReceived><subject>resize the fs on the loop device</subject><body>

sorry maybe this is a dumb question, or it was already answered somewhere, 
but is this possible to resize the filesystem residing on an encrypted loop 
device? does the loop device pose any problem to this?
regards,
greg


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020429110121</emailId><senderName>"Fruhwirth Clemens"</senderName><senderEmail>clemens-dated-1020510081.88a8@endorphin.org</senderEmail><timestampReceived>2002-04-29 11:01:21-0400</timestampReceived><subject>Debian: kerneli, /dev/root=/dev/loop0</subject><body>

hi!

i'd like to know if there are any debian users on the list, who have tried
to integrate patching the kernel to kerneli or initrd generation with debian
usual mechanisms.

currently my hackish solution integrates quite well with mkinitrd and
make-kpkg. i'm also using mcrypt to build an additional layer (so passwords 
of loop devices can be changed indirectly). before i start to prepare 
debian packages, i'd like to see how other debian users have done it.

another question: are there some pitfalls if i copy /vmlinuz to
/vmlinuz.pure, read the content /vmlinuz of via the filesystem calls and write
the content back via raw disc access to /vmlinuz.pure? the reason for doing
that is clear: i need a plaintext kernel image to boot. this solution would
be more convenient than adding a new 20mb partition for /boot. (of course
grub won't boot, but the simple lilo - working with block lists - would)

clemens

[Attachment #3 (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020430002922</emailId><senderName>Pavel Minev Penev</senderName><senderEmail>kal_pav@sz.techno-link.com</senderEmail><timestampReceived>2002-04-30 00:29:22-0400</timestampReceived><subject>Re: Debian: kerneli, /dev/root=/dev/loop0</subject><body>

On Mon, Apr 29, 2002 at 01:01:21PM +0200, Fruhwirth Clemens wrote:
&gt; i'd like to know if there are any debian users on the list, who have tried
&gt; to integrate patching the kernel to kerneli or initrd generation with debian
&gt; usual mechanisms.
&gt; 
&gt; currently my hackish solution integrates quite well with mkinitrd and
&gt; make-kpkg. i'm also using mcrypt to build an additional layer (so passwords 
&gt; of loop devices can be changed indirectly). before i start to prepare 
&gt; debian packages, i'd like to see how other debian users have done it.

I use the kerneli patches under Debian, but do it really ugly. No
"kpkg", no `mkinitrd`, I do all by hand.

&gt; another question: are there some pitfalls if i copy /vmlinuz to
&gt; /vmlinuz.pure, read the content /vmlinuz of via the filesystem calls and write
&gt; the content back via raw disc access to /vmlinuz.pure? the reason for doing
&gt; that is clear: i need a plaintext kernel image to boot. this solution would
&gt; be more convenient than adding a new 20mb partition for /boot. (of course
&gt; grub won't boot, but the simple lilo - working with block lists - would)

I, personally, don't like encrypting my root filesystem. Instead, I encrypt
sensitive data only. Easier to rescue, boot, backup, "tripwire", ...

I would like to see more nice Debian packages.
Good luck,
-- 
Pav
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200204281644110</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-04-28 16:44:11-0400</timestampReceived><subject>Re: resize the fs on the loop device</subject><body>

On Sun, 2002-04-28 at 15:06, Newsmail wrote:
&gt; sorry maybe this is a dumb question, or it was already answered somewhere, 
&gt; but is this possible to resize the filesystem residing on an encrypted loop 
&gt; device? does the loop device pose any problem to this?

well, the filesystem residing on the usual encrypted loop device can be
resized without problems... I've done this a few times at least...

there's just one thing that doesn't work to well, ... resizing the
underlying volume space without re-losetup'ing the loop device...

e.g. if resize the underlying logical LVM volume or fileimage, you'll
have to delete the loop device and losetup it again... I didn't have the
time to fix this in the loop device driver, but if someone wants to,
it's quite easy....

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>200204121018350</emailId><senderName>Peter Niemayer</senderName><senderEmail>niemayer@isg.de</senderEmail><timestampReceived>2002-04-12 10:18:35-0400</timestampReceived><subject>Re: loop-aes does not work with sector sizes != 512 byte</subject><body>

Jari Ruusu wrote:

&gt; Peter Niemayer wrote:
&gt; &gt; I tried your loop-device with AES encryption, and while it seems to
&gt; &gt; be a really nice tool it is lacking one important ability: One cannot
&gt; &gt; use it on media with a sector size != 512 byte - such as CD-ROMs,
&gt; &gt; MO-Media etc. (while one can read the raw data or mkfs the device,
&gt; &gt; mounting fails miserably).
&gt; 
&gt; It does not limit sector size to 512. Some people use it with CD-ROMs just
&gt; fine.

At least ext2 or fat filesystems on MO-media (that use 2048 sectors)
never work, mounting such always fails. As it works perfectly on
the same MO-drives when using media with 512 byte sectors, there has
to be something wrong...

During my tests I found that while I can losetup/mkfs/fsck the 2048byte media
perfectly, a mount afterwards fails. So it seems that while mkfs/fsck never
try to read something != 2048 byte blocks mount does something based
on a false sector size assumption.

&gt; IV is computed using 512 byte units, and that has nothing to do with hard
&gt; sector size.

Ok, so what can I do to help hunting down the cause of the problem?

While I'm quite familiar with C/gdb etc., I've only very little experience
with the internal structures used by linux block devices. I could use
kgdb if necessary... but maybe it's only a simple difference in what
fsck and mount do to find out the underlying devices block size...

Any idea where to start?

Regards,

Peter Niemayer
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020412164856</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-04-12 16:48:56-0400</timestampReceived><subject>Re: loop-aes does not work with sector sizes != 512 byte</subject><body>

Peter Niemayer wrote:
&gt; At least ext2 or fat filesystems on MO-media (that use 2048 sectors)
&gt; never work, mounting such always fails. As it works perfectly on
&gt; the same MO-drives when using media with 512 byte sectors, there has
&gt; to be something wrong...
&gt; 
&gt; During my tests I found that while I can losetup/mkfs/fsck the 2048byte media
&gt; perfectly, a mount afterwards fails. So it seems that while mkfs/fsck never
&gt; try to read something != 2048 byte blocks mount does something based
&gt; on a false sector size assumption.
[snip]
&gt; Ok, so what can I do to help hunting down the cause of the problem?
&gt; 
&gt; While I'm quite familiar with C/gdb etc., I've only very little experience
&gt; with the internal structures used by linux block devices. I could use
&gt; kgdb if necessary... but maybe it's only a simple difference in what
&gt; fsck and mount do to find out the underlying devices block size...
&gt; 
&gt; Any idea where to start?

You could try to set the soft block size of both underlying device and loop
device in question using blockdev utility (it is part of util-linux
package). Something like this:

    blockdev --setbsz 2048 /dev/sda1
    losetup -e AES128 /dev/loop0 /dev/sda1
    blockdev --setbsz 2048 /dev/loop0
    mount -t ext2 /dev/loop0 /mnt

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200204121648560</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-04-12 16:48:56-0400</timestampReceived><subject>Re: loop-aes does not work with sector sizes != 512 byte</subject><body>

Peter Niemayer wrote:
&gt; At least ext2 or fat filesystems on MO-media (that use 2048 sectors)
&gt; never work, mounting such always fails. As it works perfectly on
&gt; the same MO-drives when using media with 512 byte sectors, there has
&gt; to be something wrong...
&gt; 
&gt; During my tests I found that while I can losetup/mkfs/fsck the 2048byte media
&gt; perfectly, a mount afterwards fails. So it seems that while mkfs/fsck never
&gt; try to read something != 2048 byte blocks mount does something based
&gt; on a false sector size assumption.
[snip]
&gt; Ok, so what can I do to help hunting down the cause of the problem?
&gt; 
&gt; While I'm quite familiar with C/gdb etc., I've only very little experience
&gt; with the internal structures used by linux block devices. I could use
&gt; kgdb if necessary... but maybe it's only a simple difference in what
&gt; fsck and mount do to find out the underlying devices block size...
&gt; 
&gt; Any idea where to start?

You could try to set the soft block size of both underlying device and loop
device in question using blockdev utility (it is part of util-linux
package). Something like this:

    blockdev --setbsz 2048 /dev/sda1
    losetup -e AES128 /dev/loop0 /dev/sda1
    blockdev --setbsz 2048 /dev/loop0
    mount -t ext2 /dev/loop0 /mnt

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020415123702</emailId><senderName>Peter Niemayer</senderName><senderEmail>niemayer@isg.de</senderEmail><timestampReceived>2002-04-15 12:37:02-0400</timestampReceived><subject>Re: loop-aes does not work with sector sizes != 512 byte</subject><body>

Jari Ruusu wrote:

&gt; &gt; During my tests I found that while I can losetup/mkfs/fsck the 2048byte media
&gt; &gt; perfectly, a mount afterwards fails. So it seems that while mkfs/fsck never
&gt; &gt; try to read something != 2048 byte blocks mount does something based
&gt; &gt; on a false sector size assumption.
&gt; [snip]
&gt; &gt; Ok, so what can I do to help hunting down the cause of the problem?
 
&gt; You could try to set the soft block size of both underlying device and loop
&gt; device in question using blockdev utility (it is part of util-linux
&gt; package). Something like this:
&gt; 
&gt;     blockdev --setbsz 2048 /dev/sda1
&gt;     losetup -e AES128 /dev/loop0 /dev/sda1
&gt;     blockdev --setbsz 2048 /dev/loop0
&gt;     mount -t ext2 /dev/loop0 /mnt

I tried this - and many variants just to be sure - but it doesn't help.

When using --getbsz to ask for the current block size, the correct
value (2048) is returned (for both the loop and the block device).
"mount" fails nevertheless...

Ok, so what's the next thing to try? :-)

Regards,

Peter Niemayer
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020415130901</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-04-15 13:09:01-0400</timestampReceived><subject>Re: loop-aes does not work with sector sizes != 512 byte</subject><body>

Peter Niemayer wrote:
&gt; Jari Ruusu wrote:
&gt; &gt; You could try to set the soft block size of both underlying device and loop
&gt; &gt; device in question using blockdev utility (it is part of util-linux
&gt; &gt; package). Something like this:
&gt; &gt;
&gt; &gt;     blockdev --setbsz 2048 /dev/sda1
&gt; &gt;     losetup -e AES128 /dev/loop0 /dev/sda1
&gt; &gt;     blockdev --setbsz 2048 /dev/loop0
&gt; &gt;     mount -t ext2 /dev/loop0 /mnt
&gt; 
&gt; I tried this - and many variants just to be sure - but it doesn't help.
&gt; 
&gt; When using --getbsz to ask for the current block size, the correct
&gt; value (2048) is returned (for both the loop and the block device).
&gt; "mount" fails nevertheless...
&gt; 
&gt; Ok, so what's the next thing to try? :-)

You could post exact commands (and their output) that you used to create and
mount your encrypted fs. And since the mount command is the one that fails,
strace the mount process like this:

    strace -i -o tempname1 /bin/mount -t ext2 /dev/loop0 /mnt

and post tempname1 contents, BUT MASK YOUR PASSWORD WITH XXXXX BEFORE
POSTING.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020422172252</emailId><senderName>Peter Niemayer</senderName><senderEmail>niemayer@isg.de</senderEmail><timestampReceived>2002-04-22 17:22:52-0400</timestampReceived><subject>Re: loop-aes does not work with sector sizes != 512 byte</subject><body>

Jari Ruusu wrote:

&gt; &gt; &gt; blockdev --setbsz 2048 /dev/sda1
&gt; &gt; &gt; losetup -e AES128 /dev/loop0 /dev/sda1
&gt; &gt; &gt; blockdev --setbsz 2048 /dev/loop0
&gt; &gt; &gt; mount -t ext2 /dev/loop0 /mnt
&gt; &gt; 
&gt; &gt; I tried this - and many variants just to be sure - but it doesn't help.
&gt; &gt; 
&gt; &gt; When using --getbsz to ask for the current block size, the correct
&gt; &gt; value (2048) is returned (for both the loop and the block device).
&gt; &gt; "mount" fails nevertheless...
&gt; &gt; 
&gt; &gt; Ok, so what's the next thing to try? :-)
&gt; 
&gt; You could post exact commands (and their output) that you used to create and
&gt; mount your encrypted fs. And since the mount command is the one that fails,
&gt; strace the mount process like this:
&gt; 
&gt; strace -i -o tempname1 /bin/mount -t ext2 /dev/loop0 /mnt

I tried with kernel 2.4.18 and loop-AES-1.6b.

Ok, here's the script I used for the test:

--------------------------------------------------------------------------------
#!/bin/sh

echo -n "blockdev /dev/sdb result: "
blockdev --getbsz /dev/sdb

echo "12345678901234567890" | losetup -p 0 -e AES128 /dev/loop0 /dev/sdb

echo
echo -n "blockdev /dev/loop0 result: "
blockdev --getbsz /dev/loop0

echo
echo "mkfs output:"
mkfs -t ext2 /dev/loop0

echo
echo "fsck output:"
fsck.ext2 -f /dev/loop0

echo
echo "mount output:"

strace -f -i -o /tmp/test mount -t ext2 /dev/loop0 /mnt/floppy

losetup -d /dev/loop0
---------------------------------------------------------------------------------

Here is the output of the script running (when there's a 2048 byte sector medium
in the drive /dev/sdb):

---------------------------------------------------------------------------------
blockdev /dev/sdb result: 2048

blockdev /dev/loop0 result: 2048

mkfs output:
mke2fs 1.23, 15-Aug-2001 for EXT2 FS 0.5b, 95/08/09
Filesystem label=
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
77600 inodes, 155176 blocks
7758 blocks (5.00%) reserved for the super user
First data block=0
5 block groups
32768 blocks per group, 32768 fragments per group
15520 inodes per group
Superblock backups stored on blocks: 
        32768, 98304

Writing inode tables: done                            
Writing superblocks and filesystem accounting information: done

This filesystem will be automatically checked every 24 mounts or
180 days, whichever comes first.  Use tune2fs -c or -i to override.

fsck output:
e2fsck 1.23, 15-Aug-2001 for EXT2 FS 0.5b, 95/08/09
Pass 1: Checking inodes, blocks, and sizes
Pass 2: Checking directory structure
Pass 3: Checking directory connectivity
Pass 4: Checking reference counts
Pass 5: Checking group summary information
/dev/loop0: 11/77600 files (0.0% non-contiguous), 2446/155176 blocks

mount output:
mount: wrong fs type, bad option, bad superblock on /dev/loop0,
       or too many mounted file systems
---------------------------------------------------------------------------------

Here is the strace output of the mount command in that situation:

---------------------------------------------------------------------------------
2514  [40011d07] brk(0)                 = 0x805d040
2514  [40011f2d] old_mmap(NULL, 4096, PROT_READ|PROT_WRITE, \
MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x40016000 2514  [40011864] \
open("/etc/ld.so.preload", O_RDONLY) = -1 ENOENT (No such file or directory) 2514  \
[40011864] open("/etc/ld.so.cache", O_RDONLY) = 3 2514  [400117e9] fstat64(3, \
{st_mode=S_IFREG|0644, st_size=61293, ...}) = 0 2514  [40011f2d] old_mmap(NULL, \
61293, PROT_READ, MAP_PRIVATE, 3, 0) = 0x40017000 2514  [4001189d] close(3)           \
= 0 2514  [40011864] open("/lib/libc.so.6", O_RDONLY) = 3
2514  [400118e4] read(3, \
"\177ELF\1\1\1\0\0\0\0\0\0\0\0\0\3\0\3\0\1\0\0\0\360\303"..., 1024) = 1024 2514  \
[400117e9] fstat64(3, {st_mode=S_IFREG|0755, st_size=5724399, ...}) = 0 2514  \
[40011f2d] old_mmap(NULL, 1265160, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0) = \
0x40026000 2514  [40011fb4] mprotect(0x40152000, 36360, PROT_NONE) = 0
2514  [40011f2d] old_mmap(0x40152000, 20480, PROT_READ|PROT_WRITE, \
MAP_PRIVATE|MAP_FIXED, 3, 0x12b000) = 0x40152000 2514  [40011f2d] \
old_mmap(0x40157000, 15880, PROT_READ|PROT_WRITE, \
MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x40157000 2514  [4001189d] close(3)    \
= 0 2514  [40011f71] munmap(0x40017000, 61293) = 0
2514  [40105d97] brk(0)                 = 0x805d040
2514  [40105d97] brk(0x805d068)         = 0x805d068
2514  [40105d97] brk(0x805e000)         = 0x805e000
2514  [400ff064] open("/usr/share/locale/locale.alias", O_RDONLY) = 3
2514  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=2601, ...}) = 0
2514  [4010946d] old_mmap(NULL, 4096, PROT_READ|PROT_WRITE, \
MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x40017000 2514  [400ff124] read(3, "# Locale \
name alias data base.\n#"..., 4096) = 2601 2514  [400ff124] read(3, "", 4096)      = \
0 2514  [400ff0dd] close(3)               = 0
2514  [40109551] munmap(0x40017000, 4096) = 0
2514  [400ff064] open("/usr/lib/locale/en_US/LC_IDENTIFICATION", O_RDONLY) = 3
2514  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=370, ...}) = 0
2514  [4010946d] old_mmap(NULL, 370, PROT_READ, MAP_PRIVATE, 3, 0) = 0x40017000
2514  [400ff0dd] close(3)               = 0
2514  [400ff064] open("/usr/lib/locale/en_US/LC_MEASUREMENT", O_RDONLY) = 3
2514  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=28, ...}) = 0
2514  [4010946d] old_mmap(NULL, 28, PROT_READ, MAP_PRIVATE, 3, 0) = 0x40018000
2514  [400ff0dd] close(3)               = 0
2514  [400ff064] open("/usr/lib/locale/en_US/LC_TELEPHONE", O_RDONLY) = 3
2514  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=64, ...}) = 0
2514  [4010946d] old_mmap(NULL, 64, PROT_READ, MAP_PRIVATE, 3, 0) = 0x40019000
2514  [400ff0dd] close(3)               = 0
2514  [400ff064] open("/usr/lib/locale/en_US/LC_ADDRESS", O_RDONLY) = 3
2514  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=160, ...}) = 0
2514  [4010946d] old_mmap(NULL, 160, PROT_READ, MAP_PRIVATE, 3, 0) = 0x4001a000
2514  [400ff0dd] close(3)               = 0
2514  [40105d97] brk(0x805f000)         = 0x805f000
2514  [400ff064] open("/usr/lib/locale/en_US/LC_NAME", O_RDONLY) = 3
2514  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=82, ...}) = 0
2514  [4010946d] old_mmap(NULL, 82, PROT_READ, MAP_PRIVATE, 3, 0) = 0x4001b000
2514  [400ff0dd] close(3)               = 0
2514  [400ff064] open("/usr/lib/locale/en_US/LC_PAPER", O_RDONLY) = 3
2514  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=39, ...}) = 0
2514  [4010946d] old_mmap(NULL, 39, PROT_READ, MAP_PRIVATE, 3, 0) = 0x4001c000
2514  [400ff0dd] close(3)               = 0
2514  [400ff064] open("/usr/lib/locale/en_US/LC_MESSAGES", O_RDONLY) = 3
2514  [400fe155] fstat64(3, {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0
2514  [400ff0dd] close(3)               = 0
2514  [400ff064] open("/usr/lib/locale/en_US/LC_MESSAGES/SYS_LC_MESSAGES", O_RDONLY) \
= 3 2514  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=57, ...}) = 0
2514  [4010946d] old_mmap(NULL, 57, PROT_READ, MAP_PRIVATE, 3, 0) = 0x4001d000
2514  [400ff0dd] close(3)               = 0
2514  [400ff064] open("/usr/lib/locale/en_US/LC_MONETARY", O_RDONLY) = 3
2514  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=291, ...}) = 0
2514  [4010946d] old_mmap(NULL, 291, PROT_READ, MAP_PRIVATE, 3, 0) = 0x4001e000
2514  [400ff0dd] close(3)               = 0
2514  [400ff064] open("/usr/lib/locale/en_US/LC_COLLATE", O_RDONLY) = 3
2514  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=21499, ...}) = 0
2514  [4010946d] old_mmap(NULL, 21499, PROT_READ, MAP_PRIVATE, 3, 0) = 0x4001f000
2514  [400ff0dd] close(3)               = 0
2514  [400ff064] open("/usr/lib/locale/en_US/LC_TIME", O_RDONLY) = 3
2514  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=2456, ...}) = 0
2514  [4010946d] old_mmap(NULL, 2456, PROT_READ, MAP_PRIVATE, 3, 0) = 0x40025000
2514  [400ff0dd] close(3)               = 0
2514  [400ff064] open("/usr/lib/locale/en_US/LC_NUMERIC", O_RDONLY) = 3
2514  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=59, ...}) = 0
2514  [4010946d] old_mmap(NULL, 59, PROT_READ, MAP_PRIVATE, 3, 0) = 0x4015b000
2514  [400ff0dd] close(3)               = 0
2514  [400ff064] open("/usr/lib/locale/en_US/LC_CTYPE", O_RDONLY) = 3
2514  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=173408, ...}) = 0
2514  [4010946d] old_mmap(NULL, 173408, PROT_READ, MAP_PRIVATE, 3, 0) = 0x4015c000
2514  [400ff0dd] close(3)               = 0
2514  [400ff064] open("/dev/null", O_RDWR|O_LARGEFILE) = 3
2514  [400ff0dd] close(3)               = 0
2514  [400da794] getuid32()             = 0
2514  [400da80c] geteuid32()            = 0
2514  [400fe2f5] lstat64("/etc/mtab", {st_mode=S_IFREG|0644, st_size=340, ...}) = 0
2514  [400fdfb5] stat64("/sbin/mount.ext2", 0xbffff850) = -1 ENOENT (No such file or \
directory) 2514  [4005489d] rt_sigprocmask(SIG_BLOCK, ~[TRAP SEGV], NULL, 8) = 0
2514  [4010cbfe] mount("/dev/loop0", "/mnt/floppy", "ext2", 0xc0ed0000, 0) = -1 \
EINVAL (Invalid argument) 2514  [4005489d] rt_sigprocmask(SIG_UNBLOCK, ~[TRAP SEGV], \
NULL, 8) = 0 2514  [40105d97] brk(0x8060000)         = 0x8060000
2514  [400ff064] open("/usr/share/locale/en_US/LC_MESSAGES/util-linux.mo", O_RDONLY) \
= -1 ENOENT (No such file or directory) 2514  [400ff064] \
open("/usr/share/locale/en/LC_MESSAGES/util-linux.mo", O_RDONLY) = -1 ENOENT (No such \
file or directory) 2514  [400ff164] write(2, "mount: wrong fs type, bad option"..., \
104) = 104 2514  [400fdfb5] stat64("/dev/loop0", {st_mode=S_IFBLK|0660, \
st_rdev=makedev(7, 0), ...}) = 0 2514  [400ff064] open("/dev/loop0", \
O_RDONLY|O_NONBLOCK|O_LARGEFILE) = 3 2514  [40105e74] ioctl(3, BLKGETSIZE, \
0xbffff970) = 0 2514  [400ff0dd] close(3)               = 0
2514  [400da05d] _exit(32)              = ?
---------------------------------------------------------------------------------




Here's the output of the script again, now with a 512-byte/sector medium
in the drive:

---------------------------------------------------------------------------------
blockdev /dev/sdb result: 512

blockdev /dev/loop0 result: 512

mkfs output:
mke2fs 1.23, 15-Aug-2001 for EXT2 FS 0.5b, 95/08/09
Filesystem label=
OS type: Linux
Block size=1024 (log=0)
Fragment size=1024 (log=0)
56000 inodes, 223162 blocks
11158 blocks (5.00%) reserved for the super user
First data block=1
28 block groups
8192 blocks per group, 8192 fragments per group
2000 inodes per group
Superblock backups stored on blocks: 
        8193, 24577, 40961, 57345, 73729, 204801, 221185

Writing inode tables: done                            
Writing superblocks and filesystem accounting information: done

This filesystem will be automatically checked every 32 mounts or
180 days, whichever comes first.  Use tune2fs -c or -i to override.

fsck output:
e2fsck 1.23, 15-Aug-2001 for EXT2 FS 0.5b, 95/08/09
Pass 1: Checking inodes, blocks, and sizes
Pass 2: Checking directory structure
Pass 3: Checking directory connectivity
Pass 4: Checking reference counts
Pass 5: Checking group summary information
/dev/loop0: 11/56000 files (0.0% non-contiguous), 7086/223162 blocks

mount output:
ioctl: LOOP_CLR_FD: Device or resource busy
---------------------------------------------------------------------------------

(in the end, the losetup -d fails, of course, as the mount was successful...)

... and here is the strace output of the test with 512byte/sector:

---------------------------------------------------------------------------------
2534  [40011d07] brk(0)                 = 0x805d040
2534  [40011f2d] old_mmap(NULL, 4096, PROT_READ|PROT_WRITE, \
MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x40016000 2534  [40011864] \
open("/etc/ld.so.preload", O_RDONLY) = -1 ENOENT (No such file or directory) 2534  \
[40011864] open("/etc/ld.so.cache", O_RDONLY) = 3 2534  [400117e9] fstat64(3, \
{st_mode=S_IFREG|0644, st_size=61293, ...}) = 0 2534  [40011f2d] old_mmap(NULL, \
61293, PROT_READ, MAP_PRIVATE, 3, 0) = 0x40017000 2534  [4001189d] close(3)           \
= 0 2534  [40011864] open("/lib/libc.so.6", O_RDONLY) = 3
2534  [400118e4] read(3, \
"\177ELF\1\1\1\0\0\0\0\0\0\0\0\0\3\0\3\0\1\0\0\0\360\303"..., 1024) = 1024 2534  \
[400117e9] fstat64(3, {st_mode=S_IFREG|0755, st_size=5724399, ...}) = 0 2534  \
[40011f2d] old_mmap(NULL, 1265160, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0) = \
0x40026000 2534  [40011fb4] mprotect(0x40152000, 36360, PROT_NONE) = 0
2534  [40011f2d] old_mmap(0x40152000, 20480, PROT_READ|PROT_WRITE, \
MAP_PRIVATE|MAP_FIXED, 3, 0x12b000) = 0x40152000 2534  [40011f2d] \
old_mmap(0x40157000, 15880, PROT_READ|PROT_WRITE, \
MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x40157000 2534  [4001189d] close(3)    \
= 0 2534  [40011f71] munmap(0x40017000, 61293) = 0
2534  [40105d97] brk(0)                 = 0x805d040
2534  [40105d97] brk(0x805d068)         = 0x805d068
2534  [40105d97] brk(0x805e000)         = 0x805e000
2534  [400ff064] open("/usr/share/locale/locale.alias", O_RDONLY) = 3
2534  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=2601, ...}) = 0
2534  [4010946d] old_mmap(NULL, 4096, PROT_READ|PROT_WRITE, \
MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x40017000 2534  [400ff124] read(3, "# Locale \
name alias data base.\n#"..., 4096) = 2601 2534  [400ff124] read(3, "", 4096)      = \
0 2534  [400ff0dd] close(3)               = 0
2534  [40109551] munmap(0x40017000, 4096) = 0
2534  [400ff064] open("/usr/lib/locale/en_US/LC_IDENTIFICATION", O_RDONLY) = 3
2534  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=370, ...}) = 0
2534  [4010946d] old_mmap(NULL, 370, PROT_READ, MAP_PRIVATE, 3, 0) = 0x40017000
2534  [400ff0dd] close(3)               = 0
2534  [400ff064] open("/usr/lib/locale/en_US/LC_MEASUREMENT", O_RDONLY) = 3
2534  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=28, ...}) = 0
2534  [4010946d] old_mmap(NULL, 28, PROT_READ, MAP_PRIVATE, 3, 0) = 0x40018000
2534  [400ff0dd] close(3)               = 0
2534  [400ff064] open("/usr/lib/locale/en_US/LC_TELEPHONE", O_RDONLY) = 3
2534  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=64, ...}) = 0
2534  [4010946d] old_mmap(NULL, 64, PROT_READ, MAP_PRIVATE, 3, 0) = 0x40019000
2534  [400ff0dd] close(3)               = 0
2534  [400ff064] open("/usr/lib/locale/en_US/LC_ADDRESS", O_RDONLY) = 3
2534  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=160, ...}) = 0
2534  [4010946d] old_mmap(NULL, 160, PROT_READ, MAP_PRIVATE, 3, 0) = 0x4001a000
2534  [400ff0dd] close(3)               = 0
2534  [40105d97] brk(0x805f000)         = 0x805f000
2534  [400ff064] open("/usr/lib/locale/en_US/LC_NAME", O_RDONLY) = 3
2534  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=82, ...}) = 0
2534  [4010946d] old_mmap(NULL, 82, PROT_READ, MAP_PRIVATE, 3, 0) = 0x4001b000
2534  [400ff0dd] close(3)               = 0
2534  [400ff064] open("/usr/lib/locale/en_US/LC_PAPER", O_RDONLY) = 3
2534  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=39, ...}) = 0
2534  [4010946d] old_mmap(NULL, 39, PROT_READ, MAP_PRIVATE, 3, 0) = 0x4001c000
2534  [400ff0dd] close(3)               = 0
2534  [400ff064] open("/usr/lib/locale/en_US/LC_MESSAGES", O_RDONLY) = 3
2534  [400fe155] fstat64(3, {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0
2534  [400ff0dd] close(3)               = 0
2534  [400ff064] open("/usr/lib/locale/en_US/LC_MESSAGES/SYS_LC_MESSAGES", O_RDONLY) \
= 3 2534  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=57, ...}) = 0
2534  [4010946d] old_mmap(NULL, 57, PROT_READ, MAP_PRIVATE, 3, 0) = 0x4001d000
2534  [400ff0dd] close(3)               = 0
2534  [400ff064] open("/usr/lib/locale/en_US/LC_MONETARY", O_RDONLY) = 3
2534  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=291, ...}) = 0
2534  [4010946d] old_mmap(NULL, 291, PROT_READ, MAP_PRIVATE, 3, 0) = 0x4001e000
2534  [400ff0dd] close(3)               = 0
2534  [400ff064] open("/usr/lib/locale/en_US/LC_COLLATE", O_RDONLY) = 3
2534  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=21499, ...}) = 0
2534  [4010946d] old_mmap(NULL, 21499, PROT_READ, MAP_PRIVATE, 3, 0) = 0x4001f000
2534  [400ff0dd] close(3)               = 0
2534  [400ff064] open("/usr/lib/locale/en_US/LC_TIME", O_RDONLY) = 3
2534  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=2456, ...}) = 0
2534  [4010946d] old_mmap(NULL, 2456, PROT_READ, MAP_PRIVATE, 3, 0) = 0x40025000
2534  [400ff0dd] close(3)               = 0
2534  [400ff064] open("/usr/lib/locale/en_US/LC_NUMERIC", O_RDONLY) = 3
2534  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=59, ...}) = 0
2534  [4010946d] old_mmap(NULL, 59, PROT_READ, MAP_PRIVATE, 3, 0) = 0x4015b000
2534  [400ff0dd] close(3)               = 0
2534  [400ff064] open("/usr/lib/locale/en_US/LC_CTYPE", O_RDONLY) = 3
2534  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=173408, ...}) = 0
2534  [4010946d] old_mmap(NULL, 173408, PROT_READ, MAP_PRIVATE, 3, 0) = 0x4015c000
2534  [400ff0dd] close(3)               = 0
2534  [400ff064] open("/dev/null", O_RDWR|O_LARGEFILE) = 3
2534  [400ff0dd] close(3)               = 0
2534  [400da794] getuid32()             = 0
2534  [400da80c] geteuid32()            = 0
2534  [400fe2f5] lstat64("/etc/mtab", {st_mode=S_IFREG|0644, st_size=385, ...}) = 0
2534  [400fdfb5] stat64("/sbin/mount.ext2", 0xbffff850) = -1 ENOENT (No such file or \
directory) 2534  [4005489d] rt_sigprocmask(SIG_BLOCK, ~[TRAP SEGV], NULL, 8) = 0
2534  [4010cbfe] mount("/dev/loop0", "/mnt/floppy", "ext2", 0xc0ed0000, 0) = 0
2534  [40105d97] brk(0x8061000)         = 0x8061000
2534  [40100ed4] readlink("/dev", 0xbfffe890, 4096) = -1 EINVAL (Invalid argument)
2534  [40100ed4] readlink("/dev/loop0", 0xbfffe890, 4096) = -1 EINVAL (Invalid \
argument) 2534  [40100ed4] readlink("/mnt", 0xbfffe890, 4096) = -1 EINVAL (Invalid \
argument) 2534  [40100ed4] readlink("/mnt/floppy", 0xbfffe890, 4096) = -1 EINVAL \
(Invalid argument) 2534  [400ff064] open("/etc/mtab", O_RDWR|O_CREAT|O_LARGEFILE, \
0644) = 3 2534  [400ff0dd] close(3)               = 0
2534  [4005475b] rt_sigaction(SIGHUP, {0x804d840, ~[], 0x4000000}, NULL, 8) = 0
2534  [4005475b] rt_sigaction(SIGINT, {0x804d840, ~[], 0x4000000}, NULL, 8) = 0
2534  [4005475b] rt_sigaction(SIGQUIT, {0x804d840, ~[], 0x4000000}, NULL, 8) = 0
2534  [4005475b] rt_sigaction(SIGILL, {0x804d840, ~[], 0x4000000}, NULL, 8) = 0
2534  [4005475b] rt_sigaction(SIGTRAP, {0x804d840, ~[], 0x4000000}, NULL, 8) = 0
2534  [4005475b] rt_sigaction(SIGABRT, {0x804d840, ~[], 0x4000000}, NULL, 8) = 0
2534  [4005475b] rt_sigaction(SIGBUS, {0x804d840, ~[], 0x4000000}, NULL, 8) = 0
2534  [4005475b] rt_sigaction(SIGFPE, {0x804d840, ~[], 0x4000000}, NULL, 8) = 0
2534  [4005475b] rt_sigaction(SIGKILL, {0x804d840, ~[], 0x4000000}, NULL, 8) = -1 \
EINVAL (Invalid argument) 2534  [4005475b] rt_sigaction(SIGUSR1, {0x804d840, ~[], \
0x4000000}, NULL, 8) = 0 2534  [4005475b] rt_sigaction(SIGSEGV, {0x804d840, ~[], \
0x4000000}, NULL, 8) = 0 2534  [4005475b] rt_sigaction(SIGUSR2, {0x804d840, ~[], \
0x4000000}, NULL, 8) = 0 2534  [4005475b] rt_sigaction(SIGPIPE, {0x804d840, ~[], \
0x4000000}, NULL, 8) = 0 2534  [4005475b] rt_sigaction(SIGALRM, {0x804d860, ~[], \
0x4000000}, NULL, 8) = 0 2534  [4005475b] rt_sigaction(SIGTERM, {0x804d840, ~[], \
0x4000000}, NULL, 8) = 0 2534  [4005475b] rt_sigaction(SIGSTKFLT, {0x804d840, ~[], \
0x4000000}, NULL, 8) = 0 2534  [400da6e7] getpid()               = 2534
2534  [400ff064] open("/etc/mtab~2534", O_WRONLY|O_CREAT|O_LARGEFILE, 0) = 3
2534  [400ff0dd] close(3)               = 0
2534  [40100e51] link("/etc/mtab~2534", "/etc/mtab~") = 0
2534  [40100f0d] unlink("/etc/mtab~2534") = 0
2534  [400ff064] open("/etc/mtab~", O_WRONLY|O_LARGEFILE) = 3
2534  [400ff527] fcntl64(3, F_SETLK64, {type=F_WRLCK, whence=SEEK_SET, start=0, \
len=0}, 0xbffff830) = 0 2534  [400ff0dd] close(3)               = 0
2534  [40105d97] brk(0x8062000)         = 0x8062000
2534  [400ff064] open("/etc/mtab", O_RDWR|O_APPEND|O_CREAT|O_LARGEFILE, 0666) = 3
2534  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=385, ...}) = 0
2534  [4010946d] old_mmap(NULL, 4096, PROT_READ|PROT_WRITE, \
MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x40187000 2534  [400fe155] fstat64(3, \
{st_mode=S_IFREG|0644, st_size=385, ...}) = 0 2534  [4010c66b] _llseek(3, 0, [0], \
SEEK_SET) = 0 2534  [400ff124] read(3, "/dev/hda6 / ext2 rw 0 0\nnone /pr"..., 385) = \
385 2534  [400fe155] fstat64(3, {st_mode=S_IFREG|0644, st_size=385, ...}) = 0
2534  [4010c66b] _llseek(3, 385, [385], SEEK_SET) = 0
2534  [400ff164] write(3, "/dev/loop0 /mnt/floppy ext2 rw 0"..., 35) = 35
2534  [400ff0dd] close(3)               = 0
2534  [40109551] munmap(0x40187000, 4096) = 0
2534  [40100f0d] unlink("/etc/mtab~")   = 0
2534  [4005489d] rt_sigprocmask(SIG_UNBLOCK, ~[TRAP SEGV], NULL, 8) = 0
2534  [400da05d] _exit(0)               = ?
---------------------------------------------------------------------------------


Any idea?

Regards,

Peter Niemayer
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020423154932</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-04-23 15:49:32-0400</timestampReceived><subject>Re: loop-aes does not work with sector sizes != 512 byte</subject><body>

Peter Niemayer wrote:
&gt; I tried with kernel 2.4.18 and loop-AES-1.6b.
[snip]
&gt; Any idea?

Strace output didn't help: I wanted to see that mount() system call
parameters were sane... and they were sane. Were there any kernel error
messages? You can display them with "dmesg" command and they probably are
also archived at /var/log/messages file.

Can you modify your test script so that mkfs always creates filesystem with
2 KB soft block size (mkfs -t ext2 -b 2048 /dev/loop0), and that it displays
the soft block size of both /dev/sdb (blockdev --getbsz /dev/sdb) and
/dev/loop0 (blockdev --getbsz /dev/loop0) _after_ failed mount attempt?

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020423161819</emailId><senderName>Peter Niemayer</senderName><senderEmail>niemayer@isg.de</senderEmail><timestampReceived>2002-04-23 16:18:19-0400</timestampReceived><subject>Re: loop-aes does not work with sector sizes != 512 byte</subject><body>

Jari Ruusu wrote:
&gt; 
&gt; Peter Niemayer wrote:
&gt; &gt; I tried with kernel 2.4.18 and loop-AES-1.6b.
&gt; [snip]
&gt; &gt; Any idea?
&gt; 
&gt; Strace output didn't help: I wanted to see that mount() system call
&gt; parameters were sane... and they were sane. Were there any kernel error
&gt; messages? 

dmesg says:

sd.c:Bad block number requested I/O error: dev 08:10, sector 2
EXT2-fs: unable to read superblock

&gt; Can you modify your test script so that mkfs always creates filesystem with
&gt; 2 KB soft block size (mkfs -t ext2 -b 2048 /dev/loop0), and that it displays
&gt; the soft block size of both /dev/sdb (blockdev --getbsz /dev/sdb) and
&gt; /dev/loop0 (blockdev --getbsz /dev/loop0) _after_ failed mount attempt?

No problem:

------------------------------------------------------------------------------
blockdev /dev/sdb result: 2048

blockdev /dev/loop0 result: 2048

mkfs output:
mke2fs 1.23, 15-Aug-2001 for EXT2 FS 0.5b, 95/08/09
Filesystem label=
OS type: Linux
Block size=2048 (log=1)
Fragment size=2048 (log=1)
77824 inodes, 310352 blocks
15517 blocks (5.00%) reserved for the super user
First data block=0
19 block groups
16384 blocks per group, 16384 fragments per group
4096 inodes per group
Superblock backups stored on blocks: 
        16384, 49152, 81920, 114688, 147456

Writing inode tables: done                            
Writing superblocks and filesystem accounting information: done

This filesystem will be automatically checked every 22 mounts or
180 days, whichever comes first.  Use tune2fs -c or -i to override.

fsck output:
e2fsck 1.23, 15-Aug-2001 for EXT2 FS 0.5b, 95/08/09
Pass 1: Checking inodes, blocks, and sizes
Pass 2: Checking directory structure
Pass 3: Checking directory connectivity
Pass 4: Checking reference counts
Pass 5: Checking group summary information
/dev/loop0: 11/77824 files (0.0% non-contiguous), 4923/310352 blocks

mount output:
mount: wrong fs type, bad option, bad superblock on /dev/loop0,
       or too many mounted file systems
blockdev /dev/sdb result: 2048
blockdev /dev/loop0 result: 1024
------------------------------------------------------------------------------

So obviously, the /dev/loop0 blocksize is wrong after the mount-attempt.
I tried to insert a "blockdev --setbsz 2048 /dev/loop0" right before the
mount command, but without success.

Also, in the mount man-page, there is written:

   THE LOOP DEVICE
       One further possible type is a mount via the loop device. For example, the \
command

         mount /tmp/fdimage /mnt -t msdos -o loop=/dev/loop3,blocksize=1024

       will  set  up  the loop device /dev/loop3 to correspond to the file \
                /tmp/fdimage, and then mount this
       device on /mnt.  This type of mount knows about six options, namely loop, \
                offset,  encryption, pseed,
       phash and loinit that are really options to losetup(8).  If the mount requires \
                a passphrase, you will
       be prompted for one unless you specify a file descriptor to read from instead \
                with the -p option.  If
       no  explicit loop device is mentioned (but just an option `-o loop' is given), \
                then mount will try to
       find some unused loop device and use that.  If you are not so unwise as to \
                make /etc/mtab a  symbolic
       link  to  /proc/mounts then any loop device allocated by mount will be freed \
by umount.  You can also  free a loop device by hand, using `losetup -d', see \
losetup(8).

I tried to use that "blocksize=2048" option, but I only get another error
message in the "dmesg", then:

  EXT2-fs: Unrecognized mount option blocksize

Next idea? :-)


Regards,

Peter Niemayer
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020423191747</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-04-23 19:17:47-0400</timestampReceived><subject>Re: loop-aes does not work with sector sizes != 512 byte</subject><body>

Peter Niemayer wrote:
&gt; dmesg says:
&gt; 
&gt; sd.c:Bad block number requested I/O error: dev 08:10, sector 2
&gt; EXT2-fs: unable to read superblock

OK, I found the bug. Loop driver says "I have 512 byte sectors" regardless
of what hard sector size of underlying device is. Don't blame me for this
bug, it is a genuine loop bug.

Anyway, I have attached new version of loop.c-2.4.diff to this mail. Just
uncompress and drop it to loop-AES-v1.6b directory, and rebuild loop.o
driver. No need to reboot, but do "rmmod loop" to remove old driver before
trying to use this new one.

Now it should work with larger than 512 byte sector media, but I haven't
tested it with 2048 byte sector media simply because I don't have any such
devices. Does this work for you?

&gt; I tried to use that "blocksize=2048" option, but I only get another error
&gt; message in the "dmesg", then:
&gt; 
&gt;   EXT2-fs: Unrecognized mount option blocksize

Last time I looked, neither mount nor ext2 understands blocksize= mount
option. Man page is wrong.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
["loop.c-2.4.diff.bz2" (application/octet-stream)]
["loop.c-2.4.diff.bz2.sign" (text/plain)]

-----BEGIN PGP MESSAGE-----
Version: 2.6.3ia
Comment: http://loop-aes.sourceforge.net/PGP-public-key.asc

iQCVAwUAPMWt8zMKg0M6Ig9RAQH/QQP9EpbDQunKEa2gzgKmJaz66QQKKc5N1HcL
Uxq9VxHScoE1eANYdvduWa0ElMXLlKezp+0eysgkc15s8PVk7CavhzOEcFo5A8Uq
SFykaCRQiPXBOqJp8bpjDdraAsvIg34pSvj01BL/oWkKHxWxqfDZmfz4+dLprsAg
ytCPFRILU7Q=
=Dhzy
-----END PGP MESSAGE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020424061424</emailId><senderName>Panu Matilainen</senderName><senderEmail>pmatilai@welho.com</senderEmail><timestampReceived>2002-04-24 06:14:24-0400</timestampReceived><subject>Re: loop-aes does not work with sector sizes != 512 byte</subject><body>

On Tue, 23 Apr 2002, Jari Ruusu wrote:

&gt; Peter Niemayer wrote:
&gt; &gt; dmesg says:
&gt; &gt; 
&gt; &gt; sd.c:Bad block number requested I/O error: dev 08:10, sector 2
&gt; &gt; EXT2-fs: unable to read superblock
&gt; 
&gt; OK, I found the bug. Loop driver says "I have 512 byte sectors" regardless
&gt; of what hard sector size of underlying device is. Don't blame me for this
&gt; bug, it is a genuine loop bug.

...which reminds me: Jari, any success getting your loop fixes fed to 
Marcelo &amp; Linus for inclusion in the standard kernel? I remember seeing a 
the subject being briefly mentioned on lkml but haven't really followed up 
whether they got applied or not. Would be nice to have a working loop 
driver in the stock kernel for a change....

	- Panu -

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020424073151</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-04-24 07:31:51-0400</timestampReceived><subject>Re: loop-aes does not work with sector sizes != 512 byte</subject><body>

On Wed, 24 Apr 2002, Panu Matilainen wrote:
&gt; On Tue, 23 Apr 2002, Jari Ruusu wrote:
&gt; &gt; OK, I found the bug. Loop driver says "I have 512 byte sectors" regardless
&gt; &gt; of what hard sector size of underlying device is. Don't blame me for this
&gt; &gt; bug, it is a genuine loop bug.
&gt; ...which reminds me: Jari, any success getting your loop fixes fed to 
&gt; Marcelo &amp; Linus for inclusion in the standard kernel? I remember seeing a 
&gt; the subject being briefly mentioned on lkml but haven't really followed up 
&gt; whether they got applied or not. Would be nice to have a working loop 
&gt; driver in the stock kernel for a change....

...tell that marcelo and/or linus... they are the ones to convince. :-)

marcelo doesn't feel comfortable enough to change the semantics in a 2.4.x 
kernel... I couldn't convince him yet, that everyone doing serious loop 
encryption, is applying patches to his loop-driver anyway... 

at least andrea arcangeli has included 

http://www.kernel.org/pub/linux/kernel/people/andrea/kernels/v2.4/2.4.19pre7aa1/00_loop-IV-API-hvr-1

for some time in his -aa series...

...this gives a little hope :-)

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F 4142

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020424091241</emailId><senderName>Peter Niemayer</senderName><senderEmail>niemayer@isg.de</senderEmail><timestampReceived>2002-04-24 09:12:41-0400</timestampReceived><subject>Re: loop-aes does not work with sector sizes != 512 byte</subject><body>

Jari Ruusu wrote:

&gt; OK, I found the bug. Loop driver says "I have 512 byte sectors" regardless
&gt; of what hard sector size of underlying device is. Don't blame me for this
&gt; bug, it is a genuine loop bug.

Yes, it's in the current kernels loop device as well... 

&gt; Now it should work with larger than 512 byte sector media, but I haven't
&gt; tested it with 2048 byte sector media simply because I don't have any such
&gt; devices. Does this work for you?

Yes, works great! Thanks a lot for fixing that bug!

BTW: Maybe this is the right time to propose loop-AES to become
part of the "official" mainstream kernel?

Regards,

Peter Niemayer
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020424174341</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-04-24 17:43:41-0400</timestampReceived><subject>Re: loop-aes does not work with sector sizes != 512 byte</subject><body>

Peter Niemayer wrote:
&gt; Yes, works great! Thanks a lot for fixing that bug!

I have to ask one more question: Can you (or anyone else on the list) test
same changes for 2.2.20 kernel with 2048 hard sector size? I will post new
diff on the list if someone promises to test it.

Same bug was present in all loop-AES supported kernels (2.0, 2.2, 2.4 and
2.5). I have fixed the bug in 2.2 and 2.0 loop drivers. 2.5 still has that
bug, and there is no easy way to fix that currently. In 2.5 all loop devices
_share_ same hard sector size... OUCH.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020424174432</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-04-24 17:44:32-0400</timestampReceived><subject>Re: loop-aes does not work with sector sizes != 512 byte</subject><body>

Panu Matilainen wrote:
&gt; On Tue, 23 Apr 2002, Jari Ruusu wrote:
&gt; &gt; OK, I found the bug. Loop driver says "I have 512 byte sectors" regardless
&gt; &gt; of what hard sector size of underlying device is. Don't blame me for this
&gt; &gt; bug, it is a genuine loop bug.
&gt; 
&gt; ...which reminds me: Jari, any success getting your loop fixes fed to
&gt; Marcelo &amp; Linus for inclusion in the standard kernel? I remember seeing a
&gt; the subject being briefly mentioned on lkml but haven't really followed up
&gt; whether they got applied or not. Would be nice to have a working loop
&gt; driver in the stock kernel for a change....

I posted loop driver fixes (with crypto parts removed) to Jens Axboe. LKML
and Marcelo Tosatti were CC'd but fixes were not merged, even though I made
all changes Jens asked me to do. Why they were not merged... well, your
guess is as good as mine.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020424182436</emailId><senderName>Peter Niemayer</senderName><senderEmail>niemayer@isg.de</senderEmail><timestampReceived>2002-04-24 18:24:36-0400</timestampReceived><subject>Re: loop-aes does not work with sector sizes != 512 byte</subject><body>

Jari Ruusu wrote:
&gt; 
&gt; Peter Niemayer wrote:
&gt; &gt; Yes, works great! Thanks a lot for fixing that bug!
&gt; 
&gt; I have to ask one more question: Can you (or anyone else on the list) test
&gt; same changes for 2.2.20 kernel with 2048 hard sector size? I will post new
&gt; diff on the list if someone promises to test it.

Alas, I don't have a system with tools old enough to allow for 2.2 boots -
I'm just using too many fancy new features... I know... :-)

I'll ask if some of the other people I know who own MO drives still uses
2.2 kernels.

&gt; 2.5 still has that
&gt; bug, and there is no easy way to fix that currently. In 2.5 all loop devices
&gt; _share_ same hard sector size... OUCH.

Uh.. that reminds me of yet another 512-byte-nightmare not that long ago...
with 2.2 kernels, FAT filesystems on 2048 byte/sector media worked just fine.
Then came 2.4.0, and with it the inability of Linux to use FAT on such devices.
It took loads of mails and 7 minor version numbers until this ugly bug was
fixed, later...

And then, there's yet another such bug in the kernel: The ufs filesystem
makes the false assumption that some vendors variants of ufs are supporting
512 byte sectors, only. I had to do a quick dirty hack (hardwiring 2048 byte/sector)
to read some old ufs media...

It seems some automatic tool should reject any patch send to Linus that
contains the constant "512" but not "1024", "2048" and "4096" as well... :-)

Regards,

Peter Niemayer
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200204281402160</emailId><senderName>       Richard Zidlicky</senderName><senderEmail></senderEmail><timestampReceived>2002-04-28 14:02:16-0400</timestampReceived><subject>Re: loop-aes does not work with sector sizes != 512 byte</subject><body>

On Wed, Apr 24, 2002 at 08:44:32PM +0300, Jari Ruusu wrote:
&gt; Panu Matilainen wrote:
&gt; &gt; On Tue, 23 Apr 2002, Jari Ruusu wrote:
&gt; &gt; &gt; OK, I found the bug. Loop driver says "I have 512 byte sectors" regardless
&gt; &gt; &gt; of what hard sector size of underlying device is. Don't blame me for this
&gt; &gt; &gt; bug, it is a genuine loop bug.
&gt; &gt; 
&gt; &gt; ...which reminds me: Jari, any success getting your loop fixes fed to
&gt; &gt; Marcelo &amp; Linus for inclusion in the standard kernel? I remember seeing a
&gt; &gt; the subject being briefly mentioned on lkml but haven't really followed up
&gt; &gt; whether they got applied or not. Would be nice to have a working loop
&gt; &gt; driver in the stock kernel for a change....
&gt; 
&gt; I posted loop driver fixes (with crypto parts removed) to Jens Axboe. LKML
&gt; and Marcelo Tosatti were CC'd but fixes were not merged, even though I made
&gt; all changes Jens asked me to do. Why they were not merged... well, your
&gt; guess is as good as mine.

please try to resend them a few times, unless you get some 
response the chances are good that the mail got simply lost
somewhere.

Richard
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200204241340250</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-04-24 13:40:25-0400</timestampReceived><subject>Re: An IPsec tunnel implementation for Linux using CryptoAPI</subject><body>

hello!

On Wed, 2002-04-24 at 00:17, Tobias Ringstrom wrote:
&gt; A little bit off-topic perhaps, but I'd like to congratulate you all on an
&gt; extremely useable piece of software!  When I decicided to make a
&gt; light-weight IPsec tunnel implementation some time ago I decided very
&gt; early on to use your CryptoAPI, and found it really easy to use.
&gt; 
&gt; I now have a version of my IPsec tunnel implementation that seems to work
&gt; just fine, and I think it's time to let you guys have a peek at it.  You
&gt; can find the code and a first stab at actual documentation at
&gt; 
&gt; 	http://ringstrom.mine.nu/ipsec_tunnel/
&gt; 
&gt; Please remeber that this is an early version, and I do not guarantee
&gt; anything.  It does seem to interoperate with OpenBSD's IPsec though, and I
&gt; have been using it for several weeks myself.
&gt; 
&gt; And yes, I've heard about FreeS/WAN...  :-)
&gt; 
&gt; I'm interested in any comments or questions!

I decided to CC this reply to the lkml, since IMO more people should
know about this implementation of yours.

I've taken a quick look at your webpage and the source code itself...
one thing I saw is, that your implementation doesn't require any
modification to the main kernel -- i.e. no patching required -- it's a
plugin... just like CIPE... (which btw uses cryptoapi as well in its
latest code base)
(thus you don't even need to reboot your system in order to enable
lightweight IPSEC in your kernel...)
-- this fits well with the cryptoapi, which can add modular crypto
support without needing to patch or reboot your kernel...

I think, some people will like this lightweight IPSEC/IPv4
implementation, since it doesn't have the eroute/route-filtering
facility of frees/wan... 

on the other hand, it's not a complete IPSEC implementation (yet)... it
only implements ESP for tunneling purposes, and lacks AH and IKE....
and frees/wan offers some advanced features like compression and icmp
handling, which ipsec_tunnel may still lack...

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020301101732</emailId><senderName>Olaf Titz</senderName><senderEmail>olaf@bigred.inka.de</senderEmail><timestampReceived>2002-03-01 10:17:32-0400</timestampReceived><subject>Cryptoapi Blowfish implementation and IV argument issues</subject><body>

&gt; &gt; "known bug", or an imperfect implementation (i.e. with blowfish), they
&gt; &gt; have a responsibility to fix it, and offer a transition path to correct
&gt; &gt; it.
&gt; btw, that cryptoapi thing is more a 'known issue' than a 'known bug'
&gt;
&gt; why? because a bug usually leads to loss of data or something different;
&gt; but since the patch-int was the only encryption package to read and
&gt; write such blowfish encrypted volumes there was no real need to change
&gt; that... or was there any established volume-encryption format, to which
&gt; compatibility would have been broken?
&gt; ok, the bug about it is, that on big-endian machines the on-disk format
&gt; is different... but as said in a mail before, this blowfish issue will

It _is_ a bug, because the Blowfish algorithm is clearly specified and
the cryptoapi implementation breaks this spec.

The same bug exists in CIPE, btw., although the code was developed
independently the authors made the same mistake (while the 32-bit
words are processed internally in host byte order, they have to be
_read from memory_ in defined big-endian byte order). This also leads
to interoperability problems not only because of different on-disk
formats but of different _network_ formats - CIPE uses this
implementation in the development version.

I've resolved this problem by re-specifying the CIPE network format to
use a mutated little-endian Blowfish and coding the internal Blowfish
module in a way which uses this byte order even on big-endian
machines. (Btw. has anyone ever tested that?) What has mainly kept me
from releasing the new, cryptoapi based CIPE as a stable 1.6 about a
year ago was that this issue had not been resolved - it would be
impossible for a BE and a LE machine to communicate; while this may be
tolerable for disks it absolutely isn't for networks.

I've also long suspected that the cryptoapi IDEA implementation has
the same problem. Has anyone ever verified this? (Sorry, I don't have
a big-endian box to test.)

&gt; be resolved... i.e. by fixing the current, and providing a
&gt; compat-blowfish cipher...

Which is the only sane way out of this mess, yes.

While we're at it, can anyone tell me why the IV argument in the
cryptoapi functions since 2.4.16 is specified as u32[] ? I see the
imminent danger that the same implementation mistake as cited above
will be made again, as someone will write code which reads and writes
the IV in 32-bit chunks. For the same reason as for the ciphers
themselves, this does not work. Can this possibly be changed to a byte
pointer?

Olaf

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020220064509</emailId><senderName>Erik Kunze</senderName><senderEmail>erik.kunze@philosys.de</senderEmail><timestampReceived>2002-02-20 06:45:09-0400</timestampReceived><subject>Crypted CDROMs</subject><body>

Hi all,

I'd like to crypt CDROMs, but can't get it working with ISO9660. Any other
filesystem does work!

What I did:

#&gt; modprobe cryptoloop

#&gt; dd if=/dev/urandom of=/tmp/cryptfile bs=2048 count=333000

#&gt; echo "my_passwort" | \
    losetup -e aes --keybits 256 -p 0 /dev/loop1 /tmp/cryptfile

#&gt; mkisofs -v -r -o /dev/loop1 /home/backup
#&gt; mount -t iso9660 -o ro /dev/loop1 /mnt/cdrom
mount: Falscher Dateisystemtyp, ungültige Optionen, der
       »Superblock« von /dev/loop1 ist beschädigt oder es sind
       zu viele Dateisysteme gemountet

It doesn't recognise the filesystem as a valid ISO9660 filesystem. If I use
ext2 or reiserfs anything is fine.

In my next test I use the loop device again, this time without the chipper:

#&gt; losetup /dev/loop1 /tmp/cryptfile
#&gt; mkisofs -v -r -o /dev/loop1 /home/backup
#&gt; mount -t iso9660 -o ro /dev/loop1 /mnt/cdrom

So what's wrong with ISO9660 on crypted files? Is this a fault of mkisofs,
cryptoapi or the filesystem driver?


-- 
   Dipl.-Ing. Erik Kunze               Phone: +49 - 89 - 32 14 07 41
   PHILOSYS Software GmbH              Fax:   +49 - 89 - 32 14 07 12
   Edisonstr. 6                        Email: Erik.Kunze@philosys.de
   D-85716 Unterschleissheim           WWW:   www.philosys.de/~kunze

 PGP-Key: http://blackhole.pca.dfn.de:11371/pks/lookup?op=get&amp;search=0xD5759581
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020307100622</emailId><senderName>Erno Kuusela</senderName><senderEmail>erno@iki.fi</senderEmail><timestampReceived>2002-03-07 10:06:22-0400</timestampReceived><subject>loop-aes vs stock loop</subject><body>

hello,

i'm curious: the installation instructions for loop-aes say:

	Before you attempt to build loop.o driver, you *must*
	configure, compile and install new kernel so that
	CONFIG_MODULES=y and CONFIG_BLK_DEV_LOOP=n.

so it's a no-no to have the stock loop driver is compiled as a module
(but unused)? why is this?

  -- erno
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020305101257</emailId><senderName>Newsmail</senderName><senderEmail>newsmail@satimex.tvnet.hu</senderEmail><timestampReceived>2002-03-05 10:12:57-0400</timestampReceived><subject>difference between jari's and hvr's package</subject><body>

I would like to ask, what is the real difference between the crypto api 
package of hvr (the new testing releases for new kernels), and the loop-AES 
package of jari. Today I see that we can use other ciphers with loop-AES 
just like with cryptoapi. then where is the real difference? we can compile 
loop-AES to the kernel just like cryptoapi. I dont really understand why 
there are 2 releases evoluting together. could someone explain me please?
greg


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020308204056</emailId><senderName>"Hannes R. Boehm"</senderName><senderEmail>hannes@boehm.org</senderEmail><timestampReceived>2002-03-08 20:40:56-0400</timestampReceived><subject>loop-AES cryptoloop interop</subject><body>


Hi,

I have a Question:

Why can't I read cryptoloop devices with loop-AES (and the other way round)

I have loop-AES-1.5c with the appropriate util-linux

and 

cryptoapi-2.4.18.1 with the appropriate util-linux


both work perfectly. 

BUT:

I can neither read cryptoloop devices with loop-AES nor loop-AES devices with cryptoapi.
Both use AES256 encryption with the same plaintext password. If I am right, they
use both the same plaintext to key funciton and both use 512 byte blocksize.

Since they dont interoperate, I dont know which one to choose. I dont want to discover in one year,
that the loop-X is no longer supported, but loop-Y cant read my drives. 


Another question:

Can I decrypt loop-XY with any other AES implementation like this ?
cat /dev/hdc99 | ase-generic -d &gt; file 

is there another way to decrypt without the use of neither loop-AES/cryptoloop
(only using the function to extract the key from the plaintext)

Hannes


-- 

--
Hannes R. Boehm
email:  hannes@boehm.org 
web  :  http://hannes.boehm.org

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020308211822</emailId><senderName>Newsmail</senderName><senderEmail>newsmail@satimex.tvnet.hu</senderEmail><timestampReceived>2002-03-08 21:18:22-0400</timestampReceived><subject>twofish and serpent in loop-AES: pentium optimized as well?</subject><body>

What about the twofish implementation in loop-AES? does it have a nice 
assembler code just like the AES cipher? and is it pentium optimized? if 
not is there any chance we could get a pentium optimized one?
actually I do care much about the speed of encryption/decryption, and as I 
read in some comparaisons Twofish is faster than Rijndael, especially with 
bigger key lengths, thats why I would choose twofish over Rijndael.
Regards,
Greg


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020223145912</emailId><senderName>Andreas Schreier</senderName><senderEmail>a_schreier@firemail.de</senderEmail><timestampReceived>2002-02-23 14:59:12-0400</timestampReceived><subject>Deleting/overwriting data</subject><body>

I have recovered some data from my deleted loop-AES 
encrypted root partition. I saved it on a partition that is 
not encrypted. I would like to delete these files. This 
time they shouldn't be recoverable. How can I do that? I 
guess just doing 'rm my_files' will not be enough. Is there 
a good way to overwrite the data so that it can't be 
recovered? (I have a backup this time ;-))

Best regards
Andreas
______________________________________________________
=DCber 1 Mio. Angebote - Startpreis Euro 1,- http://www.fireball.de/ebay.html 



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020312220846</emailId><senderName>Greg Larson</senderName><senderEmail>list001@glarson.org</senderEmail><timestampReceived>2002-03-12 22:08:46-0400</timestampReceived><subject>Re: Some ideas about crypto loop password</subject><body>

PGPDisk does something similar to this. It stores a
'session' key in the .pgd file. The session key is
then decrypted by a passphrase or a private RSA or
DH/DSS key.

This is something I have been curious about for crypto
loop. Is the pass-phrase hashing done in the Kernel?
(it sort of looks like the ascii key is being passed
to ioctl/losetup). Can the binary 'session key' be
passed in to the LOSETUP (ioctl)? This would allow
someone to write a utility to mount a PGPDisk on Linux
ie.

  - get the encrypted session key and type of 
    encryption (CAST5-128 or Twofish-256) out of
    the .pgd file.
  - decrypt the session key using a passphrase or the
    users private key.
  - setup the loop device with the decrypted session
    key and the correct offset into the .pgd file.

I would assume the strategy is NOT to introduce
something like public/private key encryption into
the kernel?

[forgive me if this is FAQ, I've only been on the list
 for a couple months]

Thanks,
- Gregor Larson

&gt; Date:	Mon, 11 Mar 2002 20:39:07 +0100
&gt; From:	"Hannes R. Boehm" &lt;hannes@boehm.org&gt;
&gt; Subject: Some ideas about crypto loop password
&gt; management
&gt; 
&gt; 
&gt; 
&gt; Hi,
&gt; 
&gt; what do you think about this:
&gt; 
&gt; If I started my cryptoloop with an offset of 512
&gt; byte, I'd have enough space to 
&gt; store the key to the fs in encrypted form on the
&gt; harddisk. This part is encrypted
&gt; with a password.
&gt; 
&gt; If I used a predefined structure in this first 512,
&gt; I would be able to detect, wether the password
&gt; was correct or not. Since this block is independend
&gt; of the rest of the harddisk, it would be possible
&gt; to change the password without changing the fs-key.
&gt; 
&gt; Is it a risk to store a predefined structure in this
&gt; 512 bytes (i dont think so, since the
&gt; beginning of an ext2 fs is also quite well known.
&gt; 
&gt; Is there something to keep in mind when using an
&gt; offset with cryptoloop ?
&gt; 
&gt; 
&gt; Hannes
&gt; --
&gt; Hannes R. Boehm
&gt; email:  hannes@boehm.org 
&gt; web  :  http://hannes.boehm.org


__________________________________________________
Do You Yahoo!?
Try FREE Yahoo! Mail - the world's greatest free email!
http://mail.yahoo.com/
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020312223715</emailId><senderName>Tim Renner</senderName><senderEmail>tim.renner@l-3com.com</senderEmail><timestampReceived>2002-03-12 22:37:15-0400</timestampReceived><subject>loop-AES and XFS corruption</subject><body>

I am also having corruption problems...  I'm using the 2.4.14 kernel
with the xfs patch on a single processor machine...  It only happens
when I've subjected the filesystem to fairly high IO...  Here's what I'm
getting in /var/log/messages:

Mar 12 13:59:06 renner_linux kernel: xfs_force_shutdown(loop(7,0),0x8)
called from line 1020 of file xfs_trans.c.  Return address = 0xc01a1073
Mar 12 13:59:06 renner_linux kernel: Corruption of in-memory data
detected.  Shutting down filesystem: loop(7,0)
Mar 12 13:59:06 renner_linux kernel: Please umount the filesystem, and
rectify the problem(s)


And, what the xfs faq has to say about it...

http://oss.sgi.com/projects/xfs/faq.html#forceshutdown

Herbert, Are you getting this same error?  Is anyone else?

-Tim


Herbert Valerio Riedel wrote:
&gt; ps: ...are you aware of any data corruption problems with loop-AES in
&gt; combination with XFS on SMP boxes under high IO load? if I get the time,
&gt; I can try to recreate the issue with 2.4.18; it was present w/ 2.4.16
&gt; the last time I checked, and it affected both, loop-AES and patch-int...
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020305184314</emailId><senderName>Newsmail</senderName><senderEmail>newsmail@satimex.tvnet.hu</senderEmail><timestampReceived>2002-03-05 18:43:14-0400</timestampReceived><subject>journaling file systems</subject><body>

thx jaari for yar answer to my previous mail.

Device backed loop device can be used with journaling 
file
systems as device backed loops guarantee that writes reach disk platters 
in
order required by journaling file system (write caching must be disabled 
on
the disk drive, of course).
that is what I read in the readme of loop-AES. I presume device backed loop 
device means that the entire device or partition is on the loop device, and 
it does not reside in a file. what's up with this write caching thingie. I 
cant make a reiserfs filesystem on an encrypted device if I dont disable 
write caching? what will be the effect if I dont disable it?

other question: if I remember I read something that there are ways to 
compile loop aes to the kernel. is there a way to compile the new 
twofish/blowfish/serpent modules to the kernel as well?
regards,
greg


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020319160350</emailId><senderName>David Frascone</senderName><senderEmail>dave@frascone.com</senderEmail><timestampReceived>2002-03-19 16:03:50-0400</timestampReceived><subject>Strange execute problem</subject><body>

For some reason, I am unable to execute anything on a mounted, encrypted
filesystem.  It's very strange.  Below is what I'm doing . . . I have no
idea what's wrong:

laptop[chaos]: chaos$ mount work
Password: 
laptop[chaos]: chaos$ grep work /etc/fstab
/home/chaos/.encrypted_work.dsk /home/chaos/work ext2   \
user,loop,noauto,encryption=blowfish,keybits=256 0 0 laptop[chaos]: chaos$ cd work
laptop[chaos]: work$ ls -l test.sh
-rwxrwxr-x    1 chaos    chaos          28 Mar 19 09:57 test.sh
laptop[chaos]: work$ ./test.sh
bash: ./test.sh: Permission denied
laptop[chaos]: work$ cat test.sh
#!/bin/bash

echo "Testing"
laptop[chaos]: work$ cp test.sh /tmp
laptop[chaos]: work$ cd /tmp
laptop[chaos]: /tmp$ ./test.sh
Testing
laptop[chaos]: /tmp$ ls -l test.sh
-rwxrwxr-x    1 chaos    chaos          28 Mar 19 09:57 test.sh
laptop[chaos]: /tmp$ id
uid=500(chaos) gid=500(chaos) groups=500(chaos)
laptop[chaos]: /tmp$ df -k ~/work
Filesystem           1k-blocks      Used Available Use% Mounted on
/home/chaos/.encrypted_work.dsk
                       1032088    428292    551368  44% /home/chaos/work
laptop[chaos]: /tmp$ 


No type of executiable will execute from the encrypted filesystem . . . any ideas?


-- 
David Frascone

    This was only a test. Had this been an actual tagline...
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020319162957</emailId><senderName>Robert van der Meulen</senderName><senderEmail>rvdm@wiretrip.org</senderEmail><timestampReceived>2002-03-19 16:29:57-0400</timestampReceived><subject>list / header problems ?</subject><body>

Hi,

Is anyone experiencing problems with the headers of messages to/from this
list ?
I'm subscribed to about 60 mailinglists, all handled in the same way by my
local MTA/MDA/MUA, but the From/To/CC/Date headers seem garbled.
These are the kind of errors i'm getting (mind the wrapping):

X-Mail-Format-Warning: Bad RFC822 header formatting in Date:	Sat, 16 Mar
2002 14:12:20 +0200
X-Mail-Format-Warning: Bad RFC822 header formatting in From:	name witheld
&lt;email address witheld&gt;
X-Mail-Format-Warning: Bad RFC822 header formatting in To:	name witheld
&lt;email address witheld&gt;
X-Mail-Format-Warning: Bad RFC822 header formatting in CC:	name witheld
&lt;email address witheld&gt;

The 'name witheld' and 'email address witheld' are my work, and originally
contain normal, clean names, and normal, compliant email adresses.
The problem seems to be, that the seperation between headername and header
content is a &lt;tab&gt; character, which is not RFC822 clean.

Greets,
	Robert

-- 
			      Linux Generation
   encrypted mail preferred. finger rvdm@debian.org for my GnuPG/PGP key.
	     Never trust a child farther than you can throw it.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020324145917</emailId><senderName>"Dr. Michael Rietz"</senderName><senderEmail>rietz@mail.amps.de</senderEmail><timestampReceived>2002-03-24 14:59:17-0400</timestampReceived><subject>Problems with cryptoapi and 2.4.17</subject><body>

Hi everybody,

I'm using the cryptoapi since more than a year (2.4.4)....  Now I tried to move
to newer kernel (2.4.17) and I'm not able to setup a loop device with
the new kernel..... 

I patched the 2.4.17 kernel with patch-int-2.4.17.0.gz,
                                 loop-jari-2.4.16.0.patch
 and everything compiled fine... 

I build the util-linux-2.11n with the new patches 
 and everything compiled fine....

then I loaded all modules cryptoapi,cipers, digest,
etc....  and tried:

# dd if=/dev/urandom of=file bs=1024k count=100
# losetup -e twofish /dev/loop0 file 
Available keysizes (bits): 128 192 256 
# Keysize: 256
# Password :
# Password :
The cipher does not exist, or a cipher module needs to be loaded into the kernel
ioctl: LOOP_SET_STATUS: Invalid argument

and thats it.... with every cipher.


Is there anybody out there who can help me ????
Any comment is welcome.

so long


-- 
Michael Rietz                                  e-mail: rietz@su3.de
                                                       MR1574-RIPE
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020325095559</emailId><senderName>Michel Bouissou</senderName><senderEmail>michel@bouissou.net</senderEmail><timestampReceived>2002-03-25 09:55:59-0400</timestampReceived><subject>[Announce] New version of mkcryptfs script</subject><body>

Hello,

A new version of the mkcryptfs script, an helper script for creating 
encrypted containers with loop-aes, cryptoapi or kerneli, is available at:

https://www.bouissou.net/wws/d_read/open-crypto/linux-crypto/mkcryptfs/mkcryptfs-0.5.2.tar.gz

It brings a number of new features and improvements which are described in 
the provided CHANGELOG.

Best regards.

-- 
Michel Bouissou &lt;michel@bouissou.net&gt; OpenPGP ID 0x5C2BEE8F
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020327112757</emailId><senderName>Michel Bouissou</senderName><senderEmail>michel@bouissou.net</senderEmail><timestampReceived>2002-03-27 11:27:57-0400</timestampReceived><subject>[Announce] New version of mkcryptfs script</subject><body>

Hello,

A new version (0.5.3) of the mkcryptfs script, an helper script for creating 
encrypted containers with loop-aes, cryptoapi or kerneli, is available at:

https://www.bouissou.net/wws/d_read/open-crypto/linux-crypto/mkcryptfs/

Now exists in 2 flavours:

- Preconfigured RPM for Mandrake 8.2: mkcryptfs-0.5.3-2mdk.noarch.rpm

- Generic tar.gz: mkcryptfs-0.5.3.tar.gz

Best regards.

-- 
Michel Bouissou &lt;michel@bouissou.net&gt; OpenPGP ID 0x5C2BEE8F
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020319161108</emailId><senderName>Peter Simons</senderName><senderEmail>simons@cryp.to</senderEmail><timestampReceived>2002-03-19 16:11:08-0400</timestampReceived><subject>Re: Strange execute problem</subject><body>

David Frascone writes:

 &gt; /home/chaos/.encrypted_work.dsk /home/chaos/work ext2   \
user,loop,noauto,encryption=blowfish,keybits=256 0 0

Add "exec" to the list of mount options. Or add "defaults", which is
synonymous to "rw,suid,dev,exec,auto,nouser,async". You can still
overwrite any of those options in the remaining option string. Refer
to the man page of mount(8) for further detail.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020327035135</emailId><senderName>Tim Renner</senderName><senderEmail>tim.renner@l-3com.com</senderEmail><timestampReceived>2002-03-27 03:51:35-0400</timestampReceived><subject>Loop-AES keep freezing</subject><body>

I've tried having swap on, or swap off, and two kernels, 2.4.3 and
2.4.14 with loop-AES version 1.5b

It seems to happen when I have a high I/O load involving an encrypted,
loop-mounted file...

Can anyone shed some light on this problem?

Thanks,
-Tim
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020305193655</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-03-05 19:36:55-0400</timestampReceived><subject>Re: journaling file systems</subject><body>

Newsmail wrote:
&gt; I presume device backed loop
&gt; device means that the entire device or partition is on the loop device, and
&gt; it does not reside in a file.

Device backed means using a partition, example:

    losetup -e AES128 /dev/loop0 /dev/hda4
                                 ^^^^^^^^^
File backed means using a file that resides on some filesystem, example:

    losetup -e AES128 /dev/loop0 /home/jari/.my-secret-stuff
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
&gt; what's up with this write caching thingie. I
&gt; cant make a reiserfs filesystem on an encrypted device if I dont disable
&gt; write caching? what will be the effect if I dont disable it?

If hard disk re-orders writes as a result of write caching, journal and/or
data may get corrupted under some circumstances. That applies both to
unencrypted and encrypted partitions.

&gt; other question: if I remember I read something that there are ways to
&gt; compile loop aes to the kernel. is there a way to compile the new
&gt; twofish/blowfish/serpent modules to the kernel as well?

Yes, if you merge them to your kernel yourself. I prefer to keep them as
modules. They are easier to compile for all supported kernels as modules.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020305195414</emailId><senderName>"IT3 Stuart Blake Tener, USNR-R"</senderName><senderEmail>stuart@bh90210.net</senderEmail><timestampReceived>2002-03-05 19:54:14-0400</timestampReceived><subject>RE: journaling file systems</subject><body>

Mr. Ruusu, et al.:

	One has to wonder why the CryptoAPI cannot be made to function
in a manner such that loop-aes does with respect to being more modular.
If CryptoAPI was modular in the manner that loop-aes was, I think its
usage would be much more accepted.


Very Respectfully, 

Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG 
Beverly Hills, California
VTU 1904G (Volunteer Training Unit) 
stuart@bh90210.net 
west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043 
east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859 

Telecopier: (419)-715-6073 fax to email gateway via www.efax.com (it's
free!) 

JOIN THE US NAVY RESERVE, SERVE YOUR COUNTRY, AND BENEFIT FROM IT ALL. 

Tuesday, March 05, 2002 11:44 AM


-----Original Message-----
From: linux-crypto-bounce@nl.linux.org
[mailto:linux-crypto-bounce@nl.linux.org] On Behalf Of Jari Ruusu
Sent: Tuesday, March 05, 2002 11:37 AM
To: Newsmail
Cc: linux-crypto@nl.linux.org
Subject: Re: journaling file systems

Newsmail wrote:
&gt; I presume device backed loop
&gt; device means that the entire device or partition is on the loop
device, and
&gt; it does not reside in a file.

Device backed means using a partition, example:

    losetup -e AES128 /dev/loop0 /dev/hda4
                                 ^^^^^^^^^
File backed means using a file that resides on some filesystem, example:

    losetup -e AES128 /dev/loop0 /home/jari/.my-secret-stuff
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
&gt; what's up with this write caching thingie. I
&gt; cant make a reiserfs filesystem on an encrypted device if I dont
disable
&gt; write caching? what will be the effect if I dont disable it?

If hard disk re-orders writes as a result of write caching, journal
and/or
data may get corrupted under some circumstances. That applies both to
unencrypted and encrypted partitions.

&gt; other question: if I remember I read something that there are ways to
&gt; compile loop aes to the kernel. is there a way to compile the new
&gt; twofish/blowfish/serpent modules to the kernel as well?

Yes, if you merge them to your kernel yourself. I prefer to keep them as
modules. They are easier to compile for all supported kernels as
modules.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020306050451</emailId><senderName>Justin</senderName><senderEmail>aa2@bigpond.net.au</senderEmail><timestampReceived>2002-03-06 05:04:51-0400</timestampReceived><subject>Re: journaling file systems</subject><body>

On Wednesday 06 March 2002 06:54, IT3 Stuart Blake Tener, USNR-R wrote:
&gt; Mr. Ruusu, et al.:
&gt;
&gt; 	One has to wonder why the CryptoAPI cannot be made to function
&gt; in a manner such that loop-aes does with respect to being more modular.
&gt; If CryptoAPI was modular in the manner that loop-aes was, I think its
&gt; usage would be much more accepted.

If Crypto-API was just a part of the normal linux kernel, wouldn't that make 
it far easier?

Then loop-aes could concentrate on using the Crypto-API hooks, and not have 
to worry about providing the encryption services too.

???

Regards and best wishes,

Justin Clift

&gt;
&gt;
&gt; Very Respectfully,
&gt;
&gt; Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG
&gt; Beverly Hills, California
&gt; VTU 1904G (Volunteer Training Unit)
&gt; stuart@bh90210.net
&gt; west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043
&gt; east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020306053754</emailId><senderName>"IT3 Stuart Blake Tener, USNR-R"</senderName><senderEmail>stuart@bh90210.net</senderEmail><timestampReceived>2002-03-06 05:37:54-0400</timestampReceived><subject>RE: journaling file systems</subject><body>

Mr. Clift:

	Yes, I most affermatively agree with that position. However, I
was of the impression that legal barriers (not just in the US, but other
countries as well) prevented such a scenario from being effective
without a realistic degradation in the ability to import / export the
Linus kernel to with such countries having such legal barriers with
regard to import / export controls
in place.

	Now if you are saying that instead of having the actual
cryptographic code in the kernel, but merely calls to advantage onesself
of whatever they had loaded into memory in the way of crytographic code
via a loadable module then this is indeed a superior methodology and I
would support its implementation most immediately, though I am
unfamiliar with the legal aspects of such a scenario or why Linus has
not contemplated such a scenario in the past.

	Perhaps one of the listmembers will be able to offer up some
wisdom as to why this solution (as described above) has not yet been
considered, or at what point and why it was decided as not being a
viable solution.


Very Respectfully, 

Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG 
Beverly Hills, California
VTU 1904G (Volunteer Training Unit) 
stuart@bh90210.net 
west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043 
east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859 

Telecopier: (419)-715-6073 fax to email gateway via www.efax.com (it's
free!) 

JOIN THE US NAVY RESERVE, SERVE YOUR COUNTRY, AND BENEFIT FROM IT ALL. 

Tuesday, March 05, 2002 9:34 PM


-----Original Message-----
From: linux-crypto-bounce@nl.linux.org
[mailto:linux-crypto-bounce@nl.linux.org] On Behalf Of Justin
Sent: Tuesday, March 05, 2002 9:05 PM
To: stuart@bh90210.net; 'Jari Ruusu'; 'Newsmail'
Cc: linux-crypto@nl.linux.org
Subject: Re: journaling file systems

On Wednesday 06 March 2002 06:54, IT3 Stuart Blake Tener, USNR-R wrote:
&gt; Mr. Ruusu, et al.:
&gt;
&gt; 	One has to wonder why the CryptoAPI cannot be made to function
&gt; in a manner such that loop-aes does with respect to being more
modular.
&gt; If CryptoAPI was modular in the manner that loop-aes was, I think its
&gt; usage would be much more accepted.

If Crypto-API was just a part of the normal linux kernel, wouldn't that
make 
it far easier?

Then loop-aes could concentrate on using the Crypto-API hooks, and not
have 
to worry about providing the encryption services too.

???

Regards and best wishes,

Justin Clift

&gt;
&gt;
&gt; Very Respectfully,
&gt;
&gt; Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG
&gt; Beverly Hills, California
&gt; VTU 1904G (Volunteer Training Unit)
&gt; stuart@bh90210.net
&gt; west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA
90209-2043
&gt; east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020306061854</emailId><senderName>Justin</senderName><senderEmail>aa2@bigpond.net.au</senderEmail><timestampReceived>2002-03-06 06:18:54-0400</timestampReceived><subject>Re: journaling file systems</subject><body>

Hi Stuart,

On Wednesday 06 March 2002 16:37, IT3 Stuart Blake Tener, USNR-R wrote:
&gt; Mr. Clift:
&gt;
&gt; 	Yes, I most affermatively agree with that position. However, I
&gt; was of the impression that legal barriers (not just in the US, but other
&gt; countries as well) prevented such a scenario from being effective
&gt; without a realistic degradation in the ability to import / export the
&gt; Linus kernel to with such countries having such legal barriers with
&gt; regard to import / export controls
&gt; in place.

I was aware that some countries would have a problem with the kernel code 
having the full cryptographic code in it.

Does anyone know of a definitive list of countries where it truly wouldn't be 
acceptable these days?

&gt; 	Now if you are saying that instead of having the actual
&gt; cryptographic code in the kernel, but merely calls to advantage onesself
&gt; of whatever they had loaded into memory in the way of crytographic code
&gt; via a loadable module then this is indeed a superior methodology and I
&gt; would support its implementation most immediately, though I am
&gt; unfamiliar with the legal aspects of such a scenario or why Linus has
&gt; not contemplated such a scenario in the past.

I wasn't suggesting merely having hooks.  Although there are arguments for 
and against this, I think everyone most everyone agree's the best solution 
possible would be to have the cryptoAPi softteare completely implemented and 
available in the kernel.  As has also been mentioned many times, this would 
not be acceptable in some countries.

Given this wasn't a barrier, I wonder what would stop CryptoAPI from being 
included as part of the normal kernel?

Regards and best wishes,

Justin Clift

&gt; Very Respectfully,
&gt;
&gt; Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG
&gt; Beverly Hills, California
&gt; VTU 1904G (Volunteer Training Unit)
&gt; stuart@bh90210.net
&gt; west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043
&gt; east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020306120803</emailId><senderName>Marc Mutz</senderName><senderEmail>marc.mutz@uni-bielefeld.de</senderEmail><timestampReceived>2002-03-06 12:08:03-0400</timestampReceived><subject>Re: journaling file systems</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Tuesday 05 March 2002 20:54, IT3 Stuart Blake Tener, USNR-R wrote:
&lt;snip&gt;
&gt; 	One has to wonder why the CryptoAPI cannot be made to function
&gt; in a manner such that loop-aes does with respect to being more
&gt; modular. If CryptoAPI was modular in the manner that loop-aes was, I
&gt; think its usage would be much more accepted.
&lt;snip&gt;

This was discussed many times already on this very list. The short 
answer is:

cryptoAPI introduces a new interface to the kernel,
loop-aes only uses existing (and stable) interfaces already in the 
vanilla kernel.

The long answer is:
Read the archives.

Marc

- -- 
Marc Mutz &lt;mutz@kde.org&gt;
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE8hgaj3oWD+L2/6DgRAhZfAKD9TtLXUIizVBKZDfBel5Rg8mfgNQCg+RQN
teADjgBV+4zGfTpIqwXAKW8=
=Md/n
-----END PGP SIGNATURE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020306140746</emailId><senderName>Henry Spencer</senderName><senderEmail>henry@spsystems.net</senderEmail><timestampReceived>2002-03-06 14:07:46-0400</timestampReceived><subject>RE: journaling file systems</subject><body>

On Tue, 5 Mar 2002, IT3 Stuart Blake Tener, USNR-R wrote:
&gt; 	Now if you are saying that instead of having the actual
&gt; cryptographic code in the kernel, but merely calls to advantage onesself
&gt; of whatever they had loaded into memory in the way of crytographic code
&gt; via a loadable module then this is indeed a superior methodology and I
&gt; would support its implementation most immediately, though I am
&gt; unfamiliar with the legal aspects of such a scenario or why Linus has
&gt; not contemplated such a scenario in the past.

Certain countries -- most notably the US -- consider any software with a
"crypto-shaped hole" in it to be equivalent to crypto software for
purposes of export controls; the buzzword is "enabling technologies".  Any
code that is there solely or primarily to support use of cryptography is
covered.  Whether "actual cryptographic code" is included or not does not
make much of a difference to export status.

The only way to avoid this is to provide a more general-purpose interface
that clearly has other uses (i.e., other uses are actually implemented,
not just talked about).  That's quite a bit harder to do.

                                                          Henry Spencer
                                                       henry@spsystems.net

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020306185218</emailId><senderName>"Paul Hilton"</senderName><senderEmail>paul_hilton@yahoo.com</senderEmail><timestampReceived>2002-03-06 18:52:18-0400</timestampReceived><subject>Re: journaling file systems</subject><body>

The loopback device seems established in the kernel now, and cryptoapi has
to modify it by patches (fairly minor patches it seems),
but the interface to some sort of processing software
in the loop would surely be a good place to put, for example, disk
compression,

I don't care that I have to add crypto modules to the kernel to make crypto
work, what I do care about is having to patch the existing kernel, with all
the
version problems that results in.

Whether the "actual cryptographic code" is in the distribution may not make
much
difference to US export status, but it seems to me it makes quite a big
difference
to Import status in, for example, France.

Paul Hilton

&gt;
&gt; Certain countries -- most notably the US -- consider any software with a
&gt; "crypto-shaped hole" in it to be equivalent to crypto software for
&gt; purposes of export controls; the buzzword is "enabling technologies".  Any
&gt; code that is there solely or primarily to support use of cryptography is
&gt; covered.  Whether "actual cryptographic code" is included or not does not
&gt; make much of a difference to export status.
&gt;
&gt; The only way to avoid this is to provide a more general-purpose interface
&gt; that clearly has other uses (i.e., other uses are actually implemented,
&gt; not just talked about).  That's quite a bit harder to do.
&gt;
&gt;                                                           Henry Spencer
&gt;                                                        henry@spsystems.net
&gt;
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/


_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at http://mail.yahoo.com

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020310213017</emailId><senderName>Olaf Titz</senderName><senderEmail>olaf@bigred.inka.de</senderEmail><timestampReceived>2002-03-10 21:30:17-0400</timestampReceived><subject>Re: journaling file systems</subject><body>

&gt; Certain countries -- most notably the US -- consider any software with a
&gt; "crypto-shaped hole" in it to be equivalent to crypto software for
&gt; purposes of export controls; the buzzword is "enabling technologies".  Any
&gt; code that is there solely or primarily to support use of cryptography is
&gt; covered.  Whether "actual cryptographic code" is included or not does not
&gt; make much of a difference to export status.

As it looks now, "enabling technologies" are not only considered
equivalent but in fact "stronger" than actual encryption software. See
the reasoning in
&lt;URL:http://java.sun.com/products/jce/jce121_faq.html#FewerRestrictions&gt;

(Which matches technical reality. Unfortunately, one is tempted to
say.)

&gt; The only way to avoid this is to provide a more general-purpose interface
&gt; that clearly has other uses (i.e., other uses are actually implemented,
&gt; not just talked about).  That's quite a bit harder to do.

Which is why I was about to write a RFC for a "general data transform
API" and provide a compression algorithm as an example some time ago.
I gave up on that when discovering that the existing crypto API _very_
closely matched my thoughts. Hmmm...

Olaf

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020312182042</emailId><senderName>Olaf Titz</senderName><senderEmail>olaf@bigred.inka.de</senderEmail><timestampReceived>2002-03-12 18:20:42-0400</timestampReceived><subject>Re: journaling file systems</subject><body>

&gt; I wonder if having a similar method be usable for the linux kernel?
&gt; After all, we already have systems in place for stuff like
&gt; timezones, etc, which is country dependant. Why not encryption
&gt; strengths based upon "jurisdiction policy files"?

Possible in theory, but since the kernel is open source, circumventing
this restriction would just require a tiny patch and a recompile. The
JDK jurisdiction policy works only because all the JARs which the JCE
package consists of are required to be signed by Sun, _and you can't
simply take out the signature checking routines_.

Olaf

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020315121944</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-03-15 12:19:44-0400</timestampReceived><subject>Re: 2.4.19pre3aa2</subject><body>

hello!

On Thu, 2002-03-14 at 23:57, Jari Ruusu wrote:
&gt; Andrea Arcangeli wrote:
&gt; &gt; Only in 2.4.19pre3aa2: 00_loop-IV-API-hvr-1
&gt; &gt; 
&gt; &gt;         Make the IV API not to be in function of the blkdev
&gt; &gt;         of the underlying fs, so you can copy your cryptoloop
&gt; &gt;         around without risking to lose data. This breaks the
&gt; &gt;         on-disk format of some encrypted transfer module though,
&gt; &gt;         if you don't like it please discuss it here in CC with
&gt; &gt;         Herbert Valerio Riedel &lt;hvr@hvrlab.org&gt;, the patch
&gt; &gt;         is from him. I think writing a converter in place of
&gt; &gt;         the loop data would be the preferred solution if needed. It could
&gt; &gt;         be done in a way to link transparently with the source of
&gt; &gt;         the kernel modules.

just as a side note to compatibility to the old IV metric;

the patch I sent to andrea is quite minimal, it only changes the IV
metric, and adds a few #define's to loop.h in order to recognize the IV
metric when compiling filter modules against it; as to jari's patch, if
the following def's were added, it can be used instead of my minimal
patch...

/* definitions for IV metric */
#define LOOP_IV_SECTOR_BITS 9
#define LOOP_IV_SECTOR_SIZE (1 &lt;&lt; LOOP_IV_SECTOR_BITS)

typedef int loop_iv_t;

...except maybe for when backward compatibility is needed. As it is a
major concern to some of us to be able to convert their old iv-metric
encrypted volumes to the new "atomic"-IV-metric, it can be usefull to be
able to have both IV metrics available on the same system...

one approach could be to losetup the concerned volume w/ an old loop.o v
ersion and decipher the content on-the-fly by doing something like

# set up the loop dev
losetup -e cipher /dev/loop0 /dev/partition

# make sure we got the right passphrase etc...; and also make sure the
# kernel fs code set the right transfer-block-size...
mount /dev/loop0 /mnt/tmp; umount /dev/loop0

# decrypt on-the-fly...
dd if=/dev/loop0 of=/dev/partition

...now in theory we should have the unencrypted data lying in
/dev/partition 


now we could replace the loop.o module by one feature the new IV metric,
and just reverse the process..

so far ok... but some of us might want to decrypt and encrypt directly,
w/o having to have some unencrypted (thus unprotected) data lying around
for the meantime; so we might want to have 2 IV metrics available at the
same time... this can either be done by cooperation from the loop.o
module, i.e. some option for setting the IV size to calculate... _or_ it
can be calculated by the filter module, by finding out what IV blocksize
to assume, and then dividing the 512-IV-metric by some integral factor
to reflect the old metric...

the latter approach is possible w/ my patch, and has been implemented
cryptoapi's cryptoloop filter through ioctl()...

this relays on the IV-fix not modifying the transfer block size (if the
blocks passed to the transfer filter should become smaller than the old
metric's IV block size, we simply can't emulate the old metric...), but
only the passed IV value...

ps: just to make one thing clear (again), I don't care too much whether
my loop-fix or jari's goes in; I primarily care for a fixed IV situation
(including the above mentioned #define's/typedef) and if possible anyhow
to allow for limited compatibility to the old metric...

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020315173632</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-03-15 17:36:32-0400</timestampReceived><subject>Re: 2.4.19pre3aa2</subject><body>

Herbert Valerio Riedel wrote:
&gt; the patch I sent to andrea is quite minimal, it only changes the IV
&gt; metric, and adds a few #define's to loop.h in order to recognize the IV
&gt; metric when compiling filter modules against it; as to jari's patch, if
&gt; the following def's were added, it can be used instead of my minimal
&gt; patch...
&gt; 
&gt; /* definitions for IV metric */
&gt; #define LOOP_IV_SECTOR_BITS 9
&gt; #define LOOP_IV_SECTOR_SIZE (1 &lt;&lt; LOOP_IV_SECTOR_BITS)
&gt; 
&gt; typedef int loop_iv_t;
&gt; 
&gt; ...except maybe for when backward compatibility is needed. As it is a
&gt; major concern to some of us to be able to convert their old iv-metric
&gt; encrypted volumes to the new "atomic"-IV-metric, it can be usefull to be
&gt; able to have both IV metrics available on the same system...

Not changing IV parameter type in 2.4 kernels is important. Break that in
2.5/2.6 kernels, but not in stable 2.4, ok? Older 2.4 kernels dont't have
loop_iv_t, and being able to compile _existing_ modules for them is
important. 512 byte IV is nothing new, you know that, and all sane systems
have used 512 byte IV for a long time already. So the 'block size IV' change
to '512 byte IV' is nothing new, but changing the parameter type is evil and
should be avoided for compatibility sake.

&gt; ps: just to make one thing clear (again), I don't care too much whether
&gt; my loop-fix or jari's goes in; I primarily care for a fixed IV situation
&gt; (including the above mentioned #define's/typedef) and if possible anyhow
&gt; to allow for limited compatibility to the old metric...

So the choice here is either break (or at least cause need to modify) all
other implementations or cryptoapi implementation.

Herbert, if this loop_iv_t type goes into mainline kernel, I will have to
reverse that on loop-AES patches for backward compatibility.

Dependency on above mentioned #define's/typedef on kernel include files is
silly, as cryptoapi can define them on any of its own include files.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020315183636</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-03-15 18:36:36-0400</timestampReceived><subject>Re: 2.4.19pre3aa2</subject><body>

hello!

On Fri, 2002-03-15 at 18:36, Jari Ruusu wrote:
&gt; &gt; /* definitions for IV metric */
&gt; &gt; #define LOOP_IV_SECTOR_BITS 9
&gt; &gt; #define LOOP_IV_SECTOR_SIZE (1 &lt;&lt; LOOP_IV_SECTOR_BITS)
&gt; &gt; 
&gt; &gt; typedef int loop_iv_t;

&gt; Not changing IV parameter type in 2.4 kernels is important. Break that in
&gt; 2.5/2.6 kernels, but not in stable 2.4, ok? 

if you look closely at the typedef above, you'll notice that it doesn't
introduce a _new_ type, but only a synonym for the 'int' type, which
happens to be the type used in 2.4 kernels...

typedef int (* transfer_proc_t)(struct loop_device *, int cmd,
                                char *raw_buf, char *loop_buf, int size,
                                int real_block);

what I'm trying to do by the introduction of this _aesthetic_ syntactic
element, is to prepare the way to smoothly upgrade the type used for the
IV value; and more important to keep filter modules from having to add 
ugly #ifdef LINUX_VERSION_CODE &lt;= KERNEL(2,X,Y)... just for changes
which could be catched by kernel headers...

have you ever wondered, why even the C standard defines some typedefs as
size_t instead of using just a 'long'?

&gt; Older 2.4 kernels dont't have
&gt; loop_iv_t, and being able to compile _existing_ modules for them is
&gt; important. 
as older kernels will likely have the variable-IV-metric, they'll have
to be patched anyway (loop.[ch]), and after having patched them, the
problem vanishes...


&gt;&gt; ps: just to make one thing clear (again), I don't care too much whether
&gt;&gt; my loop-fix or jari's goes in; I primarily care for a fixed IV situation
&gt;&gt; (including the above mentioned #define's/typedef) and if possible anyhow
&gt;&gt; to allow for limited compatibility to the old metric...
&gt; So the choice here is either break (or at least cause need to modify) all
&gt; other implementations or cryptoapi implementation.
actually it's just -- either make my life harder w/ cryptoapi or not, as
it doesn't affect other implementations; but other implementations may
start to use those typedefs in the future, so when 2.6 (or whatever
comes out) the 'current' 2.6 has them already, and the 'ultra-stable'
2.4's will have them as well... and maybe everybody is happy, that he
can compile the same c source against both, 2.4 and 2.6, loop.h and
still get a correct filter module...

&gt; Herbert, if this loop_iv_t type goes into mainline kernel, I will have to
&gt; reverse that on loop-AES patches for backward compatibility.
I don't see why... loop_iv_t is just a 'reviced-declarator-type-list
int', i.e. it is is type compatible w/ an 'int'... so you won't even
notice the difference when compiling loop-AES against it...
 
&gt; Dependency on above mentioned #define's/typedef on kernel include files is
&gt; silly, as cryptoapi can define them on any of its own include files.
yeah, sure... at the expense of having to redundantly keep track (ugly
#ifdef's) of which kernel version is being used...

another reason I haven't mentioned so far is about the #define's;

#define LOOP_IV_SECTOR_BITS 9
#define LOOP_IV_SECTOR_SIZE (1 &lt;&lt; LOOP_IV_SECTOR_BITS)

...if you don't see any reason for those 2 innocent #define then you
won't see any reason for other #define in the kernel headers as well;
e.g.:

fs.h:
#define BLOCK_SIZE_BITS 10
#define BLOCK_SIZE (1&lt;&lt;BLOCK_SIZE_BITS)

you may ask why those are used, since they are hardcoded anyway... well,
lemme show you an example where this would considerably help:

loop.c:
static unsigned long compute_loop_size(struct loop_device *lo, struct
dentry * lo_dentry, kdev_t lodev)
{
        if (S_ISREG(lo_dentry-&gt;d_inode-&gt;i_mode))
                return (lo_dentry-&gt;d_inode-&gt;i_size - lo-&gt;lo_offset) &gt;&gt; BLOCK_SIZE_BITS;
        if (blk_size[MAJOR(lodev)])
                return blk_size[MAJOR(lodev)][MINOR(lodev)] -
                                (lo-&gt;lo_offset &gt;&gt; BLOCK_SIZE_BITS);
        return MAX_DISK_SIZE;
}

and now imagine the same source fragment, with the #define's
evaluated... wouldn't that be less self-explaining?

well, I hope I could make clear to you, why using symbolic constants and
the use of typedefs in C are good practice in general wrt software
engineering...

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020223150243</emailId><senderName>Jerome Etienne</senderName><senderEmail>jme@off.net</senderEmail><timestampReceived>2002-02-23 15:02:43-0400</timestampReceived><subject>Re: Deleting/overwriting data</subject><body>

according to the man page, shred(1) can do it

On Sat, Feb 23, 2002 at 03:59:12PM +0100, Andreas Schreier wrote:
&gt; I have recovered some data from my deleted loop-AES 
&gt; encrypted root partition. I saved it on a partition that is 
&gt; not encrypted. I would like to delete these files. This 
&gt; time they shouldn't be recoverable. How can I do that? I 
&gt; guess just doing 'rm my_files' will not be enough. Is there 
&gt; a good way to overwrite the data so that it can't be 
&gt; recovered? (I have a backup this time ;-))
&gt; 
&gt; Best regards
&gt; Andreas
&gt; ______________________________________________________
&gt; Über 1 Mio. Angebote - Startpreis Euro 1,- http://www.fireball.de/ebay.html 
&gt; 
&gt; 

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020223163810</emailId><senderName>Andreas Schreier</senderName><senderEmail>a_schreier@firemail.de</senderEmail><timestampReceived>2002-02-23 16:38:10-0400</timestampReceived><subject>Re[1]: Deleting/overwriting data</subject><body>

Can I delete the whole partition without risking that any 
other data is touched? Can I just do shred /dev/hda1? I 
hope that doesn't damage /dev/hda2

Thanks for the help.

Best regards
Andreas
 
&gt; according to the man page, shred(1) can do it
&gt; 
&gt; On Sat, Feb 23, 2002 at 03:59:12PM +0100, Andreas 
Schreier wrote:
&gt; &gt; I have recovered some data from my deleted loop-AES 
&gt; &gt; encrypted root partition. I saved it on a partition 
that is 
&gt; &gt; not encrypted. I would like to delete these files. This 
&gt; &gt; time they shouldn't be recoverable. How can I do that? 
I 
&gt; &gt; guess just doing 'rm my_files' will not be enough. Is 
there 
&gt; &gt; a good way to overwrite the data so that it can't be 
&gt; &gt; recovered? (I have a backup this time ;-))
&gt; &gt; 
&gt; &gt; Best regards
&gt; &gt; Andreas
&gt; &gt; ______________________________________________________
&gt; &gt; =DCber 1 Mio. Angebote - Startpreis Euro 1,- 
http://www.fireball.de/ebay.html 
&gt; &gt; 
&gt; &gt; 
&gt; 
&gt; -
&gt; Linux-crypto: cryptography in and on the Linux system
&gt; Archive: http://mail.nl.linux.org/linux-crypto/
&gt; 
&gt; 
&gt; 
______________________________________________________
=DCber 1 Mio. Angebote - Startpreis Euro 1,- http://www.fireball.de/ebay.html 



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020311023951</emailId><senderName>m96</senderName><senderEmail>m96@gmx.li</senderEmail><timestampReceived>2002-03-11 02:39:51-0400</timestampReceived><subject>Re: Deleting/overwriting data</subject><body>

hi,

have you tried 'wipe'. for deleting just a few files i guess it's the
best.

regards,
alias m96.

On Sat, 2002-02-23 at 15:59, Andreas Schreier wrote:
&gt; I have recovered some data from my deleted loop-AES 
&gt; encrypted root partition. I saved it on a partition that is 
&gt; not encrypted. I would like to delete these files. This 
&gt; time they shouldn't be recoverable. How can I do that? I 
&gt; guess just doing 'rm my_files' will not be enough. Is there 
&gt; a good way to overwrite the data so that it can't be 
&gt; recovered? (I have a backup this time ;-))
&gt; 
&gt; Best regards
&gt; Andreas
&gt; ______________________________________________________
&gt; Über 1 Mio. Angebote - Startpreis Euro 1,- http://www.fireball.de/ebay.html 
&gt; 
&gt; 


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020305154359</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-03-05 15:43:59-0400</timestampReceived><subject>Re: difference between jari's and hvr's package</subject><body>

Newsmail wrote:
&gt; I would like to ask, what is the real difference between the crypto api
&gt; package of hvr (the new testing releases for new kernels), and the loop-AES
&gt; package of jari. Today I see that we can use other ciphers with loop-AES
&gt; just like with cryptoapi. then where is the real difference? we can compile
&gt; loop-AES to the kernel just like cryptoapi. I dont really understand why
&gt; there are 2 releases evoluting together. could someone explain me please?
&gt; greg

Because cryptoapi works with very limited set of kernels, and with none of
the ultra stable kernels. Loop-AES works with all maintained stable kernels,
including distro vendor kernels. Meaning that if you use cryptoapi, HVR
chooses your kernel for you. If you use loop-AES, crypto adapts to _your_
choice of kernel. That is a big difference.

Another disadvantage that cryptoapi loop has, is the cryptoapi bloat that
makes it slower than loop-AES. Loop-AES does not use cryptoapi, and that is
a feature.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020305161337</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-03-05 16:13:37-0400</timestampReceived><subject>Re: difference between jari's and hvr's package</subject><body>

On Tue, 2002-03-05 at 16:43, Jari Ruusu wrote:
&gt; Because cryptoapi works with very limited set of kernels, and with none of
&gt; the ultra stable kernels. Loop-AES works with all maintained stable kernels,
&gt; including distro vendor kernels. Meaning that if you use cryptoapi, HVR
&gt; chooses your kernel for you. If you use loop-AES, crypto adapts to _your_
&gt; choice of kernel. That is a big difference.
...and with loop-aes, you choose the set of ciphers your users use...
;-)

btw, you should have mentioned also that loop-aes is only about the loop
block device... while cryptoapi is a _generic_ api, of which the
cryptoloop is only one of the possible kernel space applications...

&gt; Another disadvantage that cryptoapi loop has, is the cryptoapi bloat that
&gt; makes it slower than loop-AES. Loop-AES does not use cryptoapi, and that is
&gt; a feature.
btw, I wondering, whether we have any objective measurements of the
overhead involved wrt using the additional abstraction layer w/
cryptoapi...

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020305161939</emailId><senderName>"IT3 Stuart Blake Tener, USNR-R"</senderName><senderEmail>stuart@bh90210.net</senderEmail><timestampReceived>2002-03-05 16:19:39-0400</timestampReceived><subject>RE: difference between jari's and hvr's package</subject><body>

Herbert, et al.:

	I must admit, I do not clearly understand why something such as
the CryptoAPI must live in kernel space? Can a user space implementation
of it not exist?

	Presuming for the sake of understanding that it does need to
live in kernel space, if it were written as a module (in much the same
way loop-aes is), could it not be made to support a plethora more
kernels?

	Can the CryptoAPI be made to work in user space?

	The problem (for me) is the fact that it is a kernel patch, and
I cannot just plug it into any kernel I need to use it with, this is not
a small issue, it is quite critical in my decision.


Very Respectfully, 

Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG 
Beverly Hills, California
VTU 1904G (Volunteer Training Unit) 
stuart@bh90210.net 
west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043 
east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859 

Telecopier: (419)-715-6073 fax to email gateway via www.efax.com (it's
free!) 

JOIN THE US NAVY RESERVE, SERVE YOUR COUNTRY, AND BENEFIT FROM IT ALL. 

Tuesday, March 05, 2002 8:17 AM


-----Original Message-----
From: linux-crypto-bounce@nl.linux.org
[mailto:linux-crypto-bounce@nl.linux.org] On Behalf Of Herbert Valerio
Riedel
Sent: Tuesday, March 05, 2002 8:14 AM
To: Jari Ruusu
Cc: Newsmail; linux-crypto@nl.linux.org
Subject: Re: difference between jari's and hvr's package

On Tue, 2002-03-05 at 16:43, Jari Ruusu wrote:
&gt; Because cryptoapi works with very limited set of kernels, and with
none of
&gt; the ultra stable kernels. Loop-AES works with all maintained stable
kernels,
&gt; including distro vendor kernels. Meaning that if you use cryptoapi,
HVR
&gt; chooses your kernel for you. If you use loop-AES, crypto adapts to
_your_
&gt; choice of kernel. That is a big difference.
...and with loop-aes, you choose the set of ciphers your users use...
;-)

btw, you should have mentioned also that loop-aes is only about the loop
block device... while cryptoapi is a _generic_ api, of which the
cryptoloop is only one of the possible kernel space applications...

&gt; Another disadvantage that cryptoapi loop has, is the cryptoapi bloat
that
&gt; makes it slower than loop-AES. Loop-AES does not use cryptoapi, and
that is
&gt; a feature.
btw, I wondering, whether we have any objective measurements of the
overhead involved wrt using the additional abstraction layer w/
cryptoapi...

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020305165751</emailId><senderName>Dale Amon</senderName><senderEmail>amon@vnl.com</senderEmail><timestampReceived>2002-03-05 16:57:51-0400</timestampReceived><subject>Re: difference between jari's and hvr's package</subject><body>

On Tue, Mar 05, 2002 at 08:19:39AM -0800, IT3 Stuart Blake Tener, USNR-R wrote:
&gt; 	I must admit, I do not clearly understand why something such as
&gt; the CryptoAPI must live in kernel space? Can a user space implementation
&gt; of it not exist?

That is the current problem. Many user space applications have their
own implimentations. There are different libraries you can compile 
with in user space.

You could possibly do an efficient  user-space file crypto file system in
a microkernel architecture. But that would not help you.

File systems are just not portable. They have to implimented under
each OS on which they are used because efficiency is required, different
OS's have different abstractions, etc.

It *might* be possible to write a portable file system emulator in
user space. But it would be slow, slow, slow as it would be essentially
a loopback file operated on in user space. I don't even want to imagine
how many context swaps would be involved in looking at a file.
 
&gt; 	Presuming for the sake of understanding that it does need to
&gt; live in kernel space, if it were written as a module (in much the same
&gt; way loop-aes is), could it not be made to support a plethora more
&gt; kernels?

It is part of the kernel because it isn't only a file system. It is an
encryption/decryption Application Programmer Interface that can be 
utilized by other modules or by OS calls from application programs.

It just happens that it *also* supports a *linux* loopback file system.
 
&gt; 	Can the CryptoAPI be made to work in user space?

I stated this above, but I'll also add that I prefer the security
of one single well audited common toolset compiled into the kernel.
I don't even use modular kernels. I've been told by some
"former blackhat" friends that fiddling the kernel via a 
module was one of their favorite backdoor tricks. He could do it without
a reboot that someone would probably notice, and it then hid everything
he did from normal user space tools.

&gt; 	The problem (for me) is the fact that it is a kernel patch, and
&gt; I cannot just plug it into any kernel I need to use it with, this is not
&gt; a small issue, it is quite critical in my decision.

Herbert is dealing with this. Personally I've never 
found it a problem (except for the period in which the
core 2.4 loopback in linux was broken). Typically the patches
work for many versions. I've never been left uncovered except
for that one broken at birth 2.4 kernel (2.4.14 or something?)

-- 
------------------------------------------------------
    Nuke bin Laden:           Dale Amon, CEO/MD
  improve the global          Islandone Society
     gene pool.               www.islandone.org
------------------------------------------------------
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020305174755</emailId><senderName>"Paul Hilton"</senderName><senderEmail>paul_hilton@yahoo.com</senderEmail><timestampReceived>2002-03-05 17:47:55-0400</timestampReceived><subject>Re: difference between jari's and hvr's package</subject><body>

 "Newsmail" wrote:

&gt; I would like to ask, what is the real difference between the crypto api
&gt; package of hvr (the new testing releases for new kernels), and the
loop-AES
&gt; package of jari. Today I see that we can use other ciphers with loop-AES
&gt; just like with cryptoapi. then where is the real difference? we can
compile
&gt; loop-AES to the kernel just like cryptoapi. I dont really understand why
&gt; there are 2 releases evoluting together. could someone explain me please?
&gt; greg

An opinion, FWIW.

My operating system is sprouting crypto software all over the place,
Loopback filesystem, SSL (TLS), mail utilities, perl stuff etc. etc. They
all seem to use their own crypto software,
I would really like it if the regular kernel required no patches for crypto
api, and required
only modules with the actual algorithms (which those who don't like modular
kernels can build in.)
This would keep the kernel politically cryto free, and yet make it easy to
fix.

As it is I keep rebuilding kernels with the wrong versions of crypto api
patches and
hoping it will work, turning off and ignoring warnings, this is not very
satisfactory.

Meanwhile if you want a crypto filesystem loop-AES seems to be easier to
install, and works
fine, the alternate ciphers strengthen it's usefulness a lot.

Regards,
Paul Hilton


_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at http://mail.yahoo.com

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020306115535</emailId><senderName>Marc Mutz</senderName><senderEmail>marc.mutz@uni-bielefeld.de</senderEmail><timestampReceived>2002-03-06 11:55:35-0400</timestampReceived><subject>Re: difference between jari's and hvr's package</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Tuesday 05 March 2002 11:12, Newsmail wrote:
&gt; I would like to ask, what is the real difference between the crypto
&gt; api package of hvr (the new testing releases for new kernels), and
&gt; the loop-AES package of jari.
&lt;snip&gt;

AFAIK, the goal of loop-AES is to provide a lean disk encryption service 
that works on kernels 2.0 through 2.4. Nothing more, but nothing less, 
too.

As a consequence, it works as a plug'n'play kernel module, since it only 
uses existing kernel interfaces.


The goal of cryptoAPI, OTOH, is to provide an API for cryptography 
building blocks (ciphers and disgests as of now) for use by other 
kernel modules. cryptoloop is one of them and provides disk encryption 
like loop-AES, but not necessarily across major kernel releases.

As a consequence of providing a new API, it needs to patch the kernel 
and these patches tend to get out of sync with the kernel code as it 
evolves. Thus the need for regular updates of the patch for the current 
kernel version.

Since cryptoAPI is more than disk encryption, other (possible) cryptoAPI 
uses come to mind:
- - /dev/random comes with it's own implementations of MD5 and SHA1. One 
could make it use the cryptoAPI, if present.
- - the swap code could encrypt each page directly, without having to set 
up the swap device as a loopback.
- - all VPN solutions come with the need of in-kernel cryptography. 
Currently, all come with their own implementations.
- - IPv6 has mandatory support for IPSec, which needs yet another set of 
ciphers and MACs.

Now, suppose you had a need for encrypted filesystems and a VPN. You'd 
end up with possibly three different MD5 implementations, and two 
cipher suites.

This is the situation that cryptoAPI is trying to solve.

Marc

- -- 
Marc Mutz &lt;mutz@kde.org&gt;
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE8hgO33oWD+L2/6DgRAlO3AJ96dbiXLmBdYwkD6f1bxXDlco9wJACaA626
2E4PBW/kTw/eMA3qoSTEKfM=
=feTm
-----END PGP SIGNATURE-----


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020306211459</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-03-06 21:14:59-0400</timestampReceived><subject>Re: difference between jari's and hvr's package</subject><body>

Herbert Valerio Riedel wrote:
&gt; On Tue, 2002-03-05 at 16:43, Jari Ruusu wrote:
&gt; &gt; Because cryptoapi works with very limited set of kernels, and with none of
&gt; &gt; the ultra stable kernels. Loop-AES works with all maintained stable kernels,
&gt; &gt; including distro vendor kernels. Meaning that if you use cryptoapi, HVR
&gt; &gt; chooses your kernel for you. If you use loop-AES, crypto adapts to _your_
&gt; &gt; choice of kernel. That is a big difference.
&gt; ...and with loop-aes, you choose the set of ciphers your users use...
&gt; ;-)

Yes, and people bitched and moaned about it. Now they have portable (as in
works with all stable linux kernels in use today) loop encryption with more
than one cipher available.

&gt; &gt; Another disadvantage that cryptoapi loop has, is the cryptoapi bloat that
&gt; &gt; makes it slower than loop-AES. Loop-AES does not use cryptoapi, and that is
&gt; &gt; a feature.
&gt; btw, I wondering, whether we have any objective measurements of the
&gt; overhead involved wrt using the additional abstraction layer w/
&gt; cryptoapi...

Tested on 2.4.18 kernel, Pentium-2 300 MHz, ST34342A IDE disk

Implementation  Cipher        Total CPU cycles spent in system mode
--------------  ------        -------------------------------------
cryptoapi       AES-128       54 %
loop-AES        AES-128       36 %
cryptoapi       serpent-128   81 %
loop-AES        serpent-128   78 %

All above implementations used the disk at maximum data transfer rate
supported by the disk, so megabytes/sec rate was same for all ciphers on
unloaded test box.

Serpent implementations used same cipher source code. Cryptoapi overhead on
loop encryption seems to be few percent of CPU cycles.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020307004535</emailId><senderName>Steve Weigand</senderName><senderEmail>weigand@texas.net</senderEmail><timestampReceived>2002-03-07 00:45:35-0400</timestampReceived><subject>Re: difference between jari's and hvr's package</subject><body>

On Wed, Mar 06, 2002 at 11:14:59PM +0200, Jari Ruusu wrote:
&gt; 
&gt; Tested on 2.4.18 kernel, Pentium-2 300 MHz, ST34342A IDE disk
&gt; 
&gt; Implementation  Cipher        Total CPU cycles spent in system mode
&gt; --------------  ------        -------------------------------------
&gt; cryptoapi       AES-128       54 %
&gt; loop-AES        AES-128       36 %
&gt; cryptoapi       serpent-128   81 %
&gt; loop-AES        serpent-128   78 %
&gt; 
&gt; All above implementations used the disk at maximum data transfer rate
&gt; supported by the disk, so megabytes/sec rate was same for all ciphers on
&gt; unloaded test box.
&gt; 
&gt; Serpent implementations used same cipher source code. Cryptoapi overhead on
&gt; loop encryption seems to be few percent of CPU cycles.


That's strange.  So AES does much more in user-mode than serpent does?
So that's why serpent's run time is dominated by system-mode cpu
cycles whereas AES is not?  Why is that?  What part is running in
user-mode out of curiosity?

And why is there such a large discrepancy between cryptoapi's AES
CPU time and loop-AES's AES CPU time?  Context switching?

 - Steve Weigand
   (weigand@texas.net) Austin, Texas USA  http://weigand.home.texas.net

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020307092516</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-03-07 09:25:16-0400</timestampReceived><subject>Re: difference between jari's and hvr's package</subject><body>

On Wed, 6 Mar 2002, Steve Weigand wrote:

&gt; On Wed, Mar 06, 2002 at 11:14:59PM +0200, Jari Ruusu wrote:
&gt; &gt; Tested on 2.4.18 kernel, Pentium-2 300 MHz, ST34342A IDE disk

&gt; &gt; Implementation  Cipher        Total CPU cycles spent in system mode
&gt; &gt; --------------  ------        -------------------------------------
&gt; &gt; cryptoapi       AES-128       54 %
&gt; &gt; loop-AES        AES-128       36 %
&gt; &gt; cryptoapi       serpent-128   81 %
&gt; &gt; loop-AES        serpent-128   78 %
&gt; &gt; 
&gt; &gt; All above implementations used the disk at maximum data transfer rate
&gt; &gt; supported by the disk, so megabytes/sec rate was same for all ciphers on
&gt; &gt; unloaded test box.
&gt; &gt; 
&gt; &gt; Serpent implementations used same cipher source code. Cryptoapi overhead on
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
&gt; &gt; loop encryption seems to be few percent of CPU cycles.

i.e. only the serpent test used the same cipher implementation;
I assume he used the asm optimized aes optimization for the AES test, 
which would be a bit unfair -- especially since he didn't tell us 
explicitly...

&gt; That's strange.  So AES does much more in user-mode than serpent does?
&gt; So that's why serpent's run time is dominated by system-mode cpu
&gt; cycles whereas AES is not?  Why is that? 
&gt; What part is running in user-mode out of curiosity?
none...
 
&gt; And why is there such a large discrepancy between cryptoapi's AES
&gt; CPU time and loop-AES's AES CPU time?  Context switching?
...assembler versus C version... :-)

well, so we can say, that loop-AES is definitely a bit faster...  
...somewhere around 3% :-) btw, we also don't know whether which loop
patches were used... maybe jari's preallocated buffer logic influences a
bit as well..

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F 4142

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200203070925160</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-03-07 09:25:16-0400</timestampReceived><subject>Re: difference between jari's and hvr's package</subject><body>

On Wed, 6 Mar 2002, Steve Weigand wrote:

&gt; On Wed, Mar 06, 2002 at 11:14:59PM +0200, Jari Ruusu wrote:
&gt; &gt; Tested on 2.4.18 kernel, Pentium-2 300 MHz, ST34342A IDE disk

&gt; &gt; Implementation  Cipher        Total CPU cycles spent in system mode
&gt; &gt; --------------  ------        -------------------------------------
&gt; &gt; cryptoapi       AES-128       54 %
&gt; &gt; loop-AES        AES-128       36 %
&gt; &gt; cryptoapi       serpent-128   81 %
&gt; &gt; loop-AES        serpent-128   78 %
&gt; &gt; 
&gt; &gt; All above implementations used the disk at maximum data transfer rate
&gt; &gt; supported by the disk, so megabytes/sec rate was same for all ciphers on
&gt; &gt; unloaded test box.
&gt; &gt; 
&gt; &gt; Serpent implementations used same cipher source code. Cryptoapi overhead on
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
&gt; &gt; loop encryption seems to be few percent of CPU cycles.

i.e. only the serpent test used the same cipher implementation;
I assume he used the asm optimized aes optimization for the AES test, 
which would be a bit unfair -- especially since he didn't tell us 
explicitly...

&gt; That's strange.  So AES does much more in user-mode than serpent does?
&gt; So that's why serpent's run time is dominated by system-mode cpu
&gt; cycles whereas AES is not?  Why is that? 
&gt; What part is running in user-mode out of curiosity?
none...
 
&gt; And why is there such a large discrepancy between cryptoapi's AES
&gt; CPU time and loop-AES's AES CPU time?  Context switching?
...assembler versus C version... :-)

well, so we can say, that loop-AES is definitely a bit faster...  
...somewhere around 3% :-) btw, we also don't know whether which loop
patches were used... maybe jari's preallocated buffer logic influences a
bit as well..

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F 4142

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200203070925160</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-03-07 09:25:16-0400</timestampReceived><subject>Re: difference between jari's and hvr's package</subject><body>

On Wed, 6 Mar 2002, Steve Weigand wrote:

&gt; On Wed, Mar 06, 2002 at 11:14:59PM +0200, Jari Ruusu wrote:
&gt; &gt; Tested on 2.4.18 kernel, Pentium-2 300 MHz, ST34342A IDE disk

&gt; &gt; Implementation  Cipher        Total CPU cycles spent in system mode
&gt; &gt; --------------  ------        -------------------------------------
&gt; &gt; cryptoapi       AES-128       54 %
&gt; &gt; loop-AES        AES-128       36 %
&gt; &gt; cryptoapi       serpent-128   81 %
&gt; &gt; loop-AES        serpent-128   78 %
&gt; &gt; 
&gt; &gt; All above implementations used the disk at maximum data transfer rate
&gt; &gt; supported by the disk, so megabytes/sec rate was same for all ciphers on
&gt; &gt; unloaded test box.
&gt; &gt; 
&gt; &gt; Serpent implementations used same cipher source code. Cryptoapi overhead on
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
&gt; &gt; loop encryption seems to be few percent of CPU cycles.

i.e. only the serpent test used the same cipher implementation;
I assume he used the asm optimized aes optimization for the AES test, 
which would be a bit unfair -- especially since he didn't tell us 
explicitly...

&gt; That's strange.  So AES does much more in user-mode than serpent does?
&gt; So that's why serpent's run time is dominated by system-mode cpu
&gt; cycles whereas AES is not?  Why is that? 
&gt; What part is running in user-mode out of curiosity?
none...
 
&gt; And why is there such a large discrepancy between cryptoapi's AES
&gt; CPU time and loop-AES's AES CPU time?  Context switching?
...assembler versus C version... :-)

well, so we can say, that loop-AES is definitely a bit faster...  
...somewhere around 3% :-) btw, we also don't know whether which loop
patches were used... maybe jari's preallocated buffer logic influences a
bit as well..

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F 4142

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200203070925160</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-03-07 09:25:16-0400</timestampReceived><subject>Re: difference between jari's and hvr's package</subject><body>

On Wed, 6 Mar 2002, Steve Weigand wrote:

&gt; On Wed, Mar 06, 2002 at 11:14:59PM +0200, Jari Ruusu wrote:
&gt; &gt; Tested on 2.4.18 kernel, Pentium-2 300 MHz, ST34342A IDE disk

&gt; &gt; Implementation  Cipher        Total CPU cycles spent in system mode
&gt; &gt; --------------  ------        -------------------------------------
&gt; &gt; cryptoapi       AES-128       54 %
&gt; &gt; loop-AES        AES-128       36 %
&gt; &gt; cryptoapi       serpent-128   81 %
&gt; &gt; loop-AES        serpent-128   78 %
&gt; &gt; 
&gt; &gt; All above implementations used the disk at maximum data transfer rate
&gt; &gt; supported by the disk, so megabytes/sec rate was same for all ciphers on
&gt; &gt; unloaded test box.
&gt; &gt; 
&gt; &gt; Serpent implementations used same cipher source code. Cryptoapi overhead on
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
&gt; &gt; loop encryption seems to be few percent of CPU cycles.

i.e. only the serpent test used the same cipher implementation;
I assume he used the asm optimized aes optimization for the AES test, 
which would be a bit unfair -- especially since he didn't tell us 
explicitly...

&gt; That's strange.  So AES does much more in user-mode than serpent does?
&gt; So that's why serpent's run time is dominated by system-mode cpu
&gt; cycles whereas AES is not?  Why is that? 
&gt; What part is running in user-mode out of curiosity?
none...
 
&gt; And why is there such a large discrepancy between cryptoapi's AES
&gt; CPU time and loop-AES's AES CPU time?  Context switching?
...assembler versus C version... :-)

well, so we can say, that loop-AES is definitely a bit faster...  
...somewhere around 3% :-) btw, we also don't know whether which loop
patches were used... maybe jari's preallocated buffer logic influences a
bit as well..

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F 4142

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020307182500</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-03-07 18:25:00-0400</timestampReceived><subject>Re: difference between jari's and hvr's package</subject><body>

Herbert Valerio Riedel wrote:
&gt; On Wed, 6 Mar 2002, Steve Weigand wrote:
&gt; &gt; And why is there such a large discrepancy between cryptoapi's AES
&gt; &gt; CPU time and loop-AES's AES CPU time?  Context switching?
&gt; ...assembler versus C version... :-)

Correct.
 
&gt; well, so we can say, that loop-AES is definitely a bit faster...
&gt; ...somewhere around 3% :-) btw, we also don't know whether which loop
&gt; patches were used... maybe jari's preallocated buffer logic influences a
&gt; bit as well..

Cryptoapi loop patch was "jari" version, so I am guilty in either case.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020308120825</emailId><senderName></senderName><senderEmail>weigand</senderEmail><timestampReceived>2002-03-08 12:08:25-0400</timestampReceived><subject>Re: difference between jari's and hvr's package</subject><body>


Thor wrote:
&gt; &gt; &gt; And why is there such a large discrepancy between cryptoapi's AES
&gt; &gt; &gt; CPU time and loop-AES's AES CPU time?  Context switching?
&gt; &gt; ...assembler versus C version... :-)
&gt; 
&gt; Will there in the future come an assembler version (Pentium optimized, like
&gt; the one in loop-AES) of the AES cipher to cryptoapi? This way the speed
&gt; difference between loop-AES and cryptoapi would be minimized.

One other question...

If the assembler version is optimized for Pentiums,  does that mean that
it will not work well (or at all?) with AMD Athlons?

Thanks,
  - Steve Weigand
    (weigand@texas.net) Austin, Texas USA  http://weigand.home.texas.net



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020308174742</emailId><senderName>"Thor Dreier"</senderName><senderEmail>thor@dreier.nu</senderEmail><timestampReceived>2002-03-08 17:47:42-0400</timestampReceived><subject>Re: difference between jari's and hvr's package</subject><body>

&gt; &gt; And why is there such a large discrepancy between cryptoapi's AES
&gt; &gt; CPU time and loop-AES's AES CPU time?  Context switching?
&gt; ...assembler versus C version... :-)

Will there in the future come an assembler version (Pentium optimized, like
the one in loop-AES) of the AES cipher to cryptoapi? This way the speed
difference between loop-AES and cryptoapi would be minimized.


Med venlig hilsen / Best Regards
Thor Dreier

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020308181226</emailId><senderName>Dale Amon</senderName><senderEmail>amon@vnl.com</senderEmail><timestampReceived>2002-03-08 18:12:26-0400</timestampReceived><subject>Re: difference between jari's and hvr's package</subject><body>

On Fri, Mar 08, 2002 at 06:47:42PM +0100, Thor Dreier wrote:
&gt; &gt; &gt; And why is there such a large discrepancy between cryptoapi's AES
&gt; &gt; &gt; CPU time and loop-AES's AES CPU time?  Context switching?
&gt; &gt; ...assembler versus C version... :-)
&gt; 
&gt; Will there in the future come an assembler version (Pentium optimized, like
&gt; the one in loop-AES) of the AES cipher to cryptoapi? This way the speed
&gt; difference between loop-AES and cryptoapi would be minimized.

My impression is Linus and others are negative towards
increasing the architecture dependant code, and since
cryptoapi is aimed at eventually merging with the
mainstream kernel, I think Herbert has to keep that
in mind.

-- 
------------------------------------------------------
    Nuke bin Laden:           Dale Amon, CEO/MD
  improve the global          Islandone Society
     gene pool.               www.islandone.org
------------------------------------------------------
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020308182623</emailId><senderName>Henry Spencer</senderName><senderEmail>henry@spsystems.net</senderEmail><timestampReceived>2002-03-08 18:26:23-0400</timestampReceived><subject>Re: difference between jari's and hvr's package</subject><body>

On Fri, 8 Mar 2002 weigand@texas.net wrote:
&gt; If the assembler version is optimized for Pentiums,  does that mean that
&gt; it will not work well (or at all?) with AMD Athlons?

Typically -- assuming things like the MMX instructions haven't entered the
picture -- it will work but won't show any great performance advantage. 
The DES library we use in FreeS/WAN (an early branch off what later became
the OpenSSL library, I think) has an assembler assist which nearly triples
performance on the earlier Pentiums, if I recall correctly, but shows very
little improvement over the C code on AMD K6s (haven't yet run timings on
more modern machines). 

                                                          Henry Spencer
                                                       henry@spsystems.net

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020308183024</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-03-08 18:30:24-0400</timestampReceived><subject>Re: difference between jari's and hvr's package</subject><body>

weigand@texas.net wrote:
&gt; If the assembler version is optimized for Pentiums,  does that mean that
&gt; it will not work well (or at all?) with AMD Athlons?

It works fine on AMD Athlons. Actually, based on data that I have, you get a
bigger speed boost on AMD chips than on Intel chips.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020307103135</emailId><senderName>"IT3 Stuart Blake Tener, USNR-R"</senderName><senderEmail>stuart@bh90210.net</senderEmail><timestampReceived>2002-03-07 10:31:35-0400</timestampReceived><subject>RE: loop-aes vs stock loop</subject><body>

Erno:

	As I understand it this is because the kernel loop driver is
replaced by loop-aes. Therefore you must be sure that the kernel does
not build this competing module to the replacement module.

	Modules obviously need to be enabled so that loop-aes module can
be a viable loadable module. I am sure Mr. Ruusu can give you a better
explanation of this scenario. But it will not work unless you follow
those instructions.


Very Respectfully, 

Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG 
Beverly Hills, California
VTU 1904G (Volunteer Training Unit) 
stuart@bh90210.net 
west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043 
east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859 

Telecopier: (419)-715-6073 fax to email gateway via www.efax.com (it's
free!) 

JOIN THE US NAVY RESERVE, SERVE YOUR COUNTRY, AND BENEFIT FROM IT ALL. 

Thursday, March 07, 2002 2:31 AM


-----Original Message-----
From: linux-crypto-bounce@nl.linux.org
[mailto:linux-crypto-bounce@nl.linux.org] On Behalf Of Erno Kuusela
Sent: Thursday, March 07, 2002 2:06 AM
To: linux-crypto@nl.linux.org
Subject: loop-aes vs stock loop

hello,

i'm curious: the installation instructions for loop-aes say:

	Before you attempt to build loop.o driver, you *must*
	configure, compile and install new kernel so that
	CONFIG_MODULES=y and CONFIG_BLK_DEV_LOOP=n.

so it's a no-no to have the stock loop driver is compiled as a module
(but unused)? why is this?

  -- erno
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200203071031350</emailId><senderName>"IT3 Stuart Blake Tener, USNR-R"</senderName><senderEmail>stuart@bh90210.net</senderEmail><timestampReceived>2002-03-07 10:31:35-0400</timestampReceived><subject>RE: loop-aes vs stock loop</subject><body>

Erno:

	As I understand it this is because the kernel loop driver is
replaced by loop-aes. Therefore you must be sure that the kernel does
not build this competing module to the replacement module.

	Modules obviously need to be enabled so that loop-aes module can
be a viable loadable module. I am sure Mr. Ruusu can give you a better
explanation of this scenario. But it will not work unless you follow
those instructions.


Very Respectfully, 

Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG 
Beverly Hills, California
VTU 1904G (Volunteer Training Unit) 
stuart@bh90210.net 
west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043 
east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859 

Telecopier: (419)-715-6073 fax to email gateway via www.efax.com (it's
free!) 

JOIN THE US NAVY RESERVE, SERVE YOUR COUNTRY, AND BENEFIT FROM IT ALL. 

Thursday, March 07, 2002 2:31 AM


-----Original Message-----
From: linux-crypto-bounce@nl.linux.org
[mailto:linux-crypto-bounce@nl.linux.org] On Behalf Of Erno Kuusela
Sent: Thursday, March 07, 2002 2:06 AM
To: linux-crypto@nl.linux.org
Subject: loop-aes vs stock loop

hello,

i'm curious: the installation instructions for loop-aes say:

	Before you attempt to build loop.o driver, you *must*
	configure, compile and install new kernel so that
	CONFIG_MODULES=y and CONFIG_BLK_DEV_LOOP=n.

so it's a no-no to have the stock loop driver is compiled as a module
(but unused)? why is this?

  -- erno
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200203071031350</emailId><senderName>"IT3 Stuart Blake Tener, USNR-R"</senderName><senderEmail>stuart@bh90210.net</senderEmail><timestampReceived>2002-03-07 10:31:35-0400</timestampReceived><subject>RE: loop-aes vs stock loop</subject><body>

Erno:

	As I understand it this is because the kernel loop driver is
replaced by loop-aes. Therefore you must be sure that the kernel does
not build this competing module to the replacement module.

	Modules obviously need to be enabled so that loop-aes module can
be a viable loadable module. I am sure Mr. Ruusu can give you a better
explanation of this scenario. But it will not work unless you follow
those instructions.


Very Respectfully, 

Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG 
Beverly Hills, California
VTU 1904G (Volunteer Training Unit) 
stuart@bh90210.net 
west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043 
east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859 

Telecopier: (419)-715-6073 fax to email gateway via www.efax.com (it's
free!) 

JOIN THE US NAVY RESERVE, SERVE YOUR COUNTRY, AND BENEFIT FROM IT ALL. 

Thursday, March 07, 2002 2:31 AM


-----Original Message-----
From: linux-crypto-bounce@nl.linux.org
[mailto:linux-crypto-bounce@nl.linux.org] On Behalf Of Erno Kuusela
Sent: Thursday, March 07, 2002 2:06 AM
To: linux-crypto@nl.linux.org
Subject: loop-aes vs stock loop

hello,

i'm curious: the installation instructions for loop-aes say:

	Before you attempt to build loop.o driver, you *must*
	configure, compile and install new kernel so that
	CONFIG_MODULES=y and CONFIG_BLK_DEV_LOOP=n.

so it's a no-no to have the stock loop driver is compiled as a module
(but unused)? why is this?

  -- erno
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200203071031350</emailId><senderName>"IT3 Stuart Blake Tener, USNR-R"</senderName><senderEmail>stuart@bh90210.net</senderEmail><timestampReceived>2002-03-07 10:31:35-0400</timestampReceived><subject>RE: loop-aes vs stock loop</subject><body>

Erno:

	As I understand it this is because the kernel loop driver is
replaced by loop-aes. Therefore you must be sure that the kernel does
not build this competing module to the replacement module.

	Modules obviously need to be enabled so that loop-aes module can
be a viable loadable module. I am sure Mr. Ruusu can give you a better
explanation of this scenario. But it will not work unless you follow
those instructions.


Very Respectfully, 

Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG 
Beverly Hills, California
VTU 1904G (Volunteer Training Unit) 
stuart@bh90210.net 
west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043 
east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859 

Telecopier: (419)-715-6073 fax to email gateway via www.efax.com (it's
free!) 

JOIN THE US NAVY RESERVE, SERVE YOUR COUNTRY, AND BENEFIT FROM IT ALL. 

Thursday, March 07, 2002 2:31 AM


-----Original Message-----
From: linux-crypto-bounce@nl.linux.org
[mailto:linux-crypto-bounce@nl.linux.org] On Behalf Of Erno Kuusela
Sent: Thursday, March 07, 2002 2:06 AM
To: linux-crypto@nl.linux.org
Subject: loop-aes vs stock loop

hello,

i'm curious: the installation instructions for loop-aes say:

	Before you attempt to build loop.o driver, you *must*
	configure, compile and install new kernel so that
	CONFIG_MODULES=y and CONFIG_BLK_DEV_LOOP=n.

so it's a no-no to have the stock loop driver is compiled as a module
(but unused)? why is this?

  -- erno
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020307112027</emailId><senderName>Marc Mutz</senderName><senderEmail>marc.mutz@uni-bielefeld.de</senderEmail><timestampReceived>2002-03-07 11:20:27-0400</timestampReceived><subject>Re: loop-aes vs stock loop</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Thursday 07 March 2002 11:06, Erno Kuusela wrote:
&lt;snip&gt;
&gt; 	CONFIG_MODULES=y

That's so you can actually use loadable modules.

&gt; and CONFIG_BLK_DEV_LOOP=n.

This should probably read =m. I can't think of a reason why the stock 
loop driver shouldn't be compiled, since you can always decide what 
loop driver to load t modprobe time.

&gt; so it's a no-no to have the stock loop driver is compiled as a module
&gt; (but unused)? why is this?
&lt;snip&gt;

If this were correct, Jari's claim that loop-AES works with distributor 
kernels wouldn't hold, since they all compile loop.o as module (they 
compile _everything_ as modules ;-).

Marc

- -- 
Marc Mutz &lt;mutz@kde.org&gt;
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE8h0z73oWD+L2/6DgRAtswAKDft6F+YV8C1ck2U5nRm/f5im1RgwCeOpoD
aIuL5j/GCG9fQAGPbVqDw9s=
=Qo7m
-----END PGP SIGNATURE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020307130216</emailId><senderName>Juan Quintela</senderName><senderEmail>quintela@mandrakesoft.com</senderEmail><timestampReceived>2002-03-07 13:02:16-0400</timestampReceived><subject>Re: loop-aes vs stock loop</subject><body>

&gt;&gt;&gt;&gt;&gt; "marc" == Marc Mutz &lt;Marc.Mutz@uni-bielefeld.de&gt; writes:

marc&gt; On Thursday 07 March 2002 11:06, Erno Kuusela wrote:
marc&gt; &lt;snip&gt;
&gt;&gt; CONFIG_MODULES=y

marc&gt; That's so you can actually use loadable modules.

&gt;&gt; and CONFIG_BLK_DEV_LOOP=n.

marc&gt; This should probably read =m. I can't think of a reason why the stock 
marc&gt; loop driver shouldn't be compiled, since you can always decide what 
marc&gt; loop driver to load t modprobe time.

This is if you are compiling loop-AES outside of the kernel, you need
loop module from loop-AES.

&gt;&gt; so it's a no-no to have the stock loop driver is compiled as a module
&gt;&gt; (but unused)? why is this?
marc&gt; &lt;snip&gt;

marc&gt; If this were correct, Jari's claim that loop-AES works with distributor 
marc&gt; kernels wouldn't hold, since they all compile loop.o as module (they 
marc&gt; compile _everything_ as modules ;-).

I think that jari claims that loop-AES works with distributor kernels
are more in the sense that they work with _any_ kernel, i.e. for
instance Mandarke kernel differs a lot for _any_ vanilla kernel from
ftp.kernel.org, and we can use it without problem.  international
patches _used_ to work only with specific kernel versions (notice that
last time that I tried, I was able to compile international patch
against Mandrake kernel).

Later, Juan.

-- 
In theory, practice and theory are the same, but in practice they 
are different -- Larry McVoy
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020307141005</emailId><senderName>Marc Mutz</senderName><senderEmail>marc.mutz@uni-bielefeld.de</senderEmail><timestampReceived>2002-03-07 14:10:05-0400</timestampReceived><subject>Re: loop-aes vs stock loop</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Thursday 07 March 2002 14:02, Juan Quintela wrote:
&lt;snip&gt;
&gt; This is if you are compiling loop-AES outside of the kernel, you need
&gt; loop module from loop-AES.
&lt;snip&gt;

So what? You can overwrite the original loop.o without problems. It 
sitll doesn't make sense to me why  CONFIG_BLK_DEV_LOOP=n should be a 
requirement... (!y, obviously, but =m should be OK).

Marc

- -- 
Marc Mutz &lt;mutz@kde.org&gt;
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE8h3S93oWD+L2/6DgRAjIvAJ9/L0Vf5tbzS4OiUsNwqiB9QEgWWwCePjlB
wedB3yB8YBflQpEWEej3ZZM=
=y2tC
-----END PGP SIGNATURE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020220083805</emailId><senderName>Peter Simons</senderName><senderEmail>simons@cryp.to</senderEmail><timestampReceived>2002-02-20 08:38:05-0400</timestampReceived><subject>Re: Crypted CDROMs</subject><body>

Erik Kunze writes:

 &gt; I'd like to crypt CDROMs, but can't get it working with ISO9660. 

(1) Create an ISO image just the same way you'd do for a normal
    unencrypted CD-ROM, say, "/tmp/test.img".

(2) losetup /dev/loop0 /tmp/test.img

(3) losetup -e aes /dev/loop1 /tmp/test.img

(4) dd if=/dev/loop0 of=/dev/loop1 bs=1M

(5) losetup -d /dev/loop0 &amp;&amp; losetup -d /dev/loop1

(6) mount -o encryption=aes,ro /tmp/test.img

There you are.

        -peter
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020220173850</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-02-20 17:38:50-0400</timestampReceived><subject>Re: Crypted CDROMs</subject><body>

Erik Kunze wrote:
&gt; I'd like to crypt CDROMs, but can't get it working with ISO9660. Any other
&gt; filesystem does work!
[snip]
&gt; So what's wrong with ISO9660 on crypted files? Is this a fault of mkisofs,
&gt; cryptoapi or the filesystem driver?

This is result of block-size-IV-syndrome, also called "time bomb" IV, where
IV computation depends on block size of underlying device. All international
crypto patches have that bug, and all cryptoapi versions that don't do 512
byte IV are also broken. Anyone using such broken stuff voluntarily is just
being crazy. This has been discussed on this list, just search the archives
for more info. I wish that people responsible for such fuck-up would have
the balls to admit it and at least warn people to not use such broken
versions.

All non-international-crypto-patch and non-cryptoapi versions of loop
encryption that I am aware of (ppdd, SuSE kernel twofish, Ingo Rohloff's
loop crypto, loop-AES, Mandrake kernel AES) do IV computation correctly
using 512 byte units.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020220222315</emailId><senderName>Chris Schadl</senderName><senderEmail>cschadl@satan.org.uk</senderEmail><timestampReceived>2002-02-20 22:23:15-0400</timestampReceived><subject>Re: Crypted CDROMs</subject><body>

I don't think that the most recent version of cryptoapi (2.4.7.0) has this
particular problem.  I've used it to make quite a few encrypted ISO images
with out any trouble.

Jari Ruusu [20/02/02 19:38 +0200]:
&gt; Erik Kunze wrote:
&gt; &gt; I'd like to crypt CDROMs, but can't get it working with ISO9660. Any other
&gt; &gt; filesystem does work!
&gt; [snip]
&gt; &gt; So what's wrong with ISO9660 on crypted files? Is this a fault of mkisofs,
&gt; &gt; cryptoapi or the filesystem driver?
&gt; 
&gt; This is result of block-size-IV-syndrome, also called "time bomb" IV, where
&gt; IV computation depends on block size of underlying device. All international
&gt; crypto patches have that bug, and all cryptoapi versions that don't do 512
&gt; byte IV are also broken. Anyone using such broken stuff voluntarily is just
&gt; being crazy. This has been discussed on this list, just search the archives
&gt; for more info. I wish that people responsible for such fuck-up would have
&gt; the balls to admit it and at least warn people to not use such broken
&gt; versions.
&gt; 
&gt; All non-international-crypto-patch and non-cryptoapi versions of loop
&gt; encryption that I am aware of (ppdd, SuSE kernel twofish, Ingo Rohloff's
&gt; loop crypto, loop-AES, Mandrake kernel AES) do IV computation correctly
&gt; using 512 byte units.
&gt; 
&gt; Regards,
&gt; Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
&gt; 

-- 
Chris Schadl
cschadl@satan.org.uk

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020221064617</emailId><senderName>Erik Kunze</senderName><senderEmail>erik.kunze@philosys.de</senderEmail><timestampReceived>2002-02-21 06:46:17-0400</timestampReceived><subject>Re: Crypted CDROMs</subject><body>

Hi Chris,

* Chris Schadl &lt;cschadl@satan.org.uk&gt; [020220 23:23]:
&gt; 
&gt; I don't think that the most recent version of cryptoapi (2.4.7.0) has this
&gt; particular problem.  I've used it to make quite a few encrypted ISO images
&gt; with out any trouble.

And how did you do the encryption. Would you please give us an example
(command sequence, script).

-- 
   Dipl.-Ing. Erik Kunze               Phone: +49 - 89 - 32 14 07 41
   PHILOSYS Software GmbH              Fax:   +49 - 89 - 32 14 07 12
   Edisonstr. 6                        Email: Erik.Kunze@philosys.de
   D-85716 Unterschleissheim           WWW:   www.philosys.de/~kunze

 PGP-Key: http://blackhole.pca.dfn.de:11371/pks/lookup?op=get&amp;search=0xD5759581
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020221155744</emailId><senderName>Chris Schadl</senderName><senderEmail>cschadl@satan.org.uk</senderEmail><timestampReceived>2002-02-21 15:57:44-0400</timestampReceived><subject>Re: Crypted CDROMs</subject><body>

# dd if=/dev/urandom of=~/crypto.iso bs=1M count=650
# losetup -e aes -k 192 /dev/loop0 ~/crypto.iso
# mkisofs -r /stuff/SUPAR-SECRET-STUFF/ &gt;/dev/loop0
# losetup -d /dev/loop0

Then you should be able to mount the encrypted iso image, or burn it to a
CD-ROM.

Erik Kunze [21/02/02 07:46 +0100]:
&gt; Hi Chris,
&gt; 
&gt; * Chris Schadl &lt;cschadl@satan.org.uk&gt; [020220 23:23]:
&gt; &gt; 
&gt; &gt; I don't think that the most recent version of cryptoapi (2.4.7.0) has this
&gt; &gt; particular problem.  I've used it to make quite a few encrypted ISO images
&gt; &gt; with out any trouble.
&gt; 
&gt; And how did you do the encryption. Would you please give us an example
&gt; (command sequence, script).
&gt; 
&gt; -- 
&gt;    Dipl.-Ing. Erik Kunze               Phone: +49 - 89 - 32 14 07 41
&gt;    PHILOSYS Software GmbH              Fax:   +49 - 89 - 32 14 07 12
&gt;    Edisonstr. 6                        Email: Erik.Kunze@philosys.de
&gt;    D-85716 Unterschleissheim           WWW:   www.philosys.de/~kunze
&gt; 
&gt;  PGP-Key: http://blackhole.pca.dfn.de:11371/pks/lookup?op=get&amp;search=0xD5759581

-- 
Chris Schadl
cschadl@satan.org.uk

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020222103044</emailId><senderName>Erik Kunze</senderName><senderEmail>erik.kunze@philosys.de</senderEmail><timestampReceived>2002-02-22 10:30:44-0400</timestampReceived><subject>Re: Crypted CDROMs</subject><body>

* Chris Schadl &lt;cschadl@satan.org.uk&gt; [020221 16:57]:
&gt; Date: Thu, 21 Feb 2002 09:57:44 -0600
&gt; From: Chris Schadl &lt;cschadl@satan.org.uk&gt;
&gt; Subject: Re: Crypted CDROMs
&gt; 
&gt; # dd if=/dev/urandom of=~/crypto.iso bs=1M count=650
&gt; # losetup -e aes -k 192 /dev/loop0 ~/crypto.iso
&gt; # mkisofs -r /stuff/SUPAR-SECRET-STUFF/ &gt;/dev/loop0
&gt; # losetup -d /dev/loop0
&gt; 
&gt; Then you should be able to mount the encrypted iso image, or burn it to a
&gt; CD-ROM.

That's how I did! Please read my initial posting! Mounting of the image
fails. I haven't tried to burn the image and mount the CDROM.

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020301003711</emailId><senderName>Tim Renner</senderName><senderEmail>tim.renner@l-3com.com</senderEmail><timestampReceived>2002-03-01 00:37:11-0400</timestampReceived><subject>Re: Crypted CDROMs</subject><body>

I don't know if this ever got resolved or not, but I just burnt an
encrypted CD with ext2 format...  here's what I did for anyone
interested, step by step...

Oh, I'm using loop-AES 1.5b...  I never did get this to work with just
the cryptoapi, but i had an old version... I'm assuming it was because
of the IV mode problem...  anyways, here's what I've done...

// Create the original image
dd if=/dev/urandom of=image.img bs=1M count=650
mke2fs -m 0 -b 1024 image.img
mount -o loop image.img temp
&lt;Copy stuff into temp to fill the image&gt;
umount temp


// Encrypt it
// image.img must NOT be mounted at this point&gt;
losetup /dev/loop0 image.img
losetup -e aes256 /dev/loop1 image.img
&lt;enter password&gt;
dd if=/dev/loop0 of=/dev/loop1 bs=1M conv=notrunc
sync
losetup -d /dev/loop0
losetup -d /dev/loop1
&lt;test it, make sure everything mounts and
   you used the correct password&gt;

// Burn it
cdrecord -v speed=8 dev=0,0,0 image.img
&lt;cd burns&gt;


// Mount it
losetup -e aes256 /dev/loop0 /dev/cdrom
&lt;enter password&gt;
mount /dev/loop0 /mnt


And that's that ;)  Hope it helps ;)  Give me feedback on whether that
works for everyone or not...  If you want a non-destructive encrypt,
simply create a new file of the same size and mount that on /dev/loop1
when encrypting.

-Tim



Erik Kunze wrote:
&gt; 
&gt; * Chris Schadl &lt;cschadl@satan.org.uk&gt; [020221 16:57]:
&gt; &gt; Date: Thu, 21 Feb 2002 09:57:44 -0600
&gt; &gt; From: Chris Schadl &lt;cschadl@satan.org.uk&gt;
&gt; &gt; Subject: Re: Crypted CDROMs
&gt; &gt;
&gt; &gt; # dd if=/dev/urandom of=~/crypto.iso bs=1M count=650
&gt; &gt; # losetup -e aes -k 192 /dev/loop0 ~/crypto.iso
&gt; &gt; # mkisofs -r /stuff/SUPAR-SECRET-STUFF/ &gt;/dev/loop0
&gt; &gt; # losetup -d /dev/loop0
&gt; &gt;
&gt; &gt; Then you should be able to mount the encrypted iso image, or burn it to a
&gt; &gt; CD-ROM.
&gt; 
&gt; That's how I did! Please read my initial posting! Mounting of the image
&gt; fails. I haven't tried to burn the image and mount the CDROM.
&gt; 
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020301145514</emailId><senderName>"IT3 Stuart Blake Tener, USNR-R"</senderName><senderEmail>stuart@bh90210.net</senderEmail><timestampReceived>2002-03-01 14:55:14-0400</timestampReceived><subject>RE: Crypted CDROMs</subject><body>

Tim, et al.:

	Well now, this is quite useful information! I have been looking
for a way to burn encrypted CD-RWs in a "standard" manner (at least for
Linux). I am curious, can I use CD-Roast be used to burn the CD-ROM (I
like its GUI)?
Using cdrecord is fine, but I am just curious if you have tried that?

	One thing that has interested me for some time would be the
ability to burn an encrypted disc in such a way that it could be
readable under either Linux or Windows. Of course this (I imagine) would
require firstly a port of loop-aes to Windows (which does not exist),
and then the implementation of a virtual Linux filesystem under Windows.

	A friend has been looking into that for a while (porting
loop-aes to windows), but has not had the time to get it started yet.

	I am curious, with respect to DVD burners, how do you think this
kind of process (as you describe for making CDs) would translate into
making DVD images? I am not a DVD burning expert at all (I know very
little), but I do have a particular instance where being able to burn
about 3-GB of encrypted data on a DVD would be explicity useful (even if
only able to be read under Linux). I see the DVD burners are down to
$499, but I have not acquired one yet as I am not sure if they decided
on a standard yet, or if they are able to be read (the DVD-Rs/DVD-RWs)
by standard DVD drives.


Very Respectfully, 

Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG 
Beverly Hills, California
VTU 1904G (Volunteer Training Unit) 
stuart@bh90210.net 
west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043 
east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859 

Telecopier: (419)-715-6073 fax to email gateway via www.efax.com (it's
free!) 

JOIN THE US NAVY RESERVE, SERVE YOUR COUNTRY, AND BENEFIT FROM IT ALL. 

Friday, March 01, 2002 6:54 AM


-----Original Message-----
From: linux-crypto-bounce@nl.linux.org
[mailto:linux-crypto-bounce@nl.linux.org] On Behalf Of Tim Renner
Sent: Thursday, February 28, 2002 4:37 PM
To: Erik Kunze
Cc: linux-crypto@nl.linux.org
Subject: Re: Crypted CDROMs

I don't know if this ever got resolved or not, but I just burnt an
encrypted CD with ext2 format...  here's what I did for anyone
interested, step by step...

Oh, I'm using loop-AES 1.5b...  I never did get this to work with just
the cryptoapi, but i had an old version... I'm assuming it was because
of the IV mode problem...  anyways, here's what I've done...

// Create the original image
dd if=/dev/urandom of=image.img bs=1M count=650
mke2fs -m 0 -b 1024 image.img
mount -o loop image.img temp
&lt;Copy stuff into temp to fill the image&gt;
umount temp


// Encrypt it
// image.img must NOT be mounted at this point&gt;
losetup /dev/loop0 image.img
losetup -e aes256 /dev/loop1 image.img
&lt;enter password&gt;
dd if=/dev/loop0 of=/dev/loop1 bs=1M conv=notrunc
sync
losetup -d /dev/loop0
losetup -d /dev/loop1
&lt;test it, make sure everything mounts and
   you used the correct password&gt;

// Burn it
cdrecord -v speed=8 dev=0,0,0 image.img
&lt;cd burns&gt;


// Mount it
losetup -e aes256 /dev/loop0 /dev/cdrom
&lt;enter password&gt;
mount /dev/loop0 /mnt


And that's that ;)  Hope it helps ;)  Give me feedback on whether that
works for everyone or not...  If you want a non-destructive encrypt,
simply create a new file of the same size and mount that on /dev/loop1
when encrypting.

-Tim



Erik Kunze wrote:
&gt; 
&gt; * Chris Schadl &lt;cschadl@satan.org.uk&gt; [020221 16:57]:
&gt; &gt; Date: Thu, 21 Feb 2002 09:57:44 -0600
&gt; &gt; From: Chris Schadl &lt;cschadl@satan.org.uk&gt;
&gt; &gt; Subject: Re: Crypted CDROMs
&gt; &gt;
&gt; &gt; # dd if=/dev/urandom of=~/crypto.iso bs=1M count=650
&gt; &gt; # losetup -e aes -k 192 /dev/loop0 ~/crypto.iso
&gt; &gt; # mkisofs -r /stuff/SUPAR-SECRET-STUFF/ &gt;/dev/loop0
&gt; &gt; # losetup -d /dev/loop0
&gt; &gt;
&gt; &gt; Then you should be able to mount the encrypted iso image, or burn it
to a
&gt; &gt; CD-ROM.
&gt; 
&gt; That's how I did! Please read my initial posting! Mounting of the
image
&gt; fails. I haven't tried to burn the image and mount the CDROM.
&gt; 
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020304203045</emailId><senderName>Tim Renner</senderName><senderEmail>tim.renner@l-3com.com</senderEmail><timestampReceived>2002-03-04 20:30:45-0400</timestampReceived><subject>Re: Crypted CDROMs</subject><body>

I've never tried CD-Roast, but it requires cdrecord anyways, so it
should be okay.  I just tried yesterday burning an encrypted image to a
CD using Nero in Win NT 4.0 and it failed, but I think that's due to the
software.  It seems like it needs an ISO image to burn correctly.

As for using the CDs under Windows, I don't think you would need a
virtual Linux filesystem, you can simply create a FAT32 image (mkdosfs
-F 32 image.img), rather than an ext2 one (although there is a
performance hit for this, and I would love ext2 for Windows ;).  Don't
try burning a FAT32 image onto a CD though yet, I've never gotten
windows to recognize the CD, I think it expects an ISO CD, and won't
mount a FAT32 one.  Windows loop-aes might need to address this?  If I'm
wrong, somebody please let me know how to do it, the ISO filesystem is
too limiting for most of what I do and I don't want to lock myself into
Linux if I don't have to.

-Tim

"IT3 Stuart Blake Tener, USNR-R" wrote:
&gt; 
&gt; Tim, et al.:
&gt; 
&gt;         Well now, this is quite useful information! I have been looking
&gt; for a way to burn encrypted CD-RWs in a "standard" manner (at least for
&gt; Linux). I am curious, can I use CD-Roast be used to burn the CD-ROM (I
&gt; like its GUI)?
&gt; Using cdrecord is fine, but I am just curious if you have tried that?
&gt; 
&gt;         One thing that has interested me for some time would be the
&gt; ability to burn an encrypted disc in such a way that it could be
&gt; readable under either Linux or Windows. Of course this (I imagine) would
&gt; require firstly a port of loop-aes to Windows (which does not exist),
&gt; and then the implementation of a virtual Linux filesystem under Windows.
&gt; 
&gt;         A friend has been looking into that for a while (porting
&gt; loop-aes to windows), but has not had the time to get it started yet.
&gt; 
&gt;         I am curious, with respect to DVD burners, how do you think this
&gt; kind of process (as you describe for making CDs) would translate into
&gt; making DVD images? I am not a DVD burning expert at all (I know very
&gt; little), but I do have a particular instance where being able to burn
&gt; about 3-GB of encrypted data on a DVD would be explicity useful (even if
&gt; only able to be read under Linux). I see the DVD burners are down to
&gt; $499, but I have not acquired one yet as I am not sure if they decided
&gt; on a standard yet, or if they are able to be read (the DVD-Rs/DVD-RWs)
&gt; by standard DVD drives.
&gt; 
&gt; Very Respectfully,
&gt; 
&gt; Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020305012114</emailId><senderName>"IT3 Stuart Blake Tener, USNR-R"</senderName><senderEmail>stuart@bh90210.net</senderEmail><timestampReceived>2002-03-05 01:21:14-0400</timestampReceived><subject>RE: Crypted CDROMs</subject><body>

Tim:

	Well this is the one area in which loop-aes is not a winner, and
at least for me it does create a problem (as I have need for encrypted
CD-ROMs which are readable under Linux and Windows). I am not enough of
a Windows programmer to port it myself (or I would gladly).

	I know if I spent the time to learn how to do programming in the
Windows environment enough to write a driver to read an encrypted
filesystem I could certainly do it. The problem is I do not have the
time to dedicate to such a project, and I presume Jari is in the same
boat with respect to his programming abilities, or something makes me
think he would have already written it.

	I am however working a friend to try to get the information to
build such a port, as I think there is definite demand for it. Do not
get me wrong, I like being a Linux bigot as much as the next guy, but
there comes a point when one must own up to the fact that using Windows
is part of working in the business world, and so therefore I am
relegated to doing so in certain circumstances.

	Do not get me wrong, I have great appreciation for loop-aes as a
piece of software, and Jari has done nothing less than a masterful job
of writing it. I just would like to see it support Windows.

	I am trying to find a public domain driver for Windows which
implements ext2 or ext3 under Windows. Then I would modify it to read
using the encryption / decryption techniques used by loop-aes. Any
ideas?


Very Respectfully, 

Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG 
Beverly Hills, California
VTU 1904G (Volunteer Training Unit) 
stuart@bh90210.net 
west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043 
east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859 

Telecopier: (419)-715-6073 fax to email gateway via www.efax.com (it's
free!) 

JOIN THE US NAVY RESERVE, SERVE YOUR COUNTRY, AND BENEFIT FROM IT ALL. 

Monday, March 04, 2002 5:21 PM


-----Original Message-----
From: trenner@Misty.com [mailto:trenner@Misty.com] On Behalf Of Tim
Renner
Sent: Monday, March 04, 2002 12:31 PM
To: stuart@bh90210.net
Cc: linux-crypto@nl.linux.org
Subject: Re: Crypted CDROMs

I've never tried CD-Roast, but it requires cdrecord anyways, so it
should be okay.  I just tried yesterday burning an encrypted image to a
CD using Nero in Win NT 4.0 and it failed, but I think that's due to the
software.  It seems like it needs an ISO image to burn correctly.

As for using the CDs under Windows, I don't think you would need a
virtual Linux filesystem, you can simply create a FAT32 image (mkdosfs
-F 32 image.img), rather than an ext2 one (although there is a
performance hit for this, and I would love ext2 for Windows ;).  Don't
try burning a FAT32 image onto a CD though yet, I've never gotten
windows to recognize the CD, I think it expects an ISO CD, and won't
mount a FAT32 one.  Windows loop-aes might need to address this?  If I'm
wrong, somebody please let me know how to do it, the ISO filesystem is
too limiting for most of what I do and I don't want to lock myself into
Linux if I don't have to.

-Tim

"IT3 Stuart Blake Tener, USNR-R" wrote:
&gt; 
&gt; Tim, et al.:
&gt; 
&gt;         Well now, this is quite useful information! I have been
looking
&gt; for a way to burn encrypted CD-RWs in a "standard" manner (at least
for
&gt; Linux). I am curious, can I use CD-Roast be used to burn the CD-ROM (I
&gt; like its GUI)?
&gt; Using cdrecord is fine, but I am just curious if you have tried that?
&gt; 
&gt;         One thing that has interested me for some time would be the
&gt; ability to burn an encrypted disc in such a way that it could be
&gt; readable under either Linux or Windows. Of course this (I imagine)
would
&gt; require firstly a port of loop-aes to Windows (which does not exist),
&gt; and then the implementation of a virtual Linux filesystem under
Windows.
&gt; 
&gt;         A friend has been looking into that for a while (porting
&gt; loop-aes to windows), but has not had the time to get it started yet.
&gt; 
&gt;         I am curious, with respect to DVD burners, how do you think
this
&gt; kind of process (as you describe for making CDs) would translate into
&gt; making DVD images? I am not a DVD burning expert at all (I know very
&gt; little), but I do have a particular instance where being able to burn
&gt; about 3-GB of encrypted data on a DVD would be explicity useful (even
if
&gt; only able to be read under Linux). I see the DVD burners are down to
&gt; $499, but I have not acquired one yet as I am not sure if they decided
&gt; on a standard yet, or if they are able to be read (the DVD-Rs/DVD-RWs)
&gt; by standard DVD drives.
&gt; 
&gt; Very Respectfully,
&gt; 
&gt; Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020301110055</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-03-01 11:00:55-0400</timestampReceived><subject>Re: Cryptoapi Blowfish implementation and IV argument issues</subject><body>

On Fri, 1 Mar 2002, Olaf Titz wrote:

&gt; It _is_ a bug, because the Blowfish algorithm is clearly specified and
&gt; the cryptoapi implementation breaks this spec.
ack - as it concern the crypto API, of which one would expect to 
implement the algorithm correctly; especially wrt network protocols
 
&gt; I've also long suspected that the cryptoapi IDEA implementation has
&gt; the same problem. Has anyone ever verified this? (Sorry, I don't have
&gt; a big-endian box to test.)
&gt; 
&gt; &gt; be resolved... i.e. by fixing the current, and providing a
&gt; &gt; compat-blowfish cipher...
&gt; 
&gt; Which is the only sane way out of this mess, yes.
 
&gt; While we're at it, can anyone tell me why the IV argument in the
&gt; cryptoapi functions since 2.4.16 is specified as u32[] ? I see the
&gt; imminent danger that the same implementation mistake as cited above
&gt; will be made again, as someone will write code which reads and writes
&gt; the IV in 32-bit chunks. For the same reason as for the ciphers
&gt; themselves, this does not work. Can this possibly be changed to a byte
&gt; pointer?
sure; planned anyway...

and btw, the old API used the context struct to store the IV, but this 
lead to non-reentrancy issues when the IV was changed frequently; I've 
been told CIPE's cvs version still uses the context for IV; 
shall I re-introduce context-IV's for compatibilities sake, and change the 
API a bit as well? (i.e. 2 calls, encrypt () and encrypt_iv ())

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F 4142

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020302095844</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-03-02 09:58:44-0400</timestampReceived><subject>Re: Cryptoapi Blowfish implementation and IV argument issues</subject><body>

fyi,

On Fri, 2002-03-01 at 11:17, Olaf Titz wrote:
&gt; &gt; be resolved... i.e. by fixing the current, and providing a
&gt; &gt; compat-blowfish cipher...
&gt; Which is the only sane way out of this mess, yes.
have fixed that in CVS

&gt; the IV in 32-bit chunks. For the same reason as for the ciphers
&gt; themselves, this does not work. Can this possibly be changed to a byte
&gt; pointer?
fixed as well...

I'll do some checks on the other ciphers, including idea, to see whether
they're broken on big-endian (suspect there are a few)

regards,
--=20
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020303010356</emailId><senderName>ycmyliz</senderName><senderEmail>dxliz@sky.net</senderEmail><timestampReceived>2002-03-03 01:03:56-0400</timestampReceived><subject>Just thinking about you. fen</subject><body>

&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Untitled Document&lt;/title&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"&gt;
&lt;/head&gt;

&lt;body bgcolor="#FFFFFF"&gt;
&lt;table width="50%" border="0"&gt;
  &lt;tr&gt;
    &lt;td&gt;If you thought sex was all over for you, take heart and read on! There's 
      every chance that very, very soon you'll actually be watching your penis 
      stand up and salute with all the vigor, zest, and lusty appetite of a fresh, 
      young recruit! The secret of success will be all yours - she need ever know 
      - and this is how it works... &lt;/td&gt;
  &lt;tr&gt;&lt;td&gt;
      &lt;p align="center"&gt;&lt;i&gt;&lt;b&gt;&lt;font face="Arial, Helvetica, sans-serif" size="2" \
                color="#808080"&gt;For 
        more information please send an email to &lt;a \
href="mailto:revolutionary_pills3@yahoo.com?subject=MORE%20INFO"&gt;revolutionary_pills@yahoo.com&lt;/a&gt; \
                
        with "&lt;a href="mailto:revolutionary_pills3@yahoo.com?subject=MORE%20INFO"&gt;MORE \
                
        INFO&lt;/a&gt;" being the only two words on the subject line. To remove, place 
        "&lt;a href="mailto:revolutionary_pills3@yahoo.com?subject=REMOVE"&gt;REMOVE&lt;/a&gt;" 
        being the only word on the subject line. &lt;/font&gt;&lt;/b&gt;&lt;/i&gt;&lt;/p&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
&lt;/body&gt;
&lt;/html&gt;

rrwxkryxmcyudmwsrpvqhj
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020305013529</emailId><senderName>Dan Hollis</senderName><senderEmail>goemon@anime.net</senderEmail><timestampReceived>2002-03-05 01:35:29-0400</timestampReceived><subject>RE: Crypted CDROMs</subject><body>

On Mon, 4 Mar 2002, IT3 Stuart Blake Tener, USNR-R wrote:
&gt; 	I am trying to find a public domain driver for Windows which
&gt; implements ext2 or ext3 under Windows. Then I would modify it to read
&gt; using the encryption / decryption techniques used by loop-aes. Any
&gt; ideas?

http://www.yipton.demon.co.uk/content.html#FSDEXT2

Its read-only but should be a start

-Dan
-- 
[-] Omae no subete no kichi wa ore no mono da. [-]

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020305085318</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-03-05 08:53:18-0400</timestampReceived><subject>Announce loop-AES-v1.5c file/swap crypto package</subject><body>

Changes since previous release:
- build-initrd.sh now works with devfs and can setup national keyboard
  layout before asking password.
- Added losetup -d and losetup -e to "make tests" between writing test file
  and reading test file. This is to prevent kernel from caching test data.
- Added RIPE-MD160 hash, and "-H rmd160", "-I 123" options to losetup, and
  "-o phash=rmd160,loinit=123" options to mount.
- loop.c-2.4.original updated with fixes from 2.4.19-pre2
- Added workaround for missing current-&gt;nice in recent -ac kernels.

bzip2 compressed tarball is here:

    http://loop-aes.sourceforge.net/loop-AES-v1.5c.tar.bz2
    md5sum 7c48b5f5c5426645f4e1975ef21fe5f8

PGP signature file, my public key, and fingerprint here:

    http://loop-aes.sourceforge.net/loop-AES-v1.5c.tar.bz2.sign
    http://loop-aes.sourceforge.net/PGP-public-key.asc
    1024/3A220F51 5B 4B F9 BB D3 3F 52 E9  DB 1D EB E3 24 0E A9 DD

Tarball containing extra ciphers for use with loop-AES package is also
available. This tarball contains source for serpent, twofish and blowfish
cipher modules. Read the README file in the tarball for more information.

bzip2 compressed tarball is here:

    http://loop-aes.sourceforge.net/ciphers-v1.0a.tar.bz2
    md5sum d1716a45d9abda34baf2ff0cbc54ed2a

PGP signature file here:

    http://loop-aes.sourceforge.net/ciphers-v1.0a.tar.bz2.sign

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020306083021</emailId><senderName>"IT3 Stuart Blake Tener, USNR-R"</senderName><senderEmail>stuart@bh90210.net</senderEmail><timestampReceived>2002-03-06 08:30:21-0400</timestampReceived><subject>RE: journaling file systems / Crypto in Linux</subject><body>

Mr. Clift:

	There are definitely some countries that are willing and able to
block the distribution of a Linux kernel so encapsulating encryption
technologies within its core architecture (even the US has done this at
times). It is however my personal understanding of the existing
legislative climate (in the US at least) that a Linux kernel inclusive
of an encryption API, and separate module loadable algorithms (not
distributed with the kernel) is ripe in the instant moment, and may well
not be an option in the future if legislation (under consideration
currently by the US congress, and I am sure other legislative bodies in
other political states) is enacted.

	Thus, the inclusion by Linus of at minimum an encryption API
able to support encryption algorithms loaded via a module architecture
is the most attractive adoption of encryption by the Linux kernel in
order to not give impetus to political states to subvert and retard the
distribution of Linux throughout the world.

	Having such an API inclusive to the kernel, general enough to
allow it to implement encryption algorithms of a very broad spectrum
would resolve an issue long hanging over the Linux kernel. At some point
the maintainers with control over what goes in the kernel (Linus, Alan
Cox, etc.) must accept the idea that if Linux is absent such technology
its use and acceptance by users will be retarded absent the assistance
of disruptive legislative action by a political state. So which is
better? Prevent Linux from having an API within its source code, and
allow it to be distributed worldwide absent disruptive actions by
political states and cause those interested in Linux to choose not to
use it based on that fact, or have a Linux which has strong encryption
but cannot be freely distributed? Neither! So what do I propose?

	A very interesting hybrid!

	What ought to be done is for Linus (not Herbert, no offense
Herbert) to create a crypto version of the kernel. This version of the
kernel might be subject to restrictive licensing or importation /
exportation limits, however would not impact the ability of Linus and
friends to continue to distribute the non-crypto kernel, which would be
the same as the crypto version absent the crypto code.

	Further discussion (legal and technological) would have to be
employed to determine if this crypto kernel would be inclusive of the
actual algorithms or not, but that we can save for a latter debate, as
this would initially fix some problems with the acceptance of encryption
technologies (i.e. an API) as being a standard within the Linux
community.

	The virtual software constitution (i.e. the "GPL") espousing
political, intellectual, and legal freedom for Linux can be preserved
while still enabling the greater Linux community to experience both the
current non-crypto and perhaps future crypto-kernel versions.

	Thus, only by having an officially disseminated crypto and
non-crypto versions of the kernel can we assure ourselves that political
states will not choose to retard the overall distribution of the Linux
kernel to an extent able to totally prevent Linux from entering all
those political states it currently has the freedom to enter in a
non-crypto state.


Very Respectfully, 

Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG 
Beverly Hills, California
VTU 1904G (Volunteer Training Unit) 
stuart@bh90210.net 
west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA 90209-2043 
east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859 

Telecopier: (419)-715-6073 fax to email gateway via www.efax.com (it's
free!) 

JOIN THE US NAVY RESERVE, SERVE YOUR COUNTRY, AND BENEFIT FROM IT ALL. 

Wednesday, March 06, 2002 12:25 AM


-----Original Message-----
From: Justin [mailto:aa2@bigpond.net.au] 
Sent: Tuesday, March 05, 2002 10:19 PM
To: stuart@bh90210.net; 'Jari Ruusu'; 'Newsmail'
Cc: linux-crypto@nl.linux.org
Subject: Re: journaling file systems

Hi Stuart,

On Wednesday 06 March 2002 16:37, IT3 Stuart Blake Tener, USNR-R wrote:
&gt; Mr. Clift:
&gt;
&gt; 	Yes, I most affermatively agree with that position. However, I
&gt; was of the impression that legal barriers (not just in the US, but
other
&gt; countries as well) prevented such a scenario from being effective
&gt; without a realistic degradation in the ability to import / export the
&gt; Linus kernel to with such countries having such legal barriers with
&gt; regard to import / export controls
&gt; in place.

I was aware that some countries would have a problem with the kernel
code 
having the full cryptographic code in it.

Does anyone know of a definitive list of countries where it truly
wouldn't be 
acceptable these days?

&gt; 	Now if you are saying that instead of having the actual
&gt; cryptographic code in the kernel, but merely calls to advantage
onesself
&gt; of whatever they had loaded into memory in the way of crytographic
code
&gt; via a loadable module then this is indeed a superior methodology and I
&gt; would support its implementation most immediately, though I am
&gt; unfamiliar with the legal aspects of such a scenario or why Linus has
&gt; not contemplated such a scenario in the past.

I wasn't suggesting merely having hooks.  Although there are arguments
for 
and against this, I think everyone most everyone agree's the best
solution 
possible would be to have the cryptoAPi softteare completely implemented
and 
available in the kernel.  As has also been mentioned many times, this
would 
not be acceptable in some countries.

Given this wasn't a barrier, I wonder what would stop CryptoAPI from
being 
included as part of the normal kernel?

Regards and best wishes,

Justin Clift

&gt; Very Respectfully,
&gt;
&gt; Stuart Blake Tener, IT3 (E-4), USNR-R, N3GWG
&gt; Beverly Hills, California
&gt; VTU 1904G (Volunteer Training Unit)
&gt; stuart@bh90210.net
&gt; west coast: (310)-358-0202 P.O. Box 16043, Beverly Hills, CA
90209-2043
&gt; east coast: (215)-338-6005 P.O. Box 45859, Philadelphia, PA 19149-5859

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020307182611</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-03-07 18:26:11-0400</timestampReceived><subject>Re: loop-aes vs stock loop</subject><body>

Marc Mutz wrote:
&gt; On Thursday 07 March 2002 11:06, Erno Kuusela wrote:
&gt; &gt; and CONFIG_BLK_DEV_LOOP=n.
&gt; 
&gt; This should probably read =m. I can't think of a reason why the stock
&gt; loop driver shouldn't be compiled, since you can always decide what
&gt; loop driver to load t modprobe time.

CONFIG_BLK_DEV_LOOP=n is the correct way as then there will be only one
loop.o module for each kernel version.

If kernel is configured with CONFIG_KMOD=y as recommended by README file,
there is no need to modprobe the loop.o module. Kernel will load that
automatically on demand.

&gt; &gt; so it's a no-no to have the stock loop driver is compiled as a module
&gt; &gt; (but unused)? why is this?
&gt; 
&gt; If this were correct, Jari's claim that loop-AES works with distributor
&gt; kernels wouldn't hold, since they all compile loop.o as module (they
&gt; compile _everything_ as modules ;-).

Loop-AES README says that you must recompile and install your kernel before
you attempt to compile loop-AES' loop.o module. README also tries to explain
why that is needed. There are many ways things can go wrong if that is not
done.

&gt; On Thursday 07 March 2002 14:02, Juan Quintela wrote:
&gt; &gt; This is if you are compiling loop-AES outside of the kernel, you need
&gt; &gt; loop module from loop-AES.
&gt; 
&gt; So what? You can overwrite the original loop.o without problems. It
&gt; sitll doesn't make sense to me why  CONFIG_BLK_DEV_LOOP=n should be a
&gt; requirement... (!y, obviously, but =m should be OK).

Reason why CONFIG_BLK_DEV_LOOP=m is bad, is that if user does "make modules
&amp;&amp; make modules_install" on kernel source tree, kernel Makefile will happily
copy its loop.o to /lib/modules/WHATEVER tree. And then you have _two_
loop.o modules sitting there. Fortunately depmod/modprobe utilities are
smart enough not to puke if that happens.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020308183654</emailId><senderName>Henry Spencer</senderName><senderEmail>henry@spsystems.net</senderEmail><timestampReceived>2002-03-08 18:36:54-0400</timestampReceived><subject>Re: difference between jari's and hvr's package</subject><body>

On Fri, 8 Mar 2002, Jari Ruusu wrote:
&gt; It works fine on AMD Athlons. Actually, based on data that I have, you get a
&gt; bigger speed boost on AMD chips than on Intel chips.

Interesting...  Sounds like the Athlon isn't as architecturally different
from the Intel chips as previous AMD processors were.  (See my previous 
mail.)

                                                          Henry Spencer
                                                       henry@spsystems.net

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020309182357</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-03-09 18:23:57-0400</timestampReceived><subject>Re: loop-AES cryptoloop interop</subject><body>

"Hannes R. Boehm" wrote:
&gt; Why can't I read cryptoloop devices with loop-AES (and the other way round)
[snip]
&gt; I can neither read cryptoloop devices with loop-AES nor loop-AES devices with cryptoapi.
&gt; Both use AES256 encryption with the same plaintext password. If I am right, they
&gt; use both the same plaintext to key funciton and both use 512 byte blocksize.

When you are using loop-AES, and specify "-H rmd160" option to losetup, or
"-o phash=rmd160" option to mount, losetup and mount programs use RIPE-MD160
to hash your password, and as such is 100% compatible with cryptoapi
512-byte-IV versions.

&gt; Can I decrypt loop-XY with any other AES implementation like this ?
&gt; cat /dev/hdc99 | ase-generic -d &gt; file

At least this will create unencrypted version of your filesystem.

    losetup -e AES256 /dev/loop0 /dev/hdc99
    dd if=/dev/loop0 of=file bs=64k
    losetup -d /dev/loop0

&gt; is there another way to decrypt without the use of neither loop-AES/cryptoloop
&gt; (only using the function to extract the key from the plaintext)

Yes. 50 lines of C code linked with AES and hash-function libraries should
do be able to do it.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020309182611</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-03-09 18:26:11-0400</timestampReceived><subject>Re: twofish and serpent in loop-AES: pentium optimized as well?</subject><body>

Newsmail wrote:
&gt; What about the twofish implementation in loop-AES? does it have a nice
&gt; assembler code just like the AES cipher? and is it pentium optimized? if
&gt; not is there any chance we could get a pentium optimized one?

Write optimized assembler version and license it under GPL.
That should do it.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020311023321</emailId><senderName>m96</senderName><senderEmail>m96@gmx.li</senderEmail><timestampReceived>2002-03-11 02:33:21-0400</timestampReceived><subject>kerneli patch and aes over loopback</subject><body>

hi,

i have a few questions and hope someone can help me to find the
answers...

i'm using the kerneli patch for 2.4.18 and the loopback patch from hvr.
both (crypto and loopback) built-in into the kernel (i386). i didn't
need to recompile losetup and mount because the system defaults of them
worked like a charm (at least i guess so). i'm using latest debian sid.


1) is there is a way to specify the aes encryption with whatever key
length over the command line? like:

losetup -e aes128 /dev/loop0 crypto

because this gives the error:

The cipher does not exist, or a cipher module needs to be loaded into
the kernel
ioctl: LOOP_SET_STATUS: Invalid argument

but my /proc/crypto/cipher/ shows:

-r--r--r--    1 root     root            0 Mar 11 03:28 aes-cbc
-r--r--r--    1 root     root            0 Mar 11 03:28 aes-ecb


if i only give the following line losetup asks me which key length i
want to use:

losetup -e aes /dev/loop0 crypto 
Available keysizes (bits): 128 192 256 
Keysize:

this way i can't use the '-p' option of losetup to get the passwd over
file descriptor. and that's bad.....


2) is there a way to find out if the given passwd is correct or not
before trying to mount the fs and notice that mounting fails because of
bad passwd? something like....

mount: wrong fs type, bad option, bad superblock on /dev/loop0,
       or too many mounted file systems


3) is there a way to change the passwd? because for example if the user
has the same passwd as the login passwd and now someone find out the
passwd. what now???? is the only solution for this creating a new crypto
file and copying all it's content from one to an other?



thanks a lot in advance,
best regards,
alias m96.


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020311042925</emailId><senderName></senderName><senderEmail>beldridg</senderEmail><timestampReceived>2002-03-11 04:29:25-0400</timestampReceived><subject>Re: Deleting/overwriting data</subject><body>

On 11 Mar 2002, m96 wrote:

&gt; have you tried 'wipe'. for deleting just a few files i guess it's the
&gt; best.

i prefer sterilize by colin plumb. it is very good. or, if you have pgp
2.6.x, you can use pgp -w. not as good, but works in a pinch.

- brett

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020311193907</emailId><senderName>"Hannes R. Boehm"</senderName><senderEmail>hannes@boehm.org</senderEmail><timestampReceived>2002-03-11 19:39:07-0400</timestampReceived><subject>Some ideas about crypto loop password management</subject><body>


Hi,

what do you think about this:

If I started my cryptoloop with an offset of 512 byte, I'd have enough space to 
store the key to the fs in encrypted form on the harddisk. This part is encrypted
with a password.

If I used a predefined structure in this first 512, I would be able to detect, wether the password
was correct or not. Since this block is independend of the rest of the harddisk, it would be possible
to change the password without changing the fs-key.

Is it a risk to store a predefined structure in this 512 bytes (i dont think so, since the
beginning of an ext2 fs is also quite well known.

Is there something to keep in mind when using an offset with cryptoloop ?


Hannes


-- 

--
Hannes R. Boehm
email:  hannes@boehm.org 
web  :  http://hannes.boehm.org

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020312224241</emailId><senderName>Dale Amon</senderName><senderEmail>amon@vnl.com</senderEmail><timestampReceived>2002-03-12 22:42:41-0400</timestampReceived><subject>Re: Some ideas about crypto loop password</subject><body>

On Tue, Mar 12, 2002 at 02:08:46PM -0800, Greg Larson wrote:
&gt;   - get the encrypted session key and type of 
&gt;     encryption (CAST5-128 or Twofish-256) out of
&gt;     the .pgd file.

How do you mount root during boot? 

-- 
------------------------------------------------------
    Nuke bin Laden:           Dale Amon, CEO/MD
  improve the global          Islandone Society
     gene pool.               www.islandone.org
------------------------------------------------------
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020314023804</emailId><senderName>Paul Norris</senderName><senderEmail>pauln@physics.ucf.edu</senderEmail><timestampReceived>2002-03-14 02:38:04-0400</timestampReceived><subject>Re: loop-AES and XFS corruption</subject><body>

I have used loop-AES on my laptop for over 6 months with no problems.
While you can't exactly call a 4200 rpm HDD high I/O, it's just another
users experience.  I have used it with kernel 2.4.14-18 now and have never
had problem one.

-----------------------------------------
Paul Norris
IS Technician Cunningham Research
Student University of Central Florida
pauln@physics.ucf.edu

On Tue, 12 Mar 2002, Tim Renner wrote:

&gt; I am also having corruption problems...  I'm using the 2.4.14 kernel
&gt; with the xfs patch on a single processor machine...  It only happens
&gt; when I've subjected the filesystem to fairly high IO...  Here's what I'm
&gt; getting in /var/log/messages:
&gt; 
&gt; Mar 12 13:59:06 renner_linux kernel: xfs_force_shutdown(loop(7,0),0x8)
&gt; called from line 1020 of file xfs_trans.c.  Return address = 0xc01a1073
&gt; Mar 12 13:59:06 renner_linux kernel: Corruption of in-memory data
&gt; detected.  Shutting down filesystem: loop(7,0)
&gt; Mar 12 13:59:06 renner_linux kernel: Please umount the filesystem, and
&gt; rectify the problem(s)
&gt; 
&gt; 
&gt; And, what the xfs faq has to say about it...
&gt; 
&gt; http://oss.sgi.com/projects/xfs/faq.html#forceshutdown
&gt; 
&gt; Herbert, Are you getting this same error?  Is anyone else?
&gt; 
&gt; -Tim
&gt; 
&gt; 
&gt; Herbert Valerio Riedel wrote:
&gt; &gt; ps: ...are you aware of any data corruption problems with loop-AES in
&gt; &gt; combination with XFS on SMP boxes under high IO load? if I get the time,
&gt; &gt; I can try to recreate the issue with 2.4.18; it was present w/ 2.4.16
&gt; &gt; the last time I checked, and it affected both, loop-AES and patch-int...
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
&gt; 
&gt; 

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020316121220</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-03-16 12:12:20-0400</timestampReceived><subject>Re: 2.4.19pre3aa2</subject><body>

Herbert Valerio Riedel wrote:
&gt; On Fri, 2002-03-15 at 18:36, Jari Ruusu wrote:
&gt; &gt; Not changing IV parameter type in 2.4 kernels is important. Break that in
&gt; &gt; 2.5/2.6 kernels, but not in stable 2.4, ok?
&gt; 
&gt; if you look closely at the typedef above, you'll notice that it doesn't
&gt; introduce a _new_ type, but only a synonym for the 'int' type, which
&gt; happens to be the type used in 2.4 kernels...

A synonym that does not exist on older kernels.

&gt; typedef int (* transfer_proc_t)(struct loop_device *, int cmd,
&gt;                                 char *raw_buf, char *loop_buf, int size,
&gt;                                 int real_block);
                                  ^^^
That function prototype _must_ _not_ change in 2.4 kernels. That 'int'
better be there on newer 2.4 kernels.

&gt; &gt; Older 2.4 kernels dont't have
&gt; &gt; loop_iv_t, and being able to compile _existing_ modules for them is
&gt; &gt; important.
&gt; as older kernels will likely have the variable-IV-metric, they'll have
&gt; to be patched anyway (loop.[ch]), and after having patched them, the
&gt; problem vanishes...

If you haven't noticed, loop-AES compiles and works fine on older kernels
without changing anything in kernel sources.

&gt; &gt; So the choice here is either break (or at least cause need to modify) all
&gt; &gt; other implementations or cryptoapi implementation.
&gt; actually it's just -- either make my life harder w/ cryptoapi or not, as
&gt; it doesn't affect other implementations;

Transfer function prototype change does affect other implementations. I
would have to add workaround to compile loop-AES on older kernels. If
cryptoapi got one parameter wrong, I don't see why other implementations
should bend over because of that.

Herbert, if you need some special types and/or macros in cryptoapi, just
define them in cryptoapi include files. Please don't mess with code that
other implementations depend on.

&gt; &gt; Herbert, if this loop_iv_t type goes into mainline kernel, I will have to
&gt; &gt; reverse that on loop-AES patches for backward compatibility.
&gt; I don't see why... loop_iv_t is just a 'reviced-declarator-type-list
&gt; int', i.e. it is is type compatible w/ an 'int'... so you won't even
&gt; notice the difference when compiling loop-AES against it...

What I do notice is having to add workaround. See, loop-AES only creates
patched-loop.c (but not patched-loop.h), and under some circumstances
patched-loop.c may come from newer code than loop.h. So it needs a
workaround if transfer function prototype is changed.

&gt; &gt; Dependency on above mentioned #define's/typedef on kernel include files is
&gt; &gt; silly, as cryptoapi can define them on any of its own include files.
&gt; yeah, sure... at the expense of having to redundantly keep track (ugly
&gt; #ifdef's) of which kernel version is being used...

If IV parameter type is changed from 32 bits to 64 bits, you will need new
code and #ifdef's to handle that anyway. And that is 2.5/2.6 thing anyway.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020318020948</emailId><senderName>Justin</senderName><senderEmail>aa2@bigpond.net.au</senderEmail><timestampReceived>2002-03-18 02:09:48-0400</timestampReceived><subject>Re: journaling file systems</subject><body>

Hi Olaf,

On Monday 11 March 2002 08:30, Olaf Titz wrote:
&gt; http://java.sun.com/products/jce/jce121_faq.html#FewerRestrictions&gt;

One interesting paragraph mentioned in the URL you gave is:

***

JCE 1.2.1 also includes an ability to enforce restrictions regarding the 
cryptographic algorithms and maximum cryptographic strengths available to 
applets/applications in different jurisdiction contexts (locations). The 
cryptographic restrictions are specified in "jurisdiction policy files" that 
are downloaded with JCE 1.2.1. Since the US government has relaxed export 
restrictions on cryptographic strengths, the JCE 1.2.1 software from Sun 
Microsystems now has a single distribution for both domestic and global 
users. The bundled jurisdiction policy files contain no restrictions on 
cryptographic strengths. This is appropriate for most countries. Other 
framework vendors could create download bundles that include jurisdiction 
policy files that specify cryptographic restrictions appropriate for 
countries whose governments mandate restrictions. Users in those countries 
could download an appropriate bundle, and the JCE framework will enforce the 
specified restrictions. 

***

I wonder if having a similar method be usable for the linux kernel?  After 
all, we already have systems in place for stuff like timezones, etc, which is 
country dependant.  Why not encryption strengths based upon "jurisdiction 
policy files"?

It might help to read the quoted paragraph after replacing "JCE 1.2.1" with 
"linux kernel".  :-)

Regards and best wishes,

Justin Clift
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020318225434</emailId><senderName>       KANDA Mitsuru / =?ISO-2022-JP?B?GyRCP0BFRBsoQiAbJEI9PBsoQg==?=</senderName><senderEmail></senderEmail><timestampReceived>2002-03-18 22:54:34-0400</timestampReceived><subject>Makefile/Config.in bug(?) report</subject><body>


Hello, 

I'am using 2.4.18 + cryptoapi.

When I configuired  'CONFIG_CIPHERS=y' and 
cipher algorithms 'm' (e.g. CONFIG_CIPHER_AES=m), 
no cipher algorithm modules are built by 'make modules'.
(It maybe occur the same problem in digest.)

I think crypto/Makefile caused this problem, 
but I can't find good solution.

#sorry for reporting only.

-mk



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020327204028</emailId><senderName>Jim MacBaine</senderName><senderEmail>jmacbaine@yahoo.de</senderEmail><timestampReceived>2002-03-27 20:40:28-0400</timestampReceived><subject>[loop-aes] how to encrypt a block device</subject><body>

Hi,

I came to the idea to encrypt my /home dir, 
which is on a separate filesystem. I already 
had a data dir encrypted with loop-aes and
expirienced no problems with it. The procedure
of copying the whole /home structure to some
backup place, setting up the encrypted fs, and 
copying it back didn't osunt very pleasent to 
me.

I thought, why not encrypt a block device by 
block. Why not create a loop device on top of
my file system and copy block by block from 
the real device onto the loop device. 

I tried this with a floppy and the result 
seems very strange to me. I can mount the 
resulting loop device, but the files are missing

Can anyone of you please explain what happens 
here? I have attached the exact procedure.


Regards, 
Jim






__________________________________________________________________

Gesendet von Yahoo! Mail - http://mail.yahoo.de
Ihre E-Mail noch individueller? - http://domains.yahoo.de
["losetup" (application/octet-stream)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020331145119</emailId><senderName>Dale Amon</senderName><senderEmail>amon@vnl.com</senderEmail><timestampReceived>2002-03-31 14:51:19-0400</timestampReceived><subject>Questions on boot time crypto-swap for Debian</subject><body>

I'm trying to work out how to cleanly integrate a
cryptoswap option into the normal rcS.d scripts, but
seem to be stuck in a catch-22.

I have to set up the swap partition before the first
swapon -a; this occurs in S10checkroot.sh.

Since a system might be running devfs, I also have
the constraint of doing it after S01devfsd; so all
would seem okay... except that I need /dev/urandom,
and it is not available until S55urandom because it
writes files in /var/lib.

The root fs is not writeable until after S10checkroot.sh,
so I can't change the sequence.

Does anyone see a way out of this quandary?

-- 
------------------------------------------------------
    Nuke bin Laden:           Dale Amon, CEO/MD
  improve the global          Islandone Society
     gene pool.               www.islandone.org
------------------------------------------------------
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020331161805</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-03-31 16:18:05-0400</timestampReceived><subject>Re: Questions on boot time crypto-swap for Debian</subject><body>

Dale Amon wrote:
&gt; I'm trying to work out how to cleanly integrate a
&gt; cryptoswap option into the normal rcS.d scripts, but
&gt; seem to be stuck in a catch-22.
&gt; 
&gt; I have to set up the swap partition before the first
&gt; swapon -a; this occurs in S10checkroot.sh.
&gt; 
&gt; Since a system might be running devfs, I also have
&gt; the constraint of doing it after S01devfsd; so all
&gt; would seem okay... except that I need /dev/urandom,
&gt; and it is not available until S55urandom because it
&gt; writes files in /var/lib.
&gt; 
&gt; The root fs is not writeable until after S10checkroot.sh,
&gt; so I can't change the sequence.
&gt; 
&gt; Does anyone see a way out of this quandary?

Mount swap partitions after /dev/urandom is initialized (see loop-AES'
README file) or encrypt root partition and you can set up swap partitions
with fixed keys that will be protected by root partition encryption.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020331163341</emailId><senderName>Marc Mutz</senderName><senderEmail>marc@mutz.com</senderEmail><timestampReceived>2002-03-31 16:33:41-0400</timestampReceived><subject>Re: Questions on boot time crypto-swap for Debian</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Sunday 31 March 2002 16:51, Dale Amon wrote:
&gt; I'm trying to work out how to cleanly integrate a
&gt; cryptoswap option into the normal rcS.d scripts, but
&gt; seem to be stuck in a catch-22.
&gt;
&gt; I have to set up the swap partition before the first
&gt; swapon -a; this occurs in S10checkroot.sh.
&gt;
&gt; Since a system might be running devfs, I also have
&gt; the constraint of doing it after S01devfsd; so all
&gt; would seem okay... except that I need /dev/urandom,
&gt; and it is not available until S55urandom because it
&gt; writes files in /var/lib.

is the urandom script the one that restores the entropy pool? If so, why does 
it come so late? This should only require reading a file and cat'ing it to 
/dev/random.

&gt; The root fs is not writeable until after S10checkroot.sh,
&gt; so I can't change the sequence.
&gt;
&gt; Does anyone see a way out of this quandary?

What's wrong with adding a S56encrypted-swap with essentially
swapoff -a
&lt;for each swap device&gt;
  &lt;set up&gt;
  &lt;mkswap&gt;
&lt;done&gt;
swapon -a

Marc

- -- 
Marc Mutz &lt;mutz@kde.org&gt;
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE8pzpl3oWD+L2/6DgRAj7hAJ9hdQDIqf/nlCbswgtQrvUF7mmqbgCfR8xn
72RrWxy5hgUzV5piOzA/15U=
=Bi0u
-----END PGP SIGNATURE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020331165602</emailId><senderName>Dale Amon</senderName><senderEmail>amon@vnl.com</senderEmail><timestampReceived>2002-03-31 16:56:02-0400</timestampReceived><subject>Re: Questions on boot time crypto-swap for Debian</subject><body>

On Sun, Mar 31, 2002 at 06:33:41PM +0200, Marc Mutz wrote:
&gt; is the urandom script the one that restores the entropy pool? If so, why does 
&gt; it come so late? This should only require reading a file and cat'ing it to 
&gt; /dev/random.

It is, and I don't know, but that's the way the dist is set up
and not under my control.
 
&gt; &gt; The root fs is not writeable until after S10checkroot.sh,
&gt; &gt; so I can't change the sequence.
&gt; &gt;
&gt; &gt; Does anyone see a way out of this quandary?
 
&gt; What's wrong with adding a S56encrypted-swap with essentially
&gt; swapoff -a
&gt; &lt;for each swap device&gt;
&gt;   &lt;set up&gt;
&gt;   &lt;mkswap&gt;
&gt; &lt;done&gt;
&gt; swapon -a

I'm trying to figure out how to do it "right", ie something that
will work with standard debian. I have an entry /dev/swap0 in
/etc/fstab that I soft link to either /dev/loop6 is the kernel
which is booting has loop back; or to the actual device partition
otherwise. That handles the problem switching kernels. If I
do it after checkroot, the swap has been activated. I'm trying
to slip in and make the debian boot sequence just transparently
use crypto swap if it is available.

Admittedly, this is sort of a question that needs a debian
developer's assistance.


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020328121726</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-03-28 12:17:26-0400</timestampReceived><subject>Re: [loop-aes] how to encrypt a block device</subject><body>

Jim MacBaine wrote:
&gt; I came to the idea to encrypt my /home dir,
&gt; which is on a separate filesystem. I already
&gt; had a data dir encrypted with loop-aes and
&gt; expirienced no problems with it. The procedure
&gt; of copying the whole /home structure to some
&gt; backup place, setting up the encrypted fs, and
&gt; copying it back didn't osunt very pleasent to
&gt; me.
&gt; 
&gt; I thought, why not encrypt a block device by
&gt; block. Why not create a loop device on top of
&gt; my file system and copy block by block from
&gt; the real device onto the loop device.
&gt; 
&gt; I tried this with a floppy and the result
&gt; seems very strange to me. I can mount the
&gt; resulting loop device, but the files are missing
&gt; 
&gt; Can anyone of you please explain what happens
&gt; here? I have attached the exact procedure.

You should do "sync" before trying to mount the block device if you directly
wrote to same block device. It's a cache coherency issue on 2.4 kernels if I
remember correctly.

Also, use "bs=4096" or larger for better performance.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020319164602</emailId><senderName>David Frascone</senderName><senderEmail>dave@frascone.com</senderEmail><timestampReceived>2002-03-19 16:46:02-0400</timestampReceived><subject>Re: Strange execute problem</subject><body>


Ok . . . it was that.  (Well, that and an ordering issue.  user 
implied noexec, so I had to add exec *after* the user flag.

Thanks a bunch!

-Dave

On Tuesday, 19 Mar 2002,  wrote:
&gt; David Frascone writes:
&gt; 
&gt; &gt; /home/chaos/.encrypted_work.dsk /home/chaos/work ext2   \
&gt; &gt; user,loop,noauto,encryption=blowfish,keybits=256 0 0
&gt; 
&gt; Add "exec" to the list of mount options. Or add "defaults", which is
&gt; synonymous to "rw,suid,dev,exec,auto,nouser,async". You can still
&gt; overwrite any of those options in the remaining option string. Refer
&gt; to the man page of mount(8) for further detail.
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
&gt; 

-- 
David Frascone

     Don't hate yourself in the morning - sleep till noon.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020319164659</emailId><senderName>David Frascone</senderName><senderEmail>dave@frascone.com</senderEmail><timestampReceived>2002-03-19 16:46:59-0400</timestampReceived><subject>Re: list / header problems ?</subject><body>

I'm having the same problems, and there's nothing wrong with my headers.

On Tuesday, 19 Mar 2002,  wrote:
&gt; Hi,
&gt; 
&gt; Is anyone experiencing problems with the headers of messages to/from this
&gt; list ?
&gt; I'm subscribed to about 60 mailinglists, all handled in the same way by my
&gt; local MTA/MDA/MUA, but the From/To/CC/Date headers seem garbled.
&gt; These are the kind of errors i'm getting (mind the wrapping):
&gt; 
&gt; X-Mail-Format-Warning: Bad RFC822 header formatting in Date:	Sat, 16 Mar
&gt; 2002 14:12:20 +0200
&gt; X-Mail-Format-Warning: Bad RFC822 header formatting in From:	name witheld
&gt; &lt;email address witheld&gt;
&gt; X-Mail-Format-Warning: Bad RFC822 header formatting in To:	name witheld
&gt; &lt;email address witheld&gt;
&gt; X-Mail-Format-Warning: Bad RFC822 header formatting in CC:	name witheld
&gt; &lt;email address witheld&gt;
&gt; 

-- 
David Frascone

   Woman's mind is cleaner than man's; it changes more often
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020322081527</emailId><senderName>Michel Bouissou</senderName><senderEmail>michel@bouissou.net</senderEmail><timestampReceived>2002-03-22 08:15:27-0400</timestampReceived><subject>[Announce] Helper script for creating loop-aes ou cryptoapi containers</subject><body>

Hello,

I've written a little shell-script that greatly facilitates creation of 
containers hosting a filesystem encrypted with loop-aes or cryptoapi/kerneli.

This script can be downloaded from:
https://www.bouissou.net/wws/d_read/open-crypto/linux-crypto/mkcryptfs.gz

For using it, you of course need to have loop-aes or cryptoapi/kerneli 
already installed on your system.

Installation:

- Copy mkcryptfs.gz in a directory of your choice, i.e. /usr/local/bin

- Décompress:
root# gunzip mkcryptfs.gz

- Set correct owner and rights:
root# chown root: mkcryptfs
root# chmod 755 mkcryptfs

- Before executing the script, you need to edit it for checking a couple of 
parameters depending upon your system config, i.e. choose whether to use 
loop-aes or cryptoapi/kerneli.

Then, just run:

mkcryptfs help


I'd be very interested in your comments and suggestions.

Regards.

-- 
Michel Bouissou &lt;michel@bouissou.net&gt; OpenPGP ID 0x5C2BEE8F
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020322082319</emailId><senderName></senderName><senderEmail>sender</senderEmail><timestampReceived>2002-03-22 08:23:19-0400</timestampReceived><subject>Playboy Model Live!!!!!!!!!</subject><body>

This is a multi-part message in MIME format
[Attachment #2 (text/html)]

100% FREE LIFE TIME MEMBERSHIP
                         FOR 
LIVE SEX and LIVE CHAT!
* FREE LIFE TIME MEMBERSHIP
* 72,000 Live XXX Cam's
* 1000's Hidden Webcams
* High Quality Webcams
* Much, Much More All 100% FREE!
   
Click Here For FREE Instant Access!
                  OR
http://www.sabrinasummers.net  
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020322191047</emailId><senderName>Greg Larson</senderName><senderEmail>list001@glarson.org</senderEmail><timestampReceived>2002-03-22 19:10:47-0400</timestampReceived><subject>Crypto fs in mandrake 8.2 dist</subject><body>

Has anyone looked at the crypto filesystem support in
the new Mandrake dist. How does it relate to the
different versions being discussed here?

--- Mandrake Team &lt;return@mandrakesoft.com&gt; wrote:
&gt; FLASH: Mandrake Linux 8.2 is ready!
&gt; 

[...]

&gt; Just some of the new features of Mandrake Linux 8.2
&gt; include:
&gt; 
&gt; * Updated graphical installer with improved rescue
&gt; mode, encrypted filesystem, security updates

[...]


=====


__________________________________________________
Do You Yahoo!?
Yahoo! Movies - coverage of the 74th Academy Awards®
http://movies.yahoo.com/
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200203241459170</emailId><senderName>"Dr. Michael Rietz"</senderName><senderEmail>rietz@mail.amps.de</senderEmail><timestampReceived>2002-03-24 14:59:17-0400</timestampReceived><subject>Problems with cryptoapi and 2.4.17</subject><body>

Hi everybody,

I'm using the cryptoapi since more than a year (2.4.4)....  Now I tried to move
to newer kernel (2.4.17) and I'm not able to setup a loop device with
the new kernel..... 

I patched the 2.4.17 kernel with patch-int-2.4.17.0.gz,
                                 loop-jari-2.4.16.0.patch
 and everything compiled fine... 

I build the util-linux-2.11n with the new patches 
 and everything compiled fine....

then I loaded all modules cryptoapi,cipers, digest,
etc....  and tried:

# dd if=/dev/urandom of=file bs=1024k count=100
# losetup -e twofish /dev/loop0 file 
Available keysizes (bits): 128 192 256 
# Keysize: 256
# Password :
# Password :
The cipher does not exist, or a cipher module needs to be loaded into the kernel
ioctl: LOOP_SET_STATUS: Invalid argument

and thats it.... with every cipher.


Is there anybody out there who can help me ????
Any comment is welcome.

so long


-- 
Michael Rietz                                  e-mail: rietz@su3.de
                                                       MR1574-RIPE
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020326133839</emailId><senderName>Dragos Ruiu</senderName><senderEmail>dr@kyx.net</senderEmail><timestampReceived>2002-03-26 13:38:39-0400</timestampReceived><subject>CanSecWest/core02 reminder</subject><body>

Hello to those of you I haven't talked in a while, and last
two years conference attendees. (Sorry if you get two copies of
this, it means you've either got two ids in my addressbook or
my perl hash script-foo is not leet enough. :-)
 
This is a quick note to remind you that the deadline for reduced fares
for travel to Vancouver for  the CanSecWest/core02 conference in
Vancouver is coming up so if you haven't booked your ticket, or
taken advantage of the lower registration rates this month....

Also agenda details and a schedule will be posted shortly at
http://www.cansecwest.com
 

cheers,
--dr

-- 
--dr                    http://dragos.com/dr-dursec.asc
       CanSecWest/core02 - May 1-3 2002 - Vancouver B.C. - http://cansecwest.com


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020327114747</emailId><senderName>Michel Bouissou</senderName><senderEmail>michel@bouissou.net</senderEmail><timestampReceived>2002-03-27 11:47:47-0400</timestampReceived><subject>[Announce] New version of mkcryptfs script</subject><body>

Hello,

A new version (0.5.3) of the mkcryptfs script, an helper script for creating 
encrypted containers with loop-aes, cryptoapi or kerneli, is available at:

https://www.bouissou.net/wws/d_read/open-crypto/linux-crypto/mkcryptfs/

Now exists in 2 flavours:

- Preconfigured RPM for Mandrake 8.2: mkcryptfs-0.5.3-2mdk.noarch.rpm

- Generic tar.gz: mkcryptfs-0.5.3.tar.gz

Best regards.

-- 
Michel Bouissou &lt;michel@bouissou.net&gt; OpenPGP ID 0x5C2BEE8F
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020327192506</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-03-27 19:25:06-0400</timestampReceived><subject>Re: Loop-AES keep freezing</subject><body>

Tim Renner wrote:
&gt; I've tried having swap on, or swap off, and two kernels, 2.4.3 and
&gt; 2.4.14 with loop-AES version 1.5b
&gt; 
&gt; It seems to happen when I have a high I/O load involving an encrypted,
&gt; loop-mounted file...
&gt; 
&gt; Can anyone shed some light on this problem?

Avoid file backed loops on 2.4 kernels. Only device backed (partition
backed) loops have all the bugs fixed so that deadlocks are avoided. File
backed loop deadlocks are not loop-AES specific, just kernel 2.4/2.5
specific.

Maybe you should try a more recent kernel as well... my simple testing
showed that _all_ 2.4 kernels prior to 2.4.17 were unstable under load.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020328114539</emailId><senderName>""</senderName><senderEmail>monicar@usa.net</senderEmail><timestampReceived>2002-03-28 11:45:39-0400</timestampReceived><subject>Helloo</subject><body>

Find out what your children, lovers, employees are doing on the Internet

Make sure they are being safe on the Internet with Privacy-Control Software.
Privacy-Control will hide on your computer and secretly record all instant messages, \
chat, email, web sites and more! Once you install it, it becomes  completely \
invisible. Then, after the computer is used, you just enter the password, and you can \
see everything that happened!

With Privacy-Control you can record:
AOL Instant Messenger
MSN Messenger
All web sites visited
All keystrokes typed
Web based email
Compuserve
AOL mail, version 5, 6 and 7

Privacy-Control will NOT show up anywhere in the START menu, there will be no icons \
for it, and it won't even show up in the CTRL-ALT-DELETE  menu. Only you can access \
it with a password.

Why wonder what is going on...? Have peace of mind for only $19.95. You can order \
securely and pay no shipping since it is a direct download! Click Here to order \
http://www.privacy-control.com/order.html

If you want to know more please visit us  http://www.privacy-control.com




To be opt out please email optout@systems-mail.com 


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020328151221</emailId><senderName>Jim MacBaine</senderName><senderEmail>jmacbaine@yahoo.de</senderEmail><timestampReceived>2002-03-28 15:12:21-0400</timestampReceived><subject>Re: [loop-aes] how to encrypt a block device</subject><body>

Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt; wrote:

&gt; You should do "sync" before trying to mount the
&gt; block device if you directly
&gt; wrote to same block device. It's a cache coherency
&gt; issue on 2.4 kernels if I
&gt; remember correctly.

I got no time to test now. Will do tomorrow and
report.
I thought umount would sync it?

Regards, 
Jim


__________________________________________________________________

Gesendet von Yahoo! Mail - http://mail.yahoo.de
Sie brauchen mehr Speicher für Ihre E-Mails? - http://premiummail.yahoo.de
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020331165853</emailId><senderName>Dale Amon</senderName><senderEmail>amon@vnl.com</senderEmail><timestampReceived>2002-03-31 16:58:53-0400</timestampReceived><subject>Re: Questions on boot time crypto-swap for Debian</subject><body>

On Sun, Mar 31, 2002 at 07:49:45PM +0300, Jari Ruusu wrote:
&gt; Dale Amon wrote:
&gt; &gt; On Sun, Mar 31, 2002 at 07:18:05PM +0300, Jari Ruusu wrote:
&gt; &gt; &gt; Mount swap partitions after /dev/urandom is initialized (see loop-AES'
&gt; &gt; &gt; README file) or encrypt root partition and you can set up swap partitions
&gt; &gt; &gt; with fixed keys that will be protected by root partition encryption.
&gt; &gt; 
&gt; &gt; But that's the problem, the debian boot does swapon -a at S10checkroot.sh
&gt; &gt; which is ages before it does S55urandom.
&gt; 
&gt; You didn't read the README file which says "make sure to disable your swap
&gt; partitions in your /etc/fstab". Swap is added _after_ /dev/uramdom is
&gt; initialized, not at S10checkroot.

I'm trying to do something different, a script that detects if loopback
is available and sets up device links appropriately. I'm not just 
trying to set up my machine. That's easy, done it already.

I'm trying to come up with a simple plug in for Debian boot scripts
that will work correctly whether you boot into a crypto kernel or
not. It's all figured except I've got the ordering problem as stated.

That's a different and harder task, one not covered by any existing
HOWTO.



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020331223808</emailId><senderName>Sean Neakums</senderName><senderEmail>sneakums@zork.net</senderEmail><timestampReceived>2002-03-31 22:38:08-0400</timestampReceived><subject>Re: EVMS and LOOP-AES</subject><body>

commence  IT3 Stuart Blake Tener, USNR-R quotation:

&gt; 	Well my thought was that if it is implemented on the EVMS level,
&gt; then all filesystems (inclusive of swap) would be enabled for encryption
&gt; by entering a keyword once upon boot up, and it would simply the process
&gt; of building the encryption. If it was part of EVMS, EVMS would handle
&gt; it, and then a user could just make filesystems at will and all would be
&gt; encrypted.
&gt;
&gt; 	There in lies a second issue. For me to use DEVFS and ReiserFS I
&gt; have a problem doing so with initrd being used (it is a bug I am trying
&gt; to work through). If I can move loop-aes into the EVMS layer, then I no
&gt; longer need initrd to have an encrypted root and/or swap. Thus, I can
&gt; now use aes level encryption with ReiserFS and DEVFS and it can work.

You will always need *some* unencrypted storage to boot from in order
to initialise enrypted storage.  If your whole system is stored on
encrypted partitions, how do you propose to load the kernel and the
program that reads your passphrases and feeds them to the encryption
layer?

You need the initrd, whether it is loaded from a partition on a hard
disk or some other medium.

-- 
 /////////////////  |                  | The spark of a pin
&lt;sneakums@zork.net&gt; |  (require 'gnu)  | dropping, falling feather-like.
 \\\\\\\\\\\\\\\\\  |                  | There is too much noise.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020202003027</emailId><senderName></senderName><senderEmail>mailerror</senderEmail><timestampReceived>2002-02-02 00:30:27-0400</timestampReceived><subject>RE: CryptoAPI problems</subject><body>


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

(Sorry for the last message, it doesn't wrap properly)

Hello,

Recently I started to experience a problem mounting encrypted loopback
filesystems, a problem very much like what Gabor Gludovatz has reported
on this list before. What happens is that mount gives me the following
error message when I run it on a loopback file:

EXT2-fs error (device loop(7,1)): ext2_check_descriptors: Block bitmap for group 16 \
                not in group (block 4162330020)!
EXT2-fs: group descriptors corrupted !
mount: wrong fs type, bad option, bad superblock on /dev/loop1,
       or too many mounted file systems

This happened with files that I had burned on cd/rw media - therefor I'm
pretty sure the content of the files hasn't changed between the time where
it did work and now. After burning them I copied them over to my harddrive
again and tried to loopback them to make sure everything was still there.
This worked fine. However, after I moved to a different machine I started
to experience the abovementioned problem.

I've experienced this with 3 different files now, so it seems like file
corruption wouldn't be the problem. All these files were created using the
2.2.20 kernel with patch-int-2.2.18.3 applied. My system runs Debian, and
when I moved to a different machine, instead of using Sid I started using
Woody. The difference between the two is that Sid uses util-linux-2.11n4
whereas Woody has util-linux-2.11n2 - this seems to be the only package the
would relate to the problem. The difference between these two versions of
util-linux seems to be purely packaging-related, though. On both systems,
I used the same kernel-image package (namely, the one I had compiled myself).

The one thing I'm rather anxious to know is, is there still a way to retrieve
the contents of these files? Will switching to 512byte IV calculations do me
any good after I have formatted the filesystem and put data on it?

thanks in advance!
- - mailerror

&gt; On Wed, 2001-12-05 at 14:07, Stephen.Thompson@bmwfin.com wrote:
&gt; &gt; I find that formatting it twice works.
&gt; 
&gt; the reason of which btw has to do with soft blocksize;
&gt; (which get's changed when you mount it the first time, and then stays
&gt; that way when re-mkfs'ing...)
&gt; 
&gt; I highly recommend to switch to 512byte IV calculation (which will
&gt; become the default for the int. patch) in order to avoid such
&gt; problems..
&gt; 
&gt; regards,
&gt; --
&gt; Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
&gt; Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
&gt; GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
&gt; 4142

- ----------------------------------------------------------
The following message is Hushmail Advertising, boo! hiss!
- ----------------------------------------------------------


Hush provide the worlds most secure, easy to use online applications - which solution \
is right for you? HushMail Secure Email http://www.hushmail.com/
HushDrive Secure Online Storage http://www.hushmail.com/hushdrive/
Hush Business - security for your Business http://www.hush.com/
Hush Enterprise - Secure Solutions for your Enterprise http://www.hush.com/

-----BEGIN PGP SIGNATURE-----
Version: Hush 2.1
Note: This signature can be verified at https://www.hushtools.com

wl4EARECAB4FAjxbMzgXHG1haWxlcnJvckBodXNobWFpbC5jb20ACgkQb539PwJB5JNK
IwCgpwpYftKINdJnySY4lFBPAzWea2wAn3JNxggQatr6+9KAxWHpQ+MdMJGo
=4VIo
-----END PGP SIGNATURE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020202025639</emailId><senderName>Dan Hollis</senderName><senderEmail>goemon@anime.net</senderEmail><timestampReceived>2002-02-02 02:56:39-0400</timestampReceived><subject>Re: Upgrading from 2.2.20 int'l crypto</subject><body>

On Sat, 2 Feb 2002, Ryan M. McConahy wrote:
&gt; Hi! I use the international crypto patch on 2.2.20, with relative block
&gt; numbers enabled. The crypto was done through losetup, not mount. (I think
&gt; it's cleaner, because then you can access it raw for debug, defrag, etc).
&gt; Can I just grab 2.4.17 and the crypto patch (and the loop patch) and
&gt; it'll work? Do I need a new util-linux? And what does the loop patch
&gt; do?

2.4.x crypto is not backwards compatible with 2.2.x crypto.

At least it didn't work for me :-(

-Dan
-- 
[-] Omae no subete no kichi wa ore no mono da. [-]

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020204234100</emailId><senderName>Mark Charsley</senderName><senderEmail>linux.crypto@charsley.com</senderEmail><timestampReceived>2002-02-04 23:41:00-0400</timestampReceived><subject>Re: Loop AES and linux 2.4.16</subject><body>

&gt; When you compiled kernel 2.4.16 did you do:
&gt; 
&gt;     make modules &amp;&amp; make modules_install
&gt; 
&gt; Also, try compiling loop.o like this:
&gt; 
&gt;     make LINUX_SOURCE=/path/to/your/kernel/source/dir

Tried both of those. Of course when I do a step by step repeat, recording 
each command, it works perfectly. Murphy rules again...

Thanks for your help.

Mark
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020214151050</emailId><senderName></senderName><senderEmail>hans-joerg.hoexer</senderEmail><timestampReceived>2002-02-14 15:10:50-0400</timestampReceived><subject>Re: Loop Device on OpenBSD</subject><body>

Hi,

On Thu, Feb 14, 2002 at 09:12:51AM -0500, Michael Zhu wrote:
&gt; Hello,everyone,is there some kind of loop device on
&gt; OpenBSD? Just like that on Linux platform. I want to
&gt; do disk en/decryption on OpenBSD platform. Thanks.

see:

http://www.openbsd.org/faq/faq14.html#MountImage
http://www.openbsd.org/cgi-bin/man.cgi?query=vnd&amp;sektion=4
http://www.openbsd.org/cgi-bin/man.cgi?query=vnconfig&amp;sektion=8

Cheers,
Hans
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020221050349</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-02-21 05:03:49-0400</timestampReceived><subject>Re: ext3 + loop + journaling</subject><body>

Jani Averbach wrote:
&gt; Is there any way to mix loop-device (and in particular) loop-AES and ext3
&gt; together in data journaling mode?

Device backed loops (ext3 -&gt; loop -&gt; device) don't have issues with ext3 or
any other journaled filesystems.

However, if loop is file backed (ext3 -&gt; loop -&gt; ext3 -&gt; device), the
underlying file system must be mounted data=journal or data=ordered. If
underlying filesystem is mounted data=writeback or if it is plain old ext2,
write ordering expectation by journaled filesystem (ext3, reiserfs, jfs,
xfs, or whatever) on top of loop driver is not guaranteed, and journal
replay may corrupt data. Use of non-journaled file systems on top of file
backed loop don't have above mentioned write ordering issues, as they must
be repaired using fsck, not by replaying journal.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020222114046</emailId><senderName>Rainer Ellinger</senderName><senderEmail>rainer.ellinger@web.de</senderEmail><timestampReceived>2002-02-22 11:40:46-0400</timestampReceived><subject>Re: Crypted CDROMs</subject><body>

Chris Schadl wrote:

&gt; # dd if=/dev/urandom of=~/crypto.iso bs=1M count=650

I consider 700MB the most common standard today and expect to have a 
stable maximum count of 359849 blocks with 2048 Bytes each - even from 
kodak ... ;-)

So i would use:

dd if=/dev/urandom of=cryptoimage.bin bs=2048 count=359000

You need about additional 35 Blocks for a minimum ISO header and 
lead-out zone.

&gt; # losetup -e aes -k 192 /dev/loop0 ~/crypto.iso
&gt; # mkisofs -r /stuff/SUPAR-SECRET-STUFF/ &gt;/dev/loop0

It doesn't make sense using a container file through a loop device with
a iso9660 filesystem, because iso9660 is a format like a tarball, that 
could not be used read-write. Use a normal filesystem of you choise. 
Probably you would like to optimize the filesystem parameters for a 
700MB size and CDR usage. For example:

mke2fs -m 0 -T largefiles /dev/loopX
tune2fs -c 0 -i 0 /dev/loopX

if you've only a small count of larger files and want to optimize 
blocksize and inode count. Then you can backup the container file to CDR 
like any other file. If you like to be perfect make a e2fsck before.

That means you make normal, readable ISOs with your container file 
inside. You should not write any other raw formats (an an encrypted 
stream is not a know format) than well defined ISO standards to a CDR. 
You're drive could make troubles recognizing the CDR. Then a

mount /cdrom /X
mount /X/cryptoimage.bin /Y -o loop,encryption[...blabla]

should make it.

For a CDR-backup only usage i would take a approach with tar/cpio/afio | 
bzip2 | mcrypt | split

-- 
rainer@ellinger.de

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020222194422</emailId><senderName>Rob McGee</senderName><senderEmail>i812@iname.com</senderEmail><timestampReceived>2002-02-22 19:44:22-0400</timestampReceived><subject>Re: Migrating from cryptoapi-2.4.7.0 to patch-int-2.4.17</subject><body>

On Sun, Feb 17, 2002 at 01:39:09PM -0600, Chris Schadl wrote:
&gt; I do have the cryptoloop and cipher-aes modules loaded.  Is it going to be
&gt; possible to access my old cryptoapi encrypted data with the new patch-int?

If that one was before the IV_mode change to 512 bytes, then your old
encrypted containers will not be accessible. You have to use the old
cryptoapi to read the data and write it to an encrypted filesystem which
uses the new drivers.

If you don't want to expose the data to an unencrypted filesystem, you
could use two connected machines, or probably better, user-mode Linux
(to run a kernel as a user-mode process, a virtual machine.)

HTH,

    Rob - /dev/rob0
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020222200933</emailId><senderName>Andreas Schreier</senderName><senderEmail>a_schreier@firemail.de</senderEmail><timestampReceived>2002-02-22 20:09:33-0400</timestampReceived><subject>Re[1]: Recovering a loop-AES encrypted root partition</subject><body>

&gt; The only way to recover that data is to manually examine 
the content
&gt; of each block. Of course you could use "grep" to find 
specific
&gt; strings in your blocks (or other tools).

Thanks for the script! I ran it and I was able to recover 
some of my data by using grep. I noticed that it takes 
extremely long. After many hours the script had only read 
like 400 M. Unfortunately my /dev/hda6 was 2 G so it will 
take much longer. If I understand dd correctly, it doesn't 
leave out empty blocks, does it?
As I can't recover all the data at the moment and I need 
the space I would like to burn the partition on cds. I 
would like the data to remain encrypted so I guess I won't 
losetup it before burning. Is there a possibility to read 
the partition as it is and split it up into 700 M files? If 
I understood man dd correctly, I tell it to read the first 
700 000 blocks and the next time I tell it to skip the 
first 700 000 blocks, right? I am not sure how large the 
blocks have to be for burning on cd. Is it 1024 again? I 
haven't found out how to put the three 700 M files together 
again. Is that possible with dd too? I think I will have it 
in one large 2 G file and then losetup that file 
(via /dev/loop maybe?).
Thank you very much for the help. I am glad that I could 
already recover some parts of my data. Thanks!

Best regards
Andreas
______________________________________________________
=DCber 1 Mio. Angebote - Startpreis Euro 1,- http://www.fireball.de/ebay.html 



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>200202231638100</emailId><senderName>Andreas Schreier</senderName><senderEmail>a_schreier@firemail.de</senderEmail><timestampReceived>2002-02-23 16:38:10-0400</timestampReceived><subject>Re[1]: Deleting/overwriting data</subject><body>

Can I delete the whole partition without risking that any 
other data is touched? Can I just do shred /dev/hda1? I 
hope that doesn't damage /dev/hda2

Thanks for the help.

Best regards
Andreas
 
&gt; according to the man page, shred(1) can do it
&gt; 
&gt; On Sat, Feb 23, 2002 at 03:59:12PM +0100, Andreas 
Schreier wrote:
&gt; &gt; I have recovered some data from my deleted loop-AES 
&gt; &gt; encrypted root partition. I saved it on a partition 
that is 
&gt; &gt; not encrypted. I would like to delete these files. This 
&gt; &gt; time they shouldn't be recoverable. How can I do that? 
I 
&gt; &gt; guess just doing 'rm my_files' will not be enough. Is 
there 
&gt; &gt; a good way to overwrite the data so that it can't be 
&gt; &gt; recovered? (I have a backup this time ;-))
&gt; &gt; 
&gt; &gt; Best regards
&gt; &gt; Andreas
&gt; &gt; ______________________________________________________
&gt; &gt; =DCber 1 Mio. Angebote - Startpreis Euro 1,- 
http://www.fireball.de/ebay.html 
&gt; &gt; 
&gt; &gt; 
&gt; 
&gt; -
&gt; Linux-crypto: cryptography in and on the Linux system
&gt; Archive: http://mail.nl.linux.org/linux-crypto/
&gt; 
&gt; 
&gt; 
______________________________________________________
=DCber 1 Mio. Angebote - Startpreis Euro 1,- http://www.fireball.de/ebay.html 



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020202132900</emailId><senderName>Mark Charsley</senderName><senderEmail>linux.crypto@charsley.com</senderEmail><timestampReceived>2002-02-02 13:29:00-0400</timestampReceived><subject>Loop AES and linux 2.4.16</subject><body>

I had loop-AES 1.4e running fine with linux 2.4.8. I then upgraded my 
kernel to 2.4.16 to get ext3, and loop-AES stopped working. Upgrading to 
loop-AES 1.5b hasn't helped either.

With 1.4e, everything builds OK, but running depmod -a gives 

depmod: *** Unresolved symbols in /lib/modules/2.4.16/block/loop.o

and running "make tests" gives 

dd if=/dev/zero of=test-file1 bs=1024 count=10
10+0 records in
10+0 records out
cp test-file1 test-file3
echo 12345678901234567890 | losetup -p 0 -e AES128 /dev/loop7 test-file1
ioctl: LOOP_SET_STATUS: Invalid argument

presumably as a result of being unable to pull in a working loop.o module

With 1.5b everything build OK, depmod is happy, but again running "make 
tests" gives the same error.

The relevant bits out of /usr/src/linux/.config are

CONFIG_MODULES=y
CONFIG_MODVERSIONS=y
CONFIG_KMOD=y

# CONFIG_BLK_DEV_LOOP is not set

Can someone help a baffled Windows C++ developer diagnose what he's doing 
wrong?

Many TIA

Mark
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020214141251</emailId><senderName>Michael Zhu</senderName><senderEmail>mylinuxk@yahoo.ca</senderEmail><timestampReceived>2002-02-14 14:12:51-0400</timestampReceived><subject>Loop Device on OpenBSD</subject><body>

Hello,everyone,is there some kind of loop device on
OpenBSD? Just like that on Linux platform. I want to
do disk en/decryption on OpenBSD platform. Thanks.

Michael








______________________________________________________________________ 
Web-hosting solutions for home and business! http://website.yahoo.ca
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020220200322</emailId><senderName>Jani Averbach</senderName><senderEmail>jaa@cc.jyu.fi</senderEmail><timestampReceived>2002-02-20 20:03:22-0400</timestampReceived><subject>ext3 + loop + journaling</subject><body>



[ If this is explained somewhere else (HOWTO or FAQ), please give me a
pointer. ]

Is there any way to mix loop-device (and in particular) loop-AES and ext3
together in data journaling mode?

Ie.
bottom -&gt; to -&gt; top
ext3 - loop-AES - ext3
raw  - loop-AES - ext3

Or am I shooting myself to leg, I am?

BR, Jani

--
Jani Averbach


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020217193909</emailId><senderName>Chris Schadl</senderName><senderEmail>cschadl@satan.org.uk</senderEmail><timestampReceived>2002-02-17 19:39:09-0400</timestampReceived><subject>Migrating from cryptoapi-2.4.7.0 to patch-int-2.4.17</subject><body>

Hi,

I have a large amount of data which was encrypted via the old cryptoapi
(2.4.7.0) modules.  Since then, I've decided to try out the new international
crypto patch.  However, when I try to access my old cryptoapi data, I get the
following error:

[root@lain /]# mount -t iso9660 -o encryption=aes,loop /dev/cdrom /cdrom
Available keysizes (bits): 128 192 256
Keysize: 192
Password :
The cipher does not exist, or a cipher module needs to be loaded into the
kernel
ioctl: LOOP_SET_STATUS: Invalid argument

I do have the cryptoloop and cipher-aes modules loaded.  Is it going to be
possible to access my old cryptoapi encrypted data with the new patch-int?

-- 
Chris Schadl
cschadl@satan.org.uk

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020221163516</emailId><senderName>Andreas Schreier</senderName><senderEmail>a_schreier@firemail.de</senderEmail><timestampReceived>2002-02-21 16:35:16-0400</timestampReceived><subject>Recovering a loop-AES encrypted root partition</subject><body>

I have deleted a loop-AES encrypted root partition by 
entering this command:
mkfs.ext2 /dev/hda6
Afterwards all I typed was:
mount /dev/hda6 /mnt
ls /mnt
ls /mnt/lost+found
umount /mnt
I haven't written any data on the partition. Is there a 
way to recover this partition?

Regards
Andreas
______________________________________________________
=DCber 1 Mio. Angebote - Startpreis Euro 1,- http://www.fireball.de/ebay.html 



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020221170203</emailId><senderName>Emil</senderName><senderEmail>el@la.mine.nu</senderEmail><timestampReceived>2002-02-21 17:02:03-0400</timestampReceived><subject>Re: Recovering a loop-AES encrypted root partition</subject><body>

On 21 February 2002, Andreas Schreier &lt;a_schreier@firemail.de&gt; wrote:
&gt; I have deleted a loop-AES encrypted root partition by
&gt; entering this command:
&gt; mkfs.ext2 /dev/hda6

&gt; I haven't written any data on the partition. Is there a
&gt; way to recover this partition?

Supposing you've used the same mkfs.ext2 command without any 
parameters when you first formated the encrypted partition, 
all superblocks and inode blocks are now scrambled because 
they've been overwritten with the new format command (those
blocks have been written to the same offsets in the partition). 

Since all inode information is gone the best you can do is
losetup -e AES /dev/loop5 /dev/hda6 and then manually extract
intact blocks from /dev/loop5 (using dd with skip= for example)

-- 
								Regards,
								Emil
--
Use PGP ! -&gt; lynx -dump http://la.mine.nu/~emil/pgpemil.html | pgp -kaf
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020221234117</emailId><senderName>Emil</senderName><senderEmail>el@la.mine.nu</senderEmail><timestampReceived>2002-02-21 23:41:17-0400</timestampReceived><subject>Re: Recovering a loop-AES encrypted root partition</subject><body>

On 21 February 2002, Andreas Schreier &lt;a_schreier@firemail.de&gt; wrote:
&gt; How can I find out which blocks are intact and which are not
&gt; intact? Does the filename and directory of the file I want
&gt; to recover help? Thanks a lot for your help. I had no idea
&gt; how to cope with the situation but you give me some hope!

If you didn't do any other operation on your partition (as you
said in your post) then ALL the data blocks are intact.
The problem is that you won't be able to tell which is a
used block and which is not; neither can you tell to what
file belonged each of the blocks or the file names and sizes.
The only way to recover that data is to manually examine the content
of each block. Of course you could use "grep" to find specific
strings in your blocks (or other tools).

If I would be in your place I would run the following script:
(of course after you've provided the right password to losetup)
----
#!/bin/sh

I=0
while [ 1 ]; do
  dd if=/dev/loop5 of=$I.blk bs=1024 count=1 skip=$I 2&gt;&amp;1 | grep -q "1+0" || break;
  I=$((I+1));
done
----
This will create a file for each block with the block number as the
file name. If your partition is big is a good idea to complicate
the script and put only a limited number of files per directory.

Blocks in a file tend to be consecutive so you might be able to recover at
least all your text files (use cat to join the blocks together).  The size of
the recovered files will be however multiple of 1k and you'll need to load them
in an editor and cut the garbage from the end.

-- 
								Regards,
								Emil
--
UNIX is user friendly. It's just picky about who its friends are.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020223173319</emailId><senderName>Jerome Etienne</senderName><senderEmail>jme@off.net</senderEmail><timestampReceived>2002-02-23 17:33:19-0400</timestampReceived><subject>Re: Re[1]: Deleting/overwriting data</subject><body>

still in the shred's man page, it is said that shred is commonly used on
device so i guess you can do it

On Sat, Feb 23, 2002 at 11:38:10AM -0500, Andreas Schreier wrote:
&gt; Can I delete the whole partition without risking that any 
&gt; other data is touched? Can I just do shred /dev/hda1? I 
&gt; hope that doesn't damage /dev/hda2
&gt; 
&gt; Thanks for the help.
&gt; 
&gt; Best regards
&gt; Andreas
&gt;  
&gt; &gt; according to the man page, shred(1) can do it
&gt; &gt; 
&gt; &gt; On Sat, Feb 23, 2002 at 03:59:12PM +0100, Andreas 
&gt; Schreier wrote:
&gt; &gt; &gt; I have recovered some data from my deleted loop-AES 
&gt; &gt; &gt; encrypted root partition. I saved it on a partition 
&gt; that is 
&gt; &gt; &gt; not encrypted. I would like to delete these files. This 
&gt; &gt; &gt; time they shouldn't be recoverable. How can I do that? 
&gt; I 
&gt; &gt; &gt; guess just doing 'rm my_files' will not be enough. Is 
&gt; there 
&gt; &gt; &gt; a good way to overwrite the data so that it can't be 
&gt; &gt; &gt; recovered? (I have a backup this time ;-))
&gt; &gt; &gt; 
&gt; &gt; &gt; Best regards
&gt; &gt; &gt; Andreas
&gt; &gt; &gt; ______________________________________________________
&gt; &gt; &gt; Über 1 Mio. Angebote - Startpreis Euro 1,- 
&gt; http://www.fireball.de/ebay.html 
&gt; &gt; &gt; 
&gt; &gt; &gt; 
&gt; &gt; 
&gt; &gt; -
&gt; &gt; Linux-crypto: cryptography in and on the Linux system
&gt; &gt; Archive: http://mail.nl.linux.org/linux-crypto/
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
&gt; ______________________________________________________
&gt; Über 1 Mio. Angebote - Startpreis Euro 1,- http://www.fireball.de/ebay.html 
&gt; 
&gt; 

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020222034759</emailId><senderName>Justin</senderName><senderEmail>aa2@bigpond.net.au</senderEmail><timestampReceived>2002-02-22 03:47:59-0400</timestampReceived><subject>Re: Recovering a loop-AES encrypted root partition</subject><body>

Hi Andreas

Using "The Coroners Toolkit" on the encrypted device might also help you, but 
it's a long shot :

http://www.porcupine.org/forensics/tct.html

You use it for recovering information, generally after remote break-ins, but 
it could be useful here too.

Regards and best wishes,

Justin Clift


On Friday 22 February 2002 10:41, Emil wrote:
&gt; On 21 February 2002, Andreas Schreier &lt;a_schreier@firemail.de&gt; wrote:
&gt; &gt; How can I find out which blocks are intact and which are not
&gt; &gt; intact? Does the filename and directory of the file I want
&gt; &gt; to recover help? Thanks a lot for your help. I had no idea
&gt; &gt; how to cope with the situation but you give me some hope!
&gt;
&gt; If you didn't do any other operation on your partition (as you
&gt; said in your post) then ALL the data blocks are intact.
&gt; The problem is that you won't be able to tell which is a
&gt; used block and which is not; neither can you tell to what
&gt; file belonged each of the blocks or the file names and sizes.
&gt; The only way to recover that data is to manually examine the content
&gt; of each block. Of course you could use "grep" to find specific
&gt; strings in your blocks (or other tools).
&gt;
&gt; If I would be in your place I would run the following script:
&gt; (of course after you've provided the right password to losetup)
&gt; ----
&gt; #!/bin/sh
&gt;
&gt; I=0
&gt; while [ 1 ]; do
&gt;   dd if=/dev/loop5 of=$I.blk bs=1024 count=1 skip=$I 2&gt;&amp;1 | grep -q "1+0"
&gt; || break; I=$((I+1));
&gt; done
&gt; ----
&gt; This will create a file for each block with the block number as the
&gt; file name. If your partition is big is a good idea to complicate
&gt; the script and put only a limited number of files per directory.
&gt;
&gt; Blocks in a file tend to be consecutive so you might be able to recover at
&gt; least all your text files (use cat to join the blocks together).  The size
&gt; of the recovered files will be however multiple of 1k and you'll need to
&gt; load them in an editor and cut the garbage from the end.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020220225924</emailId><senderName>"Ryan M. McConahy"</senderName><senderEmail>jfanonymous@yahoo.com</senderEmail><timestampReceived>2002-02-20 22:59:24-0400</timestampReceived><subject>Wiping free space on encrypted filesystem.</subject><body>

Right now, I'm creating a large encrypted filesystem (2gig, maybe I'll
downsize to 1). I am doing "dd if=/dev/urandom". When this is done, I'll
probably use 3DES-ede. Would it help/hurt to, on the mounted fs, do a "dd
if=/dev/urandom of=/cryptdisk/freespacewipefile"?

Thanks,

Ryan

BTW: Does anyone know if 2.2 crypto can work under 2.4?


_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at http://mail.yahoo.com

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020221050517</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-02-21 05:05:17-0400</timestampReceived><subject>Re: Wiping free space on encrypted filesystem.</subject><body>

"Ryan M. McConahy" wrote:
&gt; Right now, I'm creating a large encrypted filesystem (2gig, maybe I'll
&gt; downsize to 1). I am doing "dd if=/dev/urandom". When this is done, I'll
&gt; probably use 3DES-ede. Would it help/hurt to, on the mounted fs, do a "dd
&gt; if=/dev/urandom of=/cryptdisk/freespacewipefile"?

/dev/urandom is painfully slow. A much faster alternative is to setup a loop
with a random (and unknown) key, and then write zeroes to the loop device.
This example is from loop-AES' README file:

    dd if=/dev/urandom bs=15 count=1 2&gt;/dev/null | uuencode -m - \
        | head -2 | tail -1 | losetup -p 0 -e AES128 /dev/loop2 /dev/hda666
    dd if=/dev/zero of=/dev/loop2 bs=4k conv=notrunc 2&gt;/dev/null
    losetup -d /dev/loop2

And then setup and initialize the loop with your _real_ key.

&gt; BTW: Does anyone know if 2.2 crypto can work under 2.4?

Yes, if you use loop-AES.
No, if you use cryptoapi.

Use of 3DES-ede implies that you actually may enjoy slow crypto. If that is
the case, just stick to cryptoapi as it comes standard with bloat and slow
design. If you want speed and compatibility with all maintained stable
kernels (2.4.x 2.2.x 2.0.x), including distro vendor enhanced kernels,
loop-AES is a better choice.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020221100702</emailId><senderName>Panu Matilainen</senderName><senderEmail>panu.matilainen@nokia.com</senderEmail><timestampReceived>2002-02-21 10:07:02-0400</timestampReceived><subject>Re: Wiping free space on encrypted filesystem.</subject><body>

On Thu, 2002-02-21 at 07:05, ext Jari Ruusu wrote:
&gt; 
&gt; &gt; BTW: Does anyone know if 2.2 crypto can work under 2.4?
&gt; 
&gt; Yes, if you use loop-AES.
&gt; No, if you use cryptoapi.

FWIW ppdd is also compatible between 2.2 and 2.4.

	- Panu -
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020221164102</emailId><senderName>Marc Mutz</senderName><senderEmail>marc@mutz.com</senderEmail><timestampReceived>2002-02-21 16:41:02-0400</timestampReceived><subject>Re: Wiping free space on encrypted filesystem.</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Thursday 21 February 2002 11:07, Panu Matilainen wrote:
&lt;snip&gt;
&gt; &gt; Yes, if you use loop-AES.
&gt; &gt; No, if you use cryptoapi.
&gt;
&gt; FWIW ppdd is also compatible between 2.2 and 2.4.
&lt;snip&gt;

And the 2.4 version uses CryptoAPI :-P

Marc

- -- 
Marc Mutz &lt;mutz@kde.org&gt;
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE8dSMe3oWD+L2/6DgRAkoHAJ9P0gr/FLTesNEHmnpuu5vSJE1F8wCfer84
lU13ELS3nN+XfjHAzZaRSNE=
=jsKm
-----END PGP SIGNATURE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020222154543</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-02-22 15:45:43-0400</timestampReceived><subject>Re: Wiping free space on encrypted filesystem.</subject><body>

Marc Mutz wrote:
&gt; On Thursday 21 February 2002 11:07, Panu Matilainen wrote:
&gt; &gt; FWIW ppdd is also compatible between 2.2 and 2.4.
&gt; 
&gt; And the 2.4 version uses CryptoAPI :-P

Yes it does. Someone should have noticed that instead of doing:

    loop -&gt; cryptoapi -&gt; ppdd

it would have been faster, more efficient and more portable to do:

    loop -&gt; ppdd

Thus completely eliminating the cryptoapi crap. Same silliness is also
present in cryptoapi versions of loop encryption:

    loop -&gt; cryptoapi -&gt; AES

Loop-AES code is faster and more efficient as it does not have unnecessary
slowdown layers:

    loop -&gt; AES

Am I the only person on this planet who cares about efficiency and speed?

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020222182229</emailId><senderName>Hauke Johannknecht</senderName><senderEmail>ash@ash.de</senderEmail><timestampReceived>2002-02-22 18:22:29-0400</timestampReceived><subject>Re: Wiping free space on encrypted filesystem.</subject><body>

On Fri, 22 Feb 2002, Jari Ruusu wrote:

&gt; Am I the only person on this planet who cares about efficiency and speed?

NO, there are also Daniel J. Bernstein and Felix von Leitner. ;)

and i am quite happy to have reliable diskcrypto that does its
work in disk-speed while occupying less than half of my cpu
cycles. (loop-AES256, Athlon, IDE, XFS)

Gruss,
  Hauke

-- 
Hauke Johannknecht        Berlin / Germany        HJ422-RIPE
Use PGP ! -&gt; lynx -dump http://www.ash.de/ash.asc | pgp -kaf


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020223135615</emailId><senderName>Marc Mutz</senderName><senderEmail>marc@mutz.com</senderEmail><timestampReceived>2002-02-23 13:56:15-0400</timestampReceived><subject>Re: Wiping free space on encrypted filesystem.</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Friday 22 February 2002 16:45, Jari Ruusu wrote:
&lt;snip&gt;
&gt; Am I the only person on this planet who cares about efficiency

No. You seem to be the only person who does  _not_ care for efficiency. 
loop-AES has it's own crypto stuff, freeS/WAN has it's own crypto 
stuff. xyz has it's own crypto stuff. That's very efficient, indeed. 
Both from a kernel size and from a developer time pov.

&gt; and speed?
&lt;snip&gt;

Speed is secondary. Maintainablilty and code auditing is what matters 
here. If more modules use common cryptographic routines instead of 
everyone implementing their own, bugs get fixed faster and the overall 
product is better.

This is something _you_ don't want, obviously. You rather write the 
fivehundreth implementation of AES for kernel space instead of fixing 
the existing stuff. That wouldn't be much of a problem if you did stop 
bashing cryptoAPI. Yes, your code is better. It is even more 
performant. But it is an island solution. We don't need that, see? We 
need something that is _generic_. CryptoAPI is. At least it is more so 
than what other people have come up with. It's a _very_ good sign that 
the ppdd and cipe people start using cryptoAPI. It means that bugs get 
identified. That they are not fixed so fast as one would like is a 
pity. But whining that everyone starts using cryptoAPI doesn't help. 
Sending patches does. Bugging the maintainer to make sure they are 
applied, does.

There's more than disc encryption out there!

Marc

- -- 
Marc Mutz &lt;mutz@kde.org&gt;
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE8d5+A3oWD+L2/6DgRAuZJAKCuQmMlpWowbXZhu0M2C9JeRdfdlQCcDSBJ
DSUpPYSkfGhyt5EsToS/iy8=
=RIhe
-----END PGP SIGNATURE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020223195016</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-02-23 19:50:16-0400</timestampReceived><subject>Re: Wiping free space on encrypted filesystem.</subject><body>

Marc Mutz wrote:
&gt; You seem to be the only person who does  _not_ care for efficiency.
&gt; loop-AES has it's own crypto stuff, freeS/WAN has it's own crypto
&gt; stuff. xyz has it's own crypto stuff. That's very efficient, indeed.
&gt; Both from a kernel size and from a developer time pov.

My point is that writing layer of code just for fun of writing kernel code
is wrong. If the API was something that defined simple and fast low level
cipher functions without any other bloat, it would make more sense.

&gt; &gt; and speed?
&gt; 
&gt; Speed is secondary.

Opinions vary.

&gt; Maintainablilty and code auditing is what matters
&gt; here. If more modules use common cryptographic routines instead of
&gt; everyone implementing their own, bugs get fixed faster and the overall
&gt; product is better.

Cryptoapi people seem to be very reluctant to fixing bugs, even if said bugs
are pointed out to maintainer.

One part of auditing cipher code is that they must be tested and run in user
space. With AES cipher functions in loop-AES, this is very easy to do. Can
you say the same for cryptoapi ciphers?

&gt; This is something _you_ don't want, obviously. You rather write the
&gt; fivehundreth implementation of AES for kernel space instead of fixing
&gt; the existing stuff. That wouldn't be much of a problem if you did stop
&gt; bashing cryptoAPI.

I don't much care for cryptoapi in its present bloated form.

&gt; Yes, your code is better. It is even more performant.

Wow. I never expected you to admit that.

&gt; But it is an island solution. We don't need that, see? We
&gt; need something that is _generic_. CryptoAPI is. At least it is more so
&gt; than what other people have come up with.

Generic can be fast, unbloated and portable to user space and other
operating systems. Cryptoapi isn't any of that.

&gt; But whining that everyone starts using cryptoAPI doesn't help.
&gt; Sending patches does. Bugging the maintainer to make sure they are
&gt; applied, does.

Or putting out a release with bugs fixed. Remember, reason for releasing
first version of loop-AES was that international crypto patch was just buggy
as hell, didn't support distro vendor enhanced kernels, and so on.

One of the major flaws that cryptapi still has (and loop-AES doesn't have),
is that people can't choose a kernel that _they_ want. Instead, to use
lastest cryptoapi version, they have to use a kernel that cryptoapi
maintainer choosed to make patches for. There is is world of difference
between someone else choosing your kernel for you, and you choosing your
kernel for you.

&gt; There's more than disc encryption out there!

Yep.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020222163231</emailId><senderName>Emil</senderName><senderEmail>el@la.mine.nu</senderEmail><timestampReceived>2002-02-22 16:32:31-0400</timestampReceived><subject>Re: Recovering a loop-AES encrypted root partition</subject><body>

&gt; On Friday 22 February 2002 10:41, Emil wrote:
&gt; &gt; If you didn't do any other operation on your partition (as you
&gt; &gt; said in your post) then ALL the data blocks are intact.

After you've "backup" your blocks with the above method you can
also try a much better recovery strategy:

losetup -e AES /dev/loop5 /dev/hda6
mkfs.ext2 /dev/loop5

By formating your partition again (but through the loop) you won't
harm your partition anymore than you've already did because the
formating will write exactly the same blocks as it did the first time.

The advantage of this second format is that you will end up with a
mountable partition.

You may then use Midnight Commander compiled with the undel2fs support
and start undelete on /dev/loop5. This recovery will give you better
results because mc is able to reconstruct the files (but again without
file names, directory hierarchy or exact file size).

-- 
								Regards,
								Emil
--
When I Die, I want to go like my grandfather did, peacefully in his sleep.
Not yelling and screaming, like all the passengers in his car!
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020218025114</emailId><senderName>Chris Schadl</senderName><senderEmail>cschadl@satan.org.uk</senderEmail><timestampReceived>2002-02-18 02:51:14-0400</timestampReceived><subject>Re: Migrating from cryptoapi-2.4.7.0 to patch-int-2.4.17</subject><body>

Hmm, I just checked, and I get the same thing when trying to create a new
encrypted filesystem:

[root@lain /root]# dd if=/dev/urandom of=crypto-test bs=1M count=50
50+0 records in
50+0 records out
[root@lain /root]# losetup -e aes -k 192 /dev/loop0 /root/crypto-test
Password :
The cipher does not exist, or a cipher module needs to be loaded into the
kernel
ioctl: LOOP_SET_STATUS: Invalid argument

Here is what I have in /proc/crypto:
[root@lain /root]# ls -R /proc/crypto/
/proc/crypto/:
cipher  digest

/proc/crypto/cipher:
aes-cbc  aes-ecb  blowfish-cbc  blowfish-ecb  serpent-cbc  serpent-ecb

/proc/crypto/digest:
md5  sha1

Is there a problem with the util-linux patch I'm using? (I think that its
version 2.11h)  Or is this version of the patch just foobared?


Chris Schadl [17/02/02 13:39 -0600]:
&gt; Hi,
&gt; 
&gt; I have a large amount of data which was encrypted via the old cryptoapi
&gt; (2.4.7.0) modules.  Since then, I've decided to try out the new international
&gt; crypto patch.  However, when I try to access my old cryptoapi data, I get the
&gt; following error:
&gt; 
&gt; [root@lain /]# mount -t iso9660 -o encryption=aes,loop /dev/cdrom /cdrom
&gt; Available keysizes (bits): 128 192 256
&gt; Keysize: 192
&gt; Password :
&gt; The cipher does not exist, or a cipher module needs to be loaded into the
&gt; kernel
&gt; ioctl: LOOP_SET_STATUS: Invalid argument
&gt; 
&gt; I do have the cryptoloop and cipher-aes modules loaded.  Is it going to be
&gt; possible to access my old cryptoapi encrypted data with the new patch-int?
&gt; 
&gt; -- 
&gt; Chris Schadl
&gt; cschadl@satan.org.uk
&gt; 
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
&gt; 

-- 
Chris Schadl
cschadl@satan.org.uk

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020218165052</emailId><senderName>Juan Quintela</senderName><senderEmail>quintela@mandrakesoft.com</senderEmail><timestampReceived>2002-02-18 16:50:52-0400</timestampReceived><subject>Re: Migrating from cryptoapi-2.4.7.0 to patch-int-2.4.17</subject><body>

&gt;&gt;&gt;&gt;&gt; "chris" == Chris Schadl &lt;cschadl@satan.org.uk&gt; writes:

chris&gt; Hmm, I just checked, and I get the same thing when trying to create a new
chris&gt; encrypted filesystem:

chris&gt; [root@lain /root]# dd if=/dev/urandom of=crypto-test bs=1M count=50
chris&gt; 50+0 records in
chris&gt; 50+0 records out
chris&gt; [root@lain /root]# losetup -e aes -k 192 /dev/loop0 /root/crypto-test
chris&gt; Password :
chris&gt; The cipher does not exist, or a cipher module needs to be loaded into the
chris&gt; kernel
chris&gt; ioctl: LOOP_SET_STATUS: Invalid argument

chris&gt; Here is what I have in /proc/crypto:
chris&gt; [root@lain /root]# ls -R /proc/crypto/
chris&gt; /proc/crypto/:
chris&gt; cipher  digest

I guess you need to also patch util-linux.

Later, Juan.

-- 
In theory, practice and theory are the same, but in practice they 
are different -- Larry McVoy
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020218185505</emailId><senderName>Chris Schadl</senderName><senderEmail>cschadl@satan.org.uk</senderEmail><timestampReceived>2002-02-18 18:55:05-0400</timestampReceived><subject>Re: Migrating from cryptoapi-2.4.7.0 to patch-int-2.4.17</subject><body>

I've already patched util-linux.  I would find it rather creepy if losetup
were asking me for a password and keysize if I hadn't patched it.

Juan Quintela [18/02/02 17:50 +0100]:
&gt; &gt;&gt;&gt;&gt;&gt; "chris" == Chris Schadl &lt;cschadl@satan.org.uk&gt; writes:
&gt; 
&gt; chris&gt; Hmm, I just checked, and I get the same thing when trying to create a new
&gt; chris&gt; encrypted filesystem:
&gt; 
&gt; chris&gt; [root@lain /root]# dd if=/dev/urandom of=crypto-test bs=1M count=50
&gt; chris&gt; 50+0 records in
&gt; chris&gt; 50+0 records out
&gt; chris&gt; [root@lain /root]# losetup -e aes -k 192 /dev/loop0 /root/crypto-test
&gt; chris&gt; Password :
&gt; chris&gt; The cipher does not exist, or a cipher module needs to be loaded into the
&gt; chris&gt; kernel
&gt; chris&gt; ioctl: LOOP_SET_STATUS: Invalid argument
&gt; 
&gt; chris&gt; Here is what I have in /proc/crypto:
&gt; chris&gt; [root@lain /root]# ls -R /proc/crypto/
&gt; chris&gt; /proc/crypto/:
&gt; chris&gt; cipher  digest
&gt; 
&gt; I guess you need to also patch util-linux.
&gt; 
&gt; Later, Juan.
&gt; 
&gt; -- 
&gt; In theory, practice and theory are the same, but in practice they 
&gt; are different -- Larry McVoy
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
&gt; 

-- 
Chris Schadl
cschadl@satan.org.uk

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020214145153</emailId><senderName>"Bolten, Dierk"</senderName><senderEmail>bolten@iwe.rwth-aachen.de</senderEmail><timestampReceived>2002-02-14 14:51:53-0400</timestampReceived><subject>AW: Loop Device on OpenBSD</subject><body>


&gt; Von: Michael Zhu [mailto:mylinuxk@yahoo.ca]
&gt; Gesendet: Thursday, February 14, 2002 3:13 PM
&gt; An: linux-crypto@nl.linux.org
&gt; Betreff: Loop Device on OpenBSD
&gt; 
&gt; 
&gt; Hello,everyone,is there some kind of loop device on
&gt; OpenBSD? Just like that on Linux platform. I want to
&gt; do disk en/decryption on OpenBSD platform. Thanks.
&gt; 
&gt; Michael
&gt;

Hi!

Well, this might not be directly to the point, but you might wanna check
out:

Encrypting Virtual Memory (found at http://www.openbsd.org/crypto.html, all
the way at the bottom of the page) Maybe a mail to the author of this paper
might help.

Cheers,
Dierk

Institute of Materials in Electrical Engineering 
    and Information Technology II
Sommerfeldstr. 24, 52074 Aachen
NEW PHONE NUMBERS!!!
voice: ++49-241-80 27822
fax: ++49-241-80 22300
email: bolten@iwe.rwth-aachen.de
web: http://www.iwe.rwth-aachen.de
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020202234225</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-02-02 23:42:25-0400</timestampReceived><subject>Re: Loop AES and linux 2.4.16</subject><body>

Mark Charsley wrote:
&gt; I had loop-AES 1.4e running fine with linux 2.4.8. I then upgraded my
&gt; kernel to 2.4.16 to get ext3, and loop-AES stopped working. Upgrading to
&gt; loop-AES 1.5b hasn't helped either.
&gt; 
&gt; With 1.4e, everything builds OK, but running depmod -a gives
&gt; 
&gt; depmod: *** Unresolved symbols in /lib/modules/2.4.16/block/loop.o

When you compiled kernel 2.4.16 did you do:

    make modules &amp;&amp; make modules_install

Also, try compiling loop.o like this:

    make LINUX_SOURCE=/path/to/your/kernel/source/dir

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200202231733190</emailId><senderName>Jerome Etienne</senderName><senderEmail>jme@off.net</senderEmail><timestampReceived>2002-02-23 17:33:19-0400</timestampReceived><subject>Re: Re[1]: Deleting/overwriting data</subject><body>

still in the shred's man page, it is said that shred is commonly used on
device so i guess you can do it

On Sat, Feb 23, 2002 at 11:38:10AM -0500, Andreas Schreier wrote:
&gt; Can I delete the whole partition without risking that any 
&gt; other data is touched? Can I just do shred /dev/hda1? I 
&gt; hope that doesn't damage /dev/hda2
&gt; 
&gt; Thanks for the help.
&gt; 
&gt; Best regards
&gt; Andreas
&gt;  
&gt; &gt; according to the man page, shred(1) can do it
&gt; &gt; 
&gt; &gt; On Sat, Feb 23, 2002 at 03:59:12PM +0100, Andreas 
&gt; Schreier wrote:
&gt; &gt; &gt; I have recovered some data from my deleted loop-AES 
&gt; &gt; &gt; encrypted root partition. I saved it on a partition 
&gt; that is 
&gt; &gt; &gt; not encrypted. I would like to delete these files. This 
&gt; &gt; &gt; time they shouldn't be recoverable. How can I do that? 
&gt; I 
&gt; &gt; &gt; guess just doing 'rm my_files' will not be enough. Is 
&gt; there 
&gt; &gt; &gt; a good way to overwrite the data so that it can't be 
&gt; &gt; &gt; recovered? (I have a backup this time ;-))
&gt; &gt; &gt; 
&gt; &gt; &gt; Best regards
&gt; &gt; &gt; Andreas
&gt; &gt; &gt; ______________________________________________________
&gt; &gt; &gt; Über 1 Mio. Angebote - Startpreis Euro 1,- 
&gt; http://www.fireball.de/ebay.html 
&gt; &gt; &gt; 
&gt; &gt; &gt; 
&gt; &gt; 
&gt; &gt; -
&gt; &gt; Linux-crypto: cryptography in and on the Linux system
&gt; &gt; Archive: http://mail.nl.linux.org/linux-crypto/
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
&gt; ______________________________________________________
&gt; Über 1 Mio. Angebote - Startpreis Euro 1,- http://www.fireball.de/ebay.html 
&gt; 
&gt; 

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200202231950160</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-02-23 19:50:16-0400</timestampReceived><subject>Re: Wiping free space on encrypted filesystem.</subject><body>

Marc Mutz wrote:
&gt; You seem to be the only person who does  _not_ care for efficiency.
&gt; loop-AES has it's own crypto stuff, freeS/WAN has it's own crypto
&gt; stuff. xyz has it's own crypto stuff. That's very efficient, indeed.
&gt; Both from a kernel size and from a developer time pov.

My point is that writing layer of code just for fun of writing kernel code
is wrong. If the API was something that defined simple and fast low level
cipher functions without any other bloat, it would make more sense.

&gt; &gt; and speed?
&gt; 
&gt; Speed is secondary.

Opinions vary.

&gt; Maintainablilty and code auditing is what matters
&gt; here. If more modules use common cryptographic routines instead of
&gt; everyone implementing their own, bugs get fixed faster and the overall
&gt; product is better.

Cryptoapi people seem to be very reluctant to fixing bugs, even if said bugs
are pointed out to maintainer.

One part of auditing cipher code is that they must be tested and run in user
space. With AES cipher functions in loop-AES, this is very easy to do. Can
you say the same for cryptoapi ciphers?

&gt; This is something _you_ don't want, obviously. You rather write the
&gt; fivehundreth implementation of AES for kernel space instead of fixing
&gt; the existing stuff. That wouldn't be much of a problem if you did stop
&gt; bashing cryptoAPI.

I don't much care for cryptoapi in its present bloated form.

&gt; Yes, your code is better. It is even more performant.

Wow. I never expected you to admit that.

&gt; But it is an island solution. We don't need that, see? We
&gt; need something that is _generic_. CryptoAPI is. At least it is more so
&gt; than what other people have come up with.

Generic can be fast, unbloated and portable to user space and other
operating systems. Cryptoapi isn't any of that.

&gt; But whining that everyone starts using cryptoAPI doesn't help.
&gt; Sending patches does. Bugging the maintainer to make sure they are
&gt; applied, does.

Or putting out a release with bugs fixed. Remember, reason for releasing
first version of loop-AES was that international crypto patch was just buggy
as hell, didn't support distro vendor enhanced kernels, and so on.

One of the major flaws that cryptapi still has (and loop-AES doesn't have),
is that people can't choose a kernel that _they_ want. Instead, to use
lastest cryptoapi version, they have to use a kernel that cryptoapi
maintainer choosed to make patches for. There is is world of difference
between someone else choosing your kernel for you, and you choosing your
kernel for you.

&gt; There's more than disc encryption out there!

Yep.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020226221004</emailId><senderName>"William A.(Andy) Adamson"</senderName><senderEmail>andros@umich.edu</senderEmail><timestampReceived>2002-02-26 22:10:04-0400</timestampReceived><subject>RPCSEC_GSS for the Linux Kernel</subject><body>

This is an announcement of the RPCSEC GSS patch that accompanies the first 
public release of NFS version 4 for Linux, by the University of Michigan.
This patch implements the rpcsec_gss protocol (RFC 2203) with the Kerberos V5 
mechanism (RFC 1964) for the Linux kernel.

This patch requires a linux crypto kernel patch. I've developed this code 
using the crypotapi (cryptoapi-2.4.10.diff), and uses the des-cipher module 
and the md5-digest module to perform the verification of the gss packets using 
the default Kerberos v5 algorithms.  I have yet to implement data 
integrity/privacy.

A patch for MIT Kerberos 5-1.2.3 to enable the gssapi mechinism glue layer is 
also included.

I've hardcoded the NFSv3 client to use the code, and can pass all the 
connectathon tests using RPC_AUTH_GSS against the Solaris 2.8 NFSv3 server, 
and will be testing against NFSv4 implentations at Connectathon 2002.

As is the case with our NFSv4 release, we are now hoping to involve
the open-source community at large in the code development.  Eventually, we 
hope to integrate our RPCSEC_GSS implementation into the Linux kernel proper.
   
To download the set of patchs for the 2.4.4 kernel,  please see:
http://www.citi.umich.edu/projects/nfsv4/feb_2002_rel/rpcsec_patch.html

Disclaimer: This is development code which is incomplete in many ways,
and is not nearly to the point of being ready for the kernel.  Please
bear this in mind when playing with it, and have fun tearing apart our
code!

Cheers,
Andy Adamson
Center for Information Technology and Integration



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020228224314</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-02-28 22:43:14-0400</timestampReceived><subject>Re: loop-AES supported ciphers</subject><body>

On Thu, 28 Feb 2002, Marc Mutz wrote:
&gt; Wrong. People start to accept is _now_. Take PPDD, take the NFS
&gt; implementation announced Tuesday. CIPE and FreeS/WAN are at least
&gt; considering the move.
btw, you forget to mention the USAGI Project @ http://www.linux-ipv6.org/
which already uses the API for their ipsec implementation
 
&gt; Sorry, but that is how it works in Linux. I had to merge new-style RAID,
&gt; ext3 and kerneli back when I built by own kernels (and I did that evry
&gt; few days...)
know that well... had to do it with frees/wan, XFS, patch-int, 
ide-patch...

...wasn't there work ongoing in 2.5's kbuild framework to make merging 
easier? ;)

&gt; &gt; 	In other words if knowing what kernel version cryptoapi works
&gt; &gt; with can be more complicated than any kernel after version x.y.z,
&gt; &gt; then it will not be an easily deployable patch.
&gt; No patch that adds a new API to the kernel applies to more than a few
&gt; minor releases in a row. The kerneli patch on 2.2 was remarkable stable
&gt; w.r.t. to applicability to different kernels. Now that 2.4 has somewhat
&gt; settled, I expect that same to hold.

btw, the good thing about the cryptoapi right now is,

1.) that the API part itself lives in its own top-level subdir /crypto 
is quite self-contained:

http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/cryptoapi/cryptoapi-core/crypto/
 
i.e. those files, get only added, so no patch conflicts can occur; and 
they are quite version indepent and

2.)
then there's the version dependent kbuild-patch, i.e. for 2.4.18
http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/*checkout*/cryptoapi/cryptoapi-patches/linux-2.4/kbuild-2.4.18?rev=HEAD&amp;content-type=text/plain


which I don't expect to change much in future 2.4.x versions

3.)
finally there's the optional loop.[ch] IV-fix patch, which really 
patches existing kernel source; this is version dependent as well, 
although the same patch applies to 2.4.1[678] so far...

==

btw, the reason I make a difference between 2.) and 3.) is, that 
loop-AES's patch conflicts with the simple loop-iv patch... and I want to 
leave the user the choice, which patch to use

&gt; PS: Please trim your quotes.
&gt; -)

-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F 4142

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020103195259</emailId><senderName>"Arseniy Parshikov"</senderName><senderEmail>aparshikovjm@front.ru</senderEmail><timestampReceived>2002-01-03 19:52:59-0400</timestampReceived><subject>Special secret site to become a millionaire truly</subject><body>

If there is not confidence that you keep a top secret, immediately, it
deletes this E-mail and it blooms below!!! 


It is Site which is as important as it and is dangerous. 

Because this is different from other Site, don't tell to the person except
you absolutely. 

Has the preparation of your heart been ready? Almost, calm down. 

Well, it introduces this URL. 
http://successwithmeap.tripod.com/

Once again, it warns. The person who can not keep a top secret doesn't
concern this Site absolutely. 

Arseniy 
=============================================
For Removal send an email with REMOVE in the subject line to
removeap@front.ru
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020104185404</emailId><senderName>Jerome Etienne</senderName><senderEmail>jme@off.net</senderEmail><timestampReceived>2002-01-04 18:54:04-0400</timestampReceived><subject>Re: init script which reveal passwords</subject><body>

if this script is only used during the boot, you are correct.

But i fail to see why you assume this. i told it is a initialization
script which is different that a boot script.

On Fri, Jan 04, 2002 at 07:46:15PM +0100, Roman Drahtmueller wrote:
&gt; Maybe, yes. But since you claimed already that this is a _init_ script,
&gt; and since swap isn't even turned on yet, the whole issue is irrelevant
&gt; since nobody can have logged on yet. No network, no local gettys yet, just
&gt; some shell asking for a password.
&gt; 
&gt; That thing shouldn't be used in any other context, though.
&gt; 
&gt; Thanks,
&gt; Roman.
&gt; -- 
&gt;  -                                                                      -
&gt; | Roman Drahtmüller      &lt;draht@suse.de&gt; // "You don't need eyes to see, |
&gt;   SuSE GmbH - Security           Phone: //             you need vision!"
&gt; | Nürnberg, Germany     +49-911-740530 //           Maxi Jazz, Faithless |
&gt;  -                                                                      -
&gt; 
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020104192847</emailId><senderName>Andreas Schreier</senderName><senderEmail>a_schreier@firemail.de</senderEmail><timestampReceived>2002-01-04 19:28:47-0400</timestampReceived><subject>Request for Help</subject><body>

I would like to have an encrypted root filesystem using 
one of the latest kernels (I use RH 7.2). Unfortunately I 
couldn't find a recent tutorial. Could you please point me 
to tutorials or HOWTOs that teach how to setup an 
encrypted root filesystem?

Can I have the kernel (and everything else which is not 
encrypted) on a boot CD? I don't want to have any data 
that is not encrypted (and vulnerable to trojans) on my 
harddisk.

Thank you very much in advance.

Regards

Andreas

PS listing the commands I need would also be greatly 
appreciated. I don't need too much of a description and 
what I want is pretty simple for most of you, I guess ;-)
______________________________________________________
Einmal schenken, 12mal auspacken: Zeitschriften-Abos zu Weihnachten!
 http://rubriken.fireball.de/guj/



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020109093649</emailId><senderName>       KANDA Mitsuru / =?ISO-2022-JP?B?GyRCP0BFRBsoQiAbJEI9PBsoQg==?=</senderName><senderEmail></senderEmail><timestampReceived>2002-01-09 09:36:49-0400</timestampReceived><subject>about IV</subject><body>


Hello implementers.

Let me ask you one question.

I updated cryptoapi 2.4.3 to int-patch-2.4.17.0 .

I found the iv[] member in struct cipher_context{} was commented out 
and "u32 iv[]" arg was added in some functions(encrypt(),decript()...).

Why did you move iv[] from cipher_context{} to functions?

Regards,

KANDA Mitsuru (kanda@nn.iij4u.or.jp)
 Toshiba Reseach &amp; Development Center
       Communication Platform Laboratory (mk@isl.rdc.toshiba.co.jp)
 USAGI Project (mk@linux-ipv6.org)

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020110113226</emailId><senderName></senderName><senderEmail>ragnagock</senderEmail><timestampReceived>2002-01-10 11:32:26-0400</timestampReceived><subject>losetup -p -- how?</subject><body>

Hi,

Using the CryptoAPI-patched losetup...

How do I use the
losetup -p
feature within a shell script?

Do I have to close the filehandle
after losetup or is this done by losetup?

-- 
GMX - Die Kommunikationsplattform im Internet.
http://www.gmx.net

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020113135445</emailId><senderName>Nigel Metheringham</senderName><senderEmail>nigel.metheringham@vdata.co.uk</senderEmail><timestampReceived>2002-01-13 13:54:45-0400</timestampReceived><subject>libaes project - would appreciate contributions</subject><body>

Folks,

I'm spamming linux-crypto as I'm hoping that I can get some input from
you people and hopefully give you something useful back.

I have started a new sourceforge project - libaes - to get a decent AES
library available to free software projects.  This was initially
inspired by a version of Jari Ruusu's libaes which I found elsewhere (I
guess having just seen him on here the original libaes is from the
kernel crypto project).

Project is at
	http://libaes.sourceforge.net/   (not updated yet)
	http://sourceforge.net/projects/libaes/

Current State:-
  - Alpha version release (0.01)
  - Requires block size set at library compilation time
  - C code based on Brian Gladman's latest drop
  - Assembly code (128 bit only) working with this (also based on
    Brian's work)
  - Assembly version runs twice as fast as C version on my box
    (this is mostly cos gcc cannot optomise the C well).

The Alpha version is meant to be to get input on the API structure and
future directions.  I also would like to get some coders - assembler
especially on several platforms.

The current code has the aes context structure as the last parameter on
all calls (as Brian's code).  I think moving it to the first parameter
may suit people better - specially the cbc wrapping routines.

Anyhow please grab this, look at it, comment on it etc...

There is a mailing list - 
	http://lists.sourceforge.net/mailman/listinfo/libaes-devel

Regards
	Nigel.



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020103144120</emailId><senderName>Newsmail</senderName><senderEmail>newsmail@satimex.tvnet.hu</senderEmail><timestampReceived>2002-01-03 14:41:20-0400</timestampReceived><subject>&lt;*&gt; generic loop cryptographic filter (EXPERIMENTAL)</subject><body>

&lt;*&gt; generic loop cryptographic filter (EXPERIMENTAL)
hmm if I enable this option do I have to enable this: &lt;*&gt; Cryptographic 
ciphers, or those ciphers will be included automatically as described?
regards,
greg

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200201101132260</emailId><senderName></senderName><senderEmail>ragnagock</senderEmail><timestampReceived>2002-01-10 11:32:26-0400</timestampReceived><subject>losetup -p -- how?</subject><body>

Hi,

Using the CryptoAPI-patched losetup...

How do I use the
losetup -p
feature within a shell script?

Do I have to close the filehandle
after losetup or is this done by losetup?

-- 
GMX - Die Kommunikationsplattform im Internet.
http://www.gmx.net

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020113011628</emailId><senderName>"peter k."</senderName><senderEmail>spam-goes-to-dev-null@gmx.net</senderEmail><timestampReceived>2002-01-13 01:16:28-0400</timestampReceived><subject>loop-AES initrd + non-english keyboards?</subject><body>

Jari could you maybe implement a feature for selecting the keyboard language
which is used when entering the password? Having to type "z" instead of "y"
and vice versa because of my qwertz-keyboard is annoying!

And btw, it would also be nice if it did not require you to reboot if you
have entered a wrong password.

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020116141830</emailId><senderName>Michael Zhu</senderName><senderEmail>mylinuxk@yahoo.ca</senderEmail><timestampReceived>2002-01-16 14:18:30-0400</timestampReceived><subject>Loop AES patch for loop.c and lomount.c</subject><body>

Hello, everyone, where can I find the most updated
loop aes patch for loop.c and lomount.c. My original
losetup doesn't work for the loop aes. I need a new
one. Thanks.

Michael

______________________________________________________________________ 
Web-hosting solutions for home and business! http://website.yahoo.ca
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020117203653</emailId><senderName>Michael Zhu</senderName><senderEmail>mylinuxk@yahoo.ca</senderEmail><timestampReceived>2002-01-17 20:36:53-0400</timestampReceived><subject>sizeof(dev_t) between lomount.c and loop.c</subject><body>

Hello, everyone, I have a problem when I use the loop
device. I compiled and built the loop.o and losetup.o.
Then I used the insmod loop.o to load the loop.o into
the kernel. Up to now everything is OK. Then I used
the following command to connect the loop0 with the
floppy disk device.

losetup -e xor /dev/loop0 /dev/fd0

It succeeded. Then I used "mke2fs /dev/loop0" and
"mount /dev/loop0 /floppy" to format and mount the
loop device. Then I copied some files to the loop
device. But I found that the data on the floppy was
never encrypted. After tracing the code I found that
the loop.o always called the transfer_none() function.
That means that it doesn't use the transfer_xor(). 

At last I found the exact reason. Both losetup and
loop use the loop.h header file. In this header file
there is a struct loop_info which contains 2
parameters, dev_t	loop_device and dev_t loop_rdevice.
I print the size of this structure and the size of the
dev_t variable type both is losetup and loop. The
following is the output.
In losetup:
The sizeof(struct loop_info) is 148.
The sizeof(dev_t) is 8.

In loop:
The sizeof(struct loop_info) is 136.
The sizeof(dev_t) is 2.

You see that means that the definition of dev_t in
losetup and loop is different. So I couldn't get the
correct result. I know that losetup runs in user space
while loop runs in kernel space. Is that the reason of
this? After I omitted these two parameters in the
loop_info structure, then everything is OK.

What is the problem? Thanks in advance.

Michael


______________________________________________________________________ 
Web-hosting solutions for home and business! http://website.yahoo.ca
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020118183242</emailId><senderName>Marc MERLIN</senderName><senderEmail>marc_crypto@merlins.org</senderEmail><timestampReceived>2002-01-18 18:32:42-0400</timestampReceived><subject>FreeS/WAN + linux crypto in linux 2.4.17</subject><body>

[Trying again, it didn't go through the first time]

Hi,

So, I was hoping  to get FreeS/WAN to compile as a module  and add it to one
of my kernels.
I then realized that I had to patch my kernel. Would have been easier with a
real patch instead of the dreadful  makefile and patch process which dies if
anything doesn't patch perfectly.
After the pain of working around it, I eventually got the compile to bomb at
the end (fs 1.91 and 2.4.17).

After the pain of working around it, I eventually got the compile to bomb at
the end (see failure at the end of the message)
So, I looked around and found  cryptoapi.sf.net which had the goal of making
crypto a module in an existing kernel.
While  it doesn't  include FS,  I  did find  a promising  freeswan-import.sh
script which seems  to convert the FS  patches into a real patch  that I can
just apply.

However, I  don't think it's  going to  make FS 1.91  work any better  if it
fails to  build now, but  if I like the  features offered by  cryptoapi, and
wouldn't mind  having them in addition  to FS (I  can't tell if it  makes FS
share the cryptoAPI code or if they each have their own).

I guess my main question is can I get FS to work with cryptoapi 2.4.7.0, and
linux 2.4.17? If so, which version of FS should I try to patch?
Can I try to use the freeswan-import.sh script?

Thanks
Marc

Linking failure attached here:

        /var/local/src/misckernels/linux-2.4.17-fswan-1.91-grsec-1.9.2-servers1/arch/i386/lib/lib.a \
/var/local/src/misckernels/linux-2.4.17-fswan-1.91-grsec-1.9.2-servers1/lib/lib.a \
/var/local/src/misckernels/linux-2.4.17-fswan-1.91-grsec-1.9.2-servers1/arch/i386/lib/lib.a \
                \
        --end-group \
        -o vmlinux
net/network.o: In function `SHA1Update':
/var/local/src/misckernels/linux-2.4.17-fswan-1.91-grsec-1.9.2-servers1/net/ipsec/ipsec_sha1.c(.text+0x5f1bc): \
multiple definition of `SHA1Update' kernel/kernel.o(.text+0x1776c): first defined \
                here
ld: Warning: size of symbol `SHA1Update' changed from 222 to 215 in net/network.o
net/network.o: In function `SHA1Init':
/var/local/src/misckernels/linux-2.4.17-fswan-1.91-grsec-1.9.2-servers1/net/ipsec/ipsec_sha1.c:101: \
multiple definition of `SHA1Init' kernel/kernel.o(.text+0x17734): first defined here
net/network.o: In function `SHA1Final':
/var/local/src/misckernels/linux-2.4.17-fswan-1.91-grsec-1.9.2-servers1/net/ipsec/ipsec_sha1.c(.text+0x5f294): \
multiple definition of `SHA1Final' kernel/kernel.o(.text+0x1784c): first defined here
ld: Warning: size of symbol `SHA1Final' changed from 313 to 309 in net/network.o
net/network.o: In function `SHA1Transform':
/var/local/src/misckernels/linux-2.4.17-fswan-1.91-grsec-1.9.2-servers1/net/ipsec/ipsec_sha1.c(.text+0x5d420): \
multiple definition of `SHA1Transform' kernel/kernel.o(.text+0x159d0): first defined \
                here
make: *** [vmlinux] Error 1

-- 
Microsoft is to operating systems &amp; security ....
                                      .... what McDonalds is to gourmet cooking
  
Home page: http://marc.merlins.org/   |   Finger marc_f@merlins.org for PGP key
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020122180201</emailId><senderName>Michael Zhu</senderName><senderEmail>mylinuxk@yahoo.ca</senderEmail><timestampReceived>2002-01-22 18:02:01-0400</timestampReceived><subject>metadata and contents in loop device</subject><body>

Hello, everyone, in my loop device I want to use
different keys to en/decrypt the file contents and the
metadata of directories/file names information. But
how can I differentiate these two types of data in the
loop device? The loop device just cares about the
block. But the metadata of directories/file names
information is just the file system information. Any
idea about this? Thanks in advance.

Michael

______________________________________________________________________ 
Web-hosting solutions for home and business! http://website.yahoo.ca
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020122180718</emailId><senderName>Alexander Viro</senderName><senderEmail>viro@math.psu.edu</senderEmail><timestampReceived>2002-01-22 18:07:18-0400</timestampReceived><subject>Re: metadata and contents in loop device</subject><body>



On Tue, 22 Jan 2002, Michael Zhu wrote:

&gt; Hello, everyone, in my loop device I want to use
&gt; different keys to en/decrypt the file contents and the
&gt; metadata of directories/file names information. But
&gt; how can I differentiate these two types of data in the
&gt; loop device?

You can't.

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020122101226</emailId><senderName>Newsmail</senderName><senderEmail>newsmail@satimex.tvnet.hu</senderEmail><timestampReceived>2002-01-22 10:12:26-0400</timestampReceived><subject>smart cards</subject><body>

hi people, is there anyone who could give me an url that describes how 
smart cards work, and what are they good for. I mean, I read about cipher 
performances on smart cards, but actually I dont understand how can I store 
keyfiles on smartcards, or how all this thing works. I asked a many people, 
but nobody was able to give me an answer. if someone could help me, I'M 
looking forward to it. thx
Regards,
Greg

ps: I'M mostly interested about storing encrypted keyfiles on smartcards, 
and so on.


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020125174253</emailId><senderName>nosaj</senderName><senderEmail>nosaj46@poczta.onet.pl</senderEmail><timestampReceived>2002-01-25 17:42:53-0400</timestampReceived><subject>LOOP_SET_STATUS error in loop-AES</subject><body>

Hi,
I'm trying to build loop-AES-v1.5b. I patch, compile and install
util-linux-2.11n without error. I make and install loop-AES without error.
Then when I run `make tests':
...
...
echo 12345678901234567890 | losetup -p 0 -e AES128 /dev/loop7 test-file1
ioctl: LOOP_SET_STATUS: Invalid argument
make: *** [tests] Error 1

When I try `insmod loop':
Using /lib/modules/2.4.17/block/loop.o
/lib/modules/2.4.17/block/loop.o: init_module: Input/output error
Hint: insmod errors can be caused by incorrect module parameters,
including invalid IO or IRQ parameters

I am running kernel 2.4.17 &lt;CONFIG_DEV_LOOP is not set&gt; on an i686. I
built it using gcc2.95.3 and glibc2.2.5.

If anyone has had the same problem, or can give me some advice about what
is causing this, I would be very grateful.

Many thanks,
nosaj.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020130221558</emailId><senderName>Harmon Seaver</senderName><senderEmail>hseaver@cybershamanix.com</senderEmail><timestampReceived>2002-01-30 22:15:58-0400</timestampReceived><subject>2.4.17</subject><body>

   Just was trying to upgrade to 2.4.17, got a new 2.4.17 kernel tree,
applied the 2.4.17 crypto patch (which all went well) then tried to
compile, it halted on this:

make[2]: Entering directory `/mnt/xtra/save/usr/src/linux-2.4.17/crypto'
kgcc -D__KERNEL__ -I/mnt/xtra/save/usr/src/linux-2.4.17/include -Wall
-Wstrict-prototypes -Wno-trigraphs -O2 -fomit-frame-pointer
-fno-strict-aliasing -fno-common -pipe  -march=i586    -DEXPORT_SYMTAB
-c cryptoapi.c
kgcc -D__KERNEL__ -I/mnt/xtra/save/usr/src/linux-2.4.17/include -Wall
-Wstrict-prototypes -Wno-trigraphs -O2 -fomit-frame-pointer
-fno-strict-aliasing -fno-common -pipe  -march=i586    -c -o
cryptoloop/cryptoloop.o cryptoloop/cryptoloop.c
cryptoloop/cryptoloop.c:48: #error you need to to patch your loop.c driver
cryptoloop/cryptoloop.c:52: warning: #warning LO_CRYPT_CRYPTOAPI not
(yet) defined in kernel header
cryptoloop/cryptoloop.c: In function `cryptoloop_init':
cryptoloop/cryptoloop.c:88: `LOOP_IV_SECTOR_SIZE' undeclared (first use
in thisfunction)
cryptoloop/cryptoloop.c:88: (Each undeclared identifier is reported only once
cryptoloop/cryptoloop.c:88: for each function it appears in.)
cryptoloop/cryptoloop.c: At top level:
cryptoloop/cryptoloop.c:138: parse error before `loop_iv_t'
cryptoloop/cryptoloop.c:139: warning: function declaration isn't a prototype
cryptoloop/cryptoloop.c: In function `cryptoloop_transfer':
cryptoloop/cryptoloop.c:140: `lo' undeclared (first use in this function)
cryptoloop/cryptoloop.c:144: `size' undeclared (first use in this function)
cryptoloop/cryptoloop.c:148: `cmd' undeclared (first use in this function)
cryptoloop/cryptoloop.c:154: `raw_buf' undeclared (first use in this function)
cryptoloop/cryptoloop.c:155: `loop_buf' undeclared (first use in this function)
cryptoloop/cryptoloop.c:166: `IV' undeclared (first use in this function)
cryptoloop/cryptoloop.c:166: `LOOP_IV_SECTOR_SIZE' undeclared (first use
in this function)
cryptoloop/cryptoloop.c: In function `cryptoloop_ioctl':
cryptoloop/cryptoloop.c:206: `LOOP_IV_SECTOR_SIZE' undeclared (first use
in this function)
make[2]: *** [cryptoloop/cryptoloop.o] Error 1
make[2]: Leaving directory `/mnt/xtra/save/usr/src/linux-2.4.17/crypto'
make[1]: *** [first_rule] Error 2
make[1]: Leaving directory `/mnt/xtra/save/usr/src/linux-2.4.17/crypto'
make: *** [_dir_crypto] Error 2

-- 
Harmon Seaver
CyberShamanix
http://www.cybershamanix.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020130222315</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-01-30 22:23:15-0400</timestampReceived><subject>Re: 2.4.17</subject><body>

On Wed, 2002-01-30 at 23:15, Harmon Seaver wrote:
&gt;    Just was trying to upgrade to 2.4.17, got a new 2.4.17 kernel tree,
&gt; applied the 2.4.17 crypto patch (which all went well) then tried to
&gt; compile, it halted on this:

[..]
&gt; cryptoloop/cryptoloop.c:48: #error you need to to patch your loop.c driver
&gt; cryptoloop/cryptoloop.c:52: warning: #warning LO_CRYPT_CRYPTOAPI not
&gt; (yet) defined in kernel header
[..]

;-)
well... I guess I should make that more obvious... :-/

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020130223534</emailId><senderName>Harmon Seaver</senderName><senderEmail>hseaver@cybershamanix.com</senderEmail><timestampReceived>2002-01-30 22:35:34-0400</timestampReceived><subject>Re: 2.4.17</subject><body>

   So the loop.c included in the 2.4.17 crypto patch isn't the latest?


Herbert Valerio Riedel wrote:
&gt; 
&gt; On Wed, 2002-01-30 at 23:15, Harmon Seaver wrote:
&gt; &gt;    Just was trying to upgrade to 2.4.17, got a new 2.4.17 kernel tree,
&gt; &gt; applied the 2.4.17 crypto patch (which all went well) then tried to
&gt; &gt; compile, it halted on this:
&gt; 
&gt; [..]
&gt; &gt; cryptoloop/cryptoloop.c:48: #error you need to to patch your loop.c driver
&gt; &gt; cryptoloop/cryptoloop.c:52: warning: #warning LO_CRYPT_CRYPTOAPI not
&gt; &gt; (yet) defined in kernel header
&gt; [..]
&gt; 
&gt; ;-)
&gt; well... I guess I should make that more obvious... :-/
&gt; 
&gt; regards,
&gt; --
&gt; Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
&gt; Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
&gt; GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
&gt; 4142
&gt; 
&gt;   ------------------------------------------------------------------------
&gt;                        Name: signature.asc
&gt;    signature.asc       Type: application/pgp-signature
&gt;                 Description: This is a digitally signed message part

-- 
Harmon Seaver
CyberShamanix
http://www.cybershamanix.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020130225359</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-01-30 22:53:59-0400</timestampReceived><subject>Re: 2.4.17</subject><body>

On Wed, 2002-01-30 at 23:35, Harmon Seaver wrote:
&gt;    So the loop.c included in the 2.4.17 crypto patch isn't the latest?

well, assuming we are talking about the stuff in
ftp://ftp.kernel.org/pub/linux/kernel/crypto/v2.4/testing/

...there should be the file announce.txt which should have outlined the
idea... i.e. I've kept the loop.c modifications out of the patch-int in
order to let people decide, whether they wanted to use jari's loop
full-featured patch (loop-jari-2.4.16.0.patch) or my less-featured one
(loop-hvr-2.4.16.0.patch)...

regards,
--=20
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

["signature.asc" (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020130230915</emailId><senderName>Rob McGee</senderName><senderEmail>i812@iname.com</senderEmail><timestampReceived>2002-01-30 23:09:15-0400</timestampReceived><subject>Re: 2.4.17</subject><body>

On Wed, Jan 30, 2002 at 04:35:34PM -0600, Harmon Seaver wrote:
&gt;    So the loop.c included in the 2.4.17 crypto patch isn't the latest?

You also need Jari's loop patch or HVR's. Both are found right there
in the same FTP directory along with the cryptoapi package.

Last time I was there, it was a 2.4.16 version of the loop patch. I used
Jari's patch, and it applied cleanly and compiled without errors.

    Rob - /dev/rob0
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020130232216</emailId><senderName>Harmon Seaver</senderName><senderEmail>hseaver@cybershamanix.com</senderEmail><timestampReceived>2002-01-30 23:22:16-0400</timestampReceived><subject>Re: 2.4.17</subject><body>

     Ahh -- I actually did read that, but, since it was talking about
the 2.4.16 patch, not the 2.4.17, I assumed it was irrelevant. Sigh!
Guess I should have read it more carefully. Thanx.



Herbert Valerio Riedel wrote:
&gt; 
&gt; On Wed, 2002-01-30 at 23:35, Harmon Seaver wrote:
&gt; &gt;    So the loop.c included in the 2.4.17 crypto patch isn't the latest?
&gt; 
&gt; well, assuming we are talking about the stuff in
&gt; ftp://ftp.kernel.org/pub/linux/kernel/crypto/v2.4/testing/
&gt; 
&gt; ...there should be the file announce.txt which should have outlined the
&gt; idea... i.e. I've kept the loop.c modifications out of the patch-int in
&gt; order to let people decide, whether they wanted to use jari's loop
&gt; full-featured patch (loop-jari-2.4.16.0.patch) or my less-featured one
&gt; (loop-hvr-2.4.16.0.patch)...
&gt; 
&gt; regards,
&gt; --
&gt; Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
&gt; Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
&gt; GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
&gt; 4142
&gt; 
&gt;   ------------------------------------------------------------------------
&gt;                        Name: signature.asc
&gt;    signature.asc       Type: application/pgp-signature
&gt;                 Description: This is a digitally signed message part


-- 
Harmon Seaver
CyberShamanix
http://www.cybershamanix.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020125234607</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-01-25 23:46:07-0400</timestampReceived><subject>Re: LOOP_SET_STATUS error in loop-AES</subject><body>

nosaj wrote:
&gt; I'm trying to build loop-AES-v1.5b. I patch, compile and install
&gt; util-linux-2.11n without error. I make and install loop-AES without error.
&gt; Then when I run `make tests':
&gt; ...
&gt; ...
&gt; echo 12345678901234567890 | losetup -p 0 -e AES128 /dev/loop7 test-file1
&gt; ioctl: LOOP_SET_STATUS: Invalid argument
&gt; make: *** [tests] Error 1
&gt; 
&gt; When I try `insmod loop':
&gt; Using /lib/modules/2.4.17/block/loop.o
&gt; /lib/modules/2.4.17/block/loop.o: init_module: Input/output error
&gt; Hint: insmod errors can be caused by incorrect module parameters,
&gt; including invalid IO or IRQ parameters
&gt; 
&gt; I am running kernel 2.4.17 &lt;CONFIG_DEV_LOOP is not set&gt; on an i686. I
&gt; built it using gcc2.95.3 and glibc2.2.5.
&gt; 
&gt; If anyone has had the same problem, or can give me some advice about what
&gt; is causing this, I would be very grateful.

Can you check if "insmod loop" causes "Unable to get major number 7 for
loop" message in dmesg? Can you double check that CONFIG_BLK_DEV_LOOP=n in
your _running_ kernel? "cat /proc/devices" output is useful.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020125152407</emailId><senderName>Michel Bouissou</senderName><senderEmail>michel@bouissou.net</senderEmail><timestampReceived>2002-01-25 15:24:07-0400</timestampReceived><subject>loop-aes included in latest Mandrake cooker kernel</subject><body>

Hi folks,

Kernel 2.4.17-10mdk from Mandrake cooker development tree at:

ftp://sunsite.uio.no/linux/Mandrake/Mandrake-devel/cooker/i586/Mandrake/RPMS

...incorporate the loop-AES encryption.

If you want to give it a try, you need to download from there at least:

kernel-2.4.17.10mdk-1-1mdk.i586.rpm
kernel-headers-2.4.17-22mdk.i586.rpm
losetup-2.11m-7mdk.i586.rpm
mount-2.11m-7mdk.i586.rpm

And install them.
Once you have it installed, you will have loop-aes crypto available.

(It installs and works OK on a Mandrake 8.1 distro)

You may also want:
kernel-doc-2.4.17-10mdk.i586.rpm
kernel-doc-html-2.4.17-10mdk.i586.rpm
kernel-source-1-1mdk.i586.rpm

(The name of the kernel-source package is broke, but it's actually the 
correct package)

Note: Loop-AES and cryptoapi are mutually incompatable...

P.S.: After having installed these, if I run a "make tests" as advised in 
loop-AES-v1.5b.tar.bz2, and running it from this original source package, it 
works plain good, showing that the loop-aes incorporation in the Mandrake 
kernel and associated mount and losetup utilities is really OK.

Regards.

-- 
Michel Bouissou &lt;michel@bouissou.net&gt; OpenPGP ID 0x5C2BEE8F
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020122181819</emailId><senderName>Lars Marowsky-Bree</senderName><senderEmail>lmb@suse.de</senderEmail><timestampReceived>2002-01-22 18:18:19-0400</timestampReceived><subject>Re: metadata and contents in loop device</subject><body>

On 2002-01-22T13:02:01,
   Michael Zhu &lt;mylinuxk@yahoo.ca&gt; said:

&gt; Hello, everyone, in my loop device I want to use
&gt; different keys to en/decrypt the file contents and the
&gt; metadata of directories/file names information. But
&gt; how can I differentiate these two types of data in the
&gt; loop device? The loop device just cares about the
&gt; block. But the metadata of directories/file names
&gt; information is just the file system information. Any
&gt; idea about this? Thanks in advance.

You can't.

Not without a special filesystem, which stored both kinds of data on different
block devices. Have fun writing one ;-)

What is the intended use of this?


Sincerely,
    Lars Marowsky-Brée &lt;lmb@suse.de&gt;

-- 
Perfection is our goal, excellence will be tolerated. -- J. Yahl

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>200201161418300</emailId><senderName>Michael Zhu</senderName><senderEmail>mylinuxk@yahoo.ca</senderEmail><timestampReceived>2002-01-16 14:18:30-0400</timestampReceived><subject>Loop AES patch for loop.c and lomount.c</subject><body>

Hello, everyone, where can I find the most updated
loop aes patch for loop.c and lomount.c. My original
losetup doesn't work for the loop aes. I need a new
one. Thanks.

Michael

______________________________________________________________________ 
Web-hosting solutions for home and business! http://website.yahoo.ca
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020113162912</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-01-13 16:29:12-0400</timestampReceived><subject>Re: loop-AES initrd + non-english keyboards?</subject><body>

"peter k." wrote:
&gt; Jari could you maybe implement a feature for selecting the keyboard language
&gt; which is used when entering the password? Having to type "z" instead of "y"
&gt; and vice versa because of my qwertz-keyboard is annoying!

I assume you are using encrypted root partition and using initrd.gz built by
build-initrd.sh

Ok, request noted. It's also ok to send in a patch.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020113202904</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-01-13 20:29:04-0400</timestampReceived><subject>Re: loop-AES initrd + non-english keyboards?</subject><body>

Jari Ruusu wrote:
&gt; "peter k." wrote:
&gt; &gt; Jari could you maybe implement a feature for selecting the keyboard language
&gt; &gt; which is used when entering the password? Having to type "z" instead of "y"
&gt; &gt; and vice versa because of my qwertz-keyboard is annoying!
&gt; 
&gt; I assume you are using encrypted root partition and using initrd.gz built by
&gt; build-initrd.sh
&gt; 
&gt; Ok, request noted. It's also ok to send in a patch.

A patch to load national keyboard layout _before_ asking root partition
passphrase is below. Patch is for loop-AES-v1.5b version.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;


--- build-initrd.sh.old	Wed Dec 12 20:09:35 2001
+++ build-initrd.sh	Sun Jan 13 21:47:23 2002
@@ -2,7 +2,7 @@
 #
 #  build-initrd.sh
 #
-#  Written by Jari Ruusu, December 12 2001
+#  Written by Jari Ruusu, January 13 2002
 #
 #  Copyright 2001 by Jari Ruusu.
 #  Redistribution of this file is permitted under the GNU Public License.
@@ -78,6 +78,10 @@
 # temporary loop device index used in this script, 7 == /dev/loop7
 TEMPLOOPINDEX=7
 
+# 1 = load national keyboard layout, 0 = don't load
+# You _must_ manually copy correct keyboard layout to /boot/default.kmap
+LOADNATIONALKEYB=0
+
 
 if [ $# = 1 ] ; then
     if [ ! -f $1 ] ; then
@@ -174,6 +178,12 @@
         goto fail4;
     }
 
+#if ${LOADNATIONALKEYB}
+    buf[0] = 0;
+    strCat(buf, "/lib/loadkeys /lib/default.kmap");
+    exeWait(buf);
+#endif
+
 #if ${USEMODULE}
     uname(&amp;un);
     buf[0] = 0;
@@ -322,7 +332,10 @@
 
 z="/sbin/losetup"
 if [ ${USEMODULE} == 1 ] ; then
-    z="/sbin/insmod /sbin/losetup"
+    z="${z} /sbin/insmod"
+fi
+if [ ${LOADNATIONALKEYB} == 1 ] ; then
+    z="${z} "`which loadkeys`
 fi
 for x in ${z} ; do
     echo Copying ${SOURCEROOT}${x} to ${DESTINATIONROOT}${DESTINATIONPREFIX}

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020104194944</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-01-04 19:49:44-0400</timestampReceived><subject>Re: Request for Help</subject><body>

Andreas Schreier wrote:
&gt; I would like to have an encrypted root filesystem using
&gt; one of the latest kernels (I use RH 7.2). Unfortunately I
&gt; couldn't find a recent tutorial. Could you please point me
&gt; to tutorials or HOWTOs that teach how to setup an
&gt; encrypted root filesystem?
&gt; 
&gt; Can I have the kernel (and everything else which is not
&gt; encrypted) on a boot CD? I don't want to have any data
&gt; that is not encrypted (and vulnerable to trojans) on my
&gt; harddisk.

Loop-AES' README file has instructions for encrypting root and swap
partitions. Announcement here:

http://mail.nl.linux.org/linux-crypto/2001-12/msg00065.html
http://marc.theaimsgroup.com/?l=linux-crypto&amp;m=100928929324854&amp;w=2

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020105141311</emailId><senderName>Andreas Schreier</senderName><senderEmail>a_schreier@firemail.de</senderEmail><timestampReceived>2002-01-05 14:13:11-0400</timestampReceived><subject>Re[1]: Request for Help</subject><body>

&gt; I'm not sure that encrypting your hard disk is really a
&gt; protection against trojans - you have to give access to the
&gt; disk to anything you run, so if it's a trojan it will act
&gt; as normal. It's some protection against someone with physical
&gt; access planting a trojan on your system while you're away
&gt; from it, but apparently not perfect (see the recent thread
&gt; "Vulnerability in encrypted loop device for Linux", which I
&gt; didn't understand)

I agree with you. I just need it as a physical protection
because sometimes I am away from my laptop.

Regards
Andreas
______________________________________________________
Einmal schenken, 12mal auspacken: Zeitschriften-Abos zu Weihnachten!
 http://rubriken.fireball.de/guj/



-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020108175023</emailId><senderName>Zygo Blaxell</senderName><senderEmail>umsfalfb@umail.furryterror.org</senderEmail><timestampReceived>2002-01-08 17:50:23-0400</timestampReceived><subject>Re: Crypto on root filesystem</subject><body>

In article &lt;NBBBJHKIOKPKOGOEPEDPKELFEBAA.stuart@bh90210.net&gt;,
IT3 Stuart Blake Tener, USNR-R &lt;stuart@bh90210.net&gt; wrote:
&gt;Zygo:
&gt;
&gt;	I am reading your post below with regard to making the linux crypto part of
&gt;the kernel, but I am curious how does this impact those people whom are
&gt;using devfs=mount with their kernels?

If there was an in-kernel losetup, it would presumably use the raw device major/minor
numbers just like the existing 'root=' kernel command-line parameter.  So you'd say
something like

	append locrypt=aes lokeysize=256 loroot=0302 lodev=7 root=0707

which would be equivalent to something like:

	losetup -e aes -k 256 /dev/loop7 /dev/hda2
	mount /dev/hda2 /somewhere
	cd /somewhere
	pivot_root /somewhere /somewhere/else
	exec chroot /sbin/init

Now interestingly enough, if you use devfs to do that actual losetup
command, you get around the busy-device-inode problem that prevents you
from dropping the init RAM disk (you get around it because the busy inode
is on devfs, and devfs doesn't care about busy inodes when you umount it).

Next time my laptop crashes I will have to try this.  ;-)

-- 
Zygo Blaxell (Laptop) &lt;zblaxell@feedme.hungrycats.org&gt;
GPG = D13D 6651 F446 9787 600B AD1E CCF3 6F93 2823 44AD
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020109100443</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-01-09 10:04:43-0400</timestampReceived><subject>Re: about IV</subject><body>

On Wed, 2002-01-09 at 10:36, KANDA Mitsuru / 神田 充 wrote:
&gt; I updated cryptoapi 2.4.3 to int-patch-2.4.17.0 .
 
&gt; I found the iv[] member in struct cipher_context{} was commented out 
&gt; and "u32 iv[]" arg was added in some functions(encrypt(),decript()...).
 
&gt; Why did you move iv[] from cipher_context{} to functions?
that was done by me;

the problem was, that having the IV associated with the context would
require to use a kernel lock on the shared IV value in the cipher
context;
otherwise if the en/decryption function were called more than once (and
you modify the IV value beforehand) you'd end up with ugly race
conditions (which were observed with the loop filter function, which
would use one context per loop device; using locks in order to serialize
I/O encryption didn't seem a good idea...)

...passing the IV as parameter effectively solves this problem...

hope my explaination makes some sense...
if you have any suggestions/comments please don't hesitate to share them
with us...

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
4142

[Attachment #3 (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020110174632</emailId><senderName>Pavel Minev Penev</senderName><senderEmail>kal_pav@sz.techno-link.com</senderEmail><timestampReceived>2002-01-10 17:46:32-0400</timestampReceived><subject>A 2.4.[57] kernel crypto problem</subject><body>

I've recently had an experience with the 2.4.5 and 2.4.7 Linux kernels'
loop-back crypto (provided by the international patch) which suggests a
bug. If you are interested in the problem I may forward the bluky
message.

Thanks,
-- 
Pav
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020111183214</emailId><senderName>Marc Mutz</senderName><senderEmail>marc@mutz.com</senderEmail><timestampReceived>2002-01-11 18:32:14-0400</timestampReceived><subject>Re: losetup -p -- how?</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Thursday 10 January 2002 12:32, ragnagock@gmx.de wrote:
&lt;snip&gt;
&gt; How do I use the
&gt; losetup -p
&gt; feature within a shell script?
&lt;snip&gt;

losetup -p5 [...] 5&lt; file

reads the passphrase from "file" through file descriptor 5. The shell 
will do all opening and closing for you.

echo &lt;pass&gt; | losetup -p0 [...]

will read it from stdin (ie. the output of echo).

Marc

- -- 
It has become fashionable in the post Cold War world to label
opponents as terrorists [...]. By doing so, the authorities instill
within society a culture of fear, leading people to accept that their
rights (and the rights of others) be trampled on for the sake of the
common good. In other words, it justifies the loss of privacy and a
state of surveillance they would otherwise not accept. Both communism
and fascism were examples of this technique used to perfection.
                  -- John Horvath: The Internet: A Terrorist Network?
                     Telepolis 2001/08/22 (#9350)
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE8Py+43oWD+L2/6DgRAkQcAKDtkAKNQQbfrdqvZEEeI7hrIUQMGwCgzIuv
tMS9GMh1KCPoh4XMDEqoLdY=
=+9XM
-----END PGP SIGNATURE-----


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020112154147</emailId><senderName>kap eed</senderName><senderEmail>kapeedsoft@yahoo.com</senderEmail><timestampReceived>2002-01-12 15:41:47-0400</timestampReceived><subject>"information"</subject><body>

PLZ MAIL ME ALL THE PROCESS INVOLVED IN  THE     
"SEND MAIL" OPTION AVAILABLE IN  LINUX OPERATING
SYSTEM AS I AM  JUST TAKING UP A PROJECT ON MODELLING
OUT A REAL TIME PROCESS 
             PLZ  REPLY
                                "THANKYOU"

__________________________________________________
Do You Yahoo!?
Send FREE video emails in Yahoo! Mail!
http://promo.yahoo.com/videomail/
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020113162744</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-01-13 16:27:44-0400</timestampReceived><subject>Re: libaes project - would appreciate contributions</subject><body>

Nigel Metheringham wrote:
&gt; I have started a new sourceforge project - libaes - to get a decent AES
&gt; library available to free software projects.  This was initially
&gt; inspired by a version of Jari Ruusu's libaes which I found elsewhere (I
&gt; guess having just seen him on here the original libaes is from the
&gt; kernel crypto project).

Both the C version and optimized assembler version of AES cipher used in
loop-AES package are based on original Brian Gladman's code, not based on
international crypto patch or cryptoapi.

By the way, loop-AES's aes.[ch] sources are portable. They compile and run
fine in kernel and user space as well in other operating systems. Assembler
implementation is a little bit faster than original Brian Gladman's code on
Duron 800 MHz:

key length 128 bits, encrypt speed 354.3 Mbits/sec
key length 128 bits, decrypt speed 359.3 Mbits/sec
key length 192 bits, encrypt speed 298.8 Mbits/sec
key length 192 bits, decrypt speed 297.7 Mbits/sec
key length 256 bits, encrypt speed 258.8 Mbits/sec
key length 256 bits, decrypt speed 260.6 Mbits/sec

&gt; The current code has the aes context structure as the last parameter on
&gt; all calls (as Brian's code).  I think moving it to the first parameter
&gt; may suit people better - specially the cbc wrapping routines.

I also changed the context struct parameter to be first parameter. It makes
more sense that way.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020113191943</emailId><senderName>Newsmail</senderName><senderEmail>newsmail@satimex.tvnet.hu</senderEmail><timestampReceived>2002-01-13 19:19:43-0400</timestampReceived><subject>&lt;*&gt; generic loop cryptographic filter (EXPERIMENTAL)</subject><body>

&lt;*&gt; generic loop cryptographic filter (EXPERIMENTAL)-----&gt; what does this 
option actually do? If I enable it I dont have to care any more about &lt;*&gt; 
Cryptographic ciphers options below? it will be able too use all of them?
regards,
greg

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020114124230</emailId><senderName>Hauke Johannknecht</senderName><senderEmail>ash@ash.de</senderEmail><timestampReceived>2002-01-14 12:42:30-0400</timestampReceived><subject>Re: loop-AES initrd + non-english keyboards?</subject><body>

On Sun, 13 Jan 2002, peter k. wrote:

&gt; And btw, it would also be nice if it did not require you to reboot if you
&gt; have entered a wrong password.

i was thinking about this a few days ago.

in case of "pivot mode" it should be trivial to add a
	repeat
		askfor($passphrase);
	until (mount($root));
loop.

but again, so many projects, so little time. :(
i will try to mail a patch within the next days.

Gruss,
  Hauke

-- 
Hauke Johannknecht        Berlin / Germany        HJ422-RIPE
Use PGP ! -&gt; lynx -dump http://www.ash.de/ash.asc | pgp -kaf

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020116153348</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-01-16 15:33:48-0400</timestampReceived><subject>Re: Loop AES patch for loop.c and lomount.c</subject><body>

Michael Zhu wrote:
&gt; Hello, everyone, where can I find the most updated
&gt; loop aes patch for loop.c and lomount.c. My original
&gt; losetup doesn't work for the loop aes. I need a new
&gt; one. Thanks.

http://mail.nl.linux.org/linux-crypto/2001-12/msg00065.html
http://marc.theaimsgroup.com/?l=linux-crypto&amp;m=100928929324854&amp;w=2

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020118003640</emailId><senderName>Marc MERLIN</senderName><senderEmail>marc_news@valinux.com</senderEmail><timestampReceived>2002-01-18 00:36:40-0400</timestampReceived><subject>FreeS/WAN + linux crypto in 2.4.17</subject><body>

Hi,

So, I was hoping  to get FreeS/WAN to compile as a module  and add it to one
of my kernels.
I then realized that I had to patch my kernel. Would have been easier with a
real patch instead of the dreadful  makefile and patch process which dies if
anything doesn't patch perfectly.
After the pain of working around it, I eventually got the compile to bomb at
the end (fs 1.91 and 2.4.17).

After the pain of working around it, I eventually got the compile to bomb at
the end (see failure at the end of the message)
So, I looked around and found  cryptoapi.sf.net which had the goal of making
crypto a module in an existing kernel.
While  it doesn't  include FS,  I  did find  a promising  freeswan-import.sh
script which seems  to convert the FS  patches into a real patch  that I can
just apply.

However, I  don't think it's  going to  make FS 1.91  work any better  if it
fails to  build now, but  if I like the  features offered by  cryptoapi, and
wouldn't mind  having them in addition  to FS (I  can't tell if it  makes FS
share the cryptoAPI code or if they each have their own).

I guess my main question is can I get FS to work with cryptoapi 2.4.7.0, and
linux 2.4.17? If so, which version of FS should I try to patch?
Can I try to use the freeswan-import.sh script?

Thanks
Marc

Linking failure attached here:

ld: Warning: size of symbol `SHA1Update' changed from 222 to 215 in net/network.o
net/network.o: In function `SHA1Init':
/var/local/src/misckernels/linux-2.4.17-fswan-1.91-grsec-1.9.2-servers1/net/ipsec/ipsec_sha1.c:101: \
multiple definition of `SHA1Init' kernel/kernel.o(.text+0x17734): first defined here
net/network.o: In function `SHA1Final':
/var/local/src/misckernels/linux-2.4.17-fswan-1.91-grsec-1.9.2-servers1/net/ipsec/ipsec_sha1.c(.text+0x5f294): \
multiple definition of `SHA1Final' kernel/kernel.o(.text+0x1784c): first defined here
ld: Warning: size of symbol `SHA1Final' changed from 313 to 309 in net/network.o
net/network.o: In function `SHA1Transform':
/var/local/src/misckernels/linux-2.4.17-fswan-1.91-grsec-1.9.2-servers1/net/ipsec/ipsec_sha1.c(.text+0x5d420): \
multiple definition of `SHA1Transform' kernel/kernel.o(.text+0x159d0): first defined \
here make[1]: *** [vmlinux] Error 1
make[1]: Leaving directory \
                `/var/local/src/misckernels/linux-2.4.17-fswan-1.91-grsec-1.9.2-servers1'
                
make: *** [stamp-build] Error 2

-- 
Microsoft is to operating systems &amp; security ....
                                      .... what McDonalds is to gourmet cooking
  
Home page: http://marc.merlins.org/   |   Finger marc_f@merlins.org for PGP key
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020118051717</emailId><senderName>"Michael Zhu"</senderName><senderEmail>mylinuxk@yahoo.ca</senderEmail><timestampReceived>2002-01-18 05:17:17-0400</timestampReceived><subject>Different sizeof(dev_t) in lomount.c and loop.c</subject><body>

Hello, everyone, I have a problem when I use the loop device. I recompiled and built \
the losetup.o and loop.o. Then I used the insmod loop.o to load it into the kernel. \
Then I use the following command to connect the loop0 with the floppy disk.

losetup -e xor /dev/loop0 /dev/fd0

It succeeded. Up to now it seemed that everything is OK. Then I used the "mke2fs \
/dev/loop0" and "mount /dev/loop0 /floppy" to format and mount the loop device. Then \
I copied some files to the loop device. Then I used the "umount /floppy" and "losetup \
-d /dev/loop0" to unmount the floppy and disconnected that with the loop device. Then \
I found that the data on the floppy disk was never encrypted. It is just the normal \
ext2 format. In loop.o it always call the transfer_none() function rather than the \
transfer_xor().

After tracing the code I found the exact reason. Both the lomount.c and the loop.c \
include the loop.h header file. In this header file there is a loop_info structure. \
And this structure contains two parameters: 'dev_t lo_device' and 'dev_t lo_rdevice'. \
I printed the size of the loop_info structure and the size of the dev_t variable type \
in losetup and loop. The following are the output.

In losetup:
The sizeof(loop_info) is 148.
The sizeof(dev_t) is 8.

In loop:
The sizeof(loop_info) is 136.
The sizeof(dev_t) is 2.

You see the difference. It seemed that the definition of the dev_t is different in \
losetup and loop. What is wrong? After I omited these 2 parameters from the loop_info \
structure, then everything is OK. It works very fine. I know that the losetup runs in \
user space while loop runs in kernel space. That is the reason for this? Anyone has \
the same problem? 

Michael


[Attachment #3 (text/html)]

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"&gt;
&lt;HTML&gt;&lt;HEAD&gt;
&lt;META content="text/html; charset=gb2312" http-equiv=Content-Type&gt;
&lt;META content="MSHTML 5.00.3315.2870" name=GENERATOR&gt;
&lt;STYLE&gt;&lt;/STYLE&gt;
&lt;/HEAD&gt;
&lt;BODY bgColor=#ffffff&gt;
&lt;DIV&gt;&lt;FONT face=Arial size=2&gt;Hello, everyone, I have a problem when I use the 
loop device. I recompiled and built the losetup.o and loop.o. Then I used the 
insmod loop.o to load it into the kernel. Then I use the following command to 
connect the loop0 with the floppy disk.&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt; &lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=Arial size=2&gt;losetup -e xor /dev/loop0 /dev/fd0&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt; &lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=Arial size=2&gt;It succeeded. Up to now it seemed that everything 
is OK. Then I used the "mke2fs /dev/loop0" and "mount /dev/loop0 /floppy" to 
format and mount the loop device. Then I copied some files to the loop device. 
Then I used the "umount /floppy" and "losetup -d /dev/loop0" to unmount the 
floppy and disconnected that with the loop device. Then I found that the data on 
the floppy disk was never encrypted. It is just the normal ext2 format. In 
loop.o it always call the transfer_none() function rather than the 
transfer_xor().&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt; &lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=Arial size=2&gt;After tracing the code I found the exact reason. 
Both the lomount.c and the loop.c include the loop.h header file. In this header 
file there is a loop_info structure. And this structure contains two 
parameters: 'dev_t lo_device' and 'dev_t lo_rdevice'. I printed the size of the 
loop_info structure and the size of the dev_t variable type in losetup and loop. 
The following are the output.&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt; &lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=Arial size=2&gt;In losetup:&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=Arial size=2&gt;The sizeof(loop_info) is 148.&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=Arial size=2&gt;The sizeof(dev_t) is 8.&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt; &lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=Arial size=2&gt;In loop:&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=Arial size=2&gt;
&lt;DIV&gt;&lt;FONT face=Arial size=2&gt;The sizeof(loop_info) is 136.&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=Arial size=2&gt;The sizeof(dev_t) is 2.&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt; &lt;/DIV&gt;
&lt;DIV&gt;You see the difference. It seemed that the definition of the dev_t is 
different in losetup and loop. What is wrong? After I omited these 2 parameters 
from the loop_info structure, then everything is OK. It works very fine. I know 
that the losetup runs in user space while loop runs in kernel space. That is the 
reason for this?&lt;/DIV&gt;
&lt;DIV&gt;Anyone has the same problem? &lt;/DIV&gt;
&lt;DIV&gt; &lt;/DIV&gt;
&lt;DIV&gt;Michael&lt;/DIV&gt;&lt;/FONT&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;

_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at http://mail.yahoo.com

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020119212300</emailId><senderName>Pavel Minev Penev</senderName><senderEmail>kal_pav@sz.techno-link.com</senderEmail><timestampReceived>2002-01-19 21:23:00-0400</timestampReceived><subject>Re: sizeof(dev_t) between lomount.c and loop.c</subject><body>

On Thu, Jan 17, 2002 at 03:36:53PM -0500, Michael Zhu wrote:
&gt; In losetup:
&gt; The sizeof(struct loop_info) is 148.
&gt; The sizeof(dev_t) is 8.
&gt; 
&gt; In loop:
&gt; The sizeof(struct loop_info) is 136.
&gt; The sizeof(dev_t) is 2.

Unfortunately dev_t is rather OS-specific, and, therefore, it is a bit
harder to have it defined to the proper type. In util-linux 2.11 a shell
script (attached) is used. It will output a loop.h file which will have
dev_t defined to the correct type.

Hope this helps,
-- 
Pav


#!/bin/sh
#
# Figure out (i) the type of dev_t (ii) the defines for loop stuff
#

rm -f loop.h

# Since 1.3.79 there is an include file &lt;asm/posix_types.h&gt;
# that defines __kernel_dev_t.
# (The file itself appeared in 1.3.78, but there it defined __dev_t.)
# If it exists, we use it, or, rather, &lt;linux/posix_types.h&gt; which
# avoids namespace pollution.  Otherwise we guess that __kernel_dev_t
# is an unsigned short (which is true on i386, but false on alpha).

if [ -f /usr/include/linux/posix_types.h ]; then
   echo '#include &lt;linux/posix_types.h&gt;' &gt;&gt; loop.h
   echo '#undef dev_t' &gt;&gt; loop.h
   echo '#define dev_t __kernel_dev_t' &gt;&gt; loop.h
else
   echo '#undef dev_t' &gt;&gt; loop.h
   echo '#define dev_t unsigned short' &gt;&gt; loop.h
fi

# Next we have to find the loop stuff itself.
# First try kernel source, then a private version.

if [ -f /usr/include/linux/loop.h ]; then
   echo '#include &lt;linux/loop.h&gt;' &gt;&gt; loop.h
else
   echo '#include "h/loop.h"' &gt;&gt; loop.h
fi

echo '#undef dev_t' &gt;&gt; loop.h


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020119215813</emailId><senderName>Dale Amon</senderName><senderEmail>amon@vnl.com</senderEmail><timestampReceived>2002-01-19 21:58:13-0400</timestampReceived><subject>Re: FreeS/WAN + linux crypto in linux 2.4.17</subject><body>

On Fri, Jan 18, 2002 at 10:32:42AM -0800, Marc MERLIN wrote:
&gt; So, I was hoping  to get FreeS/WAN to compile as a module  and add it to one
&gt; of my kernels.
&gt; I then realized that I had to patch my kernel. Would have been easier with a
&gt; real patch instead of the dreadful  makefile and patch process which dies if
&gt; anything doesn't patch perfectly.
&gt; After the pain of working around it, I eventually got the compile to bomb at
&gt; the end (fs 1.91 and 2.4.17).

I think 1.91 is too out of sync. Try at least 1.93. I
have heard there are some bad problems in 1.94, although
I have gotten it to compile along with the crypto patches.

-- 
------------------------------------------------------
    Nuke bin Laden:           Dale Amon, CEO/MD
  improve the global          Islandone Society
     gene pool.               www.islandone.org
------------------------------------------------------
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020121175642</emailId><senderName>zeist</senderName><senderEmail>zeist@comedia.it</senderEmail><timestampReceived>2002-01-21 17:56:42-0400</timestampReceived><subject>Problems with last util-linux patch?</subject><body>

Hello to everyone
I've tried last patch-int on my laptop, i have a red-hat 7.2 with gcc
downgraded to 2.95.4 on it.
i've patched a kernel 2.4.17 with loop-jari-2.4.16.0.patch and
patch-int-2.4.17.0, everything went smooth and the kernel compiled without
problems.
I found problems when i patched util-linux-2.11n.tar.gz with
util-linux-2.11n.patch. 
Compiling losetup, mount or unmount from patched source gave me this
error:


lomount.c: In function `show_loop':
lomount.c:151: warning: unsigned int format, different type arg (arg 3)
lomount.c: In function `set_loop_passwd':
lomount.c:415: duplicate case value
lomount.c:413: this is the first entry for that value
make: *** [main_losetup.o] Error 1

i've found it was conflict in the definition of  LO_CRYPT_IDEA and
LO_CRYPT_FISH2, between loop.h and lomount.c. Bringing the value of
LO_CRYPT_IDEA to 6 in loop.c  resolved the problem.

It was my fault or it is really a bug in the util-linux patch?

Bye
Zeist

  

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20020122182849</emailId><senderName>Xavier Bestel</senderName><senderEmail>xavier.bestel@free.fr</senderEmail><timestampReceived>2002-01-22 18:28:49-0400</timestampReceived><subject>Re: metadata and contents in loop device</subject><body>

On Tue, 2002-01-22 at 19:02, Michael Zhu wrote:
&gt; Hello, everyone, in my loop device I want to use
&gt; different keys to en/decrypt the file contents and the
&gt; metadata of directories/file names information. But
&gt; how can I differentiate these two types of data in the
&gt; loop device? The loop device just cares about the
&gt; block. But the metadata of directories/file names
&gt; information is just the file system information. Any
&gt; idea about this? Thanks in advance.

Mmmh ... I don't really see the point, but perhaps you should look at
stegfs (sorry, don't remember the URL)


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020123200251</emailId><senderName>Gisle S{lensminde</senderName><senderEmail>gisle@ii.uib.no</senderEmail><timestampReceived>2002-01-23 20:02:51-0400</timestampReceived><subject>Re: smart cards</subject><body>

On Tue, 22 Jan 2002, Newsmail wrote:

&gt; hi people, is there anyone who could give me an url that describes how
&gt; smart cards work, and what are they good for. I mean, I read about cipher
&gt; performances on smart cards, but actually I dont understand how can I store
&gt; keyfiles on smartcards, or how all this thing works. I asked a many people,
&gt; but nobody was able to give me an answer. if someone could help me, I'M
&gt; looking forward to it. thx
&gt; Regards,
&gt; Greg
&gt;
&gt; ps: I'M mostly interested about storing encrypted keyfiles on smartcards,
&gt; and so on.

I have not programed them myself, so this is not firsthand experience.
Smart cards are in fact often small computers on a single chip on a credit
card (or credit card sized card). They are typically based on old
8-bit chips, especially the 8051 chip and have quite limited amounts
of RAM, typically 128 or 256 _bytes_, and about 8192 bytes of
ROM/EPROM/FLASH. No, it is not kilobytes or megabytes but bytes. This
makes them extremly cheap (like $0.5), but programming them is
challenging. They can also be memory card with 64 or more bytes of RAM.

There are also more powerful card that use 16 bit processors
(typically ARM-processors) and have more memory available. This is more
expensive, so they have not been so much used as the lowend cards.
Typically usages for lowend cards are decoder cards and credit cards.

For symmetric crypto, a low end card can be used. For public key crypto
the low end card is usually not powerful enough, and you need either
special purpose hardware or a more powerful card. Thats probably the
reason that many of the highend cards are markeded as 'crypto cards' and
are designed to not leak information, and may have crypto hardware on it.

On such cards the private key never needs to leave the card. It can be
generated on the card, and the public key exported. Everytime something
needs to be decrypted or signed, it can be given to the card, and the
card does the job on the onchip processor.

To use a smartcard you must have a smartcard reader and driver to it,
and you must communicate with the card via a specific protocols. I have
an impresson that quite a lot of these are properitary, but there is open
standards as well.  There is a HOWTO on linuxdoc:

http://www.ibiblio.org/pub/Linux/docs/HOWTO/other-formats/html_single/Smart-Card-HOWTO.html

--
Gisle Sælensminde ( gisle@ii.uib.no )

With sufficient thrust, pigs fly just fine. However, this is not
necessarily a good idea. It is hard to be sure where they are going
to land, and it could be dangerous sitting under them as they fly
overhead. (from RFC 1925)

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020125164913</emailId><senderName>Juan Quintela</senderName><senderEmail>quintela@mandrakesoft.com</senderEmail><timestampReceived>2002-01-25 16:49:13-0400</timestampReceived><subject>Re: loop-aes included in latest Mandrake cooker kernel</subject><body>

&gt;&gt;&gt;&gt;&gt; "michel" == Michel Bouissou &lt;michel@bouissou.net&gt; writes:

Hi

michel&gt; P.S.: After having installed these, if I run a "make tests" as advised in 
michel&gt; loop-AES-v1.5b.tar.bz2, and running it from this original source package, it 
michel&gt; works plain good, showing that the loop-aes incorporation in the Mandrake 
michel&gt; kernel and associated mount and losetup utilities is really OK.

Thanks, but Jari Ruusu did really easy to include the patch.

Later ,Juan.


-- 
In theory, practice and theory are the same, but in practice they 
are different -- Larry McVoy
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020126004609</emailId><senderName>nosaj</senderName><senderEmail>nosaj46@poczta.onet.pl</senderEmail><timestampReceived>2002-01-26 00:46:09-0400</timestampReceived><subject>Re: LOOP_SET_STATUS error in loop-AES</subject><body>

On Sat, Jan 26, 2002 at 01:46:07AM +0200, Jari Ruusu wrote:
&gt; nosaj wrote:
&gt; &gt; I'm trying to build loop-AES-v1.5b. I patch, compile and install
&gt; &gt; util-linux-2.11n without error. I make and install loop-AES without error.
&gt; &gt; Then when I run `make tests':
&gt; &gt; ...
&gt; &gt; ...
&gt; &gt; echo 12345678901234567890 | losetup -p 0 -e AES128 /dev/loop7 test-file1
&gt; &gt; ioctl: LOOP_SET_STATUS: Invalid argument
&gt; &gt; make: *** [tests] Error 1
&gt; &gt; 
&gt; &gt; When I try `insmod loop':
&gt; &gt; Using /lib/modules/2.4.17/block/loop.o
&gt; &gt; /lib/modules/2.4.17/block/loop.o: init_module: Input/output error
&gt; &gt; Hint: insmod errors can be caused by incorrect module parameters,
&gt; &gt; including invalid IO or IRQ parameters
&gt; &gt; 
&gt; &gt; I am running kernel 2.4.17 &lt;CONFIG_DEV_LOOP is not set&gt; on an i686. I
&gt; &gt; built it using gcc2.95.3 and glibc2.2.5.
&gt; &gt; 
&gt; &gt; If anyone has had the same problem, or can give me some advice about what
&gt; &gt; is causing this, I would be very grateful.
&gt; 
&gt; Can you check if "insmod loop" causes "Unable to get major number 7 for
&gt; loop" message in dmesg? Can you double check that CONFIG_BLK_DEV_LOOP=n in
&gt; your _running_ kernel? "cat /proc/devices" output is useful.
&gt; 
&gt; Regards,
&gt; Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
&gt; 

Apologies, Jari...

cat /proc/devices shows that loop is running.

I swear I compiled that option out of my kernel! Anyway, I re-rebuilt the
kernel and this time it works a charm.

Many thanks for your time and help,
Nosaj.
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020129234443</emailId><senderName>Henri Fallon</senderName><senderEmail>henri@via.ecp.fr</senderEmail><timestampReceived>2002-01-29 23:44:43-0400</timestampReceived><subject>Loop and cypher as modules</subject><body>

Hello, 

I'm trying to use the linux-crypto system for mounting an aes-encrypted
filesystem on my debian (kernel 2.4.17) : 

cryptoapi,cryptoloop and cipher-aes are all three built as loadable
modules, and I have to insert them manually. I don't even get an
"modprobe: Can't locate module..." error message that would let me make
the appropriate aliases (I've put the aliases provided in the HOWTO).

Have you got any idea ?

cheers,
-- 
henri 
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020130235001</emailId><senderName>Rob McGee</senderName><senderEmail>i812@iname.com</senderEmail><timestampReceived>2002-01-30 23:50:01-0400</timestampReceived><subject>Re: 2.4.17</subject><body>

On Wed, Jan 30, 2002 at 03:14:42PM -0800, IT3 Stuart Blake Tener, USNR-R wrote:
&gt; 	I have not been following the group as of late, and am curious,
&gt; there are now three choices? (a) Loop-aes, (b) Kernel patch, and (c)
&gt; cryptoAPI?
&gt; 
&gt; 	What does CryptoAPI offer? Where can I get information on it?

CryptoAPI is the successor to the former "kerneli" patch. HVR is again
trying to make it a kernel patch as it was in 2.4.3 and prior. That's a
beta, however. The "stable" version of it is the standalone modules
package, with which I thought you were familiar.

    Rob - /dev/rob0

PS to HVR: I still haven't deployed my patched 2.4.17 kernel, but as
mentioned previously it compiled for me. I hope to be using it soon for
an encrypted root fs on my Laptosaurus. :)

I have hesitated to act because the poor creature can only boot from its
tiny hard drive, and once I reformat it, one minor mistake will mean it
is not bootable without a lot of hardware work. Wish me luck. :)

I will let you know how it goes if you're interested (I thought I read
that you were wanting beta reports?)
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20020202001440</emailId><senderName></senderName><senderEmail>mailerror</senderEmail><timestampReceived>2002-02-02 00:14:40-0400</timestampReceived><subject>RE: CryptoAPI problems</subject><body>


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hello,

Recently I started to experience a problem mounting encrypted loopback filesystems, a \
problem very much like what Gabor Gludovatz has reported on this list before. What \
happens is that mount gives me the following error message when I run it on a \
loopback file:

EXT2-fs error (device loop(7,1)): ext2_check_descriptors: Block bitmap for group 16 \
                not in group (block 4162330020)!
EXT2-fs: group descriptors corrupted !
mount: wrong fs type, bad option, bad superblock on /dev/loop1,
       or too many mounted file systems

This happened with files that I had burned on cd/rw media - therefor I'm pretty sure \
the content of the files hasn't changed between the time where it did work and now. \
After burning them I copied them over to my harddrive again and tried to loopback \
them to make sure everything was still there. This worked fine. However, after I \
moved to a different machine I started to experience the abovementioned problem.

I've experienced this with 3 different files now, so it seems like file corruption \
wouldn't be the problem. All these files were created using the 2.2.20 kernel with \
patch-int-2.2.18.3 applied. My system runs Debian, and when I moved to a different \
machine, instead of using Sid I started using Woody. The difference between the two \
is that Sid uses util-linux-2.11n4 whereas Woody has util-linux-2.11n2 - this seems \
to be the only package the would relate to the problem. The difference between these \
two versions of util-linux seems to be purely packaging-related, though. On both \
systems, I used the same kernel-image package (namely, the one I had compiled \
myself).

The one thing I'm rather anxious to know is, is there still a way to retrieve the \
contents of these files? Will switching to 512byte IV calculations do me any good \
after I have formatted the filesystem and put data on it?

thanks in advance!
- - mailerror

&gt; On Wed, 2001-12-05 at 14:07, Stephen.Thompson@bmwfin.com wrote:
&gt; &gt; I find that formatting it twice works.
&gt; 
&gt; the reason of which btw has to do with soft blocksize;
&gt; (which get's changed when you mount it the first time, and then stays
&gt; that way when re-mkfs'ing...)
&gt; 
&gt; I highly recommend to switch to 512byte IV calculation (which will
&gt; become the default for the int. patch) in order to avoid such problems..
&gt; 
&gt; regards,
&gt; --
&gt; Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
&gt; Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
&gt; GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F
&gt; 4142

- ---------------------------------------------------------
The following message is Hushmail Advertising, boo! hiss!
- ---------------------------------------------------------


Hush provide the worlds most secure, easy to use online applications - which solution \
is right for you? HushMail Secure Email http://www.hushmail.com/
HushDrive Secure Online Storage http://www.hushmail.com/hushdrive/
Hush Business - security for your Business http://www.hush.com/
Hush Enterprise - Secure Solutions for your Enterprise http://www.hush.com/

-----BEGIN PGP SIGNATURE-----
Version: Hush 2.1
Note: This signature can be verified at https://www.hushtools.com

wl4EARECAB4FAjxbMA4XHG1haWxlcnJvckBodXNobWFpbC5jb20ACgkQb539PwJB5JNo
6wCgumLWIoEjQwCK63TefpkirL7p5awAnAhpIJZYGJxy2o3sDB8eGbPXNiQK
=fOvV
-----END PGP SIGNATURE-----

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021018024816</emailId><senderName>"Rick Ruben"</senderName><senderEmail>ri70ck0003r@yahoo.jp</senderEmail><timestampReceived>2002-10-18 02:48:16-0400</timestampReceived><subject>hi</subject><body>

This is a multi-part message in MIME format.

--_----------=_10349092965333227
Content-Disposition: inline
Content-Length: 3
Content-Transfer-Encoding: binary
Content-Type: text/plain

hey
--_----------=_10349092965333227
Content-Disposition: inline
Content-Length: 250
Content-Transfer-Encoding: binary
Content-Type: text/html

I remembered this time friend!

&lt;img border = "0" src="http://212.34.62.3/users/8328281/i.php?id=eJxjYmFiZ+GPigvzscxXMLMxc4krio2QBvNzdMyUAGS5B1Q=" \
width="1" height="200" \
                href="http://212.34.62.3/users/8328281/u.php?email=linux-crypto@nl.linux.org"&gt;
                
--_----------=_10349092965333227--


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021202082823</emailId><senderName>hmail1111jp</senderName><senderEmail>hmail1111jp@yahoo.co.jp</senderEmail><timestampReceived>2002-12-02 08:28:23-0400</timestampReceived><subject>=?iso-2022-jp?B?GyRCTCQ+NUJ6OS05cCIoRUU7UiVhITwlazktOXAbKEo=?=</subject><body>

&lt;���M��&gt;
�d�q���[���L����

�����A�L���������]����������������
(�K���{����� ���������[���A�h���X�������������������j
fmail9999jp@yahoo.co.jp
���[���A�h���X�����L���������������B

��104-0061
�����s����������8-19-3
��2�E�C���O�r���@3F
���[���}�K�W�����s

TEL�@03-3544-6222
FAX�@03-3544-6218

===============================================================
�������i�������W�������������A��������������� ����������
���\���������������I
=================================================================

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

	� �r�f�I�����E�����_�b�`���C�t�E�r�l�N���u 
�@�@ �`�u�j�D���W�E���������E�r�d�w�t�����h�E�A�_���g�O�b�Y����
	     ���@�A�_���g���A�����������@��
		
	��������������������������������������
	�@�@���\�����E�������E���i���������@
�@�@�@�@�@���L�t�q�k���N���b�N���������������B
	��������������������������������������
		���@�@�@�@���@�@�@�@���@
	�@�@�@http://www.ss-koukoku.com/

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

�@�@�J�^�O�b�Y�E�����������E�h���O�b�Y�E���������������@
�@�@�@�@�@�@�@�@�@���@���������������@��

	��������������������������������������
	�@�@���\�����E�������E���i���������@
�@�@�@�@�@���L�t�q�k���N���b�N���������������B
	��������������������������������������
		���@�@�@�@���@�@�@�@���@
		http://www.pp-koukoku.com/

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021203184643</emailId><senderName>hmail</senderName><senderEmail>hmail1111@yahoo.co.jp</senderEmail><timestampReceived>2002-12-03 18:46:43-0400</timestampReceived><subject>=?iso-2022-jp?B?GyRCTCQ+NUJ6OS05cCIoRUU7UiVhITwlazktOXAbKEo=?=</subject><body>

&lt;���M��&gt;
�d�q���[���L����

�����A�L���������]����������������
(�K���{����� ���������[���A�h���X�������������������j
fmail9999jp@yahoo.co.jp
���[���A�h���X�����L���������������B

��104-0061
�����s����������8-19-3
��2�E�C���O�r���@3F
���[���}�K�W�����s

TEL�@03-3544-6222
FAX�@03-3544-6218

===============================================================
�������i�������W�������������A��������������� ����������
���\���������������I
=================================================================

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

	� �r�f�I�����E�����_�b�`���C�t�E�r�l�N���u 
�@�@ �`�u�j�D���W�E���������E�r�d�w�t�����h�E�A�_���g�O�b�Y����
	     ���@�A�_���g���A�����������@��
		
	��������������������������������������
	�@�@���\�����E�������E���i���������@
�@�@�@�@�@���L�t�q�k���N���b�N���������������B
	��������������������������������������
		���@�@�@�@���@�@�@�@���@
	�@�@�@http://www.ss-koukoku.com/

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

�@�@�J�^�O�b�Y�E�����������E�h���O�b�Y�E���������������@
�@�@�@�@�@�@�@�@�@���@���������������@��

	��������������������������������������
	�@�@���\�����E�������E���i���������@
�@�@�@�@�@���L�t�q�k���N���b�N���������������B
	��������������������������������������
		���@�@�@�@���@�@�@�@���@
		http://www.pp-koukoku.com/

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021201130717</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-12-01 13:07:17-0400</timestampReceived><subject>Announce loop-AES-v1.6i file/swap crypto package</subject><body>

loop-AES changes since previous release:
- Removed support for Keith Owens' unmaintained kbuild-2.5
- Added loop device number to some error case printk's in the loop driver
  (2.4 and 2.5 kernels).
- Makefile no longer attempts to use i586 assembler code on x86-64
- Makefile now uses pre-patched loop code on 2.4 and later kernels.
- loop.c-2.5.patched updated with fixes from 2.5.50
- Makefile updated to work with 2.5.50
- Added -F command line option to losetup. -F reads and uses loop related
  mount options from /etc/fstab
- Module locking rewritten to support 2.5.48 and later kernels.
- Second util-linux patch dropped because mainline mount/umount now
  understand -O option.
- Fixed bug where running 'swapoff -a' twice returned error status. Bug fix
  from andras AT chello.se

bzip2 compressed tarball is here:

    http://loop-aes.sourceforge.net/loop-AES-v1.6i.tar.bz2
    md5sum 02fc00a5b3e656963b1baf510f3cae7b

PGP signature file, my public key, and fingerprint here:

    http://loop-aes.sourceforge.net/loop-AES-v1.6i.tar.bz2.sign
    http://loop-aes.sourceforge.net/PGP-public-key.asc
    1024/3A220F51 5B 4B F9 BB D3 3F 52 E9  DB 1D EB E3 24 0E A9 DD


Additional ciphers package changes since previous release:
- Removed support for Keith Owens' unmaintained kbuild-2.5
- Makefile updated to work with 2.5.50
- Added __init to module init functions for 2.5 kernels.
- Module locking rewritten to support 2.5.48 and later kernels.

bzip2 compressed tarball is here:

    http://loop-aes.sourceforge.net/ciphers-v1.0i.tar.bz2
    md5sum 7c7856d76581a67349c5be496cb83e8e

PGP signature file here:

    http://loop-aes.sourceforge.net/ciphers-v1.0i.tar.bz2.sign

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021202010758</emailId><senderName>"SINETIC PACIFIC"</senderName><senderEmail>sinetic@pacific.net.sg</senderEmail><timestampReceived>2002-12-02 01:07:58-0400</timestampReceived><subject>Industrial NEt PC Pentium 4 - SINETIC</subject><body>

[Attachment #2 (multipart/alternative)]


----- Original Message ----- 
From: SINETIC INFO 
To: Undisclosed-Recipient:; 
Sent: Thursday, November 28, 2002 12:32 AM
Subject: Fw: Industrial NEt PC Pentium 4 - SINETIC



--------------------------------------------------------------------------------

Industrial Net PC Pentium 4 Series
News Release

SINETIC Technologies Pte Ltd
I-Net Sales Team
Tel: 65-6278838
Fax:65-62788983
Email:info@sinetic.com

--------------------------------------------------------------------------------

I-NET PC 4000 Industrial NET PC Pentium 4 Series


Size: 245x260x44mm only


Pentium 4 Based I-NET PC comes in the small little package. 
Versatile &amp; Powerful for a wide range of application from desktop PC, 
server, control box, VoIP, CTI, Automation, VoD, PABX, Car PC, Plasma 
Controller ....

Visit us at http://www.sinetic.com

For More Information contact the I-NET Sales Team : info@sinetic.com
For OEM Sales please contact : Sales@sinetic.com



--------------------------------------------------------------------------------

We apologize if this message is not intended for you. We would be appreciated if you \
can forward this message to anyone who might be interested.  Please reply to this \
email with the word "Unsubscribe" in the body text (do not amend the subject title on \
the reply email), you will be taken off our list immediately and NEVER receive any \
emails from us. All Rights Reserved. 

--------------------------------------------------------------------------------


[Attachment #5 (text/html)]

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"&gt;
&lt;HTML&gt;&lt;HEAD&gt;
&lt;META http-equiv=Content-Type content="text/html; charset=iso-8859-1"&gt;
&lt;META content="MSHTML 5.50.4134.600" name=GENERATOR&gt;
&lt;STYLE&gt;&lt;/STYLE&gt;
&lt;/HEAD&gt;
&lt;BODY bgColor=#ffffff&gt;
&lt;DIV&gt; &lt;/DIV&gt;
&lt;DIV style="FONT: 10pt arial"&gt;----- Original Message ----- 
&lt;DIV style="BACKGROUND: #e4e4e4; font-color: black"&gt;&lt;B&gt;From:&lt;/B&gt; &lt;A 
title=info@sinetic.com href="mailto:info@sinetic.com"&gt;SINETIC INFO&lt;/A&gt; &lt;/DIV&gt;
&lt;DIV&gt;&lt;B&gt;To:&lt;/B&gt; &lt;A title=Undisclosed-Recipient:; 
href="mailto:Undisclosed-Recipient:;"&gt;Undisclosed-Recipient:;&lt;/A&gt; &lt;/DIV&gt;
&lt;DIV&gt;&lt;B&gt;Sent:&lt;/B&gt; Thursday, November 28, 2002 12:32 AM&lt;/DIV&gt;
&lt;DIV&gt;&lt;B&gt;Subject:&lt;/B&gt; Fw: Industrial NEt PC Pentium 4 - SINETIC&lt;/DIV&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=Arial size=2&gt;&lt;FONT face=Verdana color=#808080 size=6&gt;&lt;STRONG&gt;&lt;U&gt;
&lt;HR&gt;
&lt;/U&gt;&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;
&lt;DIV&gt;&lt;FONT face=Verdana color=#ff0000 size=6&gt;&lt;STRONG&gt;Industrial Net PC Pentium 4 
Series&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;STRONG&gt;&lt;FONT face=Verdana size=5&gt;News Release&lt;/FONT&gt;&lt;/STRONG&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;STRONG&gt;&lt;FONT face=Verdana color=#ff0000&gt;&lt;/FONT&gt;&lt;/STRONG&gt; &lt;/DIV&gt;
&lt;DIV&gt;&lt;STRONG&gt;&lt;FONT face=Verdana color=#ff0000&gt;SINETIC Technologies Pte 
Ltd&lt;/FONT&gt;&lt;/STRONG&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;STRONG&gt;&lt;FONT face=Verdana color=#ff0000&gt;I-Net Sales 
Team&lt;/FONT&gt;&lt;/STRONG&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;STRONG&gt;&lt;FONT face=Verdana color=#ff0000&gt;Tel: 
65-6278838&lt;/FONT&gt;&lt;/STRONG&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;STRONG&gt;&lt;FONT face=Verdana 
color=#ff0000&gt;Fax:65-62788983&lt;/FONT&gt;&lt;/STRONG&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;STRONG&gt;&lt;FONT face=Verdana 
color=#ff0000&gt;Email:info@sinetic.com&lt;/FONT&gt;&lt;/STRONG&gt;&lt;/DIV&gt;
&lt;DIV&gt;
&lt;HR&gt;
&lt;/DIV&gt;
&lt;DIV align=left&gt;&lt;FONT face=Arial size=4&gt;&lt;STRONG&gt;I-NET PC 4000 Industrial NET PC 
Pentium 4 Series&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV align=left&gt;&lt;STRONG&gt;&lt;FONT size=4&gt;&lt;IMG alt="" hspace=0 
src="cid:003101c2999f$40795b20$c5b0bada@sineticim8a9qe" align=baseline 
border=0&gt;&lt;/FONT&gt;&lt;/STRONG&gt;&lt;/DIV&gt;
&lt;DIV align=left&gt;&lt;FONT size=4&gt;&lt;STRONG&gt;&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV align=left&gt;&lt;FONT face=Arial size=2&gt;&lt;/FONT&gt; &lt;/DIV&gt;
&lt;DIV align=left&gt;&lt;FONT face=Verdana color=#ff0000 size=4&gt;&lt;U&gt;Size: 245x260x44mm 
only&lt;/U&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV align=left&gt;&lt;FONT face=Arial size=2&gt;&lt;/FONT&gt; &lt;/DIV&gt;
&lt;DIV align=left&gt;&lt;FONT size=4&gt;&lt;/FONT&gt; &lt;/DIV&gt;
&lt;DIV align=left&gt;&lt;FONT face=Arial size=4&gt;&lt;STRONG&gt;Pentium 4 Based I-NET PC comes 
in the small little package. &lt;/STRONG&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV align=left&gt;&lt;FONT face=Arial size=4&gt;&lt;STRONG&gt;Versatile &amp; Powerful for a 
wide range of application from desktop PC, &lt;/STRONG&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV align=left&gt;&lt;FONT face=Arial size=4&gt;&lt;STRONG&gt;server, control box, VoIP, CTI, 
Automation, VoD, PABX, Car PC, Plasma &lt;/STRONG&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV align=left&gt;&lt;FONT face=Arial size=4&gt;&lt;STRONG&gt;Controller 
....&lt;/STRONG&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV align=left&gt;&lt;STRONG&gt;&lt;FONT face=Arial size=4&gt;&lt;/FONT&gt;&lt;/STRONG&gt; &lt;/DIV&gt;
&lt;DIV align=left&gt;&lt;STRONG&gt;&lt;FONT face=Arial size=4&gt;Visit us at &lt;A 
href="http://www.sinetic.com"&gt;http://www.sinetic.com&lt;/A&gt;&lt;/FONT&gt;&lt;/STRONG&gt;&lt;/DIV&gt;
&lt;DIV align=left&gt;&lt;STRONG&gt;&lt;FONT face=Arial size=4&gt;&lt;/FONT&gt;&lt;/STRONG&gt; &lt;/DIV&gt;
&lt;DIV align=left&gt;&lt;STRONG&gt;&lt;FONT face=Arial size=4&gt;For More Information contact the 
I-NET Sales Team : &lt;A 
href="mailto:info@sinetic.com"&gt;info@sinetic.com&lt;/A&gt;&lt;/FONT&gt;&lt;/STRONG&gt;&lt;/DIV&gt;
&lt;DIV align=left&gt;&lt;STRONG&gt;&lt;FONT face=Arial size=4&gt;For OEM Sales please contact : 
&lt;A href="mailto:Sales@sinetic.com"&gt;Sales@sinetic.com&lt;/A&gt;&lt;/FONT&gt;&lt;/STRONG&gt;&lt;/DIV&gt;
&lt;DIV align=left&gt;&lt;STRONG&gt;&lt;FONT face=Arial size=4&gt;&lt;/FONT&gt;&lt;/STRONG&gt; &lt;/DIV&gt;
&lt;DIV align=left&gt;&lt;STRONG&gt;&lt;FONT face=Arial size=4&gt;&lt;/FONT&gt;&lt;/STRONG&gt; &lt;/DIV&gt;
&lt;DIV align=left&gt;
&lt;HR&gt;
&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=Verdana color=#ff0000 size=2&gt;We apologize if this message is not 
intended for you. We would be appreciated if you can forward this message to 
anyone who might be interested.&lt;/FONT&gt;&lt;FONT size=2&gt;&lt;FONT face=Verdana&gt;&lt;FONT 
color=#ffffff&gt;&lt;FONT color=#000000&gt; &lt;BR&gt;Please reply to this email with the word 
"Unsubscribe" in the body text (do not amend the subject title on the reply 
email),&lt;BR&gt;&lt;/FONT&gt;&lt;FONT color=#000000&gt;you will be taken off our list immediately 
and NEVER receive any emails from us.&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT 
color=#ff0000&gt; &lt;/FONT&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;FONT color=#000000&gt;&lt;FONT face=Verdana 
size=2&gt;All Rights Reserved.&lt;/FONT&gt;&lt;FONT face=Arial&gt;&lt;FONT size=1&gt; 
&lt;/FONT&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT color=#000000&gt;&lt;FONT face=Arial&gt;&lt;FONT size=1&gt;
&lt;HR&gt;
&lt;/FONT&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/DIV&gt;&lt;/FONT&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;

["PDC 4000 3.gif" (image/gif)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021202081611</emailId><senderName></senderName><senderEmail>warren</senderEmail><timestampReceived>2002-12-02 08:16:11-0400</timestampReceived><subject>www.stockshoe.com</subject><body>

Dear Sir,

We are a professional footwear manufacturer, we produced and export over 5 million \
pairs annually to Europe, North &amp; South America, Africa and other markets. Our \
excellent design and superior quality has gained high trust and reputation.

Everyday our staff, whether in Hong Kong Headquarters, Shenzhen company or Q/C teams \
spread around, are cautiously taking care of your orders. From samples making to mass \
production we concentrate on every detail. It is well known that a pair of high \
quality shoes comes from our good knowledge of material-selecting, \
factories-handling, quality-controlling and etc..

We just established a stock department,to provide many kinds of stock shoes for \
decreasing the purchasing cost of our clients, from now on we will often send more \
stock shoes information to you for your reference, and you can find all the new \
arrivals will be listed on our website: www.stockshoe.com.

Many thanks for your kind attention to this matter, and your soonest feedback will be \
appreciated.


Best regards

Sincerely yours,


Warren G.W. Wang              2002-12-02                                       

Shinewide Shoes Co.,Ltd
www.stockshoe.com
www.china-footwear.com

Tel:0086-755-82924499(36 lines)
Fax:0086-755-82924498
Email: warren@stockshoe.com

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021211025018</emailId><senderName>"hackzombie"</senderName><senderEmail>hackzombie@bol.com.br</senderEmail><timestampReceived>2002-12-11 02:50:18-0400</timestampReceived><subject>problems with instalation.</subject><body>

Hi all,

 I'm tryng to install the CryptoAPI in my system, but I 
have some problemas. The steps that I made are:

1) in crypto-0.1.0-rc4 directory:
# make patch-kernel KDIR=/usr/src/linux

 The patch was applied ok

2) I recompile the kernel, chosing all the crypto 
options, and
the loop driver.

3) Install the kernel and reboot.

4) patch the util-linux-2.11r with the util-linux-
2.11r.patch, compile
and install it.

5) Try to use a crypto file:

# dd if=/dev/urandom of=cryptofile bs=1024 count=50

# losetup -e twofish /dev/loop0 ./cryptofile
Available keysizes (bits): 128 192 256
Keysize: 128
Password: workplease
Password: workplease
The cipher does not exist, or a cipher module needs to 
be loaded into the kernel
ioctl: LOOP_SET_STATUS: Invalid argument

# lsmod
Module                  Size  Used by    Not tainted
cipher-twofish         43072   0  (unused)
loop                    7888   0 
cryptoapi               3396   5  [cipher-twofish]


 What's wrong ?

 
__________________________________________________________________________
Venha para a VilaBOL!
O melhor lugar para você construir seu site. Fácil e grátis!
http://vila.bol.com.br


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021213145143</emailId><senderName>Michael Cox</senderName><senderEmail>mscox42@yahoo.com</senderEmail><timestampReceived>2002-12-13 14:51:43-0400</timestampReceived><subject>encrypted partition mount problem</subject><body>

Hi. Probably a newb question; thanks in advance.

I setup an encrypted fs simply by selecting that
option for a partition in the Mandrake disk
partitioning tool (stock mandrake 9.0). On boot, I am
asked to enter the passphrase, but the mount fails
with the generic error about maybe having a bad block,
too many fs, etc. Once boot is complete, I get the
same error if I simply try 'mount /dev/hdaX, but if I
mount via the Mandrake GUI tool everything works OK.

I have a couple of theories, but this is probably
where my inner-newbie shows through.

1) the mount fails during the startup sequence because
the loop filesystems aren't themselves mounted yet; to
fix, can I just reorder things a bit in rc.sysinit?

2) there's something missing in /etc/fstab which the
GUI tool is taking care of for me

Or a combination of 1 and 2.

Thanks again for any help.

Regards,
Michael

__________________________________________________
Do you Yahoo!?
Yahoo! Mail Plus - Powerful. Affordable. Sign up now.
http://mailplus.yahoo.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021215153100</emailId><senderName>Regis Smith</senderName><senderEmail>rsmith@whistlin.com</senderEmail><timestampReceived>2002-12-15 15:31:00-0400</timestampReceived><subject>loopAES mount defaults</subject><body>

Hi all--

For a loopAES encrypted filesystem I use the following line in my
/etc/fstab: 

/dev/hdx /crypt ext3 defaults,noauto,loop,encryption=AES128,user 0 0

However, when I mount this via 'mount /crypt', it has the following
properties, according to the mount command:

/dev/hdx on /crypt type ext3 
(rw,noexec,nosuid,nodev,loop=/dev/loop0,encryption=AES128,user=rsmith)

So apparently the mount command (from util-linux version "y", patched
with the diff from loopAES version "i") ignores the "defaults" option,
and indeed, when I give the "exec" option explicitly in fstab, it is
still ignored.  However, when I mount without using fstab like this:

mount -o encrytion=AES128,loop=/dev/loop0 /dev/hdx /crypt

the defaults are actually respected.

Am I doing something silly?  Is there a way to get the defaults when
mounting via fstab?

Regis
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021216200515</emailId><senderName>Newsmail</senderName><senderEmail>newsmail@satimex.tvnet.hu</senderEmail><timestampReceived>2002-12-16 20:05:15-0400</timestampReceived><subject>new loop aes and speedup</subject><body>

is there any sence that maybe with this new loop-aes version Jari announced 
not so long time ago , we could notice speedups? or is this some illusion 
of my part (kernel 2.4)?
2nd question: if we compile loop-aes with -O6 by editing the linux 
makefile, could we notice speedups, or its not recommended at all to use 
-O6? I'M using gcc-3.2.1
regards,
greg


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021217182914</emailId><senderName>Robert Jaworski</senderName><senderEmail>labs@robertjaworski.de</senderEmail><timestampReceived>2002-12-17 18:29:14-0400</timestampReceived><subject>Problem with util-linux-2.11r.patch on RH80</subject><body>

Hi,

I hope somebody can help me.
I have a self-compiled kernel 2.4.20 on RH80 with 
patch-int.2.4.20.1
loop-jari-2.4.20.0



Now I am trying to patch the util-linux package  (util-linux-2.11r-10.src.rpm) 
to get crypto support for mount, losetup and others (?), but while I am 
patching I get the following error message:

patching file mount/Makefile
patching file mount/lomount.c
Hunk #4 succeeded at 243 with fuzz 1.
Hunk #5 succeeded at 317 (offset 1 line).
Hunk #7 succeeded at 486 (offset 1 line).
Hunk #9 succeeded at 622 (offset 1 line).
Hunk #11 succeeded at 715 (offset 1 line).
Hunk #13 succeeded at 746 (offset 1 line).
patching file mount/lomount.h
patching file mount/losetup.8
patching file mount/mount.8
Hunk #1 succeeded at 259 (offset 1 line).
Hunk #2 succeeded at 635 (offset 66 lines).
Hunk #3 succeeded at 1615 (offset 18 lines).
patching file mount/mount.c
Hunk #1 succeeded at 110 (offset 2 lines).
Hunk #2 succeeded at 190 (offset 3 lines).
Hunk #3 succeeded at 200 (offset 2 lines).
Hunk #4 succeeded at 552 (offset 3 lines).
Hunk #5 succeeded at 594 (offset 2 lines).
Hunk #6 FAILED at 1326.
Hunk #7 succeeded at 1370 (offset 10 lines).
Hunk #8 succeeded at 1378 with fuzz 2 (offset 2 lines).
Hunk #9 FAILED at 1400.
Hunk #10 succeeded at 1444 with fuzz 2 (offset 16 lines).
Hunk #11 succeeded at 1538 (offset 2 lines).
2 out of 11 hunks FAILED -- saving rejects to file mount/mount.c.rej
patching file mount/rmd160.c
patching file mount/rmd160.h
patching file mount/sha512.c
patching file mount/sha512.h
patching file mount/sundries.c


As you can see there are 2 errors. 

mount/mount.c.rej  :
***************
*** 1318,1323 ****
        { "read-write", 0, 0, 'w' },
        { "rw", 0, 0, 'w' },
        { "options", 1, 0, 'o' },
        { "types", 1, 0, 't' },
        { "bind", 0, 0, 128 },
        { "replace", 0, 0, 129 },
--- 1326,1332 ----
        { "read-write", 0, 0, 'w' },
        { "rw", 0, 0, 'w' },
        { "options", 1, 0, 'o' },
+       { "pass-fd", 1, 0, 'p' },
        { "types", 1, 0, 't' },
        { "bind", 0, 0, 128 },
        { "replace", 0, 0, 129 },
***************
*** 1390,1396 ****
        initproctitle(argc, argv);
  #endif

-       while ((c = getopt_long (argc, argv, "afFhlL:no:rsU:vVwt:",
                                 longopts, NULL)) != -1) {
                switch (c) {
                case 'a':               /* mount everything in fstab */
--- 1400,1406 ----
        initproctitle(argc, argv);
  #endif

+       while ((c = getopt_long (argc, argv, "afFhlL:no:p:rsU:vVwt:",
                                 longopts, NULL)) != -1) {
                switch (c) {
                case 'a':               /* mount everything in fstab */


Thank you in advance for your help.

Regards,
Robert

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021219005148</emailId><senderName>David Haraburda</senderName><senderEmail>david-linux-crypto@haraburda.com</senderEmail><timestampReceived>2002-12-19 00:51:48-0400</timestampReceived><subject>Forgot password BUT, fs is mounted</subject><body>

Hi,

I have forgotten the password to my encrypted file system (well, I have a 
couple of guesses, but I'm not sure).  The reason I don't want to try them is 
because the drive has been mounted and running for awhile now... everything is 
fine, but just in case something happens to the computer, I was wondering if 
there is any way to recover the password from an already mounted partition?  If 
not, is it possible for me to attempt to mount it again in a different location 
(probably not?) so I can try guessing the password?  Or am I just better off 
copying everything over while I have the chance and re-encrypting and this time 
remembering the password? :-)

Thanks!

David

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021219131741</emailId><senderName>Richard Devendra Gopaul</senderName><senderEmail>rgopaul@wam.umd.edu</senderEmail><timestampReceived>2002-12-19 13:17:41-0400</timestampReceived><subject>Re: Forgot password BUT, fs is mounted</subject><body>

it's never a bad idea to copy the files, just in case...

rgopaul@wam.umd.edu

On Wed, 18 Dec 2002, David Haraburda wrote:

&gt; Hi,
&gt; 
&gt; I have forgotten the password to my encrypted file system (well, I have a 
&gt; couple of guesses, but I'm not sure).  The reason I don't want to try them is 
&gt; because the drive has been mounted and running for awhile now... everything is 
&gt; fine, but just in case something happens to the computer, I was wondering if 
&gt; there is any way to recover the password from an already mounted partition?  If 
&gt; not, is it possible for me to attempt to mount it again in a different location 
&gt; (probably not?) so I can try guessing the password?  Or am I just better off 
&gt; copying everything over while I have the chance and re-encrypting and this time 
&gt; remembering the password? :-)
&gt; 
&gt; Thanks!
&gt; 
&gt; David
&gt; 
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
&gt; 
&gt; 

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021218030930</emailId><senderName>Robert Jaworski</senderName><senderEmail>labs@robertjaworski.de</senderEmail><timestampReceived>2002-12-18 03:09:30-0400</timestampReceived><subject>Re: Problem with util-linux-2.11r.patch on RH80</subject><body>

Problem has been fixed with original util-linux package

Thank you

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021219173837</emailId><senderName>Patric Kabus</senderName><senderEmail>patric.kabus@gmx.de</senderEmail><timestampReceived>2002-12-19 17:38:37-0400</timestampReceived><subject>cryptoloop unresolved symbols</subject><body>

Hi!

When I try to load the module cryptoloop the following error occurs:

hostname:/usr/src/linux# modprobe cryptoloop
/lib/modules/2.4.19/kernel/crypto/drivers/cryptoloop.o: unresolved
symbol find_transform_by_name_Re5d73061
/lib/modules/2.4.19/kernel/crypto/drivers/cryptoloop.o: unresolved
symbol loop_register_transfer_R996c5c81
/lib/modules/2.4.19/kernel/crypto/drivers/cryptoloop.o: insmod
/lib/modules/2.4.19/kernel/crypto/drivers/cryptoloop.o failed
/lib/modules/2.4.19/kernel/crypto/drivers/cryptoloop.o: insmod
cryptoloop failed

I have a debian woody kernel 2.4.19. I tried to build the module in two
different ways:
First I patched the kernel manually using the cryptoapi and cryptoloop
patches and installed them via 'make modules &amp;&amp; make modules_install'.
On my second try I used the debain source packages and built debs with
'make-kpkg modules_image'.
No matter how I did it the building of the modules succeeded but I
couldn't load cryptoloop (cryptoapi loads fine) due to unresolved
symbols.

Thanx!

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021223164824</emailId><senderName>"Florian Berger"</senderName><senderEmail>f.berger@qubix.de</senderEmail><timestampReceived>2002-12-23 16:48:24-0400</timestampReceived><subject>loop_fish2 in kernel 2.4.20</subject><body>

Hi

I haven't used this mailing list before and I have already searched the
whole web via google but I haven't found anything on this topic so far :&gt;

My Problem:

I am using the Kernel 2.4.20-4GB from SUSE 7.3 and now I want to install the
Kernel 2.4.20 because I want to use QoS/CBQ, but then I realized that there
is a Problem concerning my crypted hdd.

At first, I searched the whole kernel config (make menuconfig) for the
encryption for (oder of a reiserfs partition) reiserfs, but then somebody
gave me the hint (oder told oder advised me) that I need a patch.

So I downloaded a patch from
ftp://ftp.kernel.org/pub/linux/kernel/people/hvr/testing/
and pathed the kernel source. Now I checked ALL options under the
Cryptography support (CryptoAPI) option.

I compiled it, but still, the new kernel does not have the module
loop_fish2. While booting the PC the flollowing message "can't modprobe
loop_fish2" comes up.

Does anyone have a really GOOD tutorial for twofish encrypted reiserfs
partitions with the kernel 2.4.20? I' m getting tired of searching google.

so long

Flow-B


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021207214314</emailId><senderName>hamil9999jp</senderName><senderEmail>hmail9999jp@yahoo.co.jp</senderEmail><timestampReceived>2002-12-07 21:43:14-0400</timestampReceived><subject>=?iso-2022-jp?B?GyRCTCQ+NUJ6OS05cCIoSSw4KyEqTiI+cEpzISobKEo=?=</subject><body>

&lt;���M��&gt;
�d�q���[���L����

�����A�L���������]������������������
info_h@yahoo.co.jp
�K���{����� ���������[���A�h���X������������������


===============================================================
�������������L���������������������I
�z�M���������z�[���y�[�W���������i�������������v�������B
���L�e�`�w�������\�������������B
===============================================================

��104-0061
�����s����������8-19-3
��2�E�C���O�r���@3F
���[���}�K�W�����s

TEL�@03-3544-6222
FAX�@03-3544-6218�@�@

===============================================================
�������i�������W���������B��������������� ����������
���\���������������I
=================================================================

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

	� �r�f�I�����E�����_�b�`���C�t�E�r�l�N���u 
�@�@ �`�u�j�D���W�E���������E�r�d�w�t�����h�E�A�_���g�O�b�Y����
	     ���@�A�_���g���A�����������@��
		
	��������������������������������������
	�@�@���\�����E�������E���i���������@
�@�@�@�@�@���L�t�q�k���N���b�N���������������B
	��������������������������������������
		���@�@�@�@���@�@�@�@���@
	�@�@�@http://www.ss-koukoku.com/

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

�@�@�J�^�O�b�Y�E�����������E�h���O�b�Y�E���������������@
�@�@�@�@�@�@�@�@�@���@���������������@��

	��������������������������������������
	�@�@���\�����E�������E���i���������@
�@�@�@�@�@���L�t�q�k���N���b�N���������������B
	��������������������������������������
		���@�@�@�@���@�@�@�@���@
		http://www.pp-koukoku.com/

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021230071059</emailId><senderName>Michael Janich</senderName><senderEmail>mjanich@thisisnoble.com</senderEmail><timestampReceived>2002-12-30 07:10:59-0400</timestampReceived><subject>RedHat8.0: losetup: Unsupported encryption type aes128</subject><body>

Hi crypto-experts,

I run RedHat8.0 out of the box and have loaded all the modules that I 
think I should:

[root@juliette mjanich]# lsmod

Module                  Size  Used by    Not tainted

cryptoloop              2716   0  (unused)

cipher-aes             23604   0  (unused)

cryptoapi               7116   5  [cryptoloop cipher-aes]

loop                   12152   2  [cryptoloop]

and I tried to setup the loop (on the file crated by dd if=/dev/urandom 
of=test.img bs=1k count=65536):

root@juliette mjanich]# losetup -e aes /dev/loop0 test.img

Unsupported encryption type aes

[root@juliette mjanich]# losetup -e AES /dev/loop0 test.img

Unsupported encryption type AES

[root@juliette mjanich]# losetup -e AES128 /dev/loop0 test.img

Unsupported encryption type AES128

[root@juliette mjanich]# losetup -e aes128 /dev/loop0 test.img

Unsupported encryption type aes128

[root@juliette mjanich]# losetup --help

losetup: invalid option -- -

usage:

  losetup loop_device                                      # give info

  losetup -d loop_device                                   # delete

  losetup [ -e encryption ] [ -o offset ] loop_device file # setup


It looks much like I have an old/wrong version of losetup!? Or does it 
have a different
name under redhat 8.0? If it has all the cryptoloop stuff built in, it 
must have some
losetup, that is working!?!?!

Any help is much appreciated!!

       Michael

-- 

   Michael Janich, Chief Technology Officer, Noble Group Ltd, Hong Kong
   http://www.thisisnoble.com/  Tel: +852 2861-4615. Fax: +852 2865-3865. 


["smime.p7s" (application/x-pkcs7-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021229025212</emailId><senderName>Luis Manuel Silveira Russo</senderName><senderEmail>l47318@isabelle.math.ist.utl.pt</senderEmail><timestampReceived>2002-12-29 02:52:12-0400</timestampReceived><subject>Logical Volume Manager</subject><body>



 Hi,

 Can I use linux-crypto with Logical Volume Manager ?

 Thanks and Happy New Year

 Luís Russo

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021230065545</emailId><senderName>Michael Janich</senderName><senderEmail>mjanich@thisisnoble.com</senderEmail><timestampReceived>2002-12-30 06:55:45-0400</timestampReceived><subject>Encrypted CDs/DVDs</subject><body>

Hi crypto-experts,

I want to create/burn  encrypted CDs and DVDs.

Do I do this with

   mkisofs ... | aespipe -k256 ... | cdwrite -
   mount /dev/cdrom -o loop -e aes256 /cdrom


Does someone have any experience with this?

Thanks for any help!!

      Michael

-- 

   Michael Janich, Chief Technology Officer, Noble Group Ltd, Hong Kong
   http://www.thisisnoble.com/  Tel: +852 2861-4615. Fax: +852 2865-3865. 


["smime.p7s" (application/x-pkcs7-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021230091732</emailId><senderName>Michael Janich</senderName><senderEmail>mjanich@thisisnoble.com</senderEmail><timestampReceived>2002-12-30 09:17:32-0400</timestampReceived><subject>Re: [work] Re: Encrypted CDs/DVDs</subject><body>

[Attachment #2 (text/html)]

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
Thanks, Mutex, for your very quick reply.&lt;br&gt;
&lt;br&gt;
But I'm really looking for a transparent solution, most importantly because
I want to use&lt;br&gt;
it with DVD-R - and don't wanna copy the whole image first...&lt;br&gt;
&lt;br&gt;
I just tried the following &lt;b&gt;(without&lt;/b&gt; success):&lt;br&gt;
&lt;br&gt;
&lt;pre&gt;    dd if=/dev/urandom of=cd1.img bs=1k count=65536&lt;/pre&gt;
&lt;pre&gt;    losetup -e aes -k 256 /dev/loop1 cd1.img&lt;/pre&gt;
&lt;pre&gt;    mkisofs -o /dev/loop1 -R -J photo-album/rawmart&lt;/pre&gt;
&lt;pre&gt;    losetup -d /dev/loop1&lt;/pre&gt;
&lt;pre&gt;    cdrecord dev=0,0,0 cd1.img&lt;/pre&gt;
&lt;pre&gt;    mount /cryptcd          [with \
/etc/fstab entry: /dev/cdrom    /cryptcd    \
        iso9660    \
loop=/dev/loop1,encryption=aes]&lt;/pre&gt; &lt;br&gt;
It seems, the whole CD is broken, because "cat /dev/cdrom" gives an I/O error.&lt;br&gt;
&lt;br&gt;
Any tips??&lt;br&gt;
&lt;br&gt;
        Michael&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
mutex wrote:&lt;br&gt;
&lt;blockquote type="cite"
 cite="mid20021230073930.GA32542@andromeda.homeportal.2wire.net"&gt;
  &lt;pre wrap=""&gt;On Mon, Dec 30, 2002 at 02:55:45PM +0800 or thereabouts, Michael \
Janich wrote:  &lt;/pre&gt;
  &lt;blockquote type="cite"&gt;
    &lt;pre wrap=""&gt;Hi crypto-experts,

I want to create/burn  encrypted CDs and DVDs.

Do I do this with

  mkisofs ... | aespipe -k256 ... | cdwrite -
  mount /dev/cdrom -o loop -e aes256 /cdrom

    &lt;/pre&gt;
  &lt;/blockquote&gt;
  &lt;pre wrap=""&gt;&lt;!----&gt;i just piped my iso image through gpg, while this doesn't allow \
you transparnet filesystem encryption it will always survive things like blocksize \
changes in the kernel(which happened in between 2.2 and 2.4). then you just dd the \
iso to the drive and decrypt it locally. Dave
  &lt;/pre&gt;
&lt;/blockquote&gt;
&lt;br&gt;
&lt;pre class="moz-signature" cols="$mailwrapcol"&gt;-- 

   Michael Janich, Chief Technology Officer, Noble Group Ltd, Hong Kong
   &lt;a class="moz-txt-link-freetext" \
href="http://www.thisisnoble.com/"&gt;http://www.thisisnoble.com/&lt;/a&gt;  Tel: +852 \
2861-4615. Fax: +852 2865-3865.  &lt;/pre&gt;
&lt;br&gt;
&lt;/body&gt;
&lt;/html&gt;


["smime.p7s" (application/x-pkcs7-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021231044105</emailId><senderName>Michael Janich</senderName><senderEmail>mjanich@thisisnoble.com</senderEmail><timestampReceived>2002-12-31 04:41:05-0400</timestampReceived><subject>Re: [work] Re: Encrypted CDs/DVDs</subject><body>

[Attachment #2 (text/html)]

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
Jari,&lt;br&gt;
&lt;br&gt;
thanks so much, for your help. It is exactly what I want.&lt;br&gt;
&lt;br&gt;
I use Redhat 8.0 and it comes with the other crypt-loop (is it called IV?)&lt;br&gt;
&lt;br&gt;
I've been able to create an image like below:&lt;br&gt;
&lt;br&gt;
&lt;pre&gt;mkisofs -J -R -o cd3.img photo-album/&lt;/pre&gt;
&lt;pre&gt;aespipe -e AES128 -T &lt; cd3.img &gt; cd3enc.img&lt;/pre&gt;
&lt;pre&gt;cdrecord -v dev=0,0,0 -eject cd3enc.img&lt;/pre&gt;
&lt;br&gt;
I could not mount it with 'mount', but I've been able to do this:&lt;br&gt;
&lt;br&gt;
&lt;pre&gt;losetup -e aes -k 128 -P sha256 /dev/loop0 /dev/cdrom&lt;/pre&gt;
&lt;pre&gt;mount -o ro -t iso9660 /dev/loop0 /cryptcd&lt;/pre&gt;
&lt;br&gt;
So all of that works.&lt;br&gt;
&lt;br&gt;
But I really like to have an entry in /etc/fstab, that can transparently
mount it.&lt;br&gt;
Right now I have:&lt;br&gt;
&lt;pre&gt;/dev/cdrom              \
/cryptcd                \
iso9660 noauto,owner,kudzu,ro,loop=/dev/loop0,encryption=AES128 0 0&lt;/pre&gt; but that \
does not work.&lt;br&gt; &lt;br&gt;
Any comments or tips? Much appreciated!&lt;br&gt;
&lt;br&gt;
Happy new year!!&lt;br&gt;
&lt;br&gt;
      Michael&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
Jari Ruusu wrote:&lt;br&gt;
&lt;blockquote type="cite" cite="mid3E108CEF.AA5DA62E@pp.inet.fi"&gt;
  &lt;pre wrap=""&gt;Michael Janich wrote:
  &lt;/pre&gt;
  &lt;blockquote type="cite"&gt;
    &lt;pre wrap=""&gt;I want to create/burn  encrypted CDs and DVDs.

Do I do this with

   mkisofs ... | aespipe -k256 ... | cdwrite -
   mount /dev/cdrom -o loop -e aes256 /cdrom

Does someone have any experience with this?
    &lt;/pre&gt;
  &lt;/blockquote&gt;
  &lt;pre wrap=""&gt;&lt;!----&gt;
Example 4 from aespipe README file:

Create encrypted ISO9660 CD-ROM image that can be mounted using Linux
loop-AES crypto package:

    mkisofs -r directory-tree | aespipe -e AES128 -T &gt;image.iso
    
This image file can then be mounted under Linux like this:

    mount -t iso9660 image.iso /cdrom -o loop=/dev/loop0,encryption=AES128

Or, after writing image.iso to CD-ROM, like this:

    mount -t iso9660 /dev/cdrom /cdrom -o loop=/dev/loop0,encryption=AES128


Latest version (v2.1a) of aespipe is here:

    &lt;a class="moz-txt-link-freetext" \
href="http://loop-aes.sourceforge.net/aespipe-v2.1a.tar.bz2"&gt;http://loop-aes.sourceforge.net/aespipe-v2.1a.tar.bz2&lt;/a&gt;
  &lt;a class="moz-txt-link-freetext" \
href="http://loop-aes.sourceforge.net/aespipe-v2.1a.tar.bz2.sign"&gt;http://loop-aes.sourceforge.net/aespipe-v2.1a.tar.bz2.sign&lt;/a&gt;


Regards,
Jari Ruusu &lt;a class="moz-txt-link-rfc2396E" \
href="mailto:jari.ruusu@pp.inet.fi"&gt;&lt;jari.ruusu@pp.inet.fi&gt;&lt;/a&gt;

  &lt;/pre&gt;
&lt;/blockquote&gt;
&lt;br&gt;
&lt;pre class="moz-signature" cols="$mailwrapcol"&gt;-- 

   Michael Janich, Chief Technology Officer, Noble Group Ltd, Hong Kong
   &lt;a class="moz-txt-link-freetext" \
href="http://www.thisisnoble.com/"&gt;http://www.thisisnoble.com/&lt;/a&gt;  Tel: +852 \
2861-4615. Fax: +852 2865-3865.  &lt;/pre&gt;
&lt;br&gt;
&lt;/body&gt;
&lt;/html&gt;


["smime.p7s" (application/x-pkcs7-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021231142623</emailId><senderName>Harmon Seaver</senderName><senderEmail>hseaver@cybershamanix.com</senderEmail><timestampReceived>2002-12-31 14:26:23-0400</timestampReceived><subject>Re: [work] Re: Encrypted CDs/DVDs</subject><body>

   What's with all these html posts lately? Can't you post in ascii text please?


On Tue, Dec 31, 2002 at 12:41:05PM +0800, Michael Janich wrote:



-- 
Harmon Seaver	
CyberShamanix
http://www.cybershamanix.com

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021230073930</emailId><senderName>"mutex"</senderName><senderEmail>mutex@kerneli.org</senderEmail><timestampReceived>2002-12-30 07:39:30-0400</timestampReceived><subject>Re: Encrypted CDs/DVDs</subject><body>

On Mon, Dec 30, 2002 at 02:55:45PM +0800 or thereabouts, Michael Janich wrote:
&gt; Hi crypto-experts,
&gt; 
&gt; I want to create/burn  encrypted CDs and DVDs.
&gt; 
&gt; Do I do this with
&gt; 
&gt; mkisofs ... | aespipe -k256 ... | cdwrite -
&gt; mount /dev/cdrom -o loop -e aes256 /cdrom
&gt; 
i just piped my iso image through gpg, while this doesn't allow you transparnet
filesystem encryption it will always survive things like blocksize changes in the \
kernel(which happened in between 2.2 and 2.4). then you just dd the iso to the drive \
and decrypt it locally. Dave


[Attachment #3 (application/pgp-signature)]
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021229040216</emailId><senderName>Newsmail</senderName><senderEmail>newsmail@satimex.tvnet.hu</senderEmail><timestampReceived>2002-12-29 04:02:16-0400</timestampReceived><subject>Re: Logical Volume Manager</subject><body>

yes you can.
At 04:08 2002. 12. 29.istá', you wrote:


&gt;  Hi,
&gt;
&gt;  Can I use linux-crypto with Logical Volume Manager ?
&gt;
&gt;  Thanks and Happy New Year
&gt;
&gt;  Luís Russo
&gt;
&gt;-
&gt;Linux-crypto:  cryptography in and on the Linux system
&gt;Archive:       http://mail.nl.linux.org/linux-crypto/


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021229182903</emailId><senderName>Regis Smith</senderName><senderEmail>rsmith@whistlin.com</senderEmail><timestampReceived>2002-12-29 18:29:03-0400</timestampReceived><subject>Re: Logical Volume Manager</subject><body>

Another related question:  Is it safe to use e2fsadm to shrink/expand
a loop-AES encrypted logical volume?

On Sun, Dec 29, 2002 at 05:02:16AM +0100, Newsmail wrote:
&gt; yes you can.
&gt; At 04:08 2002. 12. 29.ist?', you wrote:
&gt; 
&gt; 
&gt; &gt; Hi,
&gt; &gt;
&gt; &gt; Can I use linux-crypto with Logical Volume Manager ?
&gt; &gt;
&gt; &gt; Thanks and Happy New Year
&gt; &gt;
&gt; &gt; Lu?s Russo
&gt; &gt;
&gt; &gt;-
&gt; &gt;Linux-crypto:  cryptography in and on the Linux system
&gt; &gt;Archive:       http://mail.nl.linux.org/linux-crypto/
&gt; 
&gt; 
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
&gt; 
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021211213333</emailId><senderName>infowebmailjp</senderName><senderEmail>infowebmailjp@yahoo.co.jp</senderEmail><timestampReceived>2002-12-11 21:33:33-0400</timestampReceived><subject>=?iso-2022-jp?B?GyRCTCQ+NUJ6OS05cCIoSSw4KyEqTiI+cEpzISobKEo=?=</subject><body>

&lt;���M��&gt;
�d�q���[���L����

�����A�L���������]������������������
info_ssn@yahoo.co.jp
�K���{����� ���������[���A�h���X������������������


===============================================================
�������������L���������������������I
�z�M���������z�[���y�[�W���������i�������������v�������B
���L�e�`�w�������\�������������B
===============================================================

��104-0061
�����s����������8-19-3
��2�E�C���O�r���@3F
���[���}�K�W�����s

TEL�@03-3544-6222
FAX�@03-3544-6218�@�@

===============================================================
�������i�������W���������B��������������� ����������
���\���������������I
=================================================================

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

	� �r�f�I�����E�����_�b�`���C�t�E�r�l�N���u 
�@�@ �`�u�j�D���W�E���������E�r�d�w�t�����h�E�A�_���g�O�b�Y����
	     ���@�A�_���g���A�����������@��
		
	��������������������������������������
	�@�@���\�����E�������E���i���������@
�@�@�@�@�@���L�t�q�k���N���b�N���������������B
	��������������������������������������
		���@�@�@�@���@�@�@�@���@
	�@�@�@http://www.ss-koukoku.com/

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

�@�@�J�^�O�b�Y�E�����������E�h���O�b�Y�E���������������@
�@�@�@�@�@�@�@�@�@���@���������������@��

	��������������������������������������
	�@�@���\�����E�������E���i���������@
�@�@�@�@�@���L�t�q�k���N���b�N���������������B
	��������������������������������������
		���@�@�@�@���@�@�@�@���@
		http://www.pp-koukoku.com/

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021214002612</emailId><senderName>jmail6666jp</senderName><senderEmail>jmail6666jp@yahoo.co.jp</senderEmail><timestampReceived>2002-12-14 00:26:12-0400</timestampReceived><subject>=?iso-2022-jp?B?GyRCTCQ+NUJ6OS05cCIoSSw4KyEqTiI+cEpzISobKEo=?=</subject><body>

&lt;���M��&gt;
�d�q���[���L����

�����A�L���������]������������������
info_ssu@yahoo.co.jp
�K���{����� ���������[���A�h���X������������������


===============================================================
�������������L���������������������I
�z�M���������z�[���y�[�W���������i�������������v�������B
���L�e�`�w�������\�������������B
===============================================================

��104-0061
�����s����������8-19-3
��2�E�C���O�r���@3F
���[���}�K�W�����s

TEL�@03-3544-6222
FAX�@03-3544-6218�@�@

===============================================================
�������i�������W���������B��������������� ����������
���\���������������I
=================================================================

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

	� �r�f�I�����E�����_�b�`���C�t�E�r�l�N���u 
�@�@ �`�u�j�D���W�E���������E�r�d�w�t�����h�E�A�_���g�O�b�Y����
	     ���@�A�_���g���A�����������@��
		
	��������������������������������������
	�@�@���\�����E�������E���i���������@
�@�@�@�@�@���L�t�q�k���N���b�N���������������B
	��������������������������������������
		���@�@�@�@���@�@�@�@���@
	�@�@�@http://www.xx-koukoku.com/

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

�@�@�J�^�O�b�Y�E�����������E�h���O�b�Y�E���������������@
�@�@�@�@�@�@�@�@�@���@���������������@��

	��������������������������������������
	�@�@���\�����E�������E���i���������@
�@�@�@�@�@���L�t�q�k���N���b�N���������������B
	��������������������������������������
		���@�@�@�@���@�@�@�@���@
		http://www.ww-koukoku.com/

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021218121601</emailId><senderName>jmail</senderName><senderEmail>jmail7777jp@yahoo.co.jp</senderEmail><timestampReceived>2002-12-18 12:16:01-0400</timestampReceived><subject>=?iso-2022-jp?B?GyRCTCQ+NUJ6OS05cCIoSSw4KyEqTiI+cEpzISobKEo=?=</subject><body>

&lt;���M��&gt;
�d�q���[���L����

�����A�L���������]������������������
info_sst@yahoo.co.jp
�K���{����� ���������[���A�h���X������������������


===============================================================
�������������L���������������������I
�z�M���������z�[���y�[�W���������i�������������v�������B
���L�e�`�w�������\�������������B
===============================================================

��104-0061
�����s����������8-19-3
��2�E�C���O�r���@3F
���[���}�K�W�����s

TEL�@03-3544-6222
FAX�@03-3544-6218�@�@

===============================================================
�������i�������W���������B��������������� ����������
���\���������������I
=================================================================

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

	� �r�f�I�����E�����_�b�`���C�t�E�r�l�N���u 
�@�@ �`�u�j�D���W�E���������E�r�d�w�t�����h�E�A�_���g�O�b�Y����
	     ���@�A�_���g���A�����������@��
		
	��������������������������������������
	�@�@���\�����E�������E���i���������@
�@�@�@�@�@���L�t�q�k���N���b�N���������������B
	��������������������������������������
		���@�@�@�@���@�@�@�@���@
	�@�@�@http://www.ss-koukoku.com/

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

�@�@�J�^�O�b�Y�E�����������E�h���O�b�Y�E���������������@
�@�@�@�@�@�@�@�@�@���@���������������@��

	��������������������������������������
	�@�@���\�����E�������E���i���������@
�@�@�@�@�@���L�t�q�k���N���b�N���������������B
	��������������������������������������
		���@�@�@�@���@�@�@�@���@
		http://www.pp-koukoku.com/

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021223205123</emailId><senderName>mmail5555jp</senderName><senderEmail>mmail5555jp@yahoo.co.jp</senderEmail><timestampReceived>2002-12-23 20:51:23-0400</timestampReceived><subject>=?iso-2022-jp?B?GyRCTCQ+NUJ6OS05cCIoSSw4KyEqTiI+cEpzISobKEo=?=</subject><body>

&lt;���M��&gt;
�d�q���[���L����

�����A�L���������]������������������
info5555jp@yahoo.co.jp
�K���{����� ���������[���A�h���X������������������


===============================================================
�������������L���������������������I
�z�M���������z�[���y�[�W���������i�������������v�������B
���L�e�`�w�������\�������������B
===============================================================

��104-0061
�����s����������8-19-3
��2�E�C���O�r���@3F
���[���}�K�W�����s

TEL�@001-373-188-8477
FAX�@03-3544-6218�@�@

===============================================================
�������i�������W���������B��������������� ����������
���\���������������I
=================================================================

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

	� �r�f�I�����E�����_�b�`���C�t�E�r�l�N���u 
�@�@ �`�u�j�D���W�E���������E�r�d�w�t�����h�E�A�_���g�O�b�Y����
	     ���@�A�_���g���A�����������@��
		
	��������������������������������������
	�@�@���\�����E�������E���i���������@
�@�@�@�@�@���L�t�q�k���N���b�N���������������B
	��������������������������������������
		���@�@�@�@���@�@�@�@���@
	�@�@�@http://www.xx-koukoku.com/

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

�@�@�J�^�O�b�Y�E�����������E�h���O�b�Y�E���������������@
�@�@�@�@�@�@�@�@�@���@���������������@��

	��������������������������������������
	�@�@���\�����E�������E���i���������@
�@�@�@�@�@���L�t�q�k���N���b�N���������������B
	��������������������������������������
		���@�@�@�@���@�@�@�@���@
		http://www.ww-koukoku.com/

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021225102932</emailId><senderName>mmail6666jp</senderName><senderEmail>mmail6666jp@yahoo.co.jp</senderEmail><timestampReceived>2002-12-25 10:29:32-0400</timestampReceived><subject>=?iso-2022-jp?B?GyRCTCQ+NUJ6OS05cCIoSSw4KyEqTiI+cEpzISobKEo=?=</subject><body>

&lt;���M��&gt;
�d�q���[���L����

�����A�L���������]������������������
info5555jp@yahoo.co.jp
�K���{����� ���������[���A�h���X������������������


===============================================================
�������������L���������������������I
�z�M���������z�[���y�[�W���������i�������������v�������B
���L�e�`�w�������\�������������B
===============================================================

��104-0061
�����s����������8-19-3
��2�E�C���O�r���@3F
���[���}�K�W�����s

TEL�@001-373-188-8477
FAX�@03-3544-6218�@�@

===============================================================
�������i�������W���������B��������������� ����������
���\���������������I
=================================================================

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

	� �r�f�I�����E�����_�b�`���C�t�E�r�l�N���u 
�@�@ �`�u�j�D���W�E���������E�r�d�w�t�����h�E�A�_���g�O�b�Y����
	     ���@�A�_���g���A�����������@��
		
	��������������������������������������
	�@�@���\�����E�������E���i���������@
�@�@�@�@�@���L�t�q�k���N���b�N���������������B
	��������������������������������������
		���@�@�@�@���@�@�@�@���@
	�@�@�@http://www.xx-koukoku.com/

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

�@�@�J�^�O�b�Y�E�����������E�h���O�b�Y�E���������������@
�@�@�@�@�@�@�@�@�@���@���������������@��

	��������������������������������������
	�@�@���\�����E�������E���i���������@
�@�@�@�@�@���L�t�q�k���N���b�N���������������B
	��������������������������������������
		���@�@�@�@���@�@�@�@���@
		http://www.ww-koukoku.com/

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021220021028</emailId><senderName>Gong Zheng</senderName><senderEmail>gongzeng@yahoo.com</senderEmail><timestampReceived>2002-12-20 02:10:28-0400</timestampReceived><subject>Re: cryptoloop unresolved symbols</subject><body>

I am using Debian woody too.  But I compiled into the
kernel itself (not as modules) successfully using
int-patch.  Perhaps, you want to try that.  Also,
woody is actually 2.4.17 on my system.  The 2.4.17 is
straight from the installation CD.  

 --- Patric Kabus &lt;patric.kabus@gmx.de&gt; wrote: &gt; Hi!
&gt; 
&gt; When I try to load the module cryptoloop the
&gt; following error occurs:
&gt; 
&gt; hostname:/usr/src/linux# modprobe cryptoloop
&gt;
/lib/modules/2.4.19/kernel/crypto/drivers/cryptoloop.o:
&gt; unresolved
&gt; symbol find_transform_by_name_Re5d73061
&gt;
/lib/modules/2.4.19/kernel/crypto/drivers/cryptoloop.o:
&gt; unresolved
&gt; symbol loop_register_transfer_R996c5c81
&gt;
/lib/modules/2.4.19/kernel/crypto/drivers/cryptoloop.o:
&gt; insmod
&gt;
/lib/modules/2.4.19/kernel/crypto/drivers/cryptoloop.o
&gt; failed
&gt;
/lib/modules/2.4.19/kernel/crypto/drivers/cryptoloop.o:
&gt; insmod
&gt; cryptoloop failed
&gt; 
&gt; I have a debian woody kernel 2.4.19. I tried to
&gt; build the module in two
&gt; different ways:
&gt; First I patched the kernel manually using the
&gt; cryptoapi and cryptoloop
&gt; patches and installed them via 'make modules &amp;&amp; make
&gt; modules_install'.
&gt; On my second try I used the debain source packages
&gt; and built debs with
&gt; 'make-kpkg modules_image'.
&gt; No matter how I did it the building of the modules
&gt; succeeded but I
&gt; couldn't load cryptoloop (cryptoapi loads fine) due
&gt; to unresolved
&gt; symbols.
&gt; 
&gt; Thanx!
&gt; 
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux
&gt; system
&gt; Archive:      
&gt; http://mail.nl.linux.org/linux-crypto/
&gt;  

__________________________________________________
Do You Yahoo!?
Everything you'll ever need on one web page
from News and Sport to Email and Music Charts
http://uk.my.yahoo.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021220035202</emailId><senderName>Richard Devendra Gopaul</senderName><senderEmail>rgopaul@wam.umd.edu</senderEmail><timestampReceived>2002-12-20 03:52:02-0400</timestampReceived><subject>Re: cryptoloop unresolved symbols</subject><body>

Just to make sure ... you did do a make dep right?

rgopaul@wam.umd.edu

On Fri, 20 Dec 2002, [iso-8859-1] Gong Zheng wrote:

&gt; I am using Debian woody too.  But I compiled into the
&gt; kernel itself (not as modules) successfully using
&gt; int-patch.  Perhaps, you want to try that.  Also,
&gt; woody is actually 2.4.17 on my system.  The 2.4.17 is
&gt; straight from the installation CD.  
&gt; 
&gt;  --- Patric Kabus &lt;patric.kabus@gmx.de&gt; wrote: &gt; Hi!
&gt; &gt; 
&gt; &gt; When I try to load the module cryptoloop the
&gt; &gt; following error occurs:
&gt; &gt; 
&gt; &gt; hostname:/usr/src/linux# modprobe cryptoloop
&gt; &gt;
&gt; /lib/modules/2.4.19/kernel/crypto/drivers/cryptoloop.o:
&gt; &gt; unresolved
&gt; &gt; symbol find_transform_by_name_Re5d73061
&gt; &gt;
&gt; /lib/modules/2.4.19/kernel/crypto/drivers/cryptoloop.o:
&gt; &gt; unresolved
&gt; &gt; symbol loop_register_transfer_R996c5c81
&gt; &gt;
&gt; /lib/modules/2.4.19/kernel/crypto/drivers/cryptoloop.o:
&gt; &gt; insmod
&gt; &gt;
&gt; /lib/modules/2.4.19/kernel/crypto/drivers/cryptoloop.o
&gt; &gt; failed
&gt; &gt;
&gt; /lib/modules/2.4.19/kernel/crypto/drivers/cryptoloop.o:
&gt; &gt; insmod
&gt; &gt; cryptoloop failed
&gt; &gt; 
&gt; &gt; I have a debian woody kernel 2.4.19. I tried to
&gt; &gt; build the module in two
&gt; &gt; different ways:
&gt; &gt; First I patched the kernel manually using the
&gt; &gt; cryptoapi and cryptoloop
&gt; &gt; patches and installed them via 'make modules &amp;&amp; make
&gt; &gt; modules_install'.
&gt; &gt; On my second try I used the debain source packages
&gt; &gt; and built debs with
&gt; &gt; 'make-kpkg modules_image'.
&gt; &gt; No matter how I did it the building of the modules
&gt; &gt; succeeded but I
&gt; &gt; couldn't load cryptoloop (cryptoapi loads fine) due
&gt; &gt; to unresolved
&gt; &gt; symbols.
&gt; &gt; 
&gt; &gt; Thanx!
&gt; &gt; 
&gt; &gt; -
&gt; &gt; Linux-crypto:  cryptography in and on the Linux
&gt; &gt; system
&gt; &gt; Archive:      
&gt; &gt; http://mail.nl.linux.org/linux-crypto/
&gt; &gt;  
&gt; 
&gt; __________________________________________________
&gt; Do You Yahoo!?
&gt; Everything you'll ever need on one web page
&gt; from News and Sport to Email and Music Charts
&gt; http://uk.my.yahoo.com
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
&gt; 
&gt; 

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021220142932</emailId><senderName>Noah Massey</senderName><senderEmail>nmassey@waterwelp.net</senderEmail><timestampReceived>2002-12-20 14:29:32-0400</timestampReceived><subject>Re: cryptoloop unresolved symbols</subject><body>

Hi.

'make-kpkg modules_image' is for external modules.
'make-kpkg kernel_image' will recompile the kernel and the selected modules that are \
in the kernel source. You'll then have a handy .deb file in /usr/src which you can \
'dpkg -i &lt;packagename&gt;' to reinstall the kernel and kernel modules.

so comment is basically "If you need to re-compile the kernel, you need to run \
make-kpkg kernel_image, not make-kpkg modules_image"

Noah

--begin quoted message from Patric Kabus, 
&gt; Hi!
&gt; 
&gt; When I try to load the module cryptoloop the following error occurs:
&gt; 
&gt; hostname:/usr/src/linux# modprobe cryptoloop
&gt; /lib/modules/2.4.19/kernel/crypto/drivers/cryptoloop.o: unresolved
&gt; symbol find_transform_by_name_Re5d73061
&gt; /lib/modules/2.4.19/kernel/crypto/drivers/cryptoloop.o: unresolved
&gt; symbol loop_register_transfer_R996c5c81
&gt; /lib/modules/2.4.19/kernel/crypto/drivers/cryptoloop.o: insmod
&gt; /lib/modules/2.4.19/kernel/crypto/drivers/cryptoloop.o failed
&gt; /lib/modules/2.4.19/kernel/crypto/drivers/cryptoloop.o: insmod
&gt; cryptoloop failed
&gt; 
&gt; I have a debian woody kernel 2.4.19. I tried to build the module in two
&gt; different ways:
&gt; First I patched the kernel manually using the cryptoapi and cryptoloop
&gt; patches and installed them via 'make modules &amp;&amp; make modules_install'.
&gt; On my second try I used the debain source packages and built debs with
&gt; 'make-kpkg modules_image'.
&gt; No matter how I did it the building of the modules succeeded but I
&gt; couldn't load cryptoloop (cryptoapi loads fine) due to unresolved
&gt; symbols.
&gt; 
&gt; Thanx!
&gt; 
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
&gt; 

-- 
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021216203238</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-12-16 20:32:38-0400</timestampReceived><subject>Re: new loop aes and speedup</subject><body>

Newsmail wrote:
&gt; is there any sence that maybe with this new loop-aes version Jari announced
&gt; not so long time ago , we could notice speedups? or is this some illusion
&gt; of my part (kernel 2.4)?

2.4 kernels have faster loop than 2.2 kernels, so if you upgraded from 2.2
kernel to 2.4 kernel, you may see better performance.

&gt; 2nd question: if we compile loop-aes with -O6 by editing the linux
&gt; makefile, could we notice speedups, or its not recommended at all to use
&gt; -O6? I'M using gcc-3.2.1

Please don't change the optimization level in kernel Makefile. Kernel code
needs to cope with interrupts and other processes modifying data in a way
not detectable by the compiler. Too high optimization level may optimize
away code that is required for correct operation.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021217134731</emailId><senderName>Newsmail</senderName><senderEmail>newsmail@satimex.tvnet.hu</senderEmail><timestampReceived>2002-12-17 13:47:31-0400</timestampReceived><subject>Re: new loop aes and speedup</subject><body>

nope, I meant speed comparaison between loopaes 1.6h and 1.6i for 2.4. so 
apparently there shouldnt be any speed difference right?
regards, greg
At 21:32 2002. 12. 16.istá', you wrote:
&gt;Newsmail wrote:
&gt; &gt; is there any sence that maybe with this new loop-aes version Jari announced
&gt; &gt; not so long time ago , we could notice speedups? or is this some illusion
&gt; &gt; of my part (kernel 2.4)?
&gt;
&gt;2.4 kernels have faster loop than 2.2 kernels, so if you upgraded from 2.2
&gt;kernel to 2.4 kernel, you may see better performance.
&gt;
&gt; &gt; 2nd question: if we compile loop-aes with -O6 by editing the linux
&gt; &gt; makefile, could we notice speedups, or its not recommended at all to use
&gt; &gt; -O6? I'M using gcc-3.2.1
&gt;
&gt;Please don't change the optimization level in kernel Makefile. Kernel code
&gt;needs to cope with interrupts and other processes modifying data in a way
&gt;not detectable by the compiler. Too high optimization level may optimize
&gt;away code that is required for correct operation.
&gt;
&gt;Regards,
&gt;Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021214151333</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-12-14 15:13:33-0400</timestampReceived><subject>Re: encrypted partition mount problem</subject><body>

Michael Cox wrote:
&gt; I setup an encrypted fs simply by selecting that
&gt; option for a partition in the Mandrake disk
&gt; partitioning tool (stock mandrake 9.0). On boot, I am
&gt; asked to enter the passphrase, but the mount fails
&gt; with the generic error about maybe having a bad block,
&gt; too many fs, etc. Once boot is complete, I get the
&gt; same error if I simply try 'mount /dev/hdaX, but if I
&gt; mount via the Mandrake GUI tool everything works OK.
&gt; 
&gt; I have a couple of theories, but this is probably
&gt; where my inner-newbie shows through.
&gt; 
&gt; 1) the mount fails during the startup sequence because
&gt; the loop filesystems aren't themselves mounted yet; to
&gt; fix, can I just reorder things a bit in rc.sysinit?
&gt; 
&gt; 2) there's something missing in /etc/fstab which the
&gt; GUI tool is taking care of for me
&gt; 
&gt; Or a combination of 1 and 2.

Your /etc/fstab line should look something like this:

/dev/hdaX  /mountpoint  ext2  defaults,noauto,loop=/dev/loop0,encryption=AES128  0  0
                                              ^^^^^^^^^^^^^^^ ^^^^^^^^^^^^^^^^^
Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021207032244</emailId><senderName>hmail9999</senderName><senderEmail>hmail9999@yahoo.co.jp</senderEmail><timestampReceived>2002-12-07 03:22:44-0400</timestampReceived><subject>=?iso-2022-jp?B?GyRCTCQ+NUJ6OS05cCIoRUU7UiVhITwlazktOXAbKEo=?=</subject><body>

&lt;���M��&gt;
�d�q���[���L����

�����A�L���������]����������������
(�K���{����� ���������[���A�h���X�������������������j
info_ssh@yahoo.co.jp
���[���A�h���X�����L���������������B

��104-0061
�����s����������8-19-3
��2�E�C���O�r���@3F
���[���}�K�W�����s

TEL�@03-3544-6222
FAX�@03-3544-6218

===============================================================
�������i�������W�������������A��������������� ����������
���\���������������I
=================================================================

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

	� �r�f�I�����E�����_�b�`���C�t�E�r�l�N���u 
�@�@ �`�u�j�D���W�E���������E�r�d�w�t�����h�E�A�_���g�O�b�Y����
	     ���@�A�_���g���A�����������@��
		
	��������������������������������������
	�@�@���\�����E�������E���i���������@
�@�@�@�@�@���L�t�q�k���N���b�N���������������B
	��������������������������������������
		���@�@�@�@���@�@�@�@���@
	�@�@�@http://www.ss-koukoku.com/

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

�@�@�J�^�O�b�Y�E�����������E�h���O�b�Y�E���������������@
�@�@�@�@�@�@�@�@�@���@���������������@��

	��������������������������������������
	�@�@���\�����E�������E���i���������@
�@�@�@�@�@���L�t�q�k���N���b�N���������������B
	��������������������������������������
		���@�@�@�@���@�@�@�@���@
		http://www.pp-koukoku.com/

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021211074210</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-12-11 07:42:10-0400</timestampReceived><subject>Re: problems with instalation.</subject><body>

On Wed, 2002-12-11 at 03:50, hackzombie wrote:

[..]
&gt; 5) Try to use a crypto file:
&gt; 
&gt; # dd if=/dev/urandom of=cryptofile bs=1024 count=50
&gt; 
&gt; # losetup -e twofish /dev/loop0 ./cryptofile
&gt; Available keysizes (bits): 128 192 256
&gt; Keysize: 128
&gt; Password: workplease
&gt; Password: workplease
&gt; The cipher does not exist, or a cipher module needs to 
&gt; be loaded into the kernel
&gt; ioctl: LOOP_SET_STATUS: Invalid argument
&gt; 
&gt; # lsmod
&gt; Module                  Size  Used by    Not tainted
&gt; cipher-twofish         43072   0  (unused)
&gt; loop                    7888   0 
&gt; cryptoapi               3396   5  [cipher-twofish]
&gt; 
&gt; 
&gt;  What's wrong ?

you're missing the cryptoloop module... the glue between loop.c's filter
API, and cryptoapi ...

cryptoloop is a tarball of its own,
http://www.kernel.org/pub/linux/kernel/crypto/v2.4/testing/cryptoloop-0.0.1-pre1.tar.bz2

but you may want to (in case you have 2.4.20) use directly
http://www.kernel.org/pub/linux/kernel/crypto/v2.4/testing/patch-int-2.4.20.1.bz2
and
http://www.kernel.org/pub/linux/kernel/crypto/v2.4/testing/loop-jari-2.4.20.0.patch

which contains the latest versions of crypto{api,loop} in an easy to use
patchset and is known to work well;

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F 4142

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021211220330</emailId><senderName>"mike"</senderName><senderEmail>phar@thetransmission.net</senderEmail><timestampReceived>2002-12-11 22:03:30-0400</timestampReceived><subject>=?iso-8859-1?Q?Re:_=1B$BL$=3E5Bz9-9p=22=28I=2C8+!*N=22=3EpJs!*=1B=28J?=</subject><body>

if this isnt a reason for some type of mail filtering, i dont know what is

-phar
----- Original Message -----
From: "infowebmailjp" &lt;infowebmailjp@yahoo.co.jp&gt;
To: &lt;05@banna&gt;
Sent: Wednesday, December 11, 2002 4:33 PM
Subject: $BL$&gt;5Bz9-9p"(I,8+!*N"&gt;pJs!*(J


&gt; &lt;'-�MZ�&gt;
&gt; "dZqf��[f&lt;�L��Z�
&gt;
&gt; ��O��A�L��,�,�S�-],�,�,�,�.�,�,�,�,�
&gt; info_ssn@yahoo.co.jp
&gt; .K,�-{.�,�, ,�,�,�f��[f &gt;
&gt;
&gt; ===============================================================
&gt; "-Z�,�&lt;�'�,��L��-�,�S^,�,�,�,�,�,��I
&gt; "z�M&lt;�-�,�,�fz�[f?fy�[fW����,�,�Si^�,�,�,�Z�,�'v,�,�,��B
&gt; ?� &gt; ===============================================================
&gt;
&gt; ��104-0061
&gt; "O&lt;�&lt;���8-19-3
&gt; '�2fEfCf"fOfrf&lt;�@3F
&gt; f��[f &gt;
&gt; TEL�@03-3544-6222
&gt; FAX�@03-3544-6218�@�@
&gt;
&gt; ===============================================================
&gt; -�'���.i,�,�,��W,�,�,�,��B��,�,�,�&lt;�,�,�, ,�,�,�,�,�
&gt; ,��\�z,�,�,�'�,�,��I
&gt; =================================================================
&gt;
&gt; �T�\�\�\�T�\�\�\�T�\�\�\�T�\�\�\�T�\�\�\�T�\�\�\�T�\�\�\�T�\�\�\�T
&gt;
&gt; - frfffI"�""�E"�Z�f_fbf`f�fCft�E,r,lfNf?fu
&gt; �@�@ ,`,u'j-D.��W�E??�.O����E,r,d,wftfOf"fh�EfAf_f &gt;      �s�@fAf_f &gt;
&gt; ��������������������������������������
&gt; �@�@,��\�z,��E,�'�.��E��.i����"T,��@
&gt; �@�@�@�@�@?� &gt; ��������������������������������������
&gt; ���@�@�@�@���@�@�@�@���@
&gt; �@�@�@http://www.ss-koukoku.com/
&gt;
&gt; �T�\�\�\�T�\�\�\�T�\�\�\�T�\�\�\�T�\�\�\�T�\�\�\�T�\�\�\�T�\�\�\�T
&gt;
&gt; �@�@SJ?^fOfbfY�E&lt;�"���.�Z��E-h"�fOfbfY�E&lt;�-�,���.�,�,��@
&gt; �@�@�@�@�@�@�@�@�@�s�@,�,�'���.�-z���@�s
&gt;
&gt; ��������������������������������������
&gt; �@�@,��\�z,��E,�'�.��E��.i����"T,��@
&gt; �@�@�@�@�@?� &gt; ��������������������������������������
&gt; ���@�@�@�@���@�@�@�@���@
&gt; http://www.pp-koukoku.com/
&gt;
&gt; �T�\�\�\�T�\�\�\�T�\�\�\�T�\�\�\�T�\�\�\�T�\�\�\�T�\�\�\�T�\�\�\�T
&gt;
&gt; -
&gt; Linux-crypto:  cryptography in and on the Linux system
&gt; Archive:       http://mail.nl.linux.org/linux-crypto/
&gt;
&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021211235959</emailId><senderName>Sean Neakums</senderName><senderEmail>sneakums@zork.net</senderEmail><timestampReceived>2002-12-11 23:59:59-0400</timestampReceived><subject>Re: =?ISO-8859-1?Q?=1B$BL$&gt;5Bz9-9p"(I,8+!*N"&gt;pJs!*=1B(J?=</subject><body>

commence  mike quotation:

&gt; if this isnt a reason for some type of mail filtering, i dont know
&gt; what is

[snip copy of spam message]

It certainly is.  People who forward spam to the list should indeed be
summarily banned.

-- 
 /                          |
[|] Sean Neakums            |  Questions are a burden to others;
[|] &lt;sneakums@zork.net&gt;     |      answers a prison for oneself.
 \                          |
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021213232102</emailId><senderName>"vengujzgcq () etang ! com"</senderName><senderEmail>xes@xed.com</senderEmail><timestampReceived>2002-12-13 23:21:02-0400</timestampReceived><subject>Email marking</subject><body>

[Attachment #2 (text/html)]

&lt;STYLE type="text/css"&gt;
&lt;!--
P{
  font-size : 12px;
  color : navy;
}
--&gt;
&lt;/STYLE&gt;
&lt;/HEAD&gt;
&lt;BODY&gt;
&lt;P&gt;(Hello,This is Chinese Traditional)&lt;BR&gt;
&lt;/P&gt;
&lt;DIV style="width : 376px;height : 12px;top : 195px;left : 238px;
  position : absolute;
  z-index : 3;
  visibility : visible;
  background-color : lime;
" id="Layer3"&gt;&lt;/DIV&gt;
&lt;DIV style="width : 73px;height : 14px;top : 172px;left : 238px;
  position : absolute;
  z-index : 2;
  visibility : visible;
  background-color : olive;
" id="Layer2"&gt;&lt;/DIV&gt;
&lt;DIV style="width : 39px;height : 13px;top : 149px;left : 239px;
  position : absolute;
  z-index : 1;
  visibility : visible;
  background-color : silver;
" id="Layer1"&gt;&lt;/DIV&gt;
&lt;P&gt;�����]�� ����21���o������������������&lt;BR&gt;
   ����������10�f�������r�����������V�������������������������������I����
&lt;BR&gt;
   ���������I�� ��������������C����
���������������|���������I��������&lt;BR&gt;
   �����������{������ ���W ����N������ ����� \
I�N��������������E-mail�����W�� I�N������������������������&lt;BR&gt; �����c��� \
���V���r�������r��������eMarketer������������61%�������������������\�������]���M�� \
I�N������&lt;BR&gt; &lt;BR&gt;
�����V�����w�������� ����^ ��Average Response
Rate Ranges�� &lt;BR&gt;
�� 0.5-1% ������������(banner ads) &lt;BR&gt;
&lt;BR&gt;
�� 1-2% ��������(direct mail) &lt;BR&gt;
&lt;BR&gt;
�� 10-15% �����]��(Email) &lt;BR&gt;
&lt;BR&gt;
&lt;BR&gt;
&lt;B&gt;&lt;FONT size="+1" color="#ff0080"&gt;�� [�]������] &lt;/FONT&gt;&lt;/B&gt;&lt;BR&gt;
&lt;BR&gt;
���I�����]�������� ��1000�f/500HK �����I����9000�f/3600HK��
&lt;BR&gt;
���I�����]�������� ��10�f/400HK   �����I��������325�f/3500HK��
 &lt;A href="http://www.jjyx.com/serve/hk1.txt" target="_blank" style="font-size : \
21px;"&gt;&lt;B&gt;&lt;FONT size="+1" color="#ff0000"&gt;free download&lt;/FONT&gt;&lt;/B&gt;&lt;/A&gt;&lt;BR&gt; \
���I�_���]�������� ��10�f/400HK   �����I�_������201�f/3500HK��  &lt;A \
href="http://www.jjyx.com/serve/wd/taiwan.txt" target="_blank" style="font-size : \
21px;"&gt;&lt;B&gt;&lt;FONT size="+1" color="#ff0000"&gt;free download&lt;/FONT&gt;&lt;/B&gt;&lt;/A&gt;&lt;BR&gt; &lt;BR&gt;
&lt;B&gt;&lt;FONT size="+1" color="#ff0080" style="color : #0080ff;"&gt;   \
 [�]���l��]&lt;/FONT&gt;&lt;/B&gt;&lt;BR&gt; �V���]�������l���� ��10�f/500HK 20�f���l
�����_ �90%������&lt;BR&gt;
�������l��         ����60�f/2500HK
&lt;BR&gt;
           
       ����100�f/4000HK
�����C�W�����L��������2000������&lt;BR&gt;
��� ���l��         ��� 500�f/9500HK
�����C�W�����L��������5000������ &lt;BR&gt;
&lt;BR&gt;
&lt;B&gt;&lt;FONT size="+1" color="#ff8040" style="color : #ff8040;"&gt;   \
 [�]�����w]&lt;/FONT&gt;&lt;/B&gt;&lt;BR&gt; &lt;SPAN lang="EN-US" style="FONT-SIZE: 9pt; COLOR: \
#0000c4"&gt;&lt;SPAN style="COLOR: navy; mso-fareast-font-family: PMingLiU; \
mso-fareast-language: ZH-TW"&gt;70&lt;/SPAN&gt;&lt;SPAN lang="ZH-TW" style="COLOR: navy; \
FONT-FAMILY: PMingLiU; mso-fareast-language: ZH-TW; mso-ascii-font-family: 'Times New \
Roman'; mso-hansi-font-family: 'Times New Roman'"&gt;�N�����l���������W \
��l�����w&lt;/SPAN&gt;&lt;SPAN style="COLOR: navy; mso-fareast-font-family: PMingLiU; \
mso-fareast-language: ZH-TW"&gt;/2200&lt;/SPAN&gt;&lt;SPAN lang="ZH-TW" style="COLOR: navy; \
FONT-FAMILY: PMingLiU; mso-fareast-language: ZH-TW; mso-ascii-font-family: 'Times New \
Roman'; mso-hansi-font-family: 'Times New Roman'"&gt;HK&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;SPAN lang="EN-US" \
style="FONT-SIZE: 9pt; mso-fareast-font-family: PMingLiU; mso-fareast-language: \
ZH-TW"&gt; &lt;/SPAN&gt;&lt;SPAN lang="ZH-TW" style="FONT-SIZE: 9pt; FONT-FAMILY: PMingLiU; \
mso-fareast-language: ZH-TW; mso-ascii-font-family: 'Times New Roman'; \
mso-hansi-font-family: 'Times New Roman'"&gt;&lt;/SPAN&gt;&lt;SPAN lang="ZH-TW" style="FONT-SIZE: \
9pt"&gt;&lt;/SPAN&gt;&lt;SPAN lang="EN-US" style="FONT-SIZE: 9pt"&gt;&lt;/SPAN&gt;&lt;SPAN lang="EN-US" \
style="FONT-SIZE: 9pt; COLOR: #0000bf"&gt;&lt;SPAN lang="ZH-TW" style="COLOR: navy; \
FONT-FAMILY: PMingLiU; mso-fareast-language: ZH-TW; mso-ascii-font-family: 'Times New \
Roman'; mso-hansi-font-family: 'Times New Roman'"&gt;&lt;/SPAN&gt;&lt;SPAN style="COLOR: navy; \
mso-fareast-font-family: PMingLiU; mso-fareast-language: ZH-TW"&gt;&lt;/SPAN&gt;&lt;SPAN \
lang="ZH-TW" style="COLOR: navy; FONT-FAMILY: PMingLiU; mso-fareast-language: ZH-TW; \
mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New \
Roman'"&gt;���������������������������]�����l���������W ��l�����y&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;BR&gt; \
������������������&lt;A href="mailto:yhzx599@vip.sina.com"&gt;yhzx599@vip.sina.com&lt;/A&gt;&lt;/P&gt;


&lt;P&gt;&lt;BR&gt;
&lt;B&gt;&lt;FONT size="+1" color="#ff0000"&gt;�� ���������]������ �����������������r2200
HK��&lt;/FONT&gt;&lt;/B&gt;&lt;BR&gt;
�y������������������10000�����������������M200�����������������������W�����u������&lt;BR&gt;
 &lt;BR&gt;
&lt;BR&gt;
&lt;B&gt;e-mail�����������^����������&lt;/B&gt;&lt;BR&gt;
&lt;BR&gt;
��������������������������������������������������������������������32525642��
 &lt;A href="http://www.jjyx.com/serve/hk1.txt" target="_blank" style="font-size : \
21px;"&gt;&lt;B&gt;&lt;FONT size="+1" color="#ff0000"&gt;free download the sample&lt;/FONT&gt;&lt;/B&gt;&lt;/A&gt;&lt;BR&gt; \
�_������������������������������������������������������������������20012356�� \
 &lt;A href="http://www.jjyx.com/serve/wd/taiwan.txt" target="_blank" \
style="font-size : 21px;"&gt;&lt;B&gt;&lt;FONT size="+1" color="#ff0000"&gt;free download the \
sample&lt;/FONT&gt;&lt;/B&gt;&lt;/A&gt;&lt;BR&gt; \
��������������������������������������������������������������������9000�f&lt;BR&gt; &lt;BR&gt;
&lt;BR&gt;
&lt;BR&gt;
  �y�������������������|��������email�����Y�����������������������������������������^��,���I���e���������������]���V����&lt;BR&gt;
 ��������������10�f���������������������a�����Y���������V���]���������������������Q�����������r�������������r����������&lt;BR&gt;
 �����������������C�����r�������������������S�����������@������������������������������ \
��������s�������������������I��&lt;BR&gt; \
���������������I���������}------�V��e-mail���@���������N�� I���������M����&lt;BR&gt; &lt;BR&gt;
&lt;BR&gt;
&lt;FONT size="+1"&gt;&lt;B&gt; ��M������������&lt;/B&gt;&lt;/FONT&gt;&lt;BR&gt;
��������� �W ��V�������������������������������W ��V����������&lt;BR&gt;
���������T�����g���T���������I���������y��� �������������� \
��������I�����������������������M����������&lt;BR&gt; &lt;BR&gt;
&lt;BR&gt;
&lt;FONT size="+1"&gt;&lt;B&gt;�����������c���@�Y�� ��M�]��)&lt;BR&gt;
&lt;A href="mailto:yhzx599@vip.sina.com"&gt;yhzx599@vip.sina.com&lt;/A&gt; \
�������������������������c ��M��������������������������&lt;/B&gt;&lt;/FONT&gt;&lt;BR&gt; &lt;BR&gt;
&lt;B&gt;&lt;FONT size="+1"&gt;���������_���^�����������������������������y�����R��2-3��������&lt;BR&gt;
 ���������y���k�����R &lt;BR&gt;
English:&lt;BR&gt;
&lt;BR&gt;
BENIFICIARY CUSTOMER:  wangjingjing&lt;BR&gt;
A/C BANK:          
   BANK OF CHINA MIANYANG BRANCH&lt;BR&gt;
A/C NO:          
     8209 9802 0003 158&lt;BR&gt;
BENIFICIARY'S TEL NO : 0816-6623109&lt;BR&gt;
&lt;BR&gt;
����������&lt;BR&gt;
�� �� ���� ������&lt;BR&gt;
�����y���� �����y���d������&lt;BR&gt;
��    ���� 8209 9802 0003 158&lt;BR&gt;
������������0816-6623109&lt;BR&gt;
&lt;BR&gt;
2-3������������������������ ����������M��������&lt;BR&gt;
&lt;BR&gt;
�g�����������_���^���������J�� ��M ������0086-0816-6623109
&lt;/FONT&gt;&lt;BR&gt;
&lt;BR&gt;
&lt;FONT size="+1"&gt;�y�������W ��Y����������&lt;BR&gt;
�������������������d��&lt;BR&gt;
EMAIL��&lt;A href="mailto:yhzx599@vip.sina.com"&gt;yhzx599@vip.sina.com&lt;/A&gt; &lt;BR&gt;
�J��������0086-0816-6623109 &lt;BR&gt;
��    ��: 0086-0816-2210496&lt;/FONT&gt;&lt;BR&gt;
&lt;BR&gt;
--------------------------------------------------------------------------------------------------------------&lt;BR&gt;
 ���������������W ����V �W�����O �W �����
�W������ �����������Q���g ���w�l�������r�X�������������|�g���������� ��M&lt;BR&gt;
--------------------------------------------------------------------------------------------------------------&lt;/B&gt;&lt;/P&gt;
 &lt;/BODY&gt;


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>200212141513330</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-12-14 15:13:33-0400</timestampReceived><subject>Re: encrypted partition mount problem</subject><body>

Michael Cox wrote:
&gt; I setup an encrypted fs simply by selecting that
&gt; option for a partition in the Mandrake disk
&gt; partitioning tool (stock mandrake 9.0). On boot, I am
&gt; asked to enter the passphrase, but the mount fails
&gt; with the generic error about maybe having a bad block,
&gt; too many fs, etc. Once boot is complete, I get the
&gt; same error if I simply try 'mount /dev/hdaX, but if I
&gt; mount via the Mandrake GUI tool everything works OK.
&gt; 
&gt; I have a couple of theories, but this is probably
&gt; where my inner-newbie shows through.
&gt; 
&gt; 1) the mount fails during the startup sequence because
&gt; the loop filesystems aren't themselves mounted yet; to
&gt; fix, can I just reorder things a bit in rc.sysinit?
&gt; 
&gt; 2) there's something missing in /etc/fstab which the
&gt; GUI tool is taking care of for me
&gt; 
&gt; Or a combination of 1 and 2.

Your /etc/fstab line should look something like this:

/dev/hdaX  /mountpoint  ext2  defaults,noauto,loop=/dev/loop0,encryption=AES128  0  0
                                              ^^^^^^^^^^^^^^^ ^^^^^^^^^^^^^^^^^
Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021215210959</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-12-15 21:09:59-0400</timestampReceived><subject>Re: loopAES mount defaults</subject><body>

Regis Smith wrote:
&gt; For a loopAES encrypted filesystem I use the following line in my
&gt; /etc/fstab:
&gt; 
&gt; /dev/hdx /crypt ext3 defaults,noauto,loop,encryption=AES128,user 0 0
                                                              ^^^^
This 'user' option is the cause of the problem.

&gt; However, when I mount this via 'mount /crypt', it has the following
&gt; properties, according to the mount command:
&gt; 
&gt; /dev/hdx on /crypt type ext3
&gt; (rw,noexec,nosuid,nodev,loop=/dev/loop0,encryption=AES128,user=rsmith)
&gt; 
&gt; So apparently the mount command (from util-linux version "y", patched
&gt; with the diff from loopAES version "i") ignores the "defaults" option,
&gt; and indeed, when I give the "exec" option explicitly in fstab, it is
&gt; still ignored.  However, when I mount without using fstab like this:
&gt; 
&gt; mount -o encrytion=AES128,loop=/dev/loop0 /dev/hdx /crypt
&gt; 
&gt; the defaults are actually respected.
&gt; 
&gt; Am I doing something silly?  Is there a way to get the defaults when
&gt; mounting via fstab?

mount man page says this for 'user' option:

              user   Allow  an  ordinary  user  to mount the file
                     system.  The name of the  mounting  user  is
                     written  to  mtab so that he can unmount the
                     file system again.  This option implies  the
                     options  noexec,  nosuid,  and nodev (unless
                     overridden by subsequent options, as in  the
                     option line user,exec,dev,suid).

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021217055145</emailId><senderName>Gong Zheng</senderName><senderEmail>gongzeng@yahoo.com</senderEmail><timestampReceived>2002-12-17 05:51:45-0400</timestampReceived><subject>Is there a new howto documentation?</subject><body>

There doesn't seem to be a new howto documentation for
2.4.x kernel so my questions will be based on the old
documentation (which I used for my old 2.2.x kernel).

In the old documentation, the following options have
to be checked:
1. CONFIG_BLK_DEV_LOOP_USE_REL_BLOCK (Use relative
block numbers...):

2. CONFIG_BLK_DEV_LOOP_GEN (General encryption
support):

3. CONFIG_BLK_DEV_LOOP_CAST (CAST128 encryption):

4. CONFIG_BLK_DEV_LOOP_FISH2 (Twofish encryption):

I can't seem to find these in my 2.4.17 kernel.  It's
okay to skip these options?

Am I right to say that loop-hvr-2.4.17.0.patch is
required only when I want to use AES?  Otherwise, only
need to patch with patch-int-2.4.17.0.bz2?

gz



__________________________________________________
Do You Yahoo!?
Everything you'll ever need on one web page
from News and Sport to Email and Music Charts
http://uk.my.yahoo.com
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021217201116</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-12-17 20:11:16-0400</timestampReceived><subject>Re: new loop aes and speedup</subject><body>

Newsmail wrote:
&gt; nope, I meant speed comparaison between loopaes 1.6h and 1.6i for 2.4. so
&gt; apparently there shouldnt be any speed difference right?

Other possible speedups:
1)  If you are using x86 boxes, and your earlier kernel was compiled for 386
    or 486, and you now have it recompiled for Pentium or better x86.
    Pentium and better x86 targets automatically get optimized assembler
    implementation of AES cipher, which is about twice as fast as the C
    implementation.
2)  You are running a kernel with better VM.
3)  Better C compiler code generation.

Just upgrading loop-AES v1.6h to v1.6i should not show better performance.
Last major speed improvement was in December 2001 when optimized AES cipher
implementation for Pentium or better x86 processors was added.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021218093636</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-12-18 09:36:36-0400</timestampReceived><subject>Re: Problem with util-linux-2.11r.patch on RH80</subject><body>

On Tue, 2002-12-17 at 19:29, Robert Jaworski wrote:
&gt; Hi,
&gt; 
&gt; I hope somebody can help me.
&gt; I have a self-compiled kernel 2.4.20 on RH80 with 
&gt; patch-int.2.4.20.1
&gt; loop-jari-2.4.20.0

&gt; Now I am trying to patch the util-linux package  (util-linux-2.11r-10.src.rpm) 
&gt; to get crypto support for mount, losetup and others (?), but while I am 
&gt; patching I get the following error message:

...you would have found ready to use rpm's for rh80 here:

http://www.ifs.tuwien.ac.at/~hvr/crypto/redhat-8.0/

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F 4142

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021219171532</emailId><senderName>Pavel Minev Penev</senderName><senderEmail>kal_pav@sz.techno-link.com</senderEmail><timestampReceived>2002-12-19 17:15:32-0400</timestampReceived><subject>Re: Forgot password BUT, fs is mounted</subject><body>

On Thu, Dec 19, 2002 at 08:17:41AM -0500, Richard Devendra Gopaul wrote:
&gt; it's never a bad idea to copy the files, just in case...
&gt; 
&gt; rgopaul@wam.umd.edu
&gt; 
&gt; On Wed, 18 Dec 2002, David Haraburda wrote:
&gt; 
&gt; &gt; Hi,
&gt; &gt; 
&gt; &gt; I have forgotten the password to my encrypted file system (well, I
&gt; &gt; have a couple of guesses, but I'm not sure).  The reason I don't
&gt; &gt; want to try them is because the drive has been mounted and running
&gt; &gt; for awhile now... everything is fine, but just in case something
&gt; &gt; happens to the computer, I was wondering if there is any way to
&gt; &gt; recover the password from an already mounted partition?  If not, is
&gt; &gt; it possible for me to attempt to mount it again in a different
&gt; &gt; location (probably not?) so I can try guessing the password?  Or am
&gt; &gt; I just better off copying everything over while I have the chance
&gt; &gt; and re-encrypting and this time remembering the password? :-)

I think it safe to try mounting the same device in a different directory
as long as you mount it read-only. Otherwise, there is no known direct
way to recover the password by looking at the decrypted data (however,
you may be able to get the encryption/decryption key from the memory).
My advice is: SAVE YOUR DATA IMMEDIATELY.

By the way I had your problem some time ago. I wrote a brute forcer
based on kerenel's cryptoloop functionality, but I succeeded in only
discovering that each loop device detaching is done in a separate
(zombie) process which causes a temoprary system hang up when I run my
brute forcer (the old fork bomb). Note that I haven't tested the 2.4.20
kernel. A shell script (running at a lower rate) seems to work fine at
the cost of performance: don't expect much more than 20 password tests
per second.

Good luck,
-- 
Pav
                                 ,.,
                               ,``:'',
That your internet traffic is  {o ! o}  My GPG/PGP key is now available at
vulnarable is NOT only a joke! ] -+- [  x-hkp://search.keyserver.net:11371.
                                \ ! /
                                 `-'

`shell$ gpg --keyserver x-hkp://search.keyserver.net:11371 --recv-key 164C028F`
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021220181409</emailId><senderName>Patric Kabus</senderName><senderEmail>patric.kabus@gmx.de</senderEmail><timestampReceived>2002-12-20 18:14:09-0400</timestampReceived><subject>Re: cryptoloop unresolved symbols</subject><body>

Hi!

&gt; 'make-kpkg modules_image' is for external modules.
&gt; 'make-kpkg kernel_image' will recompile the kernel and the selected modules that \
&gt; are in the kernel source. You'll then have a handy .deb file in /usr/src which you \
&gt; can 'dpkg -i &lt;packagename&gt;' to reinstall the kernel and kernel modules. 
&gt; so comment is basically "If you need to re-compile the kernel, you need to run \
&gt; make-kpkg kernel_image, not make-kpkg modules_image"
I tried that before but it didn't work. Building the debs worked fine,
but the cryptoloop module didn't work (unresolved symbols).

I followed Gong`s suggestion to use the int-patch (again, I tried this
before, too). This time I installed the loop-jari patch (which came with
my debian crypto-api (or cryptoloop) packages. Then I patched the kernel
with the int-patch (2.4.19-2).
Now I tried to build everything into the kernel but again losetup
complained. Then I built only 'cryptoloop' as a module and this time it
loaded properly. I have no idea why there were no unresolved symbols
this time. Maybe because the int-patch is exactly for my kernel version.
I don't know why it didn't work when I built cryptoloop into the kernel.
I haven't tested it thoroughly but the module loaded and losetup didn't
complain.
But thanks for the help anyway!

Patric

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021223190732</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-12-23 19:07:32-0400</timestampReceived><subject>Re: loop_fish2 in kernel 2.4.20</subject><body>

Florian Berger wrote:
&gt; I am using the Kernel 2.4.20-4GB from SUSE 7.3 and now I want to install the
&gt; Kernel 2.4.20 because I want to use QoS/CBQ, but then I realized that there
&gt; is a Problem concerning my crypted hdd.
&gt; 
&gt; At first, I searched the whole kernel config (make menuconfig) for the
&gt; encryption for (oder of a reiserfs partition) reiserfs, but then somebody
&gt; gave me the hint (oder told oder advised me) that I need a patch.
&gt; 
&gt; So I downloaded a patch from
&gt; ftp://ftp.kernel.org/pub/linux/kernel/people/hvr/testing/
&gt; and pathed the kernel source. Now I checked ALL options under the
&gt; Cryptography support (CryptoAPI) option.
&gt; 
&gt; I compiled it, but still, the new kernel does not have the module
&gt; loop_fish2. While booting the PC the flollowing message "can't modprobe
&gt; loop_fish2" comes up.
&gt; 
&gt; Does anyone have a really GOOD tutorial for twofish encrypted reiserfs
&gt; partitions with the kernel 2.4.20? I' m getting tired of searching google.

Kerneli.org version of loop encryption have twofish cipher but that is not
SuSE compatible. It will most likely trash your SuSE fish2 formatted
partitions if you try to use it.

Loop-AES + ciphers packages will let you use just about any stable kernel
you want without kernel patching, and twofish loop cipher in the ciphers
package can be used in 100% SuSE compatible mode. For more information read
the README files in the tarballs. Loop-AES + ciphers packages are available
here:

http://mail.nl.linux.org/linux-crypto/2002-12/msg00000.html
  or
http://marc.theaimsgroup.com/?l=linux-crypto&amp;m=103874829427773&amp;w=2

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021226061659</emailId><senderName>"RICHARD COLE"</senderName><senderEmail>richie09@mail.com</senderEmail><timestampReceived>2002-12-26 06:16:59-0400</timestampReceived><subject>ASSISTANCE</subject><body>

SOLICITING FOR BUSINESS VENTURE AND PARTNERSHIP.

MY NAME IS MR RICHARD COLE  CHAIRMAN OF CONTRACT AWARD AND MONITORING
COMMITTEE OF THE MINISTRY OF INDUSTRY AND INTERNATIONAL
TRADE DEVELOPMENT ,MY DUTY AS EMPOWERED BY THE MAURITIUS GOVERNMENT IS
TO PROVIDE THE BASIC AMENITIES,SOCIAL RECREATIONAL ACTIVITIES IN URBAN
AND RURAL AREAS,THIS PROGRAMME  INCLUDES ASSISTANCE TO DEPRIVED LOCAL
COMMUNITIES AND TO CO-ORDINATE PROJECTS AND DEVELOPMENT AT THE
NATIONAL LEVEL, FURTHERMORE, FROM THIS PROJECTS WE HAVE BEEN ABLE TO
SECURED SOME REASONABLE AMOUNT OF U.S.$21.8(TWENTY ONE MILLION EIGHT
HUNDRED THOUSAND U.S.DOLLARSONLY) AS COMISSION FROM VARIOUS
CONTRACTORS RESULTING FROM OVERINVOICING ,HENCE ALL THE NECESSARRY
APPROVALS HAS BEEN COMPLETED.

THESE APPROVED FUND  WAS  PACKAGED  AND  DESPATCHED THROUGH  A
SECURITY
COMPANY FOR ONWARD DELIVERY TO ITS DESTINATION INEUROPE. THESE
FUND ARE FIRST DEPOSITED INTO A VAULT SECURITY BEFORE WE ARRANGE
FOR ITS MOVEMENT TO EUROPE THROUGH DIPLOMATIC CHANNEL USING DECOY
PURPORTING THAT THE FUND BELONGS TO AN EXPATRIATE/COMPANY, AS WE
ARE GOVERNMENT OFFICIALS,WE ARE NOT ALLOWED TO OPERATE FOREIGN BANK
ACCOUNT,HENCE WE NEED YOU TO STAND AS THE BENEFICIARY AND CLAIM
THE FUND ON OUR BEHALF FROM THE SECURITY COMPANY.

PRESENTLY I AM NOW IN EUROPE TO SEARCH FOR ARELIABLE PERSON/COMPANY
OF HIGH INTERGRITY /DIGNITY AND ONE WITH CONSCIENCE WHO WILL CLAIM
THIS FUND ON OUR BEHALF AS THE BENEFICIARY ,AND WE HAVE AGREED TO
GIVE YOU 25%OF THE TOTAL SUM AS COMMISSION FOR YOUR
ASSISTANCE/EFFORT.AND 5% WILL BE USED TO SETTLE EVERY EXPENSES
INCURRED .WE WILL USE 70%TO INVEST UNDER YOUR RECOMMENDATION AND
GUIDE AND GO INTO JOINT VENTURE BUSINESS WITH YOU.

I WOULD GREATLY APPRECIATE YOUR ASSISTANCE .ALSO YOU CALL ME ON
MY TELEPHONE NUMBER  FOR MORE BRIEFING  0031-613 934 500  AS I LOOK
FORWARD TO YOUR RESPONSE  AS SOON AS POSSIBLE.

BEST REGARDS

RICHARD COLE

0031 613 934 500..


alternative e mail address below:

colerichie1@netscape.net

</body></email><email><emailId>20021226153130</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-12-26 15:31:30-0400</timestampReceived><subject>Announce loop-AES-v1.7a file/swap crypto package</subject><body>

loop-AES changes since previous release:
- Fixed bug where running 'swapon -a' in some encrypted swap error cases
  didn't correctly return error status.
- Added "-C nnn" option to losetup and "-o itercountk=nnn" option to mount
  that iterate encryption key nnn thousand times through AES-256. Based on
  code from Sami Farin.
- build-initrd.sh updated to understand losetup "-C nnn" option.
- loop.c-2.5.patched updated with fixes from 2.5.53
- Added workaround for signal locking changes in RedHat 8.1 beta kernel.

bzip2 compressed tarball is here:

    http://loop-aes.sourceforge.net/loop-AES-v1.7a.tar.bz2
    md5sum aea5d5abc9684dfab3fd63fa493fe509

PGP signature file, my public key, and fingerprint here:

    http://loop-aes.sourceforge.net/loop-AES-v1.7a.tar.bz2.sign
    http://loop-aes.sourceforge.net/PGP-public-key.asc
    1024/3A220F51 5B 4B F9 BB D3 3F 52 E9  DB 1D EB E3 24 0E A9 DD


Additional ciphers package changes since previous release:
- Added correct little-endian on-disk format to serpent loop cipher module.
  Code still defaults to incorrect big-endian on-disk format. Losetup "-I 1"
  option and mount "-o loinit=1" option enable use of little-endian on-disk
  format.

bzip2 compressed tarball is here:

    http://loop-aes.sourceforge.net/ciphers-v1.1a.tar.bz2
    md5sum 05606e1e84118e2e403494cad4b61116

PGP signature file here:

    http://loop-aes.sourceforge.net/ciphers-v1.1a.tar.bz2.sign

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021227215359</emailId><senderName></senderName><senderEmail>cn-domain</senderEmail><timestampReceived>2002-12-27 21:53:59-0400</timestampReceived><subject>Anyone can get chinese domains now at Yawadoo.US !</subject><body>

----------------------------------------------------------------------------
                        .com.cn, .net.cn, .org.cn
             Establish your Chinese identity on the Web today!
----------------------------------------------------------------------------

New .com.cn Domains
Businesses around the world will soon be able to establish a Chinese
identity on the web. For the first time ever, .CN, the Internet address
for China, will be made available to businesses outside of China under
a new liberalized policy.

The Dot CN registry, responsible for the .com.cn offering, has set a
launch date of Dec 16th. Yawadoo.Us will begin queuing
pre-registrations for the .com.cn domain on a first come first serve 
basis, so be sure to get in the registration process early before the
best domain names are taken.

Trademark Holders
There is NO Sunrise or IP Protection Period for com/net/org.cn.  If you
wish to protect your trademarks, you should pre-register your domains now
to ensure submission the day .CN opens.  To recoup a domain later you must
go through China's Domain Name Dispute Resolution Policy.

China's recent accession to the World Trade Organization (WTO) is proof
that the Chinese economy is taking great strides toward accessibility.
Don't miss your opportunity to open the door on 1.1 billion potential
customers. Pre-register your .com.cn today!

Pre-Register yours today!

http://yawadoo.us

To contact Yawadoo.us email cn-domains@Yawadoo.us .
============================================================================


[Attachment #3 (unknown)]

&lt;HTML&gt;
&lt;HEAD&gt;
&lt;TITLE&gt;Yawadoo.Us&lt;/TITLE&gt;
&lt;/HEAD&gt;
&lt;BODY BGCOLOR="#FFFFFF"&gt;
&lt;FORM ACTION="http://yawadoo.us/index.php" METHOD=POST&gt;
&lt;CENTER&gt;&lt;TABLE BORDER=0 BGCOLOR="#E8E8FF" CELLSPACING=0 CELLPADDING=0&gt;
&lt;TR&gt;
&lt;TD&gt;
&lt;TABLE BORDER=0 CELLSPACING=24 CELLPADDING=0&gt;
&lt;TR&gt;
&lt;TD NOWRAP BGCOLOR="#FFFFFF"&gt;

&lt;TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH=581&gt;
&lt;TR&gt;
&lt;TD WIDTH=5 BGCOLOR="#6633CC"&gt;
&lt;BR&gt;
&lt;/TD&gt;
&lt;TD WIDTH=571&gt;
&lt;TABLE BORDER=0 CELLSPACING=0 CELLPADDING=8 WIDTH="100%"&gt;
&lt;TR&gt;
&lt;TD VALIGN=top&gt;
&lt;!--Begin Content--&gt;
&lt;CENTER&gt;
&lt;IMG SRC="http://web.yawadoo.us/yawadoo-images/registerhere.gif" WIDTH=204 HEIGHT=99 \
ALIGN=middle&gt; &lt;font size=4 face=verdana style="font:24px;"&gt;&lt;b&gt;    .COM.CN \
   &lt;/b&gt;&lt;/font&gt; &lt;IMG SRC="http://web.yawadoo.us/yawadoo-images/china01.gif"  \
HEIGHT=99 ALIGN=middle&gt;

&lt;BR&gt;
&lt;HR&gt;
&lt;/CENTER&gt;
&lt;FONT SIZE="-2" FACE="Verdana, Helvetica, Arial" COLOR="#333333"&gt;
&lt;!--output1--&gt;
&lt;/FONT&gt;
&lt;font size=2 style="font:14px;color:#000088"&gt;&lt;b&gt;New .com.cn domains&lt;BR&gt;&lt;font&gt;

&lt;FONT SIZE="-1" FACE="Verdana, Helvetica, Arial" COLOR="#333333"&gt;Businesses
around the world will soon be
able to establish a Chinese
identity on the web. For the
first time ever, .CN, the
Internet address for China,
will be made available to
businesses outside of China
under a new liberalized
policy.&lt;BR&gt;
&lt;FONT SIZE="-1" FACE="Verdana, Helvetica, Arial" COLOR="#3333aa"&gt;
&lt;ul&gt;
&lt;li&gt; No local presence required
&lt;li&gt; First come .. first served registration
&lt;li&gt; No special registration restrictions
&lt;li&gt; Demand expected to be very strong 
&lt;/ul&gt;


&lt;/FONT&gt;&lt;BR&gt;
&lt;FONT SIZE="-1" FACE="Verdana, Helvetica, Arial" COLOR="#333333"&gt;
&lt;B&gt;Trademark Holders&lt;BR&gt;
There is NO Sunrise or IP Protection Period for com/net/org.cn.  If you
wish to protect your trademarks, you should pre-register your domains now
to ensure submission the day .CN opens.  To recoup a domain later you must
go through China's Domain Name Dispute Resolution Policy.&lt;/B&gt;&lt;BR&gt;
&lt;/FONT&gt;&lt;BR&gt;
&lt;FONT SIZE="-1" FACE="Verdana, Helvetica, Arial" COLOR="#333333"&gt;The
Dot CN registry, responsible
for the .com.cn offering, has
set a launch date of Dec
16th.&lt;/FONT&gt;
&lt;FONT SIZE="-1" FACE="Verdana, Helvetica, Arial" COLOR="#333333"&gt;Yawadoo.Us
will begin queuing
pre-registrations for the
.com.cn domain on a first come
first serve basis, so be sure
&lt;IMG SRC="http://web.yawadoo.us/yawadoo-images/china.gif" WIDTH=89 HEIGHT=75 \
ALIGN=left&gt;to get in the registration process early before the best
domain names are taken.&lt;BR&gt;
&lt;/FONT&gt;&lt;BR&gt;
&lt;FONT SIZE="-1" FACE="Verdana, Helvetica, Arial" COLOR="#333333"&gt;China's
recent accession to the World
Trade Organization (WTO) is
proof that the Chinese economy
is taking great strides toward
accessibility. Don't miss your
opportunity to open the door
on 1.1 billion potential
customers. Pre-register your
.com.cn today!&lt;BR&gt;
&lt;/FONT&gt;&lt;BR&gt;&lt;center&gt;
&lt;FONT SIZE="-2" FACE="Verdana, Helvetica, Arial" COLOR="#333333"&gt;
To contact Yawadoo.Us email cn-domains@Yawadoo.Us
&lt;BR&gt;
&lt;/FONT&gt;&lt;BR&gt;
&lt;FONT SIZE="-2" FACE="Verdana, Helvetica, Arial" COLOR="#333333"&gt;
&lt;!--output2--&gt;
&lt;/FONT&gt;
&lt;TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%"&gt;
&lt;TR&gt;
&lt;TD VALIGN=top" WIDTH="33%" HEIGHT=19&gt;
&lt;/TD&gt;
&lt;TD VALIGN=top NOWRAP WIDTH=225 HEIGHT=19&gt;
&lt;CENTER&gt;&lt;A HREF="http://web.yawadoo.us/CenterUS.asp?lang=EN"&gt;&lt;IMG \
SRC="http://web.yawadoo.us/yawadoo-images/nextbutton.gif" ALT="Prerequest Yours \
Today!" border=0 &gt;&lt;/A&gt;&lt;BR&gt; &lt;/CENTER&gt;
&lt;/TD&gt;
&lt;TD VALIGN=top &gt;
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
&lt;!--End Content--&gt;
&lt;/TD&gt;
&lt;/TR&gt;
&lt;TR&gt;
&lt;TD&gt;
&lt;CENTER&gt;
&lt;HR&gt;
&lt;FONT SIZE="-2" FACE="Verdana, Helvetica, Arial" COLOR="#CCCCCC"&gt;
Copyright ©2002
Yawadoo.Us All rights
Reserved.&lt;/FONT&gt;&lt;/CENTER&gt;
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
&lt;/TD&gt;
&lt;TD WIDTH=5 BGCOLOR="#6633CC"&gt;
&lt;BR&gt;
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
&lt;TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%"&gt;
&lt;TR&gt;
&lt;TD BGCOLOR="#6633CC"&gt;
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
&lt;BR&gt;
&lt;!--input--&gt;
&lt;/CENTER&gt;
&lt;/FORM&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;







xAddress-Sent:linux-crypto#nl.linux.org
From:linux-crypto@nl.linux.org

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/



</body></email><email><emailId>20021228021958</emailId><senderName>mmail7777jp</senderName><senderEmail>mmail7777jp@yahoo.co.jp</senderEmail><timestampReceived>2002-12-28 02:19:58-0400</timestampReceived><subject>=?iso-2022-jp?B?GyRCTCQ+NUJ6OS05cCIoSSw4KyEqTiI+cEpzISobKEo=?=</subject><body>

&lt;���M��&gt;
�d�q���[���L����

�����A�L���������]������������������
info2222jp@yahoo.co.jp
�K���{����� ���������[���A�h���X������������������


===============================================================
�������������L���������������������I
�z�M���������z�[���y�[�W���������i�������������v�������B
���L�e�`�w�������\�������������B
===============================================================

��104-0061
�����s����������8-19-3
��2�E�C���O�r���@3F
���[���}�K�W�����s

TEL�@001-373-188-8477
FAX�@03-3544-6218�@�@

===============================================================
�������i�������W���������B��������������� ����������
���\���������������I
=================================================================

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

	� �r�f�I�����E�����_�b�`���C�t�E�r�l�N���u 
�@�@ �`�u�j�D���W�E���������E�r�d�w�t�����h�E�A�_���g�O�b�Y����
	     ���@�A�_���g���A�����������@��
		
	��������������������������������������
	�@�@���\�����E�������E���i���������@
�@�@�@�@�@���L�t�q�k���N���b�N���������������B
	��������������������������������������
		���@�@�@�@���@�@�@�@���@
	�@�@�@http://www.xx-koukoku.com/

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

�@�@�J�^�O�b�Y�E�����������E�h���O�b�Y�E���������������@
�@�@�@�@�@�@�@�@�@���@���������������@��

	��������������������������������������
	�@�@���\�����E�������E���i���������@
�@�@�@�@�@���L�t�q�k���N���b�N���������������B
	��������������������������������������
		���@�@�@�@���@�@�@�@���@
		http://www.ww-koukoku.com/

���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\���\�\�\��

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021230093949</emailId><senderName>Herbert Valerio Riedel</senderName><senderEmail>hvr@hvrlab.org</senderEmail><timestampReceived>2002-12-30 09:39:49-0400</timestampReceived><subject>Re: RedHat8.0: losetup: Unsupported encryption type aes128</subject><body>

On Mon, 2002-12-30 at 08:10, Michael Janich wrote:
&gt; Hi crypto-experts,
&gt; 
&gt; I run RedHat8.0 out of the box and have loaded all the modules that I 
&gt; think I should:
[..]

&gt; It looks much like I have an old/wrong version of losetup!? Or does it
&gt; have a different name under redhat 8.0? If it has all the cryptoloop
&gt; stuff built in, it must have some losetup, that is working!?!?!

...they really forgot about that 'minor' detail :-/

you'll find the missing part(s) here:

http://www.ifs.tuwien.ac.at/~hvr/crypto/redhat-8.0/

regards,
-- 
Herbert Valerio Riedel       /    Phone: (EUROPE) +43-1-58801-18840
Email: hvr@hvrlab.org       /    Finger hvr@gnu.org for GnuPG Public Key
GnuPG Key Fingerprint: 7BB9 2D6C D485 CE64 4748  5F65 4981 E064 883F 4142

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021230181328</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-12-30 18:13:28-0400</timestampReceived><subject>Re: Logical Volume Manager</subject><body>

Regis Smith wrote:
&gt; Another related question:  Is it safe to use e2fsadm to shrink/expand
&gt; a loop-AES encrypted logical volume?

No.

Loop devices can't be resized when they are active.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021230181407</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-12-30 18:14:07-0400</timestampReceived><subject>Re: Encrypted CDs/DVDs</subject><body>

Michael Janich wrote:
&gt; I want to create/burn  encrypted CDs and DVDs.
&gt; 
&gt; Do I do this with
&gt; 
&gt;    mkisofs ... | aespipe -k256 ... | cdwrite -
&gt;    mount /dev/cdrom -o loop -e aes256 /cdrom
&gt; 
&gt; Does someone have any experience with this?

Example 4 from aespipe README file:

Create encrypted ISO9660 CD-ROM image that can be mounted using Linux
loop-AES crypto package:

    mkisofs -r directory-tree | aespipe -e AES128 -T &gt;image.iso
    
This image file can then be mounted under Linux like this:

    mount -t iso9660 image.iso /cdrom -o loop=/dev/loop0,encryption=AES128

Or, after writing image.iso to CD-ROM, like this:

    mount -t iso9660 /dev/cdrom /cdrom -o loop=/dev/loop0,encryption=AES128


Latest version (v2.1a) of aespipe is here:

    http://loop-aes.sourceforge.net/aespipe-v2.1a.tar.bz2
    http://loop-aes.sourceforge.net/aespipe-v2.1a.tar.bz2.sign

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/

</body></email><email><emailId>20021230193707</emailId><senderName>aya</senderName><senderEmail>aya@263.net</senderEmail><timestampReceived>2002-12-30 19:37:07-0400</timestampReceived><subject>=?gb2312?q?=C4=FA=B5=C4=C5=F3=D3=D1=CF=F2=C4=E3=CD=C6=BC=F6?=</subject><body>

This is a multi-part message in MIME format
[Attachment #2 (text/html)]

ÄãºÃ:
    ÄãµÄÅóÓÑ°¢ÑÅÌØµØÀ´ÐÅÏòÄúÍÆ¼öÒ»¸ö¾«²ÊÍøÖ·,ËüµÄÁ´½ÓÊÇ:
   http://www.ting88.com/MusicList/2735.htm
    (±êÌâ:¾ÅÌìÌý°ÉÌý°É===http://www.ting88.com===)
-----------------------------------
°ÙÈËÁÄÌìµÄ´óÐÍ½­ºþ£º
http://xajh.skyjh.com
-----------------------------------
·¢ËÍÈËIP:218.118.182.143
·¢ËÍÊ±¼ä:2002/12/30 20:12:47
-----------------------------------
¡ô¡ô¡ô±¾·þÎñÓÉÍøÒ×Ìá¹©  £¡¡ô¡ô¡ô

    
-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021231170934</emailId><senderName>"your_mom [join4free]"</senderName><senderEmail>reply-9706118-567@4freedailymailer.com</senderEmail><timestampReceived>2002-12-31 17:09:34-0400</timestampReceived><subject>2 guys + 1 mom = buckets of cum</subject><body>

This is a multi-part message in MIME format.

--_----------=_5813409700581475939288
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain

This message contains an HTML formatted message but your email
client does not support the display of HTML. Please view this message in a
different mail client or forward this email to a web-based mail system.

--_----------=_5813409700581475939288
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html

&lt;html&gt;
&lt;head&gt;
&lt;title&gt;fpa-002&lt;/title&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"&gt;
&lt;/head&gt;
&lt;body bgcolor=#00CCFF leftmargin=0 topmargin=0 marginwidth=0 marginheight=0&gt;
&lt;table width=600 border=0 align="center" cellpadding=0 cellspacing=0&gt;
  &lt;tr&gt;
		
    &lt;td colspan=3&gt; &lt;a href="http://click.j4femail.com/sp/t.pl?id=20337:9706118"&gt;&lt;img \
src="http://www.join4free.com/a/banners/topbucks/milf/ms-fpa-002_01.gif" alt="" \
width=600 height=93 border="0"&gt;&lt;/a&gt;&lt;/td&gt;  &lt;/tr&gt;
	&lt;tr&gt;
		
    &lt;td&gt; &lt;a href="http://click.j4femail.com/sp/t.pl?id=20338:9706118"&gt;&lt;img \
src="http://www.join4free.com/a/banners/topbucks/milf/ms-fpa-002_02.gif" alt="" \
width=181 height=180 border="0"&gt;&lt;/a&gt;&lt;/td&gt;  
    &lt;td bgcolor="#0099CC"&gt;
    &lt;a href="http://click.j4femail.com/sp/t.pl?id=20339:9706118"&gt;&lt;img border="0" \
src="http://www.join4free.com/a/banners/topbucks/milf/milf1.jpg"&gt;&lt;/a&gt;  &lt;/td&gt;
		
    &lt;td align="right" bgcolor="#0099CC"&gt; &lt;a \
href="http://click.j4femail.com/sp/t.pl?id=20340:9706118"&gt;&lt;img \
src="http://www.join4free.com/a/banners/topbucks/milf/ms-fpa-002_04.gif" alt="" \
width=178 height=180 border="0"&gt;&lt;/a&gt;&lt;/td&gt;  &lt;/tr&gt;
	&lt;tr&gt;
		
    &lt;td colspan=3&gt; &lt;a href="http://click.j4femail.com/sp/t.pl?id=20341:9706118"&gt;&lt;img \
src="http://www.join4free.com/a/banners/topbucks/milf/ms-fpa-002_05.gif" alt="" \
width=600 height=20 border="0"&gt;&lt;/a&gt;&lt;/td&gt;  &lt;/tr&gt;
	&lt;tr&gt;
		
    &lt;td colspan=3&gt; &lt;a href="http://click.j4femail.com/sp/t.pl?id=20342:9706118"&gt;&lt;img \
src="http://www.join4free.com/a/banners/topbucks/milf/ms-fpa-002_06.jpg" alt="" \
width=600 height=107 border="0"&gt;&lt;/a&gt;&lt;/td&gt;  &lt;/tr&gt;
&lt;/table&gt;
&lt;IMG SRC="http://click.j4femail.com/sp/t.pl?id=20343:9706118&amp;o=1" BORDER=0 WIDTH=0 \
HEIGHT=0&gt; &lt;br&gt;&lt;br&gt; &lt;font size="1"&gt;
Note: this is not a spam email. This email was sent to you&lt;br&gt;because your email was \
entered in at Join4Free.Com&lt;br&gt;requesting to be a registered subscriber.&lt;br&gt;If you \
did not request this email, please click below:&lt;br&gt; &lt;a \
href="http://www.join4free.com/cancel.html?email=linux-crypto@nl.linux.org"&gt;UNSUBSCRIBE \
ME PLEASE&lt;/a&gt;&lt;br&gt; and you will *never* receive another email from us!&lt;br&gt;
If you are having problems with unsubscribing your email&lt;br&gt; address please call the \
following number:&lt;br&gt; 561-892-0703 (list name: join4free) &lt;br&gt;
&lt;/font&gt;&lt;!-- fhA5VbSZJkjANMbx49CurBE193YtGyDAuILFgqQW69bdYovJSp84DAPIdcr2FDXJjVfwCu3KMb \
dQZsiLj8MW2r5upjxsQupAJ0fc5NViyhlAjlhn0MSCdM8hI4Q5LFPlV5wLovKiwtt2h3WIt4OzOHm6QNbCjCRV \
T275KYmceo1oKNeFvPTJFR94HFEsXKC7Mmhba2A5tn8kRMd26zuHlApNHV7H6187XwfCo3Omt9DSAIatLUtNFL \
6kKVAl8p7BnCwC6SR59hvZ6Hvy9jCmU6MJp0MVoPX97CWNvKIVF0TS12BB3dPwaKzz6z8ZgRRoOZcts9U2P1Cf \
UARJKPd5JdTBc4jmdGbHngLKJgJICGJaxBReSumtbI5DlnxCjMkMzNU9H7gasQBYriX8v3NxbbgJNUpF9gSE1S \
mQKjRhkf4Q3pNxgI4bp95GjBhVrnUL7CHncxYhQ8HWKLCX0XMUqefVRxFGRgbV6dCerxVMzMcuJD6CygIK4WR3iI2TmhpF \
--&gt;  &lt;/body&gt;
&lt;/html&gt;

--_----------=_5813409700581475939288--


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021231191822</emailId><senderName>Jari Ruusu</senderName><senderEmail>jari.ruusu@pp.inet.fi</senderEmail><timestampReceived>2002-12-31 19:18:22-0400</timestampReceived><subject>Re: [work] Re: Encrypted CDs/DVDs</subject><body>

Michael Janich wrote:
&gt; But I really like to have an entry in /etc/fstab, that can transparently mount it.
&gt; Right now I have:
&gt; 
&gt; /dev/cdrom /cryptcd iso9660 noauto,owner,kudzu,ro,loop=/dev/loop0,encryption=AES128 \
&gt; 0 0 
&gt; but that does not work.
&gt; 
&gt; Any comments or tips? Much appreciated!

Put this line into your /etc/fstab and it will work:

/dev/cdrom /cryptcd iso9660 \
                noauto,owner,kudzu,ro,loop=/dev/loop0,encryption=aes,keybits=128,phash=sha256 \
                0 0
                                                                  ^^^^^^^^^^^^^^ \
^^^^^^^^^^^ ^^^^^^^^^^^^ Kerneli.org and loop-AES versions have different mount, \
losetup and fstab options. Examples in aespipe README file use loop-AES syntax.

Regards,
Jari Ruusu &lt;jari.ruusu@pp.inet.fi&gt;

-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email><email><emailId>20021231234643</emailId><senderName>"schoolgirl [join4free]"</senderName><senderEmail>reply-9706118-574@4freedailymailer.com</senderEmail><timestampReceived>2002-12-31 23:46:43-0400</timestampReceived><subject>School is out and my clothes are off!</subject><body>

This is a multi-part message in MIME format.

--_----------=_7035621922703697221400
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain

This message contains an HTML formatted message but your email
client does not support the display of HTML. Please view this message in a
different mail client or forward this email to a web-based mail system.

--_----------=_7035621922703697221400
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html


&lt;html&gt;

&lt;head&gt;

&lt;title&gt;school&lt;/title&gt;



&lt;/head&gt;

&lt;body bgcolor="#ffffff" &gt;



&lt;!-- Image with table --&gt;

&lt;table border="0" cellpadding="0" cellspacing="0" width="531"&gt;

  &lt;tr&gt;&lt;!-- Shim row, height 1. --&gt;
   &lt;td&gt;&lt;img src="http://www.join4free.com/a/banners/cen/school/shim.gif" width="194" \
height="1" border="0"&gt;&lt;/td&gt;  &lt;td&gt;&lt;img \
src="http://www.join4free.com/a/banners/cen/school/shim.gif" width="82" height="1" \
border="0"&gt;&lt;/td&gt;  &lt;td&gt;&lt;img \
src="http://www.join4free.com/a/banners/cen/school/shim.gif" width="154" height="1" \
border="0"&gt;&lt;/td&gt;  &lt;td&gt;&lt;img \
src="http://www.join4free.com/a/banners/cen/school/shim.gif" width="101" height="1" \
border="0"&gt;&lt;/td&gt;  &lt;td&gt;&lt;img \
src="http://www.join4free.com/a/banners/cen/school/shim.gif" width="1" height="1" \
border="0"&gt;&lt;/td&gt;  &lt;/tr&gt;

  &lt;tr&gt;&lt;!-- row 1 --&gt;
   &lt;td colspan="2"&gt;&lt;a href="http://click.j4femail.com/sp/t.pl?id=20431:9706118"&gt;&lt;img \
name="school_r1_c1" src="http://www.join4free.com/a/banners/cen/school/school_r1_c1.jpg" \
width="276" height="126" border="0"&gt;&lt;/a&gt;&lt;/td&gt;  &lt;td colspan="2"&gt;&lt;a \
href="http://click.j4femail.com/sp/t.pl?id=20432:9706118"&gt;&lt;img name="school_r1_c3" \
src="http://www.join4free.com/a/banners/cen/school/school_r1_c3.jpg" width="255" \
height="126" border="0"&gt;&lt;/a&gt;&lt;/td&gt;  &lt;td&gt;&lt;img \
src="http://www.join4free.com/a/banners/cen/school/shim.gif" width="1" height="126" \
border="0"&gt;&lt;/td&gt;  &lt;/tr&gt;

  &lt;tr&gt;&lt;!-- row 2 --&gt;
   &lt;td rowspan="2" colspan="2"&gt;&lt;a \
href="http://click.j4femail.com/sp/t.pl?id=20433:9706118"&gt;&lt;img name="school_r2_c1" \
src="http://www.join4free.com/a/banners/cen/school/school_r2_c1.jpg" width="276" \
height="106" border="0"&gt;&lt;/a&gt;&lt;/td&gt;  &lt;td colspan="2"&gt;&lt;a \
href="http://click.j4femail.com/sp/t.pl?id=20434:9706118"&gt;&lt;img name="school_r2_c3" \
src="http://www.join4free.com/a/banners/cen/school/school_r2_c3.jpg" width="255" \
height="78" border="0"&gt;&lt;/a&gt;&lt;/td&gt;  &lt;td&gt;&lt;img \
src="http://www.join4free.com/a/banners/cen/school/shim.gif" width="1" height="78" \
border="0"&gt;&lt;/td&gt;  &lt;/tr&gt;

  &lt;tr&gt;&lt;!-- row 3 --&gt;
   &lt;td rowspan="2" colspan="2"&gt;&lt;a \
href="http://click.j4femail.com/sp/t.pl?id=20435:9706118"&gt;&lt;img name="school_r3_c3" \
src="http://www.join4free.com/a/banners/cen/school/school_r3_c3.jpg" width="255" \
height="84" border="0"&gt;&lt;/a&gt;&lt;/td&gt;  &lt;td&gt;&lt;img \
src="http://www.join4free.com/a/banners/cen/school/shim.gif" width="1" height="28" \
border="0"&gt;&lt;/td&gt;  &lt;/tr&gt;

  &lt;tr&gt;&lt;!-- row 4 --&gt;
   &lt;td rowspan="2" colspan="2"&gt;&lt;a \
href="http://click.j4femail.com/sp/t.pl?id=20436:9706118"&gt;&lt;img name="school_r4_c1" \
src="http://www.join4free.com/a/banners/cen/school/school_r4_c1.jpg" width="276" \
height="94" border="0"&gt;&lt;/a&gt;&lt;/td&gt;  &lt;td&gt;&lt;img \
src="http://www.join4free.com/a/banners/cen/school/shim.gif" width="1" height="56" \
border="0"&gt;&lt;/td&gt;  &lt;/tr&gt;

  &lt;tr&gt;&lt;!-- row 5 --&gt;
   &lt;td rowspan="2" colspan="2"&gt;&lt;a \
href="http://click.j4femail.com/sp/t.pl?id=20437:9706118"&gt;&lt;img name="school_r5_c3" \
src="http://www.join4free.com/a/banners/cen/school/school_r5_c3.jpg" width="255" \
height="98" border="0"&gt;&lt;/a&gt;&lt;/td&gt;  &lt;td&gt;&lt;img \
src="http://www.join4free.com/a/banners/cen/school/shim.gif" width="1" height="38" \
border="0"&gt;&lt;/td&gt;  &lt;/tr&gt;

  &lt;tr&gt;&lt;!-- row 6 --&gt;
   &lt;td colspan="2"&gt;&lt;a href="http://click.j4femail.com/sp/t.pl?id=20438:9706118"&gt;&lt;img \
name="school_r6_c1" src="http://www.join4free.com/a/banners/cen/school/school_r6_c1.jpg" \
width="276" height="60" border="0"&gt;&lt;/a&gt;&lt;/td&gt;  &lt;td&gt;&lt;img \
src="http://www.join4free.com/a/banners/cen/school/shim.gif" width="1" height="60" \
border="0"&gt;&lt;/td&gt;  &lt;/tr&gt;

  &lt;tr&gt;&lt;!-- row 7 --&gt;
   &lt;td&gt;&lt;a href="http://click.j4femail.com/sp/t.pl?id=20439:9706118"&gt;&lt;img \
name="school_r7_c1" src="http://www.join4free.com/a/banners/cen/school/school_r7_c1.jpg" \
width="194" height="66" border="0"&gt;&lt;/a&gt;&lt;/td&gt;  &lt;td colspan="2"&gt;&lt;a \
href="http://click.j4femail.com/sp/t.pl?id=20440:9706118"&gt;&lt;img name="school_r7_c2" \
src="http://www.join4free.com/a/banners/cen/school/school_r7_c2.jpg" width="236" \
height="66" border="0"&gt;&lt;/a&gt;&lt;/td&gt;  &lt;td&gt;&lt;a \
href="http://click.j4femail.com/sp/t.pl?id=20441:9706118"&gt;&lt;img name="school_r7_c4" \
src="http://www.join4free.com/a/banners/cen/school/school_r7_c4.jpg" width="101" \
height="66" border="0"&gt;&lt;/a&gt;&lt;/td&gt;  &lt;td&gt;&lt;img \
src="http://www.join4free.com/a/banners/cen/school/shim.gif" width="1" height="66" \
border="0"&gt;&lt;/td&gt;  &lt;/tr&gt;

&lt;/table&gt;



&lt;IMG SRC="http://click.j4femail.com/sp/t.pl?id=20442:9706118&amp;o=1" BORDER=0 WIDTH=0 \
HEIGHT=0&gt; &lt;br&gt;&lt;br&gt; &lt;font size="1"&gt;
Note: this is not a spam email. This email was sent to you&lt;br&gt;because your email was \
entered in at Join4Free.Com&lt;br&gt;requesting to be a registered subscriber.&lt;br&gt;If you \
did not request this email, please click below:&lt;br&gt; &lt;a \
href="http://www.join4free.com/cancel.html?email=linux-crypto@nl.linux.org"&gt;UNSUBSCRIBE \
ME PLEASE&lt;/a&gt;&lt;br&gt; and you will *never* receive another email from us!&lt;br&gt;
If you are having problems with unsubscribing your email&lt;br&gt; address please call the \
following number:&lt;br&gt; 561-892-0703 (list name: join4free) &lt;br&gt;
&lt;/font&gt;&lt;!-- 4SS2I00EczLTfpSQxmBLVpzvBHX0PKfWjMEPY8UUPnJ7kWwnLUlvLZZrwWue5w99A1rWZwlwMs \
vNKMjCRoom6qAH2A0FvYOigYn8UP1WTUl6p83eYx6X99m1fOrIHYTiskoq0wcwHdVqJeNHn7IfXa1llyiTvN4F \
BOD5UqynelSXR9yDi8o6obeHjruKiNL1UxX8YNxIg5ypuxHVtiXtYp0FX3gY7oow3tJ9bdYz2Rr5AjTnLSnT0u \
xWYtWU51nTPBP1rA77QtbnWukC2Y9haJY9feH5gglXcaSULSbxUdiuak1l2DacXEAhAPyABKHJR5nyM0gitkpU \
2XC9rkNyINRJ2JF5yswPz0WasQpUmMxAkPm2RQOR71jFsCUhmKg3DT62UyzkMVQ5JPEfLwBgPlJz9RoqjnKaoO \
3YJGY01S1dn4czSnMwGcxqJESwtLR23mBkGImmRmrV0Cu761mempWE46CBRJGw2iscRjUqIjMjtKdLb56XWxlKZx6wKR7H \
--&gt;  &lt;/body&gt;

&lt;/html&gt;



--_----------=_7035621922703697221400--


-
Linux-crypto:  cryptography in and on the Linux system
Archive:       http://mail.nl.linux.org/linux-crypto/


</body></email></emails>