<?xml version="1.0" encoding="utf-8"?>
<emails><email><emailId>20060322084059</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-22 08:40:59-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkIconView::get_selected_items() override</subject><body>


Hello all and Andrei,


Here is the override for GtkIconView::get_selected_items().
I am not sure if we should return an array of (model, selected items) as
 gtk_tree_selection_get_selected_rows does it.

%%
override gtk_icon_view_get_selected_items
PHP_METHOD
{
    GList *selected, *tmp;

    NOT_STATIC_METHOD();
    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
        return;

    selected =
gtk_icon_view_get_selected_items(GTK_ICON_VIEW(PHPG_GOBJECT(this_ptr)));
    if (selected) {
        array_init(return_value);
        for (tmp = selected; tmp != NULL; tmp = tmp-&gt;next) {
            GtkTreePath *path = tmp-&gt;data;
            zval *item = NULL;

            phpg_tree_path_to_zval(path, &amp;item TSRMLS_CC);
            add_next_index_zval(return_value, item);
            gtk_tree_path_free(path);
        }
        g_list_free(selected);
    }
}

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060617165900</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-17 16:59:00-0400</timestampReceived><subject>[PHP-GTK-DEV] Fw: [php-gtk-cvs] cvs: php-gtk /main php_gtk.h</subject><body>

I should probably make this very clear.  php_lookup isn't defined in PHP 5 
anywhere grep can see it.

----- Original Message ----- 
From: "Steph Fox" &lt;sfox@php.net&gt;
To: &lt;php-gtk-cvs@lists.php.net&gt;
Sent: Saturday, June 17, 2006 6:59 PM
Subject: [php-gtk-cvs] cvs: php-gtk /main php_gtk.h


&gt; sfox Sat Jun 17 16:59:06 2006 UTC
&gt;
&gt;  Modified files:
&gt;    /php-gtk/main php_gtk.h
&gt;  Log:
&gt;  - Workaround for the 'lookup' issue.
&gt;  - The only place 'lookup' was used by the end of the PHP 4.3 series was 
&gt; in ext/expat.
&gt;  - It isn't used anywhere in PHP 5 or its core extensions.
&gt;
&gt; http://cvs.php.net/viewcvs.cgi/php-gtk/main/php_gtk.h?r1=1.130&amp;r2=1.131&amp;diff_format=u
&gt; Index: php-gtk/main/php_gtk.h
&gt; diff -u php-gtk/main/php_gtk.h:1.130 php-gtk/main/php_gtk.h:1.131
&gt; --- php-gtk/main/php_gtk.h:1.130 Sat Jun  3 18:07:41 2006
&gt; +++ php-gtk/main/php_gtk.h Sat Jun 17 16:59:05 2006
&gt; @@ -18,7 +18,7 @@
&gt;  * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 
&gt; USA
&gt;  */
&gt;
&gt; -/* $Id: php_gtk.h,v 1.130 2006/06/03 18:07:41 andrei Exp $: */
&gt; +/* $Id: php_gtk.h,v 1.131 2006/06/17 16:59:05 sfox Exp $: */
&gt;
&gt; #ifndef _PHP_GTK_H
&gt; #define _PHP_GTK_H
&gt; @@ -31,6 +31,11 @@
&gt; #include "config.h"
&gt; #endif
&gt;
&gt; +/* workaround for expat-related declaration in PHP compat file */
&gt; +#ifdef lookup
&gt; +#undef lookup
&gt; +#endif
&gt; +
&gt; #if HAVE_PHP_GTK
&gt;
&gt; #include "zend_objects_API.h"
&gt;
&gt; -- 
&gt; PHP-GTK CVS Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060413140859</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-04-13 14:08:59-0400</timestampReceived><subject>[PHP-GTK-DEV] April News</subject><body>

I have been reminded that we have missed a news update. If you have 
something news worthy, please post it to this list.

Of the top of my head, I have these:
PHP-GTK 2 docs live as well as doc updates
More PEAR packages
Lots and lots of patches and updates

Anything else?
-- 
Scott Mattocks
Author of the soon to be published: Pro PHP-GTK
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060413181602</emailId><senderName>"Madeleine D."</senderName><senderEmail>mmdrake@bctonline.com</senderEmail><timestampReceived>2006-04-13 18:16:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] April News</subject><body>


Scott -

I think it would be helpful to mention that both manual versions are 
online now and how that is setup.  Those of us still working in Gtk1 and 
already setup with bookmarks need to change them now to 'manual1'.  I 
know there are links on the docs page pointing to the two different 
versions, but that doesn't help if you're expecting an old link to work 
- like I was.

Just a thought.

Also, out of my own curiosity, what happens with sites like php-editors 
and others that carry copies of the manual?   If they do an update, say 
the end of this month and pickup the 'manual' pages and get Gtk2 
instructions....???

Madeleine D.




Scott Mattocks wrote:

&gt; I have been reminded that we have missed a news update. If you have 
&gt; something news worthy, please post it to this list.
&gt;
&gt; Of the top of my head, I have these:
&gt; PHP-GTK 2 docs live as well as doc updates
&gt; More PEAR packages
&gt; Lots and lots of patches and updates
&gt;
&gt; Anything else?

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060413182307</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-04-13 18:23:07-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] April News</subject><body>

Madeleine D. wrote:
&gt; Also, out of my own curiosity, what happens with sites like php-editors 
&gt; and others that carry copies of the manual?   If they do an update, say 
&gt; the end of this month and pickup the 'manual' pages and get Gtk2 
&gt; instructions....???

They should not be screen scraping in order to get their copy of the 
docs. They should be building the docs from the XML just like 
gtk.php.net does. If they build from the CVS sources and didn't update 
their process, then they should have started displaying PHP-GTK 2 docs a 
long time ago. If they want to continue to show the v1 docs, they should 
be checking out the v1 branch from CVS.

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060413182359</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-13 18:23:59-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] April News</subject><body>

Hi Madeleine

&gt; Also, out of my own curiosity, what happens with sites like php-editors 
&gt; and others that carry copies of the manual?   If they do an update, say 
&gt; the end of this month and pickup the 'manual' pages and get Gtk2 
&gt; instructions....???

Tough :) It's clearly marked 'PHP-GTK 2 Manual' both in the title bar 
(throughout) and on the manual index page, so hopefully people won't be too 
confused.

- Steph

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060413183823</emailId><senderName>"Madeleine D."</senderName><senderEmail>mmdrake@bctonline.com</senderEmail><timestampReceived>2006-04-13 18:38:23-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] April News</subject><body>


Scott -

I checked php-editors; their copy is clearly Gtk1 - James still shows up 
as an editor.  When did the Gtk2 manual go up on our site?

Madeleine D.




Scott Mattocks wrote:

&gt; Madeleine D. wrote:
&gt;
&gt;&gt; Also, out of my own curiosity, what happens with sites like 
&gt;&gt; php-editors and others that carry copies of the manual?   If they do 
&gt;&gt; an update, say the end of this month and pickup the 'manual' pages 
&gt;&gt; and get Gtk2 instructions....???
&gt;
&gt;
&gt; They should not be screen scraping in order to get their copy of the 
&gt; docs. They should be building the docs from the XML just like 
&gt; gtk.php.net does. If they build from the CVS sources and didn't update 
&gt; their process, then they should have started displaying PHP-GTK 2 docs 
&gt; a long time ago. If they want to continue to show the v1 docs, they 
&gt; should be checking out the v1 branch from CVS.
&gt;
&gt; Scott
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060413184202</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-04-13 18:42:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] April News</subject><body>

Madeleine D. wrote:
&gt; 
&gt; Scott -
&gt; 
&gt; I checked php-editors; their copy is clearly Gtk1 - James still shows up 
&gt; as an editor.  When did the Gtk2 manual go up on our site?

It has only been up for about a few weeks but the CVS HEAD changed from 
v1 to v2 several months ago. php-editors either isn't updating any more 
or is updating from the v1 branch of CVS (in which case they really 
aren't updating anymore anyway because no more commits can be made for 
that branch).

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060413185342</emailId><senderName>"Madeleine D."</senderName><senderEmail>mmdrake@bctonline.com</senderEmail><timestampReceived>2006-04-13 18:53:42-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] April News</subject><body>

Steph -

I agree - although I don't normally look at a title bar over the 
content, so I didn't catch the problem at first.

And I totally realize that all this is temporary, until the transition 
to Gtk2 is complete.  But consider.  Our Download page shows 
Gtk1instructions and links, but the manual links are Gtk2.  Okay, we 
give the user a branch to either/or and choices on the search (and now 
that I know about it, it appears to work just fine), but now these other 
sites come in. 

Would their update from CVS give them a branch page as well?  Or would 
they only pick up Gtk2 pages?  If someone has followed the download, and 
then searches Google for answers (as we have many times), they may or 
may not be able to figure out what's going on - depending on where they 
end up.

Maybe some kind of extra wording on the Download page in the meantime 
would help?

Madeleine D.


Steph Fox wrote:

&gt; Hi Madeleine
&gt;
&gt;&gt; Also, out of my own curiosity, what happens with sites like 
&gt;&gt; php-editors and others that carry copies of the manual?   If they do 
&gt;&gt; an update, say the end of this month and pickup the 'manual' pages 
&gt;&gt; and get Gtk2 instructions....???
&gt;
&gt;
&gt; Tough :) It's clearly marked 'PHP-GTK 2 Manual' both in the title bar 
&gt; (throughout) and on the manual index page, so hopefully people won't 
&gt; be too confused.
&gt;
&gt; - Steph
&gt;
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060413190510</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-13 19:05:10-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] April News</subject><body>

&gt; I agree - although I don't normally look at a title bar over the content, 
&gt; so I didn't catch the problem at first.
&gt;
&gt; And I totally realize that all this is temporary, until the transition to 
&gt; Gtk2 is complete.  But consider.  Our Download page shows Gtk1instructions 
&gt; and links, but the manual links are Gtk2.

If they are, they are because Christian's interventions today have made them 
that way. I went to some lengths to ensure that everything throughout the 
site linked with manual v1 until manual v2 was fully ready to go public. 
External links, I can't do much about...

Okay, we
&gt; give the user a branch to either/or and choices on the search (and now 
&gt; that I know about it, it appears to work just fine), but now these other 
&gt; sites come in.

Search on v2 doesn't work at all yet, it's waiting for something to be 
generated first. That's why there should never have been an entry point to 
it on the home page.

&gt; Would their update from CVS give them a branch page as well?  Or would 
&gt; they only pick up Gtk2 pages?

Updates from CVS, as Scott said, would have given the PHP-GTK 2 manual for 
the past several months.

If someone has followed the download, and
&gt; then searches Google for answers (as we have many times), they may or may 
&gt; not be able to figure out what's going on - depending on where they end 
&gt; up.

I'm not sure I'm following you - but then I don't know what you were seeing, 
I reverted Christian's site changes over an hour ago and we're back with the 
original now.

- Steph


&gt; Maybe some kind of extra wording on the Download page in the meantime 
&gt; would help?
&gt;
&gt; Madeleine D.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060413203439</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-13 20:34:39-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] April News</subject><body>

On Apr 13, 2006, at 12:05 PM, Steph Fox wrote:

&gt; If they are, they are because Christian's interventions today have 
&gt; made them that way. I went to some lengths to ensure that everything 
&gt; throughout the site linked with manual v1 until manual v2 was fully 
&gt; ready to go public. External links, I can't do much about...

Our docs downloads page only links to Gtk1 at the moment..

http://gtk.php.net/download-docs.php

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060223164939</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-02-23 16:49:39-0400</timestampReceived><subject>[PHP-GTK-DEV] February News</subject><body>

Hello,

Anything news worthy this month? Here is what I can think of off the top 
of my head:
  - 2 new PEAR classes (Gtk2_ScrollingLabel, Gtk2_PHPConfig
  - New GtkTreeModel functionality

Anything else?

Thanks,
-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060223183310</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-23 18:33:10-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] February News</subject><body>

Check Changelog?

On Feb 23, 2006, at 8:49 AM, Scott Mattocks wrote:

&gt; Hello,
&gt;
&gt; Anything news worthy this month? Here is what I can think of off the 
&gt; top of my head:
&gt;  - 2 new PEAR classes (Gtk2_ScrollingLabel, Gtk2_PHPConfig
&gt;  - New GtkTreeModel functionality
&gt;
&gt; Anything else?
&gt;
&gt; Thanks,
&gt; -- 
&gt; Scott Mattocks
&gt; http://www.crisscott.com
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060228130434</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-02-28 13:04:34-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] February News</subject><body>

Hi Scott,

&gt; Anything news worthy this month? Here is what I can think of off the top
...

Here's something interesting, Christian recently released PHP-Gtk2's
first game: Minesweeper :)

http://www.gnope.org/pearfront/index.php?package=Game_Minesweeper

Regards,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060228145350</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-02-28 14:53:50-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] February News</subject><body>

Here is my first run. Please send comments, suggestions and additions:

Moving toward a release of PHP-GTK 2:
[28-Feb-2006] This month PHP-GTK 2 has continued its march toward an 
initial release. Andrei has been working through bug fixes and 
implementing new features. Recently he added the ability to use 
GtkListStores and GtkTreeStores as if they were iterators or arrays. 
This makes it much easier to work with data models for GtkTreeView and 
GtkComboBox. The documentation team has been working hard to fill out 
the docs. Several new pages have been added and the PHP-GTK 2 docs will 
soon make their first appearance on the PHP-GTK website.

Even though PHP-GTK 2 is not quite stable yet, several applications have 
been developed using the CVS version. There are now four PHP-GTK 2 
packages available on PEAR including the newly added Gtk2_ScrollingLabel 
and Gtk2_PHPConfig. Christian Weiske has released the first game 
developed with PHP-GTK 2: Minesweeper.

Let me know what needs fixing. I will add links later. I want to try and 
get this up today.

Thanks,
Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060228165709</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-28 16:57:09-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] February News</subject><body>

Let's hope so...

-Andrei

On Feb 28, 2006, at 6:53 AM, Scott Mattocks wrote:

&gt; The documentation team has been working hard to fill out the docs. 
&gt; Several new pages have been added and the PHP-GTK 2 docs will soon 
&gt; make their first appearance on the PHP-GTK website.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060228171621</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-28 17:16:21-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] February News</subject><body>


&gt;&gt; The documentation team has been working hard to fill out the docs.
&gt;&gt; Several new pages have been added and the PHP-GTK 2 docs will soon
&gt;&gt; make their first appearance on the PHP-GTK website.
&gt; Let's hope so...

Somebody know what's up with Steph? She said she wanted to go on a trip
to somewhere a week ago, and I haven't heard anything since then.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060120090811</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-20 09:08:11-0400</timestampReceived><subject>[PHP-GTK-DEV] January news</subject><body>


Hi all,

Any news for January? I guess nobody except the ones following
php-gtk-cvs know that there actually is something happening in
development, and I would like to have a status report in the january
news item.

First, I made a small coverage table:
http://xml.cweiske.de/php-gtk2%20coverage.xhtml

What has changed in the last month:
- More classes have been documented + exampled in the manual. Especially
the GtkTree* classes have many examples now.
- Manual has source highlighting
- Most/all of the get_size* methods are implemented (that return
position or size arrays)
- ... little small fixes, but nothing big
- All in all, 85% of all methods/functions/properties/constructors are
implemented - but the missing 15% (~500 items) have to be written by hand
- The Gnope PHP-Gtk2 windows installer has been downloaded ~8000 times
since it was released on 2005-12-11


Could somebody (Scott?) please make a nice text out of that? And are
there more news items to add?


-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060120161552</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-01-20 16:15:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] January news</subject><body>

The coverage may not be correct 100%, since there are some methods  
which are generated right now, but possibly incorrectly and will  
require overrides.

-Andrei


On Jan 20, 2006, at 1:08 AM, Christian Weiske wrote:

&gt; Hi all,
&gt;
&gt; Any news for January? I guess nobody except the ones following
&gt; php-gtk-cvs know that there actually is something happening in
&gt; development, and I would like to have a status report in the january
&gt; news item.
&gt;
&gt; First, I made a small coverage table:
&gt; http://xml.cweiske.de/php-gtk2%20coverage.xhtml
&gt;
&gt; What has changed in the last month:
&gt; - More classes have been documented + exampled in the manual.  
&gt; Especially
&gt; the GtkTree* classes have many examples now.
&gt; - Manual has source highlighting
&gt; - Most/all of the get_size* methods are implemented (that return
&gt; position or size arrays)
&gt; - ... little small fixes, but nothing big
&gt; - All in all, 85% of all methods/functions/properties/constructors are
&gt; implemented - but the missing 15% (~500 items) have to be written  
&gt; by hand
&gt; - The Gnope PHP-Gtk2 windows installer has been downloaded ~8000 times
&gt; since it was released on 2005-12-11
&gt;
&gt;
&gt; Could somebody (Scott?) please make a nice text out of that? And are
&gt; there more news items to add?
&gt;
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060123134931</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-01-23 13:49:31-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] January news</subject><body>

I'll add a note about the coverage being estimated. Does anyone else 
have anything to add? Any talks, articles, or applications coming out soon?

Scott

Andrei Zmievski wrote:
&gt; The coverage may not be correct 100%, since there are some methods  
&gt; which are generated right now, but possibly incorrectly and will  
&gt; require overrides.
&gt; 
&gt; -Andrei
&gt; 
&gt; 
&gt; On Jan 20, 2006, at 1:08 AM, Christian Weiske wrote:
&gt; 
&gt;&gt; Hi all,
&gt;&gt;
&gt;&gt; Any news for January? I guess nobody except the ones following
&gt;&gt; php-gtk-cvs know that there actually is something happening in
&gt;&gt; development, and I would like to have a status report in the january
&gt;&gt; news item.
&gt;&gt;
&gt;&gt; First, I made a small coverage table:
&gt;&gt; http://xml.cweiske.de/php-gtk2%20coverage.xhtml
&gt;&gt;
&gt;&gt; What has changed in the last month:
&gt;&gt; - More classes have been documented + exampled in the manual.  Especially
&gt;&gt; the GtkTree* classes have many examples now.
&gt;&gt; - Manual has source highlighting
&gt;&gt; - Most/all of the get_size* methods are implemented (that return
&gt;&gt; position or size arrays)
&gt;&gt; - ... little small fixes, but nothing big
&gt;&gt; - All in all, 85% of all methods/functions/properties/constructors are
&gt;&gt; implemented - but the missing 15% (~500 items) have to be written  by 
&gt;&gt; hand
&gt;&gt; - The Gnope PHP-Gtk2 windows installer has been downloaded ~8000 times
&gt;&gt; since it was released on 2005-12-11
&gt;&gt;
&gt;&gt;
&gt;&gt; Could somebody (Scott?) please make a nice text out of that? And are
&gt;&gt; there more news items to add?
&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt; 
&gt; 

-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060123135757</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-23 13:57:57-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] January news</subject><body>


&gt; have anything to add? Any talks, articles, or applications coming out soon?
Anant proposed a gtk2-based php.ini editor. I thought the german php mag
would include my article about the current status of php-gtk2 in the
january issue, but did not so ... not worth to mention.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060123145317</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-01-23 14:53:17-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] January news</subject><body>

Ok. Here is a first run (HTML will be added after the content is checked).

PHP-GTK 2 Progress:
Development of PHP-GTK 2 is steadily picking up pace. The last month has 
seen plenty of activity no only in commits to CVS but in other parts of 
the PHP-GTK 2 community also:
  * The PHP-GTK 2 documentation is filling out. More classes have been 
documented and given example (especially the GtkTree* classes).
  * Source code highlighting has been added to the PHP-GTK 2 manual.
  * Most of the get_size* methods have been implemented.
  * &lt;link to coverage table&gt;85% of all methods and properties have been 
implemented&lt;/link&gt;. The other 15% need to be written by hand and more 
are being added every week. (Some automatically generated methods may 
not be implemented correctly and will have to be re-written by hand. 
Therefore, the actual coverage figures may be slightly lower than those 
above)
  * The Gnope installer has been downloaded over 8000 times since its 
release last month.
  * Gtk2_PHPConfig, an application that makes it easy to modify php.ini 
files, has been proposed on PEAR by Anant Narayanan.

I am not the best speller in the world so please proof read this. Also, 
if there is anything else let me know.

Christian, can you add the same type of disclaimer to your coverage page 
for those who don't read the news item completely?

Thanks,
Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060123151452</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-23 15:14:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] January news</subject><body>

Looks mostly good to me, two minor typos.

----- Original Message ----- 
From: "Scott Mattocks" &lt;scott@crisscott.com&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, January 23, 2006 4:53 PM
Subject: Re: [PHP-GTK-DEV] January news


&gt; Ok. Here is a first run (HTML will be added after the content is checked).
&gt;
&gt; PHP-GTK 2 Progress:
&gt; Development of PHP-GTK 2 is steadily picking up pace. The last month has 
&gt; seen plenty of activity no only in commits to CVS but in other parts of

not only in commits to CVS...

&gt; the PHP-GTK 2 community also:
&gt;  * The PHP-GTK 2 documentation is filling out. More classes have been 
&gt; documented and given example (especially the GtkTree* classes).
&gt;  * Source code highlighting has been added to the PHP-GTK 2 manual.
&gt;  * Most of the get_size* methods have been implemented.
&gt;  * &lt;link to coverage table&gt;85% of all methods and properties have been 
&gt; implemented&lt;/link&gt;. The other 15% need to be written by hand and more are 
&gt; being added every week. (Some automatically generated methods may

by hand, and more are being added...

&gt; not be implemented correctly and will have to be re-written by hand. 
&gt; Therefore, the actual coverage figures may be slightly lower than those 
&gt; above)
&gt;  * The Gnope installer has been downloaded over 8000 times since its 
&gt; release last month.
&gt;  * Gtk2_PHPConfig, an application that makes it easy to modify php.ini 
&gt; files, has been proposed on PEAR by Anant Narayanan.
&gt;
&gt; I am not the best speller in the world so please proof read this. Also, if 
&gt; there is anything else let me know.
&gt;
&gt; Christian, can you add the same type of disclaimer to your coverage page 
&gt; for those who don't read the news item completely?
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1375 (20060123) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060123152505</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-01-23 15:25:05-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] January news</subject><body>

Thanks Steph.

Does anyone have a URL to an updated version of the docs? I am not sure 
that mine is up-to-date.

Thanks,
Scott

Steph Fox wrote:
&gt; Looks mostly good to me, two minor typos.
&gt; 
&gt; ----- Original Message ----- From: "Scott Mattocks" &lt;scott@crisscott.com&gt;
&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Monday, January 23, 2006 4:53 PM
&gt; Subject: Re: [PHP-GTK-DEV] January news
&gt; 
&gt; 
&gt;&gt; Ok. Here is a first run (HTML will be added after the content is 
&gt;&gt; checked).
&gt;&gt;
&gt;&gt; PHP-GTK 2 Progress:
&gt;&gt; Development of PHP-GTK 2 is steadily picking up pace. The last month 
&gt;&gt; has seen plenty of activity no only in commits to CVS but in other 
&gt;&gt; parts of
&gt; 
&gt; 
&gt; not only in commits to CVS...
&gt; 
&gt;&gt; the PHP-GTK 2 community also:
&gt;&gt;  * The PHP-GTK 2 documentation is filling out. More classes have been 
&gt;&gt; documented and given example (especially the GtkTree* classes).
&gt;&gt;  * Source code highlighting has been added to the PHP-GTK 2 manual.
&gt;&gt;  * Most of the get_size* methods have been implemented.
&gt;&gt;  * &lt;link to coverage table&gt;85% of all methods and properties have been 
&gt;&gt; implemented&lt;/link&gt;. The other 15% need to be written by hand and more 
&gt;&gt; are being added every week. (Some automatically generated methods may
&gt; 
&gt; 
&gt; by hand, and more are being added...
&gt; 
&gt;&gt; not be implemented correctly and will have to be re-written by hand. 
&gt;&gt; Therefore, the actual coverage figures may be slightly lower than 
&gt;&gt; those above)
&gt;&gt;  * The Gnope installer has been downloaded over 8000 times since its 
&gt;&gt; release last month.
&gt;&gt;  * Gtk2_PHPConfig, an application that makes it easy to modify php.ini 
&gt;&gt; files, has been proposed on PEAR by Anant Narayanan.
&gt;&gt;
&gt;&gt; I am not the best speller in the world so please proof read this. 
&gt;&gt; Also, if there is anything else let me know.
&gt;&gt;
&gt;&gt; Christian, can you add the same type of disclaimer to your coverage 
&gt;&gt; page for those who don't read the news item completely?
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Scott
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1375 (20060123) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt;
&gt; 

-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060123155833</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-01-23 15:58:33-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] January news</subject><body>

Scott,

&gt; Does anyone have a URL to an updated version of the docs? I am not sure
&gt; that mine is up-to-date.

The manual at http://php-gtk2.de/manual/en/html/ builds nightly as far
as I know.

Regards,
--
Anant Narayanan
-------------------------
Find Freedom!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060123160449</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-01-23 16:04:49-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] January news</subject><body>

Scott,

You could also mention that the docs are now in sync with the PHP-Gtk2
source via reflection if you think its relevant enough. (I had written
a script to achieve this recently, all methods currently implemented
are mentioned in the docs).

Also, instead of:
&gt; More classes have been documented and given example

You must say:
More classes have been documented and given examples.

Regards,
--
Anant Narayanan
-------------------------
Find Freedom!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060123161129</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-01-23 16:11:29-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] January news</subject><body>

I think the first note about the docs covers this already. Thanks for 
catching the typo though.

Scott

Anant Narayanan wrote:
&gt; Scott,
&gt; 
&gt; You could also mention that the docs are now in sync with the PHP-Gtk2
&gt; source via reflection if you think its relevant enough. (I had written
&gt; a script to achieve this recently, all methods currently implemented
&gt; are mentioned in the docs).
&gt; 
&gt; Also, instead of:
&gt; 
&gt;&gt;More classes have been documented and given example
&gt; 
&gt; 
&gt; You must say:
&gt; More classes have been documented and given examples.
&gt; 
&gt; Regards,
&gt; --
&gt; Anant Narayanan
&gt; -------------------------
&gt; Find Freedom!
&gt; http://www.kix.in/
&gt; 

-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060123161620</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-23 16:16:20-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] January news</subject><body>


&gt; Does anyone have a URL to an updated version of the docs? I am not sure
&gt; that mine is up-to-date.
http://php-gtk2.de/manual/en/html/
Download version:
http://php-gtk2.de/manual/


-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060123161754</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-23 16:17:54-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] January news</subject><body>


&gt; The manual at http://php-gtk2.de/manual/en/html/ builds nightly as far
&gt; as I know.
Twice a day.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060123164324</emailId><senderName>Ivan Rodriguez</senderName><senderEmail>epplestun@gmail.com</senderEmail><timestampReceived>2006-01-23 16:43:24-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] January news</subject><body>


Scott and your PHP-GTK book? is a very good news!!!!!

On 1/23/06, Scott Mattocks &lt;scott@crisscott.com&gt; wrote:
&gt;
&gt; I think the first note about the docs covers this already. Thanks for
&gt; catching the typo though.
&gt;
&gt; Scott
&gt;
&gt; Anant Narayanan wrote:
&gt; &gt; Scott,
&gt; &gt;
&gt; &gt; You could also mention that the docs are now in sync with the PHP-Gtk2
&gt; &gt; source via reflection if you think its relevant enough. (I had written
&gt; &gt; a script to achieve this recently, all methods currently implemented
&gt; &gt; are mentioned in the docs).
&gt; &gt;
&gt; &gt; Also, instead of:
&gt; &gt;
&gt; &gt;&gt;More classes have been documented and given example
&gt; &gt;
&gt; &gt;
&gt; &gt; You must say:
&gt; &gt; More classes have been documented and given examples.
&gt; &gt;
&gt; &gt; Regards,
&gt; &gt; --
&gt; &gt; Anant Narayanan
&gt; &gt; -------------------------
&gt; &gt; Find Freedom!
&gt; &gt; http://www.kix.in/
&gt; &gt;
&gt;
&gt; --
&gt; Scott Mattocks
&gt; http://www.crisscott.com
&gt;
&gt; --
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;


</body></email><email><emailId>20060123165212</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-01-23 16:52:12-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] January news</subject><body>

Ivan Rodriguez wrote:
&gt; Scott and your PHP-GTK book? is a very good news!!!!!

Unfortunately that one needs to wait until the April news item. I am 
just a bit (2 months) behind schedule.

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060123172556</emailId><senderName>Ivan Rodriguez</senderName><senderEmail>epplestun@gmail.com</senderEmail><timestampReceived>2006-01-23 17:25:56-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] January news</subject><body>


ok Scott, I go to boy an unit of your book :-) it looks very good, 400
pages!!! is all documentation? it has much examples? can you tell me
something about it?

On 1/23/06, Scott Mattocks &lt;scott@crisscott.com&gt; wrote:
&gt;
&gt; Ivan Rodriguez wrote:
&gt; &gt; Scott and your PHP-GTK book? is a very good news!!!!!
&gt;
&gt; Unfortunately that one needs to wait until the April news item. I am
&gt; just a bit (2 months) behind schedule.
&gt;
&gt; Scott
&gt;
&gt; --
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;


</body></email><email><emailId>20060123173524</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-23 17:35:24-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] January news</subject><body>

I TE'd one very impressive chapter - yes lots of code samples :)  If the 
rest is as good as that chapter, it'll be worth buying.

(There you go Scott, you got a nice review already.)

----- Original Message ----- 
From: "Ivan Rodriguez" &lt;epplestun@gmail.com&gt;
To: "Scott Mattocks" &lt;scott@crisscott.com&gt;
Cc: "GTK-DEV" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, January 23, 2006 7:25 PM
Subject: Re: [PHP-GTK-DEV] January news


ok Scott, I go to boy an unit of your book :-) it looks very good, 400
pages!!! is all documentation? it has much examples? can you tell me
something about it?

On 1/23/06, Scott Mattocks &lt;scott@crisscott.com&gt; wrote:
&gt;
&gt; Ivan Rodriguez wrote:
&gt; &gt; Scott and your PHP-GTK book? is a very good news!!!!!
&gt;
&gt; Unfortunately that one needs to wait until the April news item. I am
&gt; just a bit (2 months) behind schedule.
&gt;
&gt; Scott
&gt;
&gt; --
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060123173931</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-01-23 17:39:31-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] January news</subject><body>

Thanks Ivan,

I tried not to just rewrite the docs. I tried to give examples of most 
of the pieces of PHP-GTK from a more practical view point. The docs do a 
good enough job of telling you what arguments to pass to the GtkTreeView 
constructor, but they don't tell you why you would want to use a 
GtkTreeView. That is the problem I tried to solve: What widgets are 
available and why you would want to use one over the other.

Once the book is closer to being ready I am hoping to convince the 
publisher to release a chapter (or at least a large section of one) 
online so that people can have an idea of what the book contains. I 
don't want people spending their money if the book doesn't fulfill their 
needs.

Scott

Ivan Rodriguez wrote:
&gt; ok Scott, I go to boy an unit of your book :-) it looks very good, 400
&gt; pages!!! is all documentation? it has much examples? can you tell me
&gt; something about it?
&gt; 
&gt; On 1/23/06, Scott Mattocks &lt;scott@crisscott.com&gt; wrote:
&gt; 
&gt;&gt;Ivan Rodriguez wrote:
&gt;&gt;
&gt;&gt;&gt;Scott and your PHP-GTK book? is a very good news!!!!!
&gt;&gt;
&gt;&gt;Unfortunately that one needs to wait until the April news item. I am
&gt;&gt;just a bit (2 months) behind schedule.
&gt;&gt;
&gt;&gt;Scott
&gt;&gt;
&gt;&gt;--
&gt;&gt;PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt; 
&gt; 

-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060123174347</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-01-23 17:43:47-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] January news</subject><body>

Steph Fox wrote:
&gt; I TE'd one very impressive chapter - yes lots of code samples :)  If the 
&gt; rest is as good as that chapter, it'll be worth buying.
&gt; 
&gt; (There you go Scott, you got a nice review already.)

Thanks Steph.

A lot of credit should go to Steph and Christian (who has done the rest 
of the tech editing) for helping me make sure that what I have written 
not only works but even makes sense :)

Thanks again.
Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060123181037</emailId><senderName>Ivan Rodriguez</senderName><senderEmail>epplestun@gmail.com</senderEmail><timestampReceived>2006-01-23 18:10:37-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] January news</subject><body>


That is the book which you commented months ago, where you asked me for the
screenshots of PHPGTK Weather?

On 1/23/06, Scott Mattocks &lt;scott@crisscott.com&gt; wrote:
&gt;
&gt; Steph Fox wrote:
&gt; &gt; I TE'd one very impressive chapter - yes lots of code samples :)  If th=
e
&gt; &gt; rest is as good as that chapter, it'll be worth buying.
&gt; &gt;
&gt; &gt; (There you go Scott, you got a nice review already.)
&gt;
&gt; Thanks Steph.
&gt;
&gt; A lot of credit should go to Steph and Christian (who has done the rest
&gt; of the tech editing) for helping me make sure that what I have written
&gt; not only works but even makes sense :)
&gt;
&gt; Thanks again.
&gt; Scott
&gt;
&gt; --
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;


</body></email><email><emailId>20060123182405</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-01-23 18:24:05-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] January news</subject><body>

All right folks,

Can we finally dedicate some time to making docs build and update on 
gtk.php.net site? That is my #1 reason for not releasing alpha/beta for 
the new version. In fact, I promise you that I will not release 
anything until we have this docs situation figured out.

-Andrei

On Jan 23, 2006, at 8:16 AM, Christian Weiske wrote:

&gt;&gt; Does anyone have a URL to an updated version of the docs? I am not 
&gt;&gt; sure
&gt;&gt; that mine is up-to-date.
&gt; http://php-gtk2.de/manual/en/html/
&gt; Download version:
&gt; http://php-gtk2.de/manual/
&gt;
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060123190409</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-23 19:04:09-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] January news</subject><body>

My bad, and will foreseeably continue to be my bad until next week.

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, January 23, 2006 8:24 PM
Subject: Re: [PHP-GTK-DEV] January news


&gt; All right folks,
&gt; 
&gt; Can we finally dedicate some time to making docs build and update on 
&gt; gtk.php.net site? That is my #1 reason for not releasing alpha/beta for 
&gt; the new version. In fact, I promise you that I will not release 
&gt; anything until we have this docs situation figured out.
&gt; 
&gt; -Andrei
&gt; 
&gt; On Jan 23, 2006, at 8:16 AM, Christian Weiske wrote:
&gt; 
&gt;&gt;&gt; Does anyone have a URL to an updated version of the docs? I am not 
&gt;&gt;&gt; sure
&gt;&gt;&gt; that mine is up-to-date.
&gt;&gt; http://php-gtk2.de/manual/en/html/
&gt;&gt; Download version:
&gt;&gt; http://php-gtk2.de/manual/
&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1375 (20060123) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060123232408</emailId><senderName>Simon Wheeler</senderName><senderEmail>simon@firepages.org</senderEmail><timestampReceived>2006-01-23 23:24:08-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] January news</subject><body>

docs are also at http://www.phpshell.net/php-gtk-doc/

Christian , whyfor your docs have syntax hightlighting and mine don't ?

Regards,
Simon.


Scott Mattocks wrote:

&gt; Thanks Steph.
&gt;
&gt; Does anyone have a URL to an updated version of the docs? I am not 
&gt; sure that mine is up-to-date.
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; Steph Fox wrote:
&gt;
&gt;&gt; Looks mostly good to me, two minor typos.
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "Scott Mattocks" 
&gt;&gt; &lt;scott@crisscott.com&gt;
&gt;&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt; Sent: Monday, January 23, 2006 4:53 PM
&gt;&gt; Subject: Re: [PHP-GTK-DEV] January news
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; Ok. Here is a first run (HTML will be added after the content is 
&gt;&gt;&gt; checked).
&gt;&gt;&gt;
&gt;&gt;&gt; PHP-GTK 2 Progress:
&gt;&gt;&gt; Development of PHP-GTK 2 is steadily picking up pace. The last month 
&gt;&gt;&gt; has seen plenty of activity no only in commits to CVS but in other 
&gt;&gt;&gt; parts of
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; not only in commits to CVS...
&gt;&gt;
&gt;&gt;&gt; the PHP-GTK 2 community also:
&gt;&gt;&gt;  * The PHP-GTK 2 documentation is filling out. More classes have 
&gt;&gt;&gt; been documented and given example (especially the GtkTree* classes).
&gt;&gt;&gt;  * Source code highlighting has been added to the PHP-GTK 2 manual.
&gt;&gt;&gt;  * Most of the get_size* methods have been implemented.
&gt;&gt;&gt;  * &lt;link to coverage table&gt;85% of all methods and properties have 
&gt;&gt;&gt; been implemented&lt;/link&gt;. The other 15% need to be written by hand 
&gt;&gt;&gt; and more are being added every week. (Some automatically generated 
&gt;&gt;&gt; methods may
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; by hand, and more are being added...
&gt;&gt;
&gt;&gt;&gt; not be implemented correctly and will have to be re-written by hand. 
&gt;&gt;&gt; Therefore, the actual coverage figures may be slightly lower than 
&gt;&gt;&gt; those above)
&gt;&gt;&gt;  * The Gnope installer has been downloaded over 8000 times since its 
&gt;&gt;&gt; release last month.
&gt;&gt;&gt;  * Gtk2_PHPConfig, an application that makes it easy to modify 
&gt;&gt;&gt; php.ini files, has been proposed on PEAR by Anant Narayanan.
&gt;&gt;&gt;
&gt;&gt;&gt; I am not the best speller in the world so please proof read this. 
&gt;&gt;&gt; Also, if there is anything else let me know.
&gt;&gt;&gt;
&gt;&gt;&gt; Christian, can you add the same type of disclaimer to your coverage 
&gt;&gt;&gt; page for those who don't read the news item completely?
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks,
&gt;&gt;&gt; Scott
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1375 (20060123) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060124063241</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-24 06:32:41-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] January news</subject><body>


Simon,

&gt; Christian , whyfor your docs have syntax hightlighting and mine don't ?
Because yours aren't updated each day. They date back to 31 Oct 2005
while mine are fresh ones.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060323201939</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-23 20:19:39-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkPixbuf Trouble</subject><body>


&gt; I tried to port the GdkPixbuf demo from Gtk+ (also there in pygtk-demo).
&gt; Is there any conversion step that I'm missing? If any of have the time,
&gt; it would be great if you could have look at the script.
You're missing that I already did that. It's in cvs,
test/bug_pixbuf-demo.php
Andrei told me today that he'll look into the segfault

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060811064556</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-08-11 06:45:56-0400</timestampReceived><subject>[PHP-GTK-DEV] GObject signal methods missing</subject><body>


Hello all,

The methods to work with signals provided by GObject are missing:
g_signal_query, g_signal_lookup, g_signal_handler_block,
g_signal_handler_unblock and so on. Any chance we get them into php-gtk2?

Static methods of G::? "G" would be a dumb classname, but perhaps GSignal::?

-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060820092517</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-08-20 09:25:17-0400</timestampReceived><subject>[PHP-GTK-DEV] [SPAM] Re: [PHP-GTK-DEV] E_STRICT renamings</subject><body>

This post passed me by completely somehow, probably 'cos I don't always have 
time to open invisible email.

This is actually the display_startup_errors issue that I sent a patch to 
internals@ for on January 4th, and again on January 10th. If you recall, 
Dmitry turned it down on the grounds that the current ZE behaviour is 
correct.

Evidence: http://www.zend.com/zend/week/week271.php#Heading8

(yeah OK Andrei I'm _almost_ up to date here ;)


----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;; "Marcus Boerger" 
&lt;helly@php.net&gt;
Sent: Saturday, June 24, 2006 7:47 PM
Subject: Re: [PHP-GTK-DEV] E_STRICT renamings


&gt;I have no idea why it's checking for this. I thought it should only  do it 
&gt;for interfaces. Marcus?
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Jun 11, 2006, at 11:12 PM, Christian Weiske wrote:
&gt;
&gt;&gt; Hello all,
&gt;&gt;
&gt;&gt;
&gt;&gt; Since there is no way of using optional parameters to satisfy the zend
&gt;&gt; engine causing it not to complain, I vote for renaming the methods:
&gt;&gt;
&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkToolbar::set_style() should
&gt;&gt;&gt; be compatible with that of GtkWidget::set_style() in Unknown on  line 0
&gt;&gt; GtkToolbar::set_style() -&gt; GtkToolbar::set_toolbar_style()
&gt;&gt;
&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkMenu::set_accel_path()  should
&gt;&gt;&gt; be compatible with that of GtkWidget::set_accel_path() in Unknown on
&gt;&gt;&gt; line 0
&gt;&gt; GtkMenu::set_accel_path() -&gt; GtkMenu::set_menu_accel_path()
&gt;&gt;
&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkWindow::mnemonic_activate()
&gt;&gt;&gt; should be compatible with that of GtkWidget::mnemonic_activate() in
&gt;&gt;&gt; Unknown on line 0
&gt;&gt; GtkWindow::mnemonic_activate() -&gt;  GtkWindow::window_mnemonic_activate()
&gt;&gt;
&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkMenuItem::set_accel_path()
&gt;&gt;&gt; should be compatible with that of GtkWidget::set_accel_path() in
&gt;&gt;&gt; Unknown on line 0
&gt;&gt; GtkMenuItem::set_accel_path() -&gt;  GtkMenuItem::set_menuitem_accel_path()
&gt;&gt;
&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkStatusbar::remove() should
&gt;&gt;&gt; be compatible with that of GtkContainer::remove() in Unknown on  line 0
&gt;&gt; GtkStatusbar::remove() -&gt; GtkStatusbar::remove_message()
&gt;&gt;
&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkCList::remove() should be
&gt;&gt;&gt; compatible with that of GtkContainer::remove() in Unknown on line 0
&gt;&gt; GtkCList::remove() -&gt; GtkCList::remove_row()
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061003112635</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-10-03 11:26:35-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkMozEmbed does not destroy itself</subject><body>


Hello,


It seems as GtkMozEmbed does not destroy itself when the signal comes:
----------------
&lt;?php
$wnd = new GtkWindow();
$wnd-&gt;add(new GtkMozEmbed());
$wnd-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));
$wnd-&gt;show_all();
Gtk::main();
?&gt;
----------------

When closing the window, you normally go back to the console and can
type things. Here you can't, the script is still running.
-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20061106032048</emailId><senderName>someGuy</senderName><senderEmail>rtarrant@sympatico.ca</senderEmail><timestampReceived>2006-11-06 03:20:48-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkEntry Mystery</subject><body>


Hi all,

Problem: No character shows up on first call to GtkEntry::get_chars()

Operating system: Windows, Linux, FreeBSD

Code:

&lt;?php

function preProcess($widget, $event)
{
	$position = $widget-&gt;get_position();
	$char = $widget-&gt;get_chars(0, -1);
	echo("position = $position, char = $char\n");
} // preProcess()


$entry = new GtkEntry();
$entry-&gt;connect("key-press-event", "preProcess");

$window = new GtkWindow();
$window-&gt;add($entry);
$window-&gt;connect_simple("destroy", array("gtk", "main_quit"));
$window-&gt;show_all();

gtk::main();

?&gt;

Is this a bug, or is there some other value I should be passing as the
zeroth argument? I tried '-1' and it core dumped (which makes sense, of
course).

Please advise.

-Ron T.

-- 
View this message in context: http://www.nabble.com/GtkEntry-Mystery-tf2580187.html#a7192739
Sent from the Php - GTK - Dev mailing list archive at Nabble.com.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061207051440</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-12-07 05:14:40-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: another fix</subject><body>

Anant,

Can you commit this?

-Andrei


On Nov 6, 2006, at 1:51 PM, Pablo Dall'Oglio wrote:

&gt; is it good enough ? I needed get_sel_text so I addapted from php-gtk1
&gt; too :-)
&gt;
&gt; static PHP_METHOD(GtkScintilla, get_sel_text)
&gt; {
&gt;         zend_bool free_text = FALSE;
&gt;         long length;
&gt;         char *text;
&gt;         GtkScintilla *scintilla = GTK_SCINTILLA(PHPG_GOBJECT 
&gt; (this_ptr));
&gt;
&gt;     NOT_STATIC_METHOD();
&gt;
&gt;         if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
&gt;                 return;
&gt;
&gt;         length = gtk_scintilla_get_selection_end(scintilla) -
&gt; gtk_scintilla_get_selection_start(scintilla) + 1;
&gt;         text = emalloc(length);
&gt;         text[length-1] = 0;
&gt;
&gt;         gtk_scintilla_get_sel_text(scintilla, text);
&gt;         if (free_text) g_free(text);
&gt;         RETVAL_STRINGL(text, length-1, 0);
&gt; }
&gt;
&gt;
&gt; -- 
&gt; :: Pablo Dall'Oglio
&gt; :: www.dalloglio.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061208065331</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-12-08 06:53:31-0400</timestampReceived><subject>[PHP-GTK-DEV] Coverage</subject><body>

Guys,

Have we gotten stuck on increasing the API code coverage? By the  
latest count we still have about 135 methods, 35 functions, and a  
couple of property accessors. Can someone keep working on it?

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061212085548</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-12-12 08:55:48-0400</timestampReceived><subject>[PHP-GTK-DEV] News for December</subject><body>

Hi All,

I think its time we add some news to gtk.php.net:

* Active PHP-GTK 2 community site - http://www.php-gtk2.eu/
* PHP-GTK 2 Users map - http://php-gtk2.de/php-gtk-users.jpg/
* Chinese translation begun
* Docs &amp; Coding moving slowly; Call for volunteers!

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061213165319</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-12-13 16:53:19-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: News for December</subject><body>

The news looks good to me. Let's post it.

Oh, and as far as maps:

	http://php-gtk2.de/maps.html

Can someone add me? Lat: 37.3975394221, Lon: -122.0974159241

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060103055107</emailId><senderName>"jcohen at codeux dot com"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-01-03 05:51:07-0400</timestampReceived><subject>[PHP-GTK-DEV] #35878 [NEW]: GtkText()</subject><body>

From:             jcohen at codeux dot com
Operating system: Gentoo 2005.1-r1
PHP version:      5.1.1
PHP Bug Type:     PHP-GTK related
Bug description:  GtkText()

Description:
------------
Fatal error: Class 'GtkText' not found in...
Error does not appear on PHP-GTK 1.x but does appear on PHP-GTK 2 / CVS

Reproduce code:
---------------
&lt;?php

$foo = &amp;new GtkText();

?&gt;

Expected result:
----------------
GtkText widget should appear

Actual result:
--------------
Fatal error: Class 'GtkText' not found in...

-- 
Edit bug report at http://bugs.php.net/?id=35878&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=35878&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.1): http://bugs.php.net/fix.php?id=35878&amp;r=trysnapshot51
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=35878&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=35878&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=35878&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=35878&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=35878&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=35878&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=35878&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=35878&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=35878&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=35878&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=35878&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=35878&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=35878&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=35878&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=35878&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=35878&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=35878&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=35878&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060201024357</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-02-01 02:43:57-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkColorButton</subject><body>

GtkColorButton::get_color() requires exactly 1 argument, 0 given

I think it's wrong. It expects a GdkColor object as parameter (by
reference).

Pablo

-- 
:: Pablo Dall'Oglio
:: www.dalloglio.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060103133253</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-01-03 13:32:53-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] #35878 [NEW]: GtkText()</subject><body>

jcohen at codeux dot com wrote:
&gt; From:             jcohen at codeux dot com
&gt; Operating system: Gentoo 2005.1-r1
&gt; PHP version:      5.1.1
&gt; PHP Bug Type:     PHP-GTK related
&gt; Bug description:  GtkText()
&gt; 
&gt; Description:
&gt; ------------
&gt; Fatal error: Class 'GtkText' not found in...
&gt; Error does not appear on PHP-GTK 1.x but does appear on PHP-GTK 2 / CVS

GtkText is deprecated. Should this bug be marked as "will not fix" or 
will deprecated classes be implemented eventually also?

http://developer.gnome.org/doc/API/2.0/gtk/GtkText.html

-- 
Scott Mattocks
scott@crisscott.com
http://www.crisscott.com
http://pear.php.net/user/scottmattocks

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060301070405</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-03-01 07:04:05-0400</timestampReceived><subject>[PHP-GTK-DEV] GdkPixbuf::save() override</subject><body>

I have write an overrid for GdkPixbuf::save()

%%
override gdk_pixbuf_save
PHP_METHOD
{
    char *filename;
    char *type;
    char **option_keys   = NULL;
    char **option_values = NULL;
    GError *error = NULL;

    int argc,i,options;
    zval ***args;

    NOT_STATIC_METHOD();

    argc    = ZEND_NUM_ARGS();
    options = (argc-2)/2;
    args    = (zval ***)emalloc(argc * sizeof(zval **));

    if(argc &lt; 2 || zend_get_parameters_array_ex(argc,args)==FAILURE) {
        efree(args);
        WRONG_PARAM_COUNT;
    }
    else if(argc%2) {
        efree(args);
        php_error(E_WARNING, "%s::%s() requires arguments 3-n to be 
key/value pairs",
                    get_active_class_name(NULL TSRMLS_CC), 
get_active_function_name(TSRMLS_C));
        return;
    }

    option_keys   = (char**)emalloc((options+1) * sizeof(char**));
    option_values = (char**)emalloc((options+1) * sizeof(char**));

    for(i=0;i&lt;argc;i++) {
        if(Z_TYPE_PP(args[i]) != IS_STRING) {
            convert_to_string_ex(args[i]);
        }

        if(i == 0) {
            filename = Z_STRVAL_PP(args[i]);
        }
        else if(i == 1) {
            type = Z_STRVAL_PP(args[i]);
        }
        else if(!(i%2)) {
            option_keys[(i-2)/2] = Z_STRVAL_PP(args[i]);
        }
        else {
            option_values[(i-2)/2] = Z_STRVAL_PP(args[i]);
        }
    }
    option_keys[(i-2)/2] = 0;
    option_values[(i-2)/2] = 0;

    if(gdk_pixbuf_savev(GDK_PIXBUF(PHPG_GOBJECT(this_ptr)), filename, 
type, option_keys, option_values, &amp;error)) {
        efree(args);
        efree(option_keys);
        efree(option_values);
        RETURN_TRUE;
    }
    else {
        efree(args);
        efree(option_keys);
        efree(option_values);
        if(error) {
           php_error(E_WARNING, "%s::%s() error-&gt;code = %u, 
error-&gt;message = %s",
                        get_active_class_name(NULL TSRMLS_CC), 
get_active_function_name(TSRMLS_C), error-&gt;code,error-&gt;message);
        }
        else {
           php_error(E_WARNING, "%s::%s() Bad option name or wrong 
option value",
                        get_active_class_name(NULL TSRMLS_CC), 
get_active_function_name(TSRMLS_C));
        }
        RETURN_FALSE;
    }
}



mfg xxoes

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060405210217</emailId><senderName>       84.45.225.28</senderName><senderEmail></senderEmail><timestampReceived>2006-04-05 21:02:17-0400</timestampReceived><subject>Re: Fw: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test bug_gtkfilechooserbutton_actionselectfold</subject><body>

Dear Scott and Steph.

Have you hear or IRC .. interent relay chat

there's even a roon set up in irc.freenode.net named #php-gtk ;-)

might be helpful and save a lot of web traffic ;-)

regards

Pete

Scott Mattocks wrote:
&gt; Steph Fox wrote:
&gt;&gt; When I'm saying 'I'll fix it', I'm going on the basis that the 
&gt;&gt; GtkFileChooserDialog works for you, give or take the parent thing - is 
&gt;&gt; that correct? (and also on the basis that GTK will allow me to add 
&gt;&gt; one, at this stage).
&gt; 
&gt; Yes. I can create a GtkFileChooserDialog without errors using:
&gt; $file = new GtkFileChooserDialog('Test', null, 
&gt; Gtk::FILE_CHOOSER_ACTION_SELECT_FOLDER);
&gt; 
&gt; Thanks for taking the time to look into this.
&gt; 
&gt; Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060501060644</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-01 06:06:44-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /generator arg_types.php</subject><body>


Andrei,

&gt;   Register GdkNativeWindow as a long.
Now I get an error when trying to reflect methods that have a
GdkNativeWindow somewhere:
PHP Fatal error:  Uncaught exception 'ReflectionException' with message
'Class GdkNativeWindow does not exist'

e.g. in pixmap_foreign_new

Simple test script:
&lt;?php
$rMethod = new ReflectionMethod('Gdk', 'pixmap_foreign_new');
$arParam = $rMethod-&gt;getParameters();
echo $arParam[0]-&gt;getClass()-&gt;getName();
?&gt;

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060501174248</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-05-01 17:42:48-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /generator arg_types.php</subject><body>

Well, then your arginfo generator needs to be adjusted.

-Andrei

On Apr 30, 2006, at 11:06 PM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;&gt;   Register GdkNativeWindow as a long.
&gt; Now I get an error when trying to reflect methods that have a
&gt; GdkNativeWindow somewhere:
&gt; PHP Fatal error:  Uncaught exception 'ReflectionException' with message
&gt; 'Class GdkNativeWindow does not exist'
&gt;
&gt; e.g. in pixmap_foreign_new
&gt;
&gt; Simple test script:
&gt; &lt;?php
&gt; $rMethod = new ReflectionMethod('Gdk', 'pixmap_foreign_new');
&gt; $arParam = $rMethod-&gt;getParameters();
&gt; echo $arParam[0]-&gt;getClass()-&gt;getName();
&gt; ?&gt;
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060701091647</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-01 09:16:47-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkTreeModelFilter constructor problem</subject><body>


Hi


I think the problem is around
&gt; if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "V|V", &amp;php_model,
gtktreemodel_ce, &amp;php_path))

and the first V needs to be replaced with N or O - I just get memleaks
all the time I do this and don't know how to fix it then :/

--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060618043655</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-18 04:36:55-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /main php_gtk.h</subject><body>

Um, why didn't you wait for me to make a fix? I thought I said I'd  
take care of it..

-Andrei


On Jun 17, 2006, at 12:59 PM, Steph Fox wrote:

&gt; I should probably make this very clear.  php_lookup isn't defined  
&gt; in PHP 5 anywhere grep can see it.
&gt;
&gt; ----- Original Message ----- From: "Steph Fox" &lt;sfox@php.net&gt;
&gt; To: &lt;php-gtk-cvs@lists.php.net&gt;
&gt; Sent: Saturday, June 17, 2006 6:59 PM
&gt; Subject: [php-gtk-cvs] cvs: php-gtk /main php_gtk.h
&gt;
&gt;
&gt;&gt; sfox Sat Jun 17 16:59:06 2006 UTC
&gt;&gt;
&gt;&gt;  Modified files:
&gt;&gt;    /php-gtk/main php_gtk.h
&gt;&gt;  Log:
&gt;&gt;  - Workaround for the 'lookup' issue.
&gt;&gt;  - The only place 'lookup' was used by the end of the PHP 4.3  
&gt;&gt; series was in ext/expat.
&gt;&gt;  - It isn't used anywhere in PHP 5 or its core extensions.
&gt;&gt;
&gt;&gt; http://cvs.php.net/viewcvs.cgi/php-gtk/main/php_gtk.h? 
&gt;&gt; r1=1.130&amp;r2=1.131&amp;diff_format=u
&gt;&gt; Index: php-gtk/main/php_gtk.h
&gt;&gt; diff -u php-gtk/main/php_gtk.h:1.130 php-gtk/main/php_gtk.h:1.131
&gt;&gt; --- php-gtk/main/php_gtk.h:1.130 Sat Jun  3 18:07:41 2006
&gt;&gt; +++ php-gtk/main/php_gtk.h Sat Jun 17 16:59:05 2006
&gt;&gt; @@ -18,7 +18,7 @@
&gt;&gt;  * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA   
&gt;&gt; 02111-1307 USA
&gt;&gt;  */
&gt;&gt;
&gt;&gt; -/* $Id: php_gtk.h,v 1.130 2006/06/03 18:07:41 andrei Exp $: */
&gt;&gt; +/* $Id: php_gtk.h,v 1.131 2006/06/17 16:59:05 sfox Exp $: */
&gt;&gt;
&gt;&gt; #ifndef _PHP_GTK_H
&gt;&gt; #define _PHP_GTK_H
&gt;&gt; @@ -31,6 +31,11 @@
&gt;&gt; #include "config.h"
&gt;&gt; #endif
&gt;&gt;
&gt;&gt; +/* workaround for expat-related declaration in PHP compat file */
&gt;&gt; +#ifdef lookup
&gt;&gt; +#undef lookup
&gt;&gt; +#endif
&gt;&gt; +
&gt;&gt; #if HAVE_PHP_GTK
&gt;&gt;
&gt;&gt; #include "zend_objects_API.h"
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK CVS Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060618130429</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-18 13:04:29-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /main php_gtk.h</subject><body>

Because there's absolutely no need to do what you suggested (i.e. declare 
them in a different way) alonga PHP 5... so having done the leg work to 
discover that, it made sense to just put something in to allow everything to 
run as advertised.

&gt; Um, why didn't you wait for me to make a fix? I thought I said I'd  take 
&gt; care of it..
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Jun 17, 2006, at 12:59 PM, Steph Fox wrote:
&gt;
&gt;&gt; I should probably make this very clear.  php_lookup isn't defined  in PHP 
&gt;&gt; 5 anywhere grep can see it.
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "Steph Fox" &lt;sfox@php.net&gt;
&gt;&gt; To: &lt;php-gtk-cvs@lists.php.net&gt;
&gt;&gt; Sent: Saturday, June 17, 2006 6:59 PM
&gt;&gt; Subject: [php-gtk-cvs] cvs: php-gtk /main php_gtk.h
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; sfox Sat Jun 17 16:59:06 2006 UTC
&gt;&gt;&gt;
&gt;&gt;&gt;  Modified files:
&gt;&gt;&gt;    /php-gtk/main php_gtk.h
&gt;&gt;&gt;  Log:
&gt;&gt;&gt;  - Workaround for the 'lookup' issue.
&gt;&gt;&gt;  - The only place 'lookup' was used by the end of the PHP 4.3  series 
&gt;&gt;&gt; was in ext/expat.
&gt;&gt;&gt;  - It isn't used anywhere in PHP 5 or its core extensions.
&gt;&gt;&gt;
&gt;&gt;&gt; http://cvs.php.net/viewcvs.cgi/php-gtk/main/php_gtk.h? 
&gt;&gt;&gt; r1=1.130&amp;r2=1.131&amp;diff_format=u
&gt;&gt;&gt; Index: php-gtk/main/php_gtk.h
&gt;&gt;&gt; diff -u php-gtk/main/php_gtk.h:1.130 php-gtk/main/php_gtk.h:1.131
&gt;&gt;&gt; --- php-gtk/main/php_gtk.h:1.130 Sat Jun  3 18:07:41 2006
&gt;&gt;&gt; +++ php-gtk/main/php_gtk.h Sat Jun 17 16:59:05 2006
&gt;&gt;&gt; @@ -18,7 +18,7 @@
&gt;&gt;&gt;  * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA   02111-1307 
&gt;&gt;&gt; USA
&gt;&gt;&gt;  */
&gt;&gt;&gt;
&gt;&gt;&gt; -/* $Id: php_gtk.h,v 1.130 2006/06/03 18:07:41 andrei Exp $: */
&gt;&gt;&gt; +/* $Id: php_gtk.h,v 1.131 2006/06/17 16:59:05 sfox Exp $: */
&gt;&gt;&gt;
&gt;&gt;&gt; #ifndef _PHP_GTK_H
&gt;&gt;&gt; #define _PHP_GTK_H
&gt;&gt;&gt; @@ -31,6 +31,11 @@
&gt;&gt;&gt; #include "config.h"
&gt;&gt;&gt; #endif
&gt;&gt;&gt;
&gt;&gt;&gt; +/* workaround for expat-related declaration in PHP compat file */
&gt;&gt;&gt; +#ifdef lookup
&gt;&gt;&gt; +#undef lookup
&gt;&gt;&gt; +#endif
&gt;&gt;&gt; +
&gt;&gt;&gt; #if HAVE_PHP_GTK
&gt;&gt;&gt;
&gt;&gt;&gt; #include "zend_objects_API.h"
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK CVS Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060625104759</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-25 10:47:59-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /main php_gtk.h phpg_gpointer.c</subject><body>

Andrei,

If you don't like this solution (or something very close to it) we're stuck 
with naming the ce for pointers. I'm easy either way, so long as it works ;)

- Steph


----- Original Message ----- 
From: "Steph Fox" &lt;sfox@php.net&gt;
To: &lt;php-gtk-cvs@lists.php.net&gt;
Sent: Sunday, June 25, 2006 12:47 PM
Subject: [php-gtk-cvs] cvs: php-gtk /main php_gtk.h phpg_gpointer.c


&gt; sfox Sun Jun 25 10:47:26 2006 UTC
&gt;
&gt;  Modified files:
&gt;    /php-gtk/main php_gtk.h phpg_gpointer.c
&gt;  Log:
&gt;  Give GPointer types something to hold onto...
&gt;
&gt; http://cvs.php.net/viewvc.cgi/php-gtk/main/php_gtk.h?r1=1.132&amp;r2=1.133&amp;diff_format=u
&gt; Index: php-gtk/main/php_gtk.h
&gt; diff -u php-gtk/main/php_gtk.h:1.132 php-gtk/main/php_gtk.h:1.133
&gt; --- php-gtk/main/php_gtk.h:1.132 Fri Jun 23 04:11:49 2006
&gt; +++ php-gtk/main/php_gtk.h Sun Jun 25 10:47:26 2006
&gt; @@ -18,7 +18,7 @@
&gt;  * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 
&gt; USA
&gt;  */
&gt;
&gt; -/* $Id: php_gtk.h,v 1.132 2006/06/23 04:11:49 andrei Exp $: */
&gt; +/* $Id: php_gtk.h,v 1.133 2006/06/25 10:47:26 sfox Exp $: */
&gt;
&gt; #ifndef _PHP_GTK_H
&gt; #define _PHP_GTK_H
&gt; @@ -476,6 +476,7 @@
&gt; /* GPointer */
&gt; void phpg_gpointer_register_self(TSRMLS_D);
&gt; PHP_GTK_API void phpg_gpointer_new(zval **zobj, GType gtype, gpointer 
&gt; pointer TSRMLS_DC);
&gt; +PHP_GTK_API zend_class_entry* phpg_register_pointer(const char 
&gt; *class_name, function_entry *class_methods, create_object_func_t 
&gt; create_obj_func, GType gtype TSRMLS_DC);
&gt; PHP_GTK_API zend_object_value phpg_create_gpointer(zend_class_entry *ce 
&gt; TSRMLS_DC);
&gt; PHP_GTK_API zend_bool phpg_gpointer_check(zval *zobj, GType gtype, 
&gt; zend_bool full_check TSRMLS_DC);
&gt;
&gt; http://cvs.php.net/viewvc.cgi/php-gtk/main/phpg_gpointer.c?r1=1.5&amp;r2=1.6&amp;diff_format=u
&gt; Index: php-gtk/main/phpg_gpointer.c
&gt; diff -u php-gtk/main/phpg_gpointer.c:1.5 php-gtk/main/phpg_gpointer.c:1.6
&gt; --- php-gtk/main/phpg_gpointer.c:1.5 Fri Jun 23 04:11:49 2006
&gt; +++ php-gtk/main/phpg_gpointer.c Sun Jun 25 10:47:26 2006
&gt; @@ -49,6 +49,16 @@
&gt; }
&gt; /* }}} */
&gt;
&gt; +/* {{{ PHP_GTK_API phpg_register_pointer() */
&gt; +PHP_GTK_API zend_class_entry* phpg_register_pointer(const char 
&gt; *class_name,
&gt; +                                                  function_entry 
&gt; *class_methods,
&gt; +                                                  create_object_func_t 
&gt; create_obj_func,
&gt; +                                                  GType gtype TSRMLS_DC)
&gt; +{
&gt; +    return phpg_register_class(class_name, class_methods, gpointer_ce, 0, 
&gt; NULL, create_obj_func ? create_obj_func : phpg_create_gpointer, gtype 
&gt; TSRMLS_CC);
&gt; +}
&gt; +/* }}} */
&gt; +
&gt; /* {{{ PHP_GTK_API phpg_create_gpointer() */
&gt; PHP_GTK_API zend_object_value phpg_create_gpointer(zend_class_entry *ce 
&gt; TSRMLS_DC)
&gt; {
&gt;
&gt; -- 
&gt; PHP-GTK CVS Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060625175233</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-25 17:52:33-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /main php_gtk.h phpg_gpointer.c</subject><body>

What was wrong with simply adding gpointer_ce to the parent slot in  
templates? I mean, this works, but it's just extra code..

-Andrei


On Jun 25, 2006, at 3:47 AM, Steph Fox wrote:

&gt; Andrei,
&gt;
&gt; If you don't like this solution (or something very close to it)  
&gt; we're stuck with naming the ce for pointers. I'm easy either way,  
&gt; so long as it works ;)
&gt;
&gt; - Steph
&gt;
&gt;
&gt; ----- Original Message ----- From: "Steph Fox" &lt;sfox@php.net&gt;
&gt; To: &lt;php-gtk-cvs@lists.php.net&gt;
&gt; Sent: Sunday, June 25, 2006 12:47 PM
&gt; Subject: [php-gtk-cvs] cvs: php-gtk /main php_gtk.h phpg_gpointer.c
&gt;
&gt;
&gt;&gt; sfox Sun Jun 25 10:47:26 2006 UTC
&gt;&gt;
&gt;&gt;  Modified files:
&gt;&gt;    /php-gtk/main php_gtk.h phpg_gpointer.c
&gt;&gt;  Log:
&gt;&gt;  Give GPointer types something to hold onto...
&gt;&gt;
&gt;&gt; http://cvs.php.net/viewvc.cgi/php-gtk/main/php_gtk.h? 
&gt;&gt; r1=1.132&amp;r2=1.133&amp;diff_format=u
&gt;&gt; Index: php-gtk/main/php_gtk.h
&gt;&gt; diff -u php-gtk/main/php_gtk.h:1.132 php-gtk/main/php_gtk.h:1.133
&gt;&gt; --- php-gtk/main/php_gtk.h:1.132 Fri Jun 23 04:11:49 2006
&gt;&gt; +++ php-gtk/main/php_gtk.h Sun Jun 25 10:47:26 2006
&gt;&gt; @@ -18,7 +18,7 @@
&gt;&gt;  * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA   
&gt;&gt; 02111-1307 USA
&gt;&gt;  */
&gt;&gt;
&gt;&gt; -/* $Id: php_gtk.h,v 1.132 2006/06/23 04:11:49 andrei Exp $: */
&gt;&gt; +/* $Id: php_gtk.h,v 1.133 2006/06/25 10:47:26 sfox Exp $: */
&gt;&gt;
&gt;&gt; #ifndef _PHP_GTK_H
&gt;&gt; #define _PHP_GTK_H
&gt;&gt; @@ -476,6 +476,7 @@
&gt;&gt; /* GPointer */
&gt;&gt; void phpg_gpointer_register_self(TSRMLS_D);
&gt;&gt; PHP_GTK_API void phpg_gpointer_new(zval **zobj, GType gtype,  
&gt;&gt; gpointer pointer TSRMLS_DC);
&gt;&gt; +PHP_GTK_API zend_class_entry* phpg_register_pointer(const char  
&gt;&gt; *class_name, function_entry *class_methods, create_object_func_t  
&gt;&gt; create_obj_func, GType gtype TSRMLS_DC);
&gt;&gt; PHP_GTK_API zend_object_value phpg_create_gpointer 
&gt;&gt; (zend_class_entry *ce TSRMLS_DC);
&gt;&gt; PHP_GTK_API zend_bool phpg_gpointer_check(zval *zobj, GType gtype,  
&gt;&gt; zend_bool full_check TSRMLS_DC);
&gt;&gt;
&gt;&gt; http://cvs.php.net/viewvc.cgi/php-gtk/main/phpg_gpointer.c? 
&gt;&gt; r1=1.5&amp;r2=1.6&amp;diff_format=u
&gt;&gt; Index: php-gtk/main/phpg_gpointer.c
&gt;&gt; diff -u php-gtk/main/phpg_gpointer.c:1.5 php-gtk/main/ 
&gt;&gt; phpg_gpointer.c:1.6
&gt;&gt; --- php-gtk/main/phpg_gpointer.c:1.5 Fri Jun 23 04:11:49 2006
&gt;&gt; +++ php-gtk/main/phpg_gpointer.c Sun Jun 25 10:47:26 2006
&gt;&gt; @@ -49,6 +49,16 @@
&gt;&gt; }
&gt;&gt; /* }}} */
&gt;&gt;
&gt;&gt; +/* {{{ PHP_GTK_API phpg_register_pointer() */
&gt;&gt; +PHP_GTK_API zend_class_entry* phpg_register_pointer(const char  
&gt;&gt; *class_name,
&gt;&gt; +                                                  function_entry  
&gt;&gt; *class_methods,
&gt;&gt; +                                                   
&gt;&gt; create_object_func_t create_obj_func,
&gt;&gt; +                                                  GType gtype  
&gt;&gt; TSRMLS_DC)
&gt;&gt; +{
&gt;&gt; +    return phpg_register_class(class_name, class_methods,  
&gt;&gt; gpointer_ce, 0, NULL, create_obj_func ? create_obj_func :  
&gt;&gt; phpg_create_gpointer, gtype TSRMLS_CC);
&gt;&gt; +}
&gt;&gt; +/* }}} */
&gt;&gt; +
&gt;&gt; /* {{{ PHP_GTK_API phpg_create_gpointer() */
&gt;&gt; PHP_GTK_API zend_object_value phpg_create_gpointer 
&gt;&gt; (zend_class_entry *ce TSRMLS_DC)
&gt;&gt; {
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK CVS Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060625182820</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-25 18:28:20-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /main php_gtk.h phpg_gpointer.c</subject><body>

Now you've caught up...

I thought that too, but actually I got gtk errors when I went that route. 
You tell me.

6 LOC is hardly excessive anyway :)


&gt; What was wrong with simply adding gpointer_ce to the parent slot in 
&gt; templates? I mean, this works, but it's just extra code..
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Jun 25, 2006, at 3:47 AM, Steph Fox wrote:
&gt;
&gt;&gt; Andrei,
&gt;&gt;
&gt;&gt; If you don't like this solution (or something very close to it)  we're 
&gt;&gt; stuck with naming the ce for pointers. I'm easy either way,  so long as 
&gt;&gt; it works ;)
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt;
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "Steph Fox" &lt;sfox@php.net&gt;
&gt;&gt; To: &lt;php-gtk-cvs@lists.php.net&gt;
&gt;&gt; Sent: Sunday, June 25, 2006 12:47 PM
&gt;&gt; Subject: [php-gtk-cvs] cvs: php-gtk /main php_gtk.h phpg_gpointer.c
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; sfox Sun Jun 25 10:47:26 2006 UTC
&gt;&gt;&gt;
&gt;&gt;&gt;  Modified files:
&gt;&gt;&gt;    /php-gtk/main php_gtk.h phpg_gpointer.c
&gt;&gt;&gt;  Log:
&gt;&gt;&gt;  Give GPointer types something to hold onto...
&gt;&gt;&gt;
&gt;&gt;&gt; http://cvs.php.net/viewvc.cgi/php-gtk/main/php_gtk.h? 
&gt;&gt;&gt; r1=1.132&amp;r2=1.133&amp;diff_format=u
&gt;&gt;&gt; Index: php-gtk/main/php_gtk.h
&gt;&gt;&gt; diff -u php-gtk/main/php_gtk.h:1.132 php-gtk/main/php_gtk.h:1.133
&gt;&gt;&gt; --- php-gtk/main/php_gtk.h:1.132 Fri Jun 23 04:11:49 2006
&gt;&gt;&gt; +++ php-gtk/main/php_gtk.h Sun Jun 25 10:47:26 2006
&gt;&gt;&gt; @@ -18,7 +18,7 @@
&gt;&gt;&gt;  * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA   02111-1307 
&gt;&gt;&gt; USA
&gt;&gt;&gt;  */
&gt;&gt;&gt;
&gt;&gt;&gt; -/* $Id: php_gtk.h,v 1.132 2006/06/23 04:11:49 andrei Exp $: */
&gt;&gt;&gt; +/* $Id: php_gtk.h,v 1.133 2006/06/25 10:47:26 sfox Exp $: */
&gt;&gt;&gt;
&gt;&gt;&gt; #ifndef _PHP_GTK_H
&gt;&gt;&gt; #define _PHP_GTK_H
&gt;&gt;&gt; @@ -476,6 +476,7 @@
&gt;&gt;&gt; /* GPointer */
&gt;&gt;&gt; void phpg_gpointer_register_self(TSRMLS_D);
&gt;&gt;&gt; PHP_GTK_API void phpg_gpointer_new(zval **zobj, GType gtype,  gpointer 
&gt;&gt;&gt; pointer TSRMLS_DC);
&gt;&gt;&gt; +PHP_GTK_API zend_class_entry* phpg_register_pointer(const char 
&gt;&gt;&gt; *class_name, function_entry *class_methods, create_object_func_t 
&gt;&gt;&gt; create_obj_func, GType gtype TSRMLS_DC);
&gt;&gt;&gt; PHP_GTK_API zend_object_value phpg_create_gpointer (zend_class_entry *ce 
&gt;&gt;&gt; TSRMLS_DC);
&gt;&gt;&gt; PHP_GTK_API zend_bool phpg_gpointer_check(zval *zobj, GType gtype, 
&gt;&gt;&gt; zend_bool full_check TSRMLS_DC);
&gt;&gt;&gt;
&gt;&gt;&gt; http://cvs.php.net/viewvc.cgi/php-gtk/main/phpg_gpointer.c? 
&gt;&gt;&gt; r1=1.5&amp;r2=1.6&amp;diff_format=u
&gt;&gt;&gt; Index: php-gtk/main/phpg_gpointer.c
&gt;&gt;&gt; diff -u php-gtk/main/phpg_gpointer.c:1.5 php-gtk/main/ 
&gt;&gt;&gt; phpg_gpointer.c:1.6
&gt;&gt;&gt; --- php-gtk/main/phpg_gpointer.c:1.5 Fri Jun 23 04:11:49 2006
&gt;&gt;&gt; +++ php-gtk/main/phpg_gpointer.c Sun Jun 25 10:47:26 2006
&gt;&gt;&gt; @@ -49,6 +49,16 @@
&gt;&gt;&gt; }
&gt;&gt;&gt; /* }}} */
&gt;&gt;&gt;
&gt;&gt;&gt; +/* {{{ PHP_GTK_API phpg_register_pointer() */
&gt;&gt;&gt; +PHP_GTK_API zend_class_entry* phpg_register_pointer(const char 
&gt;&gt;&gt; *class_name,
&gt;&gt;&gt; +                                                  function_entry 
&gt;&gt;&gt; *class_methods,
&gt;&gt;&gt; +                                                   create_object_func_t 
&gt;&gt;&gt; create_obj_func,
&gt;&gt;&gt; +                                                  GType gtype 
&gt;&gt;&gt; TSRMLS_DC)
&gt;&gt;&gt; +{
&gt;&gt;&gt; +    return phpg_register_class(class_name, class_methods,  gpointer_ce, 
&gt;&gt;&gt; 0, NULL, create_obj_func ? create_obj_func :  phpg_create_gpointer, 
&gt;&gt;&gt; gtype TSRMLS_CC);
&gt;&gt;&gt; +}
&gt;&gt;&gt; +/* }}} */
&gt;&gt;&gt; +
&gt;&gt;&gt; /* {{{ PHP_GTK_API phpg_create_gpointer() */
&gt;&gt;&gt; PHP_GTK_API zend_object_value phpg_create_gpointer (zend_class_entry *ce 
&gt;&gt;&gt; TSRMLS_DC)
&gt;&gt;&gt; {
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK CVS Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060625212010</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-25 21:20:10-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /main php_gtk.h phpg_gpointer.c</subject><body>

What errors?

-Andrei


On Jun 25, 2006, at 11:28 AM, Steph Fox wrote:

&gt; Now you've caught up...
&gt;
&gt; I thought that too, but actually I got gtk errors when I went that  
&gt; route. You tell me.
&gt;
&gt; 6 LOC is hardly excessive anyway :)
&gt;
&gt;
&gt;&gt; What was wrong with simply adding gpointer_ce to the parent slot  
&gt;&gt; in templates? I mean, this works, but it's just extra code..
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; On Jun 25, 2006, at 3:47 AM, Steph Fox wrote:
&gt;&gt;
&gt;&gt;&gt; Andrei,
&gt;&gt;&gt;
&gt;&gt;&gt; If you don't like this solution (or something very close to it)   
&gt;&gt;&gt; we're stuck with naming the ce for pointers. I'm easy either  
&gt;&gt;&gt; way,  so long as it works ;)
&gt;&gt;&gt;
&gt;&gt;&gt; - Steph
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; ----- Original Message ----- From: "Steph Fox" &lt;sfox@php.net&gt;
&gt;&gt;&gt; To: &lt;php-gtk-cvs@lists.php.net&gt;
&gt;&gt;&gt; Sent: Sunday, June 25, 2006 12:47 PM
&gt;&gt;&gt; Subject: [php-gtk-cvs] cvs: php-gtk /main php_gtk.h phpg_gpointer.c
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; sfox Sun Jun 25 10:47:26 2006 UTC
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;  Modified files:
&gt;&gt;&gt;&gt;    /php-gtk/main php_gtk.h phpg_gpointer.c
&gt;&gt;&gt;&gt;  Log:
&gt;&gt;&gt;&gt;  Give GPointer types something to hold onto...
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; http://cvs.php.net/viewvc.cgi/php-gtk/main/php_gtk.h?  
&gt;&gt;&gt;&gt; r1=1.132&amp;r2=1.133&amp;diff_format=u
&gt;&gt;&gt;&gt; Index: php-gtk/main/php_gtk.h
&gt;&gt;&gt;&gt; diff -u php-gtk/main/php_gtk.h:1.132 php-gtk/main/php_gtk.h:1.133
&gt;&gt;&gt;&gt; --- php-gtk/main/php_gtk.h:1.132 Fri Jun 23 04:11:49 2006
&gt;&gt;&gt;&gt; +++ php-gtk/main/php_gtk.h Sun Jun 25 10:47:26 2006
&gt;&gt;&gt;&gt; @@ -18,7 +18,7 @@
&gt;&gt;&gt;&gt;  * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA    
&gt;&gt;&gt;&gt; 02111-1307 USA
&gt;&gt;&gt;&gt;  */
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -/* $Id: php_gtk.h,v 1.132 2006/06/23 04:11:49 andrei Exp $: */
&gt;&gt;&gt;&gt; +/* $Id: php_gtk.h,v 1.133 2006/06/25 10:47:26 sfox Exp $: */
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; #ifndef _PHP_GTK_H
&gt;&gt;&gt;&gt; #define _PHP_GTK_H
&gt;&gt;&gt;&gt; @@ -476,6 +476,7 @@
&gt;&gt;&gt;&gt; /* GPointer */
&gt;&gt;&gt;&gt; void phpg_gpointer_register_self(TSRMLS_D);
&gt;&gt;&gt;&gt; PHP_GTK_API void phpg_gpointer_new(zval **zobj, GType gtype,   
&gt;&gt;&gt;&gt; gpointer pointer TSRMLS_DC);
&gt;&gt;&gt;&gt; +PHP_GTK_API zend_class_entry* phpg_register_pointer(const char  
&gt;&gt;&gt;&gt; *class_name, function_entry *class_methods, create_object_func_t  
&gt;&gt;&gt;&gt; create_obj_func, GType gtype TSRMLS_DC);
&gt;&gt;&gt;&gt; PHP_GTK_API zend_object_value phpg_create_gpointer  
&gt;&gt;&gt;&gt; (zend_class_entry *ce TSRMLS_DC);
&gt;&gt;&gt;&gt; PHP_GTK_API zend_bool phpg_gpointer_check(zval *zobj, GType  
&gt;&gt;&gt;&gt; gtype, zend_bool full_check TSRMLS_DC);
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; http://cvs.php.net/viewvc.cgi/php-gtk/main/phpg_gpointer.c?  
&gt;&gt;&gt;&gt; r1=1.5&amp;r2=1.6&amp;diff_format=u
&gt;&gt;&gt;&gt; Index: php-gtk/main/phpg_gpointer.c
&gt;&gt;&gt;&gt; diff -u php-gtk/main/phpg_gpointer.c:1.5 php-gtk/main/  
&gt;&gt;&gt;&gt; phpg_gpointer.c:1.6
&gt;&gt;&gt;&gt; --- php-gtk/main/phpg_gpointer.c:1.5 Fri Jun 23 04:11:49 2006
&gt;&gt;&gt;&gt; +++ php-gtk/main/phpg_gpointer.c Sun Jun 25 10:47:26 2006
&gt;&gt;&gt;&gt; @@ -49,6 +49,16 @@
&gt;&gt;&gt;&gt; }
&gt;&gt;&gt;&gt; /* }}} */
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; +/* {{{ PHP_GTK_API phpg_register_pointer() */
&gt;&gt;&gt;&gt; +PHP_GTK_API zend_class_entry* phpg_register_pointer(const char  
&gt;&gt;&gt;&gt; *class_name,
&gt;&gt;&gt;&gt; +                                                   
&gt;&gt;&gt;&gt; function_entry *class_methods,
&gt;&gt;&gt;&gt; +                                                    
&gt;&gt;&gt;&gt; create_object_func_t create_obj_func,
&gt;&gt;&gt;&gt; +                                                  GType gtype  
&gt;&gt;&gt;&gt; TSRMLS_DC)
&gt;&gt;&gt;&gt; +{
&gt;&gt;&gt;&gt; +    return phpg_register_class(class_name, class_methods,   
&gt;&gt;&gt;&gt; gpointer_ce, 0, NULL, create_obj_func ? create_obj_func :   
&gt;&gt;&gt;&gt; phpg_create_gpointer, gtype TSRMLS_CC);
&gt;&gt;&gt;&gt; +}
&gt;&gt;&gt;&gt; +/* }}} */
&gt;&gt;&gt;&gt; +
&gt;&gt;&gt;&gt; /* {{{ PHP_GTK_API phpg_create_gpointer() */
&gt;&gt;&gt;&gt; PHP_GTK_API zend_object_value phpg_create_gpointer  
&gt;&gt;&gt;&gt; (zend_class_entry *ce TSRMLS_DC)
&gt;&gt;&gt;&gt; {
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; PHP-GTK CVS Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060531172715</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-31 17:27:15-0400</timestampReceived><subject>[PHP-GTK-DEV] Patches and the alpha</subject><body>


Hi all,


You might have noted that there are several patches waiting to be merged
into the sources.

While I understand that tracking down the dnd segfault bugs might take a
long time and doesn't need to be done before the alpha is released, I
plead for including the patches before releasing the alpha.
We have been waiting a long time for the alpha and it really doesn't
matter if it's delayed another week. Further, people will have a better
experience if the API is more complete - even though it's an alpha.

Andrei, are you back?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060601200456</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-06-01 20:04:56-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Patches and the alpha</subject><body>

Here is my annoying nagging email for this week. Where do we stand with 
the release?

- From what I understand the Win32 crash has been identified as a PHP 
issue not a PHP-GTK issue. Of course I could have completely 
misunderstood all of that thread.

- I think the GtkSourceView and MozEmbed problems have been solved for 
Win32. Of course I could be completely wrong about this too.

- Steph has provided a set of PHP 5.2 patches that need to be reviewed.

- Christian has submitted 16+ patches that need to be reviewed.

Thanks,
Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060601201843</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-01 20:18:43-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Patches and the alpha</subject><body>

You're brave :)  Andrei's still jetlagged...

The win32 crash is 50% a PHP issue (and Dmitry and I both think that 50% 
should be fixed, we just disagree about the way it should be fixed).

The other half of it - I really don't know. We're somehow populating the 
compile-time global class table and I've no idea how. Could be us, or could 
be them.

- Steph


----- Original Message ----- 
From: "Scott Mattocks" &lt;scott@crisscott.com&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Thursday, June 01, 2006 10:04 PM
Subject: Re: [PHP-GTK-DEV] Patches and the alpha


&gt; Here is my annoying nagging email for this week. Where do we stand with 
&gt; the release?
&gt;
&gt; - From what I understand the Win32 crash has been identified as a PHP 
&gt; issue not a PHP-GTK issue. Of course I could have completely misunderstood 
&gt; all of that thread.
&gt;
&gt; - I think the GtkSourceView and MozEmbed problems have been solved for 
&gt; Win32. Of course I could be completely wrong about this too.
&gt;
&gt; - Steph has provided a set of PHP 5.2 patches that need to be reviewed.
&gt;
&gt; - Christian has submitted 16+ patches that need to be reviewed.
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060303151125</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-03-03 15:11:25-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk / ChangeLog</subject><body>

The changelog is updated automatically.

Scott

Anant Narayanan wrote:
&gt; anant		Fri Mar  3 15:07:52 2006 UTC
&gt; 
&gt;   Modified files:              
&gt;     /php-gtk	ChangeLog 
&gt;   Log:
&gt;   Um, I think I supposed to update the ChangeLog. Hope I'm not doing anything
&gt;   wrong!
&gt;   
&gt;   
&gt; http://cvs.php.net/viewcvs.cgi/php-gtk/ChangeLog?r1=1.418&amp;r2=1.419&amp;diff_format=u
&gt; Index: php-gtk/ChangeLog
&gt; diff -u php-gtk/ChangeLog:1.418 php-gtk/ChangeLog:1.419
&gt; --- php-gtk/ChangeLog:1.418	Fri Mar  3 06:31:52 2006
&gt; +++ php-gtk/ChangeLog	Fri Mar  3 15:07:52 2006
&gt; @@ -1,3 +1,9 @@
&gt; +2006-03-03	Anant Narayanan  &lt;anant@kix.in&gt;
&gt; +    * ext/scintilla/*: Base files for the GtkScintilla
&gt; +      extension
&gt; +    * ext/sourceview/*: Base files for the GtkSourceView
&gt; +      extension.
&gt; +	  
&gt;  2006-03-02  Christian Weiske  &lt;cweiske@cweiske.de&gt;
&gt;  
&gt;      * TODO2:
&gt; 

-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310135301</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-03-10 13:53:01-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /generator generator.php override.php</subject><body>

Hi Andrei,

Andrei Zmievski wrote:
&gt; andrei		Fri Mar 10 05:26:45 2006 UTC
&gt; 
&gt;   Modified files:              
&gt;     /php-gtk/generator	generator.php override.php 
&gt;   Log:
&gt;   Allowing adding extra programmatic fields (properties).

Can you explain this a little for me? Is this a compiling change or a 
userland change? Can I now say something like:

$widget-&gt;new_property('andrei');
$widget-&gt;set_property('andrei', $value);

or does this only have to do with overrides and generated code?

Thanks,
-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310164618</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-10 16:46:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /generator generator.php override.php</subject><body>

This is only for generator. What you want will be coming up later.


On Mar 10, 2006, at 5:53 AM, Scott Mattocks wrote:

&gt; Hi Andrei,
&gt;
&gt; Andrei Zmievski wrote:
&gt;&gt; andrei		Fri Mar 10 05:26:45 2006 UTC
&gt;&gt;   Modified files:                  /php-gtk/generator	generator.php 
&gt;&gt; override.php   Log:
&gt;&gt;   Allowing adding extra programmatic fields (properties).
&gt;
&gt; Can you explain this a little for me? Is this a compiling change or a 
&gt; userland change? Can I now say something like:
&gt;
&gt; $widget-&gt;new_property('andrei');
&gt; $widget-&gt;set_property('andrei', $value);
&gt;
&gt; or does this only have to do with overrides and generated code?
&gt;
&gt; Thanks,
&gt; -- 
&gt; Scott Mattocks
&gt; http://www.crisscott.com
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310164659</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-03-10 16:46:59-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /generator generator.php</subject><body>

Thanks for the clarification.

Andrei Zmievski wrote:
&gt; This is only for generator. What you want will be coming up later.
&gt; 
&gt; 
&gt; On Mar 10, 2006, at 5:53 AM, Scott Mattocks wrote:
&gt; 
&gt;&gt; Hi Andrei,
&gt;&gt;
&gt;&gt; Andrei Zmievski wrote:
&gt;&gt;&gt; andrei        Fri Mar 10 05:26:45 2006 UTC
&gt;&gt;&gt;   Modified files:                  /php-gtk/generator    
&gt;&gt;&gt; generator.php override.php   Log:
&gt;&gt;&gt;   Allowing adding extra programmatic fields (properties).
&gt;&gt;
&gt;&gt; Can you explain this a little for me? Is this a compiling change or a 
&gt;&gt; userland change? Can I now say something like:
&gt;&gt;
&gt;&gt; $widget-&gt;new_property('andrei');
&gt;&gt; $widget-&gt;set_property('andrei', $value);
&gt;&gt;
&gt;&gt; or does this only have to do with overrides and generated code?
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; -- 
&gt;&gt; Scott Mattocks
&gt;&gt; http://www.crisscott.com
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 

-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060404070114</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-04 07:01:14-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test bug_gtkfilechooserbutton_actionselectfolder.p</subject><body>

Scott, I tried this and I didn't get any errors.. Can anyone else  
confirm?

-Andrei


On Mar 31, 2006, at 6:57 AM, Scott Mattocks wrote:

&gt; Scott Mattocks wrote:
&gt;&gt; scottmattocks		Fri Mar 31 14:52:46 2006 UTC
&gt;&gt;   Added files:                     /php-gtk/test	 
&gt;&gt; bug_gtkfilechooserbutton_actionselectfolder.phpw   Log:
&gt;&gt;   Gtk+ errors on GtkFileChooserButton construction with  
&gt;&gt; Gtk::FILE_CHOOSER_ACTION_SELECT_FOLDER action.
&gt;
&gt; When creating a GtkFileChooserButton with  
&gt; Gtk::FILE_CHOOSER_ACTION_SELECT_FOLDER, I get a bunch of Gtk- 
&gt; CRITICAL error messages. It talks about  
&gt; gtk_file_system_get_volume_for_path: path != null and some other  
&gt; assertions. It happens on construction so I don't have the chance  
&gt; to set the path.
&gt;
&gt; Thanks,
&gt; -- 
&gt; Scott Mattocks
&gt; Author of the soon to be published: Pro PHP-GTK
&gt; http://www.crisscott.com
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060404151630</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-04-04 15:16:30-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test bug_gtkfilechooserbutton_actionselectfolder.p</subject><body>

Andrei,

&gt; Scott, I tried this and I didn't get any errors.. Can anyone else confirm?

I tried it too and also don't get any errors.

Regards,
-- 
Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060404151813</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-04 15:18:13-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test bug_gtkfilechooserbutton_actionselectfolder.p</subject><body>

&gt; Andrei,
&gt;
&gt;&gt; Scott, I tried this and I didn't get any errors.. Can anyone else 
&gt;&gt; confirm?
&gt;
&gt; I tried it too and also don't get any errors.

Me too, but I have elderly source here and got a warning over a stock icon 
(it fell back to the non-existent default). Probably won't happen when I 
upgrade.

Scott, where are you running the script from? Is it on a separate drive or 
something? The only clue I could find when I dug around earlier was this:

/**
 * gtk_file_system_get_volume_for_path:
 * @file_system: a #GtkFileSystem
 * @path: a #GtkFilePath
 *
 * Queries the file system volume that corresponds to a specific path.
 * There might not be a volume for all paths (consider for instance remote
 * shared), so this can return NULL.
 *
 * Return value: the #GtkFileSystemVolume that corresponds to the specified
 * @path, or NULL if there is no such volume. You should free this value 
with
 * gtk_file_system_volume_free().
 **/

but if it's nothing to do with that I'm looking at the GtkFileSystemIface 
code and freaking out gently :-(

- Steph 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060404152844</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-04-04 15:28:44-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test bug_gtkfilechooserbutton_actionselectfolder.p</subject><body>

Steph Fox wrote:
&gt; 
&gt; Scott, where are you running the script from? Is it on a separate drive 
&gt; or something? The only clue I could find when I dug around earlier was 
&gt; this:

I told Fedora 4 to set everything up on its own and it created "logical 
volumes". I am not entirely sure what that means but I don't think it 
created real partitions like I am used to. That may have something to do 
with it. What other information can I give that will be helpful? I 
deleted and re-checkedout the source. So I know I am working with the 
absolute latest code. I couldn't find anything on any gtk mailing lists 
or other gtk wrapper mailing lists.

Thanks,
Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060404154110</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-04 15:41:10-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test bug_gtkfilechooserbutton_actionselectfolder.p</subject><body>

Yay, Linux head required!

/me is off the hook :)


&gt; Steph Fox wrote:
&gt;&gt; 
&gt;&gt; Scott, where are you running the script from? Is it on a separate drive 
&gt;&gt; or something? The only clue I could find when I dug around earlier was 
&gt;&gt; this:
&gt; 
&gt; I told Fedora 4 to set everything up on its own and it created "logical 
&gt; volumes". I am not entirely sure what that means but I don't think it 
&gt; created real partitions like I am used to. That may have something to do 
&gt; with it. What other information can I give that will be helpful? I 
&gt; deleted and re-checkedout the source. So I know I am working with the 
&gt; absolute latest code. I couldn't find anything on any gtk mailing lists 
&gt; or other gtk wrapper mailing lists.
&gt; 
&gt; Thanks,
&gt; Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060404155230</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-04-04 15:52:30-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test bug_gtkfilechooserbutton_actionselectfolder.p</subject><body>


&gt; Scott, I tried this and I didn't get any errors.. Can anyone else  confirm?
I get the errors.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060404155516</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-04 15:55:16-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test bug_gtkfilechooserbutton_actionselectfolder.p</subject><body>

Are you on a low-fat logical volume setup too by any chance?


----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, April 04, 2006 5:52 PM
Subject: Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test 
bug_gtkfilechooserbutton_actionselectfolder.phpw

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060404161631</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-04-04 16:16:31-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test bug_gtkfilechooserbutton_actionselectfolder.p</subject><body>

Steph Fox wrote:
&gt; I should've asked before, do you have the same problem with 
&gt; gtkfilechooserdialog? or with any of the other gtkfilechooseraction 
&gt; flags in either of those two widgets (button/dialog)?

I don't get the errors when I use Gtk::FILE_CHOOSER_ACTION_OPEN which is 
the only other legal action for GtkFileChooserButton. When I switch to 
GtkFileChooserDialog I get a new set of errors about setting a parent 
for a toplevel window. (I'll open another bug for that one after I 
confirm that I am not doing anything crazy) GtkFileChooserWidget starts 
up without any errors at all.

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060404164918</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-04-04 16:49:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test bug_gtkfilechooserbutton_actionselectfolder.p</subject><body>

Steph,

&gt; Are you on a low-fat logical volume setup too by any chance?
What is a "low-fat logical volume setup"?

I get 12 of the path != null messages, and the list shows 9 folders only
(8 + the "other..."). Perhaps it's due to the fact that I have 6 user
defined locations?

You could try that: Use the normal file chooser dialog and define some
own places. Then test the bug. I think that I get the path != null
message twice for every own location defined.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060404170601</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-04 17:06:01-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test bug_gtkfilechooserbutton_actionselectfolder.p</subject><body>

&gt; Are you on a low-fat logical volume setup too by any chance?
&gt; What is a "low-fat logical volume setup"?

One with no partitions. LVM. But having browsed the Interweb for the last 
hour or so, it looks now like I was on the wrong track there anyway.

&gt; I get 12 of the path != null messages, and the list shows 9 folders only
&gt; (8 + the "other..."). Perhaps it's due to the fact that I have 6 user
&gt; defined locations?

I don't know, Scott had a whole _four_ separate errors per location :)  What 
do you mean by user defined? Created from within the filechooserbutton 
widget?

&gt; You could try that: Use the normal file chooser dialog and define some
&gt; own places. Then test the bug. I think that I get the path != null
&gt; message twice for every own location defined.

Hm... I think if I have to try that hard to reproduce a bug it's probably a 
user problem...

No offence intended, I do realise it isn't - but more seriously, if I have 
to do something extreme to emulate Scott's crash on instantiation, how can 
we know if I'm actually producing the same problem or an unrelated one?

- Steph

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060404171023</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-04 17:10:23-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test bug_gtkfilechooserbutton_actionselectfolder.p</subject><body>

I don't think this is a PHP-GTK problem necessarily. Scott, can you  
try and convert your script to PyGtk and see if it does the same  
thing there?

-Andrei


On Apr 4, 2006, at 10:06 AM, Steph Fox wrote:

&gt;&gt; Are you on a low-fat logical volume setup too by any chance?
&gt;&gt; What is a "low-fat logical volume setup"?
&gt;
&gt; One with no partitions. LVM. But having browsed the Interweb for  
&gt; the last hour or so, it looks now like I was on the wrong track  
&gt; there anyway.
&gt;
&gt;&gt; I get 12 of the path != null messages, and the list shows 9  
&gt;&gt; folders only
&gt;&gt; (8 + the "other..."). Perhaps it's due to the fact that I have 6 user
&gt;&gt; defined locations?
&gt;
&gt; I don't know, Scott had a whole _four_ separate errors per  
&gt; location :)  What do you mean by user defined? Created from within  
&gt; the filechooserbutton widget?
&gt;
&gt;&gt; You could try that: Use the normal file chooser dialog and define  
&gt;&gt; some
&gt;&gt; own places. Then test the bug. I think that I get the path != null
&gt;&gt; message twice for every own location defined.
&gt;
&gt; Hm... I think if I have to try that hard to reproduce a bug it's  
&gt; probably a user problem...
&gt;
&gt; No offence intended, I do realise it isn't - but more seriously, if  
&gt; I have to do something extreme to emulate Scott's crash on  
&gt; instantiation, how can we know if I'm actually producing the same  
&gt; problem or an unrelated one?
&gt;
&gt; - Steph
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060404171255</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-04-04 17:12:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test bug_gtkfilechooserbutton_actionselectfolder.p</subject><body>

&gt; I don't know, Scott had a whole _four_ separate errors per location :) 
&gt; What do you mean by user defined? Created from within the
&gt; filechooserbutton widget?

Hey, that's right! I also have 4 errors per location.
That means it can't be the user defined locations (places bar in
windows; it's on the left and has add/remove buttons).

The only three connected folders are
Home/Desktop/Filesystem at the top, so they could be it.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060404172332</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-04 17:23:32-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test bug_gtkfilechooserbutton_actionselectfolder.p</subject><body>

Nor do I, that's why I'm trawling through GTK+ bug reports at present...

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "Christian Weiske" &lt;cweiske@cweiske.de&gt;; &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, April 04, 2006 7:10 PM
Subject: Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test 
bug_gtkfilechooserbutton_actionselectfolder.phpw


&gt;I don't think this is a PHP-GTK problem necessarily. Scott, can you  try 
&gt;and convert your script to PyGtk and see if it does the same  thing there?
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Apr 4, 2006, at 10:06 AM, Steph Fox wrote:
&gt;
&gt;&gt;&gt; Are you on a low-fat logical volume setup too by any chance?
&gt;&gt;&gt; What is a "low-fat logical volume setup"?
&gt;&gt;
&gt;&gt; One with no partitions. LVM. But having browsed the Interweb for  the 
&gt;&gt; last hour or so, it looks now like I was on the wrong track  there 
&gt;&gt; anyway.
&gt;&gt;
&gt;&gt;&gt; I get 12 of the path != null messages, and the list shows 9  folders 
&gt;&gt;&gt; only
&gt;&gt;&gt; (8 + the "other..."). Perhaps it's due to the fact that I have 6 user
&gt;&gt;&gt; defined locations?
&gt;&gt;
&gt;&gt; I don't know, Scott had a whole _four_ separate errors per  location :) 
&gt;&gt; What do you mean by user defined? Created from within  the 
&gt;&gt; filechooserbutton widget?
&gt;&gt;
&gt;&gt;&gt; You could try that: Use the normal file chooser dialog and define  some
&gt;&gt;&gt; own places. Then test the bug. I think that I get the path != null
&gt;&gt;&gt; message twice for every own location defined.
&gt;&gt;
&gt;&gt; Hm... I think if I have to try that hard to reproduce a bug it's 
&gt;&gt; probably a user problem...
&gt;&gt;
&gt;&gt; No offence intended, I do realise it isn't - but more seriously, if  I 
&gt;&gt; have to do something extreme to emulate Scott's crash on  instantiation, 
&gt;&gt; how can we know if I'm actually producing the same  problem or an 
&gt;&gt; unrelated one?
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060404172553</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-04-04 17:25:53-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test bug_gtkfilechooserbutton_actionselectfolder.p</subject><body>

Andrei Zmievski wrote:
&gt; I don't think this is a PHP-GTK problem necessarily. Scott, can you try 
&gt; and convert your script to PyGtk and see if it does the same thing there?

The attached script (a rip off of the PyGtk Hello World example) runs 
without errors for me. It is slightly different however because PyGtk 
doesn't allow you to pass the action on construction.

I will try to recreate the errors with straight Gtk+ but my c skills are 
about as good as my Python skills.

Scott

["pytest.py.txt" (text/plain)]

#!/usr/bin/env python

# example helloworld.py

import pygtk
pygtk.require('2.0')
import gtk

class HelloWorld:

    # This is a callback function. The data arguments are ignored
    # in this example. More on callbacks below.
    def hello(self, widget, data=None):
        print "Hello World"

    def delete_event(self, widget, event, data=None):
        # If you return FALSE in the "delete_event" signal handler,
        # GTK will emit the "destroy" signal. Returning TRUE means
        # you don't want the window to be destroyed.
        # This is useful for popping up 'are you sure you want to quit?'
        # type dialogs.
        print "delete event occurred"

        # Change FALSE to TRUE and the main window will not be destroyed
        # with a "delete_event".
        return False

    def destroy(self, widget, data=None):
        print "destroy signal occurred"
        gtk.main_quit()

    def __init__(self):
        # create a new window
        self.window = gtk.Window(gtk.WINDOW_TOPLEVEL)
    
        # When the window is given the "delete_event" signal (this is given
        # by the window manager, usually by the "close" option, or on the
        # titlebar), we ask it to call the delete_event () function
        # as defined above. The data passed to the callback
        # function is NULL and is ignored in the callback function.
        self.window.connect("delete_event", self.delete_event)
    
        # Here we connect the "destroy" event to a signal handler.  
        # This event occurs when we call gtk_widget_destroy() on the window,
        # or if we return FALSE in the "delete_event" callback.
        self.window.connect("destroy", self.destroy)
    
        # Sets the border width of the window.
        self.window.set_border_width(10)
    
        # Creates a new button with the label "Hello World".
        self.button = gtk.FileChooserButton("Hello World")
		#
        self.button.set_action(gtk.FILE_CHOOSER_ACTION_SELECT_FOLDER)
    
        # When the button receives the "clicked" signal, it will call the
        # function hello() passing it None as its argument.  The hello()
        # function is defined above.
        #self.button.connect("clicked", self.hello, None)
    
        # This will cause the window to be destroyed by calling
        # gtk_widget_destroy(window) when "clicked".  Again, the destroy
        # signal could come from here, or the window manager.
        #self.button.connect_object("clicked", gtk.Widget.destroy, self.window)
    
        # This packs the button into the window (a GTK container).
        self.window.add(self.button)
    
        # The final step is to display this newly created widget.
        self.button.show()
    
        # and the window
        self.window.show()

    def main(self):
        # All PyGTK applications must have a gtk.main(). Control ends here
        # and waits for an event to occur (like a key press or mouse event).
        gtk.main()

# If the program is run directly or passed as an argument to the python
# interpreter then create a HelloWorld instance and show it
if __name__ == "__main__":
    hello = HelloWorld()
    hello.main()



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060404173402</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-04-04 17:34:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test bug_gtkfilechooserbutton_actionselectfolder.p</subject><body>

No problem with C either.

Scott Mattocks wrote:
&gt; Andrei Zmievski wrote:
&gt;&gt; I don't think this is a PHP-GTK problem necessarily. Scott, can you 
&gt;&gt; try and convert your script to PyGtk and see if it does the same thing 
&gt;&gt; there?
&gt; 
&gt; The attached script (a rip off of the PyGtk Hello World example) runs 
&gt; without errors for me. It is slightly different however because PyGtk 
&gt; doesn't allow you to pass the action on construction.
&gt; 
&gt; I will try to recreate the errors with straight Gtk+ but my c skills are 
&gt; about as good as my Python skills.
&gt; 
&gt; Scott
&gt; 
&gt; 
&gt; ------------------------------------------------------------------------
&gt; 
&gt; #!/usr/bin/env python
&gt; 
&gt; # example helloworld.py
&gt; 
&gt; import pygtk
&gt; pygtk.require('2.0')
&gt; import gtk
&gt; 
&gt; class HelloWorld:
&gt; 
&gt;     # This is a callback function. The data arguments are ignored
&gt;     # in this example. More on callbacks below.
&gt;     def hello(self, widget, data=None):
&gt;         print "Hello World"
&gt; 
&gt;     def delete_event(self, widget, event, data=None):
&gt;         # If you return FALSE in the "delete_event" signal handler,
&gt;         # GTK will emit the "destroy" signal. Returning TRUE means
&gt;         # you don't want the window to be destroyed.
&gt;         # This is useful for popping up 'are you sure you want to quit?'
&gt;         # type dialogs.
&gt;         print "delete event occurred"
&gt; 
&gt;         # Change FALSE to TRUE and the main window will not be destroyed
&gt;         # with a "delete_event".
&gt;         return False
&gt; 
&gt;     def destroy(self, widget, data=None):
&gt;         print "destroy signal occurred"
&gt;         gtk.main_quit()
&gt; 
&gt;     def __init__(self):
&gt;         # create a new window
&gt;         self.window = gtk.Window(gtk.WINDOW_TOPLEVEL)
&gt;     
&gt;         # When the window is given the "delete_event" signal (this is given
&gt;         # by the window manager, usually by the "close" option, or on the
&gt;         # titlebar), we ask it to call the delete_event () function
&gt;         # as defined above. The data passed to the callback
&gt;         # function is NULL and is ignored in the callback function.
&gt;         self.window.connect("delete_event", self.delete_event)
&gt;     
&gt;         # Here we connect the "destroy" event to a signal handler.  
&gt;         # This event occurs when we call gtk_widget_destroy() on the window,
&gt;         # or if we return FALSE in the "delete_event" callback.
&gt;         self.window.connect("destroy", self.destroy)
&gt;     
&gt;         # Sets the border width of the window.
&gt;         self.window.set_border_width(10)
&gt;     
&gt;         # Creates a new button with the label "Hello World".
&gt;         self.button = gtk.FileChooserButton("Hello World")
&gt; 		#
&gt;         self.button.set_action(gtk.FILE_CHOOSER_ACTION_SELECT_FOLDER)
&gt;     
&gt;         # When the button receives the "clicked" signal, it will call the
&gt;         # function hello() passing it None as its argument.  The hello()
&gt;         # function is defined above.
&gt;         #self.button.connect("clicked", self.hello, None)
&gt;     
&gt;         # This will cause the window to be destroyed by calling
&gt;         # gtk_widget_destroy(window) when "clicked".  Again, the destroy
&gt;         # signal could come from here, or the window manager.
&gt;         #self.button.connect_object("clicked", gtk.Widget.destroy, self.window)
&gt;     
&gt;         # This packs the button into the window (a GTK container).
&gt;         self.window.add(self.button)
&gt;     
&gt;         # The final step is to display this newly created widget.
&gt;         self.button.show()
&gt;     
&gt;         # and the window
&gt;         self.window.show()
&gt; 
&gt;     def main(self):
&gt;         # All PyGTK applications must have a gtk.main(). Control ends here
&gt;         # and waits for an event to occur (like a key press or mouse event).
&gt;         gtk.main()
&gt; 
&gt; # If the program is run directly or passed as an argument to the python
&gt; # interpreter then create a HelloWorld instance and show it
&gt; if __name__ == "__main__":
&gt;     hello = HelloWorld()
&gt;     hello.main()
&gt; 
&gt; 

-- 
Scott Mattocks
Author of the soon to be published: Pro PHP-GTK
http://www.crisscott.com

["gtktext.c.txt" (text/plain)]

#include &lt;gtk/gtk.h&gt;

static gboolean delete_event( GtkWidget *widget,
                              GdkEvent  *event,
                              gpointer   data )
{
    return FALSE;
}

static void destroy( GtkWidget *widget,
                     gpointer   data )
{
    gtk_main_quit ();
}

int main( int   argc,
          char *argv[] )
{
    GtkWidget *window;
    GtkWidget *button;
    
    gtk_init (&amp;argc, &amp;argv);
    
    window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
    
    g_signal_connect (G_OBJECT (window), "delete_event",
		      G_CALLBACK (delete_event), NULL);
    
    g_signal_connect (G_OBJECT (window), "destroy",
		      G_CALLBACK (destroy), NULL);
    
    gtk_container_set_border_width (GTK_CONTAINER (window), 10);
    
    button = gtk_file_chooser_button_new ("Hello World", GTK_FILE_CHOOSER_ACTION_SELECT_FOLDER);
    
    gtk_container_add (GTK_CONTAINER (window), button);
    
    gtk_widget_show (button);
    
    gtk_widget_show (window);
    
    gtk_main ();
    
    return 0;
}



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060404175002</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-04 17:50:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test bug_gtkfilechooserbutton_actionselectfolder.p</subject><body>

weird, I can't find anything in bugzilla either that smells right.

I managed to find my icon warning though :) 
http://bugzilla.gnome.org/show_bug.cgi?id=149931


----- Original Message ----- 
From: "Scott Mattocks" &lt;scott@crisscott.com&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, April 04, 2006 7:34 PM
Subject: Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test 
bug_gtkfilechooserbutton_actionselectfolder.phpw


&gt; No problem with C either.
&gt;
&gt; Scott Mattocks wrote:
&gt;&gt; Andrei Zmievski wrote:
&gt;&gt;&gt; I don't think this is a PHP-GTK problem necessarily. Scott, can you
&gt;&gt;&gt; try and convert your script to PyGtk and see if it does the same thing
&gt;&gt;&gt; there?
&gt;&gt;
&gt;&gt; The attached script (a rip off of the PyGtk Hello World example) runs
&gt;&gt; without errors for me. It is slightly different however because PyGtk
&gt;&gt; doesn't allow you to pass the action on construction.
&gt;&gt;
&gt;&gt; I will try to recreate the errors with straight Gtk+ but my c skills are
&gt;&gt; about as good as my Python skills.
&gt;&gt;
&gt;&gt; Scott
&gt;&gt;
&gt;&gt;
&gt;&gt; ------------------------------------------------------------------------
&gt;&gt;
&gt;&gt; #!/usr/bin/env python
&gt;&gt;
&gt;&gt; # example helloworld.py
&gt;&gt;
&gt;&gt; import pygtk
&gt;&gt; pygtk.require('2.0')
&gt;&gt; import gtk
&gt;&gt;
&gt;&gt; class HelloWorld:
&gt;&gt;
&gt;&gt;     # This is a callback function. The data arguments are ignored
&gt;&gt;     # in this example. More on callbacks below.
&gt;&gt;     def hello(self, widget, data=None):
&gt;&gt;         print "Hello World"
&gt;&gt;
&gt;&gt;     def delete_event(self, widget, event, data=None):
&gt;&gt;         # If you return FALSE in the "delete_event" signal handler,
&gt;&gt;         # GTK will emit the "destroy" signal. Returning TRUE means
&gt;&gt;         # you don't want the window to be destroyed.
&gt;&gt;         # This is useful for popping up 'are you sure you want to quit?'
&gt;&gt;         # type dialogs.
&gt;&gt;         print "delete event occurred"
&gt;&gt;
&gt;&gt;         # Change FALSE to TRUE and the main window will not be destroyed
&gt;&gt;         # with a "delete_event".
&gt;&gt;         return False
&gt;&gt;
&gt;&gt;     def destroy(self, widget, data=None):
&gt;&gt;         print "destroy signal occurred"
&gt;&gt;         gtk.main_quit()
&gt;&gt;
&gt;&gt;     def __init__(self):
&gt;&gt;         # create a new window
&gt;&gt;         self.window = gtk.Window(gtk.WINDOW_TOPLEVEL)
&gt;&gt;
&gt;&gt;         # When the window is given the "delete_event" signal (this is 
&gt;&gt; given
&gt;&gt;         # by the window manager, usually by the "close" option, or on the
&gt;&gt;         # titlebar), we ask it to call the delete_event () function
&gt;&gt;         # as defined above. The data passed to the callback
&gt;&gt;         # function is NULL and is ignored in the callback function.
&gt;&gt;         self.window.connect("delete_event", self.delete_event)
&gt;&gt;
&gt;&gt;         # Here we connect the "destroy" event to a signal handler.
&gt;&gt;         # This event occurs when we call gtk_widget_destroy() on the 
&gt;&gt; window,
&gt;&gt;         # or if we return FALSE in the "delete_event" callback.
&gt;&gt;         self.window.connect("destroy", self.destroy)
&gt;&gt;
&gt;&gt;         # Sets the border width of the window.
&gt;&gt;         self.window.set_border_width(10)
&gt;&gt;
&gt;&gt;         # Creates a new button with the label "Hello World".
&gt;&gt;         self.button = gtk.FileChooserButton("Hello World")
&gt;&gt; #
&gt;&gt;         self.button.set_action(gtk.FILE_CHOOSER_ACTION_SELECT_FOLDER)
&gt;&gt;
&gt;&gt;         # When the button receives the "clicked" signal, it will call the
&gt;&gt;         # function hello() passing it None as its argument.  The hello()
&gt;&gt;         # function is defined above.
&gt;&gt;         #self.button.connect("clicked", self.hello, None)
&gt;&gt;
&gt;&gt;         # This will cause the window to be destroyed by calling
&gt;&gt;         # gtk_widget_destroy(window) when "clicked".  Again, the destroy
&gt;&gt;         # signal could come from here, or the window manager.
&gt;&gt;         #self.button.connect_object("clicked", gtk.Widget.destroy, 
&gt;&gt; self.window)
&gt;&gt;
&gt;&gt;         # This packs the button into the window (a GTK container).
&gt;&gt;         self.window.add(self.button)
&gt;&gt;
&gt;&gt;         # The final step is to display this newly created widget.
&gt;&gt;         self.button.show()
&gt;&gt;
&gt;&gt;         # and the window
&gt;&gt;         self.window.show()
&gt;&gt;
&gt;&gt;     def main(self):
&gt;&gt;         # All PyGTK applications must have a gtk.main(). Control ends 
&gt;&gt; here
&gt;&gt;         # and waits for an event to occur (like a key press or mouse 
&gt;&gt; event).
&gt;&gt;         gtk.main()
&gt;&gt;
&gt;&gt; # If the program is run directly or passed as an argument to the python
&gt;&gt; # interpreter then create a HelloWorld instance and show it
&gt;&gt; if __name__ == "__main__":
&gt;&gt;     hello = HelloWorld()
&gt;&gt;     hello.main()
&gt;&gt;
&gt;&gt;
&gt;
&gt; -- 
&gt; Scott Mattocks
&gt; Author of the soon to be published: Pro PHP-GTK
&gt; http://www.crisscott.com
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt;


--------------------------------------------------------------------------------


&gt; #include &lt;gtk/gtk.h&gt;
&gt;
&gt; static gboolean delete_event( GtkWidget *widget,
&gt;                              GdkEvent  *event,
&gt;                              gpointer   data )
&gt; {
&gt;    return FALSE;
&gt; }
&gt;
&gt; static void destroy( GtkWidget *widget,
&gt;                     gpointer   data )
&gt; {
&gt;    gtk_main_quit ();
&gt; }
&gt;
&gt; int main( int   argc,
&gt;          char *argv[] )
&gt; {
&gt;    GtkWidget *window;
&gt;    GtkWidget *button;
&gt;
&gt;    gtk_init (&amp;argc, &amp;argv);
&gt;
&gt;    window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
&gt;
&gt;    g_signal_connect (G_OBJECT (window), "delete_event",
&gt;       G_CALLBACK (delete_event), NULL);
&gt;
&gt;    g_signal_connect (G_OBJECT (window), "destroy",
&gt;       G_CALLBACK (destroy), NULL);
&gt;
&gt;    gtk_container_set_border_width (GTK_CONTAINER (window), 10);
&gt;
&gt;    button = gtk_file_chooser_button_new ("Hello World", 
&gt; GTK_FILE_CHOOSER_ACTION_SELECT_FOLDER);
&gt;
&gt;    gtk_container_add (GTK_CONTAINER (window), button);
&gt;
&gt;    gtk_widget_show (button);
&gt;
&gt;    gtk_widget_show (window);
&gt;
&gt;    gtk_main ();
&gt;
&gt;    return 0;
&gt; }
&gt;
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt;


--------------------------------------------------------------------------------


&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060405115933</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-05 11:59:33-0400</timestampReceived><subject>Fw: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test bug_gtkfilechooserbutton_actionselectfolder.p</subject><body>

Hi Scott,

Some attempt at diagnostics.

All your errors are stemming from a single function in 
gtkfilechooserbutton.c:

update_label_and_image (GtkFileChooserButton *button) { // skipping some 
code
  priv = GTK_FILE_CHOOSER_BUTTON_GET_PRIVATE (button);
  paths = _gtk_file_chooser_get_paths (GTK_FILE_CHOOSER 
(button-&gt;priv-&gt;dialog));

'paths' at this point is a GSList representing _all_ the selected files in 
the current directory. It's defined at this stage as the highly experimental 
and unstable OO face of the interface:  GTK_FILE_CHOOSER_GET_IFACE 
(chooser)-&gt;get_paths (chooser);

Now on my box this works, if slowly; - by 'selected' I _believe_ they mean 
'in the combobox list at all', but as far as I can see it should only open 
initially with one selected item, and that one should represent the current 
directory (aka whereever your php is running).

  if (paths) { // you get through this part okay and into this block, so 
'paths' DOES exist - but as what?
      GtkFilePath *path, *parent_path;
      GtkFileSystemVolume *volume;
      GtkFileFolder *folder;

      path = paths-&gt;data;   /*     struct _GSList {
                                              gpointer data;
                                              GSList *next;
                                            };
                                      */
      volume = gtk_file_system_get_volume_for_path (priv-&gt;fs, path);
/* This returns your first 'no path' error, and also prevents 'volume' from 
being populated, which in turn prevents base_path from being filled. So 
because this call failed, there's no data to label anything with... or to 
pix up pixmaps for. */
 }
} // skipping even more code

There are no checks for either path or volume throughout the rest of the 
function that would prevent further errors, so you get an error in every 
block you can actually reach. So the next question is - where's it called 
from?

GTK does this mapping thing to ensure inheritance:

gtk_file_chooser_button_class_init (GtkFileChooserButtonClass * class) {  // 
skip loads of stuff here
  gobject_class-&gt;set_property = gtk_file_chooser_button_set_property; 
// this is the important bit

  g_object_class_install_property (gobject_class, PROP_DIALOG, // skip LOTS 
of code to reach this
       g_param_spec_object ("dialog", 
// This is new in the code base
       P_("Dialog"), 
// "since 2.6" (it says in the src)
       P_("The file chooser dialog to use."), 
// QUESTION: is it missing from your copy?
       GTK_TYPE_FILE_CHOOSER_DIALOG,
       (G_PARAM_WRITABLE |
        G_PARAM_CONSTRUCT_ONLY)));  // skip lots more
} // end of class init function

gtk_file_chooser_button_init (GtkFileChooserButton *button) { // the class 
instance is drawn a little later
... 
// but this might have no significance
} 
// (the combo is drawn directly to private)

gtk_file_chooser_button_set_property (GObject      *object,
          guint         param_id,
          const GValue *value,
          GParamSpec   *pspec) {

  switch (param_id) { // skip a bit more code
    g_object_set_property (G_OBJECT (priv-&gt;dialog), pspec-&gt;name, value); // 
The dialog was set
    update_label_and_image (GTK_FILE_CHOOSER_BUTTON (object));    // &amp; our 
dodgy function called.

    switch (g_value_get_enum (value)) {
        case GTK_FILE_CHOOSER_ACTION_SELECT_FOLDER:
             gtk_widget_hide (priv-&gt;button);
             gtk_widget_show (priv-&gt;combo_box);
            break;
      }
    case PROP_TITLE:
       g_object_set_property (G_OBJECT (priv-&gt;dialog), pspec-&gt;name, value); 
// Title is set very late?
    break;
    case GTK_FILE_CHOOSER_PROP_FILE_SYSTEM_BACKEND:            // and so is 
backend
      /* Construct-only */
      priv-&gt;backend = g_value_dup_string (value);
    break;
}

It'd be nice to be able to view that alleged GtkFileChooserDialog, but it's 
buried deep in privacy (and style helpers, but we won't go there). There's 
some reason to believe its typing hasn't always been reliable, so if you 
could confirm you have g_object_class_install_property() defined for the 
file chooser dialog in your copy of the source it'd be good. The struct for 
GtkFileChooserButton simply refers to it as a GtkWidget, because it needs to 
be cast as a GtkFileChooser at several points throughout the code.

Some high-level debugging might be helpful too, e.g. are there any signals 
emitted prior to the death of the app? Particularly 'response', or 
'current-folder-changed', or 'selection-changed'? Which directory does PHP 
think you're in when you're calling show()?

I _think_ we'll probably need to override the constructor to ensure that we 
always create a GtkFileChooserButton with a GtkFileChooserDialog in it, or 
else we need to somehow make sure a path is actually registered with the 
dialog in some way. But I don't actually know for sure yet.

BTW please don't bug it if you're trying to put a GtkFileChooserDialog in a 
GtkWindow - it's a close relative.

- Steph

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060405151949</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-04-05 15:19:49-0400</timestampReceived><subject>Re: Fw: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test bug_gtkfilechooserbutton_actionselectfold</subject><body>

Steph Fox wrote:
&gt; 
&gt; It'd be nice to be able to view that alleged GtkFileChooserDialog, but 
&gt; it's buried deep in privacy (and style helpers, but we won't go there). 
&gt; There's some reason to believe its typing hasn't always been reliable, 
&gt; so if you could confirm you have g_object_class_install_property() 
&gt; defined for the file chooser dialog in your copy of the source it'd be 
&gt; good. 

I have exactly the same call to g_object_class_install_property that you 
have.

&gt; 
&gt; Some high-level debugging might be helpful too, e.g. are there any 
&gt; signals emitted prior to the death of the app? Particularly 'response', 
&gt; or 'current-folder-changed', or 'selection-changed'? Which directory 
&gt; does PHP think you're in when you're calling show()?

Attached is the output of a modified version of the bug script. First I 
cat'd the script then ran it. The only signals emitted are notify, show 
and destroy. I thought the errors were only on construction but they 
appear on construction, when the button is added to the window, and 
twice after the main loop stops.

Thanks,
Scott

["bug_filechooserbutton.txt" (text/plain)]

Script started on Wed 05 Apr 2006 11:18:34 AM EDT
]0;scott@smattocks:~/playground/php-gtk/test[smattocks [32m11:18 AM \
[33mtest[0m]$ cat bug_gtkgfi[K[K[Kg[Kfilechooserbutton_actionselectfolder.phpw
 &lt;?php
function debug($func)
{
	echo 'Callback: ' . $func . "\n";
}

// Create a window.
$window = new GtkWindow();
// Set it up to close cleanly.
$window-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));

// Create a GtkFileChooserButton. Errors occur here.
echo "\n--- CONSTRUCTOR ---\n";
$file = new GtkFileChooserButton('Test',
                                 Gtk::FILE_CHOOSER_ACTION_SELECT_FOLDER
                                 );
echo "\n--- END CONSTRUCTOR ---\n";

// Connect some signals.
echo "\n--- CONNECT ---\n";
$file-&gt;connect_simple('current-folder-changed', 'debug', 'current-folder-changed');
$file-&gt;connect_simple('file-activated',         'debug', 'file-activated');
$file-&gt;connect_simple('selection-changed',      'debug', 'selection-changed');
$file-&gt;connect_simple('update-preview',         'debug', 'update-preview');
$file-&gt;connect_simple('notify',                 'debug', 'notify');
$file-&gt;connect_simple('show',                   'debug', 'show');
$file-&gt;connect_simple('response',               'debug', 'response');
$file-&gt;connect_simple('destroy',                'debug', 'destroy');
echo "\n--- END CONNECT ---\n";

// Add the button to the window.
echo "\n--- ADD ---\n";
$window-&gt;add($file);
echo "\n--- END ADD ---\n";

// Show everything and start the loop.
echo "\n--- SHOW ---\n";
echo 'CWD: ' . getcwd() . "\n";
$window-&gt;show_all();
echo "\n--- END SHOW ---\n";

echo "\n--- MAIN ---\n";
Gtk::main();
echo "\n--- END MAIN ---\n";
?&gt;
]0;scott@smattocks:~/playground/php-gtk/test[smattocks [32m11:18 AM \
[33mtest[0m]$ [Kphp bug_gtkfilechooserbutton_actionselectfolder.phpw

--- CONSTRUCTOR ---

(bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: \
gtk_file_system_get_volume_for_path: assertion `path != NULL' failed

(bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: \
gtk_file_system_render_icon: assertion `path != NULL' failed

(bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: \
gtk_file_system_get_parent: assertion `path != NULL' failed

(bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: \
gtk_file_system_get_folder: assertion `path != NULL' failed

--- END CONSTRUCTOR ---

--- CONNECT ---

Warning: connect_simple(): unknown signal name 'response' in \
/home/scott/playground/php-gtk/test/bug_gtkfilechooserbutton_actionselectfolder.phpw \
on line 27

--- END CONNECT ---

--- ADD ---

(bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: \
gtk_file_system_get_volume_for_path: assertion `path != NULL' failed

(bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: \
gtk_file_system_render_icon: assertion `path != NULL' failed

(bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: \
gtk_file_system_get_parent: assertion `path != NULL' failed

(bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: \
                gtk_file_system_get_folder: assertion `path != NULL' failed
Callback: notify

--- END ADD ---

--- SHOW ---
CWD: /home/scott/playground/php-gtk/test
Callback: show
Callback: notify

(bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: \
gtk_file_system_get_volume_for_path: assertion `path != NULL' failed

(bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: \
gtk_file_system_render_icon: assertion `path != NULL' failed

(bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: \
gtk_file_system_get_parent: assertion `path != NULL' failed

(bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: \
                gtk_file_system_get_folder: assertion `path != NULL' failed
Callback: notify

--- END SHOW ---

--- MAIN ---

(bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: \
gtk_file_system_get_volume_for_path: assertion `path != NULL' failed

(bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: \
gtk_file_system_render_icon: assertion `path != NULL' failed

(bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: \
gtk_file_system_get_parent: assertion `path != NULL' failed

(bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: \
                gtk_file_system_get_folder: assertion `path != NULL' failed
Callback: notify

(bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: \
gtk_file_system_get_volume_for_path: assertion `path != NULL' failed

(bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: \
gtk_file_system_render_icon: assertion `path != NULL' failed

(bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: \
gtk_file_system_get_parent: assertion `path != NULL' failed

(bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: \
                gtk_file_system_get_folder: assertion `path != NULL' failed
Callback: notify
Callback: destroy

--- END MAIN ---
]0;scott@smattocks:~/playground/php-gtk/test[smattocks [32m11:18 AM \
[33mtest[0m]$ [Kesxi[K[K[Kxit exit

Script done on Wed 05 Apr 2006 11:18:52 AM EDT



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060405171428</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-05 17:14:28-0400</timestampReceived><subject>Re: Fw: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test bug_gtkfilechooserbutton_actionselectfold</subject><body>

Thanks for that Scott, it's helpful.

It just came to me in a blinding flash of light that the only thing I'm 
getting and you're not is that wretched filepath. I'm missing a title and - 
on the first run through - I'm also missing icon data. That arrives the 
second time I reach that function for me though, i.e. it _becomes_ 
populated. But I get the warning because I don't have an icon on the first 
pass, and I also don't have the fallback option (a GTK theme) installed.

OK, I'll fix it over the weekend. It needs thinking about though, it's not 
straightforward like most of the widgets, thanks to the interface structure 
and the fact that it was only half-created in GTK 2.6. It'll probably be a 
lot better if we ever get around to upgrading :)

I just realized what you were saying about GtkFileChooserDialog constructor 
too - we need to remove the parent parameter from there, it doesn't actually 
have one (at PHP-GTK level).

When I'm saying 'I'll fix it', I'm going on the basis that the 
GtkFileChooserDialog works for you, give or take the parent thing - is that 
correct? (and also on the basis that GTK will allow me to add one, at this 
stage).

As a side-note, the notify callback in GTK source appears to do nothing... 
but the useful thing to come of your debugging exercise is that it can't be 
anything _but_ the existing private GtkFileChooserDialog emitting it.

- Steph

----- Original Message ----- 
From: "Scott Mattocks" &lt;scott@crisscott.com&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Wednesday, April 05, 2006 5:19 PM
Subject: Re: Fw: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test 
bug_gtkfilechooserbutton_actionselectfolder.phpw


&gt; Steph Fox wrote:
&gt;&gt;
&gt;&gt; It'd be nice to be able to view that alleged GtkFileChooserDialog, but
&gt;&gt; it's buried deep in privacy (and style helpers, but we won't go there).
&gt;&gt; There's some reason to believe its typing hasn't always been reliable,
&gt;&gt; so if you could confirm you have g_object_class_install_property()
&gt;&gt; defined for the file chooser dialog in your copy of the source it'd be
&gt;&gt; good.
&gt;
&gt; I have exactly the same call to g_object_class_install_property that you
&gt; have.
&gt;
&gt;&gt;
&gt;&gt; Some high-level debugging might be helpful too, e.g. are there any
&gt;&gt; signals emitted prior to the death of the app? Particularly 'response',
&gt;&gt; or 'current-folder-changed', or 'selection-changed'? Which directory
&gt;&gt; does PHP think you're in when you're calling show()?
&gt;
&gt; Attached is the output of a modified version of the bug script. First I
&gt; cat'd the script then ran it. The only signals emitted are notify, show
&gt; and destroy. I thought the errors were only on construction but they
&gt; appear on construction, when the button is added to the window, and
&gt; twice after the main loop stops.
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt;


--------------------------------------------------------------------------------


&gt; Script started on Wed 05 Apr 2006 11:18:34 AM EDT
&gt; ]0;scott@smattocks:~/playground/php-gtk/test[smattocks [32m11:18 AM 
&gt; [33mtest[0m]$ cat 
&gt; bug_gtkgfi[K[K[Kg[Kfilechooserbutton_actionselectfolder.phpw
&gt; &lt;?php
&gt; function debug($func)
&gt; {
&gt; echo 'Callback: ' . $func . "\n";
&gt; }
&gt;
&gt; // Create a window.
&gt; $window = new GtkWindow();
&gt; // Set it up to close cleanly.
&gt; $window-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));
&gt;
&gt; // Create a GtkFileChooserButton. Errors occur here.
&gt; echo "\n--- CONSTRUCTOR ---\n";
&gt; $file = new GtkFileChooserButton('Test',
&gt;                                 Gtk::FILE_CHOOSER_ACTION_SELECT_FOLDER
&gt;                                 );
&gt; echo "\n--- END CONSTRUCTOR ---\n";
&gt;
&gt; // Connect some signals.
&gt; echo "\n--- CONNECT ---\n";
&gt; $file-&gt;connect_simple('current-folder-changed', 'debug', 
&gt; 'current-folder-changed');
&gt; $file-&gt;connect_simple('file-activated',         'debug', 
&gt; 'file-activated');
&gt; $file-&gt;connect_simple('selection-changed',      'debug', 
&gt; 'selection-changed');
&gt; $file-&gt;connect_simple('update-preview',         'debug', 
&gt; 'update-preview');
&gt; $file-&gt;connect_simple('notify',                 'debug', 'notify');
&gt; $file-&gt;connect_simple('show',                   'debug', 'show');
&gt; $file-&gt;connect_simple('response',               'debug', 'response');
&gt; $file-&gt;connect_simple('destroy',                'debug', 'destroy');
&gt; echo "\n--- END CONNECT ---\n";
&gt;
&gt; // Add the button to the window.
&gt; echo "\n--- ADD ---\n";
&gt; $window-&gt;add($file);
&gt; echo "\n--- END ADD ---\n";
&gt;
&gt; // Show everything and start the loop.
&gt; echo "\n--- SHOW ---\n";
&gt; echo 'CWD: ' . getcwd() . "\n";
&gt; $window-&gt;show_all();
&gt; echo "\n--- END SHOW ---\n";
&gt;
&gt; echo "\n--- MAIN ---\n";
&gt; Gtk::main();
&gt; echo "\n--- END MAIN ---\n";
&gt; ?&gt;
&gt; ]0;scott@smattocks:~/playground/php-gtk/test[smattocks [32m11:18 AM 
&gt; [33mtest[0m]$ [Kphp bug_gtkfilechooserbutton_actionselectfolder.phpw
&gt;
&gt; --- CONSTRUCTOR ---
&gt;
&gt; (bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: 
&gt; gtk_file_system_get_volume_for_path: assertion `path != NULL' failed
&gt;
&gt; (bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: 
&gt; gtk_file_system_render_icon: assertion `path != NULL' failed
&gt;
&gt; (bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: 
&gt; gtk_file_system_get_parent: assertion `path != NULL' failed
&gt;
&gt; (bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: 
&gt; gtk_file_system_get_folder: assertion `path != NULL' failed
&gt;
&gt; --- END CONSTRUCTOR ---
&gt;
&gt; --- CONNECT ---
&gt;
&gt; Warning: connect_simple(): unknown signal name 'response' in 
&gt; /home/scott/playground/php-gtk/test/bug_gtkfilechooserbutton_actionselectfolder.phpw 
&gt; on line 27
&gt;
&gt; --- END CONNECT ---
&gt;
&gt; --- ADD ---
&gt;
&gt; (bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: 
&gt; gtk_file_system_get_volume_for_path: assertion `path != NULL' failed
&gt;
&gt; (bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: 
&gt; gtk_file_system_render_icon: assertion `path != NULL' failed
&gt;
&gt; (bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: 
&gt; gtk_file_system_get_parent: assertion `path != NULL' failed
&gt;
&gt; (bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: 
&gt; gtk_file_system_get_folder: assertion `path != NULL' failed
&gt; Callback: notify
&gt;
&gt; --- END ADD ---
&gt;
&gt; --- SHOW ---
&gt; CWD: /home/scott/playground/php-gtk/test
&gt; Callback: show
&gt; Callback: notify
&gt;
&gt; (bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: 
&gt; gtk_file_system_get_volume_for_path: assertion `path != NULL' failed
&gt;
&gt; (bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: 
&gt; gtk_file_system_render_icon: assertion `path != NULL' failed
&gt;
&gt; (bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: 
&gt; gtk_file_system_get_parent: assertion `path != NULL' failed
&gt;
&gt; (bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: 
&gt; gtk_file_system_get_folder: assertion `path != NULL' failed
&gt; Callback: notify
&gt;
&gt; --- END SHOW ---
&gt;
&gt; --- MAIN ---
&gt;
&gt; (bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: 
&gt; gtk_file_system_get_volume_for_path: assertion `path != NULL' failed
&gt;
&gt; (bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: 
&gt; gtk_file_system_render_icon: assertion `path != NULL' failed
&gt;
&gt; (bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: 
&gt; gtk_file_system_get_parent: assertion `path != NULL' failed
&gt;
&gt; (bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: 
&gt; gtk_file_system_get_folder: assertion `path != NULL' failed
&gt; Callback: notify
&gt;
&gt; (bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: 
&gt; gtk_file_system_get_volume_for_path: assertion `path != NULL' failed
&gt;
&gt; (bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: 
&gt; gtk_file_system_render_icon: assertion `path != NULL' failed
&gt;
&gt; (bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: 
&gt; gtk_file_system_get_parent: assertion `path != NULL' failed
&gt;
&gt; (bug_gtkfilechooserbutton_actionselectfolder.phpw:28364): Gtk-CRITICAL **: 
&gt; gtk_file_system_get_folder: assertion `path != NULL' failed
&gt; Callback: notify
&gt; Callback: destroy
&gt;
&gt; --- END MAIN ---
&gt; ]0;scott@smattocks:~/playground/php-gtk/test[smattocks [32m11:18 AM 
&gt; [33mtest[0m]$ [Kesxi[K[K[Kxit
&gt; exit
&gt;
&gt; Script done on Wed 05 Apr 2006 11:18:52 AM EDT
&gt;
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt;


--------------------------------------------------------------------------------


&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060405172356</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-04-05 17:23:56-0400</timestampReceived><subject>Re: Fw: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test bug_gtkfilechooserbutton_actionselectfold</subject><body>

Steph Fox wrote:
&gt; When I'm saying 'I'll fix it', I'm going on the basis that the 
&gt; GtkFileChooserDialog works for you, give or take the parent thing - is 
&gt; that correct? (and also on the basis that GTK will allow me to add one, 
&gt; at this stage).

Yes. I can create a GtkFileChooserDialog without errors using:
$file = new GtkFileChooserDialog('Test', null, 
Gtk::FILE_CHOOSER_ACTION_SELECT_FOLDER);

Thanks for taking the time to look into this.

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060301072332</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-01 07:23:32-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkPixbuf::save() override</subject><body>


Hi all,

&gt; I have write an overrid for GdkPixbuf::save()
Test script:

&lt;?php
$tpixbuf = new GdkPixbuf(GDK::COLORSPACE_RGB,true,8,24,32);
$tpixbuf-&gt;fill(0xFFFCCFCC);
$tpixbuf-&gt;save("datei.jpg","jpeg");
//$tpixbuf-&gt;save("datei.jpg","jpeg","quality","100");
?&gt;


-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20061213171138</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-12-13 17:11:38-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: News for December</subject><body>


Andrei,


&gt; Can someone add me? Lat: 37.3975394221, Lon: -122.0974159241
Done.

--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20061213231355</emailId><senderName>Diego do Nascimento Feitosa</senderName><senderEmail>dnfeitosa@gmail.com</senderEmail><timestampReceived>2006-12-13 23:13:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: News for December</subject><body>

Christian,

Can you add me, please?
*Latitude = -23.6510, Longitude = -46.5988

*Thanks!!*
*
Andrei Zmievski escreveu:
&gt; The news looks good to me. Let's post it.
&gt;
&gt; Oh, and as far as maps:
&gt;
&gt;     http://php-gtk2.de/maps.html
&gt;
&gt; Can someone add me? Lat: 37.3975394221, Lon: -122.0974159241
&gt;
&gt; -Andrei
&gt;

-- 
Diego Feitosa
www.dnfeitosa.com &lt;http://www.dnfeitosa.com&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061214015000</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-12-14 01:50:00-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: News for December</subject><body>

http://www.callicore.net/

We linked to a site that is nothing but directory of files??

-Andrei


On Dec 13, 2006, at 3:13 PM, Diego do Nascimento Feitosa wrote:

&gt; Christian,
&gt;
&gt; Can you add me, please?
&gt; *Latitude = -23.6510, Longitude = -46.5988
&gt;
&gt; *Thanks!!*
&gt; *
&gt; Andrei Zmievski escreveu:
&gt;&gt; The news looks good to me. Let's post it.
&gt;&gt;
&gt;&gt; Oh, and as far as maps:
&gt;&gt;
&gt;&gt;     http://php-gtk2.de/maps.html
&gt;&gt;
&gt;&gt; Can someone add me? Lat: 37.3975394221, Lon: -122.0974159241
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;
&gt; -- 
&gt; Diego Feitosa
&gt; www.dnfeitosa.com &lt;http://www.dnfeitosa.com&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061212151304</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-12-12 15:13:04-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] News for December</subject><body>

OK. Write it up. Then post it back here to get a couple other people to 
give it a quick proof reading.

Scott

Anant Narayanan wrote:
&gt; Hi All,
&gt; 
&gt; I think its time we add some news to gtk.php.net:
&gt; 
&gt; * Active PHP-GTK 2 community site - http://www.php-gtk2.eu/
&gt; * PHP-GTK 2 Users map - http://php-gtk2.de/php-gtk-users.jpg/
&gt; * Chinese translation begun
&gt; * Docs &amp; Coding moving slowly; Call for volunteers!
&gt; 
&gt; - Anant
&gt; 

-- 
Scott Mattocks
Author of: Pro PHP-GTK
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061212171539</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-12-12 17:15:39-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] News for December</subject><body>

&gt; OK. Write it up. Then post it back here to get a couple other people to
&gt; give it a quick proof reading.

Draft:

Interest in PHP-GTK is growing, and this is evident by the increasing
number of hits at the community site[1]. The site provides useful tips
and code samples for PHP-GTK, be sure to stop by. Also, Christian
created a map[2] which tells you where PHP-GTK 2 developers and users
are located. Join us on #php-gtk on Freenode and add yourself!

The Chinese translation of the PHP-GTK 2 manual has now begun. If you
are interested in contributing to the documentation or development of
PHP-GTK 2 then get in touch[3] with us, and help in making a faster release!

Callicore[4] is a framework for PHP-GTK 2 and provides a set of
re-usable classes designed to make application development quicker and
painless. Though no releases have been made yet, the code from the
repository is pretty usable.

[1] http://www.php-gtk.eu/
[2] http://php-gtk2.de/maps.html
[3] http://gtk.php.net/resources.php
[4] http://www.callicore.net/

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061213190725</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-12-13 19:07:25-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] News for December</subject><body>

An additional news item:

&gt; Interest in PHP-GTK is growing, and this is evident by the increasing
&gt; number of hits at the community site[1]. The site provides useful tips
&gt; and code samples for PHP-GTK, be sure to stop by. Also, Christian
&gt; created a map[2] which tells you where PHP-GTK 2 developers and users
&gt; are located. Join us on #php-gtk on Freenode and add yourself!

KateOS (http://www.kateos.org/), a multitasking operating system;
includes a package manager written entirely in PHP-GTK 2
(http://wikidoc.kateos.org/index.php/KatePKG-en)! This is the first time
any distribution has adopted PHP-GTK 2 at such a level; we hope this
trend continues!

&gt; The Chinese translation of the PHP-GTK 2 manual has now begun. If you
&gt; are interested in contributing to the documentation or development of
&gt; PHP-GTK 2 then get in touch[3] with us, and help in making a faster release!
&gt; 
&gt; Callicore[4] is a framework for PHP-GTK 2 and provides a set of
&gt; re-usable classes designed to make application development quicker and
&gt; painless. Though no releases have been made yet, the code from the
&gt; repository is pretty usable.
&gt; 
&gt; [1] http://www.php-gtk.eu/
&gt; [2] http://php-gtk2.de/maps.html
&gt; [3] http://gtk.php.net/resources.php
&gt; [4] http://www.callicore.net/

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061209010516</emailId><senderName>Elizabeth Smith</senderName><senderEmail>emsmith@elizabethmariesmith.com</senderEmail><timestampReceived>2006-12-09 01:05:16-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Coverage</subject><body>

Well, I'm a little busy with the holidays but I have a couple of patches 
here - one to make php-gtk compile correctly with Microsoft Visual C++ 
Express (stupid ms) and the other an override for 
GtkActionGroup::list_actions()

["gtk.overrides.patch" (text/plain)]

Index: gtk.overrides
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/gtk.overrides,v
retrieving revision 1.222
diff -u -r1.222 gtk.overrides
--- gtk.overrides	2 Dec 2006 10:28:39 -0000	1.222
+++ gtk.overrides	8 Dec 2006 22:00:01 -0000
@@ -732,6 +732,32 @@
 }
 %% }}}
 
+%% {{{ GtkActionGroup
+
+%%
+override gtk_action_group_list_actions
+PHP_METHOD
+{
+    GList *actions, *current;
+    zval *item;
+
+    NOT_STATIC_METHOD();
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
+        return;
+
+    actions = gtk_action_group_list_actions(GTK_ACTION_GROUP(PHPG_GOBJECT(this_ptr)));
+
+    array_init(return_value);
+    for (current = actions; current; current = current-&gt;next) {
+        MAKE_STD_ZVAL(item);
+        phpg_gobject_new(&amp;item, G_OBJECT(current-&gt;data) TSRMLS_CC);
+        add_next_index_zval(return_value, item);
+    }
+
+}
+%% }}}
+
 %% {{{ GtkAboutDialog
 
 %%


["php_gtk.h.patch" (text/plain)]

Index: php_gtk.h
===================================================================
RCS file: /repository/php-gtk/main/php_gtk.h,v
retrieving revision 1.138
diff -u -r1.138 php_gtk.h
--- php_gtk.h	15 Oct 2006 00:48:48 -0000	1.138
+++ php_gtk.h	14 Nov 2006 01:55:16 -0000
@@ -23,13 +23,14 @@
 #ifndef _PHP_GTK_H
 #define _PHP_GTK_H
 
-#include "php.h"
-#include "php_ini.h"
+
 #ifdef PHP_WIN32
 #include "config.w32.h"
 #else
 #include "config.h"
 #endif
+#include "php.h"
+#include "php_ini.h"
 
 /* workaround for expat-related declaration in PHP compat file */
 #ifdef lookup


-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061209231955</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-12-09 23:19:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Coverage</subject><body>

&gt; Well, I'm a little busy with the holidays but I have a couple of patches
&gt; here - one to make php-gtk compile correctly with Microsoft Visual C++
&gt; Express (stupid ms) and the other an override for
&gt; GtkActionGroup::list_actions()

Committed, thanks!

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061207140712</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-12-07 14:07:12-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: another fix</subject><body>

Hello,

I attached to this email the last version of my scintilla.overrides.
As I told before to Andrei, it's working but the code can be improved.

thanks
Pablo

Em Qua, 2006-12-06 s 21:14 -0800, Andrei Zmievski escreveu:
&gt; Anant,
&gt; 
&gt; Can you commit this?
&gt; 
&gt; -Andrei
&gt; 
&gt; 
&gt; On Nov 6, 2006, at 1:51 PM, Pablo Dall'Oglio wrote:
&gt; 
&gt; &gt; is it good enough ? I needed get_sel_text so I addapted from php-gtk1
&gt; &gt; too :-)
&gt; &gt;
&gt; &gt; static PHP_METHOD(GtkScintilla, get_sel_text)
&gt; &gt; {
&gt; &gt;         zend_bool free_text = FALSE;
&gt; &gt;         long length;
&gt; &gt;         char *text;
&gt; &gt;         GtkScintilla *scintilla = GTK_SCINTILLA(PHPG_GOBJECT 
&gt; &gt; (this_ptr));
&gt; &gt;
&gt; &gt;     NOT_STATIC_METHOD();
&gt; &gt;
&gt; &gt;         if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
&gt; &gt;                 return;
&gt; &gt;
&gt; &gt;         length = gtk_scintilla_get_selection_end(scintilla) -
&gt; &gt; gtk_scintilla_get_selection_start(scintilla) + 1;
&gt; &gt;         text = emalloc(length);
&gt; &gt;         text[length-1] = 0;
&gt; &gt;
&gt; &gt;         gtk_scintilla_get_sel_text(scintilla, text);
&gt; &gt;         if (free_text) g_free(text);
&gt; &gt;         RETVAL_STRINGL(text, length-1, 0);
&gt; &gt; }
&gt; &gt;
&gt; &gt;
&gt; &gt; -- 
&gt; &gt; :: Pablo Dall'Oglio
&gt; &gt; :: www.dalloglio.net
&gt; 
-- 
:: Pablo Dall'Oglio
:: www.pablo.blog.br

["scintilla.overrides" (scintilla.overrides)]

/* vim: set ft=cpp: */
%%
headers
#include &lt;gtkscintilla2/gtkscintilla.h&gt;
#include "ext/gtk+/php_gtk+.h"
#include "php_gtk_api.h"
%%
ignore-glob
  *_get_type

%%
override gtk_scintilla_get_text
PHP_METHOD
{
    int length, result;
    char *text;
    length = 0;

    NOT_STATIC_METHOD();

    if(!php_gtk_parse_args(ZEND_NUM_ARGS(), "|i", length)) {
        return;
    }

    if(length==0) {
        length = gtk_scintilla_get_length(GTK_SCINTILLA(PHPG_GOBJECT(this_ptr)));
        length++;
    }

    text = safe_emalloc(length, sizeof(char), 0);

    result = gtk_scintilla_get_text(GTK_SCINTILLA(PHPG_GOBJECT(this_ptr)), length, \
text);  
    if(result) {
        RETVAL_STRINGL(text, length-1, 1);
    }

    efree(text);
}

%%
override gtk_scintilla_set_text
PHP_METHOD
{
    char *text, *utf8;
    zend_bool free_text, free_utf8 = TRUE;
    gsize len =  0;

    NOT_STATIC_METHOD();

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "u", &amp;utf8, &amp;free_utf8))
        return;
    
    text = phpg_from_utf8(utf8, strlen(utf8), &amp;len, &amp;free_text TSRMLS_CC);

    gtk_scintilla_set_text(GTK_SCINTILLA(PHPG_GOBJECT(this_ptr)), text);

    if (free_utf8) {
        g_free(utf8);
    }

    if (free_text) {
        g_free(text);
    }
}
%%
override gtk_scintilla_get_cur_line
PHP_METHOD
{
    long length, line_pos;
    char *text;
    gchar *cp_ret;
    gsize cp_len;
    zend_bool free_result;
    NOT_STATIC_METHOD();

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
            return;

    GtkScintilla *scintilla = GTK_SCINTILLA(PHPG_GOBJECT(this_ptr));

    length = gtk_scintilla_line_length(scintilla, \
gtk_scintilla_line_from_position(scintilla, \
gtk_scintilla_get_current_pos(scintilla))) + 1;

    text = (char *)emalloc(length);
    line_pos = gtk_scintilla_get_cur_line(scintilla, length, text);
    cp_ret = phpg_from_utf8(text, strlen(text), &amp;cp_len,
&amp;free_result TSRMLS_CC);
    if (cp_ret)
    {
        RETVAL_STRINGL((char *)cp_ret, cp_len, 1);
    }
    else
    {
       php_error(E_WARNING, "%s::%s(): could not convert return value from UTF-8",    \
get_active_class_name(NULL TSRMLS_CC), get_active_function_name(TSRMLS_C));  }
    if (free_result)
        g_free(cp_ret);
}
%%
override gtk_scintilla_get_sel_text
PHP_METHOD
{
    zend_bool free_text = FALSE;
    long length;
    char *text;
    GtkScintilla *scintilla = GTK_SCINTILLA(PHPG_GOBJECT(this_ptr));

    NOT_STATIC_METHOD();

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
            return;

    length = gtk_scintilla_get_selection_end(scintilla) - \
gtk_scintilla_get_selection_start(scintilla) + 1;  text = emalloc(length);
    text[length-1] = 0;

    gtk_scintilla_get_sel_text(scintilla, text);
    if (free_text) g_free(text);
    RETVAL_STRINGL(text, length-1, 0);
}



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061208054910</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-12-08 05:49:10-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: another fix</subject><body>

Hi Pablo,

&gt; I attached to this email the last version of my scintilla.overrides.
&gt; As I told before to Andrei, it's working but the code can be improved.

I don't have handy access to my workstation currently (traveling), but
I'll take a look as soon as I get home. Thanks for this!

Cheers,

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061106034636</emailId><senderName>someGuy</senderName><senderEmail>rtarrant@sympatico.ca</senderEmail><timestampReceived>2006-11-06 03:46:36-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkEntry Mystery</subject><body>


I forgot to mention the versions of php-gtk2:

Windows: Gnope 1.5.1 (date stamp: July 18, 2006)
Linux: 2006-09-14
FreeBSD: 2006-09-14

-Ron T.


someGuy wrote:
&gt; 
&gt; Hi all,
&gt; 
&gt; Problem: No character shows up on first call to GtkEntry::get_chars()
&gt; 
&gt; Operating system: Windows, Linux, FreeBSD
&gt; 
&gt; Code:
&gt; 
&gt; &lt;?php
&gt; 
&gt; function preProcess($widget, $event)
&gt; {
&gt; 	$position = $widget-&gt;get_position();
&gt; 	$char = $widget-&gt;get_chars(0, -1);
&gt; 	echo("position = $position, char = $char\n");
&gt; } // preProcess()
&gt; 
&gt; 
&gt; $entry = new GtkEntry();
&gt; $entry-&gt;connect("key-press-event", "preProcess");
&gt; 
&gt; $window = new GtkWindow();
&gt; $window-&gt;add($entry);
&gt; $window-&gt;connect_simple("destroy", array("gtk", "main_quit"));
&gt; $window-&gt;show_all();
&gt; 
&gt; gtk::main();
&gt; 
&gt; ?&gt;
&gt; 
&gt; Is this a bug, or is there some other value I should be passing as the
&gt; zeroth argument? I tried '-1' and it core dumped (which makes sense, of
&gt; course).
&gt; 
&gt; Please advise.
&gt; 
&gt; -Ron T.
&gt; 
&gt; 

-- 
View this message in context: http://www.nabble.com/GtkEntry-Mystery-tf2580187.html#a7192923
Sent from the Php - GTK - Dev mailing list archive at Nabble.com.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060601225836</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-01 22:58:36-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Patches and the alpha</subject><body>

It's all on me, basically. I need some time to look through this all 
and see where we stand. I hope to get it done by the end of the week.

-Andrei

On Jun 1, 2006, at 1:04 PM, Scott Mattocks wrote:

&gt; Here is my annoying nagging email for this week. Where do we stand 
&gt; with the release?
&gt;
&gt; - From what I understand the Win32 crash has been identified as a PHP 
&gt; issue not a PHP-GTK issue. Of course I could have completely 
&gt; misunderstood all of that thread.
&gt;
&gt; - I think the GtkSourceView and MozEmbed problems have been solved for 
&gt; Win32. Of course I could be completely wrong about this too.
&gt;
&gt; - Steph has provided a set of PHP 5.2 patches that need to be reviewed.
&gt;
&gt; - Christian has submitted 16+ patches that need to be reviewed.
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060603180809</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-03 18:08:09-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [PATCH] 5_2 compat stuff</subject><body>

Patch committed. Hopefully we won't have to use the #ifdef for  
ZEND_API_VERSION_NO much in the future..

-Andrei


On Jun 3, 2006, at 12:01 AM, Steph Fox wrote:

&gt; ps I forgot to say 'check the SPL bits' - I'm not sure how far  
&gt; forward Marcus is with all that, but he seemed to think you should  
&gt; be using it fully - at least under 5_2...
&gt;
&gt;
&gt; ----- Original Message ----- From: "Andrei Zmievski"  
&gt; &lt;andrei@gravitonic.com&gt;
&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt; Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Saturday, June 03, 2006 12:43 AM
&gt; Subject: Re: [PHP-GTK-DEV] [PATCH] 5_2 compat stuff
&gt;
&gt;
&gt;&gt; Is there something better than ZEND_API_VERSION_NO that we can  
&gt;&gt; use? It's kind of ugly? Maybe a define for PHP version? I am not  
&gt;&gt; at my php-gtk machine right now, so I'll have to take a closer  
&gt;&gt; look at some parts of it when I get home.
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt; On May 29, 2006, at 7:25 AM, Steph Fox wrote:
&gt;&gt;
&gt;&gt;&gt; Andrei, hi,
&gt;&gt;&gt;
&gt;&gt;&gt; I didn't like to apply anything this clunky without your say- 
&gt;&gt;&gt; so... but it works fine. It's just clunky.
&gt;&gt;&gt;
&gt;&gt;&gt; Still no closer to a solution for the shutdown crash tho' I'm  
&gt;&gt;&gt; afraid, unless we take 'the Zeev route'.
&gt;&gt;&gt;
&gt;&gt;&gt; - Steph
&gt;&gt;&gt; &lt;php_gtk_5_2.txt&gt;--
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060603183713</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-03 18:37:13-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [PATCH] GtkComboBox/GtkTreeView::set_row_separator_func</subject><body>

Looks good, but a couple of notes.

1. Please keep your patches separate. The first patch also includes  
GtkAboutDialog stuff.

2. You are destroying retval before converting it to boolean. A  
better approach is something like:

     if (retval) {
         ret = zend_is_true(retval);
         zval_ptr_dtor(&amp;retval);
     } else {
         ret = TRUE;
     }

3. You have an extraneous declaration line:
+static gboolean phpg_tree_model_filter_visible_func_marshal 
(GtkTreeModel *model, GtkTreeIter *iter, gpointer data);

4. You need to add:

+static gboolean phpg_tree_view_row_separator_func_marshal 
(GtkTreeModel *model, GtkTreeIter *iter, gpointer data);

to the %headers section, otherwise you're not guaranteed that both  
places will have access to it.

-Andrei


On May 30, 2006, at 1:28 PM, Christian Weiske wrote:

&gt; Hi all,
&gt;
&gt;
&gt; The patch for GtkComboBox/GtkTreeView::set_row_separator_func can be
&gt; found at:
&gt; http://xml.cweiske.de/patches/rowseparator_gtk.overrides.diff
&gt; http://xml.cweiske.de/patches/rowseparator_gtktreeview.overrides.diff
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060603190440</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-03 19:04:40-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [PATCH] GtkAboutDialog email/url hooks</subject><body>

Some notes again:

1. You need to provide a way to unset the hook function. Probably  
just check that if the callback is IS_NULL, then unset it. You can  
use V! for that.

2. What did you mean by:

+    //I know the next line needs to be changed, but that didn't work:
+    //ZVAL_STRINGL(php_link, (char *)cp_link, cp_len, 1)
+    php_gtk_build_value(&amp;php_link, "s", cp_link);

You need to allocate php_link before using ZVAL_STRINGL().

MAKE_STD_ZVAL(php_link);
ZVAL_STRINGL(php_link, (char*)cp_link, cp_len, 1);

3. Whenever you have a callback/marshaller that is used by more than  
one method, put its declaration in %headers section.

+static void phpg_about_dialog_activate_link_func_marshal 
(GtkAboutDialog *about, const gchar *link, gpointer data);


-Andrei


On May 21, 2006, at 6:50 AM, Christian Weiske wrote:

&gt; Hi
&gt;
&gt; at
&gt; http://xml.cweiske.de/patches/aboutdialog-gtk.overrides.diff
&gt; is a patch for the last two missing GtkAboutDialog methods,
&gt; GtkAboutDialog::set_email_hook(callback);
&gt; GtkAboutDialog::set_url_hook(callback);
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060603191605</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-03 19:16:05-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkAllocation</subject><body>

Because it's not really a boxed type? GtkRequisition has a  
corresponding GTK_TYPE_REQUISITION GType, but GtkAllocation* is just  
a rectangle basically.

-Andrei


On May 18, 2006, at 1:12 PM, Christian Weiske wrote:

&gt; Hello all,
&gt;
&gt;
&gt; I was wondering why there is no GtkAllocation class?
&gt; We already have a boxed GtkRequsition, so I see no reason not to  
&gt; have a
&gt; boxed GtkAllocation.
&gt; Anyone against that?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060603192547</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-03 19:25:47-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [PATCH] GtkTextIter::get_tags, GtkTextIter::get_marks, GtkTextIter::get_toggled_ta</subject><body>

Go ahead and commit.

-Andrei


On May 21, 2006, at 5:57 AM, Christian Weiske wrote:

&gt; Hi all,
&gt;
&gt; at
&gt; http://xml.cweiske.de/patches/gtktextview.overrides.diff
&gt; are patches for the following methods:
&gt; - GtkTextIter::get_tags
&gt; - GtkTextIter::get_marks
&gt; - GtkTextIter::get_toggled_tags
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060603193937</emailId><senderName></senderName><senderEmail>andrei</senderEmail><timestampReceived>2006-06-03 19:39:37-0400</timestampReceived><subject>[PHP-GTK-DEV] #37500 [Opn]: Patches for GtkContainer::get/set_focus_chain, GtkWindow::g/s_default_ic</subject><body>

 ID:               37500
 Updated by:       andrei@php.net
 Reported By:      cweiske@php.net
 Status:           Open
 Bug Type:         PHP-GTK related
 Operating System: any
 PHP Version:      5.1.4
 New Comment:

A couple of notes:

1. You should prepend the widgets to the focus chain, instead of
appending. Also, use better error messages:

+        if (php_gtk_check_class(*php_widget, gtkwidget_ce)) {
+            GtkWidget *widget =
GTK_WIDGET(PHPG_GOBJECT(*php_widget));
+            widgets = g_list_prepend(widgets, widget);
+        } else {
+            php_error(E_WARNING, "%s::%s() requires the focus chain
elements to be objects of class GtkWidget", get_active_class_name(NULL
TSRMLS_CC), get_active_function_name(TSRMLS_C));
+        }

2. Why do you have this in gtk.defs:

+(define-function gtk_tree_model_filter_new

3. See #1 for set_(default)_icon_list() also.


Previous Comments:
------------------------------------------------------------------------

[2006-05-18 14:32:11] cweiske@php.net

Description:
------------
Attached are patches for the following methods:
GtkContainer::get_focus_chain
GtkContainer::set_focus_chain
GtkWindow::get_icon_list
GtkWindow::set_icon_list
GtkWindow::get_default_icon_list
GtkWindow::set_default_icon_list
GtkIconTheme::list_icons

The patch files can be found at
http://xml.cweiske.de/patches/gtk.defs.diff
http://xml.cweiske.de/patches/gtkcontainer.overrides.diff
http://xml.cweiske.de/patches/gtk.overrides.diff



------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=37500&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060603194334</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-03 19:43:34-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] #37504 [NEW]: Patch for GtkTreeSortable::set_(default_)sort_func</subject><body>

If I did, I was wrong. I'd rather have patches as straight emails to  
the list.

-Andrei


On May 18, 2006, at 9:15 AM, Christian Weiske wrote:

&gt; Steph,
&gt;
&gt;&gt; Why are you putting these in as bug reports???
&gt; Because Andrei once told me that they are more visible in the bug
&gt; tracker. I don't want to apply them to cvs because my C isn't that  
&gt; good
&gt; and the patches probably need a review.
&gt; If you want, I just send plain mails to the list. Just don't know if
&gt; they get forgotten then.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060604161441</emailId><senderName>"mr dot pounder at gmail dot com"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-06-04 16:14:41-0400</timestampReceived><subject>[PHP-GTK-DEV] #37694 [NEW]: Missing GtkCalendar::get_date() method</subject><body>

From:             mr dot pounder at gmail dot com
Operating system: Win32
PHP version:      5.1.4
PHP Bug Type:     PHP-GTK related
Bug description:  Missing GtkCalendar::get_date() method

Description:
------------
The get_date() method for the GtkCalendar class in the Win32 DLL for
PHP-GTK2 is missing, and produces a fatal error when used.

Reproduce code:
---------------
&lt;?php
$window=new GladeXML("calendar.glade");
$window-&gt;signal_autoconnect();
Gtk::main();

function on_calendar_day_selected()
{
	global $window;
	$cal=$window-&gt;get_widget("calendar");
	print_r($cal-&gt;get_date());
	return;
}
?&gt;

Expected result:
----------------
Array
{
	[0]=2006
	[1]=06
	[2]=04
}


Actual result:
--------------
PHP Fatal error:  Call to undefined method GtkCalendar::get_date()

Fatal error: Call to undefined method GtkCalendar::get_date()

-- 
Edit bug report at http://bugs.php.net/?id=37694&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=37694&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.2): http://bugs.php.net/fix.php?id=37694&amp;r=trysnapshot52
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=37694&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=37694&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=37694&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=37694&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=37694&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=37694&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=37694&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=37694&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=37694&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=37694&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=37694&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=37694&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=37694&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=37694&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=37694&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=37694&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=37694&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=37694&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061003211940</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-10-03 21:19:40-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkMozEmbed does not destroy itself</subject><body>


Anant,

&gt; Puzzling... I ran the demo script: ext/mozembed/demos/browser.php and
&gt; it worked fine for me.
Not for me. Seems I have an old version of the plugin.

--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060831010701</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-08-31 01:07:01-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [SPAM] Re: [PHP-GTK-DEV] E_STRICT renamings</subject><body>

So what are we going to do about it? I still don't think that it's  
wrong to change inherited method's signature.

-Andrei


On Aug 20, 2006, at 2:25 AM, Steph Fox wrote:

&gt; This post passed me by completely somehow, probably 'cos I don't  
&gt; always have time to open invisible email.
&gt;
&gt; This is actually the display_startup_errors issue that I sent a  
&gt; patch to internals@ for on January 4th, and again on January 10th.  
&gt; If you recall, Dmitry turned it down on the grounds that the  
&gt; current ZE behaviour is correct.
&gt;
&gt; Evidence: http://www.zend.com/zend/week/week271.php#Heading8
&gt;
&gt; (yeah OK Andrei I'm _almost_ up to date here ;)
&gt;
&gt;
&gt; ----- Original Message ----- From: "Andrei Zmievski"  
&gt; &lt;andrei@gravitonic.com&gt;
&gt; To: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
&gt; Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;; "Marcus  
&gt; Boerger" &lt;helly@php.net&gt;
&gt; Sent: Saturday, June 24, 2006 7:47 PM
&gt; Subject: Re: [PHP-GTK-DEV] E_STRICT renamings
&gt;
&gt;
&gt;&gt; I have no idea why it's checking for this. I thought it should  
&gt;&gt; only  do it for interfaces. Marcus?
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; On Jun 11, 2006, at 11:12 PM, Christian Weiske wrote:
&gt;&gt;
&gt;&gt;&gt; Hello all,
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Since there is no way of using optional parameters to satisfy the  
&gt;&gt;&gt; zend
&gt;&gt;&gt; engine causing it not to complain, I vote for renaming the methods:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkToolbar::set_style()  
&gt;&gt;&gt;&gt; should
&gt;&gt;&gt;&gt; be compatible with that of GtkWidget::set_style() in Unknown on   
&gt;&gt;&gt;&gt; line 0
&gt;&gt;&gt; GtkToolbar::set_style() -&gt; GtkToolbar::set_toolbar_style()
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkMenu::set_accel_path()   
&gt;&gt;&gt;&gt; should
&gt;&gt;&gt;&gt; be compatible with that of GtkWidget::set_accel_path() in  
&gt;&gt;&gt;&gt; Unknown on
&gt;&gt;&gt;&gt; line 0
&gt;&gt;&gt; GtkMenu::set_accel_path() -&gt; GtkMenu::set_menu_accel_path()
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of  
&gt;&gt;&gt;&gt; GtkWindow::mnemonic_activate()
&gt;&gt;&gt;&gt; should be compatible with that of GtkWidget::mnemonic_activate() in
&gt;&gt;&gt;&gt; Unknown on line 0
&gt;&gt;&gt; GtkWindow::mnemonic_activate() -&gt;   
&gt;&gt;&gt; GtkWindow::window_mnemonic_activate()
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkMenuItem::set_accel_path()
&gt;&gt;&gt;&gt; should be compatible with that of GtkWidget::set_accel_path() in
&gt;&gt;&gt;&gt; Unknown on line 0
&gt;&gt;&gt; GtkMenuItem::set_accel_path() -&gt;   
&gt;&gt;&gt; GtkMenuItem::set_menuitem_accel_path()
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkStatusbar::remove() should
&gt;&gt;&gt;&gt; be compatible with that of GtkContainer::remove() in Unknown on   
&gt;&gt;&gt;&gt; line 0
&gt;&gt;&gt; GtkStatusbar::remove() -&gt; GtkStatusbar::remove_message()
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkCList::remove() should be
&gt;&gt;&gt;&gt; compatible with that of GtkContainer::remove() in Unknown on line 0
&gt;&gt;&gt; GtkCList::remove() -&gt; GtkCList::remove_row()
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt; Christian Weiske
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060831011501</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-08-31 01:15:01-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [SPAM] Re: [PHP-GTK-DEV] E_STRICT renamings</subject><body>

You can try arguing with Dmitry - you're better equipped to do it than I :)

Good luck!

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "Christian Weiske" &lt;cweiske@cweiske.de&gt;; "PHP-GTK Dev list" 
&lt;php-gtk-dev@lists.php.net&gt;; "Marcus Boerger" &lt;helly@php.net&gt;
Sent: Thursday, August 31, 2006 3:07 AM
Subject: Re: [PHP-GTK-DEV] [SPAM] Re: [PHP-GTK-DEV] E_STRICT renamings


&gt; So what are we going to do about it? I still don't think that it's  wrong 
&gt; to change inherited method's signature.
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Aug 20, 2006, at 2:25 AM, Steph Fox wrote:
&gt;
&gt;&gt; This post passed me by completely somehow, probably 'cos I don't  always 
&gt;&gt; have time to open invisible email.
&gt;&gt;
&gt;&gt; This is actually the display_startup_errors issue that I sent a  patch to 
&gt;&gt; internals@ for on January 4th, and again on January 10th.  If you recall, 
&gt;&gt; Dmitry turned it down on the grounds that the  current ZE behaviour is 
&gt;&gt; correct.
&gt;&gt;
&gt;&gt; Evidence: http://www.zend.com/zend/week/week271.php#Heading8
&gt;&gt;
&gt;&gt; (yeah OK Andrei I'm _almost_ up to date here ;)
&gt;&gt;
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "Andrei Zmievski" 
&gt;&gt; &lt;andrei@gravitonic.com&gt;
&gt;&gt; To: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
&gt;&gt; Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;; "Marcus  Boerger" 
&gt;&gt; &lt;helly@php.net&gt;
&gt;&gt; Sent: Saturday, June 24, 2006 7:47 PM
&gt;&gt; Subject: Re: [PHP-GTK-DEV] E_STRICT renamings
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; I have no idea why it's checking for this. I thought it should  only  do 
&gt;&gt;&gt; it for interfaces. Marcus?
&gt;&gt;&gt;
&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Jun 11, 2006, at 11:12 PM, Christian Weiske wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Hello all,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Since there is no way of using optional parameters to satisfy the  zend
&gt;&gt;&gt;&gt; engine causing it not to complain, I vote for renaming the methods:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkToolbar::set_style()  should
&gt;&gt;&gt;&gt;&gt; be compatible with that of GtkWidget::set_style() in Unknown on   line 
&gt;&gt;&gt;&gt;&gt; 0
&gt;&gt;&gt;&gt; GtkToolbar::set_style() -&gt; GtkToolbar::set_toolbar_style()
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkMenu::set_accel_path() 
&gt;&gt;&gt;&gt;&gt; should
&gt;&gt;&gt;&gt;&gt; be compatible with that of GtkWidget::set_accel_path() in  Unknown on
&gt;&gt;&gt;&gt;&gt; line 0
&gt;&gt;&gt;&gt; GtkMenu::set_accel_path() -&gt; GtkMenu::set_menu_accel_path()
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of  GtkWindow::mnemonic_activate()
&gt;&gt;&gt;&gt;&gt; should be compatible with that of GtkWidget::mnemonic_activate() in
&gt;&gt;&gt;&gt;&gt; Unknown on line 0
&gt;&gt;&gt;&gt; GtkWindow::mnemonic_activate() -&gt; 
&gt;&gt;&gt;&gt; GtkWindow::window_mnemonic_activate()
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkMenuItem::set_accel_path()
&gt;&gt;&gt;&gt;&gt; should be compatible with that of GtkWidget::set_accel_path() in
&gt;&gt;&gt;&gt;&gt; Unknown on line 0
&gt;&gt;&gt;&gt; GtkMenuItem::set_accel_path() -&gt; 
&gt;&gt;&gt;&gt; GtkMenuItem::set_menuitem_accel_path()
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkStatusbar::remove() should
&gt;&gt;&gt;&gt;&gt; be compatible with that of GtkContainer::remove() in Unknown on   line 
&gt;&gt;&gt;&gt;&gt; 0
&gt;&gt;&gt;&gt; GtkStatusbar::remove() -&gt; GtkStatusbar::remove_message()
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkCList::remove() should be
&gt;&gt;&gt;&gt;&gt; compatible with that of GtkContainer::remove() in Unknown on line 0
&gt;&gt;&gt;&gt; GtkCList::remove() -&gt; GtkCList::remove_row()
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt;&gt; Christian Weiske
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060831011937</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-08-31 01:19:37-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [SPAM] Re: [PHP-GTK-DEV] E_STRICT renamings</subject><body>

You forget that I don't program in PHP-GTK, so it's not really urgent  
for me.. :)

-Andrei


On Aug 30, 2006, at 6:15 PM, Steph Fox wrote:

&gt; You can try arguing with Dmitry - you're better equipped to do it  
&gt; than I :)
&gt;
&gt; Good luck!
&gt;
&gt; ----- Original Message ----- From: "Andrei Zmievski"  
&gt; &lt;andrei@gravitonic.com&gt;
&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt; Cc: "Christian Weiske" &lt;cweiske@cweiske.de&gt;; "PHP-GTK Dev list"  
&gt; &lt;php-gtk-dev@lists.php.net&gt;; "Marcus Boerger" &lt;helly@php.net&gt;
&gt; Sent: Thursday, August 31, 2006 3:07 AM
&gt; Subject: Re: [PHP-GTK-DEV] [SPAM] Re: [PHP-GTK-DEV] E_STRICT renamings
&gt;
&gt;
&gt;&gt; So what are we going to do about it? I still don't think that  
&gt;&gt; it's  wrong to change inherited method's signature.
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; On Aug 20, 2006, at 2:25 AM, Steph Fox wrote:
&gt;&gt;
&gt;&gt;&gt; This post passed me by completely somehow, probably 'cos I don't   
&gt;&gt;&gt; always have time to open invisible email.
&gt;&gt;&gt;
&gt;&gt;&gt; This is actually the display_startup_errors issue that I sent a   
&gt;&gt;&gt; patch to internals@ for on January 4th, and again on January  
&gt;&gt;&gt; 10th.  If you recall, Dmitry turned it down on the grounds that  
&gt;&gt;&gt; the  current ZE behaviour is correct.
&gt;&gt;&gt;
&gt;&gt;&gt; Evidence: http://www.zend.com/zend/week/week271.php#Heading8
&gt;&gt;&gt;
&gt;&gt;&gt; (yeah OK Andrei I'm _almost_ up to date here ;)
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; ----- Original Message ----- From: "Andrei Zmievski"  
&gt;&gt;&gt; &lt;andrei@gravitonic.com&gt;
&gt;&gt;&gt; To: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
&gt;&gt;&gt; Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;; "Marcus   
&gt;&gt;&gt; Boerger" &lt;helly@php.net&gt;
&gt;&gt;&gt; Sent: Saturday, June 24, 2006 7:47 PM
&gt;&gt;&gt; Subject: Re: [PHP-GTK-DEV] E_STRICT renamings
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I have no idea why it's checking for this. I thought it should   
&gt;&gt;&gt;&gt; only  do it for interfaces. Marcus?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; On Jun 11, 2006, at 11:12 PM, Christian Weiske wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Hello all,
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Since there is no way of using optional parameters to satisfy  
&gt;&gt;&gt;&gt;&gt; the  zend
&gt;&gt;&gt;&gt;&gt; engine causing it not to complain, I vote for renaming the  
&gt;&gt;&gt;&gt;&gt; methods:
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkToolbar::set_style()   
&gt;&gt;&gt;&gt;&gt;&gt; should
&gt;&gt;&gt;&gt;&gt;&gt; be compatible with that of GtkWidget::set_style() in Unknown  
&gt;&gt;&gt;&gt;&gt;&gt; on   line 0
&gt;&gt;&gt;&gt;&gt; GtkToolbar::set_style() -&gt; GtkToolbar::set_toolbar_style()
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkMenu::set_accel_path 
&gt;&gt;&gt;&gt;&gt;&gt; () should
&gt;&gt;&gt;&gt;&gt;&gt; be compatible with that of GtkWidget::set_accel_path() in   
&gt;&gt;&gt;&gt;&gt;&gt; Unknown on
&gt;&gt;&gt;&gt;&gt;&gt; line 0
&gt;&gt;&gt;&gt;&gt; GtkMenu::set_accel_path() -&gt; GtkMenu::set_menu_accel_path()
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of   
&gt;&gt;&gt;&gt;&gt;&gt; GtkWindow::mnemonic_activate()
&gt;&gt;&gt;&gt;&gt;&gt; should be compatible with that of GtkWidget::mnemonic_activate 
&gt;&gt;&gt;&gt;&gt;&gt; () in
&gt;&gt;&gt;&gt;&gt;&gt; Unknown on line 0
&gt;&gt;&gt;&gt;&gt; GtkWindow::mnemonic_activate() -&gt;  
&gt;&gt;&gt;&gt;&gt; GtkWindow::window_mnemonic_activate()
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of  
&gt;&gt;&gt;&gt;&gt;&gt; GtkMenuItem::set_accel_path()
&gt;&gt;&gt;&gt;&gt;&gt; should be compatible with that of GtkWidget::set_accel_path() in
&gt;&gt;&gt;&gt;&gt;&gt; Unknown on line 0
&gt;&gt;&gt;&gt;&gt; GtkMenuItem::set_accel_path() -&gt;  
&gt;&gt;&gt;&gt;&gt; GtkMenuItem::set_menuitem_accel_path()
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkStatusbar::remove()  
&gt;&gt;&gt;&gt;&gt;&gt; should
&gt;&gt;&gt;&gt;&gt;&gt; be compatible with that of GtkContainer::remove() in Unknown  
&gt;&gt;&gt;&gt;&gt;&gt; on   line 0
&gt;&gt;&gt;&gt;&gt; GtkStatusbar::remove() -&gt; GtkStatusbar::remove_message()
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkCList::remove()  
&gt;&gt;&gt;&gt;&gt;&gt; should be
&gt;&gt;&gt;&gt;&gt;&gt; compatible with that of GtkContainer::remove() in Unknown on  
&gt;&gt;&gt;&gt;&gt;&gt; line 0
&gt;&gt;&gt;&gt;&gt; GtkCList::remove() -&gt; GtkCList::remove_row()
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt;&gt;&gt; Christian Weiske
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060902103456</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-09-02 10:34:56-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [SPAM] Re: [PHP-GTK-DEV] E_STRICT renamings</subject><body>

Andrei,

&gt; So what are we going to do about it? I still don't think that it's wrong
&gt; to change inherited method's signature.
I renamed the methods in question.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060902113246</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-09-02 11:32:46-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [SPAM] Re: [PHP-GTK-DEV] E_STRICT renamings</subject><body>

Christian,

Why?

Can you explain to me how that's better than either fixing at Engine level 
or recommending display_startup_errors is switched off?

And please don't take unilateral decisions without discussion.

- Steph



&gt; Andrei,
&gt;
&gt;&gt; So what are we going to do about it? I still don't think that it's wrong
&gt;&gt; to change inherited method's signature.
&gt; I renamed the methods in question.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060902115810</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-09-02 11:58:10-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [SPAM] Re: [PHP-GTK-DEV] E_STRICT renamings</subject><body>

Steph,

&gt; Can you explain to me how that's better than either fixing at Engine
&gt; level or recommending display_startup_errors is switched off?
Because PHP does not have any way to do this (java):
&gt; ((ParentClass)object)-&gt;methodThatIsOverWrittenInSubClass();
the only way to do this in php is via Reflection, which is very, very
unconvenient.

Further, while making the changes, I saw that the things that the
methods do are really different. So if a subclass overwrites a method
defined in an ancestor class, you have nearly no way to get that parent
method functionality back. While methods with the same signature most
likely do the same things and sometimes even call the parent, this is
not true for methods with different signatures.
Thus renaming them is the only way to make the functionality accessible
for the user at all.


&gt; And please don't take unilateral decisions without discussion.
I thought the discussion was open for some months. And Andrei seemed to
have the same opinion.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060902120530</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-09-02 12:05:30-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [SPAM] Re: [PHP-GTK-DEV] E_STRICT renamings</subject><body>

&gt;&gt; Can you explain to me how that's better than either fixing at Engine
&gt;&gt; level or recommending display_startup_errors is switched off?
&gt; Because PHP does not have any way to do this (java):
&gt;&gt; ((ParentClass)object)-&gt;methodThatIsOverWrittenInSubClass();
&gt; the only way to do this in php is via Reflection, which is very, very
&gt; unconvenient.

This is the FIRST TIME you have even mentioned Reflection. So would you care 
to tell us what the real problem is, from where you're standing? Evidently 
it's nothing to do with the E_STRICT, which is only thrown if you turn on 
something in php.ini that is off by default.

&gt; Further, while making the changes, I saw that the things that the
&gt; methods do are really different.

You shouldn't have been making any changes at this point, sorry but.

So if a subclass overwrites a method
&gt; defined in an ancestor class, you have nearly no way to get that parent
&gt; method functionality back. While methods with the same signature most
&gt; likely do the same things and sometimes even call the parent, this is
&gt; not true for methods with different signatures.

Right, this is what we (Dmitry, Andrei, me) were talking about.

&gt; Thus renaming them is the only way to make the functionality accessible
&gt; for the user at all.

Unless that behaviour changes in PHP.

&gt;&gt; And please don't take unilateral decisions without discussion.
&gt; I thought the discussion was open for some months. And Andrei seemed to
&gt; have the same opinion.

Andrei's last post on the matter was a question inviting discussion. If 
you've been discussing this with him off-list at least have the courtesy to 
share the decision before (or even while) you implement it. If you haven't - 
there was no discussion.

- Steph

&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060902122043</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-09-02 12:20:43-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [SPAM] Re: [PHP-GTK-DEV] E_STRICT renamings</subject><body>

&gt; Evidently it's nothing to do with the E_STRICT, which is only thrown if
&gt; you turn on something in php.ini that is off by default.
If one thinks about it, yes, the E_STRICT warnings are only a distant
symptom of the engine problem.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060902122102</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-09-02 12:21:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [SPAM] Re: [PHP-GTK-DEV] E_STRICT renamings</subject><body>

&gt;&gt; Evidently it's nothing to do with the E_STRICT, which is only thrown if
&gt;&gt; you turn on something in php.ini that is off by default.
&gt; If one thinks about it, yes, the E_STRICT warnings are only a distant
&gt; symptom of the engine problem.

'The Engine problem' is that it defines the relationships.

&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060323202145</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-23 20:21:45-0400</timestampReceived><subject>[PHP-GTK-DEV] GdkPixbuf Trouble</subject><body>

Hi All,

I tried to port the GdkPixbuf demo from Gtk+ (also there in pygtk-demo).

http://www.kix.in/php-gtk2/gdkpixbuf.phps

Trouble is, I've spent almost this entire week in debugging the damn
thing. It always gives me an error when I try to use the
draw_rgb_image_dithalign() method. The 5th parameter is supposed to a
pixel map. But looks like the get_pixels() method for GdkPixbuf doesn't
return what draw_rgb_* needs.

Is there any conversion step that I'm missing? If any of have the time,
it would be great if you could have look at the script.

Best Regards,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060323204254</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-23 20:42:54-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkPixbuf Trouble</subject><body>

Hi Christian,

&gt; You're missing that I already did that. It's in cvs,
&gt; test/bug_pixbuf-demo.php
&gt; Andrei told me today that he'll look into the segfault

Hehe, this has got to be my bad day. I seem to keep repeating stuff
that's already done :)

Regards,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060323235549</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-23 23:55:49-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkPixbuf Trouble</subject><body>

Hi all (esp Andrei),

&gt; You're missing that I already did that. It's in cvs,
&gt; test/bug_pixbuf-demo.php
&gt; Andrei told me today that he'll look into the segfault

The script gives a segmentation fault, but when I replace line:

//expose_cb()
$pixels = $frame-&gt;get_pixels() + $rowstride * $event-&gt;area-&gt;y +
$event-&gt;area-&gt;x * 3;

with just:

// This is how it is in the pygtk-demo!
$pixels = $frame-&gt;get_pixels();

you no longer get a segmentation fault but a warning message:

Warning: GdkDrawable::draw_rgb_image_dithalign() expects argument 7 to
be string without null bytes, string given in
/home/anant/php-gtk/test/bug_pixbuf-demo.php on line 78

IMO Definitely something to do what get_pixels() returns.

Regards,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060330171713</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-30 17:17:13-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkPixbuf Trouble</subject><body>

I made overrides for draw_rgb_image() and draw_rgb_32_image(). The  
_dithalign versions are no more. Try it now.

&gt; //expose_cb()
&gt; $pixels = $frame-&gt;get_pixels() + $rowstride * $event-&gt;area-&gt;y +
&gt; $event-&gt;area-&gt;x * 3;

And you can't treat PHP as C. It doesn't have pointers. The correct  
way to do what you want it is to use substr().

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060602224302</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-02 22:43:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [PATCH] 5_2 compat stuff</subject><body>

Is there something better than ZEND_API_VERSION_NO that we can use? 
It's kind of ugly? Maybe a define for PHP version? I am not at my 
php-gtk machine right now, so I'll have to take a closer look at some 
parts of it when I get home.

-Andrei

On May 29, 2006, at 7:25 AM, Steph Fox wrote:

&gt; Andrei, hi,
&gt;
&gt; I didn't like to apply anything this clunky without your say-so... but 
&gt; it works fine. It's just clunky.
&gt;
&gt; Still no closer to a solution for the shutdown crash tho' I'm afraid, 
&gt; unless we take 'the Zeev route'.
&gt;
&gt; - Steph
&gt; &lt;php_gtk_5_2.txt&gt;--
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060603065845</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-03 06:58:45-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [PATCH] 5_2 compat stuff</subject><body>

Defines for PHP versions are even uglier because you have to do &gt; and MAJOR 
and MINOR... that's why I jumped on the extension API number, which at least 
meant a single line.

'Course the other option would be to do pretty much as we did with the 
generator stuff - define the version somewhere so we can just have it as 
PHP_5_2 or whatever in the #ifdefs.  But it'd still be best to stay with the 
extension API number as the base, because that got updated immediately after 
everything else did (like, within a day or two) so it's closest to 
reflecting reality.

- Steph

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Saturday, June 03, 2006 12:43 AM
Subject: Re: [PHP-GTK-DEV] [PATCH] 5_2 compat stuff


&gt; Is there something better than ZEND_API_VERSION_NO that we can use? It's 
&gt; kind of ugly? Maybe a define for PHP version? I am not at my php-gtk 
&gt; machine right now, so I'll have to take a closer look at some parts of it 
&gt; when I get home.
&gt;
&gt; -Andrei
&gt;
&gt; On May 29, 2006, at 7:25 AM, Steph Fox wrote:
&gt;
&gt;&gt; Andrei, hi,
&gt;&gt;
&gt;&gt; I didn't like to apply anything this clunky without your say-so... but it 
&gt;&gt; works fine. It's just clunky.
&gt;&gt;
&gt;&gt; Still no closer to a solution for the shutdown crash tho' I'm afraid, 
&gt;&gt; unless we take 'the Zeev route'.
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt; &lt;php_gtk_5_2.txt&gt;--
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060603070156</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-03 07:01:56-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [PATCH] 5_2 compat stuff</subject><body>

ps I forgot to say 'check the SPL bits' - I'm not sure how far forward 
Marcus is with all that, but he seemed to think you should be using it 
fully - at least under 5_2...


----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Saturday, June 03, 2006 12:43 AM
Subject: Re: [PHP-GTK-DEV] [PATCH] 5_2 compat stuff


&gt; Is there something better than ZEND_API_VERSION_NO that we can use? It's 
&gt; kind of ugly? Maybe a define for PHP version? I am not at my php-gtk 
&gt; machine right now, so I'll have to take a closer look at some parts of it 
&gt; when I get home.
&gt;
&gt; -Andrei
&gt;
&gt; On May 29, 2006, at 7:25 AM, Steph Fox wrote:
&gt;
&gt;&gt; Andrei, hi,
&gt;&gt;
&gt;&gt; I didn't like to apply anything this clunky without your say-so... but it 
&gt;&gt; works fine. It's just clunky.
&gt;&gt;
&gt;&gt; Still no closer to a solution for the shutdown crash tho' I'm afraid, 
&gt;&gt; unless we take 'the Zeev route'.
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt; &lt;php_gtk_5_2.txt&gt;--
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060331180851</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-31 18:08:51-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkPixbuf Trouble</subject><body>


Andrei,

&gt; I made overrides for draw_rgb_image() and draw_rgb_32_image(). The 
&gt; _dithalign versions are no more. Try it now.
Does that mean that the gdkpixbuf animation example should work now?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060403054743</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-03 05:47:43-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkPixbuf Trouble</subject><body>

I don't know. I couldn't make it work.

-Andrei


On Mar 31, 2006, at 10:08 AM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;&gt; I made overrides for draw_rgb_image() and draw_rgb_32_image(). The
&gt;&gt; _dithalign versions are no more. Try it now.
&gt; Does that mean that the gdkpixbuf animation example should work now?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060701092033</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-01 09:20:33-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkTreeModelFilter constructor problem</subject><body>


Sorry,


&gt; and the first V needs to be replaced with N or O - I just get memleaks
&gt; all the time I do this and don't know how to fix it then :/
Sorry, the memleaks were from get_property. "O" works.
--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060702220713</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-02 22:07:13-0400</timestampReceived><subject>[PHP-GTK-DEV] accelerators and stock items - working or not working?</subject><body>

Hi all,

I was just playing with stock images/ gtkimagemenuitems and couldn't figure 
a way to make the accelgroup actually _do_ anything. Then found that the 
labels in them are supposed to have accelerators built-in anyway.  Erm, mine 
don't... they're just plain labels, despite what the stockbrowser demo says 
to the contrary, no underline, nothing.

Anyone got time to look into this at all?  Or is it just a Windows thing?

- Steph

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060703062138</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-03 06:21:38-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: [PHP-GTK] accelerators and stock items - working or not working?</subject><body>

Steph,

&gt; Anyone got time to look into this at all?  Or is it just a Windows thing?

The following code works for me:
&lt;?php
$wnd = new GtkWindow();
$wnd-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));
$group = new GtkAccelGroup();
$wnd-&gt;add_accel_group($group);

$new = new GtkImageMenuItem(Gtk::STOCK_NEW, $group);
$new-&gt;connect_simple('activate', 'onNew');

function onNew() {
    echo "new\n";
}

$bar = new GtkMenuBar();
$file = new GtkMenuItem('_File');
$bar-&gt;add($file);

$fMenu = new GtkMenu();
$file-&gt;set_submenu($fMenu);

$fMenu-&gt;add($new);

$wnd-&gt;add($bar);
$wnd-&gt;show_all();
Gtk::main();
?&gt;

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060704183543</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-04 18:35:43-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [Fwd: [Bug 344624] Memory leak in gtk_tree_model_filter_finalize:</subject><body>


&gt; Yeah, for which version though? I don't think we can wait for it to come
&gt; out.

Gtk 2.10 just fell out of the tree today, and has the memleaks fixed.

-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060604180408</emailId><senderName></senderName><senderEmail>andrei</senderEmail><timestampReceived>2006-06-04 18:04:08-0400</timestampReceived><subject>[PHP-GTK-DEV] #37504 [Opn]: Patch for GtkTreeSortable::set_(default_)sort_func</subject><body>

 ID:               37504
 Updated by:       andrei@php.net
 Reported By:      cweiske@php.net
 Status:           Open
 Bug Type:         PHP-GTK related
 Operating System: any
 PHP Version:      5.1.4
 New Comment:

Same things here as in another patch:

1. Put the declaration of marshaller into %headers section.

2. Assign value of retval to something before destroying it.

3. In GtkTreeModelFilter constructor, why use 'N' instead of 'V'? It's
the last parameter anyway, no need to allow user to pass NULL there.

Do you remember the problem we had with the set_visible() function? The
user data will not be freed and there will be a memory leak.


Previous Comments:
------------------------------------------------------------------------

[2006-05-18 18:31:44] cweiske@php.net

Forgot to mention that I had to modify gtk.defs to get the filter
constructor working.

http://xml.cweiske.de/patches/gtk.defs.diff

------------------------------------------------------------------------

[2006-05-18 18:30:52] cweiske@php.net

I added GtkTreeFilterModel constructor and set_visible_func (&amp;
GtkTreeModelFilterVisibleFunc marshaller) to the patches.

------------------------------------------------------------------------

[2006-05-18 16:03:50] cweiske@php.net

Description:
------------
At
http://xml.cweiske.de/patches/gtktreeview.overrides.diff
is a patch that implements
GtkTreeSortable::set_sort_func
GtkTreeSortable::set_default_sort_func
and the marshaller.




------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=37504&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060604205838</emailId><senderName></senderName><senderEmail>sfox</senderEmail><timestampReceived>2006-06-04 20:58:38-0400</timestampReceived><subject>[PHP-GTK-DEV] #37694 [Opn-&gt;Bgs]: Missing GtkCalendar::get_date() method</subject><body>

 ID:               37694
 Updated by:       sfox@php.net
 Reported By:      mr dot pounder at gmail dot com
-Status:           Open
+Status:           Bogus
 Bug Type:         PHP-GTK related
 Operating System: Win32
 PHP Version:      5.1.4
 New Comment:

Thank you for taking the time to report a problem with PHP.
Unfortunately you are not using a current version of PHP -- 
the problem might already be fixed. Please download a new
PHP version from http://www.php.net/downloads.php

If you are able to reproduce the bug with one of the latest
versions of PHP, please change the PHP version on this bug report
to the version you tested and change the status back to "Open".
Again, thank you for your continued support of PHP.

There's no officially released version of PHP-GTK 2, so if you aren't
building it at home you're looking at 'something you found on the net'.
 That could be anything.

get_date() was sorted out some time ago - if you still have problems
with it (or if it's still missing) after we release the alpha, then
please re-open this report.

Cheers,

- Steph


Previous Comments:
------------------------------------------------------------------------

[2006-06-04 16:14:41] mr dot pounder at gmail dot com

Description:
------------
The get_date() method for the GtkCalendar class in the Win32 DLL for
PHP-GTK2 is missing, and produces a fatal error when used.

Reproduce code:
---------------
&lt;?php
$window=new GladeXML("calendar.glade");
$window-&gt;signal_autoconnect();
Gtk::main();

function on_calendar_day_selected()
{
	global $window;
	$cal=$window-&gt;get_widget("calendar");
	print_r($cal-&gt;get_date());
	return;
}
?&gt;

Expected result:
----------------
Array
{
	[0]=2006
	[1]=06
	[2]=04
}


Actual result:
--------------
PHP Fatal error:  Call to undefined method GtkCalendar::get_date()

Fatal error: Call to undefined method GtkCalendar::get_date()


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=37694&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060605043123</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-06-05 04:31:23-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] h2def.py has a bug</subject><body>

&gt;&gt; (I didn't commit this change as I'm not the python guru and I don't know
&gt;&gt; why it worked for someone. It doesn't work for me with python 2.4.2)

The script did not work for me either. Personally, I never used the
h2def.py script (for the extensions) but rather authored the def files
by hand with a little help from sed.

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060605131117</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-05 13:11:17-0400</timestampReceived><subject>[PHP-GTK-DEV] win32 issues resolved</subject><body>

All,

We're just waiting for a module API debate to start and end on the internals 
list, but there's a known workaround for the problem that debate will 
address. So we can go ahead with a release this weekend, as far as win32 is 
concerned (many thanks to Dmitry for uncovering the ultimate problem).

Andrei: at one point Dmitry mentioned that he was seeing leaks in PHP-GTK 
under ZTS/Linux. I can't reproduce that here. You might want to look into 
it?

- Steph

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060607101052</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-06-07 10:10:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] utf8 issues in Scintilla</subject><body>

Hi Fernando,

&gt; I find a bug in scintilla. Is about utf8 thing. The php converts the
&gt; values from the variable to utf8 and give the utf8 version to scintiila,
&gt; but it expects the plain value, not the encoded value, so in this
&gt; function, by example, it set the value of scintilla with weird char(test
&gt; with "", so:

You are right, Scintilla expects un-encoded strings. Now fixed in CVS,
update and check.

&gt; If you agree that this is the best solution, I can search for the others
&gt;   functions where this happen and send to you all changes.

In addition to changing "u" to "s", we also need to call
phpg_from_utf8() to convert the UTF8 back. Check the last php-gtk-cvs
message if you're interested.

Bug reports and patches are most welcome, keep them coming :)

Thanks!

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060609174453</emailId><senderName></senderName><senderEmail>cweiske</senderEmail><timestampReceived>2006-06-09 17:44:53-0400</timestampReceived><subject>[PHP-GTK-DEV] #37500 [Opn-&gt;Csd]: Patches for GtkContainer::get/set_focus_chain, GtkWindow::g/s_defau</subject><body>

 ID:               37500
 Updated by:       cweiske@php.net
 Reported By:      cweiske@php.net
-Status:           Open
+Status:           Closed
 Bug Type:         PHP-GTK related
 Operating System: any
 PHP Version:      5.1.4
 New Comment:

This bug has been fixed in CVS.

Snapshots of the sources are packaged every three hours; this change
will be in the next snapshot. You can grab the snapshot at
http://snaps.php.net/.
 
Thank you for the report, and for helping us make PHP better.




Previous Comments:
------------------------------------------------------------------------

[2006-06-03 19:39:37] andrei@php.net

A couple of notes:

1. You should prepend the widgets to the focus chain, instead of
appending. Also, use better error messages:

+        if (php_gtk_check_class(*php_widget, gtkwidget_ce)) {
+            GtkWidget *widget =
GTK_WIDGET(PHPG_GOBJECT(*php_widget));
+            widgets = g_list_prepend(widgets, widget);
+        } else {
+            php_error(E_WARNING, "%s::%s() requires the focus chain
elements to be objects of class GtkWidget", get_active_class_name(NULL
TSRMLS_CC), get_active_function_name(TSRMLS_C));
+        }

2. Why do you have this in gtk.defs:

+(define-function gtk_tree_model_filter_new

3. See #1 for set_(default)_icon_list() also.

------------------------------------------------------------------------

[2006-05-18 14:32:11] cweiske@php.net

Description:
------------
Attached are patches for the following methods:
GtkContainer::get_focus_chain
GtkContainer::set_focus_chain
GtkWindow::get_icon_list
GtkWindow::set_icon_list
GtkWindow::get_default_icon_list
GtkWindow::set_default_icon_list
GtkIconTheme::list_icons

The patch files can be found at
http://xml.cweiske.de/patches/gtk.defs.diff
http://xml.cweiske.de/patches/gtkcontainer.overrides.diff
http://xml.cweiske.de/patches/gtk.overrides.diff



------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=37500&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060607042102</emailId><senderName>       Fernando_Conceio</senderName><senderEmail></senderEmail><timestampReceived>2006-06-07 04:21:02-0400</timestampReceived><subject>[PHP-GTK-DEV] utf8 issues in Scintilla</subject><body>

Hi!
I am using gtkscintilla2-0.6.0 because the 0.1.0 does not build on my
suse 10.0. I do not know if this matter.

I find a bug in scintilla. Is about utf8 thing. The php converts the
values from the variable to utf8 and give the utf8 version to scintiila,
but it expects the plain value, not the encoded value, so in this
function, by example, it set the value of scintilla with weird char(test
with "", so:

ex:
$sc = new GtkScintilla();
$sc-&gt;set_text("");

In this code:


static PHP_METHOD(GtkScintilla, set_text)
{
	char *text;
	zend_bool free_text = FALSE;

     NOT_STATIC_METHOD();

	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "u", &amp;text, &amp;free_text))
		return;

     gtk_scintilla_set_text(GTK_SCINTILLA(PHPG_GOBJECT(this_ptr)), text);
	if (free_text) g_free(text);

}

If we replace the "u" by "s" all works correct, I did not test the other
functions, but this might happen too.

If you agree that this is the best solution, I can search for the others 
   functions where this happen and send to you all changes.


Fernando Correa da Conceio

fernandoc@php.net


	

	
		
_______________________________________________________ 
Yahoo! doce lar. Faa do Yahoo! sua homepage. 
http://br.yahoo.com/homepageset.html 


-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060603185556</emailId><senderName></senderName><senderEmail>andrei</senderEmail><timestampReceived>2006-06-03 18:55:56-0400</timestampReceived><subject>[PHP-GTK-DEV] #37636 [Opn]: GdkPixbuf::new_from_gd transfers red colors only</subject><body>

 ID:               37636
 Updated by:       andrei@php.net
 Reported By:      cweiske@php.net
 Status:           Open
 Bug Type:         PHP-GTK related
 Operating System: Linux
 PHP Version:      5.1.4
 New Comment:

Can you provide a shorter example without using Image_Graph? My tests
show that everything transfers fine.

&lt;?php

$w = new GtkWindow();
$w-&gt;connect_simple('destroy', array('gtk', 'main_quit'));

$values = array(
           40,  50,  // Point 1 (x, y)
           20,  240, // Point 2 (x, y)
           60,  60,  // Point 3 (x, y)
           240, 20,  // Point 4 (x, y)
           50,  40,  // Point 5 (x, y)
           10,  10  // Point 6 (x, y)
           );

// create image
$image = imagecreatetruecolor(250, 250);

// some colors
$bg  = imagecolorallocate($image, 200, 200, 200);
imagefill($image, 0, 0, $bg);
imagecolortransparent($image, $bg);
$blue = imagecolorallocate($image, 150, 90, 255);

// draw a polygon
imagefilledpolygon($image, $values, 6, $blue);

$pixbuf = GdkPixbuf::new_from_gd($image);

$b = new GtkButton();
$pixmap = GtkImage::new_from_pixbuf($pixbuf);
$b-&gt;add($pixmap);
$w-&gt;add($b);
$w-&gt;show_all();

gtk::main();



Previous Comments:
------------------------------------------------------------------------

[2006-05-30 04:33:27] cweiske@php.net

Description:
------------
GdkPixbuf::new_from_gd() seems to transfer the red parts of the picture
to the pixbuf. Even when there is a black line, it appears light grey on
the pixbuf.

Reproduce code:
---------------
&lt;?php
//image_graph multiple plots usage example
error_reporting(E_ALL);
include 'Image/Graph.php';
// create the graph
$Graph =&amp; Image_Graph::factory('graph', array(600, 400));
// add a TrueType font
$Font =&amp; $Graph-&gt;addNew('font', 'Verdana');
// set the font size to 11 pixels
$Font-&gt;setSize(8);

$Graph-&gt;setFont($Font);

// create the plotarea
$Graph-&gt;add(
    Image_Graph::vertical(
        Image_Graph::vertical(
            $Title = Image_Graph::factory('title', array('Multiple
Plots', 11)),
            $SubTitle = Image_Graph::factory('title', array('This is a
demonstration of title alignment', 7)),
            90
        ),
        $Plotarea = Image_Graph::factory('plotarea'),
        8
    )
);	
$Title-&gt;setAlignment(IMAGE_GRAPH_ALIGN_LEFT);
$SubTitle-&gt;setAlignment(IMAGE_GRAPH_ALIGN_LEFT);
   
$Grid =&amp; $Plotarea-&gt;addNew('bar_grid', IMAGE_GRAPH_AXIS_Y);
$Grid-&gt;setFillStyle(Image_Graph::factory('gradient',
array(IMAGE_GRAPH_GRAD_VERTICAL, 'white', 'lightgrey')));    
	
$Plot =&amp; $Plotarea-&gt;addNew('Image_Graph_Plot_Smoothed_Area',
Image_Graph::factory('random', array(10, 20, 100, true)));
$Plot-&gt;setFillColor('red@0.2');

$Plot =&amp; $Plotarea-&gt;addNew('line', Image_Graph::factory('random',
array(10, 20, 100, true)));
$Plot-&gt;setLineColor('blue@0.2');
$CircleMarker =&amp; Image_Graph::factory('Image_Graph_Marker_Circle');
$Plot-&gt;setMarker($CircleMarker);
$CircleMarker-&gt;setFillColor('white@0.4');
    
$Plot =&amp; $Plotarea-&gt;addNew('bar', Image_Graph::factory('random',
array(10, 2, 40, true)));
$Plot-&gt;setFillColor('green@0.2');
$Marker =&amp; Image_Graph::factory('Image_Graph_Marker_Value',
IMAGE_GRAPH_VALUE_Y);
$Plot-&gt;setMarker($Marker);
$Marker-&gt;setFillColor('white');
$Marker-&gt;setBorderColor('black');
    
$AxisY = $Plotarea-&gt;getAxis(IMAGE_GRAPH_AXIS_Y);
$AxisY-&gt;showArrow();

$Array = array(
    "Jan-Feb\n2004", 
    "Mar-Apr\n2004", 
    "May-Jun\n2004", 
    "Jul-Aug\n2004", 
    "Sep-Oct\n2004", 
    "Nov-Dev\n2004", 
    "Jan-Feb\n2005", 
    "Mar-Apr\n2005", 
    "May-Jun\n2005", 
    "Jul-Aug\n2005" 
);
$AxisX = $Plotarea-&gt;getAxis(IMAGE_GRAPH_AXIS_X);
$AxisX-&gt;setDataPreprocessor(Image_Graph::factory('Image_Graph_DataPreprocessor_Array',
array($Array)));



//that is a critical line. Setting the output to "none" is important
$Graph-&gt;done(array('output' =&gt; 'none'));
$canvas = $Graph-&gt;_getCanvas();
$gd = $canvas-&gt;_canvas;
$pixbuf = GdkPixbuf::new_from_gd($gd);

$wnd = new GtkWindow();
$wnd-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));
$wnd-&gt;add(GtkImage::new_from_pixbuf($pixbuf));
$wnd-&gt;show_all();
Gtk::main();
?&gt;

Expected result:
----------------
http://xml.cweiske.de/2006-05-30%20multiple_slots_original.png

Actual result:
--------------
http://xml.cweiske.de/2006-05-30%20multiple_slots_gtk.png


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=37636&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060610050751</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-10 05:07:51-0400</timestampReceived><subject>[PHP-GTK-DEV] Gdk::devices_list -&gt; GdkDevice::devices_list()?</subject><body>


Hello all,

Currently, devices_list() is function of Gdk::.
I think it fits better into GdkDevice and thus be static method there.
It just needs a different name then, e.g.
GdkDevice::list_devices() or
GdkDevice::list() or
GdkDevice::devices_list() (default)

Which one should we use?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060608213401</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-08 21:34:01-0400</timestampReceived><subject>[PHP-GTK-DEV] PHP-Gtk coverage analysis</subject><body>


Hello all,


I wrote a php-gtk class generator coverage analysis based on the one for
the documentation. Should I add it to cvs, or isn't it worth that? Root
folder?

Example:
http://xml.cweiske.de/classcoverage.htm

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060603191015</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-03 19:10:15-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Error loading lib with php 5.1.4-debug and php-gtk2</subject><body>

Does this still happen for you?

-Andrei


On May 20, 2006, at 9:51 AM, Christian Weiske wrote:

&gt; Hi
&gt;
&gt;
&gt; I updated to php 5.1.4 without problems (php-gtk2 worked). When  
&gt; getting
&gt; a segfault I noted that I didn't activate the debug flag for php, so I
&gt; recompiled it and now the problems begin:
&gt; ---------
&gt; PHP Warning:  PHP Startup: Unable to load dynamic library
&gt; '/data/cvs/php/php5install/lib/php/extensions/debug-non- 
&gt; zts-20050922/php_gtk2.so'
&gt; -
&gt; /data/cvs/php/php5install/lib/php/extensions/debug-non-zts-20050922/ 
&gt; php_gtk2.so:
&gt; undefined symbol: _zval_ptr_dtor_wrapper in Unknown on line 0
&gt; ---------
&gt;
&gt; I'm using a totally fresh checkout of php-gtk2, but the problem exists
&gt; unless I switch to a non-debug php-5.1.4.
&gt;
&gt; And ideas?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060610050349</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-10 05:03:49-0400</timestampReceived><subject>[PHP-GTK-DEV] GdkScreen::alternative_dialog_button_order?</subject><body>


What is that?

gdk.defs:
(define-method alternative_dialog_button_order
  (of-object "GdkScreen")
  (c-name "gtk_alternative_dialog_button_order")
  (return-type "gboolean")
)

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060610173233</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-10 17:32:33-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkScreen::alternative_dialog_button_order?</subject><body>

no idea

-Andrei


On Jun 9, 2006, at 10:03 PM, Christian Weiske wrote:

&gt; What is that?
&gt;
&gt; gdk.defs:
&gt; (define-method alternative_dialog_button_order
&gt;   (of-object "GdkScreen")
&gt;   (c-name "gtk_alternative_dialog_button_order")
&gt;   (return-type "gboolean")
&gt; )
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060612121457</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-06-12 12:14:57-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkScreen::alternative_dialog_button_order?</subject><body>

Andrei Zmievski wrote:
&gt; no idea
&gt; 
&gt; -Andrei
&gt; 
&gt; 
&gt; On Jun 9, 2006, at 10:03 PM, Christian Weiske wrote:
&gt; 
&gt;&gt; What is that?
&gt;&gt;
&gt;&gt; gdk.defs:
&gt;&gt; (define-method alternative_dialog_button_order

Alternative button order is used to switch the order of buttons in a 
dialog. Normally you should have "Cancel" followed by "OK", but for 
accessibility reasons or on some operating systems, it may be better to 
have the affirmative first. This GkdScreen method/property allows you to 
create all of your dialogs once and then set one property to switch the 
order of the buttons.

I was working with this the other day while trying to doc some dialog 
stuff, but it wasn't working the way I thought it should. I am not sure 
if it is our issue of Gtk's. I was going to try and get my test working 
in C before I filed any bugs anywhere.

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060612121943</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-12 12:19:43-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkScreen::alternative_dialog_button_order?</subject><body>


Scott,

&gt; Alternative button order is used to switch the order of buttons in a
I know. The funny thing is "GdkScreen::" here, as the method was
assigned there for no reason.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060612124221</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-06-12 12:42:21-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkScreen::alternative_dialog_button_order?</subject><body>

gtk_alternative_dialog_button_order() takes a GdkScreen and then calls 
get_setting('gtk-alternative-dialog-order') on that screen. It makes 
sense to me to put it under GdkScreen. If it doesn't belong there, then 
it belongs in GtkSettings, but to get a GtkSettings object you need a 
GdkScreen anyway.

http://developer.gnome.org/doc/API/2.0/gtk/GtkDialog.html#gtk-alternative-dialog-button-order

Scott

Christian Weiske wrote:
&gt; Scott,
&gt; 
&gt;&gt; Alternative button order is used to switch the order of buttons in a
&gt; I know. The funny thing is "GdkScreen::" here, as the method was
&gt; assigned there for no reason.
&gt; 

-- 
Scott Mattocks
Author of: Pro PHP-GTK
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060612190725</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-12 19:07:25-0400</timestampReceived><subject>[PHP-GTK-DEV] ignore GtkCTreeNode methods?</subject><body>


Hello Andrei,


Since you don't want to add new methods to a deprecated class
(GtkCTree/GtkCList), it should be ok if I add all methods requiring a
GtkCTreeNode to the ignore list?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060610173323</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-10 17:33:23-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Error loading lib with php 5.1.4-debug and php-gtk2</subject><body>

Bump.

-Andrei


On Jun 3, 2006, at 12:10 PM, Andrei Zmievski wrote:

&gt; Does this still happen for you?
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On May 20, 2006, at 9:51 AM, Christian Weiske wrote:
&gt;
&gt;&gt; Hi
&gt;&gt;
&gt;&gt;
&gt;&gt; I updated to php 5.1.4 without problems (php-gtk2 worked). When  
&gt;&gt; getting
&gt;&gt; a segfault I noted that I didn't activate the debug flag for php,  
&gt;&gt; so I
&gt;&gt; recompiled it and now the problems begin:
&gt;&gt; ---------
&gt;&gt; PHP Warning:  PHP Startup: Unable to load dynamic library
&gt;&gt; '/data/cvs/php/php5install/lib/php/extensions/debug-non- 
&gt;&gt; zts-20050922/php_gtk2.so'
&gt;&gt; -
&gt;&gt; /data/cvs/php/php5install/lib/php/extensions/debug-non- 
&gt;&gt; zts-20050922/php_gtk2.so:
&gt;&gt; undefined symbol: _zval_ptr_dtor_wrapper in Unknown on line 0
&gt;&gt; ---------
&gt;&gt;
&gt;&gt; I'm using a totally fresh checkout of php-gtk2, but the problem  
&gt;&gt; exists
&gt;&gt; unless I switch to a non-debug php-5.1.4.
&gt;&gt;
&gt;&gt; And ideas?
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060612141318</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-12 14:13:18-0400</timestampReceived><subject>[PHP-GTK-DEV] [Fwd: [Bug 344624] Memory leak in gtk_tree_model_filter_finalize:</subject><body>


Seems as if they fixed it.

-------- Original Message --------
Subject: [Bug 344624] Memory leak in gtk_tree_model_filter_finalize:
User data not freed
Date: Mon, 12 Jun 2006 09:41:09 -0400 (EDT)
From: gtk+ (bugzilla.gnome.org) &lt;bugzilla-daemon@bugzilla.gnome.org&gt;
To: cweiske@cweiske.de

Do not reply to this via email (we are currently unable to handle email
responses and they get discarded).  You can add comments to this bug at
http://bugzilla.gnome.org/show_bug.cgi?id=344624
 gtk+ | GtkTreeView | Ver: 2.8.x


Matthias Clasen changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
                 CC|                            |mclasen@redhat.com
             Status|UNCONFIRMED                 |RESOLVED
         Resolution|                            |FIXED




------- Comment #1 from Matthias Clasen  2006-06-12 13:41 UTC -------
2006-06-12  Matthias Clasen  &lt;mclasen@redhat.com&gt;

        * gtk/gtktreemodelfilter.c (gtk_tree_model_filter_finalize):
        Clean up user data.  (#344624, Christian Weiske)


-- 
Configure bugmail: http://bugzilla.gnome.org/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You reported the bug.


-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060613171810</emailId><senderName>       84.45.225.28</senderName><senderEmail></senderEmail><timestampReceived>2006-06-13 17:18:10-0400</timestampReceived><subject>[PHP-GTK-DEV] glade</subject><body>

Will php-gtk2 support loading Glade file..like pyGtk..?

eg
$foo = $gtk.glade.XML('ui.glade')

this would be fantastic for php-gtk adoption

regards
Pete

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060614191753</emailId><senderName>"Webmaster Phelios.org"</senderName><senderEmail>webmaster@phelios.org</senderEmail><timestampReceived>2006-06-14 19:17:53-0400</timestampReceived><subject>[PHP-GTK-DEV] Suggestion and Add-on Request</subject><body>

Greetings everyone

I know that you have better things to do besides doing cosmetic work on 
PHP-GTK and maybe this post should be at GTK own mailing list but this I 
would like to solve a issue that a Tab in GtkNotebook is giving to many 
programmers outhere an headache ( including me ).

After some googling just to get a [ X ] on a far side of a tab I came up 
with some way of customizing of a tab but for Python.

Here is my workaround


$lb = new GtkLabel("Current Files");
$button = new GtkButton("");
$button-&gt;set_image(GtkImage::new_from_stock(Gtk::STOCK_CLOSE, 
Gtk::ICON_SIZE_MENU));
            
$btbox = new GtkHBox(false,1);
$btbox-&gt;set_size_request(150,20);
$btbox-&gt;set_spacing(5);
$btbox-&gt;pack_start($lb,true,false,0);
$btbox-&gt;pack_start($button,true,false,0);
$btbox-&gt;show_all();

This looks kinda weird since I don't how to place a 'flat' button

I would like to know if anyone has already achieved similar workarounds 
ou hacked their way to the GtkNotebook class to provide this getting to 
work properly without many hassle.

If can provide some source code to compare to mine it would be great.

Thank you very much  :-D
Pedro

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060615174258</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-15 17:42:58-0400</timestampReceived><subject>[PHP-GTK-DEV] Fw: [ZEND-ENGINE-CVS] cvs: ZendEngine2(PHP_5_2) / zend_API.c zend_API.h zend_modules.h</subject><body>

OK that's it, it's in. Now back to the question of whether to use it 
straight away?

----- Original Message ----- 
From: "Dmitry Stogov" &lt;dmitry@php.net&gt;
To: &lt;zend-engine-cvs@lists.php.net&gt;
Sent: Thursday, June 15, 2006 4:03 PM
Subject: [ZEND-ENGINE-CVS] cvs: ZendEngine2(PHP_5_2) / zend_API.c zend_API.h 
zend_modules.h


&gt; dmitry Thu Jun 15 14:03:21 2006 UTC
&gt; 
&gt; Modified files:              (Branch: PHP_5_2)
&gt; /ZendEngine2 zend_API.c zend_API.h zend_modules.h
&gt; Log:
&gt; MFH: Added automatic module globals management.
&gt; 
&gt; 
&gt; http://cvs.php.net/viewcvs.cgi/ZendEngine2/zend_API.c?r1=1.296.2.27.2.17&amp;r2=1.296.2.27.2.18&amp;diff_format=u
&gt;                 
&gt; Index: ZendEngine2/zend_API.c
&gt; diff -u ZendEngine2/zend_API.c:1.296.2.27.2.17 
&gt; ZendEngine2/zend_API.c:1.296.2.27.2.18
&gt; --- ZendEngine2/zend_API.c:1.296.2.27.2.17 Wed Jun  7 09:43:54 2006
&gt; +++ ZendEngine2/zend_API.c Thu Jun 15 14:03:21 2006
&gt; @@ -18,7 +18,7 @@
&gt; 
&gt; +----------------------------------------------------------------------+
&gt; */
&gt; 
&gt; -/* $Id: zend_API.c,v 1.296.2.27.2.17 2006/06/07 09:43:54 helly Exp $ */
&gt; +/* $Id: zend_API.c,v 1.296.2.27.2.18 2006/06/15 14:03:21 dmitry Exp $ */
&gt; 
&gt; #include "zend.h"
&gt; #include "zend_execute.h"
&gt; @@ -1448,6 +1448,17 @@
&gt; }
&gt; }
&gt; 
&gt; + /* Initialize module globals */
&gt; + if (module-&gt;globals_size) {
&gt; +#ifdef ZTS
&gt; + ts_allocate_id(module-&gt;globals_id_ptr, module-&gt;globals_size, 
&gt; (ts_allocate_ctor) module-&gt;globals_ctor, (ts_allocate_dtor) 
&gt; module-&gt;globals_dtor);
&gt; +#else
&gt; + if (module-&gt;globals_ctor) {
&gt; + module-&gt;globals_ctor(module-&gt;globals_ptr TSRMLS_CC);
&gt; + }
&gt; +#endif
&gt; + }
&gt; +
&gt; if (module-&gt;module_startup_func) {
&gt; EG(current_module) = module;
&gt; if (module-&gt;module_startup_func(module-&gt;type, module-&gt;module_number 
&gt; TSRMLS_CC)==FAILURE) {
&gt; @@ -1881,6 +1892,18 @@
&gt; #endif
&gt; module-&gt;module_shutdown_func(module-&gt;type, module-&gt;module_number 
&gt; TSRMLS_CC);
&gt; }
&gt; +
&gt; + /* Deinitilaise module globals */
&gt; + if (module-&gt;globals_size) {
&gt; +#ifdef ZTS
&gt; + ts_free_id(*module-&gt;globals_id_ptr);
&gt; +#else
&gt; + if (module-&gt;globals_dtor) {
&gt; + module-&gt;globals_dtor(module-&gt;globals_ptr TSRMLS_CC);
&gt; + }
&gt; +#endif
&gt; + }
&gt; +
&gt; module-&gt;module_started=0;
&gt; if (module-&gt;functions) {
&gt; zend_unregister_functions(module-&gt;functions, -1, NULL TSRMLS_CC);
&gt; http://cvs.php.net/viewcvs.cgi/ZendEngine2/zend_API.h?r1=1.207.2.8.2.3&amp;r2=1.207.2.8.2.4&amp;diff_format=u
&gt;                 
&gt; Index: ZendEngine2/zend_API.h
&gt; diff -u ZendEngine2/zend_API.h:1.207.2.8.2.3 
&gt; ZendEngine2/zend_API.h:1.207.2.8.2.4
&gt; --- ZendEngine2/zend_API.h:1.207.2.8.2.3 Wed Jun  7 09:43:54 2006
&gt; +++ ZendEngine2/zend_API.h Thu Jun 15 14:03:21 2006
&gt; @@ -18,7 +18,7 @@
&gt; 
&gt; +----------------------------------------------------------------------+
&gt; */
&gt; 
&gt; -/* $Id: zend_API.h,v 1.207.2.8.2.3 2006/06/07 09:43:54 helly Exp $ */
&gt; +/* $Id: zend_API.h,v 1.207.2.8.2.4 2006/06/15 14:03:21 dmitry Exp $ */
&gt; 
&gt; #ifndef ZEND_API_H
&gt; #define ZEND_API_H
&gt; @@ -79,6 +79,8 @@
&gt; #define ZEND_MODULE_DEACTIVATE_N(module) zm_deactivate_##module
&gt; #define ZEND_MODULE_POST_ZEND_DEACTIVATE_N(module) 
&gt; zm_post_zend_deactivate_##module
&gt; #define ZEND_MODULE_INFO_N(module) zm_info_##module
&gt; +#define ZEND_MODULE_GLOBALS_CTOR_N(module)  zm_globals_ctor_##module
&gt; +#define ZEND_MODULE_GLOBALS_DTOR_N(module)  zm_globals_dtor_##module
&gt; 
&gt; /* Declaration macros */
&gt; #define ZEND_MODULE_STARTUP_D(module) int 
&gt; ZEND_MODULE_STARTUP_N(module)(INIT_FUNC_ARGS)
&gt; @@ -87,6 +89,8 @@
&gt; #define ZEND_MODULE_DEACTIVATE_D(module) int 
&gt; ZEND_MODULE_DEACTIVATE_N(module)(SHUTDOWN_FUNC_ARGS)
&gt; #define ZEND_MODULE_POST_ZEND_DEACTIVATE_D(module) int 
&gt; ZEND_MODULE_POST_ZEND_DEACTIVATE_N(module)(void)
&gt; #define ZEND_MODULE_INFO_D(module) void 
&gt; ZEND_MODULE_INFO_N(module)(ZEND_MODULE_INFO_FUNC_ARGS)
&gt; +#define ZEND_MODULE_GLOBALS_CTOR_D(module)  void 
&gt; ZEND_MODULE_GLOBALS_CTOR_N(module)(zend_##module##_globals 
&gt; *module##_globals TSRMLS_DC)
&gt; +#define ZEND_MODULE_GLOBALS_DTOR_D(module)  void 
&gt; ZEND_MODULE_GLOBALS_DTOR_N(module)(zend_##module##_globals 
&gt; *module##_globals TSRMLS_DC)
&gt; 
&gt; #define ZEND_GET_MODULE(name) \
&gt; BEGIN_EXTERN_C()\
&gt; @@ -611,12 +615,16 @@
&gt; #define ZEND_RINIT ZEND_MODULE_ACTIVATE_N
&gt; #define ZEND_RSHUTDOWN ZEND_MODULE_DEACTIVATE_N
&gt; #define ZEND_MINFO ZEND_MODULE_INFO_N
&gt; +#define ZEND_GINIT(module) ((void (*)(void* 
&gt; TSRMLS_DC))(ZEND_MODULE_GLOBALS_CTOR_N(module)))
&gt; +#define ZEND_GSHUTDOWN(module) ((void (*)(void* 
&gt; TSRMLS_DC))(ZEND_MODULE_GLOBALS_DTOR_N(module)))
&gt; 
&gt; #define ZEND_MINIT_FUNCTION ZEND_MODULE_STARTUP_D
&gt; #define ZEND_MSHUTDOWN_FUNCTION ZEND_MODULE_SHUTDOWN_D
&gt; #define ZEND_RINIT_FUNCTION ZEND_MODULE_ACTIVATE_D
&gt; #define ZEND_RSHUTDOWN_FUNCTION ZEND_MODULE_DEACTIVATE_D
&gt; #define ZEND_MINFO_FUNCTION ZEND_MODULE_INFO_D
&gt; +#define ZEND_GINIT_FUNCTION ZEND_MODULE_GLOBALS_CTOR_D
&gt; +#define ZEND_GSHUTDOWN_FUNCTION ZEND_MODULE_GLOBALS_DTOR_D
&gt; 
&gt; END_EXTERN_C()
&gt; 
&gt; http://cvs.php.net/viewcvs.cgi/ZendEngine2/zend_modules.h?r1=1.67.2.3.2.1&amp;r2=1.67.2.3.2.2&amp;diff_format=u
&gt;                 
&gt; Index: ZendEngine2/zend_modules.h
&gt; diff -u ZendEngine2/zend_modules.h:1.67.2.3.2.1 
&gt; ZendEngine2/zend_modules.h:1.67.2.3.2.2
&gt; --- ZendEngine2/zend_modules.h:1.67.2.3.2.1 Tue May  9 23:53:23 2006
&gt; +++ ZendEngine2/zend_modules.h Thu Jun 15 14:03:21 2006
&gt; @@ -17,7 +17,7 @@
&gt; 
&gt; +----------------------------------------------------------------------+
&gt; */
&gt; 
&gt; -/* $Id: zend_modules.h,v 1.67.2.3.2.1 2006/05/09 23:53:23 helly Exp $ */
&gt; +/* $Id: zend_modules.h,v 1.67.2.3.2.2 2006/06/15 14:03:21 dmitry Exp $ */
&gt; 
&gt; #ifndef MODULES_H
&gt; #define MODULES_H
&gt; @@ -39,7 +39,7 @@
&gt; extern struct _zend_arg_info fifth_arg_force_ref[6];
&gt; extern struct _zend_arg_info all_args_by_ref[1];
&gt; 
&gt; -#define ZEND_MODULE_API_NO 20050922
&gt; +#define ZEND_MODULE_API_NO 20060613
&gt; #ifdef ZTS
&gt; #define USING_ZTS 1
&gt; #else
&gt; @@ -52,10 +52,18 @@
&gt; #define ZE2_STANDARD_MODULE_HEADER \
&gt; STANDARD_MODULE_HEADER_EX, ini_entries, NULL
&gt; 
&gt; -#define STANDARD_MODULE_PROPERTIES_EX 0, 0, 0, NULL, 0
&gt; +#define STANDARD_MODULE_PROPERTIES_EX 0, 0, NULL, 0
&gt; +
&gt; +#define NO_MODULE_GLOBASLS 0, NULL, NULL, NULL
&gt; +
&gt; +#ifdef ZTS
&gt; +# define ZEND_MODULE_GLOBALS(module_name) 
&gt; sizeof(zend_##module_name##_globals), &amp;module_name##_globals_id
&gt; +#else
&gt; +# define ZEND_MODULE_GLOBALS(module_name) 
&gt; sizeof(zend_##module_name##_globals), &amp;module_name##_globals
&gt; +#endif
&gt; 
&gt; #define STANDARD_MODULE_PROPERTIES \
&gt; - NULL, STANDARD_MODULE_PROPERTIES_EX
&gt; + NO_MODULE_GLOBASLS, NULL, STANDARD_MODULE_PROPERTIES_EX
&gt; 
&gt; #define NO_VERSION_YET NULL
&gt; 
&gt; @@ -81,8 +89,15 @@
&gt; int (*request_shutdown_func)(SHUTDOWN_FUNC_ARGS);
&gt; void (*info_func)(ZEND_MODULE_INFO_FUNC_ARGS);
&gt; char *version;
&gt; + size_t globals_size;
&gt; +#ifdef ZTS
&gt; + ts_rsrc_id* globals_id_ptr;
&gt; +#else
&gt; + void* globals_ptr;
&gt; +#endif
&gt; + void (*globals_ctor)(void *global TSRMLS_DC);
&gt; + void (*globals_dtor)(void *global TSRMLS_DC);
&gt; int (*post_deactivate_func)(void);
&gt; - int globals_id;
&gt; int module_started;
&gt; unsigned char type;
&gt; void *handle;
&gt; 
&gt; -- 
&gt; Zend Engine CVS Mailing List (http://cvs.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060615181804</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-15 18:18:04-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Fw: [ZEND-ENGINE-CVS] cvs: ZendEngine2(PHP_5_2) / zend_API.c zend_API.h zend_modul</subject><body>

Why not.

-Andrei


On Jun 15, 2006, at 1:42 PM, Steph Fox wrote:

&gt; OK that's it, it's in. Now back to the question of whether to use  
&gt; it straight away?
&gt;
&gt; ----- Original Message ----- From: "Dmitry Stogov" &lt;dmitry@php.net&gt;
&gt; To: &lt;zend-engine-cvs@lists.php.net&gt;
&gt; Sent: Thursday, June 15, 2006 4:03 PM
&gt; Subject: [ZEND-ENGINE-CVS] cvs: ZendEngine2(PHP_5_2) / zend_API.c  
&gt; zend_API.h zend_modules.h
&gt;
&gt;
&gt;&gt; dmitry Thu Jun 15 14:03:21 2006 UTC
&gt;&gt;
&gt;&gt;  Modified files:              (Branch: PHP_5_2)
&gt;&gt;    /ZendEngine2 zend_API.c zend_API.h zend_modules.h
&gt;&gt;  Log:
&gt;&gt;  MFH: Added automatic module globals management.
&gt;&gt;
&gt;&gt;
&gt;&gt; http://cvs.php.net/viewcvs.cgi/ZendEngine2/zend_API.c? 
&gt;&gt; r1=1.296.2.27.2.17&amp;r2=1.296.2.27.2.18&amp;diff_format=u
&gt;&gt; Index: ZendEngine2/zend_API.c
&gt;&gt; diff -u ZendEngine2/zend_API.c:1.296.2.27.2.17 ZendEngine2/ 
&gt;&gt; zend_API.c:1.296.2.27.2.18
&gt;&gt; --- ZendEngine2/zend_API.c:1.296.2.27.2.17 Wed Jun  7 09:43:54 2006
&gt;&gt; +++ ZendEngine2/zend_API.c Thu Jun 15 14:03:21 2006
&gt;&gt; @@ -18,7 +18,7 @@
&gt;&gt; +-------------------------------------------------------------------- 
&gt;&gt; --+
&gt;&gt; */
&gt;&gt;
&gt;&gt; -/* $Id: zend_API.c,v 1.296.2.27.2.17 2006/06/07 09:43:54 helly  
&gt;&gt; Exp $ */
&gt;&gt; +/* $Id: zend_API.c,v 1.296.2.27.2.18 2006/06/15 14:03:21 dmitry  
&gt;&gt; Exp $ */
&gt;&gt;
&gt;&gt; #include "zend.h"
&gt;&gt; #include "zend_execute.h"
&gt;&gt; @@ -1448,6 +1448,17 @@
&gt;&gt;  }
&gt;&gt;  }
&gt;&gt;
&gt;&gt; + /* Initialize module globals */
&gt;&gt; + if (module-&gt;globals_size) {
&gt;&gt; +#ifdef ZTS
&gt;&gt; + ts_allocate_id(module-&gt;globals_id_ptr, module-&gt;globals_size,  
&gt;&gt; (ts_allocate_ctor) module-&gt;globals_ctor, (ts_allocate_dtor) module- 
&gt;&gt; &gt;globals_dtor);
&gt;&gt; +#else
&gt;&gt; + if (module-&gt;globals_ctor) {
&gt;&gt; + module-&gt;globals_ctor(module-&gt;globals_ptr TSRMLS_CC);
&gt;&gt; + }
&gt;&gt; +#endif
&gt;&gt; + }
&gt;&gt; +
&gt;&gt;  if (module-&gt;module_startup_func) {
&gt;&gt;  EG(current_module) = module;
&gt;&gt;  if (module-&gt;module_startup_func(module-&gt;type, module- 
&gt;&gt; &gt;module_number TSRMLS_CC)==FAILURE) {
&gt;&gt; @@ -1881,6 +1892,18 @@
&gt;&gt; #endif
&gt;&gt;  module-&gt;module_shutdown_func(module-&gt;type, module-&gt;module_number  
&gt;&gt; TSRMLS_CC);
&gt;&gt;  }
&gt;&gt; +
&gt;&gt; + /* Deinitilaise module globals */
&gt;&gt; + if (module-&gt;globals_size) {
&gt;&gt; +#ifdef ZTS
&gt;&gt; + ts_free_id(*module-&gt;globals_id_ptr);
&gt;&gt; +#else
&gt;&gt; + if (module-&gt;globals_dtor) {
&gt;&gt; + module-&gt;globals_dtor(module-&gt;globals_ptr TSRMLS_CC);
&gt;&gt; + }
&gt;&gt; +#endif
&gt;&gt; + }
&gt;&gt; +
&gt;&gt;  module-&gt;module_started=0;
&gt;&gt;  if (module-&gt;functions) {
&gt;&gt;  zend_unregister_functions(module-&gt;functions, -1, NULL TSRMLS_CC);
&gt;&gt; http://cvs.php.net/viewcvs.cgi/ZendEngine2/zend_API.h? 
&gt;&gt; r1=1.207.2.8.2.3&amp;r2=1.207.2.8.2.4&amp;diff_format=u
&gt;&gt; Index: ZendEngine2/zend_API.h
&gt;&gt; diff -u ZendEngine2/zend_API.h:1.207.2.8.2.3 ZendEngine2/ 
&gt;&gt; zend_API.h:1.207.2.8.2.4
&gt;&gt; --- ZendEngine2/zend_API.h:1.207.2.8.2.3 Wed Jun  7 09:43:54 2006
&gt;&gt; +++ ZendEngine2/zend_API.h Thu Jun 15 14:03:21 2006
&gt;&gt; @@ -18,7 +18,7 @@
&gt;&gt; +-------------------------------------------------------------------- 
&gt;&gt; --+
&gt;&gt; */
&gt;&gt;
&gt;&gt; -/* $Id: zend_API.h,v 1.207.2.8.2.3 2006/06/07 09:43:54 helly Exp  
&gt;&gt; $ */
&gt;&gt; +/* $Id: zend_API.h,v 1.207.2.8.2.4 2006/06/15 14:03:21 dmitry Exp  
&gt;&gt; $ */
&gt;&gt;
&gt;&gt; #ifndef ZEND_API_H
&gt;&gt; #define ZEND_API_H
&gt;&gt; @@ -79,6 +79,8 @@
&gt;&gt; #define ZEND_MODULE_DEACTIVATE_N(module) zm_deactivate_##module
&gt;&gt; #define ZEND_MODULE_POST_ZEND_DEACTIVATE_N(module)  
&gt;&gt; zm_post_zend_deactivate_##module
&gt;&gt; #define ZEND_MODULE_INFO_N(module) zm_info_##module
&gt;&gt; +#define ZEND_MODULE_GLOBALS_CTOR_N(module)  zm_globals_ctor_##module
&gt;&gt; +#define ZEND_MODULE_GLOBALS_DTOR_N(module)  zm_globals_dtor_##module
&gt;&gt;
&gt;&gt; /* Declaration macros */
&gt;&gt; #define ZEND_MODULE_STARTUP_D(module) int ZEND_MODULE_STARTUP_N 
&gt;&gt; (module)(INIT_FUNC_ARGS)
&gt;&gt; @@ -87,6 +89,8 @@
&gt;&gt; #define ZEND_MODULE_DEACTIVATE_D(module) int  
&gt;&gt; ZEND_MODULE_DEACTIVATE_N(module)(SHUTDOWN_FUNC_ARGS)
&gt;&gt; #define ZEND_MODULE_POST_ZEND_DEACTIVATE_D(module) int  
&gt;&gt; ZEND_MODULE_POST_ZEND_DEACTIVATE_N(module)(void)
&gt;&gt; #define ZEND_MODULE_INFO_D(module) void ZEND_MODULE_INFO_N(module) 
&gt;&gt; (ZEND_MODULE_INFO_FUNC_ARGS)
&gt;&gt; +#define ZEND_MODULE_GLOBALS_CTOR_D(module)  void  
&gt;&gt; ZEND_MODULE_GLOBALS_CTOR_N(module)(zend_##module##_globals  
&gt;&gt; *module##_globals TSRMLS_DC)
&gt;&gt; +#define ZEND_MODULE_GLOBALS_DTOR_D(module)  void  
&gt;&gt; ZEND_MODULE_GLOBALS_DTOR_N(module)(zend_##module##_globals  
&gt;&gt; *module##_globals TSRMLS_DC)
&gt;&gt;
&gt;&gt; #define ZEND_GET_MODULE(name) \
&gt;&gt;     BEGIN_EXTERN_C()\
&gt;&gt; @@ -611,12 +615,16 @@
&gt;&gt; #define ZEND_RINIT ZEND_MODULE_ACTIVATE_N
&gt;&gt; #define ZEND_RSHUTDOWN ZEND_MODULE_DEACTIVATE_N
&gt;&gt; #define ZEND_MINFO ZEND_MODULE_INFO_N
&gt;&gt; +#define ZEND_GINIT(module) ((void (*)(void* TSRMLS_DC)) 
&gt;&gt; (ZEND_MODULE_GLOBALS_CTOR_N(module)))
&gt;&gt; +#define ZEND_GSHUTDOWN(module) ((void (*)(void* TSRMLS_DC)) 
&gt;&gt; (ZEND_MODULE_GLOBALS_DTOR_N(module)))
&gt;&gt;
&gt;&gt; #define ZEND_MINIT_FUNCTION ZEND_MODULE_STARTUP_D
&gt;&gt; #define ZEND_MSHUTDOWN_FUNCTION ZEND_MODULE_SHUTDOWN_D
&gt;&gt; #define ZEND_RINIT_FUNCTION ZEND_MODULE_ACTIVATE_D
&gt;&gt; #define ZEND_RSHUTDOWN_FUNCTION ZEND_MODULE_DEACTIVATE_D
&gt;&gt; #define ZEND_MINFO_FUNCTION ZEND_MODULE_INFO_D
&gt;&gt; +#define ZEND_GINIT_FUNCTION ZEND_MODULE_GLOBALS_CTOR_D
&gt;&gt; +#define ZEND_GSHUTDOWN_FUNCTION ZEND_MODULE_GLOBALS_DTOR_D
&gt;&gt;
&gt;&gt; END_EXTERN_C()
&gt;&gt;
&gt;&gt; http://cvs.php.net/viewcvs.cgi/ZendEngine2/zend_modules.h? 
&gt;&gt; r1=1.67.2.3.2.1&amp;r2=1.67.2.3.2.2&amp;diff_format=u
&gt;&gt; Index: ZendEngine2/zend_modules.h
&gt;&gt; diff -u ZendEngine2/zend_modules.h:1.67.2.3.2.1 ZendEngine2/ 
&gt;&gt; zend_modules.h:1.67.2.3.2.2
&gt;&gt; --- ZendEngine2/zend_modules.h:1.67.2.3.2.1 Tue May  9 23:53:23 2006
&gt;&gt; +++ ZendEngine2/zend_modules.h Thu Jun 15 14:03:21 2006
&gt;&gt; @@ -17,7 +17,7 @@
&gt;&gt; +-------------------------------------------------------------------- 
&gt;&gt; --+
&gt;&gt; */
&gt;&gt;
&gt;&gt; -/* $Id: zend_modules.h,v 1.67.2.3.2.1 2006/05/09 23:53:23 helly  
&gt;&gt; Exp $ */
&gt;&gt; +/* $Id: zend_modules.h,v 1.67.2.3.2.2 2006/06/15 14:03:21 dmitry  
&gt;&gt; Exp $ */
&gt;&gt;
&gt;&gt; #ifndef MODULES_H
&gt;&gt; #define MODULES_H
&gt;&gt; @@ -39,7 +39,7 @@
&gt;&gt; extern struct _zend_arg_info fifth_arg_force_ref[6];
&gt;&gt; extern struct _zend_arg_info all_args_by_ref[1];
&gt;&gt;
&gt;&gt; -#define ZEND_MODULE_API_NO 20050922
&gt;&gt; +#define ZEND_MODULE_API_NO 20060613
&gt;&gt; #ifdef ZTS
&gt;&gt; #define USING_ZTS 1
&gt;&gt; #else
&gt;&gt; @@ -52,10 +52,18 @@
&gt;&gt; #define ZE2_STANDARD_MODULE_HEADER \
&gt;&gt;  STANDARD_MODULE_HEADER_EX, ini_entries, NULL
&gt;&gt;
&gt;&gt; -#define STANDARD_MODULE_PROPERTIES_EX 0, 0, 0, NULL, 0
&gt;&gt; +#define STANDARD_MODULE_PROPERTIES_EX 0, 0, NULL, 0
&gt;&gt; +
&gt;&gt; +#define NO_MODULE_GLOBASLS 0, NULL, NULL, NULL
&gt;&gt; +
&gt;&gt; +#ifdef ZTS
&gt;&gt; +# define ZEND_MODULE_GLOBALS(module_name) sizeof 
&gt;&gt; (zend_##module_name##_globals), &amp;module_name##_globals_id
&gt;&gt; +#else
&gt;&gt; +# define ZEND_MODULE_GLOBALS(module_name) sizeof 
&gt;&gt; (zend_##module_name##_globals), &amp;module_name##_globals
&gt;&gt; +#endif
&gt;&gt;
&gt;&gt; #define STANDARD_MODULE_PROPERTIES \
&gt;&gt; - NULL, STANDARD_MODULE_PROPERTIES_EX
&gt;&gt; + NO_MODULE_GLOBASLS, NULL, STANDARD_MODULE_PROPERTIES_EX
&gt;&gt;
&gt;&gt; #define NO_VERSION_YET NULL
&gt;&gt;
&gt;&gt; @@ -81,8 +89,15 @@
&gt;&gt;  int (*request_shutdown_func)(SHUTDOWN_FUNC_ARGS);
&gt;&gt;  void (*info_func)(ZEND_MODULE_INFO_FUNC_ARGS);
&gt;&gt;  char *version;
&gt;&gt; + size_t globals_size;
&gt;&gt; +#ifdef ZTS
&gt;&gt; + ts_rsrc_id* globals_id_ptr;
&gt;&gt; +#else
&gt;&gt; + void* globals_ptr;
&gt;&gt; +#endif
&gt;&gt; + void (*globals_ctor)(void *global TSRMLS_DC);
&gt;&gt; + void (*globals_dtor)(void *global TSRMLS_DC);
&gt;&gt;  int (*post_deactivate_func)(void);
&gt;&gt; - int globals_id;
&gt;&gt;  int module_started;
&gt;&gt;  unsigned char type;
&gt;&gt;  void *handle;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Zend Engine CVS Mailing List (http://cvs.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060613172018</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-06-13 17:20:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] glade</subject><body>

Pedro wrote:
&gt; Will php-gtk2 support loading Glade file..like pyGtk..?

http://gtk.php.net/manual/en/tutorials.helloglade.php

-- 
Scott Mattocks
Author of: Pro PHP-GTK
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060612181927</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-12 18:19:27-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [Fwd: [Bug 344624] Memory leak in gtk_tree_model_filter_finalize: User data not fr</subject><body>

Yeah, for which version though? I don't think we can wait for it to  
come out.

On Jun 12, 2006, at 7:13 AM, Christian Weiske wrote:

&gt; Seems as if they fixed it.
&gt;
&gt; -------- Original Message --------
&gt; Subject: [Bug 344624] Memory leak in gtk_tree_model_filter_finalize:
&gt; User data not freed
&gt; Date: Mon, 12 Jun 2006 09:41:09 -0400 (EDT)
&gt; From: gtk+ (bugzilla.gnome.org) &lt;bugzilla-daemon@bugzilla.gnome.org&gt;
&gt; To: cweiske@cweiske.de
&gt;
&gt; Do not reply to this via email (we are currently unable to handle email
&gt; responses and they get discarded).  You can add comments to this bug at
&gt; http://bugzilla.gnome.org/show_bug.cgi?id=344624
&gt;  gtk+ | GtkTreeView | Ver: 2.8.x
&gt;
&gt;
&gt; Matthias Clasen changed:
&gt;
&gt;            What    |Removed                     |Added
&gt; ----------------------------------------------------------------------- 
&gt; -----
&gt;                  CC|                            |mclasen@redhat.com
&gt;              Status|UNCONFIRMED                 |RESOLVED
&gt;          Resolution|                            |FIXED
&gt;
&gt;
&gt;
&gt;
&gt; ------- Comment #1 from Matthias Clasen  2006-06-12 13:41 UTC -------
&gt; 2006-06-12  Matthias Clasen  &lt;mclasen@redhat.com&gt;
&gt;
&gt;         * gtk/gtktreemodelfilter.c (gtk_tree_model_filter_finalize):
&gt;         Clean up user data.  (#344624, Christian Weiske)
&gt;
&gt;
&gt; -- 
&gt; Configure bugmail: http://bugzilla.gnome.org/userprefs.cgi?tab=email
&gt; ------- You are receiving this mail because: -------
&gt; You reported the bug.
&gt;
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060612183452</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-12 18:34:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [Fwd: [Bug 344624] Memory leak in gtk_tree_model_filter_finalize:</subject><body>


&gt; Yeah, for which version though? I don't think we can wait for it to 
&gt; come out.
So we shall omit the method because the underlying libs have a bug that
leaks memory? If we do that, we would have to wait until no bugs are
open in the gtk+ bugtracker.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060612211619</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-12 21:16:19-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [Fwd: [Bug 344624] Memory leak in gtk_tree_model_filter_finalize: User data not fr</subject><body>

We can either omit the method until GTK+ fixes it or enable the method 
and just let users live with the memory leak.

-Andrei

On Jun 12, 2006, at 11:34 AM, Christian Weiske wrote:

&gt;&gt; Yeah, for which version though? I don't think we can wait for it to
&gt;&gt; come out.
&gt; So we shall omit the method because the underlying libs have a bug that
&gt; leaks memory? If we do that, we would have to wait until no bugs are
&gt; open in the gtk+ bugtracker.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060613042301</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-13 04:23:01-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [Fwd: [Bug 344624] Memory leak in gtk_tree_model_filter_finalize:</subject><body>


Andrei,

&gt; We can either omit the method until GTK+ fixes it or enable the method
&gt; and just let users live with the memory leak.
I'd say enable it; sooner or later users will have a recent version of
gtk that has the bug fixed. I don't want to wait four years and release
a new version of php-gtk because we are sure that 66.8% of all users
have a Gtk version with the bug fixed.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060613153318</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-13 15:33:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [Fwd: [Bug 344624] Memory leak in gtk_tree_model_filter_finalize: User data not fr</subject><body>

Fine. It's enabled, right?

On Jun 12, 2006, at 9:23 PM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;&gt; We can either omit the method until GTK+ fixes it or enable the method
&gt;&gt; and just let users live with the memory leak.
&gt; I'd say enable it; sooner or later users will have a recent version of
&gt; gtk that has the bug fixed. I don't want to wait four years and release
&gt; a new version of php-gtk because we are sure that 66.8% of all users
&gt; have a Gtk version with the bug fixed.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060611045720</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-11 04:57:20-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Error loading lib with php 5.1.4-debug and php-gtk2</subject><body>


Andrei,

&gt; Does this still happen for you?
No, works fine now.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060611051349</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-11 05:13:49-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Error loading lib with php 5.1.4-debug and php-gtk2</subject><body>


Andrei,

&gt;&gt;Does this still happen for you?
&gt; No, works fine now.

Sorry, it still happens. I forgot to switch the extension dir in php.ini.
I get the following error:
----------------
PHP Warning:  PHP Startup: Unable to load dynamic library
'/data/cvs/php/php5cli//lib/php/extensions/debug-non-zts-20050922/php_gtk2.so'
-
/data/cvs/php/php5cli//lib/php/extensions/debug-non-zts-20050922/php_gtk2.so:
undefined symbol: _zval_ptr_dtor_wrapper in Unknown on line 0

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060612062939</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-12 06:29:39-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Error loading lib with php 5.1.4-debug and php-gtk2</subject><body>


&gt; Sorry, it still happens. I forgot to switch the extension dir in php.ini.
&gt; I get the following error:
&gt; ----------------
&gt; PHP Warning:  PHP Startup: Unable to load dynamic library
&gt; '/data/cvs/php/php5cli//lib/php/extensions/debug-non-zts-20050922/php_gtk2.so'
&gt; -
&gt; /data/cvs/php/php5cli//lib/php/extensions/debug-non-zts-20050922/php_gtk2.so:
&gt; undefined symbol: _zval_ptr_dtor_wrapper in Unknown on line 0

I installed php5.1.4 on my second machine with debug enabled, installed
php-gtk2 with debug enabled and it works there - very strange. Although
I cleaned up *all* php directories I could find before reinstalling php
on the laptop.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060608230759</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-08 23:07:59-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-Gtk coverage analysis</subject><body>

I think it's fine if the data is just available online. By the way,  
what about functions column? And is it possible to get a list of not  
generated items if you click on the number?

-Andrei


On Jun 8, 2006, at 2:34 PM, Christian Weiske wrote:

&gt; Hello all,
&gt;
&gt;
&gt; I wrote a php-gtk class generator coverage analysis based on the  
&gt; one for
&gt; the documentation. Should I add it to cvs, or isn't it worth that?  
&gt; Root
&gt; folder?
&gt;
&gt; Example:
&gt; http://xml.cweiske.de/classcoverage.htm
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060609121142</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-06-09 12:11:42-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-Gtk coverage analysis</subject><body>

Andrei Zmievski wrote:
&gt; I think it's fine if the data is just available online.

What about adding this to the docs? I think this and the doc coverage 
pages would both make nice additions to the appendix.

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060609163637</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-09 16:36:37-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-Gtk coverage analysis</subject><body>

Fine with me, but that means someone (that's me) needs to set it up to 
run after the builld.

-Andrei

On Jun 9, 2006, at 5:11 AM, Scott Mattocks wrote:

&gt; Andrei Zmievski wrote:
&gt;&gt; I think it's fine if the data is just available online.
&gt;
&gt; What about adding this to the docs? I think this and the doc coverage 
&gt; pages would both make nice additions to the appendix.
&gt;
&gt; Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060609164151</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-09 16:41:51-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-Gtk coverage analysis</subject><body>


Andrei and all others,

&gt; Fine with me, but that means someone (that's me) needs to set it up to
&gt; run after the builld.
The class coverage analysis script uses the gen_*.log files to generate
the html file. So code generation needs to be done before the class
coverage can be generated, which is lot more than we actually have.
I'd say leave it to my server :)

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060610123020</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-10 12:30:20-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-Gtk coverage analysis</subject><body>


Andrei,

&gt; I think it's fine if the data is just available online. By the way, 
&gt; what about functions column? And is it possible to get a list of not 
&gt; generated items if you click on the number?

I merged functions and methods as only four out of some hundred classed
have functions.
Further I changed the coverage generator to include the missing messages:
http://php-gtk2.de/manual/classcoverage.htm

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060610173110</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-10 17:31:10-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-Gtk coverage analysis</subject><body>

That link doesn't work for me.

-Andrei


On Jun 10, 2006, at 5:30 AM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;&gt; I think it's fine if the data is just available online. By the way,
&gt;&gt; what about functions column? And is it possible to get a list of not
&gt;&gt; generated items if you click on the number?
&gt;
&gt; I merged functions and methods as only four out of some hundred  
&gt; classed
&gt; have functions.
&gt; Further I changed the coverage generator to include the missing  
&gt; messages:
&gt; http://php-gtk2.de/manual/classcoverage.htm
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060609182607</emailId><senderName></senderName><senderEmail>cweiske</senderEmail><timestampReceived>2006-06-09 18:26:07-0400</timestampReceived><subject>[PHP-GTK-DEV] #37636 [Opn]: GdkPixbuf::new_from_gd transfers red colors only</subject><body>

 ID:               37636
 Updated by:       cweiske@php.net
 Reported By:      cweiske@php.net
 Status:           Open
 Bug Type:         PHP-GTK related
 Operating System: Linux
 PHP Version:      5.1.4
 New Comment:

Even your example shows the wrong colors.
See:
http://xml.cweiske.de/2006-06-09%20new_from_gd%20wrong%20colors.png

Try to set the colors to:
$bg  = imagecolorallocate($image, 0, 255, 0);
$blue = imagecolorallocate($image, 0, 0, 255);

which have no red in them. The image will be totally transparent


Previous Comments:
------------------------------------------------------------------------

[2006-06-03 18:55:55] andrei@php.net

Can you provide a shorter example without using Image_Graph? My tests
show that everything transfers fine.

&lt;?php

$w = new GtkWindow();
$w-&gt;connect_simple('destroy', array('gtk', 'main_quit'));

$values = array(
           40,  50,  // Point 1 (x, y)
           20,  240, // Point 2 (x, y)
           60,  60,  // Point 3 (x, y)
           240, 20,  // Point 4 (x, y)
           50,  40,  // Point 5 (x, y)
           10,  10  // Point 6 (x, y)
           );

// create image
$image = imagecreatetruecolor(250, 250);

// some colors
$bg  = imagecolorallocate($image, 200, 200, 200);
imagefill($image, 0, 0, $bg);
imagecolortransparent($image, $bg);
$blue = imagecolorallocate($image, 150, 90, 255);

// draw a polygon
imagefilledpolygon($image, $values, 6, $blue);

$pixbuf = GdkPixbuf::new_from_gd($image);

$b = new GtkButton();
$pixmap = GtkImage::new_from_pixbuf($pixbuf);
$b-&gt;add($pixmap);
$w-&gt;add($b);
$w-&gt;show_all();

gtk::main();


------------------------------------------------------------------------

[2006-05-30 04:33:27] cweiske@php.net

Description:
------------
GdkPixbuf::new_from_gd() seems to transfer the red parts of the picture
to the pixbuf. Even when there is a black line, it appears light grey on
the pixbuf.

Reproduce code:
---------------
&lt;?php
//image_graph multiple plots usage example
error_reporting(E_ALL);
include 'Image/Graph.php';
// create the graph
$Graph =&amp; Image_Graph::factory('graph', array(600, 400));
// add a TrueType font
$Font =&amp; $Graph-&gt;addNew('font', 'Verdana');
// set the font size to 11 pixels
$Font-&gt;setSize(8);

$Graph-&gt;setFont($Font);

// create the plotarea
$Graph-&gt;add(
    Image_Graph::vertical(
        Image_Graph::vertical(
            $Title = Image_Graph::factory('title', array('Multiple
Plots', 11)),
            $SubTitle = Image_Graph::factory('title', array('This is a
demonstration of title alignment', 7)),
            90
        ),
        $Plotarea = Image_Graph::factory('plotarea'),
        8
    )
);	
$Title-&gt;setAlignment(IMAGE_GRAPH_ALIGN_LEFT);
$SubTitle-&gt;setAlignment(IMAGE_GRAPH_ALIGN_LEFT);
   
$Grid =&amp; $Plotarea-&gt;addNew('bar_grid', IMAGE_GRAPH_AXIS_Y);
$Grid-&gt;setFillStyle(Image_Graph::factory('gradient',
array(IMAGE_GRAPH_GRAD_VERTICAL, 'white', 'lightgrey')));    
	
$Plot =&amp; $Plotarea-&gt;addNew('Image_Graph_Plot_Smoothed_Area',
Image_Graph::factory('random', array(10, 20, 100, true)));
$Plot-&gt;setFillColor('red@0.2');

$Plot =&amp; $Plotarea-&gt;addNew('line', Image_Graph::factory('random',
array(10, 20, 100, true)));
$Plot-&gt;setLineColor('blue@0.2');
$CircleMarker =&amp; Image_Graph::factory('Image_Graph_Marker_Circle');
$Plot-&gt;setMarker($CircleMarker);
$CircleMarker-&gt;setFillColor('white@0.4');
    
$Plot =&amp; $Plotarea-&gt;addNew('bar', Image_Graph::factory('random',
array(10, 2, 40, true)));
$Plot-&gt;setFillColor('green@0.2');
$Marker =&amp; Image_Graph::factory('Image_Graph_Marker_Value',
IMAGE_GRAPH_VALUE_Y);
$Plot-&gt;setMarker($Marker);
$Marker-&gt;setFillColor('white');
$Marker-&gt;setBorderColor('black');
    
$AxisY = $Plotarea-&gt;getAxis(IMAGE_GRAPH_AXIS_Y);
$AxisY-&gt;showArrow();

$Array = array(
    "Jan-Feb\n2004", 
    "Mar-Apr\n2004", 
    "May-Jun\n2004", 
    "Jul-Aug\n2004", 
    "Sep-Oct\n2004", 
    "Nov-Dev\n2004", 
    "Jan-Feb\n2005", 
    "Mar-Apr\n2005", 
    "May-Jun\n2005", 
    "Jul-Aug\n2005" 
);
$AxisX = $Plotarea-&gt;getAxis(IMAGE_GRAPH_AXIS_X);
$AxisX-&gt;setDataPreprocessor(Image_Graph::factory('Image_Graph_DataPreprocessor_Array',
array($Array)));



//that is a critical line. Setting the output to "none" is important
$Graph-&gt;done(array('output' =&gt; 'none'));
$canvas = $Graph-&gt;_getCanvas();
$gd = $canvas-&gt;_canvas;
$pixbuf = GdkPixbuf::new_from_gd($gd);

$wnd = new GtkWindow();
$wnd-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));
$wnd-&gt;add(GtkImage::new_from_pixbuf($pixbuf));
$wnd-&gt;show_all();
Gtk::main();
?&gt;

Expected result:
----------------
http://xml.cweiske.de/2006-05-30%20multiple_slots_original.png

Actual result:
--------------
http://xml.cweiske.de/2006-05-30%20multiple_slots_gtk.png


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=37636&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060609181914</emailId><senderName></senderName><senderEmail>cweiske</senderEmail><timestampReceived>2006-06-09 18:19:14-0400</timestampReceived><subject>[PHP-GTK-DEV] #37504 [Opn-&gt;Csd]: Patch for GtkTreeSortable::set_(default_)sort_func</subject><body>

 ID:               37504
 Updated by:       cweiske@php.net
 Reported By:      cweiske@php.net
-Status:           Open
+Status:           Closed
 Bug Type:         PHP-GTK related
 Operating System: any
 PHP Version:      5.1.4
 New Comment:

This bug has been fixed in CVS.

Snapshots of the sources are packaged every three hours; this change
will be in the next snapshot. You can grab the snapshot at
http://snaps.php.net/.
 
Thank you for the report, and for helping us make PHP better.




Previous Comments:
------------------------------------------------------------------------

[2006-06-04 18:04:07] andrei@php.net

Same things here as in another patch:

1. Put the declaration of marshaller into %headers section.

2. Assign value of retval to something before destroying it.

3. In GtkTreeModelFilter constructor, why use 'N' instead of 'V'? It's
the last parameter anyway, no need to allow user to pass NULL there.

Do you remember the problem we had with the set_visible() function? The
user data will not be freed and there will be a memory leak.

------------------------------------------------------------------------

[2006-05-18 18:31:44] cweiske@php.net

Forgot to mention that I had to modify gtk.defs to get the filter
constructor working.

http://xml.cweiske.de/patches/gtk.defs.diff

------------------------------------------------------------------------

[2006-05-18 18:30:52] cweiske@php.net

I added GtkTreeFilterModel constructor and set_visible_func (&amp;
GtkTreeModelFilterVisibleFunc marshaller) to the patches.

------------------------------------------------------------------------

[2006-05-18 16:03:50] cweiske@php.net

Description:
------------
At
http://xml.cweiske.de/patches/gtktreeview.overrides.diff
is a patch that implements
GtkTreeSortable::set_sort_func
GtkTreeSortable::set_default_sort_func
and the marshaller.




------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=37504&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060609202805</emailId><senderName></senderName><senderEmail>cweiske</senderEmail><timestampReceived>2006-06-09 20:28:05-0400</timestampReceived><subject>[PHP-GTK-DEV] #37636 [Opn]: GdkPixbuf::new_from_gd transfers red colors only</subject><body>

 ID:               37636
 Updated by:       cweiske@php.net
 Reported By:      cweiske@php.net
 Status:           Open
 Bug Type:         PHP-GTK related
 Operating System: Linux
 PHP Version:      5.1.4
 New Comment:

Since it works on Andrei's laptop (a Macbook with G4 processor), but
not on my pc nor on scott's pc, I assume it's an endian problem. The
bits are in the wrong order for PCs.


Previous Comments:
------------------------------------------------------------------------

[2006-06-09 18:26:07] cweiske@php.net

Even your example shows the wrong colors.
See:
http://xml.cweiske.de/2006-06-09%20new_from_gd%20wrong%20colors.png

Try to set the colors to:
$bg  = imagecolorallocate($image, 0, 255, 0);
$blue = imagecolorallocate($image, 0, 0, 255);

which have no red in them. The image will be totally transparent

------------------------------------------------------------------------

[2006-06-03 18:55:55] andrei@php.net

Can you provide a shorter example without using Image_Graph? My tests
show that everything transfers fine.

&lt;?php

$w = new GtkWindow();
$w-&gt;connect_simple('destroy', array('gtk', 'main_quit'));

$values = array(
           40,  50,  // Point 1 (x, y)
           20,  240, // Point 2 (x, y)
           60,  60,  // Point 3 (x, y)
           240, 20,  // Point 4 (x, y)
           50,  40,  // Point 5 (x, y)
           10,  10  // Point 6 (x, y)
           );

// create image
$image = imagecreatetruecolor(250, 250);

// some colors
$bg  = imagecolorallocate($image, 200, 200, 200);
imagefill($image, 0, 0, $bg);
imagecolortransparent($image, $bg);
$blue = imagecolorallocate($image, 150, 90, 255);

// draw a polygon
imagefilledpolygon($image, $values, 6, $blue);

$pixbuf = GdkPixbuf::new_from_gd($image);

$b = new GtkButton();
$pixmap = GtkImage::new_from_pixbuf($pixbuf);
$b-&gt;add($pixmap);
$w-&gt;add($b);
$w-&gt;show_all();

gtk::main();


------------------------------------------------------------------------

[2006-05-30 04:33:27] cweiske@php.net

Description:
------------
GdkPixbuf::new_from_gd() seems to transfer the red parts of the picture
to the pixbuf. Even when there is a black line, it appears light grey on
the pixbuf.

Reproduce code:
---------------
&lt;?php
//image_graph multiple plots usage example
error_reporting(E_ALL);
include 'Image/Graph.php';
// create the graph
$Graph =&amp; Image_Graph::factory('graph', array(600, 400));
// add a TrueType font
$Font =&amp; $Graph-&gt;addNew('font', 'Verdana');
// set the font size to 11 pixels
$Font-&gt;setSize(8);

$Graph-&gt;setFont($Font);

// create the plotarea
$Graph-&gt;add(
    Image_Graph::vertical(
        Image_Graph::vertical(
            $Title = Image_Graph::factory('title', array('Multiple
Plots', 11)),
            $SubTitle = Image_Graph::factory('title', array('This is a
demonstration of title alignment', 7)),
            90
        ),
        $Plotarea = Image_Graph::factory('plotarea'),
        8
    )
);	
$Title-&gt;setAlignment(IMAGE_GRAPH_ALIGN_LEFT);
$SubTitle-&gt;setAlignment(IMAGE_GRAPH_ALIGN_LEFT);
   
$Grid =&amp; $Plotarea-&gt;addNew('bar_grid', IMAGE_GRAPH_AXIS_Y);
$Grid-&gt;setFillStyle(Image_Graph::factory('gradient',
array(IMAGE_GRAPH_GRAD_VERTICAL, 'white', 'lightgrey')));    
	
$Plot =&amp; $Plotarea-&gt;addNew('Image_Graph_Plot_Smoothed_Area',
Image_Graph::factory('random', array(10, 20, 100, true)));
$Plot-&gt;setFillColor('red@0.2');

$Plot =&amp; $Plotarea-&gt;addNew('line', Image_Graph::factory('random',
array(10, 20, 100, true)));
$Plot-&gt;setLineColor('blue@0.2');
$CircleMarker =&amp; Image_Graph::factory('Image_Graph_Marker_Circle');
$Plot-&gt;setMarker($CircleMarker);
$CircleMarker-&gt;setFillColor('white@0.4');
    
$Plot =&amp; $Plotarea-&gt;addNew('bar', Image_Graph::factory('random',
array(10, 2, 40, true)));
$Plot-&gt;setFillColor('green@0.2');
$Marker =&amp; Image_Graph::factory('Image_Graph_Marker_Value',
IMAGE_GRAPH_VALUE_Y);
$Plot-&gt;setMarker($Marker);
$Marker-&gt;setFillColor('white');
$Marker-&gt;setBorderColor('black');
    
$AxisY = $Plotarea-&gt;getAxis(IMAGE_GRAPH_AXIS_Y);
$AxisY-&gt;showArrow();

$Array = array(
    "Jan-Feb\n2004", 
    "Mar-Apr\n2004", 
    "May-Jun\n2004", 
    "Jul-Aug\n2004", 
    "Sep-Oct\n2004", 
    "Nov-Dev\n2004", 
    "Jan-Feb\n2005", 
    "Mar-Apr\n2005", 
    "May-Jun\n2005", 
    "Jul-Aug\n2005" 
);
$AxisX = $Plotarea-&gt;getAxis(IMAGE_GRAPH_AXIS_X);
$AxisX-&gt;setDataPreprocessor(Image_Graph::factory('Image_Graph_DataPreprocessor_Array',
array($Array)));



//that is a critical line. Setting the output to "none" is important
$Graph-&gt;done(array('output' =&gt; 'none'));
$canvas = $Graph-&gt;_getCanvas();
$gd = $canvas-&gt;_canvas;
$pixbuf = GdkPixbuf::new_from_gd($gd);

$wnd = new GtkWindow();
$wnd-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));
$wnd-&gt;add(GtkImage::new_from_pixbuf($pixbuf));
$wnd-&gt;show_all();
Gtk::main();
?&gt;

Expected result:
----------------
http://xml.cweiske.de/2006-05-30%20multiple_slots_original.png

Actual result:
--------------
http://xml.cweiske.de/2006-05-30%20multiple_slots_gtk.png


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=37636&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060609203300</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-09 20:33:00-0400</timestampReceived><subject>[PHP-GTK-DEV] Patches applied</subject><body>


Hello all,


All my open patches have been committed today. That point can be removed
from the TODO-before-alpha.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060610022235</emailId><senderName>       "1,600,000   </senderName><senderEmail></senderEmail><timestampReceived>2006-06-10 02:22:35-0400</timestampReceived><subject>[PHP-GTK-DEV] 1,600,000   </subject><body>

1,600,000             
  
 
  1.6  

-   
-   
-    

  EMS   1-2 
   1-2 ..  

 790 
 06-7815050
  pkhotboom@yahoo.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060610113507</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-10 11:35:07-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSelectionData:: get_uris/set_uris override</subject><body>


Bump.

Christian Weiske wrote:
&gt;&gt;I made a patch for GtkSelectionData::get_uris() and set_uris().
&gt;&gt;My demo script works, I am just unsure about how to free the gchar list
&gt;&gt;in get_uris().
&gt; 
&gt; The last two lines were missing in the file...
&gt; 
&gt; 
&gt; 
&gt; ------------------------------------------------------------------------
&gt; 
&gt; %% {{{ GtkSelectionData
&gt; 
&gt; %%
&gt; override gtk_selection_data_get_uris
&gt; PHP_METHOD
&gt; {
&gt;     gchar **ret;
&gt;     gchar *cp_str;
&gt;     gsize cp_len;
&gt;     zend_bool free_cp_str;
&gt;     GtkSelectionData *selection_data = NULL;
&gt; 
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
&gt;         return;
&gt; 
&gt;     selection_data = (GtkSelectionData *) PHPG_GBOXED(this_ptr);
&gt;     ret = gtk_selection_data_get_uris(selection_data);
&gt;     if (ret) {
&gt;         array_init(return_value);
&gt;         while (*ret) {
&gt;             cp_str = phpg_from_utf8(*ret, strlen(*ret), &amp;cp_len, &amp;free_cp_str TSRMLS_CC);
&gt;             if (cp_str) {
&gt;                 add_next_index_stringl(return_value, cp_str, cp_len, !free_cp_str);
&gt;             } else {
&gt;                 zval_dtor(return_value);
&gt;                 RETURN_NULL();
&gt;             }
&gt;             *ret++;
&gt;         }
&gt; //        g_strfreev(*ret);
&gt;     } else {
&gt;         RETURN_NULL();
&gt;     }
&gt; }
&gt; 
&gt; %%
&gt; add-arginfo GtkSelectionData set_uris
&gt; static
&gt; ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
&gt;     ZEND_ARG_INFO(0, uris)
&gt; ZEND_END_ARG_INFO();
&gt; 
&gt; %%
&gt; override gtk_selection_data_set_uris
&gt; PHP_METHOD
&gt; {
&gt;     gchar **uris;
&gt;     zval *arr = NULL;
&gt;     zval **data;
&gt;     int i, arr_count;
&gt;     GtkSelectionData *selection_data = NULL;
&gt; 
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
&gt;         return;
&gt;     }
&gt; 
&gt;     arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
&gt;     uris = safe_emalloc(arr_count+1, sizeof (gchar *), 0);
&gt; 
&gt;     for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
&gt;          zend_hash_get_current_data(Z_ARRVAL_P(arr), (void **)&amp;data) == SUCCESS;
&gt;          zend_hash_move_forward(Z_ARRVAL_P(arr))) {
&gt; 
&gt;         convert_to_string_ex(data);
&gt;         uris[i++] = Z_STRVAL_PP(data);
&gt; 
&gt;     }
&gt; 
&gt;     uris[i] = NULL;
&gt;     selection_data = (GtkSelectionData *) PHPG_GBOXED(this_ptr);
&gt;     gtk_selection_data_set_uris(selection_data, (gchar **)uris);
&gt;     efree(uris);
&gt; }
&gt; 
&gt; %% }}}

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060610113615</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-10 11:36:15-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] #37455 [NEW]: Patch for gtk_selection_data_set_uris/gtk_selection_data_get_uris</subject><body>


Bump.

cweiske@php.net wrote:
&gt; From:             cweiske@php.net
&gt; Operating system: Any
&gt; PHP version:      5.1.4
&gt; PHP Bug Type:     PHP-GTK related
&gt; Bug description:  Patch for gtk_selection_data_set_uris/gtk_selection_data_get_uris
&gt; 
&gt; Description:
&gt; ------------
&gt; Attached is a patch for 
&gt; gtk_selection_data_set_uris/gtk_selection_data_get_uris. It can be found
&gt; at
&gt; http://xml.cweiske.de/selectiondata.diff
&gt; 
&gt; Reproduce code:
&gt; ---------------
&gt; --- ext/gtk+/gtk.overrides2006-05-16 06:28:22.000000000 +0200
&gt; +++ ../gtk.overrides2006-05-16 06:28:03.000000000 +0200
&gt; @@ -750,6 +750,13 @@
&gt;  }
&gt;  
&gt;  %%
&gt; +add-arginfo GtkAboutDialog set_artists
&gt; +static
&gt; +ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
&gt; +    ZEND_ARG_INFO(0, artists)
&gt; +ZEND_END_ARG_INFO();
&gt; +
&gt; +%%
&gt;  override gtk_about_dialog_set_artists
&gt;  PHP_METHOD
&gt;  {
&gt; @@ -780,6 +787,13 @@
&gt;  }
&gt;  
&gt;  %%
&gt; +add-arginfo GtkAboutDialog set_authors
&gt; +static
&gt; +ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
&gt; +    ZEND_ARG_INFO(0, authors)
&gt; +ZEND_END_ARG_INFO();
&gt; +
&gt; +%%
&gt;  override gtk_about_dialog_set_authors
&gt;  PHP_METHOD
&gt;  {
&gt; @@ -810,6 +824,13 @@
&gt;  }
&gt;  
&gt;  %%
&gt; +add-arginfo GtkAboutDialog set_documenters
&gt; +static
&gt; +ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
&gt; +    ZEND_ARG_INFO(0, documenters)
&gt; +ZEND_END_ARG_INFO();
&gt; +
&gt; +%%
&gt;  override gtk_about_dialog_set_documenters
&gt;  PHP_METHOD
&gt;  {
&gt; @@ -2879,6 +2900,83 @@
&gt;  
&gt;  %% }}}
&gt;  
&gt; +
&gt; +%% {{{ GtkSelectionData
&gt; +
&gt; +%%
&gt; +override gtk_selection_data_get_uris
&gt; +PHP_METHOD
&gt; +{
&gt; +    gchar **ret;
&gt; +    gchar *cp_str;
&gt; +    gsize cp_len;
&gt; +    zend_bool free_cp_str;
&gt; +    GtkSelectionData *selection_data = NULL;
&gt; +
&gt; +    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
&gt; +        return;
&gt; +
&gt; +    selection_data = (GtkSelectionData *) PHPG_GBOXED(this_ptr);
&gt; +    ret = gtk_selection_data_get_uris(selection_data);
&gt; +    if (ret) {
&gt; +        array_init(return_value);
&gt; +        while (*ret) {
&gt; +            cp_str = phpg_from_utf8(*ret, strlen(*ret), &amp;cp_len,
&gt; &amp;free_cp_str TSRMLS_CC);
&gt; +            if (cp_str) {
&gt; +                add_next_index_stringl(return_value, cp_str, cp_len,
&gt; !free_cp_str);
&gt; +            } else {
&gt; +                zval_dtor(return_value);
&gt; +                RETURN_NULL();
&gt; +            }
&gt; +            *ret++;
&gt; +        }
&gt; +//        g_strfreev(*ret);
&gt; +    } else {
&gt; +        RETURN_NULL();
&gt; +    }
&gt; +}
&gt; +
&gt; +%%
&gt; +add-arginfo GtkSelectionData set_uris
&gt; +static
&gt; +ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
&gt; +    ZEND_ARG_INFO(0, uris)
&gt; +ZEND_END_ARG_INFO();
&gt; +
&gt; +%%
&gt; +override gtk_selection_data_set_uris
&gt; +PHP_METHOD
&gt; +{
&gt; +    gchar **uris;
&gt; +    zval *arr = NULL;
&gt; +    zval **data;
&gt; +    int i, arr_count;
&gt; +    GtkSelectionData *selection_data = NULL;
&gt; +
&gt; +    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
&gt; +        return;
&gt; +    }
&gt; +
&gt; +    arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
&gt; +    uris = safe_emalloc(arr_count+1, sizeof (gchar *), 0);
&gt; +
&gt; +    for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
&gt; +         zend_hash_get_current_data(Z_ARRVAL_P(arr), (void **)&amp;data) ==
&gt; SUCCESS;
&gt; +         zend_hash_move_forward(Z_ARRVAL_P(arr))) {
&gt; +
&gt; +        convert_to_string_ex(data);
&gt; +        uris[i++] = Z_STRVAL_PP(data);
&gt; +
&gt; +    }
&gt; +
&gt; +    uris[i] = NULL;
&gt; +    selection_data = (GtkSelectionData *) PHPG_GBOXED(this_ptr);
&gt; +    gtk_selection_data_set_uris(selection_data, (gchar **)uris);
&gt; +    efree(uris);
&gt; +}
&gt; +
&gt; +%% }}}
&gt; +
&gt;  %% {{{ GtkSpinButton
&gt;  
&gt;  %%
&gt; 
&gt; 

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060610173251</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-10 17:32:51-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Gdk::devices_list -&gt; GdkDevice::devices_list()?</subject><body>

GdkDevice::list_devices()

-Andrei


On Jun 9, 2006, at 10:07 PM, Christian Weiske wrote:

&gt; Hello all,
&gt;
&gt; Currently, devices_list() is function of Gdk::.
&gt; I think it fits better into GdkDevice and thus be static method there.
&gt; It just needs a different name then, e.g.
&gt; GdkDevice::list_devices() or
&gt; GdkDevice::list() or
&gt; GdkDevice::devices_list() (default)
&gt;
&gt; Which one should we use?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060611042647</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-11 04:26:47-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-Gtk coverage analysis</subject><body>


Andrei,

&gt; That link doesn't work for me.
The manual generator deleted it:
http://xml.cweiske.de/classcoverage.htm

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060611163214</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-11 16:32:14-0400</timestampReceived><subject>[PHP-GTK-DEV] potential minor issue (don't know yet)</subject><body>

Hi Andrei,

I mailed in a new patch today for that module unloading stuff everyone's 
getting sick of me talking about.

It doesn't commit the crimes my earlier attempts did, and I think there's 
some vague chance of this one making it into TSRM/ZE2.

It relies on external modules loading with the same name as everything tied 
up with it; it currently takes "gtk" as the internal name because it picks 
it up via the globals declarations. It can deal with uppercase/lowercase 
module name transformations OK, but hyphens are a bit beyond my compiler. If 
that patch goes in we should really change module-&gt;name "php-gtk" to either 
have an underscore or be a single word. Less for the sake of thread-safety 
than for shutdown order protection.

I think we should do that anyway, but you might be attached to that hyphen 
for all I know...

Thoughts?

- Steph

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060612113151</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-12 11:31:51-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Error loading lib with php 5.1.4-debug and php-gtk2</subject><body>


&gt; I installed php5.1.4 on my second machine with debug enabled,
&gt; installed php-gtk2 with debug enabled and it works there - very
&gt; strange. Although  I cleaned up *all* php directories I could find
&gt; before reinstalling php on the laptop.

An hour ago, in a lecture, I recompiled php and php-gtk with debug flags
enabled. It worked. I think the laptop used the second machine as good
paragon and did the same.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060612125315</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-12 12:53:15-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkScreen::alternative_dialog_button_order?</subject><body>


Scott,

&gt; gtk_alternative_dialog_button_order() takes a GdkScreen and then calls
&gt; get_setting('gtk-alternative-dialog-order') on that screen. It makes
&gt; sense to me to put it under GdkScreen. If it doesn't belong there, then
&gt; it belongs in GtkSettings, but to get a GtkSettings object you need a
&gt; GdkScreen anyway.
You are right, it belongs to there somehow.

I would move it as static method to GtkDialog, because you can pass NULL
in the C method to get the order for the default screen. Does this make
sense?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060612130632</emailId><senderName>"cweiske () php ! net"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-06-12 13:06:32-0400</timestampReceived><subject>[PHP-GTK-DEV] #37787 [NEW]: Memleak when using timeout in a class</subject><body>

From:             cweiske@php.net
Operating system: Linux
PHP version:      5.1.4
PHP Bug Type:     PHP-GTK related
Bug description:  Memleak when using timeout in a class

Description:
------------
PHP-Gtk leaks memory when using a timeout in a class. It doesn't leak when
not using a class.

Reproduce code:
---------------
&lt;?php
//This code leaks
class MemTest extends GtkWindow
{
    public function __construct()
    {
        parent::__construct();
        Gtk::timeout_add(100, array($this, 'shoot'));
    }

    public function shoot()
    {
        static $t = 0;
        if (++$t == 1) {
            Gtk::main_quit();
        }
        return true;
    }
}

$mag = new MemTest();
$mag-&gt;show();
Gtk::main();
?&gt;

Expected result:
----------------
&lt;?php
//This code does not leak
Gtk::timeout_add(100, 'timeout');
function timeout() {
    static $t = 0;
    if (++$t == 5) {
        Gtk::main_quit();
        return false;
    }
    return true;
}
Gtk::main();
?&gt;

Actual result:
--------------
cweiske:/data/cvs/phpgtk2/test&gt; p5 memleak_device_get_state.phpw
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/phpgtk2/php-gtk/main/php_gtk_util.c(930) :  Freeing 0x08E085EC
(35 bytes), script=memleak_device_get_state.phpw
/data/cvs/php/php-5.1.4/Zend/zend_hash.c(383) : Actual location (location
was relayed)
Last leak repeated 3 times
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/phpgtk2/php-gtk/main/php_gtk_util.c(846) :  Freeing 0x08E019A4
(16 bytes), script=memleak_device_get_state.phpw
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/phpgtk2/php-gtk/main/php_gtk_util.c(866) :  Freeing 0x08E0190C
(16 bytes), script=memleak_device_get_state.phpw
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/phpgtk2/php-gtk/main/php_gtk_util.c(921) :  Freeing 0x08E01884
(32 bytes), script=memleak_device_get_state.phpw
/data/cvs/php/php-5.1.4/Zend/zend_hash.c(169) : Actual location (location
was relayed)
Last leak repeated 1 time
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/php/php-5.1.4/Zend/zend_execute_API.c(644) :  Freeing 0x08E0131C
(16 bytes), script=memleak_device_get_state.phpw
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/phpgtk2/php-gtk/main/php_gtk_util.c(990) :  Freeing 0x08E0122C
(16 bytes), script=memleak_device_get_state.phpw
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
ext/gtk+/gtk.overrides(273) :  Freeing 0x08E00CB4 (32 bytes),
script=memleak_device_get_state.phpw
/data/cvs/php/php-5.1.4/Zend/zend_hash.c(169) : Actual location (location
was relayed)
Last leak repeated 1 time
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
ext/gtk+/gtk.overrides(272) :  Freeing 0x08E009D4 (16 bytes),
script=memleak_device_get_state.phpw
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/php/php-5.1.4/Zend/zend_vm_execute.h(4190) :  Freeing 0x08E03F7C
(16 bytes), script=memleak_device_get_state.phpw
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/php/php-5.1.4/Zend/zend_vm_execute.h(3438) :  Freeing 0x08E011D4
(35 bytes), script=memleak_device_get_state.phpw
/data/cvs/php/php-5.1.4/Zend/zend_hash.c(383) : Actual location (location
was relayed)
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/php/php-5.1.4/Zend/zend_vm_execute.h(3407) :  Freeing 0x08E0030C
(16 bytes), script=memleak_device_get_state.phpw
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/php/php-5.1.4/Zend/zend_vm_execute.h(12588) :  Freeing
0x08E002B4 (35 bytes), script=memleak_device_get_state.phpw
/data/cvs/php/php-5.1.4/Zend/zend_hash.c(383) : Actual location (location
was relayed)
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/php/php-5.1.4/Zend/zend_vm_execute.h(12538) :  Freeing
0x08E08144 (32 bytes), script=memleak_device_get_state.phpw
/data/cvs/php/php-5.1.4/Zend/zend_hash.c(169) : Actual location (location
was relayed)
Last leak repeated 1 time
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/php/php-5.1.4/Zend/zend_variables.h(45) :  Freeing 0x08DE61A4 (6
bytes), script=memleak_device_get_state.phpw
/data/cvs/php/php-5.1.4/Zend/zend_variables.c(120) : Actual location
(location was relayed)
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/phpgtk2/php-gtk/main/php_gtk_util.c(873) :  Freeing 0x08DE088C
(53 bytes), script=memleak_device_get_state.phpw
=== Total 21 memory leaks detected ===


-- 
Edit bug report at http://bugs.php.net/?id=37787&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=37787&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.2): http://bugs.php.net/fix.php?id=37787&amp;r=trysnapshot52
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=37787&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=37787&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=37787&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=37787&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=37787&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=37787&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=37787&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=37787&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=37787&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=37787&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=37787&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=37787&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=37787&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=37787&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=37787&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=37787&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=37787&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=37787&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060612175602</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-12 17:56:02-0400</timestampReceived><subject>[PHP-GTK-DEV] gunichar argtype</subject><body>


Hello Andrei,


Could you please add a gunichar class to the code generator? You're the
unicode guru here, and I just saw that pygtk has one - so it shouldn't
be that hard. Would give us 8 methods more not to write by hand :)

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060612190955</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-12 19:09:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] ignore GtkCTreeNode methods?</subject><body>


&gt; Since you don't want to add new methods to a deprecated class
&gt; (GtkCTree/GtkCList), it should be ok if I add all methods requiring a
&gt; GtkCTreeNode to the ignore list?

I just saw that the GtkCTreeNode class already existed in Gtk1.2 and
therefor is *not* new code to a deprecated class.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060612191421</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-12 19:14:21-0400</timestampReceived><subject>[PHP-GTK-DEV] get_row_separator_func</subject><body>


Hello all,


GtkTreeView/GtkComboBox::get_row_separator_func() hasn't been
implemented yet because I didn't know how to return callbacks.
I don't even know if it's possible.

PyGtk just sets the methods to the ignore list; shall we do the same?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060613131721</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-13 13:17:21-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: cvs: php-gtk /main php_gtk_util.c</subject><body>


&gt; +	if (instanceof_function(Z_OBJCE_P(wrapper), expected_ce))
Seems as if this doesn't compile on win32 (at least with 5.1.2 headers).
Steph, could you check that?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060613154751</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-13 15:47:51-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [Fwd: [Bug 344624] Memory leak in gtk_tree_model_filter_finalize:</subject><body>


&gt; Fine. It's enabled, right?
Yes, I re-enabled it.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060613173346</emailId><senderName>       84.45.225.28</senderName><senderEmail></senderEmail><timestampReceived>2006-06-13 17:33:46-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] glade</subject><body>

Scott Mattocks wrote:
&gt; Pedro wrote:
&gt;&gt; Will php-gtk2 support loading Glade file..like pyGtk..?
&gt; 
&gt; http://gtk.php.net/manual/en/tutorials.helloglade.php
&gt; 


Lovely .. do you want a tutorial.example..

Can port one of the python apps.. simple application with adodb database 
and a list od contacts ?

pete

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060615041828</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-15 04:18:28-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Suggestion and Add-on Request</subject><body>


&gt; I would like to know if anyone has already achieved similar workarounds
&gt; ou hacked their way to the GtkNotebook class to provide this getting to
&gt; work properly without many hassle.
You won't get any answers on this list, because php-gtk-dev is about
development of php-gtk itself, not php-gtk apps. The right list is
php-gtk-general

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060615042754</emailId><senderName></senderName><senderEmail>andrei</senderEmail><timestampReceived>2006-06-15 04:27:54-0400</timestampReceived><subject>[PHP-GTK-DEV] #37552 [Opn-&gt;Ana]: Crash when deleting list row in foreach() callback</subject><body>

 ID:               37552
 Updated by:       andrei@php.net
 Reported By:      cweiske@php.net
-Status:           Open
+Status:           Analyzed
 Bug Type:         PHP-GTK related
 Operating System: Any
 PHP Version:      5.1.4
 New Comment:

I'm not sure we can do much here. PyGTK crashes on similar code as
well. We may need to post a question on gtk mailing list and see if
they have any suggestions.


Previous Comments:
------------------------------------------------------------------------

[2006-05-22 20:08:18] cweiske@php.net

Description:
------------
When removing an iterator from a liststore in the foreach() callback,
php crashes with
*** glibc detected *** double free or corruption (fasttop): 0x08d92758
***



Reproduce code:
---------------
&lt;?php
$ls = new GtkListStore(Gtk::TYPE_STRING);
$ls-&gt;append(array('test'));
$ls-&gt;foreach('foreachList');
function foreachList($ls, $path, $iter) {
    $ls-&gt;remove($iter);
}
?&gt;



------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=37552&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060615042845</emailId><senderName></senderName><senderEmail>andrei</senderEmail><timestampReceived>2006-06-15 04:28:45-0400</timestampReceived><subject>[PHP-GTK-DEV] #37787 [Opn-&gt;Csd]: Memleak when using timeout in a class</subject><body>

 ID:               37787
 Updated by:       andrei@php.net
 Reported By:      cweiske@php.net
-Status:           Open
+Status:           Closed
 Bug Type:         PHP-GTK related
 Operating System: Linux
 PHP Version:      5.1.4
 New Comment:

This bug has been fixed in CVS.

Snapshots of the sources are packaged every three hours; this change
will be in the next snapshot. You can grab the snapshot at
http://snaps.php.net/.
 
Thank you for the report, and for helping us make PHP better.




Previous Comments:
------------------------------------------------------------------------

[2006-06-12 13:06:32] cweiske@php.net

Description:
------------
PHP-Gtk leaks memory when using a timeout in a class. It doesn't leak
when not using a class.

Reproduce code:
---------------
&lt;?php
//This code leaks
class MemTest extends GtkWindow
{
    public function __construct()
    {
        parent::__construct();
        Gtk::timeout_add(100, array($this, 'shoot'));
    }

    public function shoot()
    {
        static $t = 0;
        if (++$t == 1) {
            Gtk::main_quit();
        }
        return true;
    }
}

$mag = new MemTest();
$mag-&gt;show();
Gtk::main();
?&gt;

Expected result:
----------------
&lt;?php
//This code does not leak
Gtk::timeout_add(100, 'timeout');
function timeout() {
    static $t = 0;
    if (++$t == 5) {
        Gtk::main_quit();
        return false;
    }
    return true;
}
Gtk::main();
?&gt;

Actual result:
--------------
cweiske:/data/cvs/phpgtk2/test&gt; p5 memleak_device_get_state.phpw
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/phpgtk2/php-gtk/main/php_gtk_util.c(930) :  Freeing
0x08E085EC (35 bytes), script=memleak_device_get_state.phpw
/data/cvs/php/php-5.1.4/Zend/zend_hash.c(383) : Actual location
(location was relayed)
Last leak repeated 3 times
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/phpgtk2/php-gtk/main/php_gtk_util.c(846) :  Freeing
0x08E019A4 (16 bytes), script=memleak_device_get_state.phpw
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/phpgtk2/php-gtk/main/php_gtk_util.c(866) :  Freeing
0x08E0190C (16 bytes), script=memleak_device_get_state.phpw
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/phpgtk2/php-gtk/main/php_gtk_util.c(921) :  Freeing
0x08E01884 (32 bytes), script=memleak_device_get_state.phpw
/data/cvs/php/php-5.1.4/Zend/zend_hash.c(169) : Actual location
(location was relayed)
Last leak repeated 1 time
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/php/php-5.1.4/Zend/zend_execute_API.c(644) :  Freeing
0x08E0131C (16 bytes), script=memleak_device_get_state.phpw
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/phpgtk2/php-gtk/main/php_gtk_util.c(990) :  Freeing
0x08E0122C (16 bytes), script=memleak_device_get_state.phpw
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
ext/gtk+/gtk.overrides(273) :  Freeing 0x08E00CB4 (32 bytes),
script=memleak_device_get_state.phpw
/data/cvs/php/php-5.1.4/Zend/zend_hash.c(169) : Actual location
(location was relayed)
Last leak repeated 1 time
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
ext/gtk+/gtk.overrides(272) :  Freeing 0x08E009D4 (16 bytes),
script=memleak_device_get_state.phpw
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/php/php-5.1.4/Zend/zend_vm_execute.h(4190) :  Freeing
0x08E03F7C (16 bytes), script=memleak_device_get_state.phpw
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/php/php-5.1.4/Zend/zend_vm_execute.h(3438) :  Freeing
0x08E011D4 (35 bytes), script=memleak_device_get_state.phpw
/data/cvs/php/php-5.1.4/Zend/zend_hash.c(383) : Actual location
(location was relayed)
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/php/php-5.1.4/Zend/zend_vm_execute.h(3407) :  Freeing
0x08E0030C (16 bytes), script=memleak_device_get_state.phpw
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/php/php-5.1.4/Zend/zend_vm_execute.h(12588) :  Freeing
0x08E002B4 (35 bytes), script=memleak_device_get_state.phpw
/data/cvs/php/php-5.1.4/Zend/zend_hash.c(383) : Actual location
(location was relayed)
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/php/php-5.1.4/Zend/zend_vm_execute.h(12538) :  Freeing
0x08E08144 (32 bytes), script=memleak_device_get_state.phpw
/data/cvs/php/php-5.1.4/Zend/zend_hash.c(169) : Actual location
(location was relayed)
Last leak repeated 1 time
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/php/php-5.1.4/Zend/zend_variables.h(45) :  Freeing 0x08DE61A4
(6 bytes), script=memleak_device_get_state.phpw
/data/cvs/php/php-5.1.4/Zend/zend_variables.c(120) : Actual location
(location was relayed)
[Mon Jun 12 15:07:13 2006]  Script:  'memleak_device_get_state.phpw'
/data/cvs/phpgtk2/php-gtk/main/php_gtk_util.c(873) :  Freeing
0x08DE088C (53 bytes), script=memleak_device_get_state.phpw
=== Total 21 memory leaks detected ===



------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=37787&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060615043423</emailId><senderName></senderName><senderEmail>cweiske</senderEmail><timestampReceived>2006-06-15 04:34:23-0400</timestampReceived><subject>[PHP-GTK-DEV] #37552 [Ana-&gt;WFx]: Crash when deleting list row in foreach() callback</subject><body>

 ID:               37552
 Updated by:       cweiske@php.net
 Reported By:      cweiske@php.net
-Status:           Analyzed
+Status:           Wont fix
 Bug Type:         PHP-GTK related
 Operating System: Any
 PHP Version:      5.1.4
 New Comment:

The docs for some callbacks explicitely state that you may not
modify/delete the rows; seems this was missing here.


Previous Comments:
------------------------------------------------------------------------

[2006-06-15 04:27:54] andrei@php.net

I'm not sure we can do much here. PyGTK crashes on similar code as
well. We may need to post a question on gtk mailing list and see if
they have any suggestions.

------------------------------------------------------------------------

[2006-05-22 20:08:18] cweiske@php.net

Description:
------------
When removing an iterator from a liststore in the foreach() callback,
php crashes with
*** glibc detected *** double free or corruption (fasttop): 0x08d92758
***



Reproduce code:
---------------
&lt;?php
$ls = new GtkListStore(Gtk::TYPE_STRING);
$ls-&gt;append(array('test'));
$ls-&gt;foreach('foreachList');
function foreachList($ls, $path, $iter) {
    $ls-&gt;remove($iter);
}
?&gt;



------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=37552&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060615094315</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-15 09:43:15-0400</timestampReceived><subject>[PHP-GTK-DEV] cvs mon</subject><body>


Hi all,


The devs might be interested:
http://php-gtk2.de/cvsmonitor/

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060615182102</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-15 18:21:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Fw: [ZEND-ENGINE-CVS] cvs: ZendEngine2(PHP_5_2) / zend_API.c zend_API.h zend_modul</subject><body>

OK, I'll knock something up.

/me is checking out as she types

&gt; Why not.
&gt; 
&gt; -Andrei
&gt; 
&gt; 
&gt; On Jun 15, 2006, at 1:42 PM, Steph Fox wrote:
&gt; 
&gt;&gt; OK that's it, it's in. Now back to the question of whether to use  
&gt;&gt; it straight away?
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "Dmitry Stogov" &lt;dmitry@php.net&gt;
&gt;&gt; To: &lt;zend-engine-cvs@lists.php.net&gt;
&gt;&gt; Sent: Thursday, June 15, 2006 4:03 PM
&gt;&gt; Subject: [ZEND-ENGINE-CVS] cvs: ZendEngine2(PHP_5_2) / zend_API.c  
&gt;&gt; zend_API.h zend_modules.h
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; dmitry Thu Jun 15 14:03:21 2006 UTC
&gt;&gt;&gt;
&gt;&gt;&gt;  Modified files:              (Branch: PHP_5_2)
&gt;&gt;&gt;    /ZendEngine2 zend_API.c zend_API.h zend_modules.h
&gt;&gt;&gt;  Log:
&gt;&gt;&gt;  MFH: Added automatic module globals management.
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; http://cvs.php.net/viewcvs.cgi/ZendEngine2/zend_API.c? 
&gt;&gt;&gt; r1=1.296.2.27.2.17&amp;r2=1.296.2.27.2.18&amp;diff_format=u
&gt;&gt;&gt; Index: ZendEngine2/zend_API.c
&gt;&gt;&gt; diff -u ZendEngine2/zend_API.c:1.296.2.27.2.17 ZendEngine2/ 
&gt;&gt;&gt; zend_API.c:1.296.2.27.2.18
&gt;&gt;&gt; --- ZendEngine2/zend_API.c:1.296.2.27.2.17 Wed Jun  7 09:43:54 2006
&gt;&gt;&gt; +++ ZendEngine2/zend_API.c Thu Jun 15 14:03:21 2006
&gt;&gt;&gt; @@ -18,7 +18,7 @@
&gt;&gt;&gt; +-------------------------------------------------------------------- 
&gt;&gt;&gt; --+
&gt;&gt;&gt; */
&gt;&gt;&gt;
&gt;&gt;&gt; -/* $Id: zend_API.c,v 1.296.2.27.2.17 2006/06/07 09:43:54 helly  
&gt;&gt;&gt; Exp $ */
&gt;&gt;&gt; +/* $Id: zend_API.c,v 1.296.2.27.2.18 2006/06/15 14:03:21 dmitry  
&gt;&gt;&gt; Exp $ */
&gt;&gt;&gt;
&gt;&gt;&gt; #include "zend.h"
&gt;&gt;&gt; #include "zend_execute.h"
&gt;&gt;&gt; @@ -1448,6 +1448,17 @@
&gt;&gt;&gt;  }
&gt;&gt;&gt;  }
&gt;&gt;&gt;
&gt;&gt;&gt; + /* Initialize module globals */
&gt;&gt;&gt; + if (module-&gt;globals_size) {
&gt;&gt;&gt; +#ifdef ZTS
&gt;&gt;&gt; + ts_allocate_id(module-&gt;globals_id_ptr, module-&gt;globals_size,  
&gt;&gt;&gt; (ts_allocate_ctor) module-&gt;globals_ctor, (ts_allocate_dtor) module- 
&gt;&gt;&gt; &gt;globals_dtor);
&gt;&gt;&gt; +#else
&gt;&gt;&gt; + if (module-&gt;globals_ctor) {
&gt;&gt;&gt; + module-&gt;globals_ctor(module-&gt;globals_ptr TSRMLS_CC);
&gt;&gt;&gt; + }
&gt;&gt;&gt; +#endif
&gt;&gt;&gt; + }
&gt;&gt;&gt; +
&gt;&gt;&gt;  if (module-&gt;module_startup_func) {
&gt;&gt;&gt;  EG(current_module) = module;
&gt;&gt;&gt;  if (module-&gt;module_startup_func(module-&gt;type, module- 
&gt;&gt;&gt; &gt;module_number TSRMLS_CC)==FAILURE) {
&gt;&gt;&gt; @@ -1881,6 +1892,18 @@
&gt;&gt;&gt; #endif
&gt;&gt;&gt;  module-&gt;module_shutdown_func(module-&gt;type, module-&gt;module_number  
&gt;&gt;&gt; TSRMLS_CC);
&gt;&gt;&gt;  }
&gt;&gt;&gt; +
&gt;&gt;&gt; + /* Deinitilaise module globals */
&gt;&gt;&gt; + if (module-&gt;globals_size) {
&gt;&gt;&gt; +#ifdef ZTS
&gt;&gt;&gt; + ts_free_id(*module-&gt;globals_id_ptr);
&gt;&gt;&gt; +#else
&gt;&gt;&gt; + if (module-&gt;globals_dtor) {
&gt;&gt;&gt; + module-&gt;globals_dtor(module-&gt;globals_ptr TSRMLS_CC);
&gt;&gt;&gt; + }
&gt;&gt;&gt; +#endif
&gt;&gt;&gt; + }
&gt;&gt;&gt; +
&gt;&gt;&gt;  module-&gt;module_started=0;
&gt;&gt;&gt;  if (module-&gt;functions) {
&gt;&gt;&gt;  zend_unregister_functions(module-&gt;functions, -1, NULL TSRMLS_CC);
&gt;&gt;&gt; http://cvs.php.net/viewcvs.cgi/ZendEngine2/zend_API.h? 
&gt;&gt;&gt; r1=1.207.2.8.2.3&amp;r2=1.207.2.8.2.4&amp;diff_format=u
&gt;&gt;&gt; Index: ZendEngine2/zend_API.h
&gt;&gt;&gt; diff -u ZendEngine2/zend_API.h:1.207.2.8.2.3 ZendEngine2/ 
&gt;&gt;&gt; zend_API.h:1.207.2.8.2.4
&gt;&gt;&gt; --- ZendEngine2/zend_API.h:1.207.2.8.2.3 Wed Jun  7 09:43:54 2006
&gt;&gt;&gt; +++ ZendEngine2/zend_API.h Thu Jun 15 14:03:21 2006
&gt;&gt;&gt; @@ -18,7 +18,7 @@
&gt;&gt;&gt; +-------------------------------------------------------------------- 
&gt;&gt;&gt; --+
&gt;&gt;&gt; */
&gt;&gt;&gt;
&gt;&gt;&gt; -/* $Id: zend_API.h,v 1.207.2.8.2.3 2006/06/07 09:43:54 helly Exp  
&gt;&gt;&gt; $ */
&gt;&gt;&gt; +/* $Id: zend_API.h,v 1.207.2.8.2.4 2006/06/15 14:03:21 dmitry Exp  
&gt;&gt;&gt; $ */
&gt;&gt;&gt;
&gt;&gt;&gt; #ifndef ZEND_API_H
&gt;&gt;&gt; #define ZEND_API_H
&gt;&gt;&gt; @@ -79,6 +79,8 @@
&gt;&gt;&gt; #define ZEND_MODULE_DEACTIVATE_N(module) zm_deactivate_##module
&gt;&gt;&gt; #define ZEND_MODULE_POST_ZEND_DEACTIVATE_N(module)  
&gt;&gt;&gt; zm_post_zend_deactivate_##module
&gt;&gt;&gt; #define ZEND_MODULE_INFO_N(module) zm_info_##module
&gt;&gt;&gt; +#define ZEND_MODULE_GLOBALS_CTOR_N(module)  zm_globals_ctor_##module
&gt;&gt;&gt; +#define ZEND_MODULE_GLOBALS_DTOR_N(module)  zm_globals_dtor_##module
&gt;&gt;&gt;
&gt;&gt;&gt; /* Declaration macros */
&gt;&gt;&gt; #define ZEND_MODULE_STARTUP_D(module) int ZEND_MODULE_STARTUP_N 
&gt;&gt;&gt; (module)(INIT_FUNC_ARGS)
&gt;&gt;&gt; @@ -87,6 +89,8 @@
&gt;&gt;&gt; #define ZEND_MODULE_DEACTIVATE_D(module) int  
&gt;&gt;&gt; ZEND_MODULE_DEACTIVATE_N(module)(SHUTDOWN_FUNC_ARGS)
&gt;&gt;&gt; #define ZEND_MODULE_POST_ZEND_DEACTIVATE_D(module) int  
&gt;&gt;&gt; ZEND_MODULE_POST_ZEND_DEACTIVATE_N(module)(void)
&gt;&gt;&gt; #define ZEND_MODULE_INFO_D(module) void ZEND_MODULE_INFO_N(module) 
&gt;&gt;&gt; (ZEND_MODULE_INFO_FUNC_ARGS)
&gt;&gt;&gt; +#define ZEND_MODULE_GLOBALS_CTOR_D(module)  void  
&gt;&gt;&gt; ZEND_MODULE_GLOBALS_CTOR_N(module)(zend_##module##_globals  
&gt;&gt;&gt; *module##_globals TSRMLS_DC)
&gt;&gt;&gt; +#define ZEND_MODULE_GLOBALS_DTOR_D(module)  void  
&gt;&gt;&gt; ZEND_MODULE_GLOBALS_DTOR_N(module)(zend_##module##_globals  
&gt;&gt;&gt; *module##_globals TSRMLS_DC)
&gt;&gt;&gt;
&gt;&gt;&gt; #define ZEND_GET_MODULE(name) \
&gt;&gt;&gt;     BEGIN_EXTERN_C()\
&gt;&gt;&gt; @@ -611,12 +615,16 @@
&gt;&gt;&gt; #define ZEND_RINIT ZEND_MODULE_ACTIVATE_N
&gt;&gt;&gt; #define ZEND_RSHUTDOWN ZEND_MODULE_DEACTIVATE_N
&gt;&gt;&gt; #define ZEND_MINFO ZEND_MODULE_INFO_N
&gt;&gt;&gt; +#define ZEND_GINIT(module) ((void (*)(void* TSRMLS_DC)) 
&gt;&gt;&gt; (ZEND_MODULE_GLOBALS_CTOR_N(module)))
&gt;&gt;&gt; +#define ZEND_GSHUTDOWN(module) ((void (*)(void* TSRMLS_DC)) 
&gt;&gt;&gt; (ZEND_MODULE_GLOBALS_DTOR_N(module)))
&gt;&gt;&gt;
&gt;&gt;&gt; #define ZEND_MINIT_FUNCTION ZEND_MODULE_STARTUP_D
&gt;&gt;&gt; #define ZEND_MSHUTDOWN_FUNCTION ZEND_MODULE_SHUTDOWN_D
&gt;&gt;&gt; #define ZEND_RINIT_FUNCTION ZEND_MODULE_ACTIVATE_D
&gt;&gt;&gt; #define ZEND_RSHUTDOWN_FUNCTION ZEND_MODULE_DEACTIVATE_D
&gt;&gt;&gt; #define ZEND_MINFO_FUNCTION ZEND_MODULE_INFO_D
&gt;&gt;&gt; +#define ZEND_GINIT_FUNCTION ZEND_MODULE_GLOBALS_CTOR_D
&gt;&gt;&gt; +#define ZEND_GSHUTDOWN_FUNCTION ZEND_MODULE_GLOBALS_DTOR_D
&gt;&gt;&gt;
&gt;&gt;&gt; END_EXTERN_C()
&gt;&gt;&gt;
&gt;&gt;&gt; http://cvs.php.net/viewcvs.cgi/ZendEngine2/zend_modules.h? 
&gt;&gt;&gt; r1=1.67.2.3.2.1&amp;r2=1.67.2.3.2.2&amp;diff_format=u
&gt;&gt;&gt; Index: ZendEngine2/zend_modules.h
&gt;&gt;&gt; diff -u ZendEngine2/zend_modules.h:1.67.2.3.2.1 ZendEngine2/ 
&gt;&gt;&gt; zend_modules.h:1.67.2.3.2.2
&gt;&gt;&gt; --- ZendEngine2/zend_modules.h:1.67.2.3.2.1 Tue May  9 23:53:23 2006
&gt;&gt;&gt; +++ ZendEngine2/zend_modules.h Thu Jun 15 14:03:21 2006
&gt;&gt;&gt; @@ -17,7 +17,7 @@
&gt;&gt;&gt; +-------------------------------------------------------------------- 
&gt;&gt;&gt; --+
&gt;&gt;&gt; */
&gt;&gt;&gt;
&gt;&gt;&gt; -/* $Id: zend_modules.h,v 1.67.2.3.2.1 2006/05/09 23:53:23 helly  
&gt;&gt;&gt; Exp $ */
&gt;&gt;&gt; +/* $Id: zend_modules.h,v 1.67.2.3.2.2 2006/06/15 14:03:21 dmitry  
&gt;&gt;&gt; Exp $ */
&gt;&gt;&gt;
&gt;&gt;&gt; #ifndef MODULES_H
&gt;&gt;&gt; #define MODULES_H
&gt;&gt;&gt; @@ -39,7 +39,7 @@
&gt;&gt;&gt; extern struct _zend_arg_info fifth_arg_force_ref[6];
&gt;&gt;&gt; extern struct _zend_arg_info all_args_by_ref[1];
&gt;&gt;&gt;
&gt;&gt;&gt; -#define ZEND_MODULE_API_NO 20050922
&gt;&gt;&gt; +#define ZEND_MODULE_API_NO 20060613
&gt;&gt;&gt; #ifdef ZTS
&gt;&gt;&gt; #define USING_ZTS 1
&gt;&gt;&gt; #else
&gt;&gt;&gt; @@ -52,10 +52,18 @@
&gt;&gt;&gt; #define ZE2_STANDARD_MODULE_HEADER \
&gt;&gt;&gt;  STANDARD_MODULE_HEADER_EX, ini_entries, NULL
&gt;&gt;&gt;
&gt;&gt;&gt; -#define STANDARD_MODULE_PROPERTIES_EX 0, 0, 0, NULL, 0
&gt;&gt;&gt; +#define STANDARD_MODULE_PROPERTIES_EX 0, 0, NULL, 0
&gt;&gt;&gt; +
&gt;&gt;&gt; +#define NO_MODULE_GLOBASLS 0, NULL, NULL, NULL
&gt;&gt;&gt; +
&gt;&gt;&gt; +#ifdef ZTS
&gt;&gt;&gt; +# define ZEND_MODULE_GLOBALS(module_name) sizeof 
&gt;&gt;&gt; (zend_##module_name##_globals), &amp;module_name##_globals_id
&gt;&gt;&gt; +#else
&gt;&gt;&gt; +# define ZEND_MODULE_GLOBALS(module_name) sizeof 
&gt;&gt;&gt; (zend_##module_name##_globals), &amp;module_name##_globals
&gt;&gt;&gt; +#endif
&gt;&gt;&gt;
&gt;&gt;&gt; #define STANDARD_MODULE_PROPERTIES \
&gt;&gt;&gt; - NULL, STANDARD_MODULE_PROPERTIES_EX
&gt;&gt;&gt; + NO_MODULE_GLOBASLS, NULL, STANDARD_MODULE_PROPERTIES_EX
&gt;&gt;&gt;
&gt;&gt;&gt; #define NO_VERSION_YET NULL
&gt;&gt;&gt;
&gt;&gt;&gt; @@ -81,8 +89,15 @@
&gt;&gt;&gt;  int (*request_shutdown_func)(SHUTDOWN_FUNC_ARGS);
&gt;&gt;&gt;  void (*info_func)(ZEND_MODULE_INFO_FUNC_ARGS);
&gt;&gt;&gt;  char *version;
&gt;&gt;&gt; + size_t globals_size;
&gt;&gt;&gt; +#ifdef ZTS
&gt;&gt;&gt; + ts_rsrc_id* globals_id_ptr;
&gt;&gt;&gt; +#else
&gt;&gt;&gt; + void* globals_ptr;
&gt;&gt;&gt; +#endif
&gt;&gt;&gt; + void (*globals_ctor)(void *global TSRMLS_DC);
&gt;&gt;&gt; + void (*globals_dtor)(void *global TSRMLS_DC);
&gt;&gt;&gt;  int (*post_deactivate_func)(void);
&gt;&gt;&gt; - int globals_id;
&gt;&gt;&gt;  int module_started;
&gt;&gt;&gt;  unsigned char type;
&gt;&gt;&gt;  void *handle;
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; Zend Engine CVS Mailing List (http://cvs.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060501062341</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-01 06:23:41-0400</timestampReceived><subject>[PHP-GTK-DEV] Strange array key names</subject><body>


Hello all,


When reflecting the interfaces of a class, I get strange key names for
the classes:

8&lt;------------------
array(5) {
  ["GtkTreeMode"]=&gt;
  &amp;object(ReflectionClass)#33 (1) {
    ["name"]=&gt;
    string(12) "GtkTreeModel"
  }
  ["GtkTreeDragSourc"]=&gt;
  &amp;object(ReflectionClass)#34 (1) {
    ["name"]=&gt;
    string(17) "GtkTreeDragSource"
  }
  ["GtkTreeDragDes"]=&gt;
  &amp;object(ReflectionClass)#35 (1) {
    ["name"]=&gt;
    string(15) "GtkTreeDragDest"
  }
  ["GtkTreeSortabl"]=&gt;
  &amp;object(ReflectionClass)#36 (1) {
    ["name"]=&gt;
    string(15) "GtkTreeSortable"
  }
  ["Traversabl"]=&gt;
  &amp;object(ReflectionClass)#37 (1) {
    ["name"]=&gt;
    string(11) "Traversable"
  }
}
8&lt;------------------


You see that the key is always the name of the class without the last
letter. Is that intention, or maybe the sign of a bug somewhere deep in
php or php-gtk?

Code to reproduce:
&gt; $rClass = new ReflectionClass('GtkListStore');
&gt; var_dump($rClass-&gt;getInterfaces());

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060501183328</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-01 18:33:28-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /generator arg_types.php</subject><body>


Andrei,

&gt; Well, then your arginfo generator needs to be adjusted.
You're a genius. I had already forgotten that some classes needed to be
converted to simple types sometimes. Fixed now.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060502120538</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-05-02 12:05:38-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [PATCH] GtkWidget::is_visible()? (Updated)</subject><body>

Index: ext/gtk+/gtk.overrides
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/gtk.overrides,v
retrieving revision 1.171
diff -u -r1.171 gtk.overrides
--- ext/gtk+/gtk.overrides      29 Apr 2006 12:58:57 -0000      1.171
+++ ext/gtk+/gtk.overrides      1 May 2006 20:55:09 -0000
@@ -3279,6 +3279,23 @@
      php_gtk_build_value(&amp;return_value, "b", visible);
  }

+%%
+add GtkWidget is_visible
+PHP_METHOD
+{
+    zend_bool visible;
+
+    NOT_STATIC_METHOD();
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "")) {
+        return;
+    }
+
+       visible = GTK_WIDGET_VISIBLE(GTK_WIDGET(PHPG_GOBJECT(this_ptr)));
+
+    RETURN_BOOL(visible);
+}
+
  %% }}}

  %% {{{ GtkWindow

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060503164433</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-03 16:44:33-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] drag_source_add_uri_targets missing?</subject><body>


&gt; are missing, although the corresponding drag_dest_* methods exist. Any
&gt; reason for this?
The methods are in since Gtk 2.6, so there shouldn't be a problem
including them.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060503171413</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-03 17:14:13-0400</timestampReceived><subject>[PHP-GTK-DEV] Gdk::atom_intern(string) -&gt; new GdkAtom(string)?</subject><body>


Hi Andrei,


Is there a reason why there is Gdk::atom_intern(string) that returns a
GdkAtom instance and not a GdkAtom constructor?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060503171653</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-03 17:16:53-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Creating a GDK_SELECTION_TYPE_STRING atom</subject><body>


&gt; How can I create a GDK_SELECTION_TYPE_STRING atom?
Gdk::atom_intern('string');

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060503180835</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-05-03 18:08:35-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Patches for alpha release</subject><body>

On May 3, 2006, at 10:02 AM, Anant Narayanan wrote:

&gt; I'm probably as confused as you are, but my guess is that we need to
&gt; modify the existing build system so that it assumes the presence of the
&gt; gen_*.c files instead of trying to generate them from the definitions.
&gt;
&gt; There's no need for a script or anything.

http://cvs.php.net/viewcvs.cgi/php-gtk/makedist?view=markup&amp;rev=1.7

This is the script I'm talking about. It needs to be modified.

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060503182925</emailId><senderName>"cweiske () php ! net"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-05-03 18:29:25-0400</timestampReceived><subject>[PHP-GTK-DEV] #37296 [NEW]: segfault when doing drag and drop</subject><body>

From:             cweiske@php.net
Operating system: Linux/Gentoo
PHP version:      5.1.3
PHP Bug Type:     PHP-GTK related
Bug description:  segfault when doing drag and drop

Description:
------------
Bug in drag'n'drop:
Drag from "from" button to "to" button several (3) times.
You will get a segfault.
The segfault appears only if the drag-data-get signal is connected


Reproduce code:
---------------
&lt;?php
$wnd = new GtkWindow();
$wnd-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));
$hbox = new GtkHBox();
$wnd-&gt;add($hbox);

$btnFrom = new GtkButton('From');
$btnTo   = new GtkButton('To');

$hbox-&gt;pack_start($btnFrom);
$hbox-&gt;pack_start($btnTo);

$btnFrom-&gt;drag_source_set(
    Gdk::BUTTON1_MASK,
    //change to text/plain, and it works
    array(array('text/xml', 0, 1)),
    Gdk::ACTION_COPY | Gdk::ACTION_MOVE
);
$btnFrom-&gt;connect('drag-data-get', 'onGetDragData');


$btnTo-&gt;drag_dest_set(
    Gtk::DEST_DEFAULT_ALL,
    //change to text/plain, and it works
    array(array('text/xml', 0, 1)),
    Gdk::ACTION_COPY | Gdk::ACTION_MOVE
);

$btnTo-&gt;connect('drag-drop', 'onDragDrop');


function onGetDragData($widget, $context, $selection, $info, $time) {
    echo $widget-&gt;get_name() . " drag-data-get\r\n";
    $selection-&gt;set_text('ThisIsTheContent');
}

function onDragDrop($widget, $context, $x, $y, $time) {
    global $strMimeType, $strTypeNumber;

    echo "drag-drop\r\n";
    var_dump(
        $widget-&gt;drag_dest_find_target(
            $context, array(array('text/xml', 0, 1))
        )
    );
}

$wnd-&gt;show_all();
Gtk::main();
?&gt;

Actual result:
--------------
Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 16384 (LWP 20610)]
0xb7b793f5 in mallopt () from /lib/libc.so.6
(gdb) bt
#0  0xb7b793f5 in mallopt () from /lib/libc.so.6
#1  0xb7b78a91 in mallopt () from /lib/libc.so.6
#2  0xb7b77b33 in malloc () from /lib/libc.so.6
#3  0xb6f9177e in cairo_matrix_invert () from /usr/lib/libcairo.so.2
#4  0x0000020c in ?? ()
#5  0x3fecfcfc in ?? ()
#6  0xb6fc39f4 in ?? () from /usr/lib/libcairo.so.2
#7  0xb6f9161e in cairo_matrix_invert () from /usr/lib/libcairo.so.2
#8  0x08eb96b8 in ?? ()
#9  0x00000000 in ?? ()
#10 0xbf917fc8 in ?? ()
#11 0xb700ddb9 in gdk_cairo_set_source_color ()
   from /usr/lib/libgdk-x11-2.0.so.0
#12 0x00917fc0 in ?? ()
#13 0x08eb2ea8 in ?? ()
#14 0x08eb2ea0 in ?? ()
#15 0xb6f9131a in cairo_matrix_invert () from /usr/lib/libcairo.so.2
#16 0x08eb2ea8 in ?? ()
#17 0x00000000 in ?? ()
#18 0xbf917fa0 in ?? ()
#19 0x00000001 in ?? ()
#20 0x00000000 in ?? ()
#21 0x00000000 in ?? ()
#22 0x00000000 in ?? ()
#23 0xb6f85d8a in cairo_move_to () from /usr/lib/libcairo.so.2
#24 0x08eb2ea8 in ?? ()
#25 0x00000000 in ?? ()
#26 0x00000000 in ?? ()
#27 0x00000000 in ?? ()
#28 0x00000000 in ?? ()
#29 0x00000000 in ?? ()
#30 0x00000000 in ?? ()
#31 0x00000000 in ?? ()
#32 0xb6fc39f4 in ?? () from /usr/lib/libcairo.so.2
#33 0x08eb2ea0 in ?? ()
#34 0x08e96d28 in ?? ()
#35 0xb6f864f0 in cairo_rectangle () from /usr/lib/libcairo.so.2
#36 0x08eb2ea0 in ?? ()
#37 0x00000000 in ?? ()
#38 0x3ff00000 in ?? ()
#39 0x00000000 in ?? ()
#40 0x00000000 in ?? ()
#41 0xb6fc39f4 in ?? () from /usr/lib/libcairo.so.2
#42 0x08eb2ea0 in ?? ()
#43 0xb6f8523a in cairo_create () from /usr/lib/libcairo.so.2
#44 0x00000000 in ?? ()
#45 0x403f0000 in ?? ()
#46 0x00000000 in ?? ()
#47 0x405c8000 in ?? ()
#48 0x08eb2ea0 in ?? ()
#49 0xb707b0a8 in ?? () from /usr/lib/libgdk-x11-2.0.so.0
#50 0x08eb2ea0 in ?? ()
#51 0xb702803e in gdk_window_get_internal_paint_info ()
   from /usr/lib/libgdk-x11-2.0.so.0
#52 0x00000000 in ?? ()


-- 
Edit bug report at http://bugs.php.net/?id=37296&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=37296&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.1): http://bugs.php.net/fix.php?id=37296&amp;r=trysnapshot51
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=37296&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=37296&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=37296&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=37296&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=37296&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=37296&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=37296&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=37296&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=37296&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=37296&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=37296&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=37296&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=37296&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=37296&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=37296&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=37296&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=37296&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=37296&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060503183109</emailId><senderName>"cweiske () php ! net"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-05-03 18:31:09-0400</timestampReceived><subject>[PHP-GTK-DEV] #37297 [NEW]: segfault when dumping GtkSelectionData</subject><body>

From:             cweiske@php.net
Operating system: Linux/Gentoo
PHP version:      5.1.3
PHP Bug Type:     PHP-GTK related
Bug description:  segfault when dumping GtkSelectionData

Description:
------------
Bug in drag'n'drop:
Drag from "from" button to "to" button.
You will get a segfault.


Reproduce code:
---------------
&lt;?php
$wnd = new GtkWindow();
$wnd-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));
$hbox = new GtkHBox();
$wnd-&gt;add($hbox);

$btnFrom = new GtkButton('From');
$btnTo   = new GtkButton('To');

$hbox-&gt;pack_start($btnFrom);
$hbox-&gt;pack_start($btnTo);

$btnFrom-&gt;drag_source_set(
    Gdk::BUTTON1_MASK,
    //change to text/plain, and it works
    array(array('text/xml', 0, 1)),
    Gdk::ACTION_COPY | Gdk::ACTION_MOVE
);
$btnFrom-&gt;connect('drag-data-get', 'onGetDragData');


$btnTo-&gt;drag_dest_set(
    Gtk::DEST_DEFAULT_ALL,
    //change to text/plain, and it works
    array(array('text/xml', 0, 1)),
    Gdk::ACTION_COPY | Gdk::ACTION_MOVE
);

function onGetDragData($widget, $context, $selection, $info, $time) {
    var_dump($selection);
}


$wnd-&gt;show_all();
Gtk::main();
?&gt;

Actual result:
--------------
Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 16384 (LWP 20870)]
0xb7c5b203 in strlen () from /lib/libc.so.6
(gdb) bt
#0  0xb7c5b203 in strlen () from /lib/libc.so.6
#1  0xb75dbcbd in phpg_GtkSelectionData_read_type (object=0x8eb03ec,
    return_value=0xbf8f3cf0) at gen_gtk.c:45552
#2  0xb75ff86b in phpg_get_properties (object=0x8d9bb74)
    at /data/cvs/phpgtk2/php-gtk/main/phpg_support.c:173
#3  0x082c852b in php_var_dump (struc=0x87d1e64, level=1)
    at /data/cvs/php/php-5.1.2/ext/standard/var.c:139
#4  0x082c8736 in zif_var_dump (ht=1, return_value=0x8da9a74,
    return_value_ptr=0x0, this_ptr=0x0, return_value_used=0)
    at /data/cvs/php/php-5.1.2/ext/standard/var.c:192
#5  0x0834a906 in zend_do_fcall_common_helper_SPEC
(execute_data=0xbf8f3e20)
    at zend_vm_execute.h:192
#6  0x0834a218 in execute (op_array=0x8d95078) at zend_vm_execute.h:92
#7  0x08328339 in zend_call_function (fci=0xbf8f3f50, fci_cache=0x0)
    at /data/cvs/php/php-5.1.2/Zend/zend_execute_API.c:907
#8  0x08327bae in call_user_function_ex (function_table=0x0,
object_pp=0x0,
    function_name=0x0, retval_ptr_ptr=0x0, param_count=0, params=0x0,
    no_separation=0, symbol_table=0x0)
    at /data/cvs/php/php-5.1.2/Zend/zend_execute_API.c:571
#9  0xb7605a8a in phpg_closure_marshal (closure=0x8da9b50,
return_value=0x0,
    n_param_values=5, param_values=0xbf8f4210,
invocation_hint=0xbf8f40f8,
    marshal_data=0x0) at
/data/cvs/phpgtk2/php-gtk/main/phpg_closure.c:124
#10 0xb6fe330e in g_closure_invoke () from /usr/lib/libgobject-2.0.so.0


-- 
Edit bug report at http://bugs.php.net/?id=37297&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=37297&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.1): http://bugs.php.net/fix.php?id=37297&amp;r=trysnapshot51
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=37297&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=37297&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=37297&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=37297&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=37297&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=37297&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=37297&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=37297&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=37297&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=37297&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=37297&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=37297&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=37297&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=37297&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=37297&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=37297&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=37297&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=37297&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060501205605</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-05-01 20:56:05-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [PATCH] GtkWidget::is_visible()?</subject><body>

Index: ext/gtk+/gtk.overrides
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/gtk.overrides,v
retrieving revision 1.171
diff -u -r1.171 gtk.overrides
--- ext/gtk+/gtk.overrides      29 Apr 2006 12:58:57 -0000      1.171
+++ ext/gtk+/gtk.overrides      1 May 2006 20:55:09 -0000
@@ -3279,6 +3279,23 @@
      php_gtk_build_value(&amp;return_value, "b", visible);
  }

+%%
+add GtkWidget is_visible
+PHP_METHOD
+{
+    zend_bool visible;
+
+    NOT_STATIC_METHOD();
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "")) {
+        return;
+    }
+
+       visible = GTK_WIDGET_VISIBLE(GTK_WIDGET(PHPG_GOBJECT(this_ptr)));
+
+    php_gtk_build_value(&amp;return_value, "b", visible);
+}
+
  %% }}}

  %% {{{ GtkWindow

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060503162913</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-03 16:29:13-0400</timestampReceived><subject>[PHP-GTK-DEV] drag_source_add_uri_targets missing?</subject><body>


Hi all,


The GtkWidget methods
&gt; drag_source_add_uri_targets
&gt; drag_source_add_image_targets
are missing, although the corresponding drag_dest_* methods exist. Any
reason for this?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060503080610</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-03 08:06:10-0400</timestampReceived><subject>[PHP-GTK-DEV] Creating a GDK_SELECTION_TYPE_STRING atom</subject><body>


Hello all and Andrei,


How can I create a GDK_SELECTION_TYPE_STRING atom?
Gtk itself has some constants that supply the atom types for selection
data, but PHP-Gtk misses them (at least I didn't find them).

http://developer.gnome.org/doc/API/2.0/gdk/gdk-Selections.html#GDK-SELECTION-TYPE-STRING:CAPS

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060501225014</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-05-01 22:50:14-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [PATCH] GtkWidget::is_visible()?</subject><body>

On May 1, 2006, at 1:56 PM, Scott Mattocks wrote:

&gt; Index: ext/gtk+/gtk.overrides
&gt; ===================================================================
&gt; RCS file: /repository/php-gtk/ext/gtk+/gtk.overrides,v
&gt; retrieving revision 1.171
&gt; diff -u -r1.171 gtk.overrides
&gt; --- ext/gtk+/gtk.overrides      29 Apr 2006 12:58:57 -0000      1.171
&gt; +++ ext/gtk+/gtk.overrides      1 May 2006 20:55:09 -0000
&gt; @@ -3279,6 +3279,23 @@
&gt;      php_gtk_build_value(&amp;return_value, "b", visible);
&gt;  }
&gt;
&gt; +%%
&gt; +add GtkWidget is_visible
&gt; +PHP_METHOD
&gt; +{
&gt; +    zend_bool visible;
&gt; +
&gt; +    NOT_STATIC_METHOD();
&gt; +
&gt; +    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "")) {
&gt; +        return;
&gt; +    }
&gt; +
&gt; +       visible = 
&gt; GTK_WIDGET_VISIBLE(GTK_WIDGET(PHPG_GOBJECT(this_ptr)));
&gt; +
&gt; +    php_gtk_build_value(&amp;return_value, "b", visible);

php_gtk_build_value() is best used only for building and returning 
complex types, like arrays. For simple types, please use macros.

RETURN_BOOL(visible);

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060420070636</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-20 07:06:36-0400</timestampReceived><subject>[PHP-GTK-DEV] Patches for alpha release</subject><body>

This is the list of patches I hope to get into PHP-GTK before alpha  
release. If you have any objections or additions (not too many), let  
me know.

1. PangoAttribute support.
2. GtkRadioButton::get_group (and maybe related ones).
3. GtkAboutDialog::get/set_website_label
4. GtkPlug/GtkSocket
5. Scintilla extension.
6. GtkTreeModel::iter_parent, iter_n_children and any additional ones  
that are easy to implement.

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060504120339</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-04 12:03:39-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkSelectionData:: get_uris/set_uris override</subject><body>

[Attachment #2 (multipart/mixed)]


Hi all,


I made a patch for GtkSelectionData::get_uris() and set_uris().
My demo script works, I am just unsure about how to free the gchar list
in get_uris().
Andrei, could you check it?


And together with this patch, I'm able to reproduce the
&gt; *** glibc detected *** corrupted double-linked list: 0x08dd5e00 ***
error I had already yesterday with drag and drop - just drop 3x on
itself. (This has nothing to do with this patch, as it already came
yesterday now and then). The demo script will be attached to the bug I'm
about to open now.

-- 
Regards/MfG,
Christian Weiske

["gtkselectiondata.txt" (text/plain)]

%% {{{ GtkSelectionData

%%
override gtk_selection_data_get_uris
PHP_METHOD
{
    gchar **ret;
    gchar *cp_str;
    gsize cp_len;
    zend_bool free_cp_str;
    GtkSelectionData *selection_data = NULL;

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
        return;

    selection_data = (GtkSelectionData *) PHPG_GBOXED(this_ptr);
    ret = gtk_selection_data_get_uris(selection_data);
    if (ret) {
        array_init(return_value);
        while (*ret) {
            cp_str = phpg_from_utf8(*ret, strlen(*ret), &amp;cp_len, &amp;free_cp_str TSRMLS_CC);
            if (cp_str) {
                add_next_index_stringl(return_value, cp_str, cp_len, !free_cp_str);
            } else {
                zval_dtor(return_value);
                RETURN_NULL();
            }
            *ret++;
        }
//        g_strfreev(*ret);
    } else {
        RETURN_NULL();
    }
}

%%
add-arginfo GtkSelectionData set_uris
static
ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
    ZEND_ARG_INFO(0, uris)
ZEND_END_ARG_INFO();

%%
override gtk_selection_data_set_uris
PHP_METHOD
{
    gchar **uris;
    zval *arr = NULL;
    zval **data;
    int i, arr_count;
    GtkSelectionData *selection_data = NULL;

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
        return;
    }

    arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
    uris = safe_emalloc(arr_count+1, sizeof (gchar *), 0);

    for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
         zend_hash_get_current_data(Z_ARRVAL_P(arr), (void **)&amp;data) == SUCCESS;
         zend_hash_move_forward(Z_ARRVAL_P(arr))) {

        convert_to_string_ex(data);
        uris[i++] = Z_STRVAL_PP(data);

    }

    uris[i] = NULL;
    selection_data = (GtkSelectionData *) PHPG_GBOXED(this_ptr);
    gtk_selection_data_set_uris(selection_data, (
["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060727195319</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-27 19:53:19-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSelectionData:: get_uris/set_uris override</subject><body>


Bump.

Christian Weiske wrote:
&gt; Hi all,
&gt; 
&gt; 
&gt; I made a patch for GtkSelectionData::get_uris() and set_uris().
&gt; My demo script works, I am just unsure about how to free the gchar list
&gt; in get_uris().
&gt; Andrei, could you check it?
&gt; 
&gt; 
&gt; And together with this patch, I'm able to reproduce the
&gt;&gt; *** glibc detected *** corrupted double-linked list: 0x08dd5e00 ***
&gt; error I had already yesterday with drag and drop - just drop 3x on
&gt; itself. (This has nothing to do with this patch, as it already came
&gt; yesterday now and then). The demo script will be attached to the bug I'm
&gt; about to open now.
&gt; 
&gt; 
&gt; 
&gt; ------------------------------------------------------------------------
&gt; 
&gt; %% {{{ GtkSelectionData
&gt; 
&gt; %%
&gt; override gtk_selection_data_get_uris
&gt; PHP_METHOD
&gt; {
&gt;     gchar **ret;
&gt;     gchar *cp_str;
&gt;     gsize cp_len;
&gt;     zend_bool free_cp_str;
&gt;     GtkSelectionData *selection_data = NULL;
&gt; 
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
&gt;         return;
&gt; 
&gt;     selection_data = (GtkSelectionData *) PHPG_GBOXED(this_ptr);
&gt;     ret = gtk_selection_data_get_uris(selection_data);
&gt;     if (ret) {
&gt;         array_init(return_value);
&gt;         while (*ret) {
&gt;             cp_str = phpg_from_utf8(*ret, strlen(*ret), &amp;cp_len, &amp;free_cp_str TSRMLS_CC);
&gt;             if (cp_str) {
&gt;                 add_next_index_stringl(return_value, cp_str, cp_len, !free_cp_str);
&gt;             } else {
&gt;                 zval_dtor(return_value);
&gt;                 RETURN_NULL();
&gt;             }
&gt;             *ret++;
&gt;         }
&gt; //        g_strfreev(*ret);
&gt;     } else {
&gt;         RETURN_NULL();
&gt;     }
&gt; }
&gt; 
&gt; %%
&gt; add-arginfo GtkSelectionData set_uris
&gt; static
&gt; ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
&gt;     ZEND_ARG_INFO(0, uris)
&gt; ZEND_END_ARG_INFO();
&gt; 
&gt; %%
&gt; override gtk_selection_data_set_uris
&gt; PHP_METHOD
&gt; {
&gt;     gchar **uris;
&gt;     zval *arr = NULL;
&gt;     zval **data;
&gt;     int i, arr_count;
&gt;     GtkSelectionData *selection_data = NULL;
&gt; 
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
&gt;         return;
&gt;     }
&gt; 
&gt;     arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
&gt;     uris = safe_emalloc(arr_count+1, sizeof (gchar *), 0);
&gt; 
&gt;     for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
&gt;          zend_hash_get_current_data(Z_ARRVAL_P(arr), (void **)&amp;data) == SUCCESS;
&gt;          zend_hash_move_forward(Z_ARRVAL_P(arr))) {
&gt; 
&gt;         convert_to_string_ex(data);
&gt;         uris[i++] = Z_STRVAL_PP(data);
&gt; 
&gt;     }
&gt; 
&gt;     uris[i] = NULL;
&gt;     selection_data = (GtkSelectionData *) PHPG_GBOXED(this_ptr);
&gt;     gtk_selection_data_set_uris(selection_data, (

-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060727212715</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-27 21:27:15-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSelectionData:: get_uris/set_uris override</subject><body>

Yeah, I know. Need to find some time away from Unicode..

-Andrei


On Jul 27, 2006, at 12:53 PM, Christian Weiske wrote:

&gt; Bump.
&gt;
&gt; Christian Weiske wrote:
&gt;&gt; Hi all,
&gt;&gt;
&gt;&gt;
&gt;&gt; I made a patch for GtkSelectionData::get_uris() and set_uris().
&gt;&gt; My demo script works, I am just unsure about how to free the gchar  
&gt;&gt; list
&gt;&gt; in get_uris().
&gt;&gt; Andrei, could you check it?
&gt;&gt;
&gt;&gt;
&gt;&gt; And together with this patch, I'm able to reproduce the
&gt;&gt;&gt; *** glibc detected *** corrupted double-linked list: 0x08dd5e00 ***
&gt;&gt; error I had already yesterday with drag and drop - just drop 3x on
&gt;&gt; itself. (This has nothing to do with this patch, as it already came
&gt;&gt; yesterday now and then). The demo script will be attached to the  
&gt;&gt; bug I'm
&gt;&gt; about to open now.
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; --------------------------------------------------------------------- 
&gt;&gt; ---
&gt;&gt;
&gt;&gt; %% {{{ GtkSelectionData
&gt;&gt;
&gt;&gt; %%
&gt;&gt; override gtk_selection_data_get_uris
&gt;&gt; PHP_METHOD
&gt;&gt; {
&gt;&gt;     gchar **ret;
&gt;&gt;     gchar *cp_str;
&gt;&gt;     gsize cp_len;
&gt;&gt;     zend_bool free_cp_str;
&gt;&gt;     GtkSelectionData *selection_data = NULL;
&gt;&gt;
&gt;&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
&gt;&gt;         return;
&gt;&gt;
&gt;&gt;     selection_data = (GtkSelectionData *) PHPG_GBOXED(this_ptr);
&gt;&gt;     ret = gtk_selection_data_get_uris(selection_data);
&gt;&gt;     if (ret) {
&gt;&gt;         array_init(return_value);
&gt;&gt;         while (*ret) {
&gt;&gt;             cp_str = phpg_from_utf8(*ret, strlen(*ret), &amp;cp_len,  
&gt;&gt; &amp;free_cp_str TSRMLS_CC);
&gt;&gt;             if (cp_str) {
&gt;&gt;                 add_next_index_stringl(return_value, cp_str,  
&gt;&gt; cp_len, !free_cp_str);
&gt;&gt;             } else {
&gt;&gt;                 zval_dtor(return_value);
&gt;&gt;                 RETURN_NULL();
&gt;&gt;             }
&gt;&gt;             *ret++;
&gt;&gt;         }
&gt;&gt; //        g_strfreev(*ret);
&gt;&gt;     } else {
&gt;&gt;         RETURN_NULL();
&gt;&gt;     }
&gt;&gt; }
&gt;&gt;
&gt;&gt; %%
&gt;&gt; add-arginfo GtkSelectionData set_uris
&gt;&gt; static
&gt;&gt; ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
&gt;&gt;     ZEND_ARG_INFO(0, uris)
&gt;&gt; ZEND_END_ARG_INFO();
&gt;&gt;
&gt;&gt; %%
&gt;&gt; override gtk_selection_data_set_uris
&gt;&gt; PHP_METHOD
&gt;&gt; {
&gt;&gt;     gchar **uris;
&gt;&gt;     zval *arr = NULL;
&gt;&gt;     zval **data;
&gt;&gt;     int i, arr_count;
&gt;&gt;     GtkSelectionData *selection_data = NULL;
&gt;&gt;
&gt;&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
&gt;&gt;         return;
&gt;&gt;     }
&gt;&gt;
&gt;&gt;     arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
&gt;&gt;     uris = safe_emalloc(arr_count+1, sizeof (gchar *), 0);
&gt;&gt;
&gt;&gt;     for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
&gt;&gt;          zend_hash_get_current_data(Z_ARRVAL_P(arr), (void **) 
&gt;&gt; &amp;data) == SUCCESS;
&gt;&gt;          zend_hash_move_forward(Z_ARRVAL_P(arr))) {
&gt;&gt;
&gt;&gt;         convert_to_string_ex(data);
&gt;&gt;         uris[i++] = Z_STRVAL_PP(data);
&gt;&gt;
&gt;&gt;     }
&gt;&gt;
&gt;&gt;     uris[i] = NULL;
&gt;&gt;     selection_data = (GtkSelectionData *) PHPG_GBOXED(this_ptr);
&gt;&gt;     gtk_selection_data_set_uris(selection_data, (
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060504120635</emailId><senderName>"cweiske () php ! net"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-05-04 12:06:35-0400</timestampReceived><subject>[PHP-GTK-DEV] #37304 [NEW]: corrupted double-linked list when dragging</subject><body>

From:             cweiske@php.net
Operating system: Linux/Gentoo
PHP version:      5.1.3
PHP Bug Type:     PHP-GTK related
Bug description:  corrupted double-linked list when dragging

Description:
------------
When dragging 3x from the window to itself, php crashes. You need to apply
the GtkSelectionData get_uris/set_uris patch I sent to php-gtk-dev today
first.

Reproduce code:
---------------
&lt;?php
$wnd = new GtkWindow();
$wnd-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));
$wnd-&gt;drag_source_set(Gdk::BUTTON1_MASK, array(), Gdk::ACTION_COPY);


$wnd-&gt;drag_source_set(
    Gdk::BUTTON1_MASK,
    array(array('text/uri-list', 0, 0)),
    Gdk::ACTION_COPY
);
$wnd-&gt;drag_dest_set(
    Gtk::DEST_DEFAULT_ALL,
    array(array('text/uri-list', 0, 0)),
    Gdk::ACTION_COPY
);
$wnd-&gt;drag_dest_add_uri_targets();

$wnd-&gt;connect('drag-data-get', 'onGetDragData');
$wnd-&gt;connect('drag-data-received', 'onDragDataReceived');


function onDragDataReceived($widget, $context, $x, $y, $data, $info,
$time) {
    echo "drag-data-received\r\n";
    var_dump($data-&gt;get_uris());
}
function onGetDragData($widget, $context, $selection, $info, $time) {
    echo "drag-data-get\r\n";
//    $selection-&gt;set(Gdk::atom_intern('text/variable'), 8, 'abc', 3);
    $selection-&gt;set_uris(array('file:///',
'file:///home/cweiske/a.out'));
}


$wnd-&gt;show_all();
Gtk::main();
?&gt;

Actual result:
--------------
*** glibc detected *** corrupted double-linked list: 0x08dd5e00 ***

Program received signal SIGABRT, Aborted.
[Switching to Thread 16384 (LWP 10903)]
0xb7bcc0b1 in kill () from /lib/libc.so.6
(gdb) bt
#0  0xb7bcc0b1 in kill () from /lib/libc.so.6
#1  0xb77631e1 in pthread_kill () from /lib/libpthread.so.0
#2  0xb776355b in raise () from /lib/libpthread.so.0
#3  0xb7bcbe44 in raise () from /lib/libc.so.6
#4  0xb7bcd30d in abort () from /lib/libc.so.6
#5  0xb7bfe5bc in __fsetlocking () from /lib/libc.so.6
#6  0xb7c08417 in mallopt () from /lib/libc.so.6
#7  0xb7c07465 in mallopt () from /lib/libc.so.6
#8  0xb7c06a91 in mallopt () from /lib/libc.so.6
#9  0xb7c05b33 in malloc () from /lib/libc.so.6
#10 0xb701f77e in cairo_matrix_invert () from /usr/lib/libcairo.so.2
#11 0x0000020c in ?? ()
#12 0x3fecfcfc in ?? ()
#13 0xb70519f4 in ?? () from /usr/lib/libcairo.so.2
#14 0xb701f61e in cairo_matrix_invert () from /usr/lib/libcairo.so.2
#15 0x08dd4e48 in ?? ()
#16 0x00000000 in ?? ()
#17 0xbffa5798 in ?? ()
#18 0xb709bdb9 in gdk_cairo_set_source_color ()
   from /usr/lib/libgdk-x11-2.0.so.0
#19 0x00fa5790 in ?? ()
#20 0x08dd5798 in ?? ()
#21 0x08dd5790 in ?? ()
---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
#22 0xb701f31a in cairo_matrix_invert () from /usr/lib/libcairo.so.2
#23 0x08dd5798 in ?? ()
#24 0x00000000 in ?? ()
#25 0xbffa5770 in ?? ()
#26 0x00000001 in ?? ()
#27 0x00000000 in ?? ()
#28 0x00000000 in ?? ()
#29 0x00000000 in ?? ()
#30 0xb7013d8a in cairo_move_to () from /usr/lib/libcairo.so.2
#31 0x08dd5798 in ?? ()
#32 0x00000000 in ?? ()
#33 0x00000000 in ?? ()
#34 0x00000000 in ?? ()
#35 0x00000000 in ?? ()
#36 0x00000000 in ?? ()
#37 0x00000000 in ?? ()
#38 0x00000000 in ?? ()
#39 0xb70519f4 in ?? () from /usr/lib/libcairo.so.2
#40 0x08dd5790 in ?? ()
#41 0x08dcf148 in ?? ()
#42 0xb70144f0 in cairo_rectangle () from /usr/lib/libcairo.so.2
#43 0x08dd5790 in ?? ()
#44 0x00000000 in ?? ()
---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
#45 0x00000000 in ?? ()
#46 0x00000000 in ?? ()
#47 0x00000000 in ?? ()
#48 0xb70519f4 in ?? () from /usr/lib/libcairo.so.2
#49 0x08dd5790 in ?? ()
#50 0xb701323a in cairo_create () from /usr/lib/libcairo.so.2
#51 0x00000000 in ?? ()
#52 0x40690000 in ?? ()
#53 0x00000000 in ?? ()
#54 0x40690000 in ?? ()
#55 0x08dd5790 in ?? ()
#56 0xb71090a8 in ?? () from /usr/lib/libgdk-x11-2.0.so.0
#57 0x08dd5790 in ?? ()
#58 0xb70b603e in gdk_window_get_internal_paint_info ()
   from /usr/lib/libgdk-x11-2.0.so.0
#59 0x00000000 in ?? ()


-- 
Edit bug report at http://bugs.php.net/?id=37304&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=37304&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.1): http://bugs.php.net/fix.php?id=37304&amp;r=trysnapshot51
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=37304&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=37304&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=37304&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=37304&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=37304&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=37304&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=37304&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=37304&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=37304&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=37304&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=37304&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=37304&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=37304&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=37304&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=37304&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=37304&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=37304&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=37304&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060504122019</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-04 12:20:19-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] #37304 [NEW]: corrupted double-linked list when dragging</subject><body>

Just a little question here, I'm confused again.

How come you're getting cairo errors in GTK 2.6.*?

- Steph


----- Original Message ----- 
From: "cweiske@php.net" &lt;php-gtk-dev@lists.php.net&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Thursday, May 04, 2006 2:06 PM
Subject: [PHP-GTK-DEV] #37304 [NEW]: corrupted double-linked list when 
dragging


&gt; From:             cweiske@php.net
&gt; Operating system: Linux/Gentoo
&gt; PHP version:      5.1.3
&gt; PHP Bug Type:     PHP-GTK related
&gt; Bug description:  corrupted double-linked list when dragging
&gt;
&gt; Description:
&gt; ------------
&gt; When dragging 3x from the window to itself, php crashes. You need to apply
&gt; the GtkSelectionData get_uris/set_uris patch I sent to php-gtk-dev today
&gt; first.
&gt;
&gt; Reproduce code:
&gt; ---------------
&gt; &lt;?php
&gt; $wnd = new GtkWindow();
&gt; $wnd-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));
&gt; $wnd-&gt;drag_source_set(Gdk::BUTTON1_MASK, array(), Gdk::ACTION_COPY);
&gt;
&gt;
&gt; $wnd-&gt;drag_source_set(
&gt;    Gdk::BUTTON1_MASK,
&gt;    array(array('text/uri-list', 0, 0)),
&gt;    Gdk::ACTION_COPY
&gt; );
&gt; $wnd-&gt;drag_dest_set(
&gt;    Gtk::DEST_DEFAULT_ALL,
&gt;    array(array('text/uri-list', 0, 0)),
&gt;    Gdk::ACTION_COPY
&gt; );
&gt; $wnd-&gt;drag_dest_add_uri_targets();
&gt;
&gt; $wnd-&gt;connect('drag-data-get', 'onGetDragData');
&gt; $wnd-&gt;connect('drag-data-received', 'onDragDataReceived');
&gt;
&gt;
&gt; function onDragDataReceived($widget, $context, $x, $y, $data, $info,
&gt; $time) {
&gt;    echo "drag-data-received\r\n";
&gt;    var_dump($data-&gt;get_uris());
&gt; }
&gt; function onGetDragData($widget, $context, $selection, $info, $time) {
&gt;    echo "drag-data-get\r\n";
&gt; //    $selection-&gt;set(Gdk::atom_intern('text/variable'), 8, 'abc', 3);
&gt;    $selection-&gt;set_uris(array('file:///',
&gt; 'file:///home/cweiske/a.out'));
&gt; }
&gt;
&gt;
&gt; $wnd-&gt;show_all();
&gt; Gtk::main();
&gt; ?&gt;
&gt;
&gt; Actual result:
&gt; --------------
&gt; *** glibc detected *** corrupted double-linked list: 0x08dd5e00 ***
&gt;
&gt; Program received signal SIGABRT, Aborted.
&gt; [Switching to Thread 16384 (LWP 10903)]
&gt; 0xb7bcc0b1 in kill () from /lib/libc.so.6
&gt; (gdb) bt
&gt; #0  0xb7bcc0b1 in kill () from /lib/libc.so.6
&gt; #1  0xb77631e1 in pthread_kill () from /lib/libpthread.so.0
&gt; #2  0xb776355b in raise () from /lib/libpthread.so.0
&gt; #3  0xb7bcbe44 in raise () from /lib/libc.so.6
&gt; #4  0xb7bcd30d in abort () from /lib/libc.so.6
&gt; #5  0xb7bfe5bc in __fsetlocking () from /lib/libc.so.6
&gt; #6  0xb7c08417 in mallopt () from /lib/libc.so.6
&gt; #7  0xb7c07465 in mallopt () from /lib/libc.so.6
&gt; #8  0xb7c06a91 in mallopt () from /lib/libc.so.6
&gt; #9  0xb7c05b33 in malloc () from /lib/libc.so.6
&gt; #10 0xb701f77e in cairo_matrix_invert () from /usr/lib/libcairo.so.2
&gt; #11 0x0000020c in ?? ()
&gt; #12 0x3fecfcfc in ?? ()
&gt; #13 0xb70519f4 in ?? () from /usr/lib/libcairo.so.2
&gt; #14 0xb701f61e in cairo_matrix_invert () from /usr/lib/libcairo.so.2
&gt; #15 0x08dd4e48 in ?? ()
&gt; #16 0x00000000 in ?? ()
&gt; #17 0xbffa5798 in ?? ()
&gt; #18 0xb709bdb9 in gdk_cairo_set_source_color ()
&gt;   from /usr/lib/libgdk-x11-2.0.so.0
&gt; #19 0x00fa5790 in ?? ()
&gt; #20 0x08dd5798 in ?? ()
&gt; #21 0x08dd5790 in ?? ()
&gt; ---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
&gt; #22 0xb701f31a in cairo_matrix_invert () from /usr/lib/libcairo.so.2
&gt; #23 0x08dd5798 in ?? ()
&gt; #24 0x00000000 in ?? ()
&gt; #25 0xbffa5770 in ?? ()
&gt; #26 0x00000001 in ?? ()
&gt; #27 0x00000000 in ?? ()
&gt; #28 0x00000000 in ?? ()
&gt; #29 0x00000000 in ?? ()
&gt; #30 0xb7013d8a in cairo_move_to () from /usr/lib/libcairo.so.2
&gt; #31 0x08dd5798 in ?? ()
&gt; #32 0x00000000 in ?? ()
&gt; #33 0x00000000 in ?? ()
&gt; #34 0x00000000 in ?? ()
&gt; #35 0x00000000 in ?? ()
&gt; #36 0x00000000 in ?? ()
&gt; #37 0x00000000 in ?? ()
&gt; #38 0x00000000 in ?? ()
&gt; #39 0xb70519f4 in ?? () from /usr/lib/libcairo.so.2
&gt; #40 0x08dd5790 in ?? ()
&gt; #41 0x08dcf148 in ?? ()
&gt; #42 0xb70144f0 in cairo_rectangle () from /usr/lib/libcairo.so.2
&gt; #43 0x08dd5790 in ?? ()
&gt; #44 0x00000000 in ?? ()
&gt; ---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
&gt; #45 0x00000000 in ?? ()
&gt; #46 0x00000000 in ?? ()
&gt; #47 0x00000000 in ?? ()
&gt; #48 0xb70519f4 in ?? () from /usr/lib/libcairo.so.2
&gt; #49 0x08dd5790 in ?? ()
&gt; #50 0xb701323a in cairo_create () from /usr/lib/libcairo.so.2
&gt; #51 0x00000000 in ?? ()
&gt; #52 0x40690000 in ?? ()
&gt; #53 0x00000000 in ?? ()
&gt; #54 0x40690000 in ?? ()
&gt; #55 0x08dd5790 in ?? ()
&gt; #56 0xb71090a8 in ?? () from /usr/lib/libgdk-x11-2.0.so.0
&gt; #57 0x08dd5790 in ?? ()
&gt; #58 0xb70b603e in gdk_window_get_internal_paint_info ()
&gt;   from /usr/lib/libgdk-x11-2.0.so.0
&gt; #59 0x00000000 in ?? ()
&gt;
&gt;
&gt; -- 
&gt; Edit bug report at http://bugs.php.net/?id=37304&amp;edit=1
&gt; -- 
&gt; Try a CVS snapshot (PHP 4.4): 
&gt; http://bugs.php.net/fix.php?id=37304&amp;r=trysnapshot44
&gt; Try a CVS snapshot (PHP 5.1): 
&gt; http://bugs.php.net/fix.php?id=37304&amp;r=trysnapshot51
&gt; Try a CVS snapshot (PHP 6.0): 
&gt; http://bugs.php.net/fix.php?id=37304&amp;r=trysnapshot60
&gt; Fixed in CVS: 
&gt; http://bugs.php.net/fix.php?id=37304&amp;r=fixedcvs
&gt; Fixed in release: 
&gt; http://bugs.php.net/fix.php?id=37304&amp;r=alreadyfixed
&gt; Need backtrace: 
&gt; http://bugs.php.net/fix.php?id=37304&amp;r=needtrace
&gt; Need Reproduce Script: 
&gt; http://bugs.php.net/fix.php?id=37304&amp;r=needscript
&gt; Try newer version: 
&gt; http://bugs.php.net/fix.php?id=37304&amp;r=oldversion
&gt; Not developer issue: 
&gt; http://bugs.php.net/fix.php?id=37304&amp;r=support
&gt; Expected behavior: 
&gt; http://bugs.php.net/fix.php?id=37304&amp;r=notwrong
&gt; Not enough info: 
&gt; http://bugs.php.net/fix.php?id=37304&amp;r=notenoughinfo
&gt; Submitted twice: 
&gt; http://bugs.php.net/fix.php?id=37304&amp;r=submittedtwice
&gt; register_globals: 
&gt; http://bugs.php.net/fix.php?id=37304&amp;r=globals
&gt; PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=37304&amp;r=php3
&gt; Daylight Savings:             http://bugs.php.net/fix.php?id=37304&amp;r=dst
&gt; IIS Stability:                http://bugs.php.net/fix.php?id=37304&amp;r=isapi
&gt; Install GNU Sed: 
&gt; http://bugs.php.net/fix.php?id=37304&amp;r=gnused
&gt; Floating point limitations:   http://bugs.php.net/fix.php?id=37304&amp;r=float
&gt; No Zend Extensions: 
&gt; http://bugs.php.net/fix.php?id=37304&amp;r=nozend
&gt; MySQL Configuration Error: 
&gt; http://bugs.php.net/fix.php?id=37304&amp;r=mysqlcfg
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060504122502</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-04 12:25:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] #37304 [NEW]: corrupted double-linked list when</subject><body>

&gt; How come you're getting cairo errors in GTK 2.6.*?
PHP-Gtk2 is compiled against the feature set of Gtk 2.6, but I have Gtk
2.8 with cairo support here.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060730182855</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-30 18:28:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSelectionData:: get_uris/set_uris override</subject><body>

You have to pass the start of the string array to g_strfreev(). By  
the time loop is done *ret points to the end. I rewrote the patch.

-Andrei


On May 4, 2006, at 5:03 AM, Christian Weiske wrote:

&gt; Hi all,
&gt;
&gt;
&gt; I made a patch for GtkSelectionData::get_uris() and set_uris().
&gt; My demo script works, I am just unsure about how to free the gchar  
&gt; list
&gt; in get_uris().
&gt; Andrei, could you check it?
&gt;
&gt;
&gt; And together with this patch, I'm able to reproduce the
&gt;&gt; *** glibc detected *** corrupted double-linked list: 0x08dd5e00 ***
&gt; error I had already yesterday with drag and drop - just drop 3x on
&gt; itself. (This has nothing to do with this patch, as it already came
&gt; yesterday now and then). The demo script will be attached to the  
&gt; bug I'm
&gt; about to open now.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt; %% {{{ GtkSelectionData
&gt;
&gt; %%
&gt; override gtk_selection_data_get_uris
&gt; PHP_METHOD
&gt; {
&gt;     gchar **ret;
&gt;     gchar *cp_str;
&gt;     gsize cp_len;
&gt;     zend_bool free_cp_str;
&gt;     GtkSelectionData *selection_data = NULL;
&gt;
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
&gt;         return;
&gt;
&gt;     selection_data = (GtkSelectionData *) PHPG_GBOXED(this_ptr);
&gt;     ret = gtk_selection_data_get_uris(selection_data);
&gt;     if (ret) {
&gt;         array_init(return_value);
&gt;         while (*ret) {
&gt;             cp_str = phpg_from_utf8(*ret, strlen(*ret), &amp;cp_len,  
&gt; &amp;free_cp_str TSRMLS_CC);
&gt;             if (cp_str) {
&gt;                 add_next_index_stringl(return_value, cp_str,  
&gt; cp_len, !free_cp_str);
&gt;             } else {
&gt;                 zval_dtor(return_value);
&gt;                 RETURN_NULL();
&gt;             }
&gt;             *ret++;
&gt;         }
&gt; //        g_strfreev(*ret);
&gt;     } else {
&gt;         RETURN_NULL();
&gt;     }
&gt; }
&gt;
&gt; %%
&gt; add-arginfo GtkSelectionData set_uris
&gt; static
&gt; ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
&gt;     ZEND_ARG_INFO(0, uris)
&gt; ZEND_END_ARG_INFO();
&gt;
&gt; %%
&gt; override gtk_selection_data_set_uris
&gt; PHP_METHOD
&gt; {
&gt;     gchar **uris;
&gt;     zval *arr = NULL;
&gt;     zval **data;
&gt;     int i, arr_count;
&gt;     GtkSelectionData *selection_data = NULL;
&gt;
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
&gt;         return;
&gt;     }
&gt;
&gt;     arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
&gt;     uris = safe_emalloc(arr_count+1, sizeof (gchar *), 0);
&gt;
&gt;     for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
&gt;          zend_hash_get_current_data(Z_ARRVAL_P(arr), (void **) 
&gt; &amp;data) == SUCCESS;
&gt;          zend_hash_move_forward(Z_ARRVAL_P(arr))) {
&gt;
&gt;         convert_to_string_ex(data);
&gt;         uris[i++] = Z_STRVAL_PP(data);
&gt;
&gt;     }
&gt;
&gt;     uris[i] = NULL;
&gt;     selection_data = (GtkSelectionData *) PHPG_GBOXED(this_ptr);
&gt;     gtk_selection_data_set_uris(selection_data, (


-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060731080525</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-31 08:05:25-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSelectionData:: get_uris/set_uris override</subject><body>


Andrei,


It doesn't compile for me anymore:

/data/cvs/phpgtk2/php-gtk/main/phpg_atom.c: In function
`phpg_gdkatom_cast_object':
/data/cvs/phpgtk2/php-gtk/main/phpg_atom.c:102: error: `atom_name'
undeclared (first use in this function)
/data/cvs/phpgtk2/php-gtk/main/phpg_atom.c:102: error: (Each undeclared
identifier is reported only once
/data/cvs/phpgtk2/php-gtk/main/phpg_atom.c:102: error: for each function
it appears in.)
make: *** [main/phpg_atom.lo] Error 1

--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060503124257</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-05-03 12:42:57-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Patches for alpha release</subject><body>

I haven't nagged about this in a while and I don't want everyone to 
think I don't care anymore :) Anyway, where do we stand on the alpha 
release? I think the patches are all set, so that leaves three things:

1) Scintilla
2) Windows issues
3) Packaging script

I am in no position to say one scintilla is better than the other, nor 
can I really help with the Windows issues. So that leaves the packaging 
script. What is it? What is wrong with it? How can I help fix it?

Thanks,
Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060504112146</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-04 11:21:46-0400</timestampReceived><subject>[PHP-GTK-DEV] Splitting gtk.overrides</subject><body>


Hi all,


I would like to split gtk.overrides into files for each class. The file
is currently 3372 lines, and it's really hard to navigate in it.
Anyone against that?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060505165414</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-05-05 16:54:14-0400</timestampReceived><subject>[PHP-GTK-DEV] New bugs and alpha</subject><body>

I see Christian has entered a few more bugs against current PHP-GTK. I 
have to ask, do you think we should wait until these are fixed and then 
release alpha or go ahead without the fixes? My time is somewhat 
limited in the next few days and I will be out of the country traveling 
May 18-30.

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060505170211</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-05-05 17:02:11-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] New bugs and alpha</subject><body>

Andrei Zmievski wrote:
&gt; I see Christian has entered a few more bugs against current PHP-GTK. I 
&gt; have to ask, do you think we should wait until these are fixed and then 
&gt; release alpha or go ahead without the fixes? My time is somewhat limited 
&gt; in the next few days and I will be out of the country traveling May 18-30.

It's not a stable (or even beta) release so I don't think fixing these 
bugs is necessary. Plus an alpha release would be a good news item to 
show that the project isn't dead.

-- 
Scott Mattocks
Author of: Pro PHP-GTK
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060505171106</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-05 17:11:06-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] New bugs and alpha</subject><body>

I'm not convinced that those crashes are actually the fault of PHP-GTK - the 
bt is all about cairo.  Can you take a look at that and confirm whether 
they're actual PHP-GTK bugs?


&gt;I see Christian has entered a few more bugs against current PHP-GTK. I have 
&gt;to ask, do you think we should wait until these are fixed and then release 
&gt;alpha or go ahead without the fixes? My time is somewhat limited in the 
&gt;next few days and I will be out of the country traveling May 18-30.
&gt;
&gt; -Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060507201917</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-07 20:19:17-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] New bugs and alpha</subject><body>

Steph,

&gt; the bt is all about cairo.  Can you take a look at that and confirm
&gt; whether they're actual PHP-GTK bugs?
Don't be so optimistic. Two of the bugs I committed have a cairo
backtrace, the other two not.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060508003711</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-08 00:37:11-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] New bugs and alpha</subject><body>

&gt;&gt; the bt is all about cairo.  Can you take a look at that and confirm
&gt;&gt; whether they're actual PHP-GTK bugs?
&gt; Don't be so optimistic. Two of the bugs I committed have a cairo
&gt; backtrace, the other two not.

oh i'm so well known for my optimism :)

but ok, I still want to know whether these are problems that come out of 
your particular setup or whether they are problems for everyone.

Is that such a stupid question?

- Steph 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060508041424</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-08 04:14:24-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] New bugs and alpha</subject><body>

Steph,

&gt; but ok, I still want to know whether these are problems that come out of
&gt; your particular setup or whether they are problems for everyone.
Someone could just try the scripts I included with the bug reports and
see if it crashes for him/her.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060508145931</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-05-08 14:59:31-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] New bugs and alpha</subject><body>

Hi All,

&gt; Someone could just try the scripts I included with the bug reports and
&gt; see if it crashes for him/her.

I did try, and I get a Segmentation Fault only for the dump selection
method (bug_dnd_segfault_dump_selection.phpw). The other two, "end"
(bug_dnd_segfault_end.phpw) and "get" (bug_dnd_segfault_get.phpw) run,
but give me the message:

&gt; ---------------------------------------
&gt; /var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.h(35) : Block \
&gt;                 0x08BE40AC status:
&gt; /var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.c(36) : Actual \
&gt;                 location (location was relayed)
&gt; Beginning:      Overrun (magic=0x554C4941, expected=0x7312F8DC)
&gt; End:      Unknown
&gt; ---------------------------------------
&gt; drag-drop
&gt; string(8) "text/xml"
&gt; [Mon May  8 20:07:47 2006]  Script:  'bug_dnd_segfault_end.phpw'
&gt; ---------------------------------------
&gt; /var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.h(35) : Block \
&gt;                 0x08BC906C status:
&gt; /var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.c(36) : Actual \
&gt;                 location (location was relayed)
&gt; Beginning:      Overrun (magic=0x00000021, expected=0x7312F8DC)
&gt; End:      Unknown
&gt; ---------------------------------------

and

&gt; GtkButton drag-data-get
&gt; drag-drop
&gt; string(8) "text/xml"
&gt; [Mon May  8 20:08:05 2006]  Script:  'bug_dnd_segfault_get.phpw'
&gt; ---------------------------------------
&gt; /var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.h(35) : Block \
&gt;                 0x08BDD0A4 status:
&gt; /var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.c(36) : Actual \
&gt;                 location (location was relayed)
&gt; Beginning:      Overrun (magic=0x00000000, expected=0x7312F8DC)
&gt; End:      Unknown
&gt; ---------------------------------------

respectively. Yes, they don't segfault (as many times as I DND, and
close the window), but I do get these messages (which may not appear for
others who have don't have the debug version).

So I guess the main issue is only with dump_selection(). get() and end()
seem to work fine on my box.

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060503133110</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-03 13:31:10-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Patches for alpha release</subject><body>

'packaging script'?  What's that?

&gt;I haven't nagged about this in a while and I don't want everyone to 
&gt; think I don't care anymore :) Anyway, where do we stand on the alpha 
&gt; release? I think the patches are all set, so that leaves three things:
&gt; 
&gt; 1) Scintilla
&gt; 2) Windows issues
&gt; 3) Packaging script
&gt; 
&gt; I am in no position to say one scintilla is better than the other, nor 
&gt; can I really help with the Windows issues. So that leaves the packaging 
&gt; script. What is it? What is wrong with it? How can I help fix it?
&gt; 
&gt; Thanks,
&gt; Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060503145007</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-05-03 14:50:07-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Patches for alpha release</subject><body>

&gt; 'packaging script'?  What's that?

Andrei wanted to generate the gen_*.c files once and for all, and
package that with the alpha release so that the end-users don't have to
do that everytime; since we're not going to be adding any new overrides
anyway.

That should reduce the build time for those using the alpha release.

This is how I see it, hope I'm right.

Regards,

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060503150752</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-03 15:07:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Patches for alpha release</subject><body>

Why does that need a script?

*confused*

When you roll a distro, you can put whatever you like in the tarball...

&gt;&gt; 'packaging script'?  What's that?
&gt; 
&gt; Andrei wanted to generate the gen_*.c files once and for all, and
&gt; package that with the alpha release so that the end-users don't have to
&gt; do that everytime; since we're not going to be adding any new overrides
&gt; anyway.
&gt; 
&gt; That should reduce the build time for those using the alpha release.
&gt; 
&gt; This is how I see it, hope I'm right.
&gt; 
&gt; Regards,
&gt; 
&gt; - Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060503160659</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-05-03 16:06:59-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Patches for alpha release</subject><body>

I'd be inclined to leave Scintilla out of alpha release. Windows  
issues I can't say much about because I am on Unix platform  
exclusively. Packaging script should be very easy to modify, so it's  
not an obstacle.

-Andrei


On May 3, 2006, at 5:42 AM, Scott Mattocks wrote:

&gt; I haven't nagged about this in a while and I don't want everyone to  
&gt; think I don't care anymore :) Anyway, where do we stand on the  
&gt; alpha release? I think the patches are all set, so that leaves  
&gt; three things:
&gt;
&gt; 1) Scintilla
&gt; 2) Windows issues
&gt; 3) Packaging script
&gt;
&gt; I am in no position to say one scintilla is better than the other,  
&gt; nor can I really help with the Windows issues. So that leaves the  
&gt; packaging script. What is it? What is wrong with it? How can I help  
&gt; fix it?
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060503171404</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-05-03 17:14:04-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Patches for alpha release</subject><body>

&gt; Why does that need a script?
&gt; *confused*
&gt; When you roll a distro, you can put whatever you like in the tarball...

I'm probably as confused as you are, but my guess is that we need to
modify the existing build system so that it assumes the presence of the
gen_*.c files instead of trying to generate them from the definitions.

There's no need for a script or anything.

Of course, this holds true only for the source code release, not the
binary tarballs.

Anyway, it's best to just leave the questions to Andrei :)

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060503171637</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-03 17:16:37-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Patches for alpha release</subject><body>

Andrei, hi,

I think you'll find Unix also suffers from the bugginess in the filechooser 
widgets... it's not windows-only code.

The Dmitry problem's likely to end up in your lap I'm afraid, but I'll get 
back to you on that when I've run some tests and can explain better.

I think I agree about leaving Scintilla out of alpha. In fact I'd say just 
stick with libglade for now - I've hit problems with porting gtksourceview.

Still don't understand this packaging business, but as Anant says, I'm more 
than prepared to leave that to the master :)

- Steph


&gt; I'd be inclined to leave Scintilla out of alpha release. Windows  issues I 
&gt; can't say much about because I am on Unix platform  exclusively. Packaging 
&gt; script should be very easy to modify, so it's  not an obstacle.
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On May 3, 2006, at 5:42 AM, Scott Mattocks wrote:
&gt;
&gt;&gt; I haven't nagged about this in a while and I don't want everyone to 
&gt;&gt; think I don't care anymore :) Anyway, where do we stand on the  alpha 
&gt;&gt; release? I think the patches are all set, so that leaves  three things:
&gt;&gt;
&gt;&gt; 1) Scintilla
&gt;&gt; 2) Windows issues
&gt;&gt; 3) Packaging script
&gt;&gt;
&gt;&gt; I am in no position to say one scintilla is better than the other,  nor 
&gt;&gt; can I really help with the Windows issues. So that leaves the  packaging 
&gt;&gt; script. What is it? What is wrong with it? How can I help  fix it?
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Scott
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060503180208</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-05-03 18:02:08-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Patches for alpha release</subject><body>

Andrei Zmievski wrote:
&gt; Packaging script should be very easy to modify, so it's not an obstacle.

Not sure if this is the best way to do it but worked for me:

[START PATCH]
--- ../php-gtk/makedist 2005-04-18 06:48:30.000000000 -0400
+++ ./makedist  2006-05-03 13:52:52.000000000 -0400
@@ -87,6 +87,19 @@
  cd $MY_OLDPWD
  $ECHO_N "makedist: making gzipped tar archive...$ECHO_C"
  tar cf $ARCHIVE $PKG-$VER || exit 4
+
+# Create the gen_* files.
+cd $DIR
+./buildconf &gt; /dev/null 2&gt;&amp;1
+./configure &gt; /dev/null 2&gt;&amp;1
+make -s &gt; /dev/null 2&gt;&amp;1
+
+# Go back to the old pwd.
+cd $MY_OLDPWD
+
+# Add the gen_* files to the archive.
+tar rf $ARCHIVE $PKG-$VER/ext/*/gen_*.c $PKG-$VER/ext/*/gen_*.h
+
  gzip -9 $ARCHIVE || exit 5
  echo ""

[END PATCH]
There's a new line after echo "". Not sure if leaving it out will throw 
off the patch or not.

Thanks,
Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060503183251</emailId><senderName>"cweiske () php ! net"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-05-03 18:32:51-0400</timestampReceived><subject>[PHP-GTK-DEV] #37298 [NEW]: segfault on php shutdown after drag and drop</subject><body>

From:             cweiske@php.net
Operating system: Gentoo/Linux
PHP version:      5.1.3
PHP Bug Type:     PHP-GTK related
Bug description:  segfault on php shutdown after drag and drop

Description:
------------
Bug in drag'n'drop:
Drag from "from" button to "to" button and close the window.
You will get a segfault.


Reproduce code:
---------------
&lt;?php
$wnd = new GtkWindow();
$wnd-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));
$hbox = new GtkHBox();
$wnd-&gt;add($hbox);

$btnFrom = new GtkButton('From');
$btnTo   = new GtkButton('To');

$hbox-&gt;pack_start($btnFrom);
$hbox-&gt;pack_start($btnTo);

$btnFrom-&gt;drag_source_set(
    Gdk::BUTTON1_MASK,
    //change to text/plain, and it works
    array(array('text/xml', 0, 1)),
    Gdk::ACTION_COPY | Gdk::ACTION_MOVE
);


$btnTo-&gt;drag_dest_set(
    Gtk::DEST_DEFAULT_ALL,
    //change to text/plain, and it works
    array(array('text/xml', 0, 1)),
    Gdk::ACTION_COPY | Gdk::ACTION_MOVE
);

$btnTo-&gt;connect('drag-drop', 'onDragDrop');

function onDragDrop($widget, $context, $x, $y, $time) {
    global $strMimeType, $strTypeNumber;

    echo "drag-drop\r\n";
    var_dump(
        $widget-&gt;drag_dest_find_target(
            $context, array(array('text/xml', 0, 1))
        )
    );
}

$wnd-&gt;show_all();
Gtk::main();
?&gt;

Actual result:
--------------
Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 16384 (LWP 20597)]
0x0831d37f in shutdown_memory_manager (silent=0, full_shutdown=0)
    at /data/cvs/php/php-5.1.2/Zend/zend_alloc.c:511
511                                     REMOVE_POINTER_FROM_LIST(ptr);
(gdb) bt
#0  0x0831d37f in shutdown_memory_manager (silent=0, full_shutdown=0)
    at /data/cvs/php/php-5.1.2/Zend/zend_alloc.c:511
#1  0x082f850d in php_request_shutdown (dummy=0x0)
    at /data/cvs/php/php-5.1.2/main/main.c:1303
#2  0x0839f120 in main (argc=2, argv=0xbfb79c64)
    at /data/cvs/php/php-5.1.2/sapi/cli/php_cli.c:1230


-- 
Edit bug report at http://bugs.php.net/?id=37298&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=37298&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.1): http://bugs.php.net/fix.php?id=37298&amp;r=trysnapshot51
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=37298&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=37298&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=37298&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=37298&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=37298&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=37298&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=37298&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=37298&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=37298&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=37298&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=37298&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=37298&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=37298&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=37298&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=37298&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=37298&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=37298&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=37298&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060504121628</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-04 12:16:28-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSelectionData:: get_uris/set_uris override</subject><body>

[Attachment #2 (multipart/mixed)]


&gt; I made a patch for GtkSelectionData::get_uris() and set_uris().
&gt; My demo script works, I am just unsure about how to free the gchar list
&gt; in get_uris().
The last two lines were missing in the file...

-- 
Regards/MfG,
Christian Weiske

["gtkselectiondata.txt" (text/plain)]

%% {{{ GtkSelectionData

%%
override gtk_selection_data_get_uris
PHP_METHOD
{
    gchar **ret;
    gchar *cp_str;
    gsize cp_len;
    zend_bool free_cp_str;
    GtkSelectionData *selection_data = NULL;

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
        return;

    selection_data = (GtkSelectionData *) PHPG_GBOXED(this_ptr);
    ret = gtk_selection_data_get_uris(selection_data);
    if (ret) {
        array_init(return_value);
        while (*ret) {
            cp_str = phpg_from_utf8(*ret, strlen(*ret), &amp;cp_len, &amp;free_cp_str TSRMLS_CC);
            if (cp_str) {
                add_next_index_stringl(return_value, cp_str, cp_len, !free_cp_str);
            } else {
                zval_dtor(return_value);
                RETURN_NULL();
            }
            *ret++;
        }
//        g_strfreev(*ret);
    } else {
        RETURN_NULL();
    }
}

%%
add-arginfo GtkSelectionData set_uris
static
ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
    ZEND_ARG_INFO(0, uris)
ZEND_END_ARG_INFO();

%%
override gtk_selection_data_set_uris
PHP_METHOD
{
    gchar **uris;
    zval *arr = NULL;
    zval **data;
    int i, arr_count;
    GtkSelectionData *selection_data = NULL;

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
        return;
    }

    arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
    uris = safe_emalloc(arr_count+1, sizeof (gchar *), 0);

    for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
         zend_hash_get_current_data(Z_ARRVAL_P(arr), (void **)&amp;data) == SUCCESS;
         zend_hash_move_forward(Z_ARRVAL_P(arr))) {

        convert_to_string_ex(data);
        uris[i++] = Z_STRVAL_PP(data);

    }

    uris[i] = NULL;
    selection_data = (GtkSelectionData *) PHPG_GBOXED(this_ptr);
    gtk_selection_data_set_uris(selection_data, (gchar **)uris);
    efree(uris);
}

%% }}}

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060504124405</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-04 12:44:05-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] #37304 [NEW]: corrupted double-linked list when dragging</subject><body>

&gt;&gt; How come you're getting cairo errors in GTK 2.6.*?
&gt; PHP-Gtk2 is compiled against the feature set of Gtk 2.6, but I have Gtk
&gt; 2.8 with cairo support here.

I'll leave it to Andrei to 'pronounce', but my instinct tells me that's the 
root of the issues you're seeing.

- Steph 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060504163931</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-05-04 16:39:31-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Splitting gtk.overrides</subject><body>

Yes. Me.

-Andrei

On May 4, 2006, at 4:21 AM, Christian Weiske wrote:

&gt; Hi all,
&gt;
&gt;
&gt; I would like to split gtk.overrides into files for each class. The file
&gt; is currently 3372 lines, and it's really hard to navigate in it.
&gt; Anyone against that?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060508150549</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-08 15:05:49-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] New bugs and alpha</subject><body>

Anant, that's useful info, thanks. Can you add it to the bug report please?

----- Original Message ----- 
From: "Anant Narayanan" &lt;anant@kix.in&gt;
To: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
Cc: "Steph Fox" &lt;steph@zend.com&gt;; "PHP-GTK Dev list" 
&lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, May 08, 2006 4:47 PM
Subject: Re: [PHP-GTK-DEV] New bugs and alpha


&gt; Hi All,
&gt;
&gt;&gt; Someone could just try the scripts I included with the bug reports and
&gt;&gt; see if it crashes for him/her.
&gt;
&gt; I did try, and I get a Segmentation Fault only for the dump selection
&gt; method (bug_dnd_segfault_dump_selection.phpw). The other two, "end"
&gt; (bug_dnd_segfault_end.phpw) and "get" (bug_dnd_segfault_get.phpw) run,
&gt; but give me the message:
&gt;
&gt;&gt; ---------------------------------------
&gt;&gt; /var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.h(35) : 
&gt;&gt; Block 0x08BE40AC status:
&gt;&gt; /var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.c(36) : 
&gt;&gt; Actual location (location was relayed)
&gt;&gt; Beginning:      Overrun (magic=0x554C4941, expected=0x7312F8DC)
&gt;&gt;       End:      Unknown
&gt;&gt; ---------------------------------------
&gt;&gt; drag-drop
&gt;&gt; string(8) "text/xml"
&gt;&gt; [Mon May  8 20:07:47 2006]  Script:  'bug_dnd_segfault_end.phpw'
&gt;&gt; ---------------------------------------
&gt;&gt; /var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.h(35) : 
&gt;&gt; Block 0x08BC906C status:
&gt;&gt; /var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.c(36) : 
&gt;&gt; Actual location (location was relayed)
&gt;&gt; Beginning:      Overrun (magic=0x00000021, expected=0x7312F8DC)
&gt;&gt;       End:      Unknown
&gt;&gt; ---------------------------------------
&gt;
&gt; and
&gt;
&gt;&gt; GtkButton drag-data-get
&gt;&gt; drag-drop
&gt;&gt; string(8) "text/xml"
&gt;&gt; [Mon May  8 20:08:05 2006]  Script:  'bug_dnd_segfault_get.phpw'
&gt;&gt; ---------------------------------------
&gt;&gt; /var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.h(35) : 
&gt;&gt; Block 0x08BDD0A4 status:
&gt;&gt; /var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.c(36) : 
&gt;&gt; Actual location (location was relayed)
&gt;&gt; Beginning:      Overrun (magic=0x00000000, expected=0x7312F8DC)
&gt;&gt;       End:      Unknown
&gt;&gt; ---------------------------------------
&gt;
&gt; respectively. Yes, they don't segfault (as many times as I DND, and
&gt; close the window), but I do get these messages (which may not appear for
&gt; others who have don't have the debug version).
&gt;
&gt; So I guess the main issue is only with dump_selection(). get() and end()
&gt; seem to work fine on my box.
&gt;
&gt; - Anant
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060508172929</emailId><senderName></senderName><senderEmail>anant</senderEmail><timestampReceived>2006-05-08 17:29:29-0400</timestampReceived><subject>[PHP-GTK-DEV] #37298 [Opn]: segfault on php shutdown after drag and drop</subject><body>

 ID:               37298
 Updated by:       anant@php.net
 Reported By:      cweiske@php.net
 Status:           Open
 Bug Type:         PHP-GTK related
 Operating System: Gentoo/Linux
 PHP Version:      5.1.3
 New Comment:

I don't get a segfault when I the script but recieve this instead. I
have debug enabled, otherwise I don't think the message would even
appear.

---------------------------------------
/var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.h(35)
: Block 0x08BE40AC status:
/var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.c(36)
: Actual location (location was relayed)
Beginning:      Overrun (magic=0x554C4941, expected=0x7312F8DC)
End:      Unknown
---------------------------------------
drag-drop
string(8) "text/xml"
[Mon May  8 20:07:47 2006]  Script:  'bug_dnd_segfault_end.phpw'
---------------------------------------
/var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.h(35)
: Block 0x08BC906C status:
/var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.c(36)
: Actual location (location was relayed)
Beginning:      Overrun (magic=0x00000021, expected=0x7312F8DC)
       End:      Unknown
---------------------------------------


Previous Comments:
------------------------------------------------------------------------

[2006-05-03 18:32:51] cweiske@php.net

Description:
------------
Bug in drag'n'drop:
Drag from "from" button to "to" button and close the window.
You will get a segfault.


Reproduce code:
---------------
&lt;?php
$wnd = new GtkWindow();
$wnd-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));
$hbox = new GtkHBox();
$wnd-&gt;add($hbox);

$btnFrom = new GtkButton('From');
$btnTo   = new GtkButton('To');

$hbox-&gt;pack_start($btnFrom);
$hbox-&gt;pack_start($btnTo);

$btnFrom-&gt;drag_source_set(
    Gdk::BUTTON1_MASK,
    //change to text/plain, and it works
    array(array('text/xml', 0, 1)),
    Gdk::ACTION_COPY | Gdk::ACTION_MOVE
);


$btnTo-&gt;drag_dest_set(
    Gtk::DEST_DEFAULT_ALL,
    //change to text/plain, and it works
    array(array('text/xml', 0, 1)),
    Gdk::ACTION_COPY | Gdk::ACTION_MOVE
);

$btnTo-&gt;connect('drag-drop', 'onDragDrop');

function onDragDrop($widget, $context, $x, $y, $time) {
    global $strMimeType, $strTypeNumber;

    echo "drag-drop\r\n";
    var_dump(
        $widget-&gt;drag_dest_find_target(
            $context, array(array('text/xml', 0, 1))
        )
    );
}

$wnd-&gt;show_all();
Gtk::main();
?&gt;

Actual result:
--------------
Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 16384 (LWP 20597)]
0x0831d37f in shutdown_memory_manager (silent=0, full_shutdown=0)
    at /data/cvs/php/php-5.1.2/Zend/zend_alloc.c:511
511                                     REMOVE_POINTER_FROM_LIST(ptr);
(gdb) bt
#0  0x0831d37f in shutdown_memory_manager (silent=0, full_shutdown=0)
    at /data/cvs/php/php-5.1.2/Zend/zend_alloc.c:511
#1  0x082f850d in php_request_shutdown (dummy=0x0)
    at /data/cvs/php/php-5.1.2/main/main.c:1303
#2  0x0839f120 in main (argc=2, argv=0xbfb79c64)
    at /data/cvs/php/php-5.1.2/sapi/cli/php_cli.c:1230



------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=37298&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060508173416</emailId><senderName></senderName><senderEmail>anant</senderEmail><timestampReceived>2006-05-08 17:34:16-0400</timestampReceived><subject>[PHP-GTK-DEV] #37296 [Opn]: segfault when doing drag and drop</subject><body>

 ID:               37296
 Updated by:       anant@php.net
 Reported By:      cweiske@php.net
 Status:           Open
 Bug Type:         PHP-GTK related
 Operating System: Linux/Gentoo
 PHP Version:      5.1.3
 New Comment:

Similar situation here, no segfault, but a debug message:

GtkButton drag-data-get
drag-drop
string(8) "text/xml"
[Mon May  8 20:08:05 2006]  Script:  'bug_dnd_segfault_get.phpw'
---------------------------------------
 /var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.h(35)
: Block 0x08BDD0A4 status:
 /var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.c(36)
: Actual location (location was relayed)
Beginning:      Overrun (magic=0x00000000, Expected=0x7312F8DC)
End:      Unknown
---------------------------------------


Previous Comments:
------------------------------------------------------------------------

[2006-05-03 18:29:25] cweiske@php.net

Description:
------------
Bug in drag'n'drop:
Drag from "from" button to "to" button several (3) times.
You will get a segfault.
The segfault appears only if the drag-data-get signal is connected


Reproduce code:
---------------
&lt;?php
$wnd = new GtkWindow();
$wnd-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));
$hbox = new GtkHBox();
$wnd-&gt;add($hbox);

$btnFrom = new GtkButton('From');
$btnTo   = new GtkButton('To');

$hbox-&gt;pack_start($btnFrom);
$hbox-&gt;pack_start($btnTo);

$btnFrom-&gt;drag_source_set(
    Gdk::BUTTON1_MASK,
    //change to text/plain, and it works
    array(array('text/xml', 0, 1)),
    Gdk::ACTION_COPY | Gdk::ACTION_MOVE
);
$btnFrom-&gt;connect('drag-data-get', 'onGetDragData');


$btnTo-&gt;drag_dest_set(
    Gtk::DEST_DEFAULT_ALL,
    //change to text/plain, and it works
    array(array('text/xml', 0, 1)),
    Gdk::ACTION_COPY | Gdk::ACTION_MOVE
);

$btnTo-&gt;connect('drag-drop', 'onDragDrop');


function onGetDragData($widget, $context, $selection, $info, $time) {
    echo $widget-&gt;get_name() . " drag-data-get\r\n";
    $selection-&gt;set_text('ThisIsTheContent');
}

function onDragDrop($widget, $context, $x, $y, $time) {
    global $strMimeType, $strTypeNumber;

    echo "drag-drop\r\n";
    var_dump(
        $widget-&gt;drag_dest_find_target(
            $context, array(array('text/xml', 0, 1))
        )
    );
}

$wnd-&gt;show_all();
Gtk::main();
?&gt;

Actual result:
--------------
Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 16384 (LWP 20610)]
0xb7b793f5 in mallopt () from /lib/libc.so.6
(gdb) bt
#0  0xb7b793f5 in mallopt () from /lib/libc.so.6
#1  0xb7b78a91 in mallopt () from /lib/libc.so.6
#2  0xb7b77b33 in malloc () from /lib/libc.so.6
#3  0xb6f9177e in cairo_matrix_invert () from /usr/lib/libcairo.so.2
#4  0x0000020c in ?? ()
#5  0x3fecfcfc in ?? ()
#6  0xb6fc39f4 in ?? () from /usr/lib/libcairo.so.2
#7  0xb6f9161e in cairo_matrix_invert () from /usr/lib/libcairo.so.2
#8  0x08eb96b8 in ?? ()
#9  0x00000000 in ?? ()
#10 0xbf917fc8 in ?? ()
#11 0xb700ddb9 in gdk_cairo_set_source_color ()
   from /usr/lib/libgdk-x11-2.0.so.0
#12 0x00917fc0 in ?? ()
#13 0x08eb2ea8 in ?? ()
#14 0x08eb2ea0 in ?? ()
#15 0xb6f9131a in cairo_matrix_invert () from /usr/lib/libcairo.so.2
#16 0x08eb2ea8 in ?? ()
#17 0x00000000 in ?? ()
#18 0xbf917fa0 in ?? ()
#19 0x00000001 in ?? ()
#20 0x00000000 in ?? ()
#21 0x00000000 in ?? ()
#22 0x00000000 in ?? ()
#23 0xb6f85d8a in cairo_move_to () from /usr/lib/libcairo.so.2
#24 0x08eb2ea8 in ?? ()
#25 0x00000000 in ?? ()
#26 0x00000000 in ?? ()
#27 0x00000000 in ?? ()
#28 0x00000000 in ?? ()
#29 0x00000000 in ?? ()
#30 0x00000000 in ?? ()
#31 0x00000000 in ?? ()
#32 0xb6fc39f4 in ?? () from /usr/lib/libcairo.so.2
#33 0x08eb2ea0 in ?? ()
#34 0x08e96d28 in ?? ()
#35 0xb6f864f0 in cairo_rectangle () from /usr/lib/libcairo.so.2
#36 0x08eb2ea0 in ?? ()
#37 0x00000000 in ?? ()
#38 0x3ff00000 in ?? ()
#39 0x00000000 in ?? ()
#40 0x00000000 in ?? ()
#41 0xb6fc39f4 in ?? () from /usr/lib/libcairo.so.2
#42 0x08eb2ea0 in ?? ()
#43 0xb6f8523a in cairo_create () from /usr/lib/libcairo.so.2
#44 0x00000000 in ?? ()
#45 0x403f0000 in ?? ()
#46 0x00000000 in ?? ()
#47 0x405c8000 in ?? ()
#48 0x08eb2ea0 in ?? ()
#49 0xb707b0a8 in ?? () from /usr/lib/libgdk-x11-2.0.so.0
#50 0x08eb2ea0 in ?? ()
#51 0xb702803e in gdk_window_get_internal_paint_info ()
   from /usr/lib/libgdk-x11-2.0.so.0
#52 0x00000000 in ?? ()



------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=37296&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060508180112</emailId><senderName>"tim"</senderName><senderEmail>family9_love@yahoo.com</senderEmail><timestampReceived>2006-05-08 18:01:12-0400</timestampReceived><subject>[PHP-GTK-DEV] !!!!</subject><body>

!!!!
  80,000 / 
        \
    Part Time   \
      \
      \
   60      \
          \
        \
    Part Time \
                5,000-35,000 /  Full Time \
                50,000-150,000 /
 - 2-3    
-  
-   
-     6-12 
www.love9goodjobs.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060508182456</emailId><senderName>""</senderName><senderEmail>mail@mrbanky.net</senderEmail><timestampReceived>2006-05-08 18:24:56-0400</timestampReceived><subject>[PHP-GTK-DEV]    </subject><body>


 Mrbanky  ,  , \
, ,  SME (FAST LOAN)  \
       \
    \
   7,000  \
     \
    \
  CitiBank, Diners Club, GE Personal Credit, Standard Chartered, \
Kasikorn, KTC., UOB., HSBC  \
  \
   \
      \



MRBANKY
www.mrbanky.net
06-385-1185
02-877-1364-5

  email    email  

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060508184453</emailId><senderName>"Prabhakar Lesage"</senderName><senderEmail>prab@gaskin.com</senderEmail><timestampReceived>2006-05-08 18:44:53-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: your crredt</subject><body>


D y ea f r H a om h e O q wne z r,

Your c w re w di q t doesn't matter to us!

If you O d WN o r t ea t l e t st j at z e and want
I c MME r DI z ATE c b as n h to s t pe b nd ANY way you like,
or simply wish to L o OW b ER your monthly pa z yme k nt z s
by a third or more,
here are the d i ea p ls w we have T q OD x AY:

$ 49 b 0 , 00 r 0 as l m ow as 3 , 6 v 5 %
$ 37 x 0 , 0 j 00 as l q ow as 3 , 9 o 0 %
$ 4 k 90 , 00 v 0 as l c ow as 3 , 2 y 0 %
$ 25 y 0 , 0 z 00 as l w ow as 3 , 3 w 5 %
$ 2 n 00 , 0 z 00 as lo n w as 3 , 5 v 5 %

V y is h it ou t r s t it t e &lt;http://geocities.com/WooiraulseStodd/&gt; 

Prabhakar Lesage , A m ppr w ova u l Ma d nag i er
  _____  

waiting.
He could hear the goblins beginning a horrible song:
Fifteen birds in five firtrees, their feathers were fanned in a
fiery breeze!



</body></email><email><emailId>20060509023029</emailId><senderName></senderName><senderEmail>waterth</senderEmail><timestampReceived>2006-05-09 02:30:29-0400</timestampReceived><subject>[PHP-GTK-DEV]  Internet</subject><body>

...      
     ....
- 
-  . 20,000 - 60,000 
-    
-     10 MB
-   (.TXT)   (.Htm , .Html)
- 
-     
   
www.geocities.com/giffarineth/  members.thai.net/jett/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060509065719</emailId><senderName>"Daisy Ferguson"</senderName><senderEmail>copy2001@0451.com</senderEmail><timestampReceived>2006-05-09 06:57:19-0400</timestampReceived><subject>[PHP-GTK-DEV] fwd: Make sure you see this</subject><body>

Infinex Ventures Inc. (INFX)
Current Price: 0.75
Is this an Undiscovered  Gem that is Positioned to Go Higher? Pleasee R e a d the \
Following Announcement in its Entirety and Consider the Possibilities... Watch This \
One Trade tomorrow!

COMPANY OVERVIEW

Aggressive and energetic, Infinex boasts a dynamic and diversified portfolio of \
operations across North America, with an eye on international expansion. 

Grounded in natural resource exploration, Inifinex also offers investors access to \
exciting new developments in the high-tech sector and the booming international real \
estate market. Our market based experience, tenacious research techniques, and razor \
sharp analytical skills allow us to leverage opportunities in emerging markets and \
developing technologies. 

Identifying these opportunities in the earliest stages allows us to accelerate \
business development and fully realize the companys true potential. Maximizing \
overall profitability and in turn enhancing shareholder value. 

Current Press Release

Infinex Announces Joint Venture and Option Agreement Extension
LAS VEGAS, May 5 /PRNewswire-FirstCall/ - Infinex Ventures Inc. (IFNX:OB - "the \
Company") and its Board of Directors are please to announce that the Company has been \
granted an extension of 120 days to fulfill its contractual obligations under the \
Joint Venture and Option Agreement dated June 14, 2004 on the Texada Island "Yew \
Gr0up" Mining Claims:

              Yew      Tenure Number 399712
        2.    Yew 2    Tenure Number 516724
        3.    Yew 3    Tenure Number 399714
        4.    Yew 4    Tenure Number 399715
        5.    Yew 5    Tenure Number 516721
        6.    Yew 6    Tenure Number 516735
        7.    Yew 7    Tenure Number 345340
        8.    Yew 8    Tenure Number 516730

The Yew Claims are located on Texada Island, B.C. This region has a long history of \
mining dating back to 1876. Several high grade copper gold skarns were mined in the \
area. The geology of the Yew Claims can be found in MINFILE 092F/516.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060509070429</emailId><senderName>"seezaa"</senderName><senderEmail>seezaa_1@hotmail.com</senderEmail><timestampReceived>2006-05-09 07:04:29-0400</timestampReceived><subject>[PHP-GTK-DEV]    chat msn</subject><body>

 www.seezaa.com 
 web 
 MSN 	
&lt;http://www.seezaa.com/MSN/webboard.asp&gt;
 	
&lt;http://www.seezaa.com/Chat/default.asp&gt;

     
   http://www.seezaa.com/stickervote/NewSTICKER.htm
   &lt;http://www.seezaa.com/stickervote/stickerboard.ASP&gt;

sex
copyaddress  update sex  
&lt;http://www.seezaa.com/Love%20Home/aspboard.asp&gt;

  
&lt;http://www.seezaa.com/Star%20home%20new/aspboard.asp&gt;

 
&lt;http://www.seezaa.com/test/QuickClassified/QuickClassifieds/QuickClassifieds.asp&gt;
 
&lt;http://www.seezaa.com/test/QuickClassified/QuickClassifieds/QCNewAdForm.asp?catID=0&gt;

   
copyaddress  
&lt;http://www.seezaa.com/Webboard%20advertize/aspboard.asp&gt;
 URL  
	
 

http://www.seezaa.com/DUdirectory/submit.asp

http://www.seezaa.com/DUdirectory/default.asp 

   &lt;http://www.seezaa.com/&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060509085938</emailId><senderName>""</senderName><senderEmail>paradorn_car@hotmail.com</senderEmail><timestampReceived>2006-05-09 08:59:38-0400</timestampReceived><subject>[PHP-GTK-DEV] Toyota </subject><body>

Toyota 

Toyota     (    )
    Toyota  
    ()  1    
*
* 
*  ***
*   10% ()    \
                  
* 10%   ()   
*  
*         \
  "      2    \
                 "
*  20%  
* 
                
*    \
                 
*  TOYOTA  3    100,000 
*  
*     ( )  

 Toyota     (    \
)       09-033-1252  ()  \
    paradorn_car@hotmail.com

   \
       

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060301104710</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-03-01 10:47:10-0400</timestampReceived><subject>[PHP-GTK-DEV] GdkPixbuf::get_pixels seems to be wrong, i think</subject><body>

static PHP_METHOD(GdkPixbuf, get_pixels)
{
    const gchar *php_retval;
    gchar *cp_ret;
    gsize cp_len;
    zend_bool free_result;

    NOT_STATIC_METHOD();

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
        return;

    php_retval = gdk_pixbuf_get_pixels(GDK_PIXBUF(PHPG_GOBJECT(this_ptr)));
    if (php_retval) {
        cp_ret = phpg_from_utf8(php_retval, strlen(php_retval), &amp;cp_len, 
&amp;free_result TSRMLS_CC);
        if (cp_ret) {
            RETVAL_STRINGL((char *)cp_ret, cp_len, 1);
        } else {
            php_error(E_WARNING, "%s::%s(): could not convert return 
value from UTF-8", get_active_class_name(NULL TSRMLS_CC), 
get_active_function_name(TSRMLS_C));
        }
        if (free_result)
            g_free(cp_ret);
    } else {
        RETVAL_NULL();
    }
}


I think its wrong,
because gdk_pixbuf_get_pixels return a pointer to a binary memory area
and not to a string that can be converted to/from UTF-8.

    php_retval = gdk_pixbuf_get_pixels(pixbuf);
    cp_len = gdk_pixbuf_get_rowstride(pixbuf)*gdk_pixbuf_get_height(pixbuf);
    RETVAL_STRINGL((char *)php_retval, cp_len, 1);



mfg xxoes

sorry for my english ;)

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060301162342</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-01 16:23:42-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GTK2 and ffi module</subject><body>

Hi, sorry, been offline the last few days.

You need to use the snaps version of PHP if you want to load other 
extensions as well as that copy of PHP-GTK 2.  (It does actually say this in 
the readme.)

- Steph


----- Original Message ----- 
From: "Pedro" &lt;ogame@phelios.org&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Wednesday, March 01, 2006 12:55 AM
Subject: [PHP-GTK-DEV] GTK2 and ffi module


&gt;
&gt; Hello
&gt;
&gt; Yes i'm aware that there is no official version of PHP-gtk2. I was just 
&gt; letting you know the troubles i've been running into. This is not we're at 
&gt; this mailing list supposed to be doing?
&gt; I don't want to distract you or anyone for the task of releasing the 
&gt; version of php-gtk2. I would like ony to post this issue when other 
&gt; developers who would eventually use the ffi also.
&gt;
&gt; Doesn't php-gtk2 should allow to load modules as php 5 would?
&gt;
&gt; With php-gtk (PHP4) i can load the w32api with no problems but at this 
&gt; time the ffi module is not usable by my php-gtk2's php.exe.
&gt;
&gt; I will download the latest version of php 5 and overwrite the one wich has 
&gt; gtk and try to contact the ffi module author to figure this one out.
&gt;
&gt; Thanks :)
&gt; Pedro Heliodoro
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060302134252</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-02 13:42:52-0400</timestampReceived><subject>[PHP-GTK-DEV] GdkPixbufFormat struct</subject><body>


Hello all, Andrei,


xxoes is about to implement
&gt; GdkPixbuf::pixbuf_get_file_info($filename,&amp;$width,&amp;$height);
it returns a GdkPixbufFormat.

He thought it would be the most easy thing to return an associative
array with all the values, and additional to the struct keys, return
width and height in the same array.

Is that ok? Would it be better to make an own class for GdkPixbufFormat?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060303080450</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-03-03 08:04:50-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] override for GtkCalendar::get_date()</subject><body>

I have heard that there is no php-gtk2 method with references so i have 
removed them.

%%
override gtk_calendar_get_date
PHP_METHOD
{
   guint year;
   guint month;
   guint day;
   zval *zyear;
   zval *zmonth;
   zval *zday;

   NOT_STATIC_METHOD();

   if(!php_gtk_parse_args(ZEND_NUM_ARGS(), "")) {
       return;
   }
   
gtk_calendar_get_date(GTK_CALENDAR(PHPG_GOBJECT(this_ptr)),&amp;year,&amp;month,&amp;day); 


   array_init(return_value);
   add_next_index_long(return_value, year);
   add_next_index_long(return_value, month);
   add_next_index_long(return_value, day);
}

&gt; Sorry i mean GtkCalendar::get_date()  not GdkPixbuf::save()
&gt;
&gt; xxoes schrieb:
&gt;
&gt;&gt; I have written an override for GtkCalendar::get_date()
&gt;&gt;
&gt;&gt; %%
&gt;&gt; override gtk_calendar_get_date
&gt;&gt; PHP_METHOD
&gt;&gt; {
&gt;&gt;    guint year;
&gt;&gt;    guint month;
&gt;&gt;    guint day;
&gt;&gt;    zval *zyear;
&gt;&gt;    zval *zmonth;
&gt;&gt;    zval *zday;
&gt;&gt;
&gt;&gt;
&gt;&gt;    NOT_STATIC_METHOD();
&gt;&gt;
&gt;&gt;    
&gt;&gt; gtk_calendar_get_date(GTK_CALENDAR(PHPG_GOBJECT(this_ptr)),&amp;year,&amp;month,&amp;day); 
&gt;&gt;
&gt;&gt;
&gt;&gt;    if (ZEND_NUM_ARGS() == 3) {
&gt;&gt;        if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "zzz", 
&gt;&gt; &amp;zyear, &amp;zmonth, &amp;zday) == FAILURE) {
&gt;&gt;            return;
&gt;&gt;        }
&gt;&gt;        zval_add_ref(&amp;zyear);
&gt;&gt;        zval_add_ref(&amp;zmonth);
&gt;&gt;        zval_add_ref(&amp;zday);
&gt;&gt;        ZVAL_LONG(zyear, year);
&gt;&gt;        ZVAL_LONG(zmonth, month);
&gt;&gt;        ZVAL_LONG(zday, day);
&gt;&gt;    }
&gt;&gt;    else {
&gt;&gt;        if(!php_gtk_parse_args(ZEND_NUM_ARGS(), "")) {
&gt;&gt;            return;
&gt;&gt;        }
&gt;&gt;    }
&gt;&gt;    array_init(return_value);
&gt;&gt;
&gt;&gt;    add_next_index_long(return_value, year);
&gt;&gt;    add_next_index_long(return_value, month);
&gt;&gt;    add_next_index_long(return_value, day);
&gt;&gt; }
&gt;&gt;
&gt;&gt;
&gt;&gt; mfg xxoes
&gt;&gt;
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060303133547</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-03-03 13:35:47-0400</timestampReceived><subject>[PHP-GTK-DEV] override for GtkFileSelection::get_selections()</subject><body>

I have written an override for GtkFileSelection::get_selections().

%%
override gtk_file_selection_get_selections
PHP_METHOD
{
  gchar **selections;
  gchar *cp_ret;
  gsize cp_len;
  zend_bool free_result;
  int i = 0;

  NOT_STATIC_METHOD();

  if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
      return;

  array_init(return_value);
  selections = 
gtk_file_selection_get_selections(GTK_FILE_SELECTION(PHPG_GOBJECT(this_ptr))); 


  if (selections) {
      while(selections[i] &amp;&amp; selections[i][0]) {
          cp_ret = phpg_from_utf8(selections[i], strlen(selections[i]), 
&amp;cp_len, &amp;free_result TSRMLS_CC);

          if (cp_ret) {
              add_next_index_string(return_value, cp_ret, cp_len);
          } else {
              php_error(E_WARNING, "%s::%s(): could not convert return 
value from UTF-8", get_active_class_name(NULL TSRMLS_CC), 
get_active_function_name(TSRMLS_C));
          }
          if (free_result) {
              g_free(cp_ret);
          }
          i++;
      }
      g_strfreev(selections);
  } else {
      RETVAL_NULL();
  }
}

mfg xxoes

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060301211213</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-01 21:12:13-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkWidget::get_sensitive()?</subject><body>


Hello all,


is there a reason why there is no GtkWidget::get_sensitive() method?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060302134931</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-03-02 13:49:31-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkPixbufFormat struct</subject><body>

Christian Weiske wrote:
&gt; Hello all, Andrei,
&gt; 
&gt; 
&gt; xxoes is about to implement
&gt;&gt; GdkPixbuf::pixbuf_get_file_info($filename,&amp;$width,&amp;$height);
&gt; it returns a GdkPixbufFormat.
&gt; 
&gt; He thought it would be the most easy thing to return an associative
&gt; array with all the values, and additional to the struct keys, return
&gt; width and height in the same array.
&gt; 
&gt; Is that ok? Would it be better to make an own class for GdkPixbufFormat?

If you return an array, you will have to define a bunch of constants for 
the array keys in order to make everyone's life easier. You can't expect 
everyone to just remember that the third element is the domain, but you 
can expect them to remember they can get the domain with 
$pixbufFormat[Gdk::PIXBUF_FORMAT_DOMAIN].

If the GdkPixbuf::format_* methods are already implemented it might just 
be easier to keep the current functionality. It would mean less 
development and testing.

-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060305063115</emailId><senderName>"Leonardo P. Dutra"</senderName><senderEmail>leonardo@solutiva.com.br</senderEmail><timestampReceived>2006-03-05 06:31:15-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Compiling php-gtk2 HEAD on Win2k</subject><body>


Hi, 

I've tried to compile php-gtk2 from HEAD, but I dont know what happens.

Using Debian all is fine, working. 

My problem is on Win2k, (Where I'm slow)
First I'm compile a new php from 5.1.2 at now and no problems. 
After, when trying to build php-gtk from lastest cvs doing:  

buildconf 
cscript /nologo configure.js    

The script show me these messages:

Creating build dirs...
Generating source files - this may take a few seconds
Waiting for source files to generate...
Waiting for source files to generate...

And repeat this for many times, until CTRL+C him;
 
This is the first time that I try to compile 
something on Windows platform. I live in /home at linux.

what I'm doing wrong?

Infos about:

-gtk-win32-devel-2.8.10-rc1 ?
-PHP 5.1.2 &lt;cli&gt; fresh compiled
-Win2k SP4 
..NET Framework SDK
..SDK Platform
-Visual Studio 2005 

Thanks a lot
--
View this message in context: \
http://www.nabble.com/Re%3A-Compiling-php-gtk2-HEAD-on-Win2k-t1227461.html#a3246250 \
Sent from the Php - GTK - Dev forum at Nabble.com.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060306051039</emailId><senderName>Leonardo Dutra</senderName><senderEmail>leonardo@solutiva.com.br</senderEmail><timestampReceived>2006-03-06 05:10:39-0400</timestampReceived><subject>[PHP-GTK-DEV] php-gtk Win32 compiling problem</subject><body>

Hi, 

Excuse to post this again, but the previous was about generating files
on configure script, and aided by Steph I solved that problem.

When I try to build system it happens:

C:\DEV\php-gtk&gt;buildconf

Rebuilding configure.js

Checking ext/canvas             Not currently available for Windows systems
Checking ext/combobutton    Not currently available for Windows systems
Checking ext/extra               Not currently available for Windows systems
Checking ext/gdkpixbuf        Not currently available for Windows systems
Checking ext/gtk+               Available
Checking ext/gtkhtml           Not currently available for Windows systems
Checking ext/imlib               Not currently available for Windows systems
Checking ext/libglade           Available
Checking ext/piemenu          Not currently available for Windows systems
Checking ext/scintilla           Not currently available for Windows systems
Checking ext/scrollpane       Not currently available for Windows systems
Checking ext/skeleton         Not currently available for Windows systems
Checking ext/sourceview      Not currently available for Windows systems
Checking ext/spaned           Not currently available for Windows systems
Checking ext/sqpane           Not currently available for Windows systems

Now run 'cscript /nologo configure.js --help'

C:\DEV\php-gtk&gt;cscript /nologo configure.js --all

Saving configure options to configure.bat

Checking for cl.exe ...         &lt;in default path&gt;
Checking for mc.exe ...        c:\cygwin\bin
Checking for rc.exe ...         C:\Arquivos de programas\Microsoft Visual Studio 8\SDK\v2.0\Bin
Checking for link.exe ...       C:\Arquivos de programas\Microsoft Visual Studio 8\VC\bin
Checking for nmake.exe ...  &lt;in default path&gt;
Checking for lib.exe ...        &lt;in default path&gt;
Checking for php.exe ...      &lt;in default path&gt;

Detected compiler version:  Microsoft VS.NET 2005

Checking for main/php.h ...     &lt;in default path&gt;
Checking for php5ts.lib ...     &lt;in LIB path&gt; php5ts.lib
Checking for iconv.h ...        &lt;in default path&gt;
Checking for iconv.lib ... ..\win32build\lib\iconv.lib
Checking for libintl.h ...      &lt;in default path&gt;
Checking for intl.lib ...       &lt;in LIB path&gt; intl.lib
Checking for atk/atk.h ...      &lt;in default path&gt;
Checking for atk-1.0.lib ...    &lt;in LIB path&gt; atk-1.0.lib
Checking for glib.h ...         &lt;in default path&gt;
Checking for glib-2.0.lib ...   &lt;in LIB path&gt; glib-2.0.lib
Checking for gmodule.h ...      &lt;in default path&gt;
Checking for gmodule-2.0.lib ...        &lt;in LIB path&gt; gmodule-2.0.lib
Checking for glib/gthread.h ...         &lt;in default path&gt;
Checking for gthread-2.0.lib ...        &lt;in LIB path&gt; gthread-2.0.lib
Checking for glib-object.h ...  &lt;in default path&gt;
Checking for gobject-2.0.lib ...        &lt;in LIB path&gt; gobject-2.0.lib
Checking for pango/pango.h ...  &lt;in default path&gt;
Checking for pango-1.0.lib ...  &lt;in LIB path&gt; pango-1.0.lib
Checking for pango/pangowin32.h ...     &lt;in default path&gt;
Checking for pangowin32-1.0.lib ...     &lt;in LIB path&gt; pangowin32-1.0.lib
Checking for gdk-pixbuf/gdk-pixbuf.h ...        &lt;in default path&gt;
Checking for gdk_pixbuf-2.0.lib ...     &lt;in LIB path&gt; gdk_pixbuf-2.0.lib
Checking for gdk/gdk.h ...      &lt;in default path&gt;
Checking for gdk-win32-2.0.lib ...      &lt;in LIB path&gt; gdk-win32-2.0.lib
Checking for gtk/gtk.h ...      &lt;in default path&gt;
Checking for gtk-win32-2.0.lib ...      &lt;in LIB path&gt; gtk-win32-2.0.lib
Enabling extension ext\gtk+
Checking for glade\glade.h ...  &lt;in default path&gt;
Checking for glade-2.0.lib ...  &lt;in LIB path&gt; glade-2.0.lib
Enabling extension ext\libglade

Creating build dirs...
Generating source files - this may take a few seconds
Waiting for source files to generate...
Waiting for source files to generate...
Waiting for source files to generate...
Waiting for source files to generate...
Waiting for source files to generate...
Waiting for source files to generate...
Generating Makefile
Done.
Type 'nmake' to build all targets, or 'nmake php-gtk' to build PHP-GTK alone
* Configured PHP-GTK extensions can be built individually at a later stage *

C:\DEV\php-gtk&gt;nmake php-gtk

Microsoft (R) Program Maintenance Utility Version 8.00.50727.42
Copyright (C) Microsoft Corporation.  All rights reserved.

Note: php-gtk2.lib must be created before PHP-GTK extensions can be built
cl : Command line warning D9035 : option 'GX' has been deprecated and will be re
moved in a future release
cl : Command line warning D9036 : use 'EHsc' instead of 'GX'
php_gtk.c
C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\sys/stat.inl(44) :
 error C2466: cannot allocate an array of constant size 0
C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\sys/stat.inl(49) :
 error C2466: cannot allocate an array of constant size 0
C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\sys/utime.inl(39)
: error C2466: cannot allocate an array of constant size 0
C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\sys/utime.inl(44)
: error C2466: cannot allocate an array of constant size 0
C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\sys/utime.inl(49)
: error C2466: cannot allocate an array of constant size 0
C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\sys/utime.inl(78)
: error C2466: cannot allocate an array of constant size 0
C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\wtime.inl(37) : wa
rning C4133: 'function' : incompatible types - from 'const time_t *' to 'const _
_time32_t *'
C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\wtime.inl(43) : wa
rning C4133: 'function' : incompatible types - from 'const time_t *' to 'const _
_time32_t *'
C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(32) : war
ning C4244: 'function' : conversion from 'time_t' to '__time32_t', possible loss
 of data
C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(32) : war
ning C4244: 'function' : conversion from 'time_t' to '__time32_t', possible loss
 of data
C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(38) : war
ning C4133: 'function' : incompatible types - from 'const time_t *' to 'const __
time32_t *'
C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(44) : war
ning C4133: 'function' : incompatible types - from 'const time_t *' to 'const __
time32_t *'
C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(51) : war
ning C4133: 'function' : incompatible types - from 'const time_t *' to 'const __
time32_t *'
C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(57) : war
ning C4133: 'function' : incompatible types - from 'const time_t *' to 'const __
time32_t *'
C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(64) : war
ning C4133: 'function' : incompatible types - from 'const time_t *' to 'const __
time32_t *'
C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(69) : war
ning C4133: 'function' : incompatible types - from 'const time_t *' to 'const __
time32_t *'
C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(81) : war
ning C4133: 'function' : incompatible types - from 'time_t *' to '__time32_t *'
NMAKE : fatal error U1077: '"C:\Arquivos de programas\Microsoft Visual Studio 8\
VC\bin\cl.EXE"' : return code '0x2'
Stop.

C:\DEV\php-gtk&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060306235436</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-06 23:54:36-0400</timestampReceived><subject>[PHP-GTK-DEV] Another Text Editor for PHP-Gtk2</subject><body>

Hi all,

This *HAS* to be my lucky day! The GtkScintilla extension also compiles
and works great with no trouble. Just add --enable-scintilla to the
./configure statement :)

Again, the defs file is scanty but I'm working on filling it. Anyone
with some perl experience could help in transferring the scheme from the
defs file of PHP-Gtk1 to PHP-Gtk2.

Ah, I can now sleep in peace :)

Cheers,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060303145127</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-03 14:51:27-0400</timestampReceived><subject>[PHP-GTK-DEV] Extending PHP-Gtk2</subject><body>

Hi All!

After battling with the 3rd alphabet of the English language for over 12
hours now, I have finally accepted defeat.

All I wanted to do was to add an extension to PHP-Gtk2: some "source
editor" that would provide advanced features that GtkTextBuffer/View
doesn't have. Scintilla was an obvious choice, since it had already been
implemented in PHP-Gtk1; and I had also come across GtkSourceView which
also seemed pretty nice.

First I had problems with sorting out the config.m4 and Makefile.frag
files, the ext_skel script in the ext/ directory sadly does not provide
a working copy of these files. After lots of imitation with the only
extension currently implemented (libglade) I was finally able to
./configure successfully.

Another few hours were spent in authoring minimal .def and .overrides
files so that make does not fail. When "make" did not produce any errors
I did a "make install". Just when I thought I had done it, I received
errors when I actually ran php, what's more they were different for each
extension that I enabled.

Enabling GtkScintilla (./configure --enable-scintilla), gave me a
"Segmentation Fault" when I ran PHP and enabling GtkSourceView
(./configure --enable-sourceview) gave me "Undefined symbol:
phpg_sourceview_register_constants".

Yes, my C sucks :(

Anyway, I committed my work files to the CVS tree (ext/scintilla and
ext/sourceview), since it would not disrupt anything as the extensions
have to manually enabled to be built. I have included
ref.sourceview.defs, ref.sourceview.overrides, v1.scintilla.defs and
v1.scintilla.overrides as reference in the same directories.

If anybody would be so kind as to kindly point me in the right direction
 (What am I doing wrong, Why doesn't it work!), I would be more than
happy to take these and more extensions all the way to the finish line.
The existing libglade extension doesn't seem to be a good enough example
for me to emulate.

Thanks and Regards,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307015223</emailId><senderName>Tom Rogers</senderName><senderEmail>trogers@kwikin.com</senderEmail><timestampReceived>2006-03-07 01:52:23-0400</timestampReceived><subject>Re[2]: [PHP-GTK-DEV] Extending PHP-Gtk2</subject><body>

Hi,

Tuesday, March 7, 2006, 11:11:55 AM, you wrote:
AZ&gt; Didn't Tom have a custom generator for Scintilla?

AZ&gt; -Andrei

Yes as scintilla didn't lead to the same structure as gtk and I was bypassing the old \
gtk-scintilla which appears to be unmaintained now.

You never did give me rights to upload my version for testing :)
And I think I sent you the files to look at...

-- 
regards,
Tom

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060307123030</emailId><senderName>"Ivan Rodriguez"</senderName><senderEmail>epplestun@gmail.com</senderEmail><timestampReceived>2006-03-07 12:30:30-0400</timestampReceived><subject>[PHP-GTK-DEV] php5: symbol lookup error: /usr/local/php5/lib/php/extensions/no-debug-non-zts-2005092</subject><body>


Hi, I compiled the last version of PHP-GTK code of CVS, it compiles perfect
but when I run php says this:

php5: symbol lookup error:
/usr/local/php5/lib/php/extensions/no-debug-non-zts-20050922/php_gtk2.so:
undefined symbol: php_gdk_register_keysyms

Any idea why returns this error?


</body></email><email><emailId>20060306221422</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-06 22:14:22-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSourceView now works!</subject><body>

Yep, will look into it - along with everything else I keep promising - when 
I'm clear of this stuff in front of me (should be 2 days away).

Please can someone get rid of all those PHP-GTK 1 extensions that _don't_ 
compile at all under PHP-GTK 2 and shouldn't be in current CVS?

- Steph


----- Original Message ----- 
From: "Anant Narayanan" &lt;anant@kix.in&gt;
To: "[PHP-GTK-DEV]" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, March 07, 2006 12:09 AM
Subject: [PHP-GTK-DEV] GtkSourceView now works!


&gt; Hi all,
&gt;
&gt; The GtkSourceView extension finally works! You can test it out by adding
&gt; --enable-sourceview while running ./configure. I just committed the
&gt; changes to CVS.
&gt;
&gt; The .defs file is pretty limited, but I checked that the
&gt; set_show_line_numbers and a couple of other basic method works fine with
&gt; the GtkSourceView widget:
&gt;
&gt;&gt; &lt;?php
&gt;&gt;
&gt;&gt;     $win = new GtkWindow();
&gt;&gt;     $source = new GtkSourceView();
&gt;&gt;     $source-&gt;set_show_line_numbers(true);
&gt;&gt;     $source-&gt;set_show_line_markers(true);
&gt;&gt;
&gt;&gt;     $win-&gt;add($source);
&gt;&gt;     $win-&gt;maximize();
&gt;&gt;     $win-&gt;show_all();
&gt;&gt;     $win-&gt;set_title("GtkSourceView Demo");
&gt;&gt;     $win-&gt;connect_simple("destroy", array("Gtk", "main_quit"));
&gt;&gt;
&gt;&gt;     Gtk::main();
&gt;&gt;
&gt;&gt; ?&gt;
&gt;
&gt; I will now focus on filling in the defs one by one, and overriding
&gt; methods wherever necessary, while I wait for a reply from Tom on the
&gt; Scintilla extension.
&gt;
&gt; And, the extension will work only on *nix for now, unless Steph or
&gt; someone else finds time to port the extension to windows too.
&gt;
&gt; Thanks to all!
&gt;
&gt; Cheers,
&gt; -- 
&gt; Anant
&gt;
&gt; Find Freedom, Go Open Source!
&gt; http://www.kix.in/
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307141553</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-03-07 14:15:53-0400</timestampReceived><subject>[PHP-GTK-DEV] Unit Tests</subject><body>

Hello,

There was a bug in the PHPUnit2 patch I submitted so whomever created 
all of the unit tests will need to recreate them (hopefully without over 
writing any changes already made). The old version left a require_once 
""; in the test header that causes problems. The new patch 
(http://crisscott.com/tmp/phpUnit2Skeleton.patch) does not add the 
require statement if it isn't needed.

Thanks,
-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307204042</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-07 20:40:42-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-Gtk2's first Web Browser is here!</subject><body>

It's only 'more work for Steph' if the library you're wrapping happens to 
build under win32 in the first place.

Just thought I'd mention!


----- Original Message ----- 
From: "Anant Narayanan" &lt;anant@kix.in&gt;
To: "PHP-GTK-DEV" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, March 07, 2006 10:30 PM
Subject: [PHP-GTK-DEV] PHP-Gtk2's first Web Browser is here!


&gt; Hi all!
&gt;
&gt; I just implemented the GtkMozEmbed extension and committed them to the
&gt; CVS. Again, add --enable-mozembed while configuring to use this
&gt; extension. You need the mozilla-gtkmozembed package (v1.7 upwards, use
&gt; "pkg-config mozilla-gtkmozembed --modversion" to find out what version
&gt; you have)
&gt;
&gt; The immediate example script I could think of is a simple web browser,
&gt; just over 50 lines of code, and it runs great!
&gt;
&gt; A screenshot: http://www.kix.in/php-gtk2/gtkmozembed.png
&gt; The Code: http://www.kix.in/php-gtk2/browser.phps
&gt; Coverage Summary: http://www.kix.in/php-gtk2/gtkmozembed.coverage
&gt;
&gt; pyGTK had this extension, so I figured we should too :)
&gt; Next on my hitlist: gtkspell, and gnome (ui and vfs).
&gt; We also need GtkHTML2 right? Or is that already built into PHP-Gtk2?
&gt;
&gt; Another night of good sleep and more work for Steph!
&gt;
&gt; Thanks and Regards,
&gt; -- 
&gt; Anant
&gt;
&gt; Find Freedom, Go Open Source!
&gt; http://www.kix.in/
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310052536</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-10 05:25:36-0400</timestampReceived><subject>[PHP-GTK-DEV] GdkGC again</subject><body>

To continue GdkGC topic.. would you be satisfied with setting  
properties only via functions() or do you want to set them directly too?

$gc-&gt;foreground = ...;

and

$gc-&gt;set_foreground(...);

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307184827</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-07 18:48:27-0400</timestampReceived><subject>[PHP-GTK-DEV] style dumping</subject><body>


Hello all,


It has been requested by Steph or Andrei (don't know), and I was the one
voting against it, but now I've changed my mind:
Maybe we really should remove the styles when var_dumping variables. It
gives too much ouput and complicates debugging.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060310041055</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-10 04:10:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] style dumping</subject><body>

Anyone else think this?

-Andrei


On Mar 7, 2006, at 10:48 AM, Christian Weiske wrote:

&gt; Hello all,
&gt;
&gt;
&gt; It has been requested by Steph or Andrei (don't know), and I was  
&gt; the one
&gt; voting against it, but now I've changed my mind:
&gt; Maybe we really should remove the styles when var_dumping  
&gt; variables. It
&gt; gives too much ouput and complicates debugging.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310043200</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-03-10 04:32:00-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] style dumping</subject><body>

Hehehe,

I'm developing using php-gtk2 since the first working commit and it's
really boring to debug through var_dump :-)

I have always to use "|more", but I can analyse just the first entries,
because there's a really long list of GtkGC's......

So sometimes I have to redirect the output to another file and analyse
after the script execution (it's still boring).

If someone ask me if ever needed to know about that styles information,
the answer is no ;-)

Pablo

Em Qui, 2006-03-09  s 20:10 -0800, Andrei Zmievski escreveu:
&gt; Anyone else think this?
&gt; 
&gt; -Andrei
&gt; 
&gt; 
&gt; On Mar 7, 2006, at 10:48 AM, Christian Weiske wrote:
&gt; 
&gt; &gt; Hello all,
&gt; &gt;
&gt; &gt;
&gt; &gt; It has been requested by Steph or Andrei (don't know), and I was  
&gt; &gt; the one
&gt; &gt; voting against it, but now I've changed my mind:
&gt; &gt; Maybe we really should remove the styles when var_dumping  
&gt; &gt; variables. It
&gt; &gt; gives too much ouput and complicates debugging.
&gt; &gt;
&gt; &gt; -- 
&gt; &gt; Regards/MfG,
&gt; &gt; Christian Weiske
&gt; 
-- 
:: Pablo Dall'Oglio
:: www.dalloglio.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310062734</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-10 06:27:34-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] style dumping</subject><body>

&gt; Anyone else think this?

It was me that asked to lose it in the first place... so obviously, +1!

- Steph
 
&gt; -Andrei
&gt; 
&gt; 
&gt; On Mar 7, 2006, at 10:48 AM, Christian Weiske wrote:
&gt; 
&gt;&gt; Hello all,
&gt;&gt;
&gt;&gt;
&gt;&gt; It has been requested by Steph or Andrei (don't know), and I was  
&gt;&gt; the one
&gt;&gt; voting against it, but now I've changed my mind:
&gt;&gt; Maybe we really should remove the styles when var_dumping  
&gt;&gt; variables. It
&gt;&gt; gives too much ouput and complicates debugging.
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310065820</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-10 06:58:20-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] style dumping</subject><body>

What do you want to lose exactly.. Just GtkStyle? or more?

-Andrei


On Mar 9, 2006, at 10:27 PM, Steph Fox wrote:

&gt;&gt; Anyone else think this?
&gt;
&gt; It was me that asked to lose it in the first place... so obviously,  
&gt; +1!
&gt;
&gt; - Steph
&gt;&gt; -Andrei
&gt;&gt; On Mar 7, 2006, at 10:48 AM, Christian Weiske wrote:
&gt;&gt;&gt; Hello all,
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; It has been requested by Steph or Andrei (don't know), and I was   
&gt;&gt;&gt; the one
&gt;&gt;&gt; voting against it, but now I've changed my mind:
&gt;&gt;&gt; Maybe we really should remove the styles when var_dumping   
&gt;&gt;&gt; variables. It
&gt;&gt;&gt; gives too much ouput and complicates debugging.
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt; Christian Weiske
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310071421</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-10 07:14:21-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] style dumping</subject><body>

I just want to be able to pull a var_dump() on a widget and then know what's 
in it.  I don't care whether it mentions GtkStyle along the way or not, so 
long as it doesn't mention every little style property while it's at it. At 
present I'm finding what should be straightforward, simple, no-flowers 
debugging is impossible because I get so much info per widget that the dump 
exceeds the limit for shell output.


&gt; What do you want to lose exactly.. Just GtkStyle? or more?
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Mar 9, 2006, at 10:27 PM, Steph Fox wrote:
&gt;
&gt;&gt;&gt; Anyone else think this?
&gt;&gt;
&gt;&gt; It was me that asked to lose it in the first place... so obviously,  +1!
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt;&gt; -Andrei
&gt;&gt;&gt; On Mar 7, 2006, at 10:48 AM, Christian Weiske wrote:
&gt;&gt;&gt;&gt; Hello all,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; It has been requested by Steph or Andrei (don't know), and I was   the 
&gt;&gt;&gt;&gt; one
&gt;&gt;&gt;&gt; voting against it, but now I've changed my mind:
&gt;&gt;&gt;&gt; Maybe we really should remove the styles when var_dumping   variables. 
&gt;&gt;&gt;&gt; It
&gt;&gt;&gt;&gt; gives too much ouput and complicates debugging.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt;&gt; Christian Weiske
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310072706</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-10 07:27:06-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] style dumping</subject><body>


&gt; What do you want to lose exactly.. Just GtkStyle? or more?
First of all, the style.
Second, the "parent" property.
When having the following packing structure, you will get every single
widget ten or more times, because the parent and the parents parent will
be shown for every single widget:

window
+ vbox
  + label
  + entry
  + button

window: shows its properties and the child
vbox: shows props and child and *parent* (which already had been shown)
label: shows props and parent (and that it's parent, too)

Showing the childs is necessary IMO, although it would be cool to be
able to turn it off (but that isn't, I know).

&lt;?php
$wnd = new GtkWindow();
$wnd-&gt;add(new GtkNotebook());
$wnd-&gt;realize();
var_dump($wnd);
?&gt;

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060310072928</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-10 07:29:28-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] style dumping</subject><body>

Again, the 'parent' property needs at least to be shown. Just not all its 
component parts.

Chris, I'm amazed you even spotted that behind the style garbage :)


----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Friday, March 10, 2006 9:27 AM
Subject: Re: [PHP-GTK-DEV] style dumping

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310073229</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-10 07:32:29-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] style dumping</subject><body>


&gt; Chris, I'm amazed you even spotted that behind the style garbage :)
My terminal has a larger buffer than the cmd on your box ..

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060310174149</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-10 17:41:49-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] style dumping</subject><body>

&lt;sigh&gt;
Filtering out "style" from get_properties() handler is going to be 
tricky.. since all it does is loop over every available "field" and add 
them to the array. Not sure how I can customize that.. Maybe just for 
GtkWidget.

-Andrei

On Mar 9, 2006, at 11:14 PM, Steph Fox wrote:

&gt; I just want to be able to pull a var_dump() on a widget and then know 
&gt; what's in it.  I don't care whether it mentions GtkStyle along the way 
&gt; or not, so long as it doesn't mention every little style property 
&gt; while it's at it. At present I'm finding what should be 
&gt; straightforward, simple, no-flowers debugging is impossible because I 
&gt; get so much info per widget that the dump exceeds the limit for shell 
&gt; output.
&gt;
&gt;
&gt;&gt; What do you want to lose exactly.. Just GtkStyle? or more?
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; On Mar 9, 2006, at 10:27 PM, Steph Fox wrote:
&gt;&gt;
&gt;&gt;&gt;&gt; Anyone else think this?
&gt;&gt;&gt;
&gt;&gt;&gt; It was me that asked to lose it in the first place... so obviously,  
&gt;&gt;&gt; +1!
&gt;&gt;&gt;
&gt;&gt;&gt; - Steph
&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt; On Mar 7, 2006, at 10:48 AM, Christian Weiske wrote:
&gt;&gt;&gt;&gt;&gt; Hello all,
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; It has been requested by Steph or Andrei (don't know), and I was   
&gt;&gt;&gt;&gt;&gt; the one
&gt;&gt;&gt;&gt;&gt; voting against it, but now I've changed my mind:
&gt;&gt;&gt;&gt;&gt; Maybe we really should remove the styles when var_dumping   
&gt;&gt;&gt;&gt;&gt; variables. It
&gt;&gt;&gt;&gt;&gt; gives too much ouput and complicates debugging.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt;&gt;&gt; Christian Weiske
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310174333</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-10 17:43:33-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] style dumping</subject><body>

&gt; &lt;sigh&gt;
&gt; Filtering out "style" from get_properties() handler is going to be 
&gt; tricky.. since all it does is loop over every available "field" and add 
&gt; them to the array. Not sure how I can customize that.. Maybe just for 
&gt; GtkWidget.

Doesn't that automatically propogate to every widget?

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310175049</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-03-10 17:50:49-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] style dumping</subject><body>

Andrei Zmievski wrote:
&gt; &lt;sigh&gt;
&gt; Filtering out "style" from get_properties() handler is going to be 
&gt; tricky.. since all it does is loop over every available "field" and add 
&gt; them to the array. Not sure how I can customize that.. Maybe just for 
&gt; GtkWidget.

Is it possible to add a flag to classes that you want to filter out? If 
it is on, get_properties() ignores the class. If it is off or missing, 
get_properties() includes the class. That way you can turn off dumping 
certain classes individually.

-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310175557</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-03-10 17:55:57-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] style dumping</subject><body>

Sorry for replying to myself but maybe we are approaching this wrong. 
Instead of trying to modify the behavior of var_dump() why not create a 
new function widget_dump()? Starting fresh might give more flexibility 
and be easier. Since this function will be part of PHP-GTK instead of 
PHP it can be tailored to PHP-GTK without worrying about how it will 
work in regular PHP code.

Thanks,
-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310180547</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-03-10 18:05:47-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] style dumping</subject><body>

I agree, we could have a Gtk::var_dump() perhaps.

[]'s
Pablo

Em Sex, 2006-03-10  s 12:55 -0500, Scott Mattocks escreveu:
&gt; Sorry for replying to myself but maybe we are approaching this wrong. 
&gt; Instead of trying to modify the behavior of var_dump() why not create a 
&gt; new function widget_dump()? Starting fresh might give more flexibility 
&gt; and be easier. Since this function will be part of PHP-GTK instead of 
&gt; PHP it can be tailored to PHP-GTK without worrying about how it will 
&gt; work in regular PHP code.
&gt; 
&gt; Thanks,
&gt; -- 
&gt; Scott Mattocks
&gt; http://www.crisscott.com
&gt; 
-- 
:: Pablo Dall'Oglio
:: www.dalloglio.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310182412</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-10 18:24:12-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] style dumping</subject><body>

No, actually this won't work.. I can make a custom get_properties() 
handler for GtkWidget but its children will still use generic 
get_properties() one..

On Mar 10, 2006, at 9:43 AM, Steph Fox wrote:

&gt;&gt; &lt;sigh&gt;
&gt;&gt; Filtering out "style" from get_properties() handler is going to be 
&gt;&gt; tricky.. since all it does is loop over every available "field" and 
&gt;&gt; add them to the array. Not sure how I can customize that.. Maybe just 
&gt;&gt; for GtkWidget.
&gt;
&gt; Doesn't that automatically propogate to every widget?

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310063849</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-10 06:38:49-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkGC again</subject><body>


Andrei,

&gt; To continue GdkGC topic.. would you be satisfied with setting 
&gt; properties only via functions() or do you want to set them directly too?
&gt; $gc-&gt;foreground = ...; and $gc-&gt;set_foreground(...);
As I'm more on the java side of life, I prefer methods(). I do know that
some/many people like "normal" props.
If the props are auto-generated, we could have both. When doing them by
hand, every single one would have to be made twice, right?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060310065753</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-10 06:57:53-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkGC again</subject><body>

Yes, these props need to be hand written.

-Andrei


On Mar 9, 2006, at 10:38 PM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;&gt; To continue GdkGC topic.. would you be satisfied with setting
&gt;&gt; properties only via functions() or do you want to set them  
&gt;&gt; directly too?
&gt;&gt; $gc-&gt;foreground = ...; and $gc-&gt;set_foreground(...);
&gt; As I'm more on the java side of life, I prefer methods(). I do know  
&gt; that
&gt; some/many people like "normal" props.
&gt; If the props are auto-generated, we could have both. When doing  
&gt; them by
&gt; hand, every single one would have to be made twice, right?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307204200</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-07 20:42:00-0400</timestampReceived><subject>[PHP-GTK-DEV] PHP-Gtk2's first Web Browser is here!</subject><body>

Hi all!

I just implemented the GtkMozEmbed extension and committed them to the
CVS. Again, add --enable-mozembed while configuring to use this
extension. You need the mozilla-gtkmozembed package (v1.7 upwards, use
"pkg-config mozilla-gtkmozembed --modversion" to find out what version
you have)

The immediate example script I could think of is a simple web browser,
just over 50 lines of code, and it runs great!

A screenshot: http://www.kix.in/php-gtk2/gtkmozembed.png
The Code: http://www.kix.in/php-gtk2/browser.phps
Coverage Summary: http://www.kix.in/php-gtk2/gtkmozembed.coverage

pyGTK had this extension, so I figured we should too :)
Next on my hitlist: gtkspell, and gnome (ui and vfs).
We also need GtkHTML2 right? Or is that already built into PHP-Gtk2?

Another night of good sleep and more work for Steph!

Thanks and Regards,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307204302</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-07 20:43:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-Gtk2's first Web Browser is here!</subject><body>


Anant,

&gt; Next on my hitlist: gtkspell, and gnome (ui and vfs).
&gt; We also need GtkHTML2 right? Or is that already built into PHP-Gtk2?
Could we please have the current API *completely* implemented before
making the twentyseventh extension?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060307205303</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-07 20:53:03-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-Gtk2's first Web Browser is here!</subject><body>

Christian,

&gt; Could we please have the current API *completely* implemented before
&gt; making the twentyseventh extension?

Perhaps you're right, we're going ahead of ourselves! But I'm unable to
help much in overriding methods, the few that I tried failed miserably,
and hence I looked towards alternate methods of contributing :)

I'll put a stop to the extensions here, and will resume once a PHP-Gtk2
beta release is out. Right now, I'll focus on the docs and definitions
for sourceview, scintilla and mozembed.

Cheers,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307205525</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-07 20:55:25-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-Gtk2's first Web Browser is here!</subject><body>

Steph,

&gt; It's only 'more work for Steph' if the library you're wrapping happens
&gt; to build under win32 in the first place.

Don't know _why_ I keep forgetting that.

In my ideal world, everyone runs *nix :)

Cheers,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307210452</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-07 21:04:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-Gtk2's first Web Browser is here!</subject><body>

&gt; In my ideal world, everyone runs *nix :)

Welcome to reality :)

I'll look into it, but it 'smells' too geeky to translate.  (It'll be cool 
if it _does_ work x-platform though, and nice work btw!)

- Steph 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307220045</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-07 22:00:45-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-Gtk2's first Web Browser is here!</subject><body>

Hey,

Before you commit to CVS, would you mind putting up a tarball or 
something on a website so we can check it out and test? Or do I need to 
restrict CVS privileges?

-Andrei

On Mar 7, 2006, at 12:30 PM, Anant Narayanan wrote:

&gt; Hi all!
&gt;
&gt; I just implemented the GtkMozEmbed extension and committed them to the
&gt; CVS. Again, add --enable-mozembed while configuring to use this
&gt; extension. You need the mozilla-gtkmozembed package (v1.7 upwards, use
&gt; "pkg-config mozilla-gtkmozembed --modversion" to find out what version
&gt; you have)
&gt;
&gt; The immediate example script I could think of is a simple web browser,
&gt; just over 50 lines of code, and it runs great!
&gt;
&gt; A screenshot: http://www.kix.in/php-gtk2/gtkmozembed.png
&gt; The Code: http://www.kix.in/php-gtk2/browser.phps
&gt; Coverage Summary: http://www.kix.in/php-gtk2/gtkmozembed.coverage
&gt;
&gt; pyGTK had this extension, so I figured we should too :)
&gt; Next on my hitlist: gtkspell, and gnome (ui and vfs).
&gt; We also need GtkHTML2 right? Or is that already built into PHP-Gtk2?
&gt;
&gt; Another night of good sleep and more work for Steph!
&gt;
&gt; Thanks and Regards,
&gt; -- 
&gt; Anant
&gt;
&gt; Find Freedom, Go Open Source!
&gt; http://www.kix.in/
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307222318</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-07 22:23:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-Gtk2's first Web Browser is here!</subject><body>

Anant,

Adding an extension that's disabled by default to CVS will not break 
PHP-GTK, of course, but it will leave a mark. You can never get rid of 
the directory. So, my point was, before just committing something, why 
not let the rest of us know what it is you're working on, and at least 
get a nod from someone? It's basic courtesy.

I appreciate the contributions you're making, but the reason you have 
not seen much "encouragement" from me is because I have been busy with 
work and other projects. I dedicate as much time to PHP-GTK as I am 
able, and there are a lot of things to look at currently..

-Andrei

On Mar 7, 2006, at 2:14 PM, Anant Narayanan wrote:

&gt; I never thought that just adding an extension, that too one that
&gt; requires specific enabling would cause any harm, and that is why
&gt; committed the changes directly.
&gt;
&gt; If you still feel that these things require testing, then that's fine
&gt; with me, I will take care in the future.
&gt;
&gt; You may revoke my CVS privileges at any time you deem fit, but you will
&gt; be left with one person less. It may not matter much anyway, since my
&gt; contributions to this project so far don't seem to receive any
&gt; encouragement from you.
&gt;
&gt; Regards,
&gt; -- 
&gt; Anant
&gt;
&gt; Find Freedom, Go Open Source!
&gt; http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307222515</emailId><senderName>"Ivan Rodriguez"</senderName><senderEmail>epplestun@gmail.com</senderEmail><timestampReceived>2006-03-07 22:25:15-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-Gtk2's first Web Browser is here!</subject><body>


Anant your work is very good but the project has an order, first it is
necessary to create the own extension perfectly and later to create the res=
t
of modules, you are not discouraged, but it understands that there is to
make more things before mounting the modules, and Andrei says it by the goo=
d
of the project, so that but outside by the this it would not exist and it
must a little to him respect in his decisions

On 3/7/06, Anant Narayanan &lt;anant@kix.in&gt; wrote:
&gt;
&gt; Andrei,
&gt;
&gt; &gt; Before you commit to CVS, would you mind putting up a tarball or
&gt; &gt; something on a website so we can check it out and test? Or do I need to
&gt; &gt; restrict CVS privileges?
&gt;
&gt; I never thought that just adding an extension, that too one that
&gt; requires specific enabling would cause any harm, and that is why
&gt; committed the changes directly.
&gt;
&gt; If you still feel that these things require testing, then that's fine
&gt; with me, I will take care in the future.
&gt;
&gt; You may revoke my CVS privileges at any time you deem fit, but you will
&gt; be left with one person less. It may not matter much anyway, since my
&gt; contributions to this project so far don't seem to receive any
&gt; encouragement from you.
&gt;
&gt; Regards,
&gt; --
&gt; Anant
&gt;
&gt; Find Freedom, Go Open Source!
&gt; http://www.kix.in/
&gt;
&gt; --
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;


</body></email><email><emailId>20060307222641</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-07 22:26:41-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-Gtk2's first Web Browser is here!</subject><body>

Andrei,

&gt; Before you commit to CVS, would you mind putting up a tarball or
&gt; something on a website so we can check it out and test? Or do I need to
&gt; restrict CVS privileges?

I never thought that just adding an extension, that too one that
requires specific enabling would cause any harm, and that is why
committed the changes directly.

If you still feel that these things require testing, then that's fine
with me, I will take care in the future.

You may revoke my CVS privileges at any time you deem fit, but you will
be left with one person less. It may not matter much anyway, since my
contributions to this project so far don't seem to receive any
encouragement from you.

Regards,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307223248</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-07 22:32:48-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-Gtk2's first Web Browser is here!</subject><body>

By the way, I don't remember your request for PHP-GTK karma.. I looked 
it up and your CVS account request was:

http://marc.theaimsgroup.com/?l=php-dev&amp;m=113577248925496&amp;w=2

So, Rasmus gave you php-gtk/ karma accidentally. :)

-Andrei

On Mar 7, 2006, at 2:23 PM, Andrei Zmievski wrote:

&gt; Anant,
&gt;
&gt; Adding an extension that's disabled by default to CVS will not break 
&gt; PHP-GTK, of course, but it will leave a mark. You can never get rid of 
&gt; the directory. So, my point was, before just committing something, why 
&gt; not let the rest of us know what it is you're working on, and at least 
&gt; get a nod from someone? It's basic courtesy.
&gt;
&gt; I appreciate the contributions you're making, but the reason you have 
&gt; not seen much "encouragement" from me is because I have been busy with 
&gt; work and other projects. I dedicate as much time to PHP-GTK as I am 
&gt; able, and there are a lot of things to look at currently..
&gt;
&gt; -Andrei
&gt;
&gt; On Mar 7, 2006, at 2:14 PM, Anant Narayanan wrote:
&gt;
&gt;&gt; I never thought that just adding an extension, that too one that
&gt;&gt; requires specific enabling would cause any harm, and that is why
&gt;&gt; committed the changes directly.
&gt;&gt;
&gt;&gt; If you still feel that these things require testing, then that's fine
&gt;&gt; with me, I will take care in the future.
&gt;&gt;
&gt;&gt; You may revoke my CVS privileges at any time you deem fit, but you 
&gt;&gt; will
&gt;&gt; be left with one person less. It may not matter much anyway, since my
&gt;&gt; contributions to this project so far don't seem to receive any
&gt;&gt; encouragement from you.
&gt;&gt;
&gt;&gt; Regards,
&gt;&gt; -- 
&gt;&gt; Anant
&gt;&gt;
&gt;&gt; Find Freedom, Go Open Source!
&gt;&gt; http://www.kix.in/
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060306222112</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-06 22:21:12-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkSourceView now works!</subject><body>

Hi all,

The GtkSourceView extension finally works! You can test it out by adding
 --enable-sourceview while running ./configure. I just committed the
changes to CVS.

The .defs file is pretty limited, but I checked that the
set_show_line_numbers and a couple of other basic method works fine with
the GtkSourceView widget:

&gt; &lt;?php
&gt; 
&gt;     $win = new GtkWindow();
&gt;     $source = new GtkSourceView();
&gt;     $source-&gt;set_show_line_numbers(true);
&gt;     $source-&gt;set_show_line_markers(true);
&gt; 
&gt;     $win-&gt;add($source);
&gt;     $win-&gt;maximize();
&gt;     $win-&gt;show_all();
&gt;     $win-&gt;set_title("GtkSourceView Demo"); 
&gt;     $win-&gt;connect_simple("destroy", array("Gtk", "main_quit"));
&gt; 
&gt;     Gtk::main();
&gt; 
&gt; ?&gt;

I will now focus on filling in the defs one by one, and overriding
methods wherever necessary, while I wait for a reply from Tom on the
Scintilla extension.

And, the extension will work only on *nix for now, unless Steph or
someone else finds time to port the extension to windows too.

Thanks to all!

Cheers,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060306222720</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-06 22:27:20-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSourceView now works!</subject><body>

Hi Anant,

No, there _is_ some harm in their being there, a) because people who are 
simply attempting to use PHP-GTK will download those empty dirs from CVS and 
b) because some of those extensions simply aren't applicable to PHP-GTK 2.

- Steph


----- Original Message ----- 
From: "Anant Narayanan" &lt;anant@kix.in&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "[PHP-GTK-DEV]" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, March 07, 2006 12:23 AM
Subject: Re: [PHP-GTK-DEV] GtkSourceView now works!


&gt; Steph,
&gt;
&gt;&gt; Please can someone get rid of all those PHP-GTK 1 extensions that
&gt;&gt; _don't_ compile at all under PHP-GTK 2 and shouldn't be in current CVS?
&gt;
&gt; The directories are all empty except for three: libglade, sourceview and
&gt; scintilla. I don't think there's any harm in them being there: serves as
&gt; a reminder that we have to implement these extensions in the time to come 
&gt; :)
&gt;
&gt; Regards,
&gt; -- 
&gt; Anant
&gt;
&gt; Find Freedom, Go Open Source!
&gt; http://www.kix.in/
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060306223507</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-06 22:35:07-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSourceView now works!</subject><body>

Steph,

&gt; Please can someone get rid of all those PHP-GTK 1 extensions that
&gt; _don't_ compile at all under PHP-GTK 2 and shouldn't be in current CVS?

The directories are all empty except for three: libglade, sourceview and
scintilla. I don't think there's any harm in them being there: serves as
a reminder that we have to implement these extensions in the time to come :)

Regards,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060306225049</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-06 22:50:49-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSourceView now works!</subject><body>

Thanks!

----- Original Message ----- 
From: "Anant Narayanan" &lt;anant@kix.in&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "[PHP-GTK-DEV]" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, March 07, 2006 12:47 AM
Subject: Re: [PHP-GTK-DEV] GtkSourceView now works!


&gt; Steph,
&gt; 
&gt;&gt; No, there _is_ some harm in their being there, a) because people who are
&gt;&gt; simply attempting to use PHP-GTK will download those empty dirs from CVS
&gt;&gt; and b) because some of those extensions simply aren't applicable to
&gt;&gt; PHP-GTK 2.
&gt; 
&gt; Your wish is my command :)
&gt; 
&gt; -- 
&gt; Anant
&gt; 
&gt; Find Freedom, Go Open Source!
&gt; http://www.kix.in/
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060306225934</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-06 22:59:34-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSourceView now works!</subject><body>

Steph,

&gt; No, there _is_ some harm in their being there, a) because people who are
&gt; simply attempting to use PHP-GTK will download those empty dirs from CVS
&gt; and b) because some of those extensions simply aren't applicable to
&gt; PHP-GTK 2.

Your wish is my command :)

-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307011046</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-07 01:10:46-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSourceView now works!</subject><body>

Steph,

You can't remove empty directories from CVS. You can prune them though, 
by running cvs update -P.

-Andrei

On Mar 6, 2006, at 2:27 PM, Steph Fox wrote:

&gt; Hi Anant,
&gt;
&gt; No, there _is_ some harm in their being there, a) because people who 
&gt; are simply attempting to use PHP-GTK will download those empty dirs 
&gt; from CVS and b) because some of those extensions simply aren't 
&gt; applicable to PHP-GTK 2.
&gt;
&gt; - Steph
&gt;
&gt;
&gt; ----- Original Message ----- From: "Anant Narayanan" &lt;anant@kix.in&gt;
&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt; Cc: "[PHP-GTK-DEV]" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Tuesday, March 07, 2006 12:23 AM
&gt; Subject: Re: [PHP-GTK-DEV] GtkSourceView now works!
&gt;
&gt;
&gt;&gt; Steph,
&gt;&gt;
&gt;&gt;&gt; Please can someone get rid of all those PHP-GTK 1 extensions that
&gt;&gt;&gt; _don't_ compile at all under PHP-GTK 2 and shouldn't be in current 
&gt;&gt;&gt; CVS?
&gt;&gt;
&gt;&gt; The directories are all empty except for three: libglade, sourceview 
&gt;&gt; and
&gt;&gt; scintilla. I don't think there's any harm in them being there: serves 
&gt;&gt; as
&gt;&gt; a reminder that we have to implement these extensions in the time to 
&gt;&gt; come :)
&gt;&gt;
&gt;&gt; Regards,
&gt;&gt; -- 
&gt;&gt; Anant
&gt;&gt;
&gt;&gt; Find Freedom, Go Open Source!
&gt;&gt; http://www.kix.in/
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307040148</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-07 04:01:48-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSourceView now works!</subject><body>

They weren't even there until about two days ago.  They got reinstated, and 
shouldn't have been.

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "Anant Narayanan" &lt;anant@kix.in&gt;; "[PHP-GTK-DEV]" 
&lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, March 07, 2006 3:10 AM
Subject: Re: [PHP-GTK-DEV] GtkSourceView now works!


&gt; Steph,
&gt;
&gt; You can't remove empty directories from CVS. You can prune them though, by 
&gt; running cvs update -P.
&gt;
&gt; -Andrei
&gt;
&gt; On Mar 6, 2006, at 2:27 PM, Steph Fox wrote:
&gt;
&gt;&gt; Hi Anant,
&gt;&gt;
&gt;&gt; No, there _is_ some harm in their being there, a) because people who are 
&gt;&gt; simply attempting to use PHP-GTK will download those empty dirs from CVS 
&gt;&gt; and b) because some of those extensions simply aren't applicable to 
&gt;&gt; PHP-GTK 2.
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt;
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "Anant Narayanan" &lt;anant@kix.in&gt;
&gt;&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt;&gt; Cc: "[PHP-GTK-DEV]" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt; Sent: Tuesday, March 07, 2006 12:23 AM
&gt;&gt; Subject: Re: [PHP-GTK-DEV] GtkSourceView now works!
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; Steph,
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Please can someone get rid of all those PHP-GTK 1 extensions that
&gt;&gt;&gt;&gt; _don't_ compile at all under PHP-GTK 2 and shouldn't be in current CVS?
&gt;&gt;&gt;
&gt;&gt;&gt; The directories are all empty except for three: libglade, sourceview and
&gt;&gt;&gt; scintilla. I don't think there's any harm in them being there: serves as
&gt;&gt;&gt; a reminder that we have to implement these extensions in the time to 
&gt;&gt;&gt; come :)
&gt;&gt;&gt;
&gt;&gt;&gt; Regards,
&gt;&gt;&gt; -- 
&gt;&gt;&gt; Anant
&gt;&gt;&gt;
&gt;&gt;&gt; Find Freedom, Go Open Source!
&gt;&gt;&gt; http://www.kix.in/
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 


-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307065341</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-07 06:53:41-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSourceView now works!</subject><body>

&gt; You can't remove empty directories from CVS. You can prune them though,
&gt; by running cvs update -P.

Hmm, I just did "cvs remove ext/canvas ext/combobutton ..." followed by
a "cvs commit" and that didn't give me any errors.

But the directories vanished only after "cvs update -P" though.

Shouldn't the directories *not* appear for anyone who checks out the
module freshly from cvs from now on?

-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307083033</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-07 08:30:33-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSourceView now works!</subject><body>

No. Empty directories stay in CVS and will always appear unless you  
specify the -P flag. You can use it with checkout too, by the way.

-Andrei


On Mar 6, 2006, at 10:52 PM, Anant Narayanan wrote:

&gt;&gt; You can't remove empty directories from CVS. You can prune them  
&gt;&gt; though,
&gt;&gt; by running cvs update -P.
&gt;
&gt; Hmm, I just did "cvs remove ext/canvas ext/combobutton ..."  
&gt; followed by
&gt; a "cvs commit" and that didn't give me any errors.
&gt;
&gt; But the directories vanished only after "cvs update -P" though.
&gt;
&gt; Shouldn't the directories *not* appear for anyone who checks out the
&gt; module freshly from cvs from now on?
&gt;
&gt; -- 
&gt; Anant
&gt;
&gt; Find Freedom, Go Open Source!
&gt; http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307141524</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-07 14:15:24-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSourceView now works!</subject><body>

So what did we do there before?  (*confused*)  Because I never saw win32 
buildconf output like this until now:

Checking ext/canvas             Not currently available for Windows systems
Checking ext/combobutton    Not currently available for Windows systems
Checking ext/extra               Not currently available for Windows systems
Checking ext/gdkpixbuf        Not currently available for Windows systems
Checking ext/gtk+               Available
Checking ext/gtkhtml           Not currently available for Windows systems
Checking ext/imlib               Not currently available for Windows systems
Checking ext/libglade           Available
Checking ext/piemenu          Not currently available for Windows systems
Checking ext/scintilla           Not currently available for Windows systems
Checking ext/scrollpane       Not currently available for Windows systems
Checking ext/skeleton         Not currently available for Windows systems
Checking ext/sourceview      Not currently available for Windows systems
Checking ext/spaned           Not currently available for Windows systems
Checking ext/sqpane           Not currently available for Windows systems

It makes me nervous of doing an update :z

(from Changelog)

2005-07-30  Andrei Zmievski  &lt;andrei@gravitonic.com&gt;
      Remove extensions that are either unsupported or have not been ported
      yet, from HEAD. They are still on PHP_GTK_1 branch.




----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Anant Narayanan" &lt;anant@kix.in&gt;
Cc: "Steph Fox" &lt;steph@zend.com&gt;; "[PHP-GTK-DEV]" 
&lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, March 07, 2006 10:30 AM
Subject: Re: [PHP-GTK-DEV] GtkSourceView now works!


&gt; No. Empty directories stay in CVS and will always appear unless you 
&gt; specify the -P flag. You can use it with checkout too, by the way.
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Mar 6, 2006, at 10:52 PM, Anant Narayanan wrote:
&gt;
&gt;&gt;&gt; You can't remove empty directories from CVS. You can prune them  though,
&gt;&gt;&gt; by running cvs update -P.
&gt;&gt;
&gt;&gt; Hmm, I just did "cvs remove ext/canvas ext/combobutton ..."  followed by
&gt;&gt; a "cvs commit" and that didn't give me any errors.
&gt;&gt;
&gt;&gt; But the directories vanished only after "cvs update -P" though.
&gt;&gt;
&gt;&gt; Shouldn't the directories *not* appear for anyone who checks out the
&gt;&gt; module freshly from cvs from now on?
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Anant
&gt;&gt;
&gt;&gt; Find Freedom, Go Open Source!
&gt;&gt; http://www.kix.in/
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307142313</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-03-07 14:23:13-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSourceView now works!</subject><body>

Anant Narayanan wrote:
&gt; Hi all,
&gt; 
&gt; The GtkSourceView extension finally works! You can test it out by adding
&gt;  --enable-sourceview while running ./configure. I just committed the
&gt; changes to CVS.

I updated from CVS, reconfigured, recompiled (with a make clean) and ran 
your test but I get the following:

Fatal error: Class 'GtkSourceView' not found in 
/home/scott/playground/php-gtk/test.php on line 3

Any suggestions as to what is missing?

Thanks,
-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307145830</emailId><senderName>"Ivan Rodriguez"</senderName><senderEmail>epplestun@gmail.com</senderEmail><timestampReceived>2006-03-07 14:58:30-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSourceView now works!</subject><body>


The same for me :-(

Fatal error: Class 'GtkSourceView' not found in
/home/epplestun/Proyectos/sourceview.php on line 3


On 3/7/06, Scott Mattocks &lt;scott@crisscott.com&gt; wrote:
&gt;
&gt; Anant Narayanan wrote:
&gt; &gt; Hi all,
&gt; &gt;
&gt; &gt; The GtkSourceView extension finally works! You can test it out by addin=
g
&gt; &gt;  --enable-sourceview while running ./configure. I just committed the
&gt; &gt; changes to CVS.
&gt;
&gt; I updated from CVS, reconfigured, recompiled (with a make clean) and ran
&gt; your test but I get the following:
&gt;
&gt; Fatal error: Class 'GtkSourceView' not found in
&gt; /home/scott/playground/php-gtk/test.php on line 3
&gt;
&gt; Any suggestions as to what is missing?
&gt;
&gt; Thanks,
&gt; --
&gt; Scott Mattocks
&gt; http://www.crisscott.com
&gt;
&gt; --
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;


</body></email><email><emailId>20060307172218</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-07 17:22:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSourceView now works!</subject><body>

Dear Scott and Ivan,

&gt; I updated from CVS, reconfigured, recompiled (with a make clean) and ran
&gt; your test but I get the following:
&gt; 
&gt; Fatal error: Class 'GtkSourceView' not found in
&gt; /home/scott/playground/php-gtk/test.php on line 3

Funny, because it worked without any hitches on my system! While
configuring, make sure the following lines appear:

checking for sourceview support... yes
checking for gtksourceview-1.0 &gt;= 1.2.0... yes
checking SOURCEVIEW_CFLAGS... -I/usr/include/gtksourceview-1.0
-I/usr/include/gtk-2.0 -I/usr/include/libxml2
..&lt;snip&gt;...
-I/usr/include/libart-2.0
checking SOURCEVIEW_LIBS... -Wl,--export-dynamic -lgtksourceview-1.0
-lgtk-x11-2.0 -lgnomeprint-2-2 -lgdk-x11-2.0 -latk-1.0 -lgdk_pixbuf-2.0
...&lt;snip&gt;...

This checks whether you really have gtksourceview-1.0 installed using
pkg-config. Same for GtkScintilla (try --enable-scintilla too!) Also
just try deleting the directory and trying a fresh cvs checkout, because
I notice that "make clean" doesn't quite do the job (The coverage
summary table does _NOT_ appear when I do make on an "unclean" directory).

You must get the coverage table summaries during make like:
http://www.kix.in/php-gtk2/gtksourceview.coverage
http://www.kix.in/php-gtk2/gtkscintilla.coverage


And some screen shots of both working on my system:
http://www.kix.in/php-gtk2/gtksourceview.png
http://www.kix.in/php-gtk2/gtkscintilla.png

Do let me know if you face any further trouble.

Thanks and Regards,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307174316</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-07 17:43:16-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSourceView now works!</subject><body>


Anant,

&gt; I notice that "make clean" doesn't quite do the job
#!/bin/sh
make clean
make clean-cache
make clean-gen
make distclean

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060307174632</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-03-07 17:46:32-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSourceView now works!</subject><body>

Hi Anant,

I didn't have gtksourceview-devel installed. After installing that and 
getting a completely fresh copy from CVS it worked fine.

Thanks,
-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307175013</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-07 17:50:13-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSourceView now works!</subject><body>

Christian,

&gt; #!/bin/sh
&gt; make clean
&gt; make clean-cache
&gt; make clean-gen
&gt; make distclean

I find it much easier to just delete the directory and copy the original
source to new one again:

#!/bin/sh
rm -rf ~/php-gtk-sandbox
cp -R ~/php-gtk ~/php-gtk-sandbox

But of course, I didn't know about make clean-cache etc. until now ;)

Regards,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307175638</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-03-07 17:56:38-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSourceView now works!</subject><body>

What about ?

pkg-config --libs "gtksourceview-1.0 &gt;= 1.2.0"
pkg-config --cflags "gtksourceview-1.0 &gt;= 1.2.0"

Em Ter, 2006-03-07  s 15:58 +0100, Ivan Rodriguez escreveu:
&gt; The same for me :-(
&gt; 
&gt; Fatal error: Class 'GtkSourceView' not found in
&gt; /home/epplestun/Proyectos/sourceview.php on line 3
&gt; 
&gt; 
&gt; On 3/7/06, Scott Mattocks &lt;scott@crisscott.com&gt; wrote:
&gt; &gt;
&gt; &gt; Anant Narayanan wrote:
&gt; &gt; &gt; Hi all,
&gt; &gt; &gt;
&gt; &gt; &gt; The GtkSourceView extension finally works! You can test it out by adding
&gt; &gt; &gt;  --enable-sourceview while running ./configure. I just committed the
&gt; &gt; &gt; changes to CVS.
&gt; &gt;
&gt; &gt; I updated from CVS, reconfigured, recompiled (with a make clean) and ran
&gt; &gt; your test but I get the following:
&gt; &gt;
&gt; &gt; Fatal error: Class 'GtkSourceView' not found in
&gt; &gt; /home/scott/playground/php-gtk/test.php on line 3
&gt; &gt;
&gt; &gt; Any suggestions as to what is missing?
&gt; &gt;
&gt; &gt; Thanks,
&gt; &gt; --
&gt; &gt; Scott Mattocks
&gt; &gt; http://www.crisscott.com
&gt; &gt;
&gt; &gt; --
&gt; &gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; &gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; &gt;
&gt; &gt;
-- 
:: Pablo Dall'Oglio
:: www.dalloglio.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307182456</emailId><senderName>"Ivan Rodriguez"</senderName><senderEmail>epplestun@gmail.com</senderEmail><timestampReceived>2006-03-07 18:24:56-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSourceView now works!</subject><body>


Yeah, now works fine :-), congratulations Anant :-)

On 3/7/06, Anant Narayanan &lt;anant@kix.in&gt; wrote:
&gt;
&gt; Pablo,
&gt;
&gt; &gt; What about ?
&gt; &gt;
&gt; &gt; pkg-config --libs "gtksourceview-1.0 &gt;= 1.2.0"
&gt; &gt; pkg-config --cflags "gtksourceview-1.0 &gt;= 1.2.0"
&gt;
&gt; What about them? I'm not sure I get your question but running that on my
&gt; PC gives:
&gt;
&gt; # pkg-config --libs "gtksourceview-1.0 &gt;= 1.2.0"
&gt; -Wl,--export-dynamic -lgtksourceview-1.0 -lgtk-x11-2.0 -lgnomeprint-2-2
&gt; -lgdk-x11-2.0 -latk-1.0 -lgdk_pixbuf-2.0 -lpangocairo-1.0 -lcairo
&gt; -lart_lgpl_2 -lxml2 -lz -lm -lpango-1.0 -lgobject-2.0 -lgmodule-2.0 -ldl
&gt; -lglib-2.0
&gt; # pkg-config --cflags "gtksourceview-1.0 &gt;= 1.2.0"
&gt; -I/usr/include/gtksourceview-1.0 -I/usr/include/gtk-2.0
&gt; -I/usr/include/libxml2 -I/usr/include/libgnomeprint-2.2
&gt; -I/usr/lib/gtk-2.0/include -I/usr/include/atk-1.0 -I/usr/include/cairo
&gt; -I/usr/include/pango-1.0 -I/usr/include/glib-2.0
&gt; -I/usr/lib/glib-2.0/include -I/usr/include/libart-2.0
&gt;
&gt; Basically you can just check the version of gtksourceview you have by
&gt; doing: #pkg-config gtksourceview-1.0 --modversion, and you should get
&gt; some number greater than 1.2.0
&gt;
&gt; Hope this helps,
&gt;
&gt; Regards,
&gt; --
&gt; Anant
&gt;
&gt; Find Freedom, Go Open Source!
&gt; http://www.kix.in/
&gt;
&gt; --
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;


</body></email><email><emailId>20060307170931</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-07 17:09:31-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] php5: symbol lookup error: /usr/local/php5/lib/php/extensions/no-debug-non-zts-200</subject><body>

Did you re-run buildconf and configure?


On Mar 7, 2006, at 4:30 AM, Ivan Rodriguez wrote:

&gt; Hi, I compiled the last version of PHP-GTK code of CVS, it compiles  
&gt; perfect
&gt; but when I run php says this:
&gt;
&gt; php5: symbol lookup error:
&gt; /usr/local/php5/lib/php/extensions/no-debug-non-zts-20050922/ 
&gt; php_gtk2.so:
&gt; undefined symbol: php_gdk_register_keysyms
&gt;
&gt; Any idea why returns this error?

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307040222</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-07 04:02:22-0400</timestampReceived><subject>Re: Re[2]: [PHP-GTK-DEV] Extending PHP-Gtk2</subject><body>

Said this too....

----- Original Message ----- 
From: "Tom Rogers" &lt;trogers@kwikin.com&gt;
To: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
Cc: "Steph Fox" &lt;steph@zend.com&gt;; "Anant Narayanan" &lt;anant@kix.in&gt;; 
&lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, March 07, 2006 3:52 AM
Subject: Re[2]: [PHP-GTK-DEV] Extending PHP-Gtk2


&gt; Hi,
&gt;
&gt; Tuesday, March 7, 2006, 11:11:55 AM, you wrote:
&gt; AZ&gt; Didn't Tom have a custom generator for Scintilla?
&gt;
&gt; AZ&gt; -Andrei
&gt;
&gt; Yes as scintilla didn't lead to the same structure as gtk and I was 
&gt; bypassing the old gtk-scintilla which appears to be unmaintained now.
&gt;
&gt; You never did give me rights to upload my version for testing :)
&gt; And I think I sent you the files to look at...
&gt;
&gt; -- 
&gt; regards,
&gt; Tom
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060305151659</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-05 15:16:59-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Extending PHP-Gtk2</subject><body>

Hi Anant,

Tom Rogers wrote an implementation of the Scintilla extension for PHP-GTK 2 
early last autumn - it wasn't ever added to the repository, but does (or 
did) work fine. I don't know _why_ it wasn't added to the repository - it's 
possible it just wasn't building under *nix-based systems, since Tom and I 
both use win32.

Scintilla is _nothing_ like libglade internally (or in any other way!), so 
I'm not surprised you had problems looking into it that way! It's also a bit 
of a pig to build in the first place if I remember correctly.

Might be an idea to mail Tom directly and see whether he has a version that 
works against current CVS HEAD?

- Steph



----- Original Message ----- 
From: "Anant Narayanan" &lt;anant@kix.in&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Friday, March 03, 2006 4:50 PM
Subject: [PHP-GTK-DEV] Extending PHP-Gtk2


&gt; Hi All!
&gt;
&gt; After battling with the 3rd alphabet of the English language for over 12
&gt; hours now, I have finally accepted defeat.
&gt;
&gt; All I wanted to do was to add an extension to PHP-Gtk2: some "source
&gt; editor" that would provide advanced features that GtkTextBuffer/View
&gt; doesn't have. Scintilla was an obvious choice, since it had already been
&gt; implemented in PHP-Gtk1; and I had also come across GtkSourceView which
&gt; also seemed pretty nice.
&gt;
&gt; First I had problems with sorting out the config.m4 and Makefile.frag
&gt; files, the ext_skel script in the ext/ directory sadly does not provide
&gt; a working copy of these files. After lots of imitation with the only
&gt; extension currently implemented (libglade) I was finally able to
&gt; ./configure successfully.
&gt;
&gt; Another few hours were spent in authoring minimal .def and .overrides
&gt; files so that make does not fail. When "make" did not produce any errors
&gt; I did a "make install". Just when I thought I had done it, I received
&gt; errors when I actually ran php, what's more they were different for each
&gt; extension that I enabled.
&gt;
&gt; Enabling GtkScintilla (./configure --enable-scintilla), gave me a
&gt; "Segmentation Fault" when I ran PHP and enabling GtkSourceView
&gt; (./configure --enable-sourceview) gave me "Undefined symbol:
&gt; phpg_sourceview_register_constants".
&gt;
&gt; Yes, my C sucks :(
&gt;
&gt; Anyway, I committed my work files to the CVS tree (ext/scintilla and
&gt; ext/sourceview), since it would not disrupt anything as the extensions
&gt; have to manually enabled to be built. I have included
&gt; ref.sourceview.defs, ref.sourceview.overrides, v1.scintilla.defs and
&gt; v1.scintilla.overrides as reference in the same directories.
&gt;
&gt; If anybody would be so kind as to kindly point me in the right direction
&gt; (What am I doing wrong, Why doesn't it work!), I would be more than
&gt; happy to take these and more extensions all the way to the finish line.
&gt; The existing libglade extension doesn't seem to be a good enough example
&gt; for me to emulate.
&gt;
&gt; Thanks and Regards,
&gt; -- 
&gt; Anant
&gt;
&gt; Find Freedom, Go Open Source!
&gt; http://www.kix.in/
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307011155</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-07 01:11:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Extending PHP-Gtk2</subject><body>

Didn't Tom have a custom generator for Scintilla?

-Andrei

On Mar 5, 2006, at 7:16 AM, Steph Fox wrote:

&gt; Hi Anant,
&gt;
&gt; Tom Rogers wrote an implementation of the Scintilla extension for 
&gt; PHP-GTK 2 early last autumn - it wasn't ever added to the repository, 
&gt; but does (or did) work fine. I don't know _why_ it wasn't added to the 
&gt; repository - it's possible it just wasn't building under *nix-based 
&gt; systems, since Tom and I both use win32.
&gt;
&gt; Scintilla is _nothing_ like libglade internally (or in any other 
&gt; way!), so I'm not surprised you had problems looking into it that way! 
&gt; It's also a bit of a pig to build in the first place if I remember 
&gt; correctly.
&gt;
&gt; Might be an idea to mail Tom directly and see whether he has a version 
&gt; that works against current CVS HEAD?
&gt;
&gt; - Steph
&gt;
&gt;
&gt;
&gt; ----- Original Message ----- From: "Anant Narayanan" &lt;anant@kix.in&gt;
&gt; To: &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Friday, March 03, 2006 4:50 PM
&gt; Subject: [PHP-GTK-DEV] Extending PHP-Gtk2
&gt;
&gt;
&gt;&gt; Hi All!
&gt;&gt;
&gt;&gt; After battling with the 3rd alphabet of the English language for over 
&gt;&gt; 12
&gt;&gt; hours now, I have finally accepted defeat.
&gt;&gt;
&gt;&gt; All I wanted to do was to add an extension to PHP-Gtk2: some "source
&gt;&gt; editor" that would provide advanced features that GtkTextBuffer/View
&gt;&gt; doesn't have. Scintilla was an obvious choice, since it had already 
&gt;&gt; been
&gt;&gt; implemented in PHP-Gtk1; and I had also come across GtkSourceView 
&gt;&gt; which
&gt;&gt; also seemed pretty nice.
&gt;&gt;
&gt;&gt; First I had problems with sorting out the config.m4 and Makefile.frag
&gt;&gt; files, the ext_skel script in the ext/ directory sadly does not 
&gt;&gt; provide
&gt;&gt; a working copy of these files. After lots of imitation with the only
&gt;&gt; extension currently implemented (libglade) I was finally able to
&gt;&gt; ./configure successfully.
&gt;&gt;
&gt;&gt; Another few hours were spent in authoring minimal .def and .overrides
&gt;&gt; files so that make does not fail. When "make" did not produce any 
&gt;&gt; errors
&gt;&gt; I did a "make install". Just when I thought I had done it, I received
&gt;&gt; errors when I actually ran php, what's more they were different for 
&gt;&gt; each
&gt;&gt; extension that I enabled.
&gt;&gt;
&gt;&gt; Enabling GtkScintilla (./configure --enable-scintilla), gave me a
&gt;&gt; "Segmentation Fault" when I ran PHP and enabling GtkSourceView
&gt;&gt; (./configure --enable-sourceview) gave me "Undefined symbol:
&gt;&gt; phpg_sourceview_register_constants".
&gt;&gt;
&gt;&gt; Yes, my C sucks :(
&gt;&gt;
&gt;&gt; Anyway, I committed my work files to the CVS tree (ext/scintilla and
&gt;&gt; ext/sourceview), since it would not disrupt anything as the extensions
&gt;&gt; have to manually enabled to be built. I have included
&gt;&gt; ref.sourceview.defs, ref.sourceview.overrides, v1.scintilla.defs and
&gt;&gt; v1.scintilla.overrides as reference in the same directories.
&gt;&gt;
&gt;&gt; If anybody would be so kind as to kindly point me in the right 
&gt;&gt; direction
&gt;&gt; (What am I doing wrong, Why doesn't it work!), I would be more than
&gt;&gt; happy to take these and more extensions all the way to the finish 
&gt;&gt; line.
&gt;&gt; The existing libglade extension doesn't seem to be a good enough 
&gt;&gt; example
&gt;&gt; for me to emulate.
&gt;&gt;
&gt;&gt; Thanks and Regards,
&gt;&gt; -- 
&gt;&gt; Anant
&gt;&gt;
&gt;&gt; Find Freedom, Go Open Source!
&gt;&gt; http://www.kix.in/
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307040205</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-07 04:02:05-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Extending PHP-Gtk2</subject><body>

Didn't I say this already?

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "Anant Narayanan" &lt;anant@kix.in&gt;; &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, March 07, 2006 3:11 AM
Subject: Re: [PHP-GTK-DEV] Extending PHP-Gtk2


&gt; Didn't Tom have a custom generator for Scintilla?
&gt; 
&gt; -Andrei
&gt; 
&gt; On Mar 5, 2006, at 7:16 AM, Steph Fox wrote:
&gt; 
&gt;&gt; Hi Anant,
&gt;&gt;
&gt;&gt; Tom Rogers wrote an implementation of the Scintilla extension for 
&gt;&gt; PHP-GTK 2 early last autumn - it wasn't ever added to the repository, 
&gt;&gt; but does (or did) work fine. I don't know _why_ it wasn't added to the 
&gt;&gt; repository - it's possible it just wasn't building under *nix-based 
&gt;&gt; systems, since Tom and I both use win32.
&gt;&gt;
&gt;&gt; Scintilla is _nothing_ like libglade internally (or in any other 
&gt;&gt; way!), so I'm not surprised you had problems looking into it that way! 
&gt;&gt; It's also a bit of a pig to build in the first place if I remember 
&gt;&gt; correctly.
&gt;&gt;
&gt;&gt; Might be an idea to mail Tom directly and see whether he has a version 
&gt;&gt; that works against current CVS HEAD?
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "Anant Narayanan" &lt;anant@kix.in&gt;
&gt;&gt; To: &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt; Sent: Friday, March 03, 2006 4:50 PM
&gt;&gt; Subject: [PHP-GTK-DEV] Extending PHP-Gtk2
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; Hi All!
&gt;&gt;&gt;
&gt;&gt;&gt; After battling with the 3rd alphabet of the English language for over 
&gt;&gt;&gt; 12
&gt;&gt;&gt; hours now, I have finally accepted defeat.
&gt;&gt;&gt;
&gt;&gt;&gt; All I wanted to do was to add an extension to PHP-Gtk2: some "source
&gt;&gt;&gt; editor" that would provide advanced features that GtkTextBuffer/View
&gt;&gt;&gt; doesn't have. Scintilla was an obvious choice, since it had already 
&gt;&gt;&gt; been
&gt;&gt;&gt; implemented in PHP-Gtk1; and I had also come across GtkSourceView 
&gt;&gt;&gt; which
&gt;&gt;&gt; also seemed pretty nice.
&gt;&gt;&gt;
&gt;&gt;&gt; First I had problems with sorting out the config.m4 and Makefile.frag
&gt;&gt;&gt; files, the ext_skel script in the ext/ directory sadly does not 
&gt;&gt;&gt; provide
&gt;&gt;&gt; a working copy of these files. After lots of imitation with the only
&gt;&gt;&gt; extension currently implemented (libglade) I was finally able to
&gt;&gt;&gt; ./configure successfully.
&gt;&gt;&gt;
&gt;&gt;&gt; Another few hours were spent in authoring minimal .def and .overrides
&gt;&gt;&gt; files so that make does not fail. When "make" did not produce any 
&gt;&gt;&gt; errors
&gt;&gt;&gt; I did a "make install". Just when I thought I had done it, I received
&gt;&gt;&gt; errors when I actually ran php, what's more they were different for 
&gt;&gt;&gt; each
&gt;&gt;&gt; extension that I enabled.
&gt;&gt;&gt;
&gt;&gt;&gt; Enabling GtkScintilla (./configure --enable-scintilla), gave me a
&gt;&gt;&gt; "Segmentation Fault" when I ran PHP and enabling GtkSourceView
&gt;&gt;&gt; (./configure --enable-sourceview) gave me "Undefined symbol:
&gt;&gt;&gt; phpg_sourceview_register_constants".
&gt;&gt;&gt;
&gt;&gt;&gt; Yes, my C sucks :(
&gt;&gt;&gt;
&gt;&gt;&gt; Anyway, I committed my work files to the CVS tree (ext/scintilla and
&gt;&gt;&gt; ext/sourceview), since it would not disrupt anything as the extensions
&gt;&gt;&gt; have to manually enabled to be built. I have included
&gt;&gt;&gt; ref.sourceview.defs, ref.sourceview.overrides, v1.scintilla.defs and
&gt;&gt;&gt; v1.scintilla.overrides as reference in the same directories.
&gt;&gt;&gt;
&gt;&gt;&gt; If anybody would be so kind as to kindly point me in the right 
&gt;&gt;&gt; direction
&gt;&gt;&gt; (What am I doing wrong, Why doesn't it work!), I would be more than
&gt;&gt;&gt; happy to take these and more extensions all the way to the finish 
&gt;&gt;&gt; line.
&gt;&gt;&gt; The existing libglade extension doesn't seem to be a good enough 
&gt;&gt;&gt; example
&gt;&gt;&gt; for me to emulate.
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks and Regards,
&gt;&gt;&gt; -- 
&gt;&gt;&gt; Anant
&gt;&gt;&gt;
&gt;&gt;&gt; Find Freedom, Go Open Source!
&gt;&gt;&gt; http://www.kix.in/
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307011324</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-03-07 01:13:24-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Another Text Editor for PHP-Gtk2</subject><body>

What version of GtkScintilla ?

Em Ter, 2006-03-07  s 05:12 +0530, Anant Narayanan escreveu:
&gt; Hi all,
&gt; 
&gt; This *HAS* to be my lucky day! The GtkScintilla extension also compiles
&gt; and works great with no trouble. Just add --enable-scintilla to the
&gt; ./configure statement :)
&gt; 
&gt; Again, the defs file is scanty but I'm working on filling it. Anyone
&gt; with some perl experience could help in transferring the scheme from the
&gt; defs file of PHP-Gtk1 to PHP-Gtk2.
&gt; 
&gt; Ah, I can now sleep in peace :)
&gt; 
&gt; Cheers,
&gt; -- 
&gt; Anant
&gt; 
&gt; Find Freedom, Go Open Source!
&gt; http://www.kix.in/
&gt; 
-- 
:: Pablo Dall'Oglio
:: www.dalloglio.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060306075907</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-03-06 07:59:07-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] php-gtk Win32 compiling problem</subject><body>

VC7 it compiled fine.
VC8 i have added "/D _USE_32BIT_TIME_T=1" to the CFLAGS at the Makefile.
I have also removed /YX and replaced /GX with /EHsc.
Now he is compiling at my maschine, only a few warnings:

        C:\php-dev\vc8\INCLUDE\string.h(205): See declaration of 'strdup'
        Message: "The POSIX name for this item is deprecated. Instead, 
use the I
SO C++ conformant name: _strdup. See online help for details."
main\phpg_support.c(336) : warning C4996: 'strdup' wurde als veraltet 
deklariert

        C:\php-dev\vc8\INCLUDE\string.h(205): See declaration of 'strdup'
        Message: "The POSIX name for this item is deprecated. Instead, 
use the I
SO C++ conformant name: _strdup. See online help for details."



mfg xxoes
(sorry for my english ;))

Leonardo Dutra schrieb:

&gt;Hi, 
&gt;
&gt;Excuse to post this again, but the previous was about generating files
&gt;on configure script, and aided by Steph I solved that problem.
&gt;
&gt;When I try to build system it happens:
&gt;
&gt;C:\DEV\php-gtk&gt;buildconf
&gt;
&gt;Rebuilding configure.js
&gt;
&gt;Checking ext/canvas             Not currently available for Windows systems
&gt;Checking ext/combobutton    Not currently available for Windows systems
&gt;Checking ext/extra               Not currently available for Windows systems
&gt;Checking ext/gdkpixbuf        Not currently available for Windows systems
&gt;Checking ext/gtk+               Available
&gt;Checking ext/gtkhtml           Not currently available for Windows systems
&gt;Checking ext/imlib               Not currently available for Windows systems
&gt;Checking ext/libglade           Available
&gt;Checking ext/piemenu          Not currently available for Windows systems
&gt;Checking ext/scintilla           Not currently available for Windows systems
&gt;Checking ext/scrollpane       Not currently available for Windows systems
&gt;Checking ext/skeleton         Not currently available for Windows systems
&gt;Checking ext/sourceview      Not currently available for Windows systems
&gt;Checking ext/spaned           Not currently available for Windows systems
&gt;Checking ext/sqpane           Not currently available for Windows systems
&gt;
&gt;Now run 'cscript /nologo configure.js --help'
&gt;
&gt;C:\DEV\php-gtk&gt;cscript /nologo configure.js --all
&gt;
&gt;Saving configure options to configure.bat
&gt;
&gt;Checking for cl.exe ...         &lt;in default path&gt;
&gt;Checking for mc.exe ...        c:\cygwin\bin
&gt;Checking for rc.exe ...         C:\Arquivos de programas\Microsoft Visual Studio 8\SDK\v2.0\Bin
&gt;Checking for link.exe ...       C:\Arquivos de programas\Microsoft Visual Studio 8\VC\bin
&gt;Checking for nmake.exe ...  &lt;in default path&gt;
&gt;Checking for lib.exe ...        &lt;in default path&gt;
&gt;Checking for php.exe ...      &lt;in default path&gt;
&gt;
&gt;Detected compiler version:  Microsoft VS.NET 2005
&gt;
&gt;Checking for main/php.h ...     &lt;in default path&gt;
&gt;Checking for php5ts.lib ...     &lt;in LIB path&gt; php5ts.lib
&gt;Checking for iconv.h ...        &lt;in default path&gt;
&gt;Checking for iconv.lib ... ..\win32build\lib\iconv.lib
&gt;Checking for libintl.h ...      &lt;in default path&gt;
&gt;Checking for intl.lib ...       &lt;in LIB path&gt; intl.lib
&gt;Checking for atk/atk.h ...      &lt;in default path&gt;
&gt;Checking for atk-1.0.lib ...    &lt;in LIB path&gt; atk-1.0.lib
&gt;Checking for glib.h ...         &lt;in default path&gt;
&gt;Checking for glib-2.0.lib ...   &lt;in LIB path&gt; glib-2.0.lib
&gt;Checking for gmodule.h ...      &lt;in default path&gt;
&gt;Checking for gmodule-2.0.lib ...        &lt;in LIB path&gt; gmodule-2.0.lib
&gt;Checking for glib/gthread.h ...         &lt;in default path&gt;
&gt;Checking for gthread-2.0.lib ...        &lt;in LIB path&gt; gthread-2.0.lib
&gt;Checking for glib-object.h ...  &lt;in default path&gt;
&gt;Checking for gobject-2.0.lib ...        &lt;in LIB path&gt; gobject-2.0.lib
&gt;Checking for pango/pango.h ...  &lt;in default path&gt;
&gt;Checking for pango-1.0.lib ...  &lt;in LIB path&gt; pango-1.0.lib
&gt;Checking for pango/pangowin32.h ...     &lt;in default path&gt;
&gt;Checking for pangowin32-1.0.lib ...     &lt;in LIB path&gt; pangowin32-1.0.lib
&gt;Checking for gdk-pixbuf/gdk-pixbuf.h ...        &lt;in default path&gt;
&gt;Checking for gdk_pixbuf-2.0.lib ...     &lt;in LIB path&gt; gdk_pixbuf-2.0.lib
&gt;Checking for gdk/gdk.h ...      &lt;in default path&gt;
&gt;Checking for gdk-win32-2.0.lib ...      &lt;in LIB path&gt; gdk-win32-2.0.lib
&gt;Checking for gtk/gtk.h ...      &lt;in default path&gt;
&gt;Checking for gtk-win32-2.0.lib ...      &lt;in LIB path&gt; gtk-win32-2.0.lib
&gt;Enabling extension ext\gtk+
&gt;Checking for glade\glade.h ...  &lt;in default path&gt;
&gt;Checking for glade-2.0.lib ...  &lt;in LIB path&gt; glade-2.0.lib
&gt;Enabling extension ext\libglade
&gt;
&gt;Creating build dirs...
&gt;Generating source files - this may take a few seconds
&gt;Waiting for source files to generate...
&gt;Waiting for source files to generate...
&gt;Waiting for source files to generate...
&gt;Waiting for source files to generate...
&gt;Waiting for source files to generate...
&gt;Waiting for source files to generate...
&gt;Generating Makefile
&gt;Done.
&gt;Type 'nmake' to build all targets, or 'nmake php-gtk' to build PHP-GTK alone
&gt;* Configured PHP-GTK extensions can be built individually at a later stage *
&gt;
&gt;C:\DEV\php-gtk&gt;nmake php-gtk
&gt;
&gt;Microsoft (R) Program Maintenance Utility Version 8.00.50727.42
&gt;Copyright (C) Microsoft Corporation.  All rights reserved.
&gt;
&gt;Note: php-gtk2.lib must be created before PHP-GTK extensions can be built
&gt;cl : Command line warning D9035 : option 'GX' has been deprecated and will be re
&gt;moved in a future release
&gt;cl : Command line warning D9036 : use 'EHsc' instead of 'GX'
&gt;php_gtk.c
&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\sys/stat.inl(44) :
&gt; error C2466: cannot allocate an array of constant size 0
&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\sys/stat.inl(49) :
&gt; error C2466: cannot allocate an array of constant size 0
&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\sys/utime.inl(39)
&gt;: error C2466: cannot allocate an array of constant size 0
&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\sys/utime.inl(44)
&gt;: error C2466: cannot allocate an array of constant size 0
&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\sys/utime.inl(49)
&gt;: error C2466: cannot allocate an array of constant size 0
&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\sys/utime.inl(78)
&gt;: error C2466: cannot allocate an array of constant size 0
&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\wtime.inl(37) : wa
&gt;rning C4133: 'function' : incompatible types - from 'const time_t *' to 'const _
&gt;_time32_t *'
&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\wtime.inl(43) : wa
&gt;rning C4133: 'function' : incompatible types - from 'const time_t *' to 'const _
&gt;_time32_t *'
&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(32) : war
&gt;ning C4244: 'function' : conversion from 'time_t' to '__time32_t', possible loss
&gt; of data
&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(32) : war
&gt;ning C4244: 'function' : conversion from 'time_t' to '__time32_t', possible loss
&gt; of data
&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(38) : war
&gt;ning C4133: 'function' : incompatible types - from 'const time_t *' to 'const __
&gt;time32_t *'
&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(44) : war
&gt;ning C4133: 'function' : incompatible types - from 'const time_t *' to 'const __
&gt;time32_t *'
&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(51) : war
&gt;ning C4133: 'function' : incompatible types - from 'const time_t *' to 'const __
&gt;time32_t *'
&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(57) : war
&gt;ning C4133: 'function' : incompatible types - from 'const time_t *' to 'const __
&gt;time32_t *'
&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(64) : war
&gt;ning C4133: 'function' : incompatible types - from 'const time_t *' to 'const __
&gt;time32_t *'
&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(69) : war
&gt;ning C4133: 'function' : incompatible types - from 'const time_t *' to 'const __
&gt;time32_t *'
&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(81) : war
&gt;ning C4133: 'function' : incompatible types - from 'time_t *' to '__time32_t *'
&gt;NMAKE : fatal error U1077: '"C:\Arquivos de programas\Microsoft Visual Studio 8\
&gt;VC\bin\cl.EXE"' : return code '0x2'
&gt;Stop.
&gt;
&gt;C:\DEV\php-gtk&gt;
&gt;
&gt;  
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060306120344</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-06 12:03:44-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] php-gtk Win32 compiling problem</subject><body>

It's your compiler.  I'll talk with Wez, I think he's on VS.NET 2005 too.

(Edin and myself both use MSVS 6.0 still, and that compiles PHP-GTK 2 
without so much as a warning.)

- Steph


----- Original Message ----- 
From: "Leonardo Dutra" &lt;leonardo@solutiva.com.br&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, March 06, 2006 7:10 AM
Subject: [PHP-GTK-DEV] php-gtk Win32 compiling problem


&gt; Hi,
&gt;
&gt; Excuse to post this again, but the previous was about generating files
&gt; on configure script, and aided by Steph I solved that problem.
&gt;
&gt; When I try to build system it happens:
&gt;
&gt; C:\DEV\php-gtk&gt;buildconf
&gt;
&gt; Rebuilding configure.js
&gt;
&gt; Checking ext/canvas             Not currently available for Windows 
&gt; systems
&gt; Checking ext/combobutton    Not currently available for Windows systems
&gt; Checking ext/extra               Not currently available for Windows 
&gt; systems
&gt; Checking ext/gdkpixbuf        Not currently available for Windows systems
&gt; Checking ext/gtk+               Available
&gt; Checking ext/gtkhtml           Not currently available for Windows systems
&gt; Checking ext/imlib               Not currently available for Windows 
&gt; systems
&gt; Checking ext/libglade           Available
&gt; Checking ext/piemenu          Not currently available for Windows systems
&gt; Checking ext/scintilla           Not currently available for Windows 
&gt; systems
&gt; Checking ext/scrollpane       Not currently available for Windows systems
&gt; Checking ext/skeleton         Not currently available for Windows systems
&gt; Checking ext/sourceview      Not currently available for Windows systems
&gt; Checking ext/spaned           Not currently available for Windows systems
&gt; Checking ext/sqpane           Not currently available for Windows systems
&gt;
&gt; Now run 'cscript /nologo configure.js --help'
&gt;
&gt; C:\DEV\php-gtk&gt;cscript /nologo configure.js --all
&gt;
&gt; Saving configure options to configure.bat
&gt;
&gt; Checking for cl.exe ...         &lt;in default path&gt;
&gt; Checking for mc.exe ...        c:\cygwin\bin
&gt; Checking for rc.exe ...         C:\Arquivos de programas\Microsoft Visual 
&gt; Studio 8\SDK\v2.0\Bin
&gt; Checking for link.exe ...       C:\Arquivos de programas\Microsoft Visual 
&gt; Studio 8\VC\bin
&gt; Checking for nmake.exe ...  &lt;in default path&gt;
&gt; Checking for lib.exe ...        &lt;in default path&gt;
&gt; Checking for php.exe ...      &lt;in default path&gt;
&gt;
&gt; Detected compiler version:  Microsoft VS.NET 2005
&gt;
&gt; Checking for main/php.h ...     &lt;in default path&gt;
&gt; Checking for php5ts.lib ...     &lt;in LIB path&gt; php5ts.lib
&gt; Checking for iconv.h ...        &lt;in default path&gt;
&gt; Checking for iconv.lib ... ..\win32build\lib\iconv.lib
&gt; Checking for libintl.h ...      &lt;in default path&gt;
&gt; Checking for intl.lib ...       &lt;in LIB path&gt; intl.lib
&gt; Checking for atk/atk.h ...      &lt;in default path&gt;
&gt; Checking for atk-1.0.lib ...    &lt;in LIB path&gt; atk-1.0.lib
&gt; Checking for glib.h ...         &lt;in default path&gt;
&gt; Checking for glib-2.0.lib ...   &lt;in LIB path&gt; glib-2.0.lib
&gt; Checking for gmodule.h ...      &lt;in default path&gt;
&gt; Checking for gmodule-2.0.lib ...        &lt;in LIB path&gt; gmodule-2.0.lib
&gt; Checking for glib/gthread.h ...         &lt;in default path&gt;
&gt; Checking for gthread-2.0.lib ...        &lt;in LIB path&gt; gthread-2.0.lib
&gt; Checking for glib-object.h ...  &lt;in default path&gt;
&gt; Checking for gobject-2.0.lib ...        &lt;in LIB path&gt; gobject-2.0.lib
&gt; Checking for pango/pango.h ...  &lt;in default path&gt;
&gt; Checking for pango-1.0.lib ...  &lt;in LIB path&gt; pango-1.0.lib
&gt; Checking for pango/pangowin32.h ...     &lt;in default path&gt;
&gt; Checking for pangowin32-1.0.lib ...     &lt;in LIB path&gt; pangowin32-1.0.lib
&gt; Checking for gdk-pixbuf/gdk-pixbuf.h ...        &lt;in default path&gt;
&gt; Checking for gdk_pixbuf-2.0.lib ...     &lt;in LIB path&gt; gdk_pixbuf-2.0.lib
&gt; Checking for gdk/gdk.h ...      &lt;in default path&gt;
&gt; Checking for gdk-win32-2.0.lib ...      &lt;in LIB path&gt; gdk-win32-2.0.lib
&gt; Checking for gtk/gtk.h ...      &lt;in default path&gt;
&gt; Checking for gtk-win32-2.0.lib ...      &lt;in LIB path&gt; gtk-win32-2.0.lib
&gt; Enabling extension ext\gtk+
&gt; Checking for glade\glade.h ...  &lt;in default path&gt;
&gt; Checking for glade-2.0.lib ...  &lt;in LIB path&gt; glade-2.0.lib
&gt; Enabling extension ext\libglade
&gt;
&gt; Creating build dirs...
&gt; Generating source files - this may take a few seconds
&gt; Waiting for source files to generate...
&gt; Waiting for source files to generate...
&gt; Waiting for source files to generate...
&gt; Waiting for source files to generate...
&gt; Waiting for source files to generate...
&gt; Waiting for source files to generate...
&gt; Generating Makefile
&gt; Done.
&gt; Type 'nmake' to build all targets, or 'nmake php-gtk' to build PHP-GTK 
&gt; alone
&gt; * Configured PHP-GTK extensions can be built individually at a later stage 
&gt; *
&gt;
&gt; C:\DEV\php-gtk&gt;nmake php-gtk
&gt;
&gt; Microsoft (R) Program Maintenance Utility Version 8.00.50727.42
&gt; Copyright (C) Microsoft Corporation.  All rights reserved.
&gt;
&gt; Note: php-gtk2.lib must be created before PHP-GTK extensions can be built
&gt; cl : Command line warning D9035 : option 'GX' has been deprecated and will 
&gt; be re
&gt; moved in a future release
&gt; cl : Command line warning D9036 : use 'EHsc' instead of 'GX'
&gt; php_gtk.c
&gt; C:\Arquivos de programas\Microsoft Visual Studio 
&gt; 8\VC\include\sys/stat.inl(44) :
&gt; error C2466: cannot allocate an array of constant size 0
&gt; C:\Arquivos de programas\Microsoft Visual Studio 
&gt; 8\VC\include\sys/stat.inl(49) :
&gt; error C2466: cannot allocate an array of constant size 0
&gt; C:\Arquivos de programas\Microsoft Visual Studio 
&gt; 8\VC\include\sys/utime.inl(39)
&gt; : error C2466: cannot allocate an array of constant size 0
&gt; C:\Arquivos de programas\Microsoft Visual Studio 
&gt; 8\VC\include\sys/utime.inl(44)
&gt; : error C2466: cannot allocate an array of constant size 0
&gt; C:\Arquivos de programas\Microsoft Visual Studio 
&gt; 8\VC\include\sys/utime.inl(49)
&gt; : error C2466: cannot allocate an array of constant size 0
&gt; C:\Arquivos de programas\Microsoft Visual Studio 
&gt; 8\VC\include\sys/utime.inl(78)
&gt; : error C2466: cannot allocate an array of constant size 0
&gt; C:\Arquivos de programas\Microsoft Visual Studio 
&gt; 8\VC\include\wtime.inl(37) : wa
&gt; rning C4133: 'function' : incompatible types - from 'const time_t *' to 
&gt; 'const _
&gt; _time32_t *'
&gt; C:\Arquivos de programas\Microsoft Visual Studio 
&gt; 8\VC\include\wtime.inl(43) : wa
&gt; rning C4133: 'function' : incompatible types - from 'const time_t *' to 
&gt; 'const _
&gt; _time32_t *'
&gt; C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(32) 
&gt; : war
&gt; ning C4244: 'function' : conversion from 'time_t' to '__time32_t', 
&gt; possible loss
&gt; of data
&gt; C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(32) 
&gt; : war
&gt; ning C4244: 'function' : conversion from 'time_t' to '__time32_t', 
&gt; possible loss
&gt; of data
&gt; C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(38) 
&gt; : war
&gt; ning C4133: 'function' : incompatible types - from 'const time_t *' to 
&gt; 'const __
&gt; time32_t *'
&gt; C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(44) 
&gt; : war
&gt; ning C4133: 'function' : incompatible types - from 'const time_t *' to 
&gt; 'const __
&gt; time32_t *'
&gt; C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(51) 
&gt; : war
&gt; ning C4133: 'function' : incompatible types - from 'const time_t *' to 
&gt; 'const __
&gt; time32_t *'
&gt; C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(57) 
&gt; : war
&gt; ning C4133: 'function' : incompatible types - from 'const time_t *' to 
&gt; 'const __
&gt; time32_t *'
&gt; C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(64) 
&gt; : war
&gt; ning C4133: 'function' : incompatible types - from 'const time_t *' to 
&gt; 'const __
&gt; time32_t *'
&gt; C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(69) 
&gt; : war
&gt; ning C4133: 'function' : incompatible types - from 'const time_t *' to 
&gt; 'const __
&gt; time32_t *'
&gt; C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(81) 
&gt; : war
&gt; ning C4133: 'function' : incompatible types - from 'time_t *' to 
&gt; '__time32_t *'
&gt; NMAKE : fatal error U1077: '"C:\Arquivos de programas\Microsoft Visual 
&gt; Studio 8\
&gt; VC\bin\cl.EXE"' : return code '0x2'
&gt; Stop.
&gt;
&gt; C:\DEV\php-gtk&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060306173233</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-06 17:32:33-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] php-gtk Win32 compiling problem</subject><body>

Thanks for this xxoes, it's very helpful - I only have MSVS 6.0 here, so I'm 
not able to 'see' any of this stuff.

I'll put changes into CVS so you don't have to do this manually, some time 
in the next day or two.

- Steph


----- Original Message ----- 
From: "xxoes" &lt;xxoes@nw7.de&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, March 06, 2006 9:59 AM
Subject: Re: [PHP-GTK-DEV] php-gtk Win32 compiling problem


&gt; VC7 it compiled fine.
&gt; VC8 i have added "/D _USE_32BIT_TIME_T=1" to the CFLAGS at the Makefile.
&gt; I have also removed /YX and replaced /GX with /EHsc.
&gt; Now he is compiling at my maschine, only a few warnings:
&gt;
&gt;        C:\php-dev\vc8\INCLUDE\string.h(205): See declaration of 'strdup'
&gt;        Message: "The POSIX name for this item is deprecated. Instead, use 
&gt; the I
&gt; SO C++ conformant name: _strdup. See online help for details."
&gt; main\phpg_support.c(336) : warning C4996: 'strdup' wurde als veraltet 
&gt; deklariert
&gt;
&gt;        C:\php-dev\vc8\INCLUDE\string.h(205): See declaration of 'strdup'
&gt;        Message: "The POSIX name for this item is deprecated. Instead, use 
&gt; the I
&gt; SO C++ conformant name: _strdup. See online help for details."
&gt;
&gt;
&gt;
&gt; mfg xxoes
&gt; (sorry for my english ;))
&gt;
&gt; Leonardo Dutra schrieb:
&gt;
&gt;&gt;Hi,
&gt;&gt;Excuse to post this again, but the previous was about generating files
&gt;&gt;on configure script, and aided by Steph I solved that problem.
&gt;&gt;
&gt;&gt;When I try to build system it happens:
&gt;&gt;
&gt;&gt;C:\DEV\php-gtk&gt;buildconf
&gt;&gt;
&gt;&gt;Rebuilding configure.js
&gt;&gt;
&gt;&gt;Checking ext/canvas             Not currently available for Windows 
&gt;&gt;systems
&gt;&gt;Checking ext/combobutton    Not currently available for Windows systems
&gt;&gt;Checking ext/extra               Not currently available for Windows 
&gt;&gt;systems
&gt;&gt;Checking ext/gdkpixbuf        Not currently available for Windows systems
&gt;&gt;Checking ext/gtk+               Available
&gt;&gt;Checking ext/gtkhtml           Not currently available for Windows systems
&gt;&gt;Checking ext/imlib               Not currently available for Windows 
&gt;&gt;systems
&gt;&gt;Checking ext/libglade           Available
&gt;&gt;Checking ext/piemenu          Not currently available for Windows systems
&gt;&gt;Checking ext/scintilla           Not currently available for Windows 
&gt;&gt;systems
&gt;&gt;Checking ext/scrollpane       Not currently available for Windows systems
&gt;&gt;Checking ext/skeleton         Not currently available for Windows systems
&gt;&gt;Checking ext/sourceview      Not currently available for Windows systems
&gt;&gt;Checking ext/spaned           Not currently available for Windows systems
&gt;&gt;Checking ext/sqpane           Not currently available for Windows systems
&gt;&gt;
&gt;&gt;Now run 'cscript /nologo configure.js --help'
&gt;&gt;
&gt;&gt;C:\DEV\php-gtk&gt;cscript /nologo configure.js --all
&gt;&gt;
&gt;&gt;Saving configure options to configure.bat
&gt;&gt;
&gt;&gt;Checking for cl.exe ...         &lt;in default path&gt;
&gt;&gt;Checking for mc.exe ...        c:\cygwin\bin
&gt;&gt;Checking for rc.exe ...         C:\Arquivos de programas\Microsoft Visual 
&gt;&gt;Studio 8\SDK\v2.0\Bin
&gt;&gt;Checking for link.exe ...       C:\Arquivos de programas\Microsoft Visual 
&gt;&gt;Studio 8\VC\bin
&gt;&gt;Checking for nmake.exe ...  &lt;in default path&gt;
&gt;&gt;Checking for lib.exe ...        &lt;in default path&gt;
&gt;&gt;Checking for php.exe ...      &lt;in default path&gt;
&gt;&gt;
&gt;&gt;Detected compiler version:  Microsoft VS.NET 2005
&gt;&gt;
&gt;&gt;Checking for main/php.h ...     &lt;in default path&gt;
&gt;&gt;Checking for php5ts.lib ...     &lt;in LIB path&gt; php5ts.lib
&gt;&gt;Checking for iconv.h ...        &lt;in default path&gt;
&gt;&gt;Checking for iconv.lib ... ..\win32build\lib\iconv.lib
&gt;&gt;Checking for libintl.h ...      &lt;in default path&gt;
&gt;&gt;Checking for intl.lib ...       &lt;in LIB path&gt; intl.lib
&gt;&gt;Checking for atk/atk.h ...      &lt;in default path&gt;
&gt;&gt;Checking for atk-1.0.lib ...    &lt;in LIB path&gt; atk-1.0.lib
&gt;&gt;Checking for glib.h ...         &lt;in default path&gt;
&gt;&gt;Checking for glib-2.0.lib ...   &lt;in LIB path&gt; glib-2.0.lib
&gt;&gt;Checking for gmodule.h ...      &lt;in default path&gt;
&gt;&gt;Checking for gmodule-2.0.lib ...        &lt;in LIB path&gt; gmodule-2.0.lib
&gt;&gt;Checking for glib/gthread.h ...         &lt;in default path&gt;
&gt;&gt;Checking for gthread-2.0.lib ...        &lt;in LIB path&gt; gthread-2.0.lib
&gt;&gt;Checking for glib-object.h ...  &lt;in default path&gt;
&gt;&gt;Checking for gobject-2.0.lib ...        &lt;in LIB path&gt; gobject-2.0.lib
&gt;&gt;Checking for pango/pango.h ...  &lt;in default path&gt;
&gt;&gt;Checking for pango-1.0.lib ...  &lt;in LIB path&gt; pango-1.0.lib
&gt;&gt;Checking for pango/pangowin32.h ...     &lt;in default path&gt;
&gt;&gt;Checking for pangowin32-1.0.lib ...     &lt;in LIB path&gt; pangowin32-1.0.lib
&gt;&gt;Checking for gdk-pixbuf/gdk-pixbuf.h ...        &lt;in default path&gt;
&gt;&gt;Checking for gdk_pixbuf-2.0.lib ...     &lt;in LIB path&gt; gdk_pixbuf-2.0.lib
&gt;&gt;Checking for gdk/gdk.h ...      &lt;in default path&gt;
&gt;&gt;Checking for gdk-win32-2.0.lib ...      &lt;in LIB path&gt; gdk-win32-2.0.lib
&gt;&gt;Checking for gtk/gtk.h ...      &lt;in default path&gt;
&gt;&gt;Checking for gtk-win32-2.0.lib ...      &lt;in LIB path&gt; gtk-win32-2.0.lib
&gt;&gt;Enabling extension ext\gtk+
&gt;&gt;Checking for glade\glade.h ...  &lt;in default path&gt;
&gt;&gt;Checking for glade-2.0.lib ...  &lt;in LIB path&gt; glade-2.0.lib
&gt;&gt;Enabling extension ext\libglade
&gt;&gt;
&gt;&gt;Creating build dirs...
&gt;&gt;Generating source files - this may take a few seconds
&gt;&gt;Waiting for source files to generate...
&gt;&gt;Waiting for source files to generate...
&gt;&gt;Waiting for source files to generate...
&gt;&gt;Waiting for source files to generate...
&gt;&gt;Waiting for source files to generate...
&gt;&gt;Waiting for source files to generate...
&gt;&gt;Generating Makefile
&gt;&gt;Done.
&gt;&gt;Type 'nmake' to build all targets, or 'nmake php-gtk' to build PHP-GTK 
&gt;&gt;alone
&gt;&gt;* Configured PHP-GTK extensions can be built individually at a later stage 
&gt;&gt;*
&gt;&gt;
&gt;&gt;C:\DEV\php-gtk&gt;nmake php-gtk
&gt;&gt;
&gt;&gt;Microsoft (R) Program Maintenance Utility Version 8.00.50727.42
&gt;&gt;Copyright (C) Microsoft Corporation.  All rights reserved.
&gt;&gt;
&gt;&gt;Note: php-gtk2.lib must be created before PHP-GTK extensions can be built
&gt;&gt;cl : Command line warning D9035 : option 'GX' has been deprecated and will 
&gt;&gt;be re
&gt;&gt;moved in a future release
&gt;&gt;cl : Command line warning D9036 : use 'EHsc' instead of 'GX'
&gt;&gt;php_gtk.c
&gt;&gt;C:\Arquivos de programas\Microsoft Visual Studio 
&gt;&gt;8\VC\include\sys/stat.inl(44) :
&gt;&gt; error C2466: cannot allocate an array of constant size 0
&gt;&gt;C:\Arquivos de programas\Microsoft Visual Studio 
&gt;&gt;8\VC\include\sys/stat.inl(49) :
&gt;&gt; error C2466: cannot allocate an array of constant size 0
&gt;&gt;C:\Arquivos de programas\Microsoft Visual Studio 
&gt;&gt;8\VC\include\sys/utime.inl(39)
&gt;&gt;: error C2466: cannot allocate an array of constant size 0
&gt;&gt;C:\Arquivos de programas\Microsoft Visual Studio 
&gt;&gt;8\VC\include\sys/utime.inl(44)
&gt;&gt;: error C2466: cannot allocate an array of constant size 0
&gt;&gt;C:\Arquivos de programas\Microsoft Visual Studio 
&gt;&gt;8\VC\include\sys/utime.inl(49)
&gt;&gt;: error C2466: cannot allocate an array of constant size 0
&gt;&gt;C:\Arquivos de programas\Microsoft Visual Studio 
&gt;&gt;8\VC\include\sys/utime.inl(78)
&gt;&gt;: error C2466: cannot allocate an array of constant size 0
&gt;&gt;C:\Arquivos de programas\Microsoft Visual Studio 
&gt;&gt;8\VC\include\wtime.inl(37) : wa
&gt;&gt;rning C4133: 'function' : incompatible types - from 'const time_t *' to 
&gt;&gt;'const _
&gt;&gt;_time32_t *'
&gt;&gt;C:\Arquivos de programas\Microsoft Visual Studio 
&gt;&gt;8\VC\include\wtime.inl(43) : wa
&gt;&gt;rning C4133: 'function' : incompatible types - from 'const time_t *' to 
&gt;&gt;'const _
&gt;&gt;_time32_t *'
&gt;&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(32) 
&gt;&gt;: war
&gt;&gt;ning C4244: 'function' : conversion from 'time_t' to '__time32_t', 
&gt;&gt;possible loss
&gt;&gt; of data
&gt;&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(32) 
&gt;&gt;: war
&gt;&gt;ning C4244: 'function' : conversion from 'time_t' to '__time32_t', 
&gt;&gt;possible loss
&gt;&gt; of data
&gt;&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(38) 
&gt;&gt;: war
&gt;&gt;ning C4133: 'function' : incompatible types - from 'const time_t *' to 
&gt;&gt;'const __
&gt;&gt;time32_t *'
&gt;&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(44) 
&gt;&gt;: war
&gt;&gt;ning C4133: 'function' : incompatible types - from 'const time_t *' to 
&gt;&gt;'const __
&gt;&gt;time32_t *'
&gt;&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(51) 
&gt;&gt;: war
&gt;&gt;ning C4133: 'function' : incompatible types - from 'const time_t *' to 
&gt;&gt;'const __
&gt;&gt;time32_t *'
&gt;&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(57) 
&gt;&gt;: war
&gt;&gt;ning C4133: 'function' : incompatible types - from 'const time_t *' to 
&gt;&gt;'const __
&gt;&gt;time32_t *'
&gt;&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(64) 
&gt;&gt;: war
&gt;&gt;ning C4133: 'function' : incompatible types - from 'const time_t *' to 
&gt;&gt;'const __
&gt;&gt;time32_t *'
&gt;&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(69) 
&gt;&gt;: war
&gt;&gt;ning C4133: 'function' : incompatible types - from 'const time_t *' to 
&gt;&gt;'const __
&gt;&gt;time32_t *'
&gt;&gt;C:\Arquivos de programas\Microsoft Visual Studio 8\VC\include\time.inl(81) 
&gt;&gt;: war
&gt;&gt;ning C4133: 'function' : incompatible types - from 'time_t *' to 
&gt;&gt;'__time32_t *'
&gt;&gt;NMAKE : fatal error U1077: '"C:\Arquivos de programas\Microsoft Visual 
&gt;&gt;Studio 8\
&gt;&gt;VC\bin\cl.EXE"' : return code '0x2'
&gt;&gt;Stop.
&gt;&gt;
&gt;&gt;C:\DEV\php-gtk&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060306194015</emailId><senderName>"Leonardo P. Dutra"</senderName><senderEmail>leonardo@solutiva.com.br</senderEmail><timestampReceived>2006-03-06 19:40:15-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] php-gtk Win32 compiling problem</subject><body>


Hi xxoes,

I do the changes on makefile and It's compile with no error..

Steph and  xxoes you are my heros.. lol I'm trying to do that during all
weekend  

thank you so much. ;-)



--
View this message in context: \
http://www.nabble.com/php-gtk-Win32-compiling-problem-t1231536.html#a3268178 Sent \
from the Php - GTK - Dev forum at Nabble.com.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>200603050631150</emailId><senderName>"Leonardo P. Dutra"</senderName><senderEmail>leonardo@solutiva.com.br</senderEmail><timestampReceived>2006-03-05 06:31:15-0400</timestampReceived><subject>[PHP-GTK-DEV] Compiling php-gtk2 HEAD on Win2k</subject><body>


Hi, 

I've tried to compile php-gtk2 from HEAD, but I dont know what happens.

Using Debian all is fine, working. 

My problem is on Win2k, (Where I'm slow)
First I'm compile a new php from 5.1.2 at now and no problems. 
After, when trying to build php-gtk from lastest cvs doing:  

buildconf 
cscript /nologo configure.js    

The script show me these messages:

Creating build dirs...
Generating source files - this may take a few seconds
Waiting for source files to generate...
Waiting for source files to generate...

And repeat this for many times, until CTRL+C him;
 
This is the first time that I try to compile 
something on Windows platform. I live in /home at linux.

what I'm doing wrong?

Infos about:

-gtk-win32-devel-2.8.10-rc1 ?
-PHP 5.1.2 &lt;cli&gt; fresh compiled
-Win2k SP4 
..NET Framework SDK
..SDK Platform
-Visual Studio 2005 

Thanks a lot
--
View this message in context: \
http://www.nabble.com/Compiling-php-gtk2-HEAD-on-Win2k-t1227461.html#a3246250 Sent \
from the Php - GTK - Dev forum at Nabble.com.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060305153113</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-05 15:31:13-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Compiling php-gtk2 HEAD on Win2k</subject><body>

Hi Leonardo,

If those messages never end, it's because your source files aren't being 
generated correctly for some reason. It's hard to know why that might be, 
but I'd be interested to know when you figure it out because obviously the 
build system needs to exit with a meaningful error if it 'knows' something's 
wrong before it reaches that point.  By 'generated files' I mean anything 
beginning with gen_* in ext/gtk+.

-win32-devel-2.8.10-rc1 ?

Where did you pick this up from exactly?

..NET Framework SDK
..SDK Platform
-Visual Studio 2005

I've no idea what relevance the .NET framework has here, if any. I'm just 
using VC++ 6.0, but if PHP builds under your setup then so should PHP-GTK.


- Steph


----- Original Message ----- 
From: "Leonardo P. Dutra" &lt;leonardo@solutiva.com.br&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Sunday, March 05, 2006 8:31 AM
Subject: [PHP-GTK-DEV] Compiling php-gtk2 HEAD on Win2k


&gt;
&gt; Hi,
&gt;
&gt; I've tried to compile php-gtk2 from HEAD, but I dont know what happens.
&gt;
&gt; Using Debian all is fine, working.
&gt;
&gt; My problem is on Win2k, (Where I'm slow)
&gt; First I'm compile a new php from 5.1.2 at now and no problems.
&gt; After, when trying to build php-gtk from lastest cvs doing:
&gt;
&gt; buildconf
&gt; cscript /nologo configure.js
&gt;
&gt; The script show me these messages:
&gt;
&gt; Creating build dirs...
&gt; Generating source files - this may take a few seconds
&gt; Waiting for source files to generate...
&gt; Waiting for source files to generate...
&gt;
&gt; And repeat this for many times, until CTRL+C him;
&gt;
&gt; This is the first time that I try to compile
&gt; something on Windows platform. I live in /home at linux.
&gt;
&gt; what I'm doing wrong?
&gt;
&gt; Infos about:
&gt;
&gt; -gtk-win32-devel-2.8.10-rc1 ?
&gt; -PHP 5.1.2 &lt;cli&gt; fresh compiled
&gt; -Win2k SP4
&gt; ..NET Framework SDK
&gt; ..SDK Platform
&gt; -Visual Studio 2005
&gt;
&gt; Thanks a lot
&gt; --
&gt; View this message in context: 
&gt; http://www.nabble.com/Compiling-php-gtk2-HEAD-on-Win2k-t1227461.html#a3246250
&gt; Sent from the Php - GTK - Dev forum at Nabble.com.
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060302135801</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-02 13:58:01-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkPixbufFormat struct</subject><body>


Scott,

&gt; If you return an array, you will have to define a bunch of constants for
&gt; the array keys in order to make everyone's life easier. You can't expect
&gt; everyone to just remember that the third element is the domain, but you

I spoke of an *associative* array.

&gt; If the GdkPixbuf::format_* methods are already implemented it might just
? Which methods?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060302140409</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-02 14:04:09-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkPixbufFormat struct</subject><body>


Scott,

&gt; If the GdkPixbuf::format_* methods are already implemented it might just
&gt; be easier to keep the current functionality. It would mean less
&gt; development and testing.

That methods are getter method for GdkPixbufFormat. So to use these, an
extra class would be needed.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060302140757</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-03-02 14:07:57-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkPixbufFormat struct</subject><body>

Christian Weiske wrote:
&gt; Scott,
&gt; 
&gt;&gt; If you return an array, you will have to define a bunch of constants for
&gt;&gt; the array keys in order to make everyone's life easier. You can't expect
&gt;&gt; everyone to just remember that the third element is the domain, but you
&gt; 
&gt; I spoke of an *associative* array.

Yes but I still think it is a good idea to use constants as the keys 
instead of strings or anything else. The constants can be anything you 
want although my guess is integers are faster.

&gt; 
&gt;&gt; If the GdkPixbuf::format_* methods are already implemented it might just
&gt; ? Which methods?
&gt; 

"That methods are getter method for GdkPixbufFormat. So to use these, an
extra class would be needed."

Yes, but they are GdkPixbuf methods and may already be implemented. I am 
not sure how much work will need to go into this, but you need to weigh 
the amount of time it will take to implement the array key constants 
(hopefully minimal) versus the amount of time it will take to implement 
a class. The class has no methods so it is basically a struct. I don't 
think that will be too hard either. Of course, I am not the one doing 
the work so I really don't know.

-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060301211530</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-01 21:15:30-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkPixbuf::save() override</subject><body>

I will review soon.

On Feb 28, 2006, at 11:04 PM, xxoes wrote:

&gt; I have write an overrid for GdkPixbuf::save()
&gt;
&gt; %%
&gt; override gdk_pixbuf_save
&gt; PHP_METHOD
&gt; {
&gt;    char *filename;
&gt;    char *type;
&gt;    char **option_keys   = NULL;
&gt;    char **option_values = NULL;
&gt;    GError *error = NULL;
&gt;
&gt;    int argc,i,options;
&gt;    zval ***args;
&gt;
&gt;    NOT_STATIC_METHOD();
&gt;
&gt;    argc    = ZEND_NUM_ARGS();
&gt;    options = (argc-2)/2;
&gt;    args    = (zval ***)emalloc(argc * sizeof(zval **));
&gt;
&gt;    if(argc &lt; 2 || zend_get_parameters_array_ex(argc,args)==FAILURE) {
&gt;        efree(args);
&gt;        WRONG_PARAM_COUNT;
&gt;    }
&gt;    else if(argc%2) {
&gt;        efree(args);
&gt;        php_error(E_WARNING, "%s::%s() requires arguments 3-n to be 
&gt; key/value pairs",
&gt;                    get_active_class_name(NULL TSRMLS_CC), 
&gt; get_active_function_name(TSRMLS_C));
&gt;        return;
&gt;    }
&gt;
&gt;    option_keys   = (char**)emalloc((options+1) * sizeof(char**));
&gt;    option_values = (char**)emalloc((options+1) * sizeof(char**));
&gt;
&gt;    for(i=0;i&lt;argc;i++) {
&gt;        if(Z_TYPE_PP(args[i]) != IS_STRING) {
&gt;            convert_to_string_ex(args[i]);
&gt;        }
&gt;
&gt;        if(i == 0) {
&gt;            filename = Z_STRVAL_PP(args[i]);
&gt;        }
&gt;        else if(i == 1) {
&gt;            type = Z_STRVAL_PP(args[i]);
&gt;        }
&gt;        else if(!(i%2)) {
&gt;            option_keys[(i-2)/2] = Z_STRVAL_PP(args[i]);
&gt;        }
&gt;        else {
&gt;            option_values[(i-2)/2] = Z_STRVAL_PP(args[i]);
&gt;        }
&gt;    }
&gt;    option_keys[(i-2)/2] = 0;
&gt;    option_values[(i-2)/2] = 0;
&gt;
&gt;    if(gdk_pixbuf_savev(GDK_PIXBUF(PHPG_GOBJECT(this_ptr)), filename, 
&gt; type, option_keys, option_values, &amp;error)) {
&gt;        efree(args);
&gt;        efree(option_keys);
&gt;        efree(option_values);
&gt;        RETURN_TRUE;
&gt;    }
&gt;    else {
&gt;        efree(args);
&gt;        efree(option_keys);
&gt;        efree(option_values);
&gt;        if(error) {
&gt;           php_error(E_WARNING, "%s::%s() error-&gt;code = %u, 
&gt; error-&gt;message = %s",
&gt;                        get_active_class_name(NULL TSRMLS_CC), 
&gt; get_active_function_name(TSRMLS_C), error-&gt;code,error-&gt;message);
&gt;        }
&gt;        else {
&gt;           php_error(E_WARNING, "%s::%s() Bad option name or wrong 
&gt; option value",
&gt;                        get_active_class_name(NULL TSRMLS_CC), 
&gt; get_active_function_name(TSRMLS_C));
&gt;        }
&gt;        RETURN_FALSE;
&gt;    }
&gt; }
&gt;
&gt;
&gt;
&gt; mfg xxoes
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060301211542</emailId><senderName>Pedro</senderName><senderEmail>ogame@phelios.org</senderEmail><timestampReceived>2006-03-01 21:15:42-0400</timestampReceived><subject>[PHP-GTK-DEV] FFi module...</subject><body>

Hello

All my efforts of loading the ffi_module are getting me to nowhere...
I've downloaded the latest snaps.
Somehow it is curious that php_ffi.dll does not show on PHP 5.1's PECL 
package....
This dll has 5.0.0 as its version number... Maybe would work with PHP 5.0?

I've emailed Mr. Furlong reporting this particular issue...

My main goal is to make my app take advantage of Multimedia Capalities 
of Windows ( play a wave or a mp3 ) and I should accompplish the ffi_module.

I'll try to google around if I can find an extension to work with sound 
and GTK

Thank you for all your help :)
Pedro

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060302144213</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-02 14:42:13-0400</timestampReceived><subject>[PHP-GTK-DEV] [Fwd: Implementation of GdkPixbuf::get_pixel() GdkPixbuf::put_pixel()</subject><body>


Hello all,


I think this methods would really help.

-------- Original Message --------
Subject: Implementation of GdkPixbuf::get_pixel() GdkPixbuf::put_pixel()
GdkPixbuf::fill_area()
Date: Thu, 02 Mar 2006 15:39:07 +0100
From: xxoes &lt;xxoes@nw7.de&gt;
To: cweiske@cweiske.de

Implementation of GdkPixbuf::get_pixel() GdkPixbuf::put_pixel()
GdkPixbuf::fill_area() ,
thera are no existing methodes like gdk_pixbuf_get_pixel or
gdk_pixbuf_fill_area,
but i think these are usefull,
GdkImage has already put_pixel/get_pixel.



(define-method get_pixel
 (of-object "GdkPixbuf")
 (c-name "gdk_pixbuf_get_pixel")
 (return-type "gint")
 (parameters
   '("int" "x_pos")
   '("int" "y_pos")
 )
)

(define-method put_pixel
 (of-object "GdkPixbuf")
 (c-name "gdk_pixbuf_put_pixel")
 (return-type "none")
 (parameters
   '("int" "x_pos")
   '("int" "y_pos")
   '("int" "pixel")
 )
)

(define-method fill_area
 (of-object "GdkPixbuf")
 (c-name "gdk_pixbuf_fill_area")
 (return-type "none")
 (parameters
   '("int" "x_pos")
   '("int" "y_pos")
   '("int" "width")
   '("int" "height")
   '("int" "pixel")
 )
)



%%
override gdk_pixbuf_save
PHP_METHOD
{
   char *filename;
   char *type;
   char **option_keys   = NULL;
   char **option_values = NULL;
   GError *error = NULL;

   int argc,i,options;
   zval ***args;

   NOT_STATIC_METHOD();

   argc    = ZEND_NUM_ARGS();
   options = (argc-2)/2;
   args    = (zval ***)emalloc(argc * sizeof(zval **));

   if(argc &lt; 2 || zend_get_parameters_array_ex(argc,args)==FAILURE) {
       efree(args);
       WRONG_PARAM_COUNT;
   }
   else if(argc%2) {
       efree(args);
       php_error(E_WARNING, "%s::%s() requires arguments 3-n to be
key/value pairs",
                   get_active_class_name(NULL TSRMLS_CC),
get_active_function_name(TSRMLS_C));
       return;
   }

   option_keys   = (char**)emalloc((options+1) * sizeof(char**));
   option_values = (char**)emalloc((options+1) * sizeof(char**));

   for(i=0;i&lt;argc;i++) {
       if(Z_TYPE_PP(args[i]) != IS_STRING) {
           convert_to_string_ex(args[i]);
       }

       if(i == 0) {
           filename = Z_STRVAL_PP(args[i]);
       }
       else if(i == 1) {
           type = Z_STRVAL_PP(args[i]);
       }
       else if(!(i%2)) {
           option_keys[(i-2)/2] = Z_STRVAL_PP(args[i]);
       }
       else {
           option_values[(i-2)/2] = Z_STRVAL_PP(args[i]);
       }
   }
   option_keys[(i-2)/2] = 0;
   option_values[(i-2)/2] = 0;

   if(gdk_pixbuf_savev(GDK_PIXBUF(PHPG_GOBJECT(this_ptr)), filename,
type, option_keys, option_values, &amp;error)) {
       efree(args);
       efree(option_keys);
       efree(option_values);
       RETURN_TRUE;
   }
   else {
       efree(args);
       efree(option_keys);
       efree(option_values);
       if(error) {
          php_error(E_WARNING, "%s::%s() error-&gt;code = %u,
error-&gt;message = %s",
                       get_active_class_name(NULL TSRMLS_CC),
get_active_function_name(TSRMLS_C), error-&gt;code,error-&gt;message);
       }
       else {
          php_error(E_WARNING, "%s::%s() Bad option name or wrong
option value",
                       get_active_class_name(NULL TSRMLS_CC),
get_active_function_name(TSRMLS_C));
       }
       RETURN_FALSE;
   }
}

%%
override gdk_pixbuf_get_pixel
PHP_METHOD
{
   gint x, y;
   long pixel;
   GdkPixbuf *pixbuf;

   guchar *pixels;
   guint r = 0, g = 0, b = 0, a = 0;
   gint w, h;
   int n_channels, rowstride;


   NOT_STATIC_METHOD();

   if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "ii", &amp;x, &amp;y))
       return;

   pixbuf = GDK_PIXBUF(PHPG_GOBJECT(this_ptr));

   if ((w = gdk_pixbuf_get_width(pixbuf)) == 0 || (h =
gdk_pixbuf_get_height(pixbuf)) == 0) {
       php_error(E_WARNING, "%s::%s() empty GdkPixbuf",
                   get_active_class_name(NULL TSRMLS_CC),
get_active_function_name(TSRMLS_C));
       return;
   }
   if(x &lt; 0 || y &lt; 0) {
       php_error(E_WARNING, "%s::%s() x_pos &lt; 0 || y_pos &lt; 0 out of range",
                   get_active_class_name(NULL TSRMLS_CC),
get_active_function_name(TSRMLS_C),x,w,y,h);
       return;
   }
   if(x &gt;= w || y &gt;= h) {
       php_error(E_WARNING, "%s::%s() x_pos &gt;= GdkPixbuf-&gt;width ||
y_pos &gt;= GdkPixbuf-&gt;height out of range",
                   get_active_class_name(NULL TSRMLS_CC),
get_active_function_name(TSRMLS_C),x,w,y,h);
       return;
   }

   pixels     = gdk_pixbuf_get_pixels(pixbuf);
   n_channels = gdk_pixbuf_get_n_channels(pixbuf);
   rowstride  = gdk_pixbuf_get_rowstride(pixbuf);

   pixels += rowstride*y;
   if(n_channels == 3) {
       pixels += 3*x;
       r = pixels[0];
       g = pixels[1];
       b = pixels[2];
   }
   else if(n_channels == 4) {
       pixels += 4*x;
       r = pixels[0];
       g = pixels[1];
       b = pixels[2];
       a = pixels[3];
   }
   pixel = 0;
   pixel += r &lt;&lt; 24;
   pixel += g &lt;&lt; 16;
   pixel += b &lt;&lt; 8;
   pixel += a;

   RETVAL_LONG(pixel);
}

%%
override gdk_pixbuf_put_pixel
PHP_METHOD
{
   gint x, y;
   long pixel;
   GdkPixbuf *pixbuf;

   guchar *pixels;
   guint r, g, b, a;
   gint w, h;
   int n_channels, rowstride;


   NOT_STATIC_METHOD();

   if(ZEND_NUM_ARGS() == 6) {
       if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "iiiiii", &amp;x, &amp;y, &amp;r,
&amp;g, &amp;b, &amp;a))
           return;
   }
   else {
       if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "iii", &amp;x, &amp;y, &amp;pixel))
           return;
   }

   pixbuf = GDK_PIXBUF(PHPG_GOBJECT(this_ptr));

   if ((w = gdk_pixbuf_get_width(pixbuf)) == 0 || (h =
gdk_pixbuf_get_height(pixbuf)) == 0) {
       php_error(E_WARNING, "%s::%s() empty GdkPixbuf",
                   get_active_class_name(NULL TSRMLS_CC),
get_active_function_name(TSRMLS_C));
       return;
   }
   if(x &lt; 0 || y &lt; 0) {
       php_error(E_WARNING, "%s::%s() x_pos &lt; 0 || y_pos &lt; 0 out of range",
                   get_active_class_name(NULL TSRMLS_CC),
get_active_function_name(TSRMLS_C),x,w,y,h);
       return;
   }
   if(x &gt;= w || y &gt;= h) {
       php_error(E_WARNING, "%s::%s() x_pos &gt;= GdkPixbuf-&gt;width ||
y_pos &gt;= GdkPixbuf-&gt;height out of range",
                   get_active_class_name(NULL TSRMLS_CC),
get_active_function_name(TSRMLS_C),x,w,y,h);
       return;
   }

   pixels     = gdk_pixbuf_get_pixels(pixbuf);
   n_channels = gdk_pixbuf_get_n_channels(pixbuf);
   rowstride  = gdk_pixbuf_get_rowstride(pixbuf);

   if(ZEND_NUM_ARGS() != 6) {
       r = (pixel &amp; 0xff000000) &gt;&gt; 24;
       g = (pixel &amp; 0x00ff0000) &gt;&gt; 16;
       b = (pixel &amp; 0x0000ff00) &gt;&gt; 8;
       a = (pixel &amp; 0x000000ff);
   }

   pixels += rowstride*y;
   if(n_channels == 3) {
       pixels += 3*x;
       pixels[0] = r;
       pixels[1] = g;
       pixels[2] = b;
   }
   else if(n_channels == 4) {
       pixels += 4*x;
       pixels[0] = r;
       pixels[1] = g;
       pixels[2] = b;
       pixels[3] = a;
   }
}

%%
override gdk_pixbuf_fill_area
PHP_METHOD
{
   gint x, y, width, height;
   long pixel;
   GdkPixbuf *pixbuf;

   guchar *pixels;
   guint r, g, b, a;
   guchar *p;
   gint w, h;
   gint ix;
   int n_channels, rowstride;


   NOT_STATIC_METHOD();

   if (ZEND_NUM_ARGS() == 8) {
       if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "iiiiiiii", &amp;x, &amp;y,
&amp;width, &amp;height, &amp;r, &amp;g, &amp;b, &amp;a))
           return;
   }
   else {
       if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "iiiii", &amp;x, &amp;y,
&amp;width, &amp;height, &amp;pixel))
           return;
   }

   pixbuf = GDK_PIXBUF(PHPG_GOBJECT(this_ptr));

   if(x &lt; 0) {
       width = width-x;
       x = 0;
   }
   if(y &lt; 0) {
       height = height-y;
       y = 0;
   }


   if ((w = gdk_pixbuf_get_width(pixbuf)) == 0 || (h =
gdk_pixbuf_get_height(pixbuf)) == 0) {
       php_error(E_WARNING, "%s::%s() empty GdkPixbuf",
                   get_active_class_name(NULL TSRMLS_CC),
get_active_function_name(TSRMLS_C));
       return;
   }
   if(width &lt; 0 || height &lt; 0) {
       php_error(E_WARNING, "%s::%s() width &lt; 0 || height &lt; 0 out of
range",
                   get_active_class_name(NULL TSRMLS_CC),
get_active_function_name(TSRMLS_C),x,w,y,h);
       return;
   }
   if(x &gt;= w || y &gt;= h) {
       php_error(E_WARNING, "%s::%s() x_pos &gt;= GdkPixbuf-&gt;width ||
y_pos &gt;= GdkPixbuf-&gt;height out of range",
                   get_active_class_name(NULL TSRMLS_CC),
get_active_function_name(TSRMLS_C),x,w,y,h);
       return;
   }

   pixels     = gdk_pixbuf_get_pixels(pixbuf);
   n_channels = gdk_pixbuf_get_n_channels(pixbuf);
   rowstride  = gdk_pixbuf_get_rowstride(pixbuf);

   if (ZEND_NUM_ARGS() != 8) {
       r = (pixel &amp; 0xff000000) &gt;&gt; 24;
       g = (pixel &amp; 0x00ff0000) &gt;&gt; 16;
       b = (pixel &amp; 0x0000ff00) &gt;&gt; 8;
       a = (pixel &amp; 0x000000ff);
   }

   if(x+width &lt; w)
       w = x+width;
   if(y+height &lt; h)
       h = y+height;

   pixels += rowstride*y;
   for(y=y;y&lt;h;y++) {
       p = pixels;
       if(n_channels == 3) {
           p += 3*x;
           for(ix=x;ix&lt;w;ix++) {
               p[0] = r;
               p[1] = g;
               p[2] = b;
               p += 3;
           }
       }
       else if(n_channels == 4) {
           p += 4*x;
           for(ix=x;ix&lt;w;ix++) {
               p[0] = r;
               p[1] = g;
               p[2] = b;
               p[3] = a;
               p += 4;
           }
       }
       pixels += rowstride;
   }
}


mfg xxoes


-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060302172019</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-02 17:20:19-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkPixbufFormat struct</subject><body>

I don't think we need a separate object for this. Just an associative 
array. $info['domain'] and so on.

-Andrei

On Mar 2, 2006, at 5:49 AM, Scott Mattocks wrote:

&gt; Christian Weiske wrote:
&gt;&gt; Hello all, Andrei,
&gt;&gt; xxoes is about to implement
&gt;&gt;&gt; GdkPixbuf::pixbuf_get_file_info($filename,&amp;$width,&amp;$height);
&gt;&gt; it returns a GdkPixbufFormat.
&gt;&gt; He thought it would be the most easy thing to return an associative
&gt;&gt; array with all the values, and additional to the struct keys, return
&gt;&gt; width and height in the same array.
&gt;&gt; Is that ok? Would it be better to make an own class for 
&gt;&gt; GdkPixbufFormat?
&gt;
&gt; If you return an array, you will have to define a bunch of constants 
&gt; for the array keys in order to make everyone's life easier. You can't 
&gt; expect everyone to just remember that the third element is the domain, 
&gt; but you can expect them to remember they can get the domain with 
&gt; $pixbufFormat[Gdk::PIXBUF_FORMAT_DOMAIN].
&gt;
&gt; If the GdkPixbuf::format_* methods are already implemented it might 
&gt; just be easier to keep the current functionality. It would mean less 
&gt; development and testing.
&gt;
&gt; -- 
&gt; Scott Mattocks
&gt; http://www.crisscott.com
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060303075037</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-03-03 07:50:37-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] overrid for GtkCalendar::get_date()</subject><body>

Sorry i mean GtkCalendar::get_date()  not GdkPixbuf::save()

xxoes schrieb:

&gt; I have write an overrid for GtkCalendar::get_date()
&gt;
&gt; %%
&gt; override gtk_calendar_get_date
&gt; PHP_METHOD
&gt; {
&gt;    guint year;
&gt;    guint month;
&gt;    guint day;
&gt;    zval *zyear;
&gt;    zval *zmonth;
&gt;    zval *zday;
&gt;
&gt;
&gt;    NOT_STATIC_METHOD();
&gt;
&gt;    
&gt; gtk_calendar_get_date(GTK_CALENDAR(PHPG_GOBJECT(this_ptr)),&amp;year,&amp;month,&amp;day); 
&gt;
&gt;
&gt;    if (ZEND_NUM_ARGS() == 3) {
&gt;        if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "zzz", 
&gt; &amp;zyear, &amp;zmonth, &amp;zday) == FAILURE) {
&gt;            return;
&gt;        }
&gt;        zval_add_ref(&amp;zyear);
&gt;        zval_add_ref(&amp;zmonth);
&gt;        zval_add_ref(&amp;zday);
&gt;        ZVAL_LONG(zyear, year);
&gt;        ZVAL_LONG(zmonth, month);
&gt;        ZVAL_LONG(zday, day);
&gt;    }
&gt;    else {
&gt;        if(!php_gtk_parse_args(ZEND_NUM_ARGS(), "")) {
&gt;            return;
&gt;        }
&gt;    }
&gt;    array_init(return_value);
&gt;
&gt;    add_next_index_long(return_value, year);
&gt;    add_next_index_long(return_value, month);
&gt;    add_next_index_long(return_value, day);
&gt; }
&gt;
&gt;
&gt; mfg xxoes
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060303080834</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-03-03 08:08:34-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] override for GtkCalendar::get_date()</subject><body>

Sorry.

%%
override gtk_calendar_get_date
PHP_METHOD
{
  guint year;
  guint month;
  guint day;

  NOT_STATIC_METHOD();

  if(!php_gtk_parse_args(ZEND_NUM_ARGS(), "")) {
      return;
  }
  
gtk_calendar_get_date(GTK_CALENDAR(PHPG_GOBJECT(this_ptr)),&amp;year,&amp;month,&amp;day); 


  array_init(return_value);
  add_next_index_long(return_value, year);
  add_next_index_long(return_value, month);
  add_next_index_long(return_value, day);
}

xxoes schrieb:

&gt; I have heard that there is no php-gtk2 method with references so i 
&gt; have removed them.
&gt;
&gt; %%
&gt; override gtk_calendar_get_date
&gt; PHP_METHOD
&gt; {
&gt;   guint year;
&gt;   guint month;
&gt;   guint day;
&gt;   zval *zyear;
&gt;   zval *zmonth;
&gt;   zval *zday;
&gt;
&gt;   NOT_STATIC_METHOD();
&gt;
&gt;   if(!php_gtk_parse_args(ZEND_NUM_ARGS(), "")) {
&gt;       return;
&gt;   }
&gt;   
&gt; gtk_calendar_get_date(GTK_CALENDAR(PHPG_GOBJECT(this_ptr)),&amp;year,&amp;month,&amp;day); 
&gt;
&gt;
&gt;   array_init(return_value);
&gt;   add_next_index_long(return_value, year);
&gt;   add_next_index_long(return_value, month);
&gt;   add_next_index_long(return_value, day);
&gt; }
&gt;
&gt;&gt; Sorry i mean GtkCalendar::get_date()  not GdkPixbuf::save()
&gt;&gt;
&gt;&gt; xxoes schrieb:
&gt;&gt;
&gt;&gt;&gt; I have written an override for GtkCalendar::get_date()
&gt;&gt;&gt;
&gt;&gt;&gt; %%
&gt;&gt;&gt; override gtk_calendar_get_date
&gt;&gt;&gt; PHP_METHOD
&gt;&gt;&gt; {
&gt;&gt;&gt;    guint year;
&gt;&gt;&gt;    guint month;
&gt;&gt;&gt;    guint day;
&gt;&gt;&gt;    zval *zyear;
&gt;&gt;&gt;    zval *zmonth;
&gt;&gt;&gt;    zval *zday;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;    NOT_STATIC_METHOD();
&gt;&gt;&gt;
&gt;&gt;&gt;    
&gt;&gt;&gt; gtk_calendar_get_date(GTK_CALENDAR(PHPG_GOBJECT(this_ptr)),&amp;year,&amp;month,&amp;day); 
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;    if (ZEND_NUM_ARGS() == 3) {
&gt;&gt;&gt;        if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "zzz", 
&gt;&gt;&gt; &amp;zyear, &amp;zmonth, &amp;zday) == FAILURE) {
&gt;&gt;&gt;            return;
&gt;&gt;&gt;        }
&gt;&gt;&gt;        zval_add_ref(&amp;zyear);
&gt;&gt;&gt;        zval_add_ref(&amp;zmonth);
&gt;&gt;&gt;        zval_add_ref(&amp;zday);
&gt;&gt;&gt;        ZVAL_LONG(zyear, year);
&gt;&gt;&gt;        ZVAL_LONG(zmonth, month);
&gt;&gt;&gt;        ZVAL_LONG(zday, day);
&gt;&gt;&gt;    }
&gt;&gt;&gt;    else {
&gt;&gt;&gt;        if(!php_gtk_parse_args(ZEND_NUM_ARGS(), "")) {
&gt;&gt;&gt;            return;
&gt;&gt;&gt;        }
&gt;&gt;&gt;    }
&gt;&gt;&gt;    array_init(return_value);
&gt;&gt;&gt;
&gt;&gt;&gt;    add_next_index_long(return_value, year);
&gt;&gt;&gt;    add_next_index_long(return_value, month);
&gt;&gt;&gt;    add_next_index_long(return_value, day);
&gt;&gt;&gt; }
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; mfg xxoes
&gt;&gt;&gt;
&gt;&gt;
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060304000038</emailId><senderName>"Diego"</senderName><senderEmail>dnfeitosa@gmail.com</senderEmail><timestampReceived>2006-03-04 00:00:38-0400</timestampReceived><subject>[PHP-GTK-DEV] Problem compiling</subject><body>

        Hi all...

        In the buildconf process I get the following message:

    appserver:/common/src/php-gtk2#
./buildconf --with-phpize=/usr/bin/phpize5.1
    Configuring for:
    PHP Api Version:         20041225
    Zend Module Api No:      20050922
    Zend Extension Api No:   220051025
    rebuilding aclocal.m4
    make[1]: Warning: File `ext/scintilla/config.m4' has modification time
2.3e+05 s in the future
    rebuilding configure

        And when I try to compile under debian I get the following error:

/bin/bash /common/src/php-gtk2/libtool --mode=compile
gcc  -Iext/gtk+/ -I/common/src/php-gtk2/ext/gtk+/ -DPHP_ATOM_INC -I/common/s
rc/php-gtk2/include -I/common/src/php-gtk2/main -I/common/src/php-gtk2 -I/us
r/include/php5.1 -I/usr/include/php5.1/main -I/usr/include/php5.1/TSRM -I/us
r/include/php5.1/Zend -I/usr/include/php5.1/ext -I/usr/include/glib-2.0 -I/u
sr/lib/glib-2.0/include -I/usr/include/gtk-2.0 -I/usr/lib/gtk-2.0/include -I
/usr/include/atk-1.0 -I/usr/include/cairo -I/usr/include/pango-1.0 -I/usr/lo
cal/include/libglade-2.0 -I/usr/include/libxml2  -DHAVE_CONFIG_H  -g -O2   -
c ext/gtk+/gen_gdk.c -o ext/gtk+/gen_gdk.lo

gcc -Iext/gtk+/ -I/common/src/php-gtk2/ext/gtk+/ -DPHP_ATOM_INC -I/common/sr
c/php-gtk2/include -I/common/src/php-gtk2/main -I/common/src/php-gtk2 -I/usr
/include/php5.1 -I/usr/include/php5.1/main -I/usr/include/php5.1/TSRM -I/usr
/include/php5.1/Zend -I/usr/include/php5.1/ext -I/usr/include/glib-2.0 -I/us
r/lib/glib-2.0/include -I/usr/include/gtk-2.0 -I/usr/lib/gtk-2.0/include -I/
usr/include/atk-1.0 -I/usr/include/cairo -I/usr/include/pango-1.0 -I/usr/loc
al/include/libglade-2.0 -I/usr/include/libxml2 -DHAVE_CONFIG_H -g -O2 -c
ext/gtk+/gen_gdk.c  -fPIC -DPIC -o ext/gtk+/.libs/gen_gdk.o
ext/gtk+/gen_gdk.c: In function 'zif_GdkDrawable_draw_gray_image':
ext/gtk+/gen_gdk.c:3124: warning: pointer targets in passing argument 8 of
'gdk_draw_gray_image' differ in signedness
ext/gtk+/gen_gdk.c: In function 'zif_GdkDrawable_draw_rgb_32_image':
ext/gtk+/gen_gdk.c:3249: warning: pointer targets in passing argument 8 of
'gdk_draw_rgb_32_image' differ in signedness
ext/gtk+/gen_gdk.c: In function 'zif_GdkDrawable_draw_rgb_image':
ext/gtk+/gen_gdk.c:3272: warning: pointer targets in passing argument 8 of
'gdk_draw_rgb_image' differ in signedness
ext/gtk+/gen_gdk.c: In function 'zif_GdkDrawable_draw_rgb_image_dithalign':
ext/gtk+/gen_gdk.c:3295: warning: pointer targets in passing argument 8 of
'gdk_draw_rgb_image_dithalign' differ in signedness
ext/gtk+/gen_gdk.c: In function 'zif_GdkWindow_property_change':
ext/gtk+/gen_gdk.c:3788: warning: pointer targets in passing argument 6 of
'gdk_property_change' differ in signedness
ext/gtk+/gen_gdk.c: In function 'zif_GdkPixbuf_new_from_inline':
ext/gtk+/gen_gdk.c:6157: warning: pointer targets in passing argument 2 of
'gdk_pixbuf_new_from_inline' differ in signedness
ext/gtk+/gen_gdk.c: In function 'zif_GdkPixbuf_get_pixels':
ext/gtk+/gen_gdk.c:6448: warning: pointer targets in assignment differ in
signedness
ext/gtk+/gen_gdk.c: In function 'zif_GdkDrawable_set_colormap':
ext/gtk+/gen_gdk.c:3479: internal compiler error: in var_ann, at
tree-flow-inline.h:35
Please submit a full bug report,
with preprocessed source if appropriate.
See &lt;URL:http://gcc.gnu.org/bugs.html&gt; for instructions.
For Debian GNU/Linux specific bug reporting instructions,
see &lt;URL:file:///usr/share/doc/gcc-4.0/README.Bugs&gt;.
make: *** [ext/gtk+/gen_gdk.lo] Error 1


        My clock is properly configured...


        Thanks!!


-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060304204627</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-04 20:46:27-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] override for GtkFileSelection::get_selections()</subject><body>

Hi,

I committed the patch, although it had to be modified heavily. Check  
the CVS commits list if you want.

-Andrei


On Mar 3, 2006, at 5:35 AM, xxoes wrote:

&gt; %%
&gt; override gtk_file_selection_get_selections
&gt; PHP_METHOD
&gt; {
&gt;  gchar **selections;
&gt;  gchar *cp_ret;
&gt;  gsize cp_len;
&gt;  zend_bool free_result;
&gt;  int i = 0;
&gt;
&gt;  NOT_STATIC_METHOD();
&gt;
&gt;  if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
&gt;      return;
&gt;
&gt;  array_init(return_value);
&gt;  selections = gtk_file_selection_get_selections(GTK_FILE_SELECTION 
&gt; (PHPG_GOBJECT(this_ptr)));
&gt;
&gt;  if (selections) {
&gt;      while(selections[i] &amp;&amp; selections[i][0]) {
&gt;          cp_ret = phpg_from_utf8(selections[i], strlen(selections 
&gt; [i]), &amp;cp_len, &amp;free_result TSRMLS_CC);
&gt;
&gt;          if (cp_ret) {
&gt;              add_next_index_string(return_value, cp_ret, cp_len);
&gt;          } else {
&gt;              php_error(E_WARNING, "%s::%s(): could not convert  
&gt; return value from UTF-8", get_active_class_name(NULL TSRMLS_CC),  
&gt; get_active_function_name(TSRMLS_C));
&gt;          }
&gt;          if (free_result) {
&gt;              g_free(cp_ret);
&gt;          }
&gt;          i++;
&gt;      }
&gt;      g_strfreev(selections);
&gt;  } else {
&gt;      RETVAL_NULL();
&gt;  }
&gt; }

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060304205119</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-04 20:51:19-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkWidget::get_sensitive()?</subject><body>

Because it's not part of GtkWidget API? You have to use flags()  
method to check for sensitivity.

-Andrei


On Mar 1, 2006, at 1:12 PM, Christian Weiske wrote:

&gt; Hello all,
&gt;
&gt;
&gt; is there a reason why there is no GtkWidget::get_sensitive() method?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060304210301</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-04 21:03:01-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkTreeView get_cursor patch</subject><body>

Should be fixed now.. But why are you resetting the model in between  
calls??

-Andrei


On Feb 28, 2006, at 12:45 PM, Adam Lebsack wrote:

&gt; Andrei,
&gt;
&gt; Upon further inspection, it looks like it may be partially the  
&gt; fault of my PHP code, I just want to check.
&gt;
&gt; Basically, between get_cursor calls, I'm calling $treeview- 
&gt; &gt;set_model(&amp;new GtkListStore(Gtk::TYPE_STRING));
&gt;
&gt; Looks like that clears out any cursor selection on the treeview,  
&gt; and get_cursor returns a NULL path.  Next time it's called like  
&gt; that, it segfaults, so it seems the set_model doesn't set any  
&gt; keyboard focus information on the treeview.
&gt;
&gt; Adam
&gt;
&gt; On Feb 27, 2006, at 8:24 PM, Andrei Zmievski wrote:
&gt;
&gt;&gt; Can you please provide a small script reproducing the problem? I  
&gt;&gt; tried calling the function several times and it works.
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; On Feb 27, 2006, at 8:13 AM, Adam Lebsack wrote:
&gt;&gt;
&gt;&gt;&gt; Andrei,
&gt;&gt;&gt;
&gt;&gt;&gt; That function is casing a segfault now....  After calling it a  
&gt;&gt;&gt; couple times, it just crashes the program.  My version didn't do  
&gt;&gt;&gt; this, and I struggled to figure out why, but couldn't.  That's  
&gt;&gt;&gt; probably why my code was a bit ugly.  :)
&gt;&gt;&gt;
&gt;&gt;&gt; Got any ideas?
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks,
&gt;&gt;&gt; Adam
&gt;&gt;&gt;
&gt;&gt;&gt; On Feb 23, 2006, at 10:00 PM, Andrei Zmievski wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Applied, with some modifications.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; On Feb 14, 2006, at 8:57 AM, Adam Lebsack wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Hey guys,
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; 've been doing some development with php-gtk2 and I needed a  
&gt;&gt;&gt;&gt;&gt; function implemented, so I uhhh...  implemented it.  It's  
&gt;&gt;&gt;&gt;&gt; GtkTreeView::get_cursor.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; I've included the patch.  Could we get this override into the  
&gt;&gt;&gt;&gt;&gt; CVS tree?  Thanks!
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Adam Lebsack
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; --- php-gtk/ext/gtk+/gtktreeview.overrides	2006-02-13  
&gt;&gt;&gt;&gt;&gt; 20:09:54.000000000 -0700
&gt;&gt;&gt;&gt;&gt; +++ php-gtk.patched/ext/gtk+/gtktreeview.overrides	2006-02-10  
&gt;&gt;&gt;&gt;&gt; 16:39:30.000000000 -0700
&gt;&gt;&gt;&gt;&gt; @@ -1020,6 +1020,32 @@
&gt;&gt;&gt;&gt;&gt; }
&gt;&gt;&gt;&gt;&gt; %%
&gt;&gt;&gt;&gt;&gt; +override gtk_tree_view_get_cursor
&gt;&gt;&gt;&gt;&gt; +PHP_METHOD
&gt;&gt;&gt;&gt;&gt; +{
&gt;&gt;&gt;&gt;&gt; +        GtkTreePath *path = NULL;
&gt;&gt;&gt;&gt;&gt; +        GtkTreeViewColumn *column = NULL;
&gt;&gt;&gt;&gt;&gt; +        zval *php_path = NULL, *php_column = NULL;
&gt;&gt;&gt;&gt;&gt; +
&gt;&gt;&gt;&gt;&gt; +        NOT_STATIC_METHOD();
&gt;&gt;&gt;&gt;&gt; +        gtk_tree_view_get_cursor(GTK_TREE_VIEW(PHPG_GOBJECT 
&gt;&gt;&gt;&gt;&gt; (this_ptr)), &amp;path, &amp;column);
&gt;&gt;&gt;&gt;&gt; +
&gt;&gt;&gt;&gt;&gt; +        array_init(return_value);
&gt;&gt;&gt;&gt;&gt; +        if (path) {
&gt;&gt;&gt;&gt;&gt; +                phpg_tree_path_to_zval(path, &amp;php_path  
&gt;&gt;&gt;&gt;&gt; TSRMLS_CC);
&gt;&gt;&gt;&gt;&gt; +                phpg_gobject_new(&amp;php_column, (GObject*)column  
&gt;&gt;&gt;&gt;&gt; TSRMLS_CC);
&gt;&gt;&gt;&gt;&gt; +
&gt;&gt;&gt;&gt;&gt; +                array_init(return_value);
&gt;&gt;&gt;&gt;&gt; +                add_next_index_zval(return_value, php_path);
&gt;&gt;&gt;&gt;&gt; +                add_next_index_zval(return_value, php_column);
&gt;&gt;&gt;&gt;&gt; +        } else {
&gt;&gt;&gt;&gt;&gt; +                RETURN_FALSE;
&gt;&gt;&gt;&gt;&gt; +                //MAKE_STD_ZVAL(php_path);
&gt;&gt;&gt;&gt;&gt; +                //MAKE_STD_ZVAL(php_column);
&gt;&gt;&gt;&gt;&gt; +        }
&gt;&gt;&gt;&gt;&gt; +}
&gt;&gt;&gt;&gt;&gt; +
&gt;&gt;&gt;&gt;&gt; +%%
&gt;&gt;&gt;&gt;&gt; add-arginfo GtkTreeView get_path_at_pos
&gt;&gt;&gt;&gt;&gt; static
&gt;&gt;&gt;&gt;&gt; ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060305191544</emailId><senderName>Leonardo Dutra</senderName><senderEmail>leonardo@solutiva.com.br</senderEmail><timestampReceived>2006-03-05 19:15:44-0400</timestampReceived><subject>Re: Fw: [PHP-GTK-DEV] Compiling php-gtk2 HEAD on Win2k</subject><body>

Hi Steph, 

It working now...

I missing to SET PATH to c:\cygwin\bin and grep and sed couldn't be found there.

Thank for you help and attention.

Leonardo
 

Em Dom, 2006-03-05 s 20:33 +0200, Steph Fox escreveu:
&gt; If you're using cygwin I'm amazed you even got that far?
&gt; 
&gt; ----- Original Message ----- 
&gt; From: "Leonardo Dutra" &lt;leonardo@solutiva.com.br&gt;
&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt; Sent: Sunday, March 05, 2006 8:27 PM
&gt; Subject: Re: Fw: [PHP-GTK-DEV] Compiling php-gtk2 HEAD on Win2k
&gt; 
&gt; 
&gt; &gt; I'm using cygwin..
&gt; &gt; Well, I will check it.
&gt; &gt;
&gt; &gt; Em Dom, 2006-03-05 s 20:23 +0200, Steph Fox escreveu:
&gt; &gt;&gt; I'm going to take a wild guess that you don't have either grep or sed on
&gt; &gt;&gt; your system.
&gt; &gt;&gt;
&gt; &gt;&gt; http://unxutils.sourceforge.net/
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; ----- Original Message ----- 
&gt; &gt;&gt; From: "Leonardo Dutra" &lt;leonardo@solutiva.com.br&gt;
&gt; &gt;&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt; &gt;&gt; Sent: Sunday, March 05, 2006 8:17 PM
&gt; &gt;&gt; Subject: Re: Fw: [PHP-GTK-DEV] Compiling php-gtk2 HEAD on Win2k
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; &gt; ok, sory.
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; Em Dom, 2006-03-05 s 20:15 +0200, Steph Fox escreveu:
&gt; &gt;&gt; &gt;&gt; Hm, apparently MS doesn't like people mailing .bat files. Can you 
&gt; &gt;&gt; &gt;&gt; rename
&gt; &gt;&gt; &gt;&gt; that to .txt and try again? :-\
&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; ----- Original Message ----- 
&gt; &gt;&gt; &gt;&gt; From: "Steph Fox" &lt;steph@zend.com&gt;
&gt; &gt;&gt; &gt;&gt; To: "Leonardo Dutra" &lt;leonardo@solutiva.com.br&gt;
&gt; &gt;&gt; &gt;&gt; Sent: Sunday, March 05, 2006 8:01 PM
&gt; &gt;&gt; &gt;&gt; Subject: Re: [PHP-GTK-DEV] Compiling php-gtk2 HEAD on Win2k
&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt; These look OK. Can I have a copy of your win32\temp.bat?
&gt; &gt;&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt; ----- Original Message ----- 
&gt; &gt;&gt; &gt;&gt; &gt; From: "Leonardo Dutra" &lt;leonardo@solutiva.com.br&gt;
&gt; &gt;&gt; &gt;&gt; &gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt; &gt;&gt; &gt;&gt; &gt; Sent: Sunday, March 05, 2006 7:54 PM
&gt; &gt;&gt; &gt;&gt; &gt; Subject: Re: [PHP-GTK-DEV] Compiling php-gtk2 HEAD on Win2k
&gt; &gt;&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt; Sure, thanks again
&gt; &gt;&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt; I mean that .h (headers) failed. 4+4, I see him on my linux now.
&gt; &gt;&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt; Em Dom, 2006-03-05 s 19:38 +0200, Steph Fox escreveu:
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; Hi Leonardo,
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; There should be 8 gen_* files. Can you please mail me the four you
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; have
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; there so I can check they're sane?
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; - Steph
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Hi Steph,
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Thanks for your reply.
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; this Gtk package I found at:
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; http://gladewin32.sourceforge.net/modules/news/
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; I probably do this for winglade instalation. Can it figure the
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; problem?
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; In my ext/gtk+ are these gen_files
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; gen_atk.c
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; gen_gdk.c
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; gen_gtk.c
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; gen_pango.c
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Any other log file can help us?
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; I have no error message, so weird
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; Em Dom, 2006-03-05 s 17:31 +0200, Steph Fox escreveu:
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; Hi Leonardo,
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; If those messages never end, it's because your source files 
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; aren't
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; being
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; generated correctly for some reason. It's hard to know why that
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; might
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; be,
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; but I'd be interested to know when you figure it out because
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; obviously
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; the
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; build system needs to exit with a meaningful error if it 
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; 'knows'
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; something's
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; wrong before it reaches that point.  By 'generated files' I 
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; mean
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; anything
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; beginning with gen_* in ext/gtk+.
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; -win32-devel-2.8.10-rc1 ?
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; Where did you pick this up from exactly?
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; ..NET Framework SDK
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; ..SDK Platform
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; -Visual Studio 2005
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; I've no idea what relevance the .NET framework has here, if 
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; any.
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; I'm
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; just
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; using VC++ 6.0, but if PHP builds under your setup then so 
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; should
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; PHP-GTK.
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; - Steph
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; ----- Original Message ----- 
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; From: "Leonardo P. Dutra" &lt;leonardo@solutiva.com.br&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; To: &lt;php-gtk-dev@lists.php.net&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; Sent: Sunday, March 05, 2006 8:31 AM
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; Subject: [PHP-GTK-DEV] Compiling php-gtk2 HEAD on Win2k
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; Hi,
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; I've tried to compile php-gtk2 from HEAD, but I dont know 
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; what
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; happens.
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; Using Debian all is fine, working.
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; My problem is on Win2k, (Where I'm slow)
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; First I'm compile a new php from 5.1.2 at now and no 
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; problems.
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; After, when trying to build php-gtk from lastest cvs doing:
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; buildconf
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; cscript /nologo configure.js
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; The script show me these messages:
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; Creating build dirs...
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; Generating source files - this may take a few seconds
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; Waiting for source files to generate...
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; Waiting for source files to generate...
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; And repeat this for many times, until CTRL+C him;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; This is the first time that I try to compile
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; something on Windows platform. I live in /home at linux.
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; what I'm doing wrong?
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; Infos about:
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; -gtk-win32-devel-2.8.10-rc1 ?
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; -PHP 5.1.2 &lt;cli&gt; fresh compiled
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; -Win2k SP4
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; ..NET Framework SDK
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; ..SDK Platform
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; -Visual Studio 2005
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; Thanks a lot
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; --
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; View this message in context:
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; http://www.nabble.com/Compiling-php-gtk2-HEAD-on-Win2k-t1227461.html#a3246250
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; Sent from the Php - GTK - Dev forum at Nabble.com.
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; -- 
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; This message was checked by NOD32 antivirus system.
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt; http://www.eset.com
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; This message was checked by NOD32 antivirus system.
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt; http://www.eset.com
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; &gt;&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt; This message was checked by NOD32 antivirus system.
&gt; &gt;&gt; &gt;&gt; &gt;&gt; http://www.eset.com
&gt; &gt;&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; This message was checked by NOD32 antivirus system.
&gt; &gt;&gt; &gt; http://www.eset.com
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; &gt;
&gt; &gt; This message was checked by NOD32 antivirus system.
&gt; &gt; http://www.eset.com
&gt; &gt;
&gt; &gt; 
&gt; 
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060306195639</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-06 19:56:39-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] php-gtk Win32 compiling problem</subject><body>

&gt; Steph and  xxoes you are my heros.. lol I'm trying to do that during all
&gt; weekend  

Move over Superman and Batman, xxoes and Steph have arrived ;)

Good job everyone!

Cheers,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307064903</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-07 06:49:03-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Another Text Editor for PHP-Gtk2</subject><body>

Pablo,

&gt; What version of GtkScintilla ?

The extension checks for GtkScintilla-2.0 v0.1.0.

Regards,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307065857</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-07 06:58:57-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Extending PHP-Gtk2</subject><body>

Andrei,

&gt; Didn't Tom have a custom generator for Scintilla?

He did, Steph told me so, and I asked him for it. Anyway, the extension
just works (for GtkScintilla-2.0 v0.1.0) which I guess is newer than
what Tom would have written for.

If Tom can send the .defs/generator he was using, it would help in
populating the newer defs and overrides.

Thanks and Regards,
--
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307090839</emailId><senderName>Tom Rogers</senderName><senderEmail>trogers@kwikin.com</senderEmail><timestampReceived>2006-03-07 09:08:39-0400</timestampReceived><subject>Re[2]: [PHP-GTK-DEV] Extending PHP-Gtk2</subject><body>

Hi,

Tuesday, March 7, 2006, 4:46:57 PM, you wrote:
AN&gt; Andrei,

&gt; &gt; Didn't Tom have a custom generator for Scintilla?

AN&gt; He did, Steph told me so, and I asked him for it. Anyway, the extension
AN&gt; just works (for GtkScintilla-2.0 v0.1.0) which I guess is newer than
AN&gt; what Tom would have written for.

AN&gt; If Tom can send the .defs/generator he was using, it would help in
AN&gt; populating the newer defs and overrides.

AN&gt; Thanks and Regards,
AN&gt; --
AN&gt; Anant

AN&gt; Find Freedom, Go Open Source!
AN&gt; http://www.kix.in/


gtkscintilla2 hasn't been touched for 22 months which is why I bypassed it and made a \
php-gtkscintilla directly. I sent you my files if they will help, but i suggest \
getting away from gtkscintilla.

-- 
regards,
Tom

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060307173451</emailId><senderName>"Ivan Rodriguez"</senderName><senderEmail>epplestun@gmail.com</senderEmail><timestampReceived>2006-03-07 17:34:51-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] php5: symbol lookup error: /usr/local/php5/lib/php/extensions/no-debug-non-zts-200</subject><body>


Now works perfect I do make clean and all works fine :)

On 3/7/06, Andrei Zmievski &lt;andrei@gravitonic.com&gt; wrote:
&gt;
&gt; Did you re-run buildconf and configure?
&gt;
&gt;
&gt; On Mar 7, 2006, at 4:30 AM, Ivan Rodriguez wrote:
&gt;
&gt; &gt; Hi, I compiled the last version of PHP-GTK code of CVS, it compiles
&gt; &gt; perfect
&gt; &gt; but when I run php says this:
&gt; &gt;
&gt; &gt; php5: symbol lookup error:
&gt; &gt; /usr/local/php5/lib/php/extensions/no-debug-non-zts-20050922/
&gt; &gt; php_gtk2.so:
&gt; &gt; undefined symbol: php_gdk_register_keysyms
&gt; &gt;
&gt; &gt; Any idea why returns this error?
&gt;
&gt;


</body></email><email><emailId>20060307182619</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-07 18:26:19-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSourceView now works!</subject><body>

Pablo,

&gt; What about ?
&gt; 
&gt; pkg-config --libs "gtksourceview-1.0 &gt;= 1.2.0"
&gt; pkg-config --cflags "gtksourceview-1.0 &gt;= 1.2.0"

What about them? I'm not sure I get your question but running that on my
PC gives:

# pkg-config --libs "gtksourceview-1.0 &gt;= 1.2.0"
-Wl,--export-dynamic -lgtksourceview-1.0 -lgtk-x11-2.0 -lgnomeprint-2-2
-lgdk-x11-2.0 -latk-1.0 -lgdk_pixbuf-2.0 -lpangocairo-1.0 -lcairo
-lart_lgpl_2 -lxml2 -lz -lm -lpango-1.0 -lgobject-2.0 -lgmodule-2.0 -ldl
-lglib-2.0
# pkg-config --cflags "gtksourceview-1.0 &gt;= 1.2.0"
-I/usr/include/gtksourceview-1.0 -I/usr/include/gtk-2.0
-I/usr/include/libxml2 -I/usr/include/libgnomeprint-2.2
-I/usr/lib/gtk-2.0/include -I/usr/include/atk-1.0 -I/usr/include/cairo
-I/usr/include/pango-1.0 -I/usr/include/glib-2.0
-I/usr/lib/glib-2.0/include -I/usr/include/libart-2.0

Basically you can just check the version of gtksourceview you have by
doing: #pkg-config gtksourceview-1.0 --modversion, and you should get
some number greater than 1.2.0

Hope this helps,

Regards,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060307184416</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-07 18:44:16-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Unit Tests</subject><body>


Scott,

&gt; The old version left a require_once
&gt; ""; in the test header that causes problems.
I did a search&amp;replace on the files and comitted them.

Now somebody should move all the test/bug_* files into the unit test files

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060307224724</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-07 22:47:24-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-Gtk2's first Web Browser is here!</subject><body>

Andrei,

&gt; I appreciate the contributions you're making, but the reason you have
&gt; not seen much "encouragement" from me is because I have been busy with
&gt; work and other projects. I dedicate as much time to PHP-GTK as I am
&gt; able, and there are a lot of things to look at currently..

I never meant to disregard your statement and still respect you very
much. I also understand that you are busy and are doing the best you can.

I will first discuss any changes/additions to the code before committing
them hereafter.

We can all go back to work peacefully now :)

Thanks and Regards,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310070654</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-10 07:06:54-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkGC again</subject><body>

screw that :)

What's wrong with the old fashioned way?

----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Friday, March 10, 2006 8:38 AM
Subject: Re: [PHP-GTK-DEV] GdkGC again

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310182449</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-10 18:24:49-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] style dumping</subject><body>

Feel free to work on it.. :)

-Andrei

On Mar 10, 2006, at 10:05 AM, Pablo Dall'Oglio wrote:

&gt; I agree, we could have a Gtk::var_dump() perhaps.
&gt;
&gt; []'s
&gt; Pablo
&gt;
&gt; Em Sex, 2006-03-10 s 12:55 -0500, Scott Mattocks escreveu:
&gt;&gt; Sorry for replying to myself but maybe we are approaching this wrong.
&gt;&gt; Instead of trying to modify the behavior of var_dump() why not create 
&gt;&gt; a
&gt;&gt; new function widget_dump()? Starting fresh might give more flexibility
&gt;&gt; and be easier. Since this function will be part of PHP-GTK instead of
&gt;&gt; PHP it can be tailored to PHP-GTK without worrying about how it will
&gt;&gt; work in regular PHP code.
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; -- 
&gt;&gt; Scott Mattocks
&gt;&gt; http://www.crisscott.com
&gt;&gt;
&gt; -- 
&gt; :: Pablo Dall'Oglio
&gt; :: www.dalloglio.net
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060201024807</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-01 02:48:07-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkColorButton</subject><body>

Thanks for the 'heads up', it needs PHP-ing.

Could you make a bug report please? - that way we won't forget about it.

- Steph

----- Original Message ----- 
From: "Pablo Dall'Oglio" &lt;pablo@dalloglio.net&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Wednesday, February 01, 2006 4:43 AM
Subject: [PHP-GTK-DEV] GtkColorButton


&gt; GtkColorButton::get_color() requires exactly 1 argument, 0 given
&gt; 
&gt; I think it's wrong. It expects a GdkColor object as parameter (by
&gt; reference).
&gt; 
&gt; Pablo
&gt; 
&gt; -- 
&gt; :: Pablo Dall'Oglio
&gt; :: www.dalloglio.net
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060201032800</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-01 03:28:00-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] #36238 [NEW]: GtkColorButton::get_color()</subject><body>

You're so much cooler than me ;-\

----- Original Message ----- 
From: "pablo@php.net" &lt;php-gtk-dev@lists.php.net&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Wednesday, February 01, 2006 5:21 AM
Subject: [PHP-GTK-DEV] #36238 [NEW]: GtkColorButton::get_color()


&gt; From:             pablo@php.net
&gt; Operating system: Linux Ubuntu Breezy
&gt; PHP version:      5.1.2
&gt; PHP Bug Type:     PHP-GTK related
&gt; Bug description:  GtkColorButton::get_color()
&gt;
&gt; Description:
&gt; ------------
&gt; GtkColorButton::get_color() requires exactly 1 argument, 0  given
&gt;
&gt; I think it's wrong. It expects a GdkColor object as parameter (by
&gt; reference).
&gt;
&gt; Reproduce code:
&gt; ---------------
&gt; &lt;?php
&gt; $colorbutton = new GtkColorButton;
&gt; $colorbutton-&gt;set_color(GdkColor::parse('#00FF00'));
&gt; $colorbutton-&gt;get_color();
&gt; ?&gt;
&gt;
&gt; Expected result:
&gt; ----------------
&gt; it should return the selected color.
&gt;
&gt; Actual result:
&gt; --------------
&gt; warning: GtkColorButton::get_color() requires exactly 1 argument, 0  given
&gt;
&gt; -- 
&gt; Edit bug report at http://bugs.php.net/?id=36238&amp;edit=1
&gt; -- 
&gt; Try a CVS snapshot (PHP 4.4): 
&gt; http://bugs.php.net/fix.php?id=36238&amp;r=trysnapshot44
&gt; Try a CVS snapshot (PHP 5.1): 
&gt; http://bugs.php.net/fix.php?id=36238&amp;r=trysnapshot51
&gt; Try a CVS snapshot (PHP 6.0): 
&gt; http://bugs.php.net/fix.php?id=36238&amp;r=trysnapshot60
&gt; Fixed in CVS: 
&gt; http://bugs.php.net/fix.php?id=36238&amp;r=fixedcvs
&gt; Fixed in release: 
&gt; http://bugs.php.net/fix.php?id=36238&amp;r=alreadyfixed
&gt; Need backtrace: 
&gt; http://bugs.php.net/fix.php?id=36238&amp;r=needtrace
&gt; Need Reproduce Script: 
&gt; http://bugs.php.net/fix.php?id=36238&amp;r=needscript
&gt; Try newer version: 
&gt; http://bugs.php.net/fix.php?id=36238&amp;r=oldversion
&gt; Not developer issue: 
&gt; http://bugs.php.net/fix.php?id=36238&amp;r=support
&gt; Expected behavior: 
&gt; http://bugs.php.net/fix.php?id=36238&amp;r=notwrong
&gt; Not enough info: 
&gt; http://bugs.php.net/fix.php?id=36238&amp;r=notenoughinfo
&gt; Submitted twice: 
&gt; http://bugs.php.net/fix.php?id=36238&amp;r=submittedtwice
&gt; register_globals: 
&gt; http://bugs.php.net/fix.php?id=36238&amp;r=globals
&gt; PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=36238&amp;r=php3
&gt; Daylight Savings:             http://bugs.php.net/fix.php?id=36238&amp;r=dst
&gt; IIS Stability:                http://bugs.php.net/fix.php?id=36238&amp;r=isapi
&gt; Install GNU Sed: 
&gt; http://bugs.php.net/fix.php?id=36238&amp;r=gnused
&gt; Floating point limitations:   http://bugs.php.net/fix.php?id=36238&amp;r=float
&gt; No Zend Extensions: 
&gt; http://bugs.php.net/fix.php?id=36238&amp;r=nozend
&gt; MySQL Configuration Error: 
&gt; http://bugs.php.net/fix.php?id=36238&amp;r=mysqlcfg
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060201061611</emailId><senderName></senderName><senderEmail>cweiske</senderEmail><timestampReceived>2006-02-01 06:16:11-0400</timestampReceived><subject>[PHP-GTK-DEV] #36238 [Opn-&gt;Csd]: GtkColorButton::get_color()</subject><body>

 ID:               36238
 Updated by:       cweiske@php.net
 Reported By:      pablo@php.net
-Status:           Open
+Status:           Closed
 Bug Type:         PHP-GTK related
 Operating System: Linux Ubuntu Breezy
 PHP Version:      5.1.2
 New Comment:

This bug has been fixed in CVS.

Snapshots of the sources are packaged every three hours; this change
will be in the next snapshot. You can grab the snapshot at
http://snaps.php.net/.
 
Thank you for the report, and for helping us make PHP better.


Previous Comments:
------------------------------------------------------------------------

[2006-02-01 04:21:27] pablo@php.net

Description:
------------
GtkColorButton::get_color() requires exactly 1 argument, 0  given

I think it's wrong. It expects a GdkColor object as parameter (by
reference).

Reproduce code:
---------------
&lt;?php
$colorbutton = new GtkColorButton;
$colorbutton-&gt;set_color(GdkColor::parse('#00FF00'));
$colorbutton-&gt;get_color();
?&gt;

Expected result:
----------------
it should return the selected color.

Actual result:
--------------
warning: GtkColorButton::get_color() requires exactly 1 argument, 0 
given


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=36238&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060202184805</emailId><senderName>"pablo () php ! net"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-02-02 18:48:05-0400</timestampReceived><subject>[PHP-GTK-DEV] #36264 [NEW]: segmentation fault on GtkMessageDialog</subject><body>

From:             pablo@php.net
Operating system: Linux Ubuntu Breezy
PHP version:      5.1.2
PHP Bug Type:     PHP-GTK related
Bug description:  segmentation fault on GtkMessageDialog

Description:
------------
The code below gives me a segmentation fault when using
GtkMessageDialog... I know that I forgot the last parameter (the message),
but an error message should shown instead.

Reproduce code:
---------------
&lt;?
$dialog = new GtkMessageDialog(null, Gtk::DIALOG_MODAL,
Gtk::MESSAGE_ERROR, Gtk::BUTTONS_OK);
?&gt;

Expected result:
----------------
an error message telling that I forgot the last parameter.

Actual result:
--------------
segmentation fault

-- 
Edit bug report at http://bugs.php.net/?id=36264&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=36264&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.1): http://bugs.php.net/fix.php?id=36264&amp;r=trysnapshot51
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=36264&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=36264&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=36264&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=36264&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=36264&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=36264&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=36264&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=36264&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=36264&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=36264&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=36264&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=36264&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=36264&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=36264&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=36264&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=36264&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=36264&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=36264&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060202190313</emailId><senderName></senderName><senderEmail>cweiske</senderEmail><timestampReceived>2006-02-02 19:03:13-0400</timestampReceived><subject>[PHP-GTK-DEV] #36264 [Opn]: segmentation fault on GtkMessageDialog</subject><body>

 ID:               36264
 Updated by:       cweiske@php.net
 Reported By:      pablo@php.net
 Status:           Open
 Bug Type:         PHP-GTK related
 Operating System: Linux Ubuntu Breezy
 PHP Version:      5.1.2
 New Comment:

it works fine for me with php 5.1.1 and the latest cvs snapshot. no
crash, and if I add a second line $dialog-&gt;run(), the dialog appears.


Previous Comments:
------------------------------------------------------------------------

[2006-02-02 19:48:05] pablo@php.net

Description:
------------
The code below gives me a segmentation fault when using
GtkMessageDialog... I know that I forgot the last parameter (the
message), but an error message should shown instead.

Reproduce code:
---------------
&lt;?
$dialog = new GtkMessageDialog(null, Gtk::DIALOG_MODAL,
Gtk::MESSAGE_ERROR, Gtk::BUTTONS_OK);
?&gt;

Expected result:
----------------
an error message telling that I forgot the last parameter.

Actual result:
--------------
segmentation fault


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=36264&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060202200837</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-02-02 20:08:37-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] set_label of GtkFrame</subject><body>

Em Qui, 2006-02-02  s 13:35 -0200, Eduardo RBS escreveu:
&gt; I'm using glade2 to make the interface with an GtkFrame. But if I try to
&gt; change the label, the GtkFrame then looses the label. This is the code:
&gt; $this-&gt;frame_codigo=$this-&gt;xml-&gt;get_widget('frame_codigo');
&gt; $this-&gt;frame_codigo-&gt;set_label($this-&gt;Fcodigo);

is $this-&gt;Fcodigo a string ?

Pablo
&gt; 
&gt; But if I create a GtkFrame without using glade2 "$frame=new GtkFrame()" and
&gt; later I try to change the label then it works.
&gt; So I guess the set_label of the GtkFrame does not work only when the widget
&gt; is made with glade2.
&gt; 
&gt; Thanks for the attention.
&gt; --
&gt; []'s
&gt; Eduardo RBS
&gt; http://linuxstok.sourceforge.net
-- 
:: Pablo Dall'Oglio
:: www.dalloglio.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060202202559</emailId><senderName>"pablo () php ! net"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-02-02 20:25:59-0400</timestampReceived><subject>[PHP-GTK-DEV] #36264 [Opn-&gt;Csd]: segmentation fault on GtkMessageDialog</subject><body>

 ID:               36264
 User updated by:  pablo@php.net
 Reported By:      pablo@php.net
-Status:           Open
+Status:           Closed
 Bug Type:         PHP-GTK related
 Operating System: Linux Ubuntu Breezy
-PHP Version:      5.1.2
+PHP Version:      5.1.1
 New Comment:

worked with a fresh CVS checkout
thanks.


Previous Comments:
------------------------------------------------------------------------

[2006-02-02 20:03:12] cweiske@php.net

it works fine for me with php 5.1.1 and the latest cvs snapshot. no
crash, and if I add a second line $dialog-&gt;run(), the dialog appears.

------------------------------------------------------------------------

[2006-02-02 19:48:05] pablo@php.net

Description:
------------
The code below gives me a segmentation fault when using
GtkMessageDialog... I know that I forgot the last parameter (the
message), but an error message should shown instead.

Reproduce code:
---------------
&lt;?
$dialog = new GtkMessageDialog(null, Gtk::DIALOG_MODAL,
Gtk::MESSAGE_ERROR, Gtk::BUTTONS_OK);
?&gt;

Expected result:
----------------
an error message telling that I forgot the last parameter.

Actual result:
--------------
segmentation fault


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=36264&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060203104819</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-03 10:48:19-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Gdk key constants already available?</subject><body>

S'just as well I didn't try my hand at that, I had them down as 
phpg_register_string_constant...

Thanks!

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "Christian Weiske" &lt;cweiske@cweiske.de&gt;; "PHP-GTK Dev list" 
&lt;php-gtk-dev@lists.php.net&gt;
Sent: Friday, February 03, 2006 9:59 AM
Subject: Re: [PHP-GTK-DEV] Gdk key constants already available?


&gt; Done.
&gt;
&gt; Gdk::KEY_A
&gt; Gdk::KEY_a,
&gt; and so on
&gt;
&gt; Look in ext/gtk+/php_gdk.c
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Feb 1, 2006, at 3:59 AM, Steph Fox wrote:
&gt;
&gt;&gt; I _think_ they need registering as class constants...
&gt;&gt; No, they're not available right now.
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "Christian Weiske" 
&gt;&gt; &lt;cweiske@cweiske.de&gt;
&gt;&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt; Sent: Wednesday, February 01, 2006 10:29 AM
&gt;&gt; Subject: [PHP-GTK-DEV] Gdk key constants already available?
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060204135255</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-02-04 13:52:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] glad2 question</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Dottequad,

&gt; Glade 2 looks like a great program to create  GUIs but, how would you align and \
&gt; resize the the widgets so you can add more widgets?

Yes, Glade2 is great tool, but only if you are familiar with how Gtk2 works!

Have a look at the packing tutorial at:

http://php-gtk2.de/manual/en/html/tutorials/tutorials.packing.html

to be clear about how more than one widget may be added to a window. You
must contain your widgets in a GtkVBox, GtkHBox or some other similar
packing widget.

Regards,
- --
Anant

Find Freedom, Go Open Source!
http://www.kix.in/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.2 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFD5K7nWeLy9ITAepwRAsdcAJ9M0AgUqw4Xp6R5Y+RQQbJcBmF5BgCfVmDR
f/l5hG+5Vwh0lI8r8vOgMyQ=
=ywMO
-----END PGP SIGNATURE-----

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060201032128</emailId><senderName>"pablo () php ! net"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-02-01 03:21:28-0400</timestampReceived><subject>[PHP-GTK-DEV] #36238 [NEW]: GtkColorButton::get_color()</subject><body>

From:             pablo@php.net
Operating system: Linux Ubuntu Breezy
PHP version:      5.1.2
PHP Bug Type:     PHP-GTK related
Bug description:  GtkColorButton::get_color()

Description:
------------
GtkColorButton::get_color() requires exactly 1 argument, 0  given

I think it's wrong. It expects a GdkColor object as parameter (by
reference).

Reproduce code:
---------------
&lt;?php
$colorbutton = new GtkColorButton;
$colorbutton-&gt;set_color(GdkColor::parse('#00FF00'));
$colorbutton-&gt;get_color();
?&gt;

Expected result:
----------------
it should return the selected color.

Actual result:
--------------
warning: GtkColorButton::get_color() requires exactly 1 argument, 0  given

-- 
Edit bug report at http://bugs.php.net/?id=36238&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=36238&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.1): http://bugs.php.net/fix.php?id=36238&amp;r=trysnapshot51
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=36238&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=36238&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=36238&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=36238&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=36238&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=36238&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=36238&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=36238&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=36238&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=36238&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=36238&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=36238&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=36238&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=36238&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=36238&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=36238&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=36238&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=36238&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060202153515</emailId><senderName>Eduardo RBS</senderName><senderEmail>edurbs@gmail.com</senderEmail><timestampReceived>2006-02-02 15:35:15-0400</timestampReceived><subject>[PHP-GTK-DEV] set_label of GtkFrame</subject><body>


I'm using glade2 to make the interface with an GtkFrame. But if I try to
change the label, the GtkFrame then looses the label. This is the code:
$this-&gt;frame_codigo=$this-&gt;xml-&gt;get_widget('frame_codigo');
$this-&gt;frame_codigo-&gt;set_label($this-&gt;Fcodigo);

But if I create a GtkFrame without using glade2 "$frame=new GtkFrame()" and
later I try to change the label then it works.
So I guess the set_label of the GtkFrame does not work only when the widget
is made with glade2.

Thanks for the attention.
--
[]'s
Eduardo RBS
http://linuxstok.sourceforge.net


</body></email><email><emailId>20060201082948</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-01 08:29:48-0400</timestampReceived><subject>[PHP-GTK-DEV] Gdk key constants already available?</subject><body>


Hi all,


Are the Gdk key constants already available?
They are said to be registered in php_gdk.c, but the constants are not
available (neither GDK_KEY_DELETE not Gdk::KEY_DELETE). Any hints?
Andrei?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060201115942</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-01 11:59:42-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Gdk key constants already available?</subject><body>

I _think_ they need registering as class constants... 

No, they're not available right now.

----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Wednesday, February 01, 2006 10:29 AM
Subject: [PHP-GTK-DEV] Gdk key constants already available?

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060203075927</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-03 07:59:27-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Gdk key constants already available?</subject><body>

Done.

Gdk::KEY_A
Gdk::KEY_a,
and so on

Look in ext/gtk+/php_gdk.c

-Andrei


On Feb 1, 2006, at 3:59 AM, Steph Fox wrote:

&gt; I _think_ they need registering as class constants...
&gt; No, they're not available right now.
&gt;
&gt; ----- Original Message ----- From: "Christian Weiske"  
&gt; &lt;cweiske@cweiske.de&gt;
&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Wednesday, February 01, 2006 10:29 AM
&gt; Subject: [PHP-GTK-DEV] Gdk key constants already available?
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060202154212</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-02-02 15:42:12-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] set_label of GtkFrame</subject><body>

Hi Eduardo,

Eduardo RBS wrote:
&gt; I'm using glade2 to make the interface with an GtkFrame. But if I try to
&gt; change the label, the GtkFrame then looses the label. This is the code:
&gt; $this-&gt;frame_codigo=$this-&gt;xml-&gt;get_widget('frame_codigo');
&gt; $this-&gt;frame_codigo-&gt;set_label($this-&gt;Fcodigo);

What is $this-&gt;Fcodigo? Make sure it is a string and not a widget. If it 
is a widget, use set_label_widget instead. I don't think that glade2 
should have any impact on how this works.

-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060202154433</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-02 15:44:33-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] set_label of GtkFrame</subject><body>


Eduardo,


&gt; I'm using glade2 to make the interface with an GtkFrame. But if I try to
&gt; change the label, the GtkFrame then looses the label. This is the code:
I assume that Glade adds some special alignments or so as label widget
to the gtkframe, and adds the label itself as child of the alignment.
That would cause GtkFrame's internal set_label method to fail.

You can check this by using the Dev_GuiInspector tool to examine the
nesting of the frame. Or try to get the frame's label widget and see
what type it is.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060202160830</emailId><senderName>Eduardo RBS</senderName><senderEmail>edurbs@gmail.com</senderEmail><timestampReceived>2006-02-02 16:08:30-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] set_label of GtkFrame</subject><body>


This code loose the label...
$this-&gt;frame_codigo=$this-&gt;xml-&gt;get_widget('frame_codigo');
$this-&gt;frame_codigo-&gt;set_label('testing');

but... when I put the line of Dev_GuiInspector.... the label is shown
correctly.

$this-&gt;frame_codigo=$this-&gt;xml-&gt;get_widget('frame_codigo');
$this-&gt;frame_codigo-&gt;set_label('testing');
$gi = new Dev_GuiInspector($this-&gt;frame_descricao);

This question should be in the list php-gtk-general?


2006/2/2, Christian Weiske &lt;cweiske@cweiske.de&gt;:
&gt;
&gt; Eduardo,
&gt;
&gt;
&gt; &gt; I'm using glade2 to make the interface with an GtkFrame. But if I try to
&gt; &gt; change the label, the GtkFrame then looses the label. This is the code:
&gt; I assume that Glade adds some special alignments or so as label widget
&gt; to the gtkframe, and adds the label itself as child of the alignment.
&gt; That would cause GtkFrame's internal set_label method to fail.
&gt;
&gt; You can check this by using the Dev_GuiInspector tool to examine the
&gt; nesting of the frame. Or try to get the frame's label widget and see
&gt; what type it is.
&gt;
&gt; --
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;
&gt;
&gt;


--
[]'s
Eduardo RBS
http://linuxstok.sourceforge.net


</body></email><email><emailId>20060202160953</emailId><senderName>Eduardo RBS</senderName><senderEmail>edurbs@gmail.com</senderEmail><timestampReceived>2006-02-02 16:09:53-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] set_label of GtkFrame</subject><body>


sorry... the correct code...

when I put the line of Dev_GuiInspector.... the label is shown correctly.
$this-&gt;frame_codigo=$this-&gt;xml-&gt;get_widget('frame_codigo');
$this-&gt;frame_codigo-&gt;set_label('testing');
$gi = new Dev_GuiInspector($this-&gt;frame_codigo);

2006/2/2, Eduardo RBS &lt;edurbs@gmail.com&gt;:
&gt;
&gt; This code loose the label...
&gt; $this-&gt;frame_codigo=$this-&gt;xml-&gt;get_widget('frame_codigo');
&gt; $this-&gt;frame_codigo-&gt;set_label('testing');
&gt;
&gt; but... when I put the line of Dev_GuiInspector.... the label is shown
&gt; correctly.
&gt;
&gt; $this-&gt;frame_codigo=$this-&gt;xml-&gt;get_widget('frame_codigo');
&gt; $this-&gt;frame_codigo-&gt;set_label('testing');
&gt; $gi = new Dev_GuiInspector($this-&gt;frame_descricao);
&gt;
&gt; This question should be in the list php-gtk-general?
&gt;
&gt;
&gt; 2006/2/2, Christian Weiske &lt; cweiske@cweiske.de&gt;:
&gt; &gt;
&gt; &gt; Eduardo,
&gt; &gt;
&gt; &gt;
&gt; &gt; &gt; I'm using glade2 to make the interface with an GtkFrame. But if I try
&gt; &gt; to
&gt; &gt; &gt; change the label, the GtkFrame then looses the label. This is the
&gt; &gt; code:
&gt; &gt; I assume that Glade adds some special alignments or so as label widget
&gt; &gt; to the gtkframe, and adds the label itself as child of the alignment.
&gt; &gt; That would cause GtkFrame's internal set_label method to fail.
&gt; &gt;
&gt; &gt; You can check this by using the Dev_GuiInspector tool to examine the
&gt; &gt; nesting of the frame. Or try to get the frame's label widget and see
&gt; &gt; what type it is.
&gt; &gt;
&gt; &gt; --
&gt; &gt; Regards/MfG,
&gt; &gt; Christian Weiske
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;
&gt;
&gt; --
&gt; []'s
&gt; Eduardo RBS
&gt; http://linuxstok.sourceforge.net
&gt;



--
[]'s
Eduardo RBS
http://linuxstok.sourceforge.net


</body></email><email><emailId>20060202162229</emailId><senderName>Eduardo RBS</senderName><senderEmail>edurbs@gmail.com</senderEmail><timestampReceived>2006-02-02 16:22:29-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] set_label of GtkFrame</subject><body>


Instead of using this way:

$this-&gt;frame_codigo=$this-&gt;xml-&gt;get_widget('frame_codigo');
$this-&gt;frame_codigo-&gt;set_label($this-&gt;Fcodigo);

The solution is:

$this-&gt;frame_codigo=$this-&gt;xml-&gt;get_widget('frame_codigo');
$tmp=$this-&gt;frame_codigo-&gt;get_children();
$tmp[1]-&gt;set_label($this-&gt;Fcodigo);

Thanks for the help.

2006/2/2, Eduardo RBS &lt;edurbs@gmail.com&gt;:
&gt;
&gt; sorry... the correct code...
&gt;
&gt; when I put the line of Dev_GuiInspector.... the label is shown correctly.
&gt; $this-&gt;frame_codigo=$this-&gt;xml-&gt;get_widget('frame_codigo');
&gt; $this-&gt;frame_codigo-&gt;set_label('testing');
&gt; $gi = new Dev_GuiInspector($this-&gt;frame_codigo);
&gt;
&gt; 2006/2/2, Eduardo RBS &lt;edurbs@gmail.com&gt;:
&gt; &gt;
&gt; &gt; This code loose the label...
&gt; &gt; $this-&gt;frame_codigo=$this-&gt;xml-&gt;get_widget('frame_codigo');
&gt; &gt; $this-&gt;frame_codigo-&gt;set_label('testing');
&gt; &gt;
&gt; &gt; but... when I put the line of Dev_GuiInspector.... the label is shown
&gt; &gt; correctly.
&gt; &gt;
&gt; &gt; $this-&gt;frame_codigo=$this-&gt;xml-&gt;get_widget('frame_codigo');
&gt; &gt; $this-&gt;frame_codigo-&gt;set_label('testing');
&gt; &gt; $gi = new Dev_GuiInspector($this-&gt;frame_descricao);
&gt; &gt;
&gt; &gt; This question should be in the list php-gtk-general?
&gt; &gt;
&gt; &gt;
&gt; &gt; 2006/2/2, Christian Weiske &lt; cweiske@cweiske.de&gt;:
&gt; &gt; &gt;
&gt; &gt; &gt; Eduardo,
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; &gt; I'm using glade2 to make the interface with an GtkFrame. But if I
&gt; &gt; &gt; try to
&gt; &gt; &gt; &gt; change the label, the GtkFrame then looses the label. This is the
&gt; &gt; &gt; code:
&gt; &gt; &gt; I assume that Glade adds some special alignments or so as label widget
&gt; &gt; &gt; to the gtkframe, and adds the label itself as child of the alignment.
&gt; &gt; &gt; That would cause GtkFrame's internal set_label method to fail.
&gt; &gt; &gt;
&gt; &gt; &gt; You can check this by using the Dev_GuiInspector tool to examine the
&gt; &gt; &gt; nesting of the frame. Or try to get the frame's label widget and see
&gt; &gt; &gt; what type it is.
&gt; &gt; &gt;
&gt; &gt; &gt; --
&gt; &gt; &gt; Regards/MfG,
&gt; &gt; &gt; Christian Weiske
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; --
&gt; &gt; []'s
&gt; &gt; Eduardo RBS
&gt; &gt; http://linuxstok.sourceforge.net
&gt; &gt;
&gt;
&gt;
&gt;
&gt; --
&gt; []'s
&gt; Eduardo RBS
&gt; http://linuxstok.sourceforge.net
&gt;



--
[]'s
Eduardo RBS
http://linuxstok.sourceforge.net


</body></email><email><emailId>20060204133405</emailId><senderName>"dottedquad (sent by Nabble.com)"</senderName><senderEmail>lists@nabble.com</senderEmail><timestampReceived>2006-02-04 13:34:05-0400</timestampReceived><subject>[PHP-GTK-DEV] glad2 question</subject><body>


Glade 2 looks like a great program to create  GUIs but, how would you align and \
                resize the the widgets so you can add more widgets?
--
View this message in context: \
http://www.nabble.com/glad2-question-t1059130.html#a2755859 Sent from the Php - GTK - \
Dev forum at Nabble.com.



</body></email><email><emailId>20060204133729</emailId><senderName>"dottedquad (sent by Nabble.com)"</senderName><senderEmail>lists@nabble.com</senderEmail><timestampReceived>2006-02-04 13:37:29-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] glad2 question</subject><body>


Whoops I think I added this into the wrong forum.  I'll ask in the regular Php-GTK \
                forum.  Sorry about that.
--
View this message in context: \
http://www.nabble.com/glad2-question-t1059130.html#a2755894 Sent from the Php - GTK - \
Dev forum at Nabble.com.



</body></email><email><emailId>20060202071118</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-02 07:11:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Some GList* overrides</subject><body>


Christian,

Have you actually tested these methods? Do they work?

&gt;
&gt; +
&gt; +%%
&gt; +override gdk_display_list_devices
&gt; +PHP_METHOD
&gt; +{
&gt; +    GList *list, *item;
&gt; +
&gt; +    NOT_STATIC_METHOD();
&gt; +
&gt; +    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
&gt; +        return;
&gt; +
&gt; +    list = gdk_display_list_devices(GDK_DISPLAY(PHPG_GOBJECT 
&gt; (this_ptr)));
&gt; +
&gt; +    array_init(return_value);
&gt; +    for (item = list; item; item = item-&gt;next) {
&gt; +        zval *php_item = NULL;
&gt; +        phpg_gobject_new(&amp;php_item, G_OBJECT(item-&gt;data) TSRMLS_CC);
&gt; +        add_next_index_zval(return_value, php_item);
&gt; +    }
&gt; +
&gt; +    g_list_free(list);
&gt; +}
&gt; +
&gt;  %% }}}
&gt;

You should not free the list here. It's statically allocated. Check  
the API docs.


&gt;
&gt; +
&gt; +%% {{{ GtkCellView
&gt; +
&gt; +%%
&gt; +override gtk_cell_view_get_cell_renderers
&gt; +PHP_METHOD
&gt; +{
&gt; +    GList *list, *item;
&gt; +
&gt; +    NOT_STATIC_METHOD();
&gt; +
&gt; +    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
&gt; +        return;
&gt; +
&gt; +    list = gtk_cell_view_get_cell_renderers(GTK_CELL_VIEW 
&gt; (PHPG_GOBJECT(this_ptr)));
&gt; +
&gt; +    array_init(return_value);
&gt; +    for (item = list; item; item = item-&gt;next) {
&gt; +        zval *php_item = NULL;
&gt; +        phpg_gobject_new(&amp;php_item, G_OBJECT(item-&gt;data) TSRMLS_CC);
&gt; +        add_next_index_zval(return_value, php_item);
&gt; +    }
&gt; +
&gt; +    g_list_free(list);
&gt; +}
&gt; +
&gt; +%% }}}
&gt;

Have you checked PyGTK implementation of this method? It seems they  
do some additional checks. But then again,  
gtk_tree_view_column_get_cell_renderers() doesn't. Up to you.

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060204165642</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-04 16:56:42-0400</timestampReceived><subject>[PHP-GTK-DEV] GdkColorSpace not available/generated</subject><body>


Hi all, especially Andrei


GdkColorSpace is defined as enum in gdk-types.defs, but not generated -
at least the constant is not in the class constants of Gdk::

Bug in the generator?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060206164525</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-02-06 16:45:25-0400</timestampReceived><subject>[PHP-GTK-DEV] todo2</subject><body>

Call to undefined method GtkCalendar::get_date()

-- 
:: Pablo Dall'Oglio
:: www.dalloglio.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060201142846</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-01 14:28:46-0400</timestampReceived><subject>[PHP-GTK-DEV] my wishlist</subject><body>


Hello readers,


My C isn't good enough to do that by myself, so I've got to beg:
Could somebody please implement the GtkWidget drag'n'drop functions, and
the GtkTreeModelFilter callback methods? Or give them high priority?

GtkWidget::drag_begin: unknown type 'GtkTargetList*'
GtkWidget::drag_dest_find_target: unknown type 'GtkTargetList*'
GtkWidget::drag_dest_get_target_list: unknown type 'GtkTargetList*'
GtkWidget::drag_dest_set: unknown type 'const-GtkTargetEntry*'
GtkWidget::drag_dest_set_target_list: unknown type 'GtkTargetList*'
GtkWidget::drag_source_get_target_list: unknown type 'GtkTargetList*'
GtkWidget::drag_source_set: unknown type 'const-GtkTargetEntry*'
GtkWidget::drag_source_set_target_list: unknown type 'GtkTargetList*'

GtkTreeModelFilter::set_visible_func: unknown type
'GtkTreeModelFilterVisibleFunc'

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060201143809</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-02-01 14:38:09-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] my wishlist</subject><body>

I would like to add my support to begging for the drag-n-drop methods. 
Of the methods that are yet to be implemented, I think these are the 
most important.

Thanks,
Scott


Christian Weiske wrote:
&gt; Hello readers,
&gt; 
&gt; 
&gt; My C isn't good enough to do that by myself, so I've got to beg:
&gt; Could somebody please implement the GtkWidget drag'n'drop functions, and
&gt; the GtkTreeModelFilter callback methods? Or give them high priority?
&gt; 
&gt; GtkWidget::drag_begin: unknown type 'GtkTargetList*'
&gt; GtkWidget::drag_dest_find_target: unknown type 'GtkTargetList*'
&gt; GtkWidget::drag_dest_get_target_list: unknown type 'GtkTargetList*'
&gt; GtkWidget::drag_dest_set: unknown type 'const-GtkTargetEntry*'
&gt; GtkWidget::drag_dest_set_target_list: unknown type 'GtkTargetList*'
&gt; GtkWidget::drag_source_get_target_list: unknown type 'GtkTargetList*'
&gt; GtkWidget::drag_source_set: unknown type 'const-GtkTargetEntry*'
&gt; GtkWidget::drag_source_set_target_list: unknown type 'GtkTargetList*'
&gt; 
&gt; GtkTreeModelFilter::set_visible_func: unknown type
&gt; 'GtkTreeModelFilterVisibleFunc'
&gt; 

-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060201183642</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-01 18:36:42-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] my wishlist</subject><body>

Only if you promise to write me some nice simple demo scripts that I  
can use in Montreal for the presentation. :)

-Andrei


On Feb 1, 2006, at 6:28 AM, Christian Weiske wrote:

&gt; Hello readers,
&gt;
&gt;
&gt; My C isn't good enough to do that by myself, so I've got to beg:
&gt; Could somebody please implement the GtkWidget drag'n'drop  
&gt; functions, and
&gt; the GtkTreeModelFilter callback methods? Or give them high priority?
&gt;
&gt; GtkWidget::drag_begin: unknown type 'GtkTargetList*'
&gt; GtkWidget::drag_dest_find_target: unknown type 'GtkTargetList*'
&gt; GtkWidget::drag_dest_get_target_list: unknown type 'GtkTargetList*'
&gt; GtkWidget::drag_dest_set: unknown type 'const-GtkTargetEntry*'
&gt; GtkWidget::drag_dest_set_target_list: unknown type 'GtkTargetList*'
&gt; GtkWidget::drag_source_get_target_list: unknown type 'GtkTargetList*'
&gt; GtkWidget::drag_source_set: unknown type 'const-GtkTargetEntry*'
&gt; GtkWidget::drag_source_set_target_list: unknown type 'GtkTargetList*'
&gt;
&gt; GtkTreeModelFilter::set_visible_func: unknown type
&gt; 'GtkTreeModelFilterVisibleFunc'
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060201184100</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-01 18:41:00-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] my wishlist</subject><body>


Andrei,

&gt; Only if you promise to write me some nice simple demo scripts that I 
&gt; can use in Montreal for the presentation. :)
Your wish is my command.
Don't forget that you already have some working PHP-Gtk2 apps
(Dev_Inspector, Dev_GuiInspector, PEAR_Frontend_Gtk2) that you could show.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060206075534</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-06 07:55:34-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] my wishlist</subject><body>


Andrei,

&gt; Only if you promise to write me some nice simple demo scripts that I 
&gt; can use in Montreal for the presentation. :)
At least for the drag'n'dop methods you can use the Gtk2_FileDrop
package as example. It hit PEAR yesterday.

Thanks for implementing.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060206140345</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-02-06 14:03:45-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] my wishlist</subject><body>

Hi Andrei,

Thanks for the drag-n-drop methods. I tried to recompile yesterday but 
ran into an issue when running make. It failed with a message that I 
can't remember exactly but it had something to do with a non-existent 
member of a struct. The error was due to this section of 
main/phpg_support.c (line 246):

/* {{{ phpg_init_object() */
PHP_GTK_API void phpg_init_object(void *object, zend_class_entry *ce)
{
         zval *tmp;
         zend_class_entry *prop_ce;
         phpg_head_t *poh = (phpg_head_t *) object;

         poh-&gt;zobj.ce = ce;
         poh-&gt;zobj.guards = NULL;
         poh-&gt;pi_hash = NULL;
...

When I commented out the zobj.guards = NULL line, it compiled fine.

Unfortunately, I ran into a runtime issue with GtkTreeModel::iter_next() 
but I think that is a separate issue. I will work on a test script for 
that one and get back to you with some more details.

Thanks,
Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060206140923</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-06 14:09:23-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] my wishlist</subject><body>

Scott - you need to update your copy of PHP. guards has been in there for a 
couple of months...

----- Original Message ----- 
From: "Scott Mattocks" &lt;scott@crisscott.com&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, February 06, 2006 4:03 PM
Subject: Re: [PHP-GTK-DEV] my wishlist


&gt; Hi Andrei,
&gt;
&gt; Thanks for the drag-n-drop methods. I tried to recompile yesterday but ran 
&gt; into an issue when running make. It failed with a message that I can't 
&gt; remember exactly but it had something to do with a non-existent member of 
&gt; a struct. The error was due to this section of main/phpg_support.c (line 
&gt; 246):
&gt;
&gt; /* {{{ phpg_init_object() */
&gt; PHP_GTK_API void phpg_init_object(void *object, zend_class_entry *ce)
&gt; {
&gt;         zval *tmp;
&gt;         zend_class_entry *prop_ce;
&gt;         phpg_head_t *poh = (phpg_head_t *) object;
&gt;
&gt;         poh-&gt;zobj.ce = ce;
&gt;         poh-&gt;zobj.guards = NULL;
&gt;         poh-&gt;pi_hash = NULL;
&gt; ...
&gt;
&gt; When I commented out the zobj.guards = NULL line, it compiled fine.
&gt;
&gt; Unfortunately, I ran into a runtime issue with GtkTreeModel::iter_next() 
&gt; but I think that is a separate issue. I will work on a test script for 
&gt; that one and get back to you with some more details.
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060206141151</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-02-06 14:11:51-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] my wishlist</subject><body>

Thanks Steph. So what is the official minimum version of PHP needed now?

Steph Fox wrote:
&gt; Scott - you need to update your copy of PHP. guards has been in there 
&gt; for a couple of months...
&gt; 
&gt; ----- Original Message ----- From: "Scott Mattocks" &lt;scott@crisscott.com&gt;
&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Monday, February 06, 2006 4:03 PM
&gt; Subject: Re: [PHP-GTK-DEV] my wishlist
&gt; 
&gt; 
&gt;&gt; Hi Andrei,
&gt;&gt;
&gt;&gt; Thanks for the drag-n-drop methods. I tried to recompile yesterday but 
&gt;&gt; ran into an issue when running make. It failed with a message that I 
&gt;&gt; can't remember exactly but it had something to do with a non-existent 
&gt;&gt; member of a struct. The error was due to this section of 
&gt;&gt; main/phpg_support.c (line 246):
&gt;&gt;
&gt;&gt; /* {{{ phpg_init_object() */
&gt;&gt; PHP_GTK_API void phpg_init_object(void *object, zend_class_entry *ce)
&gt;&gt; {
&gt;&gt;         zval *tmp;
&gt;&gt;         zend_class_entry *prop_ce;
&gt;&gt;         phpg_head_t *poh = (phpg_head_t *) object;
&gt;&gt;
&gt;&gt;         poh-&gt;zobj.ce = ce;
&gt;&gt;         poh-&gt;zobj.guards = NULL;
&gt;&gt;         poh-&gt;pi_hash = NULL;
&gt;&gt; ...
&gt;&gt;
&gt;&gt; When I commented out the zobj.guards = NULL line, it compiled fine.
&gt;&gt;
&gt;&gt; Unfortunately, I ran into a runtime issue with 
&gt;&gt; GtkTreeModel::iter_next() but I think that is a separate issue. I will 
&gt;&gt; work on a test script for that one and get back to you with some more 
&gt;&gt; details.
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Scott
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt;
&gt; 

-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060206141727</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-06 14:17:27-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] my wishlist</subject><body>


Scott,

&gt; Thanks Steph. So what is the official minimum version of PHP needed now?
I still use php 5.1.1

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060206142620</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-06 14:26:20-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] my wishlist</subject><body>

Anything this side of that change will do :) Not really, there was something 
in ZE2 a couple of weeks ago that affects us too. Best either take the 5.1.2 
release or a 5_1 branch snapshot (http://snaps.php.net)

- Steph

----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, February 06, 2006 4:17 PM
Subject: Re: [PHP-GTK-DEV] my wishlist

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060206173712</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-06 17:37:12-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] my wishlist</subject><body>

Got a sample script showing how to use it?

-Andrei

On Feb 5, 2006, at 11:55 PM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;&gt; Only if you promise to write me some nice simple demo scripts that I
&gt;&gt; can use in Montreal for the presentation. :)
&gt; At least for the drag'n'dop methods you can use the Gtk2_FileDrop
&gt; package as example. It hit PEAR yesterday.
&gt;
&gt; Thanks for implementing.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060206173832</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-06 17:38:32-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] my wishlist</subject><body>

It's hard to show complete working apps and explain how they work. What 
I'm looking for are several smaller apps that illustrate approaches to 
building GUI's in PHP-GTK, either via Glade or not. Something like, how 
to do drag-n-drop, how to build an GtkEntry with validation, how to 
display DB data, etc.

-Andrei

On Feb 1, 2006, at 10:41 AM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;&gt; Only if you promise to write me some nice simple demo scripts that I
&gt;&gt; can use in Montreal for the presentation. :)
&gt; Your wish is my command.
&gt; Don't forget that you already have some working PHP-Gtk2 apps
&gt; (Dev_Inspector, Dev_GuiInspector, PEAR_Frontend_Gtk2) that you could 
&gt; show.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060206174154</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-06 17:41:54-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] my wishlist</subject><body>


Andrei,


&gt;&gt; At least for the drag'n'dop methods you can use the Gtk2_FileDrop
&gt;&gt; package as example. It hit PEAR yesterday.
&gt; Got a sample script showing how to use it?

After installing it in your local PEAR installation, two scripts are in
$peardir/doc/Gtk2_FileDrop/examples/

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060204200414</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-04 20:04:14-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkColorSpace not available/generated</subject><body>

Fixed.

-Andrei


On Feb 4, 2006, at 8:56 AM, Christian Weiske wrote:

&gt; Hi all, especially Andrei
&gt;
&gt;
&gt; GdkColorSpace is defined as enum in gdk-types.defs, but not  
&gt; generated -
&gt; at least the constant is not in the class constants of Gdk::
&gt;
&gt; Bug in the generator?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060204223326</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-04 22:33:26-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkColorSpace not available/generated</subject><body>

$class = new ReflectionClass('Gdk'); might serve you better...

----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Saturday, February 04, 2006 11:52 PM
Subject: Re: [PHP-GTK-DEV] GdkColorSpace not available/generated

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060204141720</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-04 14:17:20-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Some GList* overrides</subject><body>


Andrei,

&gt; Have you actually tested these methods? Do they work?
I tested them, and they worked for me.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060204223537</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-04 22:35:37-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkColorSpace not available/generated</subject><body>

&gt; $class = new ReflectionClass('Gdk'); might serve you better...
Erm... watching Matrix by the way seems to cause brain damage. I hope
you understand :)

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060206130058</emailId><senderName>Werner</senderName><senderEmail>lists@mollentze.co.za</senderEmail><timestampReceived>2006-02-06 13:00:58-0400</timestampReceived><subject>[PHP-GTK-DEV] HTML Widget</subject><body>

Hi, all

Has any HTML-Widget been implemented yet (or any widget capable of 
rendering HTML markup) ?

I scanned all the widgets, looking for a candidate, but maybe I just 
missed it.

Thanks for your time,
Werner

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060206171434</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-06 17:14:34-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] todo2</subject><body>

Yeah, it's on mine...

----- Original Message ----- 
From: "Pablo Dall'Oglio" &lt;pablo@dalloglio.net&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, February 06, 2006 6:45 PM
Subject: [PHP-GTK-DEV] todo2


&gt; Call to undefined method GtkCalendar::get_date()
&gt; 
&gt; -- 
&gt; :: Pablo Dall'Oglio
&gt; :: www.dalloglio.net
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060206174650</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-02-06 17:46:50-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] my wishlist</subject><body>

Andrei Zmievski wrote:
&gt; It's hard to show complete working apps and explain how they work. What 
&gt; I'm looking for are several smaller apps that illustrate approaches to 
&gt; building GUI's in PHP-GTK, either via Glade or not. Something like, how 
&gt; to do drag-n-drop, how to build an GtkEntry with validation, how to 
&gt; display DB data, etc.

Anant recently updated Gtk_ScorllingLabel to Gtk2_ScrollingLabel. It 
could serve as an example of using timeouts if you need one.

http://cvs.php.net/viewcvs.cgi/pear/Gtk2_ScrollingLabel/


Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060207032900</emailId><senderName>"pablo () php ! net"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-02-07 03:29:00-0400</timestampReceived><subject>[PHP-GTK-DEV] #36313 [NEW]: Pango-WARNING **: Invalid UTF-8 string passed to pango_layout_set_text(</subject><body>

From:             pablo@php.net
Operating system: linux ubuntu breezy
PHP version:      5.1.2
PHP Bug Type:     PHP-GTK related
Bug description:  Pango-WARNING **: Invalid UTF-8 string passed to pango_layout_set_text(

Description:
------------
GtkTreeView component complains about UTF-8 encoding when using accented
characters. It also doesn't show the part of the string after the accented
character.

Reproduce code:
---------------
&lt;?php
$window = new GtkWindow;
$window-&gt;set_default_size(200,200);
$window-&gt;set_position(GTK::WIN_POS_CENTER);

$list = new GtkTreeView;

$model = new GtkListStore(Gtk::TYPE_STRING);
$list-&gt;set_model($model);

$column1 = new GtkTreeViewColumn();

$cell_renderer1 = new GtkCellRendererText();
$column1-&gt;pack_start($cell_renderer1, true);

$column1-&gt;set_attributes($cell_renderer1, 'text', 0);

$list-&gt;append_column($column1);

$data[] = array('Pedro');
$data[] = array('Maria');
$data[] = array('Jos');
$data[] = array('Automvel');
$data[] = array('Joo');

foreach ($data as $copa)
{
    $iter = $model-&gt;append($copa);
}

$window-&gt;add($list);
$window-&gt;show_all();
Gtk::Main();
?&gt;

Expected result:
----------------
no warnings, show the right string on GtkTreeView

Actual result:
--------------
warnings, do not show the appropriated string with accented characters.

-- 
Edit bug report at http://bugs.php.net/?id=36313&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=36313&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.1): http://bugs.php.net/fix.php?id=36313&amp;r=trysnapshot51
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=36313&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=36313&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=36313&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=36313&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=36313&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=36313&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=36313&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=36313&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=36313&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=36313&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=36313&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=36313&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=36313&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=36313&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=36313&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=36313&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=36313&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=36313&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060102110559</emailId><senderName>"jcohen at codeux dot com"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-01-02 11:05:59-0400</timestampReceived><subject>[PHP-GTK-DEV] #35871 [NEW]: GTK Scribble Widget and Demo</subject><body>

From:             jcohen at codeux dot com
Operating system: Gentoo Linux 2005.1-r1
PHP version:      5.1.1
PHP Bug Type:     PHP-GTK related
Bug description:  GTK Scribble Widget and Demo

Description:
------------
PHP-GTK 2.0 Beta (from 01/01/2006 CVS) fails to run the "scribble" demo.
Everything else runs. GDB reports the failure at this line of code:

if (destructor-&gt;op_array.fn_flags &amp; (ZEND_ACC_PRIVATE|ZEND_ACC_PROTECTED))
{

The error is a seg fault that occurs EVERYTIME. I have recompiled PHP
5.1.1 and PHP-GTK2 with no success.

Expected result:
----------------
GTK Scribble widget to work

Actual result:
--------------
Segment Fault with no other messages

-- 
Edit bug report at http://bugs.php.net/?id=35871&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=35871&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.1): http://bugs.php.net/fix.php?id=35871&amp;r=trysnapshot51
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=35871&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=35871&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=35871&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=35871&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=35871&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=35871&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=35871&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=35871&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=35871&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=35871&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=35871&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=35871&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=35871&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=35871&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=35871&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=35871&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=35871&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=35871&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060102165650</emailId><senderName>Christopher Logan</senderName><senderEmail>chris@b40d.com</senderEmail><timestampReceived>2006-01-02 16:56:50-0400</timestampReceived><subject>[PHP-GTK-DEV] php-gtk2 fedora core 4</subject><body>

Hi all,
I had PHP-GTK2 working on my Fedora machine a while back I even printed 
out some build instructions but I have seemed to have lost them and had 
to reinstall Fedora. I also remember seeing a post in the list of nearly 
the same build instructions but that was after I had got it working. I 
have looked quite extensively but to no avail. Does anyone have some 
build instructions for getting PHP-GTK2 working on Fedora Core 4 such as 
required packages and the things to disable in the config when building 
php-gtk2? I remember needing most of the dev packages and compiling PHP 
5.1 with cli and having to disable quite a few things when compiling 
PHP-GTK2.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060103180258</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-03 18:02:58-0400</timestampReceived><subject>[PHP-GTK-DEV] interesting buglet</subject><body>

Hey Andrei,

I was debugging something completely unrelated (PHP stuff) and left 
display_startup_errors = 1 in the php.ini I use for PHP-GTK 2.

Get this:

C:\php5&gt;php -v

Strict Standards: Declaration of GtkToolbar::set_style() should be 
compatible with that of GtkWidget::set_style() in Unknown on line 0

Strict Standards: Declaration of GtkMenu::set_accel_path() should be 
compatible with that of GtkWidget::set_accel_path() in Unknown on line 0

Strict Standards: Declaration of GtkWindow::mnemonic_activate() should be 
compatible with that of GtkWidget::mnemonic_activate() in Unknown on line 0

Strict Standards: Declaration of GtkMenuItem::set_accel_path() should be 
compatible with that of GtkWidget::set_accel_path() in Unknown on line 0

Strict Standards: Declaration of GtkStatusbar::remove() should be compatible 
with that of GtkContainer::remove() in Unknown on line 0

Strict Standards: Declaration of GtkCList::remove() should be compatible 
with that of GtkContainer::remove() in Unknown on line 0

Strict Standards: Declaration of GtkComboBoxEntry::new_with_model() should 
be compatible with that of GtkComboBox::new_with_model() in Unknown on line 
0
PHP 5.1.2RC2-dev (cli) (built: Jan  3 2006 00:05:59)
Copyright (c) 1997-2006 The PHP Group
Zend Engine v2.1.0, Copyright (c) 1998-2005 Zend Technologies

Guess we need to force display_startup_errors = 0? Or is there some way to 
make PHP know these are internal classes?

- Steph 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060105010206</emailId><senderName></senderName><senderEmail>sfox</senderEmail><timestampReceived>2006-01-05 01:02:06-0400</timestampReceived><subject>[PHP-GTK-DEV] #35871 [Opn-&gt;Ana]: GTK Scribble Widget and Demo</subject><body>

 ID:               35871
 Updated by:       sfox@php.net
 Reported By:      jcohen at codeux dot com
-Status:           Open
+Status:           Analyzed
 Bug Type:         PHP-GTK related
 Operating System: Gentoo Linux 2005.1-r1
 PHP Version:      2.0.0-beta
-Assigned To:      
+Assigned To:      andrei
 New Comment:

Crash stems from a ZE2 change (HEAD and 5_1 branch) made by Dmitry on
15th Nov. -
http://cvs.php.net/diff.php/ZendEngine2/zend_objects_API.c?r1=1.47.2.2&amp;r2=1.47.2.3&amp;ty=u

Guess we need to follow a new party line here?


Previous Comments:
------------------------------------------------------------------------

[2006-01-02 12:05:58] jcohen at codeux dot com

Description:
------------
PHP-GTK 2.0 Beta (from 01/01/2006 CVS) fails to run the "scribble"
demo. Everything else runs. GDB reports the failure at this line of
code:

if (destructor-&gt;op_array.fn_flags &amp;
(ZEND_ACC_PRIVATE|ZEND_ACC_PROTECTED)) {

The error is a seg fault that occurs EVERYTIME. I have recompiled PHP
5.1.1 and PHP-GTK2 with no success.

Expected result:
----------------
GTK Scribble widget to work

Actual result:
--------------
Segment Fault with no other messages


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=35871&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060105010314</emailId><senderName></senderName><senderEmail>sfox</senderEmail><timestampReceived>2006-01-05 01:03:14-0400</timestampReceived><subject>[PHP-GTK-DEV] #35871 [Ana-&gt;Asn]: GTK Scribble Widget and Demo</subject><body>

 ID:               35871
 Updated by:       sfox@php.net
 Reported By:      jcohen at codeux dot com
-Status:           Analyzed
+Status:           Assigned
 Bug Type:         PHP-GTK related
 Operating System: Gentoo Linux 2005.1-r1
 PHP Version:      2.0.0-beta
 Assigned To:      andrei
 New Comment:

Assigning to Andrei.


Previous Comments:
------------------------------------------------------------------------

[2006-01-05 02:02:05] sfox@php.net

Crash stems from a ZE2 change (HEAD and 5_1 branch) made by Dmitry on
15th Nov. -
http://cvs.php.net/diff.php/ZendEngine2/zend_objects_API.c?r1=1.47.2.2&amp;r2=1.47.2.3&amp;ty=u

Guess we need to follow a new party line here?

------------------------------------------------------------------------

[2006-01-02 12:05:58] jcohen at codeux dot com

Description:
------------
PHP-GTK 2.0 Beta (from 01/01/2006 CVS) fails to run the "scribble"
demo. Everything else runs. GDB reports the failure at this line of
code:

if (destructor-&gt;op_array.fn_flags &amp;
(ZEND_ACC_PRIVATE|ZEND_ACC_PROTECTED)) {

The error is a seg fault that occurs EVERYTIME. I have recompiled PHP
5.1.1 and PHP-GTK2 with no success.

Expected result:
----------------
GTK Scribble widget to work

Actual result:
--------------
Segment Fault with no other messages


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=35871&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060105032838</emailId><senderName></senderName><senderEmail>tencent_office@56.com</senderEmail><timestampReceived>2006-01-05 03:28:38-0400</timestampReceived><subject>[PHP-GTK-DEV] =?shift-jis?B?gqCCsILcgvGBeY2hlE6CzINMgVuDj4Fbg2iBeoKggrCCv4Lx?=</subject><body>


ATCgQbgB
http://4525234.com/1292/
)
xiaomenkaixingfulai@Yaho0.com.cn
11:28:38

</body></email><email><emailId>20060108120308</emailId><senderName>"joseph dot cohen at gmail dot com"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-01-08 12:03:08-0400</timestampReceived><subject>[PHP-GTK-DEV] #35930 [NEW]: GTK Scribble Widget and Demo</subject><body>

From:             joseph dot cohen at gmail dot com
Operating system: Gentoo Linux 2005.1-r1
PHP version:      5.1.1
PHP Bug Type:     PHP-GTK related
Bug description:  GTK Scribble Widget and Demo

Description:
------------
gtk::gtk_window_get_size() , gdk::gdk_window_get_size(), $foo-&gt;get_size()
and $foo-&gt;window-&gt;get_size() are all broken.

Reproduce code:
---------------
1st attempt Broken:
$foo = new GtkWindow;
$foo-&gt;get_size(&amp;$x, &amp;$y);
echo $x.' '.$y."\n";

2nd attempt Broken:
$foo = new GtkWindow;
$foo-&gt;window-&gt;get_size(&amp;$x, &amp;$y);
echo $x.' '.$y."\n";

3rd attempt Broken:
$foo = new GtkWindow;
gtk::gtk_window_get_size($foo,&amp;$x,&amp;$y);
echo $x.' '.$y."\n";

4th attempt Broken:
$foo = new GtkWindow;
gtk::gtk_window_get_size($foo-&gt;window,&amp;$x,&amp;$y);
echo $x.' '.$y."\n";

5th attempt Broken:
$foo = new GtkWindow;
gdk::gdk_window_get_size($foo,&amp;$x,&amp;$y);
echo $x.' '.$y."\n";

6th attempt Broken:
$foo = new GtkWindow;
gdk::gdk_window_get_size($foo-&gt;window,&amp;$x,&amp;$y);
echo $x.' '.$y."\n";


Expected result:
----------------
return of width and heigth of window.

Actual result:
--------------
Fatal error: Call to undefined method GdkWindow::get_size() in...

OR

Fatal error: Call to undefined method Gtk::gtk_window_get_size() in...

OR

Fatal error: Call to undefined method Gdk::gdk_window_get_size() in...

-- 
Edit bug report at http://bugs.php.net/?id=35930&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=35930&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.1): http://bugs.php.net/fix.php?id=35930&amp;r=trysnapshot51
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=35930&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=35930&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=35930&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=35930&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=35930&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=35930&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=35930&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=35930&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=35930&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=35930&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=35930&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=35930&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=35930&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=35930&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=35930&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=35930&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=35930&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=35930&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060108130143</emailId><senderName></senderName><senderEmail>sfox</senderEmail><timestampReceived>2006-01-08 13:01:43-0400</timestampReceived><subject>[PHP-GTK-DEV] #35930 [Opn-&gt;Sus]: GTK Scribble Widget and Demo</subject><body>

 ID:               35930
 Updated by:       sfox@php.net
 Reported By:      joseph dot cohen at gmail dot com
-Status:           Open
+Status:           Suspended
 Bug Type:         PHP-GTK related
 Operating System: Gentoo Linux 2005.1-r1
 PHP Version:      5.1.1
-Assigned To:      
+Assigned To:      sfox
 New Comment:

PHP-GTK is still pre-beta, and there are quite a few methods that have
not been (manually) written yet. When you see that error message, it
just means you've found another of these... but they're listed in the
build logs anyway.

When we _do_ get around to writing them, the syntax you're using here
won't work anyway(!). It's not gtk::gtk_window_get_size(), it's
GtkWindow::get_size(), and we'll implement it in PHP so that you don't
pass parameters to either of these functions.

Leaving the bug report open for now as a reminder to self to implement
get_size() and get_position() for GtkWindow - I'm not entirely sure
whether the GdkDrawable version of get_size() should be exposed in user
space.




Previous Comments:
------------------------------------------------------------------------

[2006-01-08 13:03:07] joseph dot cohen at gmail dot com

Description:
------------
gtk::gtk_window_get_size() , gdk::gdk_window_get_size(),
$foo-&gt;get_size() and $foo-&gt;window-&gt;get_size() are all broken.

Reproduce code:
---------------
1st attempt Broken:
$foo = new GtkWindow;
$foo-&gt;get_size(&amp;$x, &amp;$y);
echo $x.' '.$y."\n";

2nd attempt Broken:
$foo = new GtkWindow;
$foo-&gt;window-&gt;get_size(&amp;$x, &amp;$y);
echo $x.' '.$y."\n";

3rd attempt Broken:
$foo = new GtkWindow;
gtk::gtk_window_get_size($foo,&amp;$x,&amp;$y);
echo $x.' '.$y."\n";

4th attempt Broken:
$foo = new GtkWindow;
gtk::gtk_window_get_size($foo-&gt;window,&amp;$x,&amp;$y);
echo $x.' '.$y."\n";

5th attempt Broken:
$foo = new GtkWindow;
gdk::gdk_window_get_size($foo,&amp;$x,&amp;$y);
echo $x.' '.$y."\n";

6th attempt Broken:
$foo = new GtkWindow;
gdk::gdk_window_get_size($foo-&gt;window,&amp;$x,&amp;$y);
echo $x.' '.$y."\n";


Expected result:
----------------
return of width and heigth of window.

Actual result:
--------------
Fatal error: Call to undefined method GdkWindow::get_size() in...

OR

Fatal error: Call to undefined method Gtk::gtk_window_get_size() in...

OR

Fatal error: Call to undefined method Gdk::gdk_window_get_size() in...


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=35930&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060108130842</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-08 13:08:42-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] #35878 [NEW]: GtkText()</subject><body>

Sorry Scott, this passed under my radar.

I'd call it a 'won't fix', but it's up to Andrei ultimately...  Andrei, 
pronounce?


----- Original Message ----- 
From: "Scott Mattocks" &lt;scott@crisscott.com&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, January 03, 2006 3:32 PM
Subject: Re: [PHP-GTK-DEV] #35878 [NEW]: GtkText()


&gt; jcohen at codeux dot com wrote:
&gt;&gt; From:             jcohen at codeux dot com
&gt;&gt; Operating system: Gentoo 2005.1-r1
&gt;&gt; PHP version:      5.1.1
&gt;&gt; PHP Bug Type:     PHP-GTK related
&gt;&gt; Bug description:  GtkText()
&gt;&gt;
&gt;&gt; Description:
&gt;&gt; ------------
&gt;&gt; Fatal error: Class 'GtkText' not found in...
&gt;&gt; Error does not appear on PHP-GTK 1.x but does appear on PHP-GTK 2 / CVS
&gt;
&gt; GtkText is deprecated. Should this bug be marked as "will not fix" or will 
&gt; deprecated classes be implemented eventually also?
&gt;
&gt; http://developer.gnome.org/doc/API/2.0/gtk/GtkText.html
&gt;
&gt; -- 
&gt; Scott Mattocks
&gt; scott@crisscott.com
&gt; http://www.crisscott.com
&gt; http://pear.php.net/user/scottmattocks
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1349 (20060102) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060108150902</emailId><senderName></senderName><senderEmail>sfox</senderEmail><timestampReceived>2006-01-08 15:09:02-0400</timestampReceived><subject>[PHP-GTK-DEV] #35930 [Sus-&gt;Csd]: GTK Scribble Widget and Demo</subject><body>

 ID:               35930
 Updated by:       sfox@php.net
 Reported By:      joseph dot cohen at gmail dot com
-Status:           Suspended
+Status:           Closed
 Bug Type:         PHP-GTK related
 Operating System: Gentoo Linux 2005.1-r1
 PHP Version:      5.1.1
 Assigned To:      sfox
 New Comment:

This bug has been fixed in CVS.

Snapshots of the sources are packaged every three hours; this change
will be in the next snapshot. You can grab the snapshot at
http://snaps.php.net/.
 
Thank you for the report, and for helping us make PHP better.

I got around to implementing get_size() and get_position() for
GtkWindow now (since they're easy). Awaiting Andrei's decision on
GdkWindow::get_size(), but closing this report as there's a way to pick
up these dimensions in user space now.


Previous Comments:
------------------------------------------------------------------------

[2006-01-08 14:01:41] sfox@php.net

PHP-GTK is still pre-beta, and there are quite a few methods that have
not been (manually) written yet. When you see that error message, it
just means you've found another of these... but they're listed in the
build logs anyway.

When we _do_ get around to writing them, the syntax you're using here
won't work anyway(!). It's not gtk::gtk_window_get_size(), it's
GtkWindow::get_size(), and we'll implement it in PHP so that you don't
pass parameters to either of these functions.

Leaving the bug report open for now as a reminder to self to implement
get_size() and get_position() for GtkWindow - I'm not entirely sure
whether the GdkDrawable version of get_size() should be exposed in user
space.



------------------------------------------------------------------------

[2006-01-08 13:03:07] joseph dot cohen at gmail dot com

Description:
------------
gtk::gtk_window_get_size() , gdk::gdk_window_get_size(),
$foo-&gt;get_size() and $foo-&gt;window-&gt;get_size() are all broken.

Reproduce code:
---------------
1st attempt Broken:
$foo = new GtkWindow;
$foo-&gt;get_size(&amp;$x, &amp;$y);
echo $x.' '.$y."\n";

2nd attempt Broken:
$foo = new GtkWindow;
$foo-&gt;window-&gt;get_size(&amp;$x, &amp;$y);
echo $x.' '.$y."\n";

3rd attempt Broken:
$foo = new GtkWindow;
gtk::gtk_window_get_size($foo,&amp;$x,&amp;$y);
echo $x.' '.$y."\n";

4th attempt Broken:
$foo = new GtkWindow;
gtk::gtk_window_get_size($foo-&gt;window,&amp;$x,&amp;$y);
echo $x.' '.$y."\n";

5th attempt Broken:
$foo = new GtkWindow;
gdk::gdk_window_get_size($foo,&amp;$x,&amp;$y);
echo $x.' '.$y."\n";

6th attempt Broken:
$foo = new GtkWindow;
gdk::gdk_window_get_size($foo-&gt;window,&amp;$x,&amp;$y);
echo $x.' '.$y."\n";


Expected result:
----------------
return of width and heigth of window.

Actual result:
--------------
Fatal error: Call to undefined method GdkWindow::get_size() in...

OR

Fatal error: Call to undefined method Gtk::gtk_window_get_size() in...

OR

Fatal error: Call to undefined method Gdk::gdk_window_get_size() in...


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=35930&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060109023402</emailId><senderName>"jcohen at codeux dot com"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-01-09 02:34:02-0400</timestampReceived><subject>[PHP-GTK-DEV] #35878 [Opn-&gt;Csd]: GtkText()</subject><body>

 ID:               35878
 User updated by:  jcohen at codeux dot com
 Reported By:      jcohen at codeux dot com
-Status:           Open
+Status:           Closed
 Bug Type:         PHP-GTK related
 Operating System: Gentoo 2005.1-r1
 PHP Version:      2.0.0-beta
 New Comment:

This bug is because gtk 2 doesn't have the gtk 1.2 gtktext object but
the gtktextview object.


Previous Comments:
------------------------------------------------------------------------

[2006-01-03 06:51:06] jcohen at codeux dot com

Description:
------------
Fatal error: Class 'GtkText' not found in...
Error does not appear on PHP-GTK 1.x but does appear on PHP-GTK 2 / CVS

Reproduce code:
---------------
&lt;?php

$foo = &amp;new GtkText();

?&gt;

Expected result:
----------------
GtkText widget should appear

Actual result:
--------------
Fatal error: Class 'GtkText' not found in...


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=35878&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060109042326</emailId><senderName></senderName><senderEmail>sfox</senderEmail><timestampReceived>2006-01-09 04:23:26-0400</timestampReceived><subject>[PHP-GTK-DEV] #35878 [Csd-&gt;Sus]: GtkText()</subject><body>

 ID:               35878
 Updated by:       sfox@php.net
 Reported By:      jcohen at codeux dot com
-Status:           Closed
+Status:           Suspended
 Bug Type:         PHP-GTK related
 Operating System: Gentoo 2005.1-r1
 PHP Version:      2.0.0-beta
 New Comment:

Hang on a minute.  You should subscribe to the php-gtk-dev list.  We're
still trying to decide whether GtkText should be part of PHP-GTK 2 or
not - given that it's part of GTK 2...


Previous Comments:
------------------------------------------------------------------------

[2006-01-09 03:34:01] jcohen at codeux dot com

This bug is because gtk 2 doesn't have the gtk 1.2 gtktext object but
the gtktextview object.

------------------------------------------------------------------------

[2006-01-03 06:51:06] jcohen at codeux dot com

Description:
------------
Fatal error: Class 'GtkText' not found in...
Error does not appear on PHP-GTK 1.x but does appear on PHP-GTK 2 / CVS

Reproduce code:
---------------
&lt;?php

$foo = &amp;new GtkText();

?&gt;

Expected result:
----------------
GtkText widget should appear

Actual result:
--------------
Fatal error: Class 'GtkText' not found in...


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=35878&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060110044856</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-10 04:48:56-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Wiki Under Attack</subject><body>

One of those image thingies would definitely do the trick - I settled for a 
bit of javascript, but it's giving me the infamous '
Warning: Cannot modify header information - headers already sent ' now it's 
gone live.  Guess I should've tested it properly locally :-\


----- Original Message ----- 
From: "Jp" &lt;jp@jp-corner.uni.cc&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "Scott Mattocks" &lt;scott@crisscott.com&gt;; &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, January 10, 2006 6:39 AM
Subject: Re: [PHP-GTK-DEV] Wiki Under Attack

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060111020653</emailId><senderName>"joseph dot cohen at gmail dot com"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-01-11 02:06:53-0400</timestampReceived><subject>[PHP-GTK-DEV] #35966 [NEW]: missing GdkPixbuf::new_from_xpm_data</subject><body>

From:             joseph dot cohen at gmail dot com
Operating system: Gentoo Linux 2005.1-r1
PHP version:      5.1.1
PHP Bug Type:     PHP-GTK related
Bug description:  missing GdkPixbuf::new_from_xpm_data

Description:
------------
missing method to import xpm array string into a GdkPixbuf
(GdkPixbuf::new_from_xpm_data or something.) Should be easy to implement
but I don't know how to modify the php-gtk source since I suck at C and
don't understand the code. Can someone please implement this asap. This
function is Different from the "new_from_inline" function which takes C
source code.

Here is a ref:
http://gtk2-perl.sourceforge.net/doc/pod/Gtk2/Gdk/Pixbuf.html#pixbuf_Gtk2_Gdk_Pixb2


-- 
Edit bug report at http://bugs.php.net/?id=35966&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=35966&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.1): http://bugs.php.net/fix.php?id=35966&amp;r=trysnapshot51
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=35966&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=35966&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=35966&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=35966&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=35966&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=35966&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=35966&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=35966&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=35966&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=35966&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=35966&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=35966&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=35966&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=35966&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=35966&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=35966&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=35966&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=35966&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060112105259</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-12 10:52:59-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [PHP-GTK] PHP-GTK2 : Problem with draw_pixbuf within a GtkDrawingArea</subject><body>

Already reported... 'tis due to a Zend Engine change.

----- Original Message ----- 
From: "Anant Narayanan" &lt;anant@kix.in&gt;
To: &lt;cyril.cottet@toyota-tiee.com&gt;; "GTK-DEV" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Wednesday, January 11, 2006 12:10 PM
Subject: [PHP-GTK-DEV] Re: [PHP-GTK] PHP-GTK2 : Problem with draw_pixbuf 
within a GtkDrawingArea


Hello All,

&gt; load but the image is not shown. The thing is that I get no warning
&gt; message so I've no clue about what happens. Here is the source code I'm

I get a segmentation fault when I run the program on *nix (Gentoo);
probably an internal error?

Any ideas anyone?

Regards,
--
Anant Narayanan
-------------------------
Find Freedom!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060112205458</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-01-12 20:54:58-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: interesting buglet</subject><body>

Should be fixed in CVS now.

-Andrei

On Jan 8, 2006, at 5:17 AM, Steph Fox wrote:

&gt; This is another of those 'not a standard zend_object struct' issues. 
&gt; The error's thrown when something fails the implementation check in 
&gt; zend_compile.c, which is fine for user space objects but slightly less 
&gt; fine for third-party internal objects.
&gt;
&gt; I mailed a trivial patch to internals@ last week to fix this, but had 
&gt; no feedback. Waiting for Dmitry to return from his holiday.
&gt;
&gt; - Steph
&gt;
&gt; ----- Original Message ----- From: "Andrei Zmievski" 
&gt; &lt;andrei@gravitonic.com&gt;
&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt; Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Tuesday, January 03, 2006 8:13 PM
&gt; Subject: [PHP-GTK-DEV] Re: interesting buglet
&gt;
&gt;
&gt;&gt; Ask the person who implemented that warning, perhaps?
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt; On Jan 3, 2006, at 10:02 AM, Steph Fox wrote:
&gt;&gt;
&gt;&gt;&gt; Hey Andrei,
&gt;&gt;&gt;
&gt;&gt;&gt; I was debugging something completely unrelated (PHP stuff) and left 
&gt;&gt;&gt; display_startup_errors = 1 in the php.ini I use for PHP-GTK 2.
&gt;&gt;&gt;
&gt;&gt;&gt; Get this:
&gt;&gt;&gt;
&gt;&gt;&gt; C:\php5&gt;php -v
&gt;&gt;&gt;
&gt;&gt;&gt; Strict Standards: Declaration of GtkToolbar::set_style() should be 
&gt;&gt;&gt; compatible with that of GtkWidget::set_style() in Unknown on line 0
&gt;&gt;&gt;
&gt;&gt;&gt; Strict Standards: Declaration of GtkMenu::set_accel_path() should be 
&gt;&gt;&gt; compatible with that of GtkWidget::set_accel_path() in Unknown on 
&gt;&gt;&gt; line 0
&gt;&gt;&gt;
&gt;&gt;&gt; Strict Standards: Declaration of GtkWindow::mnemonic_activate() 
&gt;&gt;&gt; should be compatible with that of GtkWidget::mnemonic_activate() in 
&gt;&gt;&gt; Unknown on line 0
&gt;&gt;&gt;
&gt;&gt;&gt; Strict Standards: Declaration of GtkMenuItem::set_accel_path() 
&gt;&gt;&gt; should be compatible with that of GtkWidget::set_accel_path() in 
&gt;&gt;&gt; Unknown on line 0
&gt;&gt;&gt;
&gt;&gt;&gt; Strict Standards: Declaration of GtkStatusbar::remove() should be 
&gt;&gt;&gt; compatible with that of GtkContainer::remove() in Unknown on line 0
&gt;&gt;&gt;
&gt;&gt;&gt; Strict Standards: Declaration of GtkCList::remove() should be 
&gt;&gt;&gt; compatible with that of GtkContainer::remove() in Unknown on line 0
&gt;&gt;&gt;
&gt;&gt;&gt; Strict Standards: Declaration of GtkComboBoxEntry::new_with_model() 
&gt;&gt;&gt; should be compatible with that of GtkComboBox::new_with_model() in 
&gt;&gt;&gt; Unknown on line 0
&gt;&gt;&gt; PHP 5.1.2RC2-dev (cli) (built: Jan  3 2006 00:05:59)
&gt;&gt;&gt; Copyright (c) 1997-2006 The PHP Group
&gt;&gt;&gt; Zend Engine v2.1.0, Copyright (c) 1998-2005 Zend Technologies
&gt;&gt;&gt;
&gt;&gt;&gt; Guess we need to force display_startup_errors = 0? Or is there some 
&gt;&gt;&gt; way to make PHP know these are internal classes?
&gt;&gt;&gt;
&gt;&gt;&gt; - Steph
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1350 (20060103) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060112211325</emailId><senderName>       151.155.5.180</senderName><senderEmail></senderEmail><timestampReceived>2006-01-12 21:13:25-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkPlug and GtkSocket</subject><body>

Hello all..

Have the GtkPlug and Socket classes been fully implemented yet for linux?  I
get the following error anytime I try to create a GtkPlug object. 

"Fatal error: Class GtkPlug cannot be instantiated directly"

I've been trying any GtkPlug demo/sample code I can find for the original
php-gtk without any luck... maybe I'm missing some new syntax or rules with
php-gtk2 ?

Thanks for your time.

- Sean


&lt;?php
//file: window.php

$label  = new GtkLabel( '...SHOW ME THE WINDOW !!!');
$window = new GtkWindow();
$window-&gt;connect_simple('destroy', array('gtk', 'main_quit'));
$window-&gt;set_title( 'this window will be stolen');
$window-&gt;set_default_size( 200, 100);

$vbox = new GtkVBox();

$window-&gt;add( $label);
$window-&gt;show_all();
echo 'window xid: ' . $window-&gt;window-&gt;xid . "\r\n";
Gtk::main();
?&gt;

...then run

&lt;?php
//file: plugin.php

if( $GLOBALS['argc'] !== 2) {
        //check to see if winXID was passed
        die ("\r\n! Please pass the Window XID you wish to plug (try: xwininfo
-int) !\r\n\r\n");      
}

$win = new GtkWindow();
$win-&gt;set_position(Gtk::WIN_POS_CENTER);
$win-&gt;set_default_size(640, 480);
$win-&gt;connect_simple('destroy', array('gtk', 'main_quit'));
$win-&gt;set_title('you complete me, if you can...');

//setup the socket
  $sock = new GtkSocket();
  $win-&gt;add($sock);
  $sock-&gt;realize();
  $sock_id = $sock-&gt;$GLOBALS['argv'][1];

//use the window xid passed in
  $plug = new GtkPlug($GLOBALS['argv'][1]);
  $plug-&gt;construct($sock_id);
  $plug-&gt;show_all();

$win-&gt;show_all();
Gtk::main();
?&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060113023425</emailId><senderName></senderName><senderEmail>sfox</senderEmail><timestampReceived>2006-01-13 02:34:25-0400</timestampReceived><subject>[PHP-GTK-DEV] #35871 [Asn-&gt;Csd]: GTK Scribble Widget and Demo</subject><body>

 ID:               35871
 Updated by:       sfox@php.net
 Reported By:      jcohen at codeux dot com
-Status:           Assigned
+Status:           Closed
 Bug Type:         PHP-GTK related
 Operating System: Gentoo Linux 2005.1-r1
 PHP Version:      2.0.0-beta
 Assigned To:      andrei
 New Comment:

This bug has been fixed in CVS.

Snapshots of the sources are packaged every three hours; this change
will be in the next snapshot. You can grab the snapshot at
http://snaps.php.net/.
 
Thank you for the report, and for helping us make PHP better.

Andrei fixed this in CVS today.  Thanks!


Previous Comments:
------------------------------------------------------------------------

[2006-01-05 02:03:14] sfox@php.net

Assigning to Andrei.

------------------------------------------------------------------------

[2006-01-05 02:02:05] sfox@php.net

Crash stems from a ZE2 change (HEAD and 5_1 branch) made by Dmitry on
15th Nov. -
http://cvs.php.net/diff.php/ZendEngine2/zend_objects_API.c?r1=1.47.2.2&amp;r2=1.47.2.3&amp;ty=u

Guess we need to follow a new party line here?

------------------------------------------------------------------------

[2006-01-02 12:05:58] jcohen at codeux dot com

Description:
------------
PHP-GTK 2.0 Beta (from 01/01/2006 CVS) fails to run the "scribble"
demo. Everything else runs. GDB reports the failure at this line of
code:

if (destructor-&gt;op_array.fn_flags &amp;
(ZEND_ACC_PRIVATE|ZEND_ACC_PROTECTED)) {

The error is a seg fault that occurs EVERYTIME. I have recompiled PHP
5.1.1 and PHP-GTK2 with no success.

Expected result:
----------------
GTK Scribble widget to work

Actual result:
--------------
Segment Fault with no other messages


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=35871&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060113092351</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-13 09:23:51-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Bug: activate on GtkEntry</subject><body>

Thanks - would you mind opening a bug report on this one too please? (Higher 
visibility level.)

----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Friday, January 13, 2006 11:05 AM
Subject: [PHP-GTK-DEV] Bug: activate on GtkEntry

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060113093434</emailId><senderName>"cweiske () php ! net"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-01-13 09:34:34-0400</timestampReceived><subject>[PHP-GTK-DEV] #35990 [NEW]: activate signal on GtkEntry throws warning</subject><body>

From:             cweiske@php.net
Operating system: any
PHP version:      5.1.2
PHP Bug Type:     PHP-GTK related
Bug description:  activate signal on GtkEntry throws warning

Description:
------------
I get a warning when using the activate signal on a GtkEntry.


Reproduce code:
---------------
&lt;?php
//Start it and press return. Warning will come
$wnd = new GtkWindow();
$wnd-&gt;connect_simple('destroy', array('gtk', 'main_quit'));

$entry = new GtkEntry();
function echoit($value) { echo $value . "\r\n";}
$entry-&gt;connect_simple('activate', 'echoit', 'test');

$wnd-&gt;add($entry);
$wnd-&gt;show_all();
Gtk::main();
?&gt;



Expected result:
----------------
output: test

Actual result:
--------------
PHP Warning:  PHP-GTK internal error: unsupported type (null) in
/data/cvs/phpgtk2/php-gtk/test/bug_gtkentry_activate.phpw on line 9
PHP Warning:  Could not convert return value of signal callback
'echoit' to '(null)' in
/data/cvs/phpgtk2/php-gtk/test/bug_gtkentry_activate.phpw on line 9

-- 
Edit bug report at http://bugs.php.net/?id=35990&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=35990&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.1): http://bugs.php.net/fix.php?id=35990&amp;r=trysnapshot51
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=35990&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=35990&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=35990&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=35990&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=35990&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=35990&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=35990&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=35990&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=35990&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=35990&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=35990&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=35990&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=35990&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=35990&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=35990&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=35990&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=35990&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=35990&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060109195814</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-01-09 19:58:14-0400</timestampReceived><subject>[PHP-GTK-DEV] Wiki Under Attack</subject><body>

Hello,

The gtk.php.net wiki is currently under attack by a really anoying bot. 
Unfortunately I can't stop it right now. If someone has a way to stop 
this bot, please do so. It looks like it is feeding off of itself, 
inadvertantly creating links and then posting on those pages and 
creating more links. Also if anyone knows of good way to clean up the 
wiki please let me know.

Thanks,
Scott Mattocks

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060111102237</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-01-11 10:22:37-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: [PHP-GTK] PHP-GTK2 : Problem with draw_pixbuf within a GtkDrawingArea</subject><body>

Hello All,

&gt; load but the image is not shown. The thing is that I get no warning
&gt; message so I've no clue about what happens. Here is the source code I'm

I get a segmentation fault when I run the program on *nix (Gentoo);
probably an internal error?

Any ideas anyone?

Regards,
--
Anant Narayanan
-------------------------
Find Freedom!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060103181343</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-01-03 18:13:43-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: interesting buglet</subject><body>

Ask the person who implemented that warning, perhaps?

-Andrei

On Jan 3, 2006, at 10:02 AM, Steph Fox wrote:

&gt; Hey Andrei,
&gt;
&gt; I was debugging something completely unrelated (PHP stuff) and left 
&gt; display_startup_errors = 1 in the php.ini I use for PHP-GTK 2.
&gt;
&gt; Get this:
&gt;
&gt; C:\php5&gt;php -v
&gt;
&gt; Strict Standards: Declaration of GtkToolbar::set_style() should be 
&gt; compatible with that of GtkWidget::set_style() in Unknown on line 0
&gt;
&gt; Strict Standards: Declaration of GtkMenu::set_accel_path() should be 
&gt; compatible with that of GtkWidget::set_accel_path() in Unknown on line 
&gt; 0
&gt;
&gt; Strict Standards: Declaration of GtkWindow::mnemonic_activate() should 
&gt; be compatible with that of GtkWidget::mnemonic_activate() in Unknown 
&gt; on line 0
&gt;
&gt; Strict Standards: Declaration of GtkMenuItem::set_accel_path() should 
&gt; be compatible with that of GtkWidget::set_accel_path() in Unknown on 
&gt; line 0
&gt;
&gt; Strict Standards: Declaration of GtkStatusbar::remove() should be 
&gt; compatible with that of GtkContainer::remove() in Unknown on line 0
&gt;
&gt; Strict Standards: Declaration of GtkCList::remove() should be 
&gt; compatible with that of GtkContainer::remove() in Unknown on line 0
&gt;
&gt; Strict Standards: Declaration of GtkComboBoxEntry::new_with_model() 
&gt; should be compatible with that of GtkComboBox::new_with_model() in 
&gt; Unknown on line 0
&gt; PHP 5.1.2RC2-dev (cli) (built: Jan  3 2006 00:05:59)
&gt; Copyright (c) 1997-2006 The PHP Group
&gt; Zend Engine v2.1.0, Copyright (c) 1998-2005 Zend Technologies
&gt;
&gt; Guess we need to force display_startup_errors = 0? Or is there some 
&gt; way to make PHP know these are internal classes?
&gt;
&gt; - Steph

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060113090513</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-13 09:05:13-0400</timestampReceived><subject>[PHP-GTK-DEV] Bug: activate on GtkEntry</subject><body>


Hello readers,

I get a warning when using the activate signal on a GtkEntry:

&lt;?php
//Start it and press return. Warning will come
$wnd = new GtkWindow();
$wnd-&gt;connect_simple('destroy', array('gtk', 'main_quit'));

$entry = new GtkEntry();
function echoit($value) { echo $value . "\r\n";}
$entry-&gt;connect_simple('activate', 'echoit', 'test');

$wnd-&gt;add($entry);
$wnd-&gt;show_all();
Gtk::main();
?&gt;

Output:
&gt; PHP Warning:  PHP-GTK internal error: unsupported type (null) in
&gt; /data/cvs/phpgtk2/php-gtk/test/bug_gtkentry_activate.phpw on line 9
&gt; PHP Warning:  Could not convert return value of signal callback
&gt; 'echoit' to '(null)' in
&gt; /data/cvs/phpgtk2/php-gtk/test/bug_gtkentry_activate.phpw on line 9

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060108131753</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-08 13:17:53-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: interesting buglet</subject><body>

This is another of those 'not a standard zend_object struct' issues. The 
error's thrown when something fails the implementation check in 
zend_compile.c, which is fine for user space objects but slightly less fine 
for third-party internal objects.

I mailed a trivial patch to internals@ last week to fix this, but had no 
feedback. Waiting for Dmitry to return from his holiday.

- Steph

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, January 03, 2006 8:13 PM
Subject: [PHP-GTK-DEV] Re: interesting buglet


&gt; Ask the person who implemented that warning, perhaps?
&gt;
&gt; -Andrei
&gt;
&gt; On Jan 3, 2006, at 10:02 AM, Steph Fox wrote:
&gt;
&gt;&gt; Hey Andrei,
&gt;&gt;
&gt;&gt; I was debugging something completely unrelated (PHP stuff) and left 
&gt;&gt; display_startup_errors = 1 in the php.ini I use for PHP-GTK 2.
&gt;&gt;
&gt;&gt; Get this:
&gt;&gt;
&gt;&gt; C:\php5&gt;php -v
&gt;&gt;
&gt;&gt; Strict Standards: Declaration of GtkToolbar::set_style() should be 
&gt;&gt; compatible with that of GtkWidget::set_style() in Unknown on line 0
&gt;&gt;
&gt;&gt; Strict Standards: Declaration of GtkMenu::set_accel_path() should be 
&gt;&gt; compatible with that of GtkWidget::set_accel_path() in Unknown on line 0
&gt;&gt;
&gt;&gt; Strict Standards: Declaration of GtkWindow::mnemonic_activate() should be 
&gt;&gt; compatible with that of GtkWidget::mnemonic_activate() in Unknown on line 
&gt;&gt; 0
&gt;&gt;
&gt;&gt; Strict Standards: Declaration of GtkMenuItem::set_accel_path() should be 
&gt;&gt; compatible with that of GtkWidget::set_accel_path() in Unknown on line 0
&gt;&gt;
&gt;&gt; Strict Standards: Declaration of GtkStatusbar::remove() should be 
&gt;&gt; compatible with that of GtkContainer::remove() in Unknown on line 0
&gt;&gt;
&gt;&gt; Strict Standards: Declaration of GtkCList::remove() should be compatible 
&gt;&gt; with that of GtkContainer::remove() in Unknown on line 0
&gt;&gt;
&gt;&gt; Strict Standards: Declaration of GtkComboBoxEntry::new_with_model() 
&gt;&gt; should be compatible with that of GtkComboBox::new_with_model() in 
&gt;&gt; Unknown on line 0
&gt;&gt; PHP 5.1.2RC2-dev (cli) (built: Jan  3 2006 00:05:59)
&gt;&gt; Copyright (c) 1997-2006 The PHP Group
&gt;&gt; Zend Engine v2.1.0, Copyright (c) 1998-2005 Zend Technologies
&gt;&gt;
&gt;&gt; Guess we need to force display_startup_errors = 0? Or is there some way 
&gt;&gt; to make PHP know these are internal classes?
&gt;&gt;
&gt;&gt; - Steph
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1350 (20060103) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060111102636</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-01-11 10:26:36-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: [PHP-GTK] PHP-GTK2 : Problem with draw_pixbuf within a GtkDrawingArea</subject><body>

Oops! Forgot the program...

Also, the error doesnt occur when the

connect('expose_event'...)

is commented out...

&lt;?php
error_reporting(E_ALL);

$image_file = "C:\\images\\pic00041.jpg";

$window = new GtkWindow();
$window-&gt;set_border_width(5);
$window-&gt;set_title('GdkPixbuf example');
$window-&gt;set_resizable(false);
$window-&gt;connect_object('destroy', array('gtk', 'main_quit'));

try {
       $pixbuf = GdkPixbuf::new_from_file($image_file);
} catch (PhpGtkGErrorException $e) {
       die($e-&gt;message . "\n");
}

$area = new GtkDrawingArea();
$area-&gt;set_size_request($pixbuf-&gt;get_width(), $pixbuf-&gt;get_height());
$frame = new GtkFrame();
$frame-&gt;add($area);
$frame-&gt;set_shadow_type(Gtk::SHADOW_IN);
$window-&gt;add($frame);

$area-&gt;connect('expose_event', 'expose_event', $pixbuf);

$window-&gt;show_all();

gtk::main();

function expose_event($area, $event, $pixbuf)
{
 $area-&gt;window-&gt;draw_pixbuf($area-&gt;style-&gt;fg_gc[Gtk::STATE_NORMAL],   
                                                     
$pixbuf,$event-&gt;area-&gt;x, $event-&gt;area-&gt;y,
 $event-&gt;area-&gt;x, $event-&gt;area-&gt;y);
}
?&gt;

Regards
--
Anant Narayanan
-------------------------
Find Freedom!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060109201544</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-09 20:15:44-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Wiki Under Attack</subject><body>

It needs an administrator to delete the fake pages...

----- Original Message ----- 
From: "Scott Mattocks" &lt;scott@crisscott.com&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, January 09, 2006 9:58 PM
Subject: [PHP-GTK-DEV] Wiki Under Attack


&gt; Hello,
&gt; 
&gt; The gtk.php.net wiki is currently under attack by a really anoying bot. 
&gt; Unfortunately I can't stop it right now. If someone has a way to stop 
&gt; this bot, please do so. It looks like it is feeding off of itself, 
&gt; inadvertantly creating links and then posting on those pages and 
&gt; creating more links. Also if anyone knows of good way to clean up the 
&gt; wiki please let me know.
&gt; 
&gt; Thanks,
&gt; Scott Mattocks
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1357 (20060109) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060109201950</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-01-09 20:19:50-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Wiki Under Attack</subject><body>

Thanks Steph.

The pages can be deleted manually by making the word "delete" the only 
text on the page, but obviously that is going to take a very long time. 
If anyone can clean this up more quicly (someone with access to the file 
system maybe?) that would be greatly appreciated.

Thanks,
Scott

Steph Fox wrote:
&gt; It needs an administrator to delete the fake pages...
&gt; 
&gt; ----- Original Message ----- From: "Scott Mattocks" &lt;scott@crisscott.com&gt;
&gt; To: &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Monday, January 09, 2006 9:58 PM
&gt; Subject: [PHP-GTK-DEV] Wiki Under Attack
&gt; 
&gt; 
&gt;&gt; Hello,
&gt;&gt;
&gt;&gt; The gtk.php.net wiki is currently under attack by a really anoying 
&gt;&gt; bot. Unfortunately I can't stop it right now. If someone has a way to 
&gt;&gt; stop this bot, please do so. It looks like it is feeding off of 
&gt;&gt; itself, inadvertantly creating links and then posting on those pages 
&gt;&gt; and creating more links. Also if anyone knows of good way to clean up 
&gt;&gt; the wiki please let me know.
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Scott Mattocks
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1357 (20060109) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060109203413</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-09 20:34:13-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Wiki Under Attack</subject><body>

Is there any way to block access to non-members temporarily?


----- Original Message ----- 
From: "Scott Mattocks" &lt;scott@crisscott.com&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, January 09, 2006 10:19 PM
Subject: Re: [PHP-GTK-DEV] Wiki Under Attack


&gt; Thanks Steph.
&gt;
&gt; The pages can be deleted manually by making the word "delete" the only 
&gt; text on the page, but obviously that is going to take a very long time. If 
&gt; anyone can clean this up more quicly (someone with access to the file 
&gt; system maybe?) that would be greatly appreciated.
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; Steph Fox wrote:
&gt;&gt; It needs an administrator to delete the fake pages...
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "Scott Mattocks" &lt;scott@crisscott.com&gt;
&gt;&gt; To: &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt; Sent: Monday, January 09, 2006 9:58 PM
&gt;&gt; Subject: [PHP-GTK-DEV] Wiki Under Attack
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; Hello,
&gt;&gt;&gt;
&gt;&gt;&gt; The gtk.php.net wiki is currently under attack by a really anoying bot. 
&gt;&gt;&gt; Unfortunately I can't stop it right now. If someone has a way to stop 
&gt;&gt;&gt; this bot, please do so. It looks like it is feeding off of itself, 
&gt;&gt;&gt; inadvertantly creating links and then posting on those pages and 
&gt;&gt;&gt; creating more links. Also if anyone knows of good way to clean up the 
&gt;&gt;&gt; wiki please let me know.
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks,
&gt;&gt;&gt; Scott Mattocks
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1357 (20060109) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1357 (20060109) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060110042916</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-10 04:29:16-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Wiki Under Attack</subject><body>

Nice one Jp :)

I was trying to put something in there to discourage further attacks, but 
either it hasn't updated or it's somehow just not working there... dunno 
which.  Run out of files to test on now, which is a Good Thing :)

- Steph

----- Original Message ----- 
From: "Steph Fox" &lt;steph@zend.com&gt;
To: "Scott Mattocks" &lt;scott@crisscott.com&gt;; &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, January 09, 2006 10:34 PM
Subject: Re: [PHP-GTK-DEV] Wiki Under Attack


&gt; Is there any way to block access to non-members temporarily?
&gt;
&gt;
&gt; ----- Original Message ----- 
&gt; From: "Scott Mattocks" &lt;scott@crisscott.com&gt;
&gt; To: &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Monday, January 09, 2006 10:19 PM
&gt; Subject: Re: [PHP-GTK-DEV] Wiki Under Attack
&gt;
&gt;
&gt;&gt; Thanks Steph.
&gt;&gt;
&gt;&gt; The pages can be deleted manually by making the word "delete" the only 
&gt;&gt; text on the page, but obviously that is going to take a very long time. 
&gt;&gt; If anyone can clean this up more quicly (someone with access to the file 
&gt;&gt; system maybe?) that would be greatly appreciated.
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Scott
&gt;&gt;
&gt;&gt; Steph Fox wrote:
&gt;&gt;&gt; It needs an administrator to delete the fake pages...
&gt;&gt;&gt;
&gt;&gt;&gt; ----- Original Message ----- From: "Scott Mattocks" 
&gt;&gt;&gt; &lt;scott@crisscott.com&gt;
&gt;&gt;&gt; To: &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt;&gt; Sent: Monday, January 09, 2006 9:58 PM
&gt;&gt;&gt; Subject: [PHP-GTK-DEV] Wiki Under Attack
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Hello,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; The gtk.php.net wiki is currently under attack by a really anoying bot. 
&gt;&gt;&gt;&gt; Unfortunately I can't stop it right now. If someone has a way to stop 
&gt;&gt;&gt;&gt; this bot, please do so. It looks like it is feeding off of itself, 
&gt;&gt;&gt;&gt; inadvertantly creating links and then posting on those pages and 
&gt;&gt;&gt;&gt; creating more links. Also if anyone knows of good way to clean up the 
&gt;&gt;&gt;&gt; wiki please let me know.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Thanks,
&gt;&gt;&gt;&gt; Scott Mattocks
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; __________ NOD32 1.1357 (20060109) Information __________
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1357 (20060109) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1357 (20060109) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060110043958</emailId><senderName>Jp</senderName><senderEmail>jp@jp-corner.uni.cc</senderEmail><timestampReceived>2006-01-10 04:39:58-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Wiki Under Attack</subject><body>


Steph Fox escreveu:
&gt; Nice one Jp :)
&gt; 
&gt; I was trying to put something in there to discourage further attacks,
&gt; but either it hasn't updated or it's somehow just not working there...
&gt; dunno which.  Run out of files to test on now, which is a Good Thing :)
&gt; 
&gt; - Steph
&gt; 


LOL! :)

Just checked the AllRecentChanges, you can claim the "Wiki Cleaner of
the year" award, with over 500 edits! Nice...

About the attacks, one of those image thingies would do the trick, no?
Like, "type the letters you see in the image" before posting kind of
things. Along with that, a nice *BIG* note on the homepage about robots
not crawling the wiki could help too.

Anyway, was a fun night. I'll just fetch some ice for my sore hand :P


-Jp







&gt; ----- Original Message ----- From: "Steph Fox" &lt;steph@zend.com&gt;
&gt; To: "Scott Mattocks" &lt;scott@crisscott.com&gt;; &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Monday, January 09, 2006 10:34 PM
&gt; Subject: Re: [PHP-GTK-DEV] Wiki Under Attack
&gt; 
&gt; 
&gt;&gt; Is there any way to block access to non-members temporarily?
&gt;&gt;
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "Scott Mattocks" &lt;scott@crisscott.com&gt;
&gt;&gt; To: &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt; Sent: Monday, January 09, 2006 10:19 PM
&gt;&gt; Subject: Re: [PHP-GTK-DEV] Wiki Under Attack
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; Thanks Steph.
&gt;&gt;&gt;
&gt;&gt;&gt; The pages can be deleted manually by making the word "delete" the
&gt;&gt;&gt; only text on the page, but obviously that is going to take a very
&gt;&gt;&gt; long time. If anyone can clean this up more quicly (someone with
&gt;&gt;&gt; access to the file system maybe?) that would be greatly appreciated.
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks,
&gt;&gt;&gt; Scott
&gt;&gt;&gt;
&gt;&gt;&gt; Steph Fox wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; It needs an administrator to delete the fake pages...
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; ----- Original Message ----- From: "Scott Mattocks"
&gt;&gt;&gt;&gt; &lt;scott@crisscott.com&gt;
&gt;&gt;&gt;&gt; To: &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt;&gt;&gt; Sent: Monday, January 09, 2006 9:58 PM
&gt;&gt;&gt;&gt; Subject: [PHP-GTK-DEV] Wiki Under Attack
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Hello,
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; The gtk.php.net wiki is currently under attack by a really anoying
&gt;&gt;&gt;&gt;&gt; bot. Unfortunately I can't stop it right now. If someone has a way
&gt;&gt;&gt;&gt;&gt; to stop this bot, please do so. It looks like it is feeding off of
&gt;&gt;&gt;&gt;&gt; itself, inadvertantly creating links and then posting on those
&gt;&gt;&gt;&gt;&gt; pages and creating more links. Also if anyone knows of good way to
&gt;&gt;&gt;&gt;&gt; clean up the wiki please let me know.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Thanks,
&gt;&gt;&gt;&gt;&gt; Scott Mattocks
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; __________ NOD32 1.1357 (20060109) Information __________
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1357 (20060109) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1357 (20060109) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt;
&gt; 


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060113213746</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-13 21:37:46-0400</timestampReceived><subject>[PHP-GTK-DEV] test / please ignore</subject><body>


Just a test.

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20061207050210</emailId><senderName></senderName><senderEmail>andrei</senderEmail><timestampReceived>2006-12-07 05:02:10-0400</timestampReceived><subject>[PHP-GTK-DEV] #39539 [Opn-&gt;Fbk]: new GtkEventBox crash</subject><body>

 ID:               39539
 Updated by:       andrei@php.net
 Reported By:      n dot escuder at intra-links dot com
-Status:           Open
+Status:           Feedback
 Bug Type:         PHP-GTK related
 Operating System: Linux
 PHP Version:      5.2.0
 New Comment:

Please try using this CVS snapshot:

  http://snaps.php.net/php4-STABLE-latest.tar.gz
 
For Windows:
 
  http://snaps.php.net/win32/php4-win32-STABLE-latest.zip

I cannot reproduce this with PHP-GTK CVS and PHP 5.2.0RC4-dev.


Previous Comments:
------------------------------------------------------------------------

[2006-11-16 21:57:27] n dot escuder at intra-links dot com

Description:
------------
php gtk 2 from CVS crash when creating an object of type GtkEventBox()

Reproduce code:
---------------
new GtkEventBox();

Expected result:
----------------
None

Actual result:
--------------
Crash the program


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=39539&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061207050352</emailId><senderName></senderName><senderEmail>andrei</senderEmail><timestampReceived>2006-12-07 05:03:52-0400</timestampReceived><subject>[PHP-GTK-DEV] #39500 [Opn-&gt;Fbk]: Missing signals from GTKEntry</subject><body>

 ID:               39500
 Updated by:       andrei@php.net
 Reported By:      sven dot siwek at gmx dot de
-Status:           Open
+Status:           Feedback
 Bug Type:         PHP-GTK related
 Operating System: Windows XP
 PHP Version:      5.2.0
 New Comment:

Thank you for this bug report. To properly diagnose the problem, we
need a short but complete example script to be able to reproduce
this bug ourselves. 

A proper reproducing script starts with &lt;?php and ends with ?&gt;,
is max. 10-20 lines long and does not require any external 
resources such as databases, etc. If the script requires a 
database to demonstrate the issue, please make sure it creates 
all necessary tables, stored procedures etc.

Please avoid embedding huge scripts into the report.


Previous Comments:
------------------------------------------------------------------------

[2006-11-13 16:43:11] sven dot siwek at gmx dot de

Description:
------------
The Cursor is in a gtkentry. So it has the focus.
Now I do move my mouse to a button or a treeview and do a click.
I dont get the (after)focus-out-event that should be emitted from that
gtkentry on wich was the focus.
However if I move my mouse to an other gtkentry I do receive the
signal.


Expected result:
----------------
I always want to receive a focus-out-event when the gtkentry loses its
focus.

Actual result:
--------------
I do not receive under any circumstances a focus-out-event when a
gtkentry loses its focus.


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=39500&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061207051341</emailId><senderName></senderName><senderEmail>andrei</senderEmail><timestampReceived>2006-12-07 05:13:41-0400</timestampReceived><subject>[PHP-GTK-DEV] #39499 [Opn-&gt;WFx]: Missing signals in GTKNotebook</subject><body>

 ID:               39499
 Updated by:       andrei@php.net
 Reported By:      sven dot siwek at gmx dot de
-Status:           Open
+Status:           Wont fix
 Bug Type:         PHP-GTK related
 Operating System: Windows XP
 PHP Version:      5.2.0
 New Comment:

This does not seem to be PHP-GTK problem. It looks like the signals are
not being emitted at the Gtk+ level. I suggest you ask Gtk+ developers
about this.


Previous Comments:
------------------------------------------------------------------------

[2006-11-13 16:36:14] sven dot siwek at gmx dot de

Description:
------------
I do only get the "switch-page" event from a gtknotebook.
All others ( change-current-page, focus-tab, move-focus-out,
select-page
) seem to be missing. 

I do use gnope 1.5.1 with php 5.1.6

Reproduce code:
---------------
http://www.php-gtk.eu/widgets/gtknotebook

Expected result:
----------------
To receive the missing signals.

Actual result:
--------------
No signals can be received


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=39499&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061209231132</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-12-09 23:11:32-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: another fix</subject><body>

&gt; I attached to this email the last version of my scintilla.overrides.
&gt; As I told before to Andrei, it's working but the code can be improved.

&gt;&gt; Can you commit this?

Committed with minor changes. Thanks Pablo!

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061209232148</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-12-09 23:21:48-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Coverage</subject><body>

&gt; Well, I'm a little busy with the holidays but I have a couple of patches
&gt; here - one to make php-gtk compile correctly with Microsoft Visual C++
&gt; Express (stupid ms) and the other an override for
&gt; GtkActionGroup::list_actions()

I committed only the list_actions() override; Steph, could you have a
look at the other smaller patch and commit?

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061213195807</emailId><senderName>bob majdak jr</senderName><senderEmail>bob@kateos.org</senderEmail><timestampReceived>2006-12-13 19:58:07-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] News for December</subject><body>

looks cool to me. :)

 - bob.

Anant Narayanan wrote:
&gt; An additional news item:
&gt;
&gt;   
&gt;&gt; Interest in PHP-GTK is growing, and this is evident by the increasing
&gt;&gt; number of hits at the community site[1]. The site provides useful tips
&gt;&gt; and code samples for PHP-GTK, be sure to stop by. Also, Christian
&gt;&gt; created a map[2] which tells you where PHP-GTK 2 developers and users
&gt;&gt; are located. Join us on #php-gtk on Freenode and add yourself!
&gt;&gt;     
&gt;
&gt; KateOS (http://www.kateos.org/), a multitasking operating system;
&gt; includes a package manager written entirely in PHP-GTK 2
&gt; (http://wikidoc.kateos.org/index.php/KatePKG-en)! This is the first time
&gt; any distribution has adopted PHP-GTK 2 at such a level; we hope this
&gt; trend continues!
&gt;
&gt;   
&gt;&gt; The Chinese translation of the PHP-GTK 2 manual has now begun. If you
&gt;&gt; are interested in contributing to the documentation or development of
&gt;&gt; PHP-GTK 2 then get in touch[3] with us, and help in making a faster release!
&gt;&gt;
&gt;&gt; Callicore[4] is a framework for PHP-GTK 2 and provides a set of
&gt;&gt; re-usable classes designed to make application development quicker and
&gt;&gt; painless. Though no releases have been made yet, the code from the
&gt;&gt; repository is pretty usable.
&gt;&gt;
&gt;&gt; [1] http://www.php-gtk.eu/
&gt;&gt; [2] http://php-gtk2.de/maps.html
&gt;&gt; [3] http://gtk.php.net/resources.php
&gt;&gt; [4] http://www.callicore.net/
&gt;&gt;     
&gt;
&gt; - Anant
&gt;
&gt;   

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061214020203</emailId><senderName>       24.176.31.201</senderName><senderEmail></senderEmail><timestampReceived>2006-12-14 02:02:03-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: News for December</subject><body>

Andrei Zmievski wrote:
&gt; http://www.callicore.net/
&gt; 
&gt; We linked to a site that is nothing but directory of files??
&gt; 
&gt; -Andrei
&gt; 
&gt; 
&gt; On Dec 13, 2006, at 3:13 PM, Diego do Nascimento Feitosa wrote:
&gt; 
&gt;&gt; Christian,
&gt;&gt;
&gt;&gt; Can you add me, please?
&gt;&gt; *Latitude = -23.6510, Longitude = -46.5988
&gt;&gt;
&gt;&gt; *Thanks!!*
&gt;&gt; *
&gt;&gt; Andrei Zmievski escreveu:
&gt;&gt;&gt; The news looks good to me. Let's post it.
&gt;&gt;&gt;
&gt;&gt;&gt; Oh, and as far as maps:
&gt;&gt;&gt;
&gt;&gt;&gt;     http://php-gtk2.de/maps.html
&gt;&gt;&gt;
&gt;&gt;&gt; Can someone add me? Lat: 37.3975394221, Lon: -122.0974159241
&gt;&gt;&gt;
&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Diego Feitosa
&gt;&gt; www.dnfeitosa.com &lt;http://www.dnfeitosa.com&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
No, someone was playing with the httpd.conf and screwed up the 
severalias - fixed now

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061217191503</emailId><senderName>"anant () kix ! in"</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-12-17 19:15:03-0400</timestampReceived><subject>RE: [PHP-GTK-DEV] safe_emalloc() usage</subject><body>

Andrei,

&gt; http://news.php.net/php.gtk.cvs/2582 
&gt; Your changes are incorrect. safe_emalloc()'s signature is:
&gt; void *_safe_emalloc(size_t nmemb, size_t size, size_t offset);

My apologies. I was trying to standardize its usage and apparently chose
the wrong order. Corrected and Committed.

Best Regards,

- Anant

--------------------------------------------------------------------
mail2web - Check your email from the web at
http://mail2web.com/ .

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20061217193903</emailId><senderName>"Anant Narayanan"</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-12-17 19:39:03-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Scintilla (Again)</subject><body>

Hi Fernando!

&gt; I too make the version from Tom work, the version that is build direct
&gt; from scintilla(without the GtkScintilla). I think that we can not have
&gt; both, so let us choose one one.

Indeed. We wanted to decide on this earlier but I guess the issue was lost
somewhere in the middle.

&gt; For me, we choose the version from Tom(sorry Anant), but it is more
&gt; recent, use the latest scintilla, and works on windows too.

The general consensus seems to be towards Tom's version. I have to agree
too, it is much simpler to link directly to Scintilla rather than
GtkScintilla, especially given that GtkScintilla isn't maintained anymore.

Trouble is, I can't get Tom's version to build on *nix here. I tried a
couple of times earlier, but didn't really get anywhere. I'll replace my
version with Tom's as soon as we get it to work on *nix. If Steph can
confirm it works on Windows, she can commit that too.

This shouldn't affect any of the end-users in any way. They won't even
notice that the backend between the alpha-beta releases are different;
except for the fact that they need one less dependency (gtkscintilla).

-- 
Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061217215050</emailId><senderName>"Anant Narayanan"</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-12-17 21:50:50-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Fwd: scintilla</subject><body>

Andrei,

&gt; So it doesn't get lost.

This was committed some time ago.

-- 
Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061218232123</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-12-18 23:21:23-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] clone seg fault</subject><body>

So... I should know this :-)

regards
Pablo

Em Seg, 2006-12-18 s 14:54 -0800, Andrei Zmievski escreveu:
&gt; Cloning is not supported yet. But it will be.
&gt; 
&gt; -Andrei
&gt; 
&gt; 
&gt; On Dec 18, 2006, at 1:15 PM, Pablo Dall'Oglio wrote:
&gt; 
&gt; &gt; This clone gives me a segmentation fault.
&gt; &gt; Am I missing something somewhere ?
&gt; &gt; or there's something wrong internally ?
&gt; &gt;
&gt; &gt; &lt;?php
&gt; &gt;         $janela = new GtkWindow;
&gt; &gt;         $vbox = new GtkVBox;
&gt; &gt;         $janela-&gt;add($vbox);
&gt; &gt;         $botao1 = new GtkButton('botao 1');
&gt; &gt;         $botao2 = clone $botao1;
&gt; &gt;         $botao2-&gt;set_label('botao 2');
&gt; &gt;         $vbox-&gt;pack_start($botao1);
&gt; &gt;         $vbox-&gt;pack_start($botao2);
&gt; &gt;         $janela-&gt;show_all();
&gt; &gt;         Gtk::Main();
&gt; &gt; ?&gt;
&gt; &gt;
&gt; &gt; best regards
&gt; &gt; Pablo
&gt; &gt;
&gt; &gt; -- 
&gt; &gt; :: Pablo Dall'Oglio
&gt; &gt; :: www.pablo.blog.br
&gt; &gt;
&gt; &gt; -- 
&gt; &gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; &gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
-- 
:: Pablo Dall'Oglio
:: www.pablo.blog.br

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061219201037</emailId><senderName>"Anant Narayanan"</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-12-19 20:10:37-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Windows Compiling Fun</subject><body>

&gt; Sorry, I can't type today
&gt; http://callicore.net/desktop/build is the correct url and has all the
&gt; fun stuff

I believe that the really correct URL is:
http://www.callicore.net/desktop/builds/ :)

&gt; I haven't played with it too much yet but it hasn't crashed so far and
&gt; appears to work fine (not sure if you have to have aspell installed on
&gt; the box as well - I already did for gaim :)

Wonderful, so we have everything working on Windows too! (I think xxoes
got Mozembed working sometime back, but it required too many
dependencies).

On *nix, GtkSpell depends on enchant; which is a unified wrapper for a
number of spell check libraries available, which includes aspell, ispell,
hspell and hunspell. I don't how it works on Windows, but a spell-check
library is definitely required to build GtkSpell. My guess is that it did
pick up your aspell installation.

Also, the extension is not perfect since GtkSpell doesn't really have a
GType and PHP-GTK 2 doesn't like that. It's not a fatal error though, so
the extension just works(TM).

&gt; Well, my next trick will be fiddling with finishing drag and drop with
&gt; treeviews...I'm sure I'll be crashing a lot :)

Good luck with that and Scintilla!

Cheers,
-- 
Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061101171503</emailId><senderName>"phporcaffeine at gmail dot com"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-11-01 17:15:03-0400</timestampReceived><subject>[PHP-GTK-DEV] #39335 [NEW]: Unresponsive PHP-GTK2 method</subject><body>

From:             phporcaffeine at gmail dot com
Operating system: Win XP Pro (SP2)
PHP version:      5.1.6
PHP Bug Type:     PHP-GTK related
Bug description:  Unresponsive PHP-GTK2 method

Description:
------------
GKT Version: 2

PHP Version: 5.1.4 (5.1.6 was the only 5.1.x listed)

GtkAboutDialog::set_website_label() does not render any results.  It
doesn't generate any noticable errors either.

It just doesn't do anything.  Oddly enough though,
GtkAboutDialog::set_website() works just fine.

I have tried several implementations/uses of the method with no luck.
*******************************************************
$gktAboutDialog-&gt;set_website_label("text"); //NO LUCK

$gktAboutDialog-&gt;set_website_label($str); //NO LUCK

GtkAboutDialog::set_website_label() //NOT STATIC METHOD
********************************************************

As far as I can see, the manual makes no mention of depreciation or not
having been implemented yet.

Thanks for looking into it,

-Ryan

Reproduce code:
---------------
&lt;?php

//GTK CLASS CHECK
if (!class_exists("gtk")) {
	
	die("The PHP-GTK class was not detected and therefore this file cannot
continue");
}

/****************************************/

$artists = array("Artist");

$authors = array("Developer");

$title = "Application Information";

$name = "Applcation Name";

$comments = "These are the comments";  

$copyright = "Copyright " . date("Y") . " All Rights Reserved"; 

$license = "This is the license";   

$version = "1.0.0.0";

$website = "http://www.website.com";

$websitelabel = "Web Site Text";

/**************************************/

$about = new gtkAboutDialog();

$about-&gt;set_artists($artists);

$about-&gt;set_authors($authors);

$about-&gt;set_comments($comments);

$about-&gt;set_copyright($copyright);

$about-&gt;set_license($license);

$about-&gt;set_name($name);

$about-&gt;set_version($version);

$about-&gt;set_website_label($websitelabel);

$about-&gt;set_website($website);

$about-&gt;set_title($title);

$about-&gt;connect('destroy', 'main_quit');

$about-&gt;run();

gtk::main();

?&gt;


Expected result:
----------------
I expect to see the literal of the data I provided to the
GtkAboutDialog::set_website_label() method

Actual result:
--------------
I see nothing generated from the GtkAboutDialog::set_website_label()
method.

No errors are generated (I am using E_ALL)

-- 
Edit bug report at http://bugs.php.net/?id=39335&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=39335&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.2): http://bugs.php.net/fix.php?id=39335&amp;r=trysnapshot52
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=39335&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=39335&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=39335&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=39335&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=39335&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=39335&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=39335&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=39335&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=39335&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=39335&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=39335&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=39335&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=39335&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=39335&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=39335&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=39335&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=39335&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=39335&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061101231339</emailId><senderName></senderName><senderEmail>auroraeosrose</senderEmail><timestampReceived>2006-11-01 23:13:39-0400</timestampReceived><subject>[PHP-GTK-DEV] #39335 [Opn-&gt;Bgs]: Unresponsive PHP-GTK2 method</subject><body>

 ID:               39335
 Updated by:       auroraeosrose@php.net
 Reported By:      phporcaffeine at gmail dot com
-Status:           Open
+Status:           Bogus
 Bug Type:         PHP-GTK related
 Operating System: Win XP Pro (SP2)
 PHP Version:      5.1.6
 New Comment:

This is expected behavior.  You must use GtkAboutDialog::set_url_hook()
with a usable callback in order for the website label to be displayed. 
I've added a note to the documentation.


Previous Comments:
------------------------------------------------------------------------

[2006-11-01 17:15:02] phporcaffeine at gmail dot com

Description:
------------
GKT Version: 2

PHP Version: 5.1.4 (5.1.6 was the only 5.1.x listed)

GtkAboutDialog::set_website_label() does not render any results.  It
doesn't generate any noticable errors either.

It just doesn't do anything.  Oddly enough though,
GtkAboutDialog::set_website() works just fine.

I have tried several implementations/uses of the method with no luck.
*******************************************************
$gktAboutDialog-&gt;set_website_label("text"); //NO LUCK

$gktAboutDialog-&gt;set_website_label($str); //NO LUCK

GtkAboutDialog::set_website_label() //NOT STATIC METHOD
********************************************************

As far as I can see, the manual makes no mention of depreciation or not
having been implemented yet.

Thanks for looking into it,

-Ryan

Reproduce code:
---------------
&lt;?php

//GTK CLASS CHECK
if (!class_exists("gtk")) {
	
	die("The PHP-GTK class was not detected and therefore this file cannot
continue");
}

/****************************************/

$artists = array("Artist");

$authors = array("Developer");

$title = "Application Information";

$name = "Applcation Name";

$comments = "These are the comments";  

$copyright = "Copyright " . date("Y") . " All Rights Reserved"; 

$license = "This is the license";   

$version = "1.0.0.0";

$website = "http://www.website.com";

$websitelabel = "Web Site Text";

/**************************************/

$about = new gtkAboutDialog();

$about-&gt;set_artists($artists);

$about-&gt;set_authors($authors);

$about-&gt;set_comments($comments);

$about-&gt;set_copyright($copyright);

$about-&gt;set_license($license);

$about-&gt;set_name($name);

$about-&gt;set_version($version);

$about-&gt;set_website_label($websitelabel);

$about-&gt;set_website($website);

$about-&gt;set_title($title);

$about-&gt;connect('destroy', 'main_quit');

$about-&gt;run();

gtk::main();

?&gt;


Expected result:
----------------
I expect to see the literal of the data I provided to the
GtkAboutDialog::set_website_label() method

Actual result:
--------------
I see nothing generated from the GtkAboutDialog::set_website_label()
method.

No errors are generated (I am using E_ALL)


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=39335&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061101233055</emailId><senderName>"Marietta Haywood"</senderName><senderEmail>tjvsons@barefoot.be</senderEmail><timestampReceived>2006-11-01 23:30:55-0400</timestampReceived><subject>[PHP-GTK-DEV]  from Kurt re Wed pm piano</subject><body>

-S`ensationall revoolution in medicine!

-E''''nlarge your p''enis up to 10 cm or up to 4 i,c,h,e,s!

-Its h-erbal solution what hasnt side effect, but has 100% g'uaranted results!


Clisk here: http://rapgroupies.info















On September 9th she went on trial for the murder of Girl Christopher, a female child \
one day of age. His limp would have been deeper and more pronounced if he had been \
walking on his own foot instead of a custom-made prosthesis. She did not show up with \
his medication until nine o'clock, and by then he needed it quite badly  so badly \
that he had been thinking of going to his stash.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20061216194052</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-12-16 19:40:52-0400</timestampReceived><subject>[PHP-GTK-DEV] safe_emalloc() usage</subject><body>

Anant,

http://news.php.net/php.gtk.cvs/2582

Your changes are incorrect. safe_emalloc()'s signature is:

void *_safe_emalloc(size_t nmemb, size_t size, size_t offset);

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061216165639</emailId><senderName>       Fernando_Correa_da_Conceio</senderName><senderEmail></senderEmail><timestampReceived>2006-12-16 16:56:39-0400</timestampReceived><subject>[PHP-GTK-DEV] Scintilla (Again)</subject><body>

So, I found a bug in GtkScintilla2.0.1.0 that do not let me use it, and 
I posted on general list the very simple fix for it. And it now it works 
well.

I too make the version from Tom work, the version that is build direct 
from scintilla(without the GtkScintilla). I think that we can not have 
both, so let us choose one one.

For me, we choose the version from Tom(sorry Anant), but it is more 
recent, use the latest scintilla, and works on windows too.

If you choose the version from tom, I have some questions about the 
build system, as scintilla do not install anything, I have to copy the 
include dir to /usr/include and scintilla.a to the php-gtk dir, and edit 
the makefile after configure. So my questions are:

1. How I can add "../scintilla/bin/scintilla.a" to the makefile? In the 
line where is the libs?

2. How I can add "../" to the path where the compiler(gcc) search the 
include files? Or find other way to change the path to the scintilla 
includes? Or we must request that the user install this headers on their 
/usr/include?

3. How I can add the output of "pkg-config --libs gtk+-2.0 gthread-2.0" 
to the makefile after scintilla.a?

4. I have to rename gen_scintilla.c to scintilla.c, so the build system 
do not recreate it(in a wrong way), so must do the same for the build 
system on windows.

-- 

    Fernando Correa da Conceio
    fernandoc@php.net
    icq: 168518047 msn: fernandocphp@hotmail.com

    http://manualphp.sf.net
    Participe da traduo do manual do PHP

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061217213606</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-12-17 21:36:06-0400</timestampReceived><subject>[PHP-GTK-DEV] Fwd: scintilla</subject><body>

So it doesn't get lost.

-Andrei


Begin forwarded message:

&gt; From: "Pablo Dall'Oglio" &lt;pablo@dalloglio.net&gt;
&gt; Date: November 4, 2006 10:22:09 AM PST
&gt; To: Andrei Zmievski &lt;andrei@gravitonic.com&gt;
&gt; Subject: scintilla
&gt;
&gt; Hi Andrei,
&gt;
&gt; I finally got scintilla compiled on my ubuntu. Now I started to port
&gt; Tulip Editor to php-gtk2. I needed get_cur_line() method but it was  
&gt; not
&gt; working so I adapted the code of scintilla from php-gtk1. It worked
&gt; fine, but I'm not a C programmer, Could you tell me if this code is
&gt; terrible or is a candidate for CVS ?
&gt;
&gt; If yes, it will be my first contribution to the project :-) A very
&gt; humble contribution...
&gt;
&gt; best regards
&gt; Pablo
&gt;
&gt; static PHP_METHOD(GtkScintilla, get_cur_line)
&gt; {
&gt;         long length, line_pos;
&gt;         char *text;
&gt;         gchar *cp_ret;
&gt;         gsize cp_len;
&gt;         zend_bool free_result;
&gt;         NOT_STATIC_METHOD();
&gt;
&gt;         if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
&gt;                 return;
&gt;
&gt;         GtkScintilla *scintilla = GTK_SCINTILLA(PHPG_GOBJECT 
&gt; (this_ptr));
&gt;
&gt;         length = gtk_scintilla_line_length(scintilla,
&gt; gtk_scintilla_line_from_position(scintilla,
&gt; gtk_scintilla_get_current_pos(scintilla))) + 1;
&gt;         text = (char *)emalloc(length);
&gt;         line_pos = gtk_scintilla_get_cur_line(scintilla, length,  
&gt; text);
&gt;         cp_ret = phpg_from_utf8(text, strlen(text), &amp;cp_len,
&gt; &amp;free_result TSRMLS_CC);
&gt;         if (cp_ret)
&gt;         {
&gt;             RETVAL_STRINGL((char *)cp_ret, cp_len, 1);
&gt;         }
&gt;         else
&gt;         {
&gt;            php_error(E_WARNING, "%s::%s(): could not convert return
&gt; value from UTF-8",     get_active_class_name(NULL TSRMLS_CC),
&gt; get_active_function_name(TSRMLS_C));
&gt;         }
&gt;         if (free_result)
&gt;             g_free(cp_ret);
&gt; }
&gt;
&gt; -- 
&gt; :: Pablo Dall'Oglio
&gt; :: www.dalloglio.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061218211516</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-12-18 21:15:16-0400</timestampReceived><subject>[PHP-GTK-DEV] clone seg fault</subject><body>

This clone gives me a segmentation fault.
Am I missing something somewhere ?
or there's something wrong internally ?

&lt;?php
        $janela = new GtkWindow;
        $vbox = new GtkVBox;
        $janela-&gt;add($vbox);
        $botao1 = new GtkButton('botao 1');
        $botao2 = clone $botao1;
        $botao2-&gt;set_label('botao 2');
        $vbox-&gt;pack_start($botao1);
        $vbox-&gt;pack_start($botao2);
        $janela-&gt;show_all();
        Gtk::Main();
?&gt;

best regards
Pablo

-- 
:: Pablo Dall'Oglio
:: www.pablo.blog.br

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061218225402</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-12-18 22:54:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] clone seg fault</subject><body>

Cloning is not supported yet. But it will be.

-Andrei


On Dec 18, 2006, at 1:15 PM, Pablo Dall'Oglio wrote:

&gt; This clone gives me a segmentation fault.
&gt; Am I missing something somewhere ?
&gt; or there's something wrong internally ?
&gt;
&gt; &lt;?php
&gt;         $janela = new GtkWindow;
&gt;         $vbox = new GtkVBox;
&gt;         $janela-&gt;add($vbox);
&gt;         $botao1 = new GtkButton('botao 1');
&gt;         $botao2 = clone $botao1;
&gt;         $botao2-&gt;set_label('botao 2');
&gt;         $vbox-&gt;pack_start($botao1);
&gt;         $vbox-&gt;pack_start($botao2);
&gt;         $janela-&gt;show_all();
&gt;         Gtk::Main();
&gt; ?&gt;
&gt;
&gt; best regards
&gt; Pablo
&gt;
&gt; -- 
&gt; :: Pablo Dall'Oglio
&gt; :: www.pablo.blog.br
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061102002654</emailId><senderName></senderName><senderEmail>sfox</senderEmail><timestampReceived>2006-11-02 00:26:54-0400</timestampReceived><subject>[PHP-GTK-DEV] #39335 [Bgs-&gt;Opn]: Unresponsive PHP-GTK2 method</subject><body>

 ID:               39335
 Updated by:       sfox@php.net
 Reported By:      phporcaffeine at gmail dot com
-Status:           Bogus
+Status:           Open
 Bug Type:         PHP-GTK related
 Operating System: Win XP Pro (SP2)
 PHP Version:      5.1.6
 New Comment:

Not actually bogus - there should really be a check for the status of
set_url_hook() if possible, and some error message thrown if it's
missing.

I'd have assumed that the label was just that - a label - and not
necessarily a link. Another alternative would be to make it call
set_website() if there's no callback in place.

Whatever. It doesn't matter which approach we take, it shouldn't fail
silently anyway.


Previous Comments:
------------------------------------------------------------------------

[2006-11-01 23:13:38] auroraeosrose@php.net

This is expected behavior.  You must use GtkAboutDialog::set_url_hook()
with a usable callback in order for the website label to be displayed. 
I've added a note to the documentation.

------------------------------------------------------------------------

[2006-11-01 17:15:02] phporcaffeine at gmail dot com

Description:
------------
GKT Version: 2

PHP Version: 5.1.4 (5.1.6 was the only 5.1.x listed)

GtkAboutDialog::set_website_label() does not render any results.  It
doesn't generate any noticable errors either.

It just doesn't do anything.  Oddly enough though,
GtkAboutDialog::set_website() works just fine.

I have tried several implementations/uses of the method with no luck.
*******************************************************
$gktAboutDialog-&gt;set_website_label("text"); //NO LUCK

$gktAboutDialog-&gt;set_website_label($str); //NO LUCK

GtkAboutDialog::set_website_label() //NOT STATIC METHOD
********************************************************

As far as I can see, the manual makes no mention of depreciation or not
having been implemented yet.

Thanks for looking into it,

-Ryan

Reproduce code:
---------------
&lt;?php

//GTK CLASS CHECK
if (!class_exists("gtk")) {
	
	die("The PHP-GTK class was not detected and therefore this file cannot
continue");
}

/****************************************/

$artists = array("Artist");

$authors = array("Developer");

$title = "Application Information";

$name = "Applcation Name";

$comments = "These are the comments";  

$copyright = "Copyright " . date("Y") . " All Rights Reserved"; 

$license = "This is the license";   

$version = "1.0.0.0";

$website = "http://www.website.com";

$websitelabel = "Web Site Text";

/**************************************/

$about = new gtkAboutDialog();

$about-&gt;set_artists($artists);

$about-&gt;set_authors($authors);

$about-&gt;set_comments($comments);

$about-&gt;set_copyright($copyright);

$about-&gt;set_license($license);

$about-&gt;set_name($name);

$about-&gt;set_version($version);

$about-&gt;set_website_label($websitelabel);

$about-&gt;set_website($website);

$about-&gt;set_title($title);

$about-&gt;connect('destroy', 'main_quit');

$about-&gt;run();

gtk::main();

?&gt;


Expected result:
----------------
I expect to see the literal of the data I provided to the
GtkAboutDialog::set_website_label() method

Actual result:
--------------
I see nothing generated from the GtkAboutDialog::set_website_label()
method.

No errors are generated (I am using E_ALL)


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=39335&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061219150319</emailId><senderName>Elizabeth Smith</senderName><senderEmail>emsmith@elizabethmariesmith.com</senderEmail><timestampReceived>2006-12-19 15:03:19-0400</timestampReceived><subject>[PHP-GTK-DEV] Windows Compiling Fun</subject><body>

Hi all,

I've been working on getting PHP-Gtk2 compiling on a regular basis on 
Windows.  I'm putting precompiled binaries in 
http://calliore.net/desktop/build that you can download if you'd like.

I also have windows dll's, headers and libs for gtksourceview, gtkspell 
and libglade compiled with msvc that are available in the same location. 
   I've also included the config headers and def files I used. If you'd 
like the visual studio project files for them as well give me a mail.  I 
used msys to create the configuration for them and .def files to export 
symbols so I didn't have to mangle any source (well, except for one 
gtksourceview bugfix but I submitted it upstream).

I'm currently working on getting a build system set up so I can build 
binaries on a regular basis.  I've started building against the 2.8.x 
gtk libs because the gtksourceview and libglade versions I used require 
it and php-gtk2 doesn't seem to notice the difference.  I used the 
latest versions of sourceview and glade because Tor Lillqvist has 
submitted quite a few win32 specific fixes.

I'm having some problems with the php-gtk2 sourceview extension, the 
linker seems to be a bit insane

&gt; php_sourceview.obj : error LNK2019: unresolved external symbol _phpg_gtksourcevi
&gt; ew_register_constants referenced in function _php_gtk_xinit_sourceview
&gt; php_sourceview.obj : error LNK2019: unresolved external symbol _phpg_gtksourcevi
&gt; ew_register_classes referenced in function _php_gtk_xinit_sourceview

Which is goofy because it should be finding it just fine.  Even goofier 
because gtkspell and libglade are building just fine.

I have plans to get mozemebed (and/or gtkhtml) working as well, but 
they're not completed yet.  I'd also do scintilla but I don't have tom 
rogers version of the php-gtk scintilla extension and anant's version 
requires gtkscintilla which refuses to cooperate with me on windows (and 
isn't really maintained anyway)

If someone could take some time to help me hunt down the sourceview 
problem I'd appreciate it, and does anyone have a copy of Tom's 
scintilla extension they could send my way?

I'd be more helpful with finishing up the code coverage except for the 
fact that I'm more likely to break something, this is my first brush 
with C and I really don't know what I'm doing yet :)

Thanks,
Elizabeth Smith

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061219163517</emailId><senderName>"Anant Narayanan"</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-12-19 16:35:17-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Windows Compiling Fun</subject><body>

Elizabeth,

&gt; I've been working on getting PHP-Gtk2 compiling on a regular basis on
&gt; Windows.  I'm putting precompiled binaries in
&gt; http://calliore.net/desktop/build that you can download if you'd like.

There's a typo there (callicore).

&gt; I also have windows dll's, headers and libs for gtksourceview, gtkspell
&gt; and libglade compiled with msvc that are available in the same location.

PHP-GTK 2 doesn't support GtkSpell AFAIK. Although I had got it working
some time ago, it isn't in CVS yet. Are you able to use GtkSpell in your
applications, and if so, how?

&gt; If someone could take some time to help me hunt down the sourceview
&gt; problem I'd appreciate it, and does anyone have a copy of Tom's
&gt; scintilla extension they could send my way?

This post might help:
http://marc.theaimsgroup.com/?l=php-gtk-dev&amp;m=114467816623201&amp;w=2

&gt; I'd be more helpful with finishing up the code coverage except for the
&gt; fact that I'm more likely to break something, this is my first brush
&gt; with C and I really don't know what I'm doing yet :)

Don't be afraid to break anything :)

Cheers!
-- 
Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061219181247</emailId><senderName>Elizabeth Smith</senderName><senderEmail>emsmith@elizabethmariesmith.com</senderEmail><timestampReceived>2006-12-19 18:12:47-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Windows Compiling Fun</subject><body>

Sorry, I can't type today
http://callicore.net/desktop/build is the correct url and has all the 
fun stuff

I've been using your extension, Anant, for gtkspell, you still had a 
download lying around.  I managed to get gtkspell compiled for windows, 
wrote a config.win32 for it and voila, it compiles.
I haven't played with it too much yet but it hasn't crashed so far and 
appears to work fine (not sure if you have to have aspell installed on 
the box as well - I already did for gaim :)

I'll see if I can get that scintilla building (the regular scintilla 
extension even has a makefile for msvc - that makes me sooo happy)
&gt; Don't be afraid to break anything :)
&gt;
&gt; Cheers!
&gt;   
Well, my next trick will be fiddling with finishing drag and drop with 
treeviews...I'm sure I'll be crashing a lot :)

Thanks for the scintilla info!

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061106033322</emailId><senderName>someGuy</senderName><senderEmail>rtarrant@sympatico.ca</senderEmail><timestampReceived>2006-11-06 03:33:22-0400</timestampReceived><subject>[PHP-GTK-DEV] Cursor Position Not Updated</subject><body>


Hi all,

Problem: The cursor position in both the GtkEntry and GtkTextView are not
properly updated after moving the cursor under program control (inserting
text).

Operating System: Windows only

PHP-Gtk2 version: Gnope 1.5.1 (php-gtk2 alpha?) date stamp: July 18, 2006

Code for GtkTextView:

&lt;?php

$clipboard = GtkClipboard::get();

$textView = new GtkTextView();

$window = new GtkWindow();
$window-&gt;add($textView);
$window-&gt;show_all();

$startMark = $textView-&gt;get_buffer()-&gt;get_insert();
$startIter = $textView-&gt;get_buffer()-&gt;get_iter_at_mark($startMark);
$startPosition = $startIter-&gt;get_offset();

echo("Before:\nTextMark: " . $startMark . "\n" .
	  "Iter: " . $startIter . "\n" .
	  "cursor position: " . $startPosition . "\n\n");

$clipboard-&gt;set_text("test");
$textView-&gt;get_buffer()-&gt;paste_clipboard($clipboard, null, true);

$endMark = $textView-&gt;get_buffer()-&gt;get_insert();
$endIter = $textView-&gt;get_buffer()-&gt;get_iter_at_mark($endMark);
$endPosition = $endIter-&gt;get_offset();

echo("After:\nTextMark: " . $endMark . "\n" .
	  "Iter: " . $endIter . "\n" .
	  "cursor position: " . $endPosition . "\n");

gtk::main();

?&gt;


Code for GtkEntry:

&lt;?php

$clipboard = GtkClipboard::get();

$entry = new GtkEntry();

$window = new GtkWindow();
$window-&gt;add($entry);
$window-&gt;show_all();

$startPosition = $entry-&gt;get_position();
echo("Before:\n" .
	  "cursor position: " . $startPosition . "\n\n");

$clipboard-&gt;set_text("test");
$entry-&gt;paste_clipboard();

$endPosition = $entry-&gt;get_position();
echo("After:\n" .
	  "cursor position: " . $endPosition . "\n");

gtk::main();

?&gt;


These two code fragments work properly with Linux and FreeBSD.

-Ron T.

-- 
View this message in context: http://www.nabble.com/Cursor-Position-Not-Updated-tf2580232.html#a7192836
Sent from the Php - GTK - Dev mailing list archive at Nabble.com.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061106071839</emailId><senderName>"Anant Narayanan"</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-11-06 07:18:39-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkEntry Mystery</subject><body>

Hey Ron,

&gt; Problem: No character shows up on first call to GtkEntry::get_chars()

This is expected behaviour:

&gt; $entry-&gt;connect("key-press-event", "preProcess");

You're using the key-press-event signal which means that preProcess is
actually called before the character is even inserted into the entry.
Change the signal to "changed" and all is well.

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061110223431</emailId><senderName>"Escuder Nicolas"</senderName><senderEmail>n.escuder@intra-links.com</senderEmail><timestampReceived>2006-11-10 22:34:31-0400</timestampReceived><subject>[PHP-GTK-DEV] Crash wen construct GtkEventBox</subject><body>


Hello,

 

My php gtk program crash and i found the crash instruction :

new GtkEventBox();

 

this crash the current cvs version.

 

How can i do please ?

 

 

See You.

 

Escuder Nicolas



 



</body></email><email><emailId>20061113163614</emailId><senderName>"sven dot siwek at gmx dot de"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-11-13 16:36:14-0400</timestampReceived><subject>[PHP-GTK-DEV] #39499 [NEW]: Missing signals in GTKNotebook</subject><body>

From:             sven dot siwek at gmx dot de
Operating system: Windows XP
PHP version:      5.2.0
PHP Bug Type:     PHP-GTK related
Bug description:  Missing signals in GTKNotebook

Description:
------------
I do only get the "switch-page" event from a gtknotebook.
All others ( change-current-page, focus-tab, move-focus-out, select-page
) seem to be missing. 

I do use gnope 1.5.1 with php 5.1.6

Reproduce code:
---------------
http://www.php-gtk.eu/widgets/gtknotebook

Expected result:
----------------
To receive the missing signals.

Actual result:
--------------
No signals can be received

-- 
Edit bug report at http://bugs.php.net/?id=39499&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=39499&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.2): http://bugs.php.net/fix.php?id=39499&amp;r=trysnapshot52
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=39499&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=39499&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=39499&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=39499&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=39499&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=39499&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=39499&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=39499&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=39499&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=39499&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=39499&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=39499&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=39499&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=39499&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=39499&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=39499&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=39499&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=39499&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061113164311</emailId><senderName>"sven dot siwek at gmx dot de"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-11-13 16:43:11-0400</timestampReceived><subject>[PHP-GTK-DEV] #39500 [NEW]: Missing signals from GTKEntry</subject><body>

From:             sven dot siwek at gmx dot de
Operating system: Windows XP
PHP version:      5.2.0
PHP Bug Type:     PHP-GTK related
Bug description:  Missing signals from GTKEntry

Description:
------------
The Cursor is in a gtkentry. So it has the focus.
Now I do move my mouse to a button or a treeview and do a click.
I dont get the (after)focus-out-event that should be emitted from that
gtkentry on wich was the focus.
However if I move my mouse to an other gtkentry I do receive the signal.


Expected result:
----------------
I always want to receive a focus-out-event when the gtkentry loses its
focus.

Actual result:
--------------
I do not receive under any circumstances a focus-out-event when a gtkentry
loses its focus.

-- 
Edit bug report at http://bugs.php.net/?id=39500&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=39500&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.2): http://bugs.php.net/fix.php?id=39500&amp;r=trysnapshot52
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=39500&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=39500&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=39500&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=39500&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=39500&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=39500&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=39500&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=39500&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=39500&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=39500&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=39500&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=39500&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=39500&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=39500&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=39500&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=39500&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=39500&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=39500&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061116215727</emailId><senderName>"n dot escuder at intra-links dot com"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-11-16 21:57:27-0400</timestampReceived><subject>[PHP-GTK-DEV] #39539 [NEW]: new GtkEventBox crash</subject><body>

From:             n dot escuder at intra-links dot com
Operating system: Linux
PHP version:      5.2.0
PHP Bug Type:     PHP-GTK related
Bug description:  new GtkEventBox crash

Description:
------------
php gtk 2 from CVS crash when creating an object of type GtkEventBox()

Reproduce code:
---------------
new GtkEventBox();

Expected result:
----------------
None

Actual result:
--------------
Crash the program

-- 
Edit bug report at http://bugs.php.net/?id=39539&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=39539&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.2): http://bugs.php.net/fix.php?id=39539&amp;r=trysnapshot52
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=39539&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=39539&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=39539&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=39539&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=39539&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=39539&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=39539&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=39539&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=39539&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=39539&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=39539&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=39539&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=39539&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=39539&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=39539&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=39539&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=39539&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=39539&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061116215913</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-11-16 21:59:13-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkTreeStore::insert_before/after parameter order</subject><body>

I don't remember. Feel free to change it.

-Andrei


On Nov 16, 2006, at 1:42 PM, Christian Weiske wrote:

&gt;&gt; PHP-Gtk2 uses insert_before(sibling,parent,array) instead of
&gt;&gt; insert_before(parent,sibling,array) as ruby/python/gtk do.
&gt;&gt;
&gt;&gt; Is there a reason for that? Andrei?
&gt; Actually my patch as of 2006-01-18 had the correct order (see mail
&gt; Message-ID: &lt;43CE21C2.5000603@cweiske.de&gt;)
&gt; Andrei did change and commit it.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061120112459</emailId><senderName>bob majdak jr</senderName><senderEmail>bob@kateos.org</senderEmail><timestampReceived>2006-11-20 11:24:59-0400</timestampReceived><subject>[PHP-GTK-DEV] cvs compile note</subject><body>

just a random note i came across while compiling a cvs checkout on 
November 20th, 2006.

i had a nice time getting php-gtk2 cvs to compile, where first the 
generator.php failed from a ram allocation error, so i upped it and 
re-ran the configure script and had problems with gtk_ce being 
undefined. as it turned out i had to `make clean clean-caches clean-gen` 
and then edit the generator/generator.php memory allowance even more to 
allow it to finish the generation and succeed in the compile. however, i 
had to keep doing this until i had set it to allow 256M in generator.php 
as with anything less it kept exhausting itself and quitting.

once set to 256M (default 64M) everything worked like it should.

- bob.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061121200531</emailId><senderName>"tiptone at gmail dot com"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-11-21 20:05:31-0400</timestampReceived><subject>[PHP-GTK-DEV] #39572 [NEW]: Applications with GtkMozEmbed widget do not exit cleanly.</subject><body>

From:             tiptone at gmail dot com
Operating system: Linux (Ubuntu Edgy Eft)
PHP version:      5.2.0
PHP Bug Type:     PHP-GTK related
Bug description:  Applications with GtkMozEmbed widget do not exit cleanly.

Description:
------------
I fibbed on the version number...

Clean build from CVS of PHP-GTK2 on Ubuntu Edgy Eft with PHP 5.1.6. 
Applications with GtkMozEmbed widget do not exit when Gtk::main_quit is
called, including the provided demo (ext/mozembed/demos/browser.php).

I'm working on a getting a VMWare image with PHP5.2 put together to see if
that fixes the problem as well.

Expected result:
----------------
Exit cleanly.

Actual result:
--------------
Failure to exit.

-- 
Edit bug report at http://bugs.php.net/?id=39572&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=39572&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.2): http://bugs.php.net/fix.php?id=39572&amp;r=trysnapshot52
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=39572&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=39572&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=39572&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=39572&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=39572&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=39572&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=39572&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=39572&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=39572&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=39572&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=39572&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=39572&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=39572&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=39572&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=39572&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=39572&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=39572&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=39572&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061129035636</emailId><senderName>"sunshinesun_9 at 163 dot com"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-11-29 03:56:36-0400</timestampReceived><subject>[PHP-GTK-DEV] #39675 [NEW]: 123</subject><body>

From:             sunshinesun_9 at 163 dot com
Operating system: solaris
PHP version:      5.2.0
PHP Bug Type:     PHP-GTK related
Bug description:  123

Description:
------------
http://bugs.php.net/bug.php?id=27630&amp;edit=1http://bugs.php.net/bug.php?id=27630&amp;edit=1

Reproduce code:
---------------
http://bugs.php.net/bug.php?id=27630&amp;edit=1http://bugs.php.net/bug.php?id=27630&amp;edit=1

Expected result:
----------------
http://bugs.php.net/bug.php?id=27630&amp;edit=1http://bugs.php.net/bug.php?id=27630&amp;edit=1

Actual result:
--------------
http://bugs.php.net/bug.php?id=27630&amp;edit=1http://bugs.php.net/bug.php?id=27630&amp;edit=1

-- 
Edit bug report at http://bugs.php.net/?id=39675&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=39675&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.2): http://bugs.php.net/fix.php?id=39675&amp;r=trysnapshot52
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=39675&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=39675&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=39675&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=39675&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=39675&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=39675&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=39675&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=39675&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=39675&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=39675&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=39675&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=39675&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=39675&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=39675&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=39675&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=39675&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=39675&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=39675&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061129035924</emailId><senderName>"sunshinesun_9 at 163 dot com"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-11-29 03:59:24-0400</timestampReceived><subject>[PHP-GTK-DEV] #39676 [NEW]: Solaris</subject><body>

From:             sunshinesun_9 at 163 dot com
Operating system: Solaris
PHP version:      5.2.0
PHP Bug Type:     PHP-GTK related
Bug description:  Solaris

Description:
------------
./buildconf


PHP Api Version:         20041225
Zend Module Api No:      20060613
Zend Extension Api No:   220060519
configure.in:25: error: possibly undefined macro: AC_MSG_ERROR
      If this token and others are legitimate, please use
m4_pattern_allow.
      See the Autoconf documentation.
configure:3342: error: possibly undefined macro: AM_PATH_GLIB_2_0
configure:3472: error: possibly undefined macro: AM_PATH_GTK_2_0


Reproduce code:
---------------
PHP Api Version:         20041225
Zend Module Api No:      20060613
Zend Extension Api No:   220060519
configure.in:25: error: possibly undefined macro: AC_MSG_ERROR
      If this token and others are legitimate, please use
m4_pattern_allow.
      See the Autoconf documentation.
configure:3342: error: possibly undefined macro: AM_PATH_GLIB_2_0
configure:3472: error: possibly undefined macro: AM_PATH_GTK_2_0


Expected result:
----------------
PHP Api Version:         20041225
Zend Module Api No:      20060613
Zend Extension Api No:   220060519
configure.in:25: error: possibly undefined macro: AC_MSG_ERROR
      If this token and others are legitimate, please use
m4_pattern_allow.
      See the Autoconf documentation.
configure:3342: error: possibly undefined macro: AM_PATH_GLIB_2_0
configure:3472: error: possibly undefined macro: AM_PATH_GTK_2_0


Actual result:
--------------
PHP Api Version:         20041225
Zend Module Api No:      20060613
Zend Extension Api No:   220060519
configure.in:25: error: possibly undefined macro: AC_MSG_ERROR
      If this token and others are legitimate, please use
m4_pattern_allow.
      See the Autoconf documentation.
configure:3342: error: possibly undefined macro: AM_PATH_GLIB_2_0
configure:3472: error: possibly undefined macro: AM_PATH_GTK_2_0


-- 
Edit bug report at http://bugs.php.net/?id=39676&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=39676&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.2): http://bugs.php.net/fix.php?id=39676&amp;r=trysnapshot52
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=39676&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=39676&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=39676&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=39676&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=39676&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=39676&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=39676&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=39676&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=39676&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=39676&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=39676&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=39676&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=39676&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=39676&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=39676&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=39676&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=39676&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=39676&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061129064229</emailId><senderName>"judas dot iscariote at gmail dot com"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-11-29 06:42:29-0400</timestampReceived><subject>[PHP-GTK-DEV] #39676 [Com]: Solaris</subject><body>

 ID:               39676
 Comment by:       judas dot iscariote at gmail dot com
 Reported By:      sunshinesun_9 at 163 dot com
 Status:           Open
 Bug Type:         PHP-GTK related
 Operating System: Solaris
 PHP Version:      5.2.0
 New Comment:

CVS version does not have this errors..


Previous Comments:
------------------------------------------------------------------------

[2006-11-29 03:59:24] sunshinesun_9 at 163 dot com

Description:
------------
./buildconf


PHP Api Version:         20041225
Zend Module Api No:      20060613
Zend Extension Api No:   220060519
configure.in:25: error: possibly undefined macro: AC_MSG_ERROR
      If this token and others are legitimate, please use
m4_pattern_allow.
      See the Autoconf documentation.
configure:3342: error: possibly undefined macro: AM_PATH_GLIB_2_0
configure:3472: error: possibly undefined macro: AM_PATH_GTK_2_0


Reproduce code:
---------------
PHP Api Version:         20041225
Zend Module Api No:      20060613
Zend Extension Api No:   220060519
configure.in:25: error: possibly undefined macro: AC_MSG_ERROR
      If this token and others are legitimate, please use
m4_pattern_allow.
      See the Autoconf documentation.
configure:3342: error: possibly undefined macro: AM_PATH_GLIB_2_0
configure:3472: error: possibly undefined macro: AM_PATH_GTK_2_0


Expected result:
----------------
PHP Api Version:         20041225
Zend Module Api No:      20060613
Zend Extension Api No:   220060519
configure.in:25: error: possibly undefined macro: AC_MSG_ERROR
      If this token and others are legitimate, please use
m4_pattern_allow.
      See the Autoconf documentation.
configure:3342: error: possibly undefined macro: AM_PATH_GLIB_2_0
configure:3472: error: possibly undefined macro: AM_PATH_GTK_2_0


Actual result:
--------------
PHP Api Version:         20041225
Zend Module Api No:      20060613
Zend Extension Api No:   220060519
configure.in:25: error: possibly undefined macro: AC_MSG_ERROR
      If this token and others are legitimate, please use
m4_pattern_allow.
      See the Autoconf documentation.
configure:3342: error: possibly undefined macro: AM_PATH_GLIB_2_0
configure:3472: error: possibly undefined macro: AM_PATH_GTK_2_0



------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=39676&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061129072219</emailId><senderName></senderName><senderEmail>cweiske</senderEmail><timestampReceived>2006-11-29 07:22:19-0400</timestampReceived><subject>[PHP-GTK-DEV] #39675 [Opn-&gt;Bgs]: 123</subject><body>

 ID:               39675
 Updated by:       cweiske@php.net
 Reported By:      sunshinesun_9 at 163 dot com
-Status:           Open
+Status:           Bogus
 Bug Type:         PHP-GTK related
 Operating System: solaris
 PHP Version:      5.2.0
 New Comment:

spam


Previous Comments:
------------------------------------------------------------------------

[2006-11-29 03:56:36] sunshinesun_9 at 163 dot com

Description:
------------
http://bugs.php.net/bug.php?id=27630&amp;edit=1http://bugs.php.net/bug.php?id=27630&amp;edit=1

Reproduce code:
---------------
http://bugs.php.net/bug.php?id=27630&amp;edit=1http://bugs.php.net/bug.php?id=27630&amp;edit=1

Expected result:
----------------
http://bugs.php.net/bug.php?id=27630&amp;edit=1http://bugs.php.net/bug.php?id=27630&amp;edit=1

Actual result:
--------------
http://bugs.php.net/bug.php?id=27630&amp;edit=1http://bugs.php.net/bug.php?id=27630&amp;edit=1


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=39675&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061116213455</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-11-16 21:34:55-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkTreeStore::insert_before/after parameter order</subject><body>


Hello all,


PHP-Gtk2 uses insert_before(sibling,parent,array) instead of
insert_before(parent,sibling,array) as ruby/python/gtk do.

Is there a reason for that? Andrei?

--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20061116214237</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-11-16 21:42:37-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkTreeStore::insert_before/after parameter order</subject><body>


&gt; PHP-Gtk2 uses insert_before(sibling,parent,array) instead of
&gt; insert_before(parent,sibling,array) as ruby/python/gtk do.
&gt; 
&gt; Is there a reason for that? Andrei?
Actually my patch as of 2006-01-18 had the correct order (see mail
Message-ID: &lt;43CE21C2.5000603@cweiske.de&gt;)
Andrei did change and commit it.

-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20061001171547</emailId><senderName>"Marc Quinton"</senderName><senderEmail>mquinton@gmail.com</senderEmail><timestampReceived>2006-10-01 17:15:47-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] phpg_custom_tree_model_class_init() stub</subject><body>

On 9/30/06, Anant Narayanan &lt;anant@kix.in&gt; wrote:
&gt; Andrei,
&gt;
&gt; I added a stub for that method so that CVS copy of PHP-GTK doesn't
&gt; break anymore.
&gt;

yes It works !  ( ubuntu Dapper).

thanks.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061003212605</emailId><senderName>"Anant Narayanan"</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-10-03 21:26:05-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkMozEmbed does not destroy itself</subject><body>

&gt; It seems as GtkMozEmbed does not destroy itself when the signal comes:

Puzzling... I ran the demo script: ext/mozembed/demos/browser.php and
it worked fine for me.

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061003225847</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-10-03 22:58:47-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkMozEmbed open-uri signal returns gpointer</subject><body>

Good. As I explained previously, We cannot allow an arbitrary casting  
of gpointer type. imagine if the gpointer param points to a long (4  
bytes), and we call get_as_string() method on it. Bad things happen.

-Andrei


On Oct 3, 2006, at 2:01 PM, Christian Weiske wrote:

&gt;&gt; Today I came across the next one; it's the open-uri signal in
&gt;&gt; GtkMozEmbed. I just wanted to overwrite the uri loading mechanism,  
&gt;&gt; but
&gt;&gt; cannot do this without getting the actual URI..
&gt;
&gt; Theoretically it should have been already fixed in the Mozilla  
&gt; sources:
&gt; https://bugzilla.mozilla.org/show_bug.cgi?id=297238
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061003231931</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-10-03 23:19:31-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkTreeIter::free() double free</subject><body>

Yeah, you're right. I am nto sure why PyGtk had these methods. They  
should be gone now.

-Andrei


On Oct 3, 2006, at 1:38 PM, Scott Mattocks wrote:

&gt; I ran this from the command line:
&gt;
&gt; $&gt; php -r '$model = new GtkTreeStore(Gtk::TYPE_LONG); $iter =  
&gt; $model-&gt;append(null, array(1)); $iter-&gt;free();'
&gt;
&gt; And got a big ol' glibc dump.
&gt;
&gt; *** glibc detected *** php: double free or corruption (fasttop):  
&gt; 0x0a153a40 ***
&gt; ======= Backtrace: =========
&gt; /lib/libc.so.6[0x4631e0]
&gt; /lib/libc.so.6(__libc_free+0x77)[0x46372b]
&gt; /usr/local/php-gtk/lib/libglib-2.0.so.0(g_free+0x22)[0x594e7a]
&gt; /usr/local/php-gtk/lib/libgtk-x11-2.0.so.0(gtk_tree_iter_free+0x21) 
&gt; [0x8d2de1]
&gt; /usr/local/php-gtk/lib/libgobject-2.0.so.0(g_boxed_free+0xb8) 
&gt; [0x3b1d3c]
&gt; /usr/local/lib/php/extensions/debug-non-zts-20050922/php_gtk2.so 
&gt; [0xf972d8]
&gt; php(zend_objects_store_del_ref+0x81)[0x8262ecd]
&gt; php(_zval_ptr_dtor+0x66)[0x823fc9e]
&gt; ...
&gt;
&gt;
&gt; Do we even need GtkTreeIter::free()?
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061003143824</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-10-03 14:38:24-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkMozEmbed open-uri signal returns gpointer</subject><body>


Hello all,


I previously suggested to create some GPointer methods to convert
GPointer into a string/bool/int/float since some callbacks just have
gpointers.

Today I came across the next one; it's the open-uri signal in
GtkMozEmbed. I just wanted to overwrite the uri loading mechanism, but
cannot do this without getting the actual URI..

--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20061003210136</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-10-03 21:01:36-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkMozEmbed open-uri signal returns gpointer</subject><body>


&gt; Today I came across the next one; it's the open-uri signal in
&gt; GtkMozEmbed. I just wanted to overwrite the uri loading mechanism, but
&gt; cannot do this without getting the actual URI..

Theoretically it should have been already fixed in the Mozilla sources:
https://bugzilla.mozilla.org/show_bug.cgi?id=297238

-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20061003203838</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-10-03 20:38:38-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkTreeIter::free() double free</subject><body>

I ran this from the command line:

$&gt; php -r '$model = new GtkTreeStore(Gtk::TYPE_LONG); $iter = 
$model-&gt;append(null, array(1)); $iter-&gt;free();'

And got a big ol' glibc dump.

*** glibc detected *** php: double free or corruption (fasttop): 
0x0a153a40 ***
======= Backtrace: =========
/lib/libc.so.6[0x4631e0]
/lib/libc.so.6(__libc_free+0x77)[0x46372b]
/usr/local/php-gtk/lib/libglib-2.0.so.0(g_free+0x22)[0x594e7a]
/usr/local/php-gtk/lib/libgtk-x11-2.0.so.0(gtk_tree_iter_free+0x21)[0x8d2de1]
/usr/local/php-gtk/lib/libgobject-2.0.so.0(g_boxed_free+0xb8)[0x3b1d3c]
/usr/local/lib/php/extensions/debug-non-zts-20050922/php_gtk2.so[0xf972d8]
php(zend_objects_store_del_ref+0x81)[0x8262ecd]
php(_zval_ptr_dtor+0x66)[0x823fc9e]
...


Do we even need GtkTreeIter::free()?

Thanks,
Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061009201119</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-10-09 20:11:19-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkTreeSortable::set_default_sort_func needs to accept NULL</subject><body>


GtkTreeSortable::set_default_sort_func needs to accept NULL but
currently doesn't
--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20061010012451</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-10-10 01:24:51-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkTreeSortable::set_default_sort_func needs to accept NULL</subject><body>

Done.

-Andrei


On Oct 9, 2006, at 1:11 PM, Christian Weiske wrote:

&gt; GtkTreeSortable::set_default_sort_func needs to accept NULL but
&gt; currently doesn't
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061010053131</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-10-10 05:31:31-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Custom tree models</subject><body>

No worries. Was just wondering if there was any feedback on the  
implementation approach.

-Andrei


On Oct 9, 2006, at 9:47 PM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;&gt; No comments?
&gt; Sorry to not try out the result of your hard work, but I'm currently
&gt; hogged up with the doc generation..
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061015010319</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-10-15 01:03:19-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GObject constructor</subject><body>

Why would the API change?

-Andrei


On Oct 14, 2006, at 5:50 PM, Steph Fox wrote:

&gt; Can you mark it experimental please?
&gt;
&gt; It sounds like it's likely to need messing with (most likely from  
&gt; yourself admittedly!) but it's probably better to keep it so you  
&gt; need a compile flag for it if the API's likely to change.
&gt;
&gt;
&gt;&gt; Anyways. I'll commit the code. Not like it hurts anything right now.
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; On Oct 14, 2006, at 5:00 PM, Christian Weiske wrote:
&gt;&gt;
&gt;&gt;&gt; Andrei,
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I can only see this being used in a constructor of a custom  
&gt;&gt;&gt;&gt; widget  that
&gt;&gt;&gt;&gt; extends some class..
&gt;&gt;&gt; Exactly that was my intention. With the ability to create custom  
&gt;&gt;&gt; class
&gt;&gt;&gt; properties, you can notify() listening classes about changed  
&gt;&gt;&gt; states in
&gt;&gt;&gt; the object easily - and some other nice things.
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt; Christian Weiske
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061006042747</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-10-06 04:27:47-0400</timestampReceived><subject>[PHP-GTK-DEV] Custom tree models</subject><body>

I've just committed support for custom tree models. The example  
script is pretty short [0]. It pretty much shows how to load up a  
text file and serve it up as model. Note that your iterators pretty  
much have to be objects, since those are returned by handle  
(reference) and thus represent a single value. Due to peculiarities  
of Gtk+ and PHP, any other type will not be freed automatically. In  
which case the return values will keep accumulating in memory and  
will be freed only on exit. This means that you can't do something  
like this for on_get_iter(), iter_next(), iter_parent(), iter_children 
(), iter_nth_child():

   return 5;

or even:

   return $a; // where $a is not an object

Hope this helps,

-Andrei

[0]

&lt;?php

error_reporting(E_ALL);

class MyIter {
         public $idx = null;
}

class FileModel extends PhpGtkCustomTreeModel {

         private $text = array();
         private $iter = null;

         function __construct($filename)
         {
                 parent::__construct();
                 if (is_file($filename)) {
                         $this-&gt;text = file($filename);
                         $this-&gt;iter = new MyIter;
                 } else {
                         throw new Exception("Could not open  
$filename");
                 }
         }

         function on_get_flags()
         {
                 print "on_get_flags\n";
                 return Gtk::TREE_MODEL_LIST_ONLY;
         }

         function on_get_n_columns()
         {
                 print "on_get_n_columns\n";
                 return 1;
         }

         function on_get_column_type($index)
         {
                 print "on_get_column_type\n";
                 return Gtk::TYPE_STRING;
         }

         function on_get_path($node)
         {
                 exit;
                 print "on_get_path\n";
                 return $node;
         }

         function on_get_iter($path)
         {
                 print "on_get_iter\n";
                 assert(count($path) == 1);
                 $this-&gt;iter-&gt;idx = $path[0];
                 return $this-&gt;iter;
         }

         function on_get_value($iter, $n)
         {
                 print "on_get_value\n";
                 assert($n == 0);
                 return $this-&gt;text[$this-&gt;iter-&gt;idx];
         }

         function on_iter_next($iter)
         {
                 print "on_iter_next\n";
                 $num = count($this-&gt;text);
                 if ($this-&gt;iter-&gt;idx == $num-1) {
                         return null;
                 } else {
                         $this-&gt;iter-&gt;idx++;
                         return $this-&gt;iter;
                 }
         }

         function on_iter_children($iter)
         {
                 return null;
         }

         function on_iter_has_child($iter)
         {
                 return false;
         }

         function on_iter_n_children($iter)
         {
                 return 0;
         }

         function on_iter_nth_child($iter, $n)
         {
                 return null;
         }

         function on_iter_parent($iter)
         {
                 return null;
         }
}

if ($argc &lt; 2) {
     die ("Please supply name of a text file\n");
}

$w = new GtkWindow();
$w-&gt;set_default_size(500, 400);
$w-&gt;connect_simple('destroy', array('gtk', 'main_quit'));
$sc = new GtkScrolledWindow();
$sc-&gt;set_policy(Gtk::POLICY_AUTOMATIC, Gtk::POLICY_AUTOMATIC);
$w-&gt;add($sc);

$m = new FileModel($argv[1]);
$tree_view = new GtkTreeView($m);
$cell = new GtkCellRendererText();
$col = new GtkTreeViewColumn("example", $cell, 'text', 0);
$tree_view-&gt;append_column($col);

$sc-&gt;add($tree_view);
$w-&gt;show_all();

gtk::main();

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060929060950</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-09-29 06:09:50-0400</timestampReceived><subject>[PHP-GTK-DEV] GObject constructor</subject><body>


Hello all,


I guess we don't want to have a GObject constructor as the C method
provides? With a parameter for the gtype and an array of property
key-value pairs?

--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20061016185340</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-10-16 18:53:40-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: [PHP-GTK-DOC] cvs: php-gtk-doc /manual/en/reference/gtk gtkliststore.xml</subject><body>

Andrei Zmievski wrote:
&gt; Sure, send me a patch.

Here is a patch for GtkListStore::insert_after(). It is mostly pieced 
together from surrounding sections in the overrides file. Please let me 
know what stupid things I am doing that I shouldn't.

I am pretty sure that I should be using gtk_list_store_set_valist() 
instead of gtk_list_store_set_value() in a loop, but I don't know how to 
build a va_list from an array.

Overriding gtk_list_store_insert_before() should be pretty much the same 
as this method, but I don't want to duplicate the same stupid things 
twice so once, this method is good enough, I will do the same for the other.

Thanks,
Scott

["gtk_list_store_insert_after_test.txt" (text/plain)]

&lt;?php
$win = new GtkWindow();
$win-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));

$list = new GtkListStore(Gtk::TYPE_LONG);

// Resulting list should be in correct numerical order (1,2,3,4,5)
$iter1 = $list-&gt;append(array(1));
$list-&gt;append(array(5));
$iter2 = $list-&gt;insert_after($iter1, array(3));
$list-&gt;insert_after($iter1, array(2));
$list-&gt;insert_after($iter2, array(4));

$view = new GtkTreeView($list);

$column = new GtkTreeViewColumn();
$cellRenderer = new GtkCellRendererText();
$column-&gt;pack_start($cellRenderer, true);
$column-&gt;add_attribute($cellRenderer, 'text', 0);

$view-&gt;append_column($column);

$win-&gt;add($view);
$win-&gt;show_all();
Gtk::main();
?&gt;
["gtktreeview_overrides.patch" (text/x-patch)]

Index: ext/gtk+/gtktreeview.overrides
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/gtktreeview.overrides,v
retrieving revision 1.71
diff -u -r1.71 gtktreeview.overrides
--- ext/gtk+/gtktreeview.overrides	3 Oct 2006 23:19:12 -0000	1.71
+++ ext/gtk+/gtktreeview.overrides	16 Oct 2006 18:49:16 -0000
@@ -445,6 +445,58 @@
 
     phpg_gboxed_new(&amp;return_value, GTK_TYPE_TREE_ITER, &amp;iter, TRUE, TRUE TSRMLS_CC);
 }
+
+%%
+override gtk_list_store_insert_after
+PHP_METHOD
+{
+    GtkTreeIter iter;
+    GtkTreeIter *sibling = NULL;
+    GtkTreeModel *model;
+    zval *items = NULL;
+    zval *php_iter = NULL;
+
+    NOT_STATIC_METHOD();
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "O|a", &amp;php_iter, gtktreeiter_ce, &amp;items))
+        return;
+
+    sibling = (GtkTreeIter *) PHPG_GBOXED(php_iter);
+
+    model = GTK_TREE_MODEL(PHPG_GOBJECT(this_ptr));
+
+    gtk_list_store_insert_after(GTK_LIST_STORE(model), &amp;iter, sibling);
+
+    if (items) {
+        gint n_cols, i;
+        GValue value = { 0 };
+        zval **item;
+
+        n_cols = gtk_tree_model_get_n_columns(model);
+        if (zend_hash_num_elements(Z_ARRVAL_P(items)) != n_cols) {
+            php_error(E_WARNING, "Cannot set row: number of row elements does not match the model");
+            return;
+        }
+
+        for (zend_hash_internal_pointer_reset(Z_ARRVAL_P(items)), i = 0;
+             zend_hash_get_current_data(Z_ARRVAL_P(items), (void **)&amp;item) == SUCCESS;
+             zend_hash_move_forward(Z_ARRVAL_P(items)), i++) {
+
+            g_value_init(&amp;value, gtk_tree_model_get_column_type(model, i));
+
+            if (phpg_gvalue_from_zval(&amp;value, *item, TRUE TSRMLS_CC) == FAILURE) {
+                php_error(E_WARNING, "Cannot set row: type of element %d does not match the model", i);
+                g_value_unset(&amp;value);
+                return;
+            }
+            gtk_list_store_set_value(GTK_LIST_STORE(model), &amp;iter, i, &amp;value);
+        }
+        g_value_unset(&amp;value);
+    } 
+    
+    phpg_gboxed_new(&amp;return_value, GTK_TYPE_TREE_ITER, &amp;iter, TRUE, TRUE TSRMLS_CC);
+}
+
 %%
 add-arginfo GtkListStore set
 static



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061023133449</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-10-23 13:34:49-0400</timestampReceived><subject>[PHP-GTK-DEV] Compiling and Memory Limits</subject><body>

Apparently PHP-GTK 2 doesn't like compiling if memory_limit is enabled 
in PHP. The generator scripts use up a lot of memory. Is there any way 
around this other than messing with php.ini before and after compiling?

Thanks,
Scott

Parsing file "ext/gtk+/gtk-extrafuncs.defs".
Parsing file "ext/gtk+/gtk-types.defs".

Fatal error: Allowed memory size of 67108864 bytes exhausted (tried to 
allocate 1293507 bytes) in 
/usr/local/src/php/php-gtk/generator/scheme.php on line 191

Call Stack:
     0.0063     786432   1. {main}() 
/usr/local/src/php/php-gtk/generator/generator.php:0
     2.1371    8650752   2. Defs_Parser-&gt;start_parsing() 
/usr/local/src/php/php-gtk/generator/generator.php:1450
     2.9183   13107200   3. Defs_Parser-&gt;serialize() 
/usr/local/src/php/php-gtk/generator/scheme.php:183
     2.9183   13107200   4. serialize() 
/usr/local/src/php/php-gtk/generator/scheme.php:191

make: *** [ext/gtk+/gen_gtk.c] Error 255

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061023152433</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-10-23 15:24:33-0400</timestampReceived><subject>[PHP-GTK-DEV] bug GtkCurve::get_vector???</subject><body>

there are 2 bugs.

1. gfloat vector[num]; musst be defined at beginning of the function
2. num is not a constant

//line 1973 "ext\gtk+/gtk.overrides"
static PHP_METHOD(GtkCurve, get_vector)
{
    int num, i;
   
    NOT_STATIC_METHOD();

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "i", &amp;num))
        return;

    gfloat vector[num];

    gtk_curve_get_vector(GTK_CURVE(PHPG_GOBJECT(this_ptr)), num, vector);
   
    array_init(return_value);
    for (i = 0; i &lt; num; i++) {
        add_next_index_double(return_value, vector[i]);
    }
}


mfg xxoes

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061024113401</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-10-24 11:34:01-0400</timestampReceived><subject>[PHP-GTK-DEV] more bugs php-gtk2 didn't compile under win32!!!!!!</subject><body>

bug arg_types.php line 757
$info-&gt;post_code[] = "\tphpg_gdkatom_new(&amp;return_value, php_retval);";
replace:
$info-&gt;post_code[] = "\tphpg_gdkatom_new(&amp;return_value, php_retval 
TSRMLS_CC);";

ext/gtk+/config.w32
EXTENSION("php-gtk", "gen_atk.c gen_gdk.c gen_gtk.c gen_pango.c 
php_gdk.c php_gtk+.c php_gtk+_types.c", true); // always shared
replace:
EXTENSION("php-gtk", "gen_atk.c gen_gdk.c gen_gtk.c gen_pango.c 
php_gdk.c php_gtk+.c php_gtk+_types.c phpg_custom_tree_model.c", true); 
// always shared

but i can not compile ext\gtk+\phpg_custom_tree_model.c !

mfg xxoes

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061026204142</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-10-26 20:41:42-0400</timestampReceived><subject>[PHP-GTK-DEV] PHP-Gtk segfaults</subject><body>


Hi all,


My php segfaults when any php-gtk script ends, and segfaults, when
dev_inspector starts. I get a backtrace, but without any debug info even
though I compiled it into php and php-gtk.

Anant told me that it crashes for him, too - on shutdown.


I guess it's because of gcc4.1, but that's a guess only.


--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20061026192720</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-10-26 19:27:20-0400</timestampReceived><subject>[PHP-GTK-DEV] compilation warnings</subject><body>


Hi all,


I get the following compilation warnings with cvs code:
ext/gtk+/gtk.overrides: In function 'zif_Gtk_rc_get_default_files':
ext/gtk+/gtk.overrides:649: warning: value computed is not used
ext/gtk+/gen_gtk.c: In function 'zif_GtkPreview_draw_row':
ext/gtk+/gen_gtk.c:21587: warning: pointer targets in passing argument 2
of 'gtk_preview_draw_row' differ in signedness
ext/gtk+/gtk.overrides: In function 'zif_GtkLayout_get_size':
ext/gtk+/gtk.overrides:3205: warning: pointer targets in passing
argument 2 of 'gtk_layout_get_size' differ in signedness
ext/gtk+/gtk.overrides:3205: warning: pointer targets in passing
argument 3 of 'gtk_layout_get_size' differ in signedness
ext/gtk+/gtk.overrides: In function 'zif_GtkAboutDialog_get_artists':
ext/gtk+/gtk.overrides:729: warning: value computed is not used
ext/gtk+/gtk.overrides: In function 'zif_GtkAboutDialog_get_authors':
ext/gtk+/gtk.overrides:751: warning: value computed is not used
ext/gtk+/gtk.overrides: In function 'zif_GtkAboutDialog_get_documenters':
ext/gtk+/gtk.overrides:773: warning: value computed is not used
ext/gtk+/gtk.overrides: In function 'zif_GtkAlignment_get_padding':
ext/gtk+/gtk.overrides:1068: warning: pointer targets in passing
argument 2 of 'gtk_alignment_get_padding' differ in signedness
ext/gtk+/gtk.overrides:1068: warning: pointer targets in passing
argument 3 of 'gtk_alignment_get_padding' differ in signedness
ext/gtk+/gtk.overrides:1068: warning: pointer targets in passing
argument 4 of 'gtk_alignment_get_padding' differ in signedness
ext/gtk+/gtk.overrides:1068: warning: pointer targets in passing
argument 5 of 'gtk_alignment_get_padding' differ in signedness
ext/gtk+/gen_gtk.c: In function 'phpg_GtkSelectionData_read_data':
ext/gtk+/gen_gtk.c:49448: warning: pointer targets in assignment differ
in signedness
ext/gtk+/gen_gtk.c: In function 'zif_GtkSelectionData_get_text':
ext/gtk+/gen_gtk.c:49529: warning: pointer targets in assignment differ
in signedness
ext/gtk+/gen_gtk.c: In function 'zif_GtkSelectionData_set':
ext/gtk+/gen_gtk.c:49601: warning: pointer targets in passing argument 4
of 'gtk_selection_data_set' differ in signedness

-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20061028131004</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-10-28 13:10:04-0400</timestampReceived><subject>[PHP-GTK-DEV] writing a php-gtk extension</subject><body>

Hi,

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "N", &amp;gdkdrawable, 
gdkdrawable_ce)) {
        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCL);
    }

this will be an php-gtk extension,
but how can i get the gdkdrawable_ce? compiler say's unresolved symbol 
__imp__gdkdrawable_ce.
i can only use gobject_ce not other *_ce.


mfg xxoes

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061028215605</emailId><senderName>"Anant Narayanan"</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-10-28 21:56:05-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] writing a php-gtk extension</subject><body>

&gt; but how can i get the gdkdrawable_ce? compiler say's unresolved symbol
&gt; __imp__gdkdrawable_ce.
&gt; i can only use gobject_ce not other *_ce.

Try including php_gtk_api.h

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061029004151</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-10-29 00:41:51-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] writing a php-gtk extension</subject><body>

code example:
#include "php_gtk.h"
#include "php_gtk_api.h"

#if HAVE_PHP_GTK
#include "gen_gdk.h"

PHP_GTK_EXPORT_CE(gtkcl_ce);
PHP_GTK_EXPORT_CE(gtkclimageset_ce);

static PHP_METHOD(GtkCL, __construct)
{
    zval *drawable;

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "N", &amp;drawable, 
gdkdrawable_ce)) {
        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCL);
    }
}

it is a extension not a gen file from gtk+!
i think its a linker problem/ or function call can give me the 
gdkdrawable_ce!
i use win32 with vc7.

sorry for my english, is not very well.

mfg xxoes

Steph Fox schrieb:
&gt;&gt; I have try it, it dosn't work!
&gt;
&gt; Where are you including it?
&gt;
&gt;&gt; Steph Fox schrieb:
&gt;&gt;&gt;&gt; that not a include problem!
&gt;&gt;&gt;&gt; thats a link problem.
&gt;&gt;&gt;
&gt;&gt;&gt; Yes, and if you don't include the file the link doesn't happen!  
&gt;&gt;&gt; Anant is correct.
&gt;&gt;&gt;
&gt;&gt;&gt; - Steph
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; or a function can give me gdkdrawable_ce.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; but how can i get the gdkdrawable_ce? compiler say's unresolved 
&gt;&gt;&gt;&gt;&gt;&gt; symbol
&gt;&gt;&gt;&gt;&gt;&gt; __imp__gdkdrawable_ce.
&gt;&gt;&gt;&gt;&gt;&gt; i can only use gobject_ce not other *_ce.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Try including php_gtk_api.h
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; - Anant
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; mfg xxoes
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061029011334</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-10-29 01:13:34-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] writing a php-gtk extension</subject><body>

&gt; that not a include problem!
&gt; thats a link problem.

Yes, and if you don't include the file the link doesn't happen!  Anant is 
correct.

- Steph


&gt; or a function can give me gdkdrawable_ce.
&gt;
&gt;&gt;&gt; but how can i get the gdkdrawable_ce? compiler say's unresolved symbol
&gt;&gt;&gt; __imp__gdkdrawable_ce.
&gt;&gt;&gt; i can only use gobject_ce not other *_ce.
&gt;&gt;
&gt;&gt; Try including php_gtk_api.h
&gt;&gt;
&gt;&gt; - Anant
&gt;&gt;
&gt;&gt;
&gt; mfg xxoes
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061029011532</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-10-29 01:15:32-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] writing a php-gtk extension</subject><body>

that not a include problem!
thats a link problem.
or a function can give me gdkdrawable_ce.

&gt;&gt; but how can i get the gdkdrawable_ce? compiler say's unresolved symbol
&gt;&gt; __imp__gdkdrawable_ce.
&gt;&gt; i can only use gobject_ce not other *_ce.
&gt;
&gt; Try including php_gtk_api.h
&gt;
&gt; - Anant
&gt;
&gt;
mfg xxoes

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061029012817</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-10-29 01:28:17-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] writing a php-gtk extension</subject><body>

but i have no overrides file.



Steph Fox schrieb:
&gt; Ah, no, it should be in your extension's overrides file, not the 
&gt; header (even if it's the _only_ thing in the overrides file). Take a 
&gt; look at libglade.
&gt;
&gt;
&gt;&gt; code example:
&gt;&gt; #include "php_gtk.h"
&gt;&gt; #include "php_gtk_api.h"
&gt;&gt;
&gt;&gt; #if HAVE_PHP_GTK
&gt;&gt; #include "gen_gdk.h"
&gt;&gt;
&gt;&gt; PHP_GTK_EXPORT_CE(gtkcl_ce);
&gt;&gt; PHP_GTK_EXPORT_CE(gtkclimageset_ce);
&gt;&gt;
&gt;&gt; static PHP_METHOD(GtkCL, __construct)
&gt;&gt; {
&gt;&gt;    zval *drawable;
&gt;&gt;
&gt;&gt;    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "N", &amp;drawable, 
&gt;&gt; gdkdrawable_ce)) {
&gt;&gt;        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCL);
&gt;&gt;    }
&gt;&gt; }
&gt;&gt;
&gt;&gt; it is a extension not a gen file from gtk+!
&gt;&gt; i think its a linker problem/ or function call can give me the 
&gt;&gt; gdkdrawable_ce!
&gt;&gt; i use win32 with vc7.
&gt;&gt;
&gt;&gt; sorry for my english, is not very well.
&gt;&gt;
&gt;&gt; mfg xxoes
&gt;&gt;
&gt;&gt; Steph Fox schrieb:
&gt;&gt;&gt;&gt; I have try it, it dosn't work!
&gt;&gt;&gt;
&gt;&gt;&gt; Where are you including it?
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Steph Fox schrieb:
&gt;&gt;&gt;&gt;&gt;&gt; that not a include problem!
&gt;&gt;&gt;&gt;&gt;&gt; thats a link problem.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Yes, and if you don't include the file the link doesn't happen!  
&gt;&gt;&gt;&gt;&gt; Anant is correct.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; - Steph
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; or a function can give me gdkdrawable_ce.
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; but how can i get the gdkdrawable_ce? compiler say's unresolved 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; symbol
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; __imp__gdkdrawable_ce.
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; i can only use gobject_ce not other *_ce.
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; Try including php_gtk_api.h
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; - Anant
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; mfg xxoes
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061029012912</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-10-29 01:29:12-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] writing a php-gtk extension</subject><body>

I have try it, it dosn't work!


Steph Fox schrieb:
&gt;&gt; that not a include problem!
&gt;&gt; thats a link problem.
&gt;
&gt; Yes, and if you don't include the file the link doesn't happen!  Anant 
&gt; is correct.
&gt;
&gt; - Steph
&gt;
&gt;
&gt;&gt; or a function can give me gdkdrawable_ce.
&gt;&gt;
&gt;&gt;&gt;&gt; but how can i get the gdkdrawable_ce? compiler say's unresolved symbol
&gt;&gt;&gt;&gt; __imp__gdkdrawable_ce.
&gt;&gt;&gt;&gt; i can only use gobject_ce not other *_ce.
&gt;&gt;&gt;
&gt;&gt;&gt; Try including php_gtk_api.h
&gt;&gt;&gt;
&gt;&gt;&gt; - Anant
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt; mfg xxoes
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061029013041</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-10-29 01:30:41-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] writing a php-gtk extension</subject><body>

&gt;I have try it, it dosn't work!

Where are you including it?

&gt; Steph Fox schrieb:
&gt;&gt;&gt; that not a include problem!
&gt;&gt;&gt; thats a link problem.
&gt;&gt;
&gt;&gt; Yes, and if you don't include the file the link doesn't happen!  Anant is 
&gt;&gt; correct.
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; or a function can give me gdkdrawable_ce.
&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; but how can i get the gdkdrawable_ce? compiler say's unresolved symbol
&gt;&gt;&gt;&gt;&gt; __imp__gdkdrawable_ce.
&gt;&gt;&gt;&gt;&gt; i can only use gobject_ce not other *_ce.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Try including php_gtk_api.h
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; - Anant
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt; mfg xxoes
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061029014356</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-10-29 01:43:56-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] writing a php-gtk extension</subject><body>

Ah, no, it should be in your extension's overrides file, not the header 
(even if it's the _only_ thing in the overrides file). Take a look at 
libglade.


&gt; code example:
&gt; #include "php_gtk.h"
&gt; #include "php_gtk_api.h"
&gt;
&gt; #if HAVE_PHP_GTK
&gt; #include "gen_gdk.h"
&gt;
&gt; PHP_GTK_EXPORT_CE(gtkcl_ce);
&gt; PHP_GTK_EXPORT_CE(gtkclimageset_ce);
&gt;
&gt; static PHP_METHOD(GtkCL, __construct)
&gt; {
&gt;    zval *drawable;
&gt;
&gt;    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "N", &amp;drawable, 
&gt; gdkdrawable_ce)) {
&gt;        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCL);
&gt;    }
&gt; }
&gt;
&gt; it is a extension not a gen file from gtk+!
&gt; i think its a linker problem/ or function call can give me the 
&gt; gdkdrawable_ce!
&gt; i use win32 with vc7.
&gt;
&gt; sorry for my english, is not very well.
&gt;
&gt; mfg xxoes
&gt;
&gt; Steph Fox schrieb:
&gt;&gt;&gt; I have try it, it dosn't work!
&gt;&gt;
&gt;&gt; Where are you including it?
&gt;&gt;
&gt;&gt;&gt; Steph Fox schrieb:
&gt;&gt;&gt;&gt;&gt; that not a include problem!
&gt;&gt;&gt;&gt;&gt; thats a link problem.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Yes, and if you don't include the file the link doesn't happen!  Anant 
&gt;&gt;&gt;&gt; is correct.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; - Steph
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; or a function can give me gdkdrawable_ce.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; but how can i get the gdkdrawable_ce? compiler say's unresolved 
&gt;&gt;&gt;&gt;&gt;&gt;&gt; symbol
&gt;&gt;&gt;&gt;&gt;&gt;&gt; __imp__gdkdrawable_ce.
&gt;&gt;&gt;&gt;&gt;&gt;&gt; i can only use gobject_ce not other *_ce.
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; Try including php_gtk_api.h
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; - Anant
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; mfg xxoes
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061029023103</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-10-29 02:31:03-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] writing a php-gtk extension</subject><body>

&gt; but i have no overrides file.

Right. And you need to make one. It will also generate those export 
declarations for you by the way...!

ext/mozembed's smaller, take a look at that one if libglade's too much. 
Notice the layout and structure. You need to have a defs file, an overrides 
file, a php_*.h file and a php_*.c file. These need to be put together in a 
very specific way to allow the generator to do its job.

- Steph (sleeping now)

&gt;
&gt; Steph Fox schrieb:
&gt;&gt; Ah, no, it should be in your extension's overrides file, not the header 
&gt;&gt; (even if it's the _only_ thing in the overrides file). Take a look at 
&gt;&gt; libglade.
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; code example:
&gt;&gt;&gt; #include "php_gtk.h"
&gt;&gt;&gt; #include "php_gtk_api.h"
&gt;&gt;&gt;
&gt;&gt;&gt; #if HAVE_PHP_GTK
&gt;&gt;&gt; #include "gen_gdk.h"
&gt;&gt;&gt;
&gt;&gt;&gt; PHP_GTK_EXPORT_CE(gtkcl_ce);
&gt;&gt;&gt; PHP_GTK_EXPORT_CE(gtkclimageset_ce);
&gt;&gt;&gt;
&gt;&gt;&gt; static PHP_METHOD(GtkCL, __construct)
&gt;&gt;&gt; {
&gt;&gt;&gt;    zval *drawable;
&gt;&gt;&gt;
&gt;&gt;&gt;    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "N", &amp;drawable, 
&gt;&gt;&gt; gdkdrawable_ce)) {
&gt;&gt;&gt;        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCL);
&gt;&gt;&gt;    }
&gt;&gt;&gt; }
&gt;&gt;&gt;
&gt;&gt;&gt; it is a extension not a gen file from gtk+!
&gt;&gt;&gt; i think its a linker problem/ or function call can give me the 
&gt;&gt;&gt; gdkdrawable_ce!
&gt;&gt;&gt; i use win32 with vc7.
&gt;&gt;&gt;
&gt;&gt;&gt; sorry for my english, is not very well.
&gt;&gt;&gt;
&gt;&gt;&gt; mfg xxoes
&gt;&gt;&gt;
&gt;&gt;&gt; Steph Fox schrieb:
&gt;&gt;&gt;&gt;&gt; I have try it, it dosn't work!
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Where are you including it?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Steph Fox schrieb:
&gt;&gt;&gt;&gt;&gt;&gt;&gt; that not a include problem!
&gt;&gt;&gt;&gt;&gt;&gt;&gt; thats a link problem.
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; Yes, and if you don't include the file the link doesn't happen! 
&gt;&gt;&gt;&gt;&gt;&gt; Anant is correct.
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; - Steph
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; or a function can give me gdkdrawable_ce.
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; but how can i get the gdkdrawable_ce? compiler say's unresolved 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; symbol
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; __imp__gdkdrawable_ce.
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; i can only use gobject_ce not other *_ce.
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Try including php_gtk_api.h
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; - Anant
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; mfg xxoes
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061029142937</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-10-29 14:29:37-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] writing a php-gtk extension</subject><body>

i have add "gdkdrawable_ce" to libglade.override, and there is the same 
problem!
i can not use *_ce in an extern module.

mfg xxoes

Steph Fox schrieb:
&gt;&gt; but i have no overrides file.
&gt;
&gt; Right. And you need to make one. It will also generate those export 
&gt; declarations for you by the way...!
&gt;
&gt; ext/mozembed's smaller, take a look at that one if libglade's too 
&gt; much. Notice the layout and structure. You need to have a defs file, 
&gt; an overrides file, a php_*.h file and a php_*.c file. These need to be 
&gt; put together in a very specific way to allow the generator to do its job.
&gt;
&gt; - Steph (sleeping now)
&gt;
&gt;&gt;
&gt;&gt; Steph Fox schrieb:
&gt;&gt;&gt; Ah, no, it should be in your extension's overrides file, not the 
&gt;&gt;&gt; header (even if it's the _only_ thing in the overrides file). Take a 
&gt;&gt;&gt; look at libglade.
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; code example:
&gt;&gt;&gt;&gt; #include "php_gtk.h"
&gt;&gt;&gt;&gt; #include "php_gtk_api.h"
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; #if HAVE_PHP_GTK
&gt;&gt;&gt;&gt; #include "gen_gdk.h"
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; PHP_GTK_EXPORT_CE(gtkcl_ce);
&gt;&gt;&gt;&gt; PHP_GTK_EXPORT_CE(gtkclimageset_ce);
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; static PHP_METHOD(GtkCL, __construct)
&gt;&gt;&gt;&gt; {
&gt;&gt;&gt;&gt;    zval *drawable;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "N", &amp;drawable, 
&gt;&gt;&gt;&gt; gdkdrawable_ce)) {
&gt;&gt;&gt;&gt;        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCL);
&gt;&gt;&gt;&gt;    }
&gt;&gt;&gt;&gt; }
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; it is a extension not a gen file from gtk+!
&gt;&gt;&gt;&gt; i think its a linker problem/ or function call can give me the 
&gt;&gt;&gt;&gt; gdkdrawable_ce!
&gt;&gt;&gt;&gt; i use win32 with vc7.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; sorry for my english, is not very well.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; mfg xxoes
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Steph Fox schrieb:
&gt;&gt;&gt;&gt;&gt;&gt; I have try it, it dosn't work!
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Where are you including it?
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; Steph Fox schrieb:
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; that not a include problem!
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; thats a link problem.
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; Yes, and if you don't include the file the link doesn't happen! 
&gt;&gt;&gt;&gt;&gt;&gt;&gt; Anant is correct.
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; - Steph
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; or a function can give me gdkdrawable_ce.
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; but how can i get the gdkdrawable_ce? compiler say's 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; unresolved symbol
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; __imp__gdkdrawable_ce.
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; i can only use gobject_ce not other *_ce.
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Try including php_gtk_api.h
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; - Anant
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; mfg xxoes
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt;
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061026192821</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-10-26 19:28:21-0400</timestampReceived><subject>[PHP-GTK-DEV] Compilation warnings</subject><body>


Also:

ext/gtk+/gen_gdk.c: In function 'zif_GdkDrawable_draw_gray_image':
ext/gtk+/gen_gdk.c:3178: warning: pointer targets in passing argument 8
of 'gdk_draw_gray_image' differ in signedness
ext/gtk+/gdk.overrides: In function 'zif_GdkDrawable_draw_rgb_32_image':
ext/gtk+/gdk.overrides:687: warning: pointer targets in passing argument
8 of 'gdk_draw_rgb_32_image_dithalign' differ in signedness
ext/gtk+/gdk.overrides: In function 'zif_GdkDrawable_draw_rgb_image':
ext/gtk+/gdk.overrides:652: warning: pointer targets in passing argument
8 of 'gdk_draw_rgb_image_dithalign' differ in signedness
ext/gtk+/gen_gdk.c: In function 'zif_GdkWindow_property_change':
ext/gtk+/gen_gdk.c:3808: warning: pointer targets in passing argument 6
of 'gdk_property_change' differ in signedness
ext/gtk+/gdk.overrides: In function 'zif_GdkGC_set_dashes':
ext/gtk+/gdk.overrides:1527: warning: pointer targets in passing
argument 3 of 'gdk_gc_set_dashes' differ in signedness
ext/gtk+/gdk.overrides: In function 'zif_GdkPixbuf_get_pixels':
ext/gtk+/gdk.overrides:1987: warning: pointer targets in initialization
differ in signedness

--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20061027035734</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-10-27 03:57:34-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] compilation warnings</subject><body>

Chris:

Please learn the difference between 'errors' (which mean the compile dies)

and 'warnings' (which are mildly irritating)

thanks

- Steph

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061027045500</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-10-27 04:55:00-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] compilation warnings</subject><body>

Steph,

&gt; Please learn the difference between 'errors' (which mean the compile dies)
&gt; and 'warnings' (which are mildly irritating)
The mail's subject clearly stated "warnings".
-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061023154232</emailId><senderName>"Anant Narayanan"</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-10-23 15:42:32-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] bug GtkCurve::get_vector???</subject><body>

Hi!

&gt; 1. gfloat vector[num]; musst be defined at beginning of the function

The number of points  to be extracted cannot be determined until the
user has passed the argument.

&gt; 2. num is not a constant

num stands for the number of points to be returned for a given curve.
Any curve can be represented as any number of points.

I tested the override before committing it and got satisfactory
results. Do you have a test script where the method fails?

Cheers,

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061023155238</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-10-23 15:52:38-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] bug GtkCurve::get_vector???</subject><body>

The declaration of "gfloat vector[num]" is illegal under compilers that 
don't adhere to C99 standard. You have to allocate it via emalloc 
instead.

-Andrei

On Oct 23, 2006, at 8:24 AM, xxoes wrote:

&gt; there are 2 bugs.
&gt;
&gt; 1. gfloat vector[num]; musst be defined at beginning of the function
&gt; 2. num is not a constant
&gt;
&gt; //line 1973 "ext\gtk+/gtk.overrides"
&gt; static PHP_METHOD(GtkCurve, get_vector)
&gt; {
&gt;    int num, i;
&gt;      NOT_STATIC_METHOD();
&gt;
&gt;    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "i", &amp;num))
&gt;        return;
&gt;
&gt;    gfloat vector[num];
&gt;
&gt;    gtk_curve_get_vector(GTK_CURVE(PHPG_GOBJECT(this_ptr)), num, 
&gt; vector);
&gt;      array_init(return_value);
&gt;    for (i = 0; i &lt; num; i++) {
&gt;        add_next_index_double(return_value, vector[i]);
&gt;    }
&gt; }
&gt;
&gt;
&gt; mfg xxoes
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061023135809</emailId><senderName>"Anant Narayanan"</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-10-23 13:58:09-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Compiling and Memory Limits</subject><body>

&gt; Apparently PHP-GTK 2 doesn't like compiling if memory_limit is enabled
&gt; in PHP. The generator scripts use up a lot of memory. Is there any way
&gt; around this other than messing with php.ini before and after compiling?

Hmm, the generator is supposed to increase the amount of memory by default:

&gt; // override the default PHP 8Mb as this script tends to use a lot more
&gt; // and hopefully reduce the support questions a bit..
&gt; ini_set('memory_limit','64M');

(Line 34, generator.php)

Isn't this supposed to override the memory_limit INI directive? Maybe
it doesn't in a few edge cases?

Cheers,

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061023140259</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-10-23 14:02:59-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Compiling and Memory Limits</subject><body>

Anant Narayanan wrote:
&gt; Hmm, the generator is supposed to increase the amount of memory by default:
&gt; 
&gt;&gt; // override the default PHP 8Mb as this script tends to use a lot more
&gt;&gt; // and hopefully reduce the support questions a bit..
&gt;&gt; ini_set('memory_limit','64M');
&gt; 
&gt; (Line 34, generator.php)
&gt; 
&gt; Isn't this supposed to override the memory_limit INI directive? Maybe
&gt; it doesn't in a few edge cases?

It looks like it did increase it but it still wasn't enough.

Allowed memory size of 67108864 bytes exhausted

The person that reported the problem has their memory_limit set to 512M 
normally. We should probably check that we aren't reducing it. Also, is 
there a great deal of harm in setting it to 0?

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061023142243</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-10-23 14:22:43-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Compiling and Memory Limits</subject><body>

Anant Narayanan wrote:
&gt; 
&gt; AFAIK, 0 is not a valid value for memory_limit. It will just default 
&gt; back to 8M.

Setting it to 0 should disable memory_limit for the rest of the script.

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061023142813</emailId><senderName>"Anant Narayanan"</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-10-23 14:28:13-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Compiling and Memory Limits</subject><body>

&gt; Allowed memory size of 67108864 bytes exhausted
&gt; The person that reported the problem has their memory_limit set to 512M
&gt; normally. We should probably check that we aren't reducing it.

Yep 64M is 67108864 bytes. So we are reducing the memory_limit for
people who have it set greater than 64M.

The funny part is why 64M is proving to be insufficient for the
reporter, while so many of us have been compiling it successfully for
so long.

&gt; Also, is there a great deal of harm in setting it to 0?

AFAIK, 0 is not a valid value for memory_limit. It will just default back to 8M.

I guess an immediate solution would be to increase the value to 128M
in the script. The value is valid only for the generator script, so
the memory_limit will just revert back to its original php.ini value
when the script is done.

Cheers,

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061005042450</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-10-05 04:24:50-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GObject constructor</subject><body>

It'll be coming. I'm struggling with custom tree models right now.

-Andrei


On Sep 28, 2006, at 11:09 PM, Christian Weiske wrote:

&gt; Hello all,
&gt;
&gt;
&gt; I guess we don't want to have a GObject constructor as the C method
&gt; provides? With a parameter for the gtype and an array of property
&gt; key-value pairs?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061014220557</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-10-14 22:05:57-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GObject constructor</subject><body>

I'm not sure it should be implemented at all - how would you use it when 
creating a custom widget exactly?

- Steph


&gt; Okay, I have this implemented. But exactly how useful is this?
&gt;
&gt;  $w = new GObject(GtkWindow::gtype, array('type' =&gt;  Gtk::WINDOW_POPUP));
&gt;  $w-&gt;show_all();
&gt;
&gt; Will give:
&gt;
&gt;  Fatal error: Call to undefined method GObject::show_all() in /Users/ 
&gt; andrei/dev/php-gtk/c.php on line 5
&gt;
&gt; I can only see this being used in a constructor of a custom widget  that 
&gt; extends some class..
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Sep 28, 2006, at 11:09 PM, Christian Weiske wrote:
&gt;
&gt;&gt; Hello all,
&gt;&gt;
&gt;&gt;
&gt;&gt; I guess we don't want to have a GObject constructor as the C method
&gt;&gt; provides? With a parameter for the gtype and an array of property
&gt;&gt; key-value pairs?
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061014220759</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-10-14 22:07:59-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GObject constructor</subject><body>

Okay, I have this implemented. But exactly how useful is this?

  $w = new GObject(GtkWindow::gtype, array('type' =&gt;  
Gtk::WINDOW_POPUP));
  $w-&gt;show_all();

Will give:

  Fatal error: Call to undefined method GObject::show_all() in /Users/ 
andrei/dev/php-gtk/c.php on line 5

I can only see this being used in a constructor of a custom widget  
that extends some class..

-Andrei


On Sep 28, 2006, at 11:09 PM, Christian Weiske wrote:

&gt; Hello all,
&gt;
&gt;
&gt; I guess we don't want to have a GObject constructor as the C method
&gt; provides? With a parameter for the gtype and an array of property
&gt; key-value pairs?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061014235834</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-10-14 23:58:34-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GObject constructor</subject><body>

The question is more, how would the type be recognised without re-compiling 
GTK+?

I'm seriously bemused as to how you could allow the possibility of custom 
widgets in PHP-GTK without making some special wrapper for GObject (at C 
level)... what am I missing?

----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Sunday, October 15, 2006 2:00 AM
Subject: Re: [PHP-GTK-DEV] GObject constructor

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061015000045</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-10-15 00:00:45-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GObject constructor</subject><body>


Andrei,


&gt; I can only see this being used in a constructor of a custom widget that
&gt; extends some class..
Exactly that was my intention. With the ability to create custom class
properties, you can notify() listening classes about changed states in
the object easily - and some other nice things.

-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20061015004558</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-10-15 00:45:58-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GObject constructor</subject><body>

If all you want to do is create some custom properties or signals,  
it's not that bad. Probably a few hours of work and then you can do  
this (PyGTK example):

import gobject

class MyObject(gobject.GObject):
     __gproperties__ = {
         'foo': (gobject.TYPE_STRING, 'foo property', 'the foo of the  
object',
                 'bar', gobject.PARAM_READWRITE),
         'boolprop': (gobject.TYPE_BOOLEAN, 'bool prop', 'a test  
boolean prop',
                      0, gobject.PARAM_READABLE),
     }

     def __init__(self):
         self.__gobject_init__()
         self.foo = 'bar'
     def do_set_property(self, pspec, value):
         print '    do_set_property called for %s=%r' % (pspec.name,  
value)
         if pspec.name == 'foo':
             self.foo = value
         else:
             raise AttributeError, 'unknown property %s' % pspec.name
     def do_get_property(self, pspec):
         print '    do_get_property called for %s' % pspec.name
         if pspec.name == 'foo':
             return self.foo
         elif pspec.name == 'boolprop':
             return 1
         else:
             raise AttributeError, 'unknown property %s' % pspec.name
gobject.type_register(MyObject)

and

class C(gobject.GObject):
     __gsignals__ = {
         'my_signal': (gobject.SIGNAL_RUN_FIRST, gobject.TYPE_NONE,
                       (gobject.TYPE_INT,))
     }
     def __init__(self):
         self.__gobject_init__() # default constructor using our new  
GType
     def do_my_signal(self, arg):
     print "C: class closure for `my_signal' called with argument", arg
gobject.type_register(C)

class D(C):
     def do_my_signal(self, arg):
     print "D: class closure for `my_signal' called.  Chaining up to C"
     C.do_my_signal(self, arg)

gobject.type_register(D)

def my_signal_handler(object, arg, *extra):
     print "handler for `my_signal' called with argument", arg, \
       "and extra args", extra

inst = C()
inst2 = D()

inst.connect("my_signal", my_signal_handler, 1, 2, 3)
inst.emit("my_signal", 42)
inst2.emit("my_signal", 42)

The difficult case is when you actually want to override methods like  
GtkContainer::add/remove. PyGTK supports that (and so can we), but  
that's a lot more work.

-Andrei


On Oct 14, 2006, at 4:58 PM, Steph Fox wrote:

&gt; The question is more, how would the type be recognised without re- 
&gt; compiling GTK+?
&gt;
&gt; I'm seriously bemused as to how you could allow the possibility of  
&gt; custom widgets in PHP-GTK without making some special wrapper for  
&gt; GObject (at C level)... what am I missing?
&gt;
&gt; ----- Original Message ----- From: "Christian Weiske"  
&gt; &lt;cweiske@cweiske.de&gt;
&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Sunday, October 15, 2006 2:00 AM
&gt; Subject: Re: [PHP-GTK-DEV] GObject constructor
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061015004614</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-10-15 00:46:14-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GObject constructor</subject><body>

Anyways. I'll commit the code. Not like it hurts anything right now.

-Andrei


On Oct 14, 2006, at 5:00 PM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;
&gt;&gt; I can only see this being used in a constructor of a custom widget  
&gt;&gt; that
&gt;&gt; extends some class..
&gt; Exactly that was my intention. With the ability to create custom class
&gt; properties, you can notify() listening classes about changed states in
&gt; the object easily - and some other nice things.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061015005017</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-10-15 00:50:17-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GObject constructor</subject><body>

Can you mark it experimental please?

It sounds like it's likely to need messing with (most likely from yourself 
admittedly!) but it's probably better to keep it so you need a compile flag 
for it if the API's likely to change.


&gt; Anyways. I'll commit the code. Not like it hurts anything right now.
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Oct 14, 2006, at 5:00 PM, Christian Weiske wrote:
&gt;
&gt;&gt; Andrei,
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; I can only see this being used in a constructor of a custom widget  that
&gt;&gt;&gt; extends some class..
&gt;&gt; Exactly that was my intention. With the ability to create custom class
&gt;&gt; properties, you can notify() listening classes about changed states in
&gt;&gt; the object easily - and some other nice things.
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061010012501</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-10-10 01:25:01-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Custom tree models</subject><body>

No comments?

-Andrei


On Oct 5, 2006, at 9:27 PM, Andrei Zmievski wrote:

&gt; I've just committed support for custom tree models. The example  
&gt; script is pretty short [0]. It pretty much shows how to load up a  
&gt; text file and serve it up as model. Note that your iterators pretty  
&gt; much have to be objects, since those are returned by handle  
&gt; (reference) and thus represent a single value. Due to peculiarities  
&gt; of Gtk+ and PHP, any other type will not be freed automatically. In  
&gt; which case the return values will keep accumulating in memory and  
&gt; will be freed only on exit. This means that you can't do something  
&gt; like this for on_get_iter(), iter_next(), iter_parent(),  
&gt; iter_children(), iter_nth_child():
&gt;
&gt;   return 5;
&gt;
&gt; or even:
&gt;
&gt;   return $a; // where $a is not an object
&gt;
&gt; Hope this helps,
&gt;
&gt; -Andrei
&gt;
&gt; [0]
&gt;
&gt; &lt;?php
&gt;
&gt; error_reporting(E_ALL);
&gt;
&gt; class MyIter {
&gt;         public $idx = null;
&gt; }
&gt;
&gt; class FileModel extends PhpGtkCustomTreeModel {
&gt;
&gt;         private $text = array();
&gt;         private $iter = null;
&gt;
&gt;         function __construct($filename)
&gt;         {
&gt;                 parent::__construct();
&gt;                 if (is_file($filename)) {
&gt;                         $this-&gt;text = file($filename);
&gt;                         $this-&gt;iter = new MyIter;
&gt;                 } else {
&gt;                         throw new Exception("Could not open  
&gt; $filename");
&gt;                 }
&gt;         }
&gt;
&gt;         function on_get_flags()
&gt;         {
&gt;                 print "on_get_flags\n";
&gt;                 return Gtk::TREE_MODEL_LIST_ONLY;
&gt;         }
&gt;
&gt;         function on_get_n_columns()
&gt;         {
&gt;                 print "on_get_n_columns\n";
&gt;                 return 1;
&gt;         }
&gt;
&gt;         function on_get_column_type($index)
&gt;         {
&gt;                 print "on_get_column_type\n";
&gt;                 return Gtk::TYPE_STRING;
&gt;         }
&gt;
&gt;         function on_get_path($node)
&gt;         {
&gt;                 exit;
&gt;                 print "on_get_path\n";
&gt;                 return $node;
&gt;         }
&gt;
&gt;         function on_get_iter($path)
&gt;         {
&gt;                 print "on_get_iter\n";
&gt;                 assert(count($path) == 1);
&gt;                 $this-&gt;iter-&gt;idx = $path[0];
&gt;                 return $this-&gt;iter;
&gt;         }
&gt;
&gt;         function on_get_value($iter, $n)
&gt;         {
&gt;                 print "on_get_value\n";
&gt;                 assert($n == 0);
&gt;                 return $this-&gt;text[$this-&gt;iter-&gt;idx];
&gt;         }
&gt;
&gt;         function on_iter_next($iter)
&gt;         {
&gt;                 print "on_iter_next\n";
&gt;                 $num = count($this-&gt;text);
&gt;                 if ($this-&gt;iter-&gt;idx == $num-1) {
&gt;                         return null;
&gt;                 } else {
&gt;                         $this-&gt;iter-&gt;idx++;
&gt;                         return $this-&gt;iter;
&gt;                 }
&gt;         }
&gt;
&gt;         function on_iter_children($iter)
&gt;         {
&gt;                 return null;
&gt;         }
&gt;
&gt;         function on_iter_has_child($iter)
&gt;         {
&gt;                 return false;
&gt;         }
&gt;
&gt;         function on_iter_n_children($iter)
&gt;         {
&gt;                 return 0;
&gt;         }
&gt;
&gt;         function on_iter_nth_child($iter, $n)
&gt;         {
&gt;                 return null;
&gt;         }
&gt;
&gt;         function on_iter_parent($iter)
&gt;         {
&gt;                 return null;
&gt;         }
&gt; }
&gt;
&gt; if ($argc &lt; 2) {
&gt;     die ("Please supply name of a text file\n");
&gt; }
&gt;
&gt; $w = new GtkWindow();
&gt; $w-&gt;set_default_size(500, 400);
&gt; $w-&gt;connect_simple('destroy', array('gtk', 'main_quit'));
&gt; $sc = new GtkScrolledWindow();
&gt; $sc-&gt;set_policy(Gtk::POLICY_AUTOMATIC, Gtk::POLICY_AUTOMATIC);
&gt; $w-&gt;add($sc);
&gt;
&gt; $m = new FileModel($argv[1]);
&gt; $tree_view = new GtkTreeView($m);
&gt; $cell = new GtkCellRendererText();
&gt; $col = new GtkTreeViewColumn("example", $cell, 'text', 0);
&gt; $tree_view-&gt;append_column($col);
&gt;
&gt; $sc-&gt;add($tree_view);
&gt; $w-&gt;show_all();
&gt;
&gt; gtk::main();
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061010044749</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-10-10 04:47:49-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Custom tree models</subject><body>


Andrei,

&gt; No comments?
Sorry to not try out the result of your hard work, but I'm currently
hogged up with the doc generation..

--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20061010045116</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-10-10 04:51:16-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Custom tree models</subject><body>


&gt; I'm currently
&gt; hogged up with
/me is inventing new words here. Should stay with the variables I know.

--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20061010053105</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-10-10 05:31:05-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Custom tree models</subject><body>

No, no.. "hogged up" sounds.. uncomfortable. :)

-Andrei


On Oct 9, 2006, at 9:51 PM, Christian Weiske wrote:

&gt;&gt; I'm currently
&gt;&gt; hogged up with
&gt; /me is inventing new words here. Should stay with the variables I  
&gt; know.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061021214551</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-10-21 21:45:51-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [PHP-GTK-DOC] cvs: php-gtk-doc /manual/en/reference/gtk gtkliststore.xml</subject><body>

Looks good, committed. Go ahead and commit the 'before' version.

-Andrei

On Oct 16, 2006, at 11:53 AM, Scott Mattocks wrote:

&gt; Andrei Zmievski wrote:
&gt;&gt; Sure, send me a patch.
&gt;
&gt; Here is a patch for GtkListStore::insert_after(). It is mostly  
&gt; pieced together from surrounding sections in the overrides file.  
&gt; Please let me know what stupid things I am doing that I shouldn't.
&gt;
&gt; I am pretty sure that I should be using gtk_list_store_set_valist()  
&gt; instead of gtk_list_store_set_value() in a loop, but I don't know  
&gt; how to build a va_list from an array.
&gt;
&gt; Overriding gtk_list_store_insert_before() should be pretty much the  
&gt; same as this method, but I don't want to duplicate the same stupid  
&gt; things twice so once, this method is good enough, I will do the  
&gt; same for the other.
&gt;
&gt; Thanks,
&gt; Scott
&gt; &lt;?php
&gt; $win = new GtkWindow();
&gt; $win-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));
&gt;
&gt; $list = new GtkListStore(Gtk::TYPE_LONG);
&gt;
&gt; // Resulting list should be in correct numerical order (1,2,3,4,5)
&gt; $iter1 = $list-&gt;append(array(1));
&gt; $list-&gt;append(array(5));
&gt; $iter2 = $list-&gt;insert_after($iter1, array(3));
&gt; $list-&gt;insert_after($iter1, array(2));
&gt; $list-&gt;insert_after($iter2, array(4));
&gt;
&gt; $view = new GtkTreeView($list);
&gt;
&gt; $column = new GtkTreeViewColumn();
&gt; $cellRenderer = new GtkCellRendererText();
&gt; $column-&gt;pack_start($cellRenderer, true);
&gt; $column-&gt;add_attribute($cellRenderer, 'text', 0);
&gt;
&gt; $view-&gt;append_column($column);
&gt;
&gt; $win-&gt;add($view);
&gt; $win-&gt;show_all();
&gt; Gtk::main();
&gt; ?&gt;Index: ext/gtk+/gtktreeview.overrides
&gt; ===================================================================
&gt; RCS file: /repository/php-gtk/ext/gtk+/gtktreeview.overrides,v
&gt; retrieving revision 1.71
&gt; diff -u -r1.71 gtktreeview.overrides
&gt; --- ext/gtk+/gtktreeview.overrides	3 Oct 2006 23:19:12 -0000	1.71
&gt; +++ ext/gtk+/gtktreeview.overrides	16 Oct 2006 18:49:16 -0000
&gt; @@ -445,6 +445,58 @@
&gt;
&gt;      phpg_gboxed_new(&amp;return_value, GTK_TYPE_TREE_ITER, &amp;iter,  
&gt; TRUE, TRUE TSRMLS_CC);
&gt;  }
&gt; +
&gt; +%%
&gt; +override gtk_list_store_insert_after
&gt; +PHP_METHOD
&gt; +{
&gt; +    GtkTreeIter iter;
&gt; +    GtkTreeIter *sibling = NULL;
&gt; +    GtkTreeModel *model;
&gt; +    zval *items = NULL;
&gt; +    zval *php_iter = NULL;
&gt; +
&gt; +    NOT_STATIC_METHOD();
&gt; +
&gt; +    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "O|a", &amp;php_iter,  
&gt; gtktreeiter_ce, &amp;items))
&gt; +        return;
&gt; +
&gt; +    sibling = (GtkTreeIter *) PHPG_GBOXED(php_iter);
&gt; +
&gt; +    model = GTK_TREE_MODEL(PHPG_GOBJECT(this_ptr));
&gt; +
&gt; +    gtk_list_store_insert_after(GTK_LIST_STORE(model), &amp;iter,  
&gt; sibling);
&gt; +
&gt; +    if (items) {
&gt; +        gint n_cols, i;
&gt; +        GValue value = { 0 };
&gt; +        zval **item;
&gt; +
&gt; +        n_cols = gtk_tree_model_get_n_columns(model);
&gt; +        if (zend_hash_num_elements(Z_ARRVAL_P(items)) != n_cols) {
&gt; +            php_error(E_WARNING, "Cannot set row: number of row  
&gt; elements does not match the model");
&gt; +            return;
&gt; +        }
&gt; +
&gt; +        for (zend_hash_internal_pointer_reset(Z_ARRVAL_P(items)),  
&gt; i = 0;
&gt; +             zend_hash_get_current_data(Z_ARRVAL_P(items), (void  
&gt; **)&amp;item) == SUCCESS;
&gt; +             zend_hash_move_forward(Z_ARRVAL_P(items)), i++) {
&gt; +
&gt; +            g_value_init(&amp;value, gtk_tree_model_get_column_type 
&gt; (model, i));
&gt; +
&gt; +            if (phpg_gvalue_from_zval(&amp;value, *item, TRUE  
&gt; TSRMLS_CC) == FAILURE) {
&gt; +                php_error(E_WARNING, "Cannot set row: type of  
&gt; element %d does not match the model", i);
&gt; +                g_value_unset(&amp;value);
&gt; +                return;
&gt; +            }
&gt; +            gtk_list_store_set_value(GTK_LIST_STORE(model), &amp;iter,  
&gt; i, &amp;value);
&gt; +        }
&gt; +        g_value_unset(&amp;value);
&gt; +    }
&gt; +
&gt; +    phpg_gboxed_new(&amp;return_value, GTK_TYPE_TREE_ITER, &amp;iter,  
&gt; TRUE, TRUE TSRMLS_CC);
&gt; +}
&gt; +
&gt;  %%
&gt;  add-arginfo GtkListStore set
&gt;  static
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061023144349</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-10-23 14:43:49-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Compiling and Memory Limits</subject><body>

No mystery - memory_limit didn't used to work at all under doze, but does 
now.

(Yes set it to 0.)

----- Original Message ----- 
From: "Anant Narayanan" &lt;anant@kix.in&gt;
To: "Scott Mattocks" &lt;scott@crisscott.com&gt;
Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, October 23, 2006 4:16 PM
Subject: Re: [PHP-GTK-DEV] Compiling and Memory Limits


&gt;&gt; Allowed memory size of 67108864 bytes exhausted
&gt;&gt; The person that reported the problem has their memory_limit set to 512M
&gt;&gt; normally. We should probably check that we aren't reducing it.
&gt;
&gt; Yep 64M is 67108864 bytes. So we are reducing the memory_limit for
&gt; people who have it set greater than 64M.
&gt;
&gt; The funny part is why 64M is proving to be insufficient for the
&gt; reporter, while so many of us have been compiling it successfully for
&gt; so long.
&gt;
&gt;&gt; Also, is there a great deal of harm in setting it to 0?
&gt;
&gt; AFAIK, 0 is not a valid value for memory_limit. It will just default back 
&gt; to 8M.
&gt;
&gt; I guess an immediate solution would be to increase the value to 128M
&gt; in the script. The value is valid only for the generator script, so
&gt; the memory_limit will just revert back to its original php.ini value
&gt; when the script is done.
&gt;
&gt; Cheers,
&gt;
&gt; - Anant
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061023163021</emailId><senderName>"Anant Narayanan"</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-10-23 16:30:21-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] bug GtkCurve::get_vector???</subject><body>

&gt; The declaration of "gfloat vector[num]" is illegal under compilers that
&gt; don't adhere to C99 standard. You have to allocate it via emalloc
&gt; instead.

RightO, fixed and committed.

Cheers,

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061024124129</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-10-24 12:41:29-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] more bugs php-gtk2 didn't compile under win32!!!!!!</subject><body>

Should work now.

----- Original Message ----- 
From: "xxoes" &lt;xxoes@nw7.de&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, October 24, 2006 1:34 PM
Subject: [PHP-GTK-DEV] more bugs php-gtk2 didn't compile under win32!!!!!!


&gt; bug arg_types.php line 757
&gt; $info-&gt;post_code[] = "\tphpg_gdkatom_new(&amp;return_value, php_retval);";
&gt; replace:
&gt; $info-&gt;post_code[] = "\tphpg_gdkatom_new(&amp;return_value, php_retval 
&gt; TSRMLS_CC);";
&gt; 
&gt; ext/gtk+/config.w32
&gt; EXTENSION("php-gtk", "gen_atk.c gen_gdk.c gen_gtk.c gen_pango.c 
&gt; php_gdk.c php_gtk+.c php_gtk+_types.c", true); // always shared
&gt; replace:
&gt; EXTENSION("php-gtk", "gen_atk.c gen_gdk.c gen_gtk.c gen_pango.c 
&gt; php_gdk.c php_gtk+.c php_gtk+_types.c phpg_custom_tree_model.c", true); 
&gt; // always shared
&gt; 
&gt; but i can not compile ext\gtk+\phpg_custom_tree_model.c !
&gt; 
&gt; mfg xxoes
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061026204709</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-10-26 20:47:09-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-Gtk segfaults</subject><body>

I have the same Problem under win32,
php crashed in php5ts.dll.
php crashed also with an empty.

when i commend out:
php_gtk.c:
    ((php_gtk_ext_entry 
*)zend_llist_get_first(&amp;php_gtk_ext_registry))-&gt;handle = handle;
then php-gtk did't crash.


mfg xxoes


Christian Weiske schrieb:
&gt; Hi all,
&gt;
&gt;
&gt; My php segfaults when any php-gtk script ends, and segfaults, when
&gt; dev_inspector starts. I get a backtrace, but without any debug info even
&gt; though I compiled it into php and php-gtk.
&gt;
&gt; Anant told me that it crashes for him, too - on shutdown.
&gt;
&gt;
&gt; I guess it's because of gcc4.1, but that's a guess only.
&gt;
&gt;
&gt;   

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061027164539</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-10-27 16:45:39-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] compilation warnings</subject><body>

This is because you're using 4.1 which is very picky. Feel free to go 
through and fix these.

-Andrei

On Oct 26, 2006, at 12:27 PM, Christian Weiske wrote:

&gt; Hi all,
&gt;
&gt;
&gt; I get the following compilation warnings with cvs code:
&gt; ext/gtk+/gtk.overrides: In function 'zif_Gtk_rc_get_default_files':
&gt; ext/gtk+/gtk.overrides:649: warning: value computed is not used
&gt; ext/gtk+/gen_gtk.c: In function 'zif_GtkPreview_draw_row':
&gt; ext/gtk+/gen_gtk.c:21587: warning: pointer targets in passing argument 
&gt; 2
&gt; of 'gtk_preview_draw_row' differ in signedness
&gt; ext/gtk+/gtk.overrides: In function 'zif_GtkLayout_get_size':
&gt; ext/gtk+/gtk.overrides:3205: warning: pointer targets in passing
&gt; argument 2 of 'gtk_layout_get_size' differ in signedness
&gt; ext/gtk+/gtk.overrides:3205: warning: pointer targets in passing
&gt; argument 3 of 'gtk_layout_get_size' differ in signedness
&gt; ext/gtk+/gtk.overrides: In function 'zif_GtkAboutDialog_get_artists':
&gt; ext/gtk+/gtk.overrides:729: warning: value computed is not used
&gt; ext/gtk+/gtk.overrides: In function 'zif_GtkAboutDialog_get_authors':
&gt; ext/gtk+/gtk.overrides:751: warning: value computed is not used
&gt; ext/gtk+/gtk.overrides: In function 
&gt; 'zif_GtkAboutDialog_get_documenters':
&gt; ext/gtk+/gtk.overrides:773: warning: value computed is not used
&gt; ext/gtk+/gtk.overrides: In function 'zif_GtkAlignment_get_padding':
&gt; ext/gtk+/gtk.overrides:1068: warning: pointer targets in passing
&gt; argument 2 of 'gtk_alignment_get_padding' differ in signedness
&gt; ext/gtk+/gtk.overrides:1068: warning: pointer targets in passing
&gt; argument 3 of 'gtk_alignment_get_padding' differ in signedness
&gt; ext/gtk+/gtk.overrides:1068: warning: pointer targets in passing
&gt; argument 4 of 'gtk_alignment_get_padding' differ in signedness
&gt; ext/gtk+/gtk.overrides:1068: warning: pointer targets in passing
&gt; argument 5 of 'gtk_alignment_get_padding' differ in signedness
&gt; ext/gtk+/gen_gtk.c: In function 'phpg_GtkSelectionData_read_data':
&gt; ext/gtk+/gen_gtk.c:49448: warning: pointer targets in assignment differ
&gt; in signedness
&gt; ext/gtk+/gen_gtk.c: In function 'zif_GtkSelectionData_get_text':
&gt; ext/gtk+/gen_gtk.c:49529: warning: pointer targets in assignment differ
&gt; in signedness
&gt; ext/gtk+/gen_gtk.c: In function 'zif_GtkSelectionData_set':
&gt; ext/gtk+/gen_gtk.c:49601: warning: pointer targets in passing argument 
&gt; 4
&gt; of 'gtk_selection_data_set' differ in signedness
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20061029153009</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-10-29 15:30:09-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] writing a php-gtk extension</subject><body>

&gt;i have add "gdkdrawable_ce" to libglade.override, and there is the same 
&gt;problem!
&gt; i can not use *_ce in an extern module.

All the others do....

Do you want to zip it and mail it over to me, see if I can get it to 
compile/figure out what the problem is?

- Steph

&gt;
&gt; mfg xxoes
&gt;
&gt; Steph Fox schrieb:
&gt;&gt;&gt; but i have no overrides file.
&gt;&gt;
&gt;&gt; Right. And you need to make one. It will also generate those export 
&gt;&gt; declarations for you by the way...!
&gt;&gt;
&gt;&gt; ext/mozembed's smaller, take a look at that one if libglade's too much. 
&gt;&gt; Notice the layout and structure. You need to have a defs file, an 
&gt;&gt; overrides file, a php_*.h file and a php_*.c file. These need to be put 
&gt;&gt; together in a very specific way to allow the generator to do its job.
&gt;&gt;
&gt;&gt; - Steph (sleeping now)
&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Steph Fox schrieb:
&gt;&gt;&gt;&gt; Ah, no, it should be in your extension's overrides file, not the header 
&gt;&gt;&gt;&gt; (even if it's the _only_ thing in the overrides file). Take a look at 
&gt;&gt;&gt;&gt; libglade.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; code example:
&gt;&gt;&gt;&gt;&gt; #include "php_gtk.h"
&gt;&gt;&gt;&gt;&gt; #include "php_gtk_api.h"
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; #if HAVE_PHP_GTK
&gt;&gt;&gt;&gt;&gt; #include "gen_gdk.h"
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; PHP_GTK_EXPORT_CE(gtkcl_ce);
&gt;&gt;&gt;&gt;&gt; PHP_GTK_EXPORT_CE(gtkclimageset_ce);
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; static PHP_METHOD(GtkCL, __construct)
&gt;&gt;&gt;&gt;&gt; {
&gt;&gt;&gt;&gt;&gt;    zval *drawable;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "N", &amp;drawable, 
&gt;&gt;&gt;&gt;&gt; gdkdrawable_ce)) {
&gt;&gt;&gt;&gt;&gt;        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCL);
&gt;&gt;&gt;&gt;&gt;    }
&gt;&gt;&gt;&gt;&gt; }
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; it is a extension not a gen file from gtk+!
&gt;&gt;&gt;&gt;&gt; i think its a linker problem/ or function call can give me the 
&gt;&gt;&gt;&gt;&gt; gdkdrawable_ce!
&gt;&gt;&gt;&gt;&gt; i use win32 with vc7.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; sorry for my english, is not very well.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; mfg xxoes
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Steph Fox schrieb:
&gt;&gt;&gt;&gt;&gt;&gt;&gt; I have try it, it dosn't work!
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; Where are you including it?
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; Steph Fox schrieb:
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; that not a include problem!
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; thats a link problem.
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Yes, and if you don't include the file the link doesn't happen! 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Anant is correct.
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; - Steph
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; or a function can give me gdkdrawable_ce.
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; but how can i get the gdkdrawable_ce? compiler say's unresolved 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; symbol
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; __imp__gdkdrawable_ce.
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; i can only use gobject_ce not other *_ce.
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Try including php_gtk_api.h
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; - Anant
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; mfg xxoes
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060901000223</emailId><senderName>"Wolfgang Stelzhammer"</senderName><senderEmail>php-bar@stelzi.net</senderEmail><timestampReceived>2006-09-01 00:02:23-0400</timestampReceived><subject>[PHP-GTK-DEV] php-gtk-dev-unsubscribe@lists.php.net</subject><body>



-- 
MFG
Wolfgang Stelzhammer
http://www.profi-concept.at

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060902122955</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-09-02 12:29:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [SPAM] Re: [PHP-GTK-DEV] E_STRICT renamings</subject><body>

I missed a word - 'structure'. Basically in ZE we get the rules laid down 
for what PHP will or will not allow. There isn't a problem there, there's a 
problem in the (new) clash between there and our third-party GTK objects. 
But you're wrong about it affecting functionality, or at least I can't see 
how you're right. Put it this way, if you create a GtkWindow and call 
mnemonic_activate() from it, it worked before your patch.

&gt;&gt;&gt; Evidently it's nothing to do with the E_STRICT, which is only thrown if
&gt;&gt;&gt; you turn on something in php.ini that is off by default.
&gt;&gt; If one thinks about it, yes, the E_STRICT warnings are only a distant
&gt;&gt; symptom of the engine problem.
&gt;
&gt; 'The Engine problem' is that it defines the relationships.
&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060902175007</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-02 17:50:07-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] a few new bits and bobs</subject><body>

What are you referring to here?

-Andrei


On Sep 2, 2006, at 5:24 AM, Christian Weiske wrote:

&gt;&gt; gtkoverrides.txt:
&gt;&gt; gdkoverrides.txt:
&gt;&gt; typedefs.txt:
&gt; Anyone?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060902230703</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-09-02 23:07:03-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] pointer support</subject><body>

Ages ago stuff that you rewrote most of and committed :)

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "Christian Weiske" &lt;cweiske@cweiske.de&gt;; "PHP-GTK dev" 
&lt;php-gtk-dev@lists.php.net&gt;
Sent: Sunday, September 03, 2006 12:30 AM
Subject: Re: [PHP-GTK-DEV] pointer support


&gt; Well, I haven't. What the heck is this?
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Sep 2, 2006, at 11:49 AM, Steph Fox wrote:
&gt;
&gt;&gt; Ah, got it. No, that's in already (if in a slightly different form).
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; It's something I wrote ages ago, and I can't remember much about  it 
&gt;&gt;&gt; either now. Have you tested it Chris?
&gt;&gt;&gt;
&gt;&gt;&gt; ----- Original Message ----- From: "Andrei Zmievski" 
&gt;&gt;&gt; &lt;andrei@gravitonic.com&gt;
&gt;&gt;&gt; To: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
&gt;&gt;&gt; Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt;&gt; Sent: Saturday, September 02, 2006 7:50 PM
&gt;&gt;&gt; Subject: Re: [PHP-GTK-DEV] pointer support
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I've lost the reference. Please refresh my memory.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; On Sep 2, 2006, at 5:23 AM, Christian Weiske wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; - for your delectation and delight -
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; I've been testing this for the last three days here, it seems  to 
&gt;&gt;&gt;&gt;&gt;&gt; work
&gt;&gt;&gt;&gt;&gt;&gt; fine. Please mention if you find otherwise on your strange boxen.
&gt;&gt;&gt;&gt;&gt; Has anyone reviewed this?
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt;&gt;&gt; Christian Weiske
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060903164358</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-09-03 16:43:58-0400</timestampReceived><subject>[Fwd: [PHP-GTK-DEV] a few new bits and bobs]</subject><body>

[Attachment #2 (multipart/mixed)]


-------- Original Message --------
Subject: [PHP-GTK-DEV] a few new bits and bobs
Date: Wed, 21 Jun 2006 07:09:18 +0200
From: Steph Fox &lt;steph@zend.com&gt;
Reply-To: Steph Fox &lt;steph@zend.com&gt;
To: Andrei &lt;andrei@gravitonic.com&gt;
CC: PHP-GTK dev &lt;php-gtk-dev@lists.php.net&gt;

gtkoverrides.txt:

- constructors for GtkCList and GtkCTree (with/without titles)
- implementation of GtkCTree::insert_node() (needs the pointer support to
work)
- adds construct exception to GtkDialog - actually I thought there was
another one that needed this too, did someone else fix it already?

gdkoverrides.txt:

- GdkPixbuf::add_alpha() can now take zero params (default behaviour is to
make white pixels transparent), 1 boolean (as default or simply provides a
copy of the original pixbuf) or 3 integers (describing the colour you want
to disappear, e.g. 255, 0, 0 == red).

- implementations of Gdk::pixmap_colormap_create_from_xpm,
Gdk::pixmap_colormap_create_from_xpm_d, Gdk::pixmap_create_from_xpm and
Gdk::pixmap_create_from_xpm_d. All four are affected by changes in GTK+
source that make it impossible to pass a NULL value for the drawable,
colormap (where appropriate) or color objects. Otherwise unchanged from
PHP-GTK 1.

typedefs.txt:

- Tried to add in the fields that GtkCList and GtkCTree _should_ have but
got an unresolved crash when trying to allow some properties (the clist in
GtkCTree being primary there) and have no idea why. Not suggesting this
goes
into CVS even in its shortened form, just want to get some idea what's
going
down there... anyone?

- Steph


-- 
Regards/MfG,
Christian Weiske

["gdkoverrides.txt" (text/plain)]

Index: ext/gtk+/gdk.overrides
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/gdk.overrides,v
retrieving revision 1.64
diff -u -r1.64 gdk.overrides
--- ext/gtk+/gdk.overrides	17 Jun 2006 18:43:55 -0000	1.64
+++ ext/gtk+/gdk.overrides	21 Jun 2006 04:56:57 -0000
@@ -1907,6 +1907,47 @@
 }
 
 %%
+add-arginfo GdkPixbuf add_alpha
+static
+ZEND_BEGIN_ARG_INFO_EX(ARGINFO_NAME, 0, 0, 3)
+    ZEND_ARG_INFO(0, substitute_or_red)
+    ZEND_ARG_INFO(0, green)
+    ZEND_ARG_INFO(0, blue)
+ZEND_END_ARG_INFO();
+
+%%
+override gdk_pixbuf_add_alpha
+PHP_METHOD
+{
+	zend_bool substitute = TRUE;
+	int red, blue, green;
+	guchar r = 255, g = 255, b = 255;
+	GdkPixbuf* pixbuf;
+
+	NOT_STATIC_METHOD();
+
+	if (ZEND_NUM_ARGS() &gt; 1) {
+		if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "iii", &amp;red, &amp;green, &amp;blue)) {
+			return;
+		} else {
+			r = (guchar)red;
+			g = (guchar)green;
+			b = (guchar)blue;
+		}
+	} else {
+		if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|b", &amp;substitute))
+			return;
+	}
+
+	pixbuf = gdk_pixbuf_add_alpha(GDK_PIXBUF(PHPG_GOBJECT(this_ptr)), (gboolean)substitute, r, g, b);
+
+	if (pixbuf) {
+		phpg_gobject_new(&amp;return_value, (GObject *)pixbuf TSRMLS_CC);
+		g_object_unref(pixbuf);
+	}
+}
+
+%%
 override gdk_pixbuf_get_pixels
 PHP_METHOD
 {
@@ -2311,6 +2352,193 @@
 
 %% }}}
 
+%% {{{ GdkPixmap
+
+%%
+override gdk_pixmap_colormap_create_from_xpm
+PHP_METHOD
+{
+	zval *php_drawable, *php_trans_color, *php_colormap;
+	zval *ret_pixmap = NULL, *ret_mask = NULL;
+	gchar *filename;
+	zend_bool free_filename = FALSE;
+	GdkDrawable *drawable = NULL;
+	GdkColormap *colormap = NULL;
+	GdkColor *trans_color = NULL;
+	GdkPixmap *pixmap = NULL;
+	GdkBitmap *mask;
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "OOOu", &amp;php_drawable, gdkdrawable_ce,
+													 &amp;php_colormap, gdkcolormap_ce,
+													 &amp;php_trans_color, gdkcolor_ce,
+													 &amp;filename, &amp;free_filename)) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	drawable = GDK_DRAWABLE(PHPG_GOBJECT(php_drawable));
+	colormap = GDK_COLORMAP(PHPG_GOBJECT(php_colormap));
+	trans_color = (GdkColor *) PHPG_GBOXED(php_trans_color);
+
+	pixmap = gdk_pixmap_colormap_create_from_xpm(drawable, colormap, &amp;mask, trans_color, filename);
+	if (free_filename) g_free(filename);
+
+	if (!pixmap) {
+		php_error(E_WARNING, "%s() cannot load pixmap", get_active_function_name(TSRMLS_C));
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	phpg_gobject_new(&amp;ret_pixmap, (GObject*)pixmap TSRMLS_CC);
+	gdk_pixmap_unref(pixmap);
+
+	phpg_gobject_new(&amp;ret_mask, (GObject *)mask TSRMLS_CC);
+	gdk_bitmap_unref(mask);
+
+	php_gtk_build_value(&amp;return_value, "(NN)", ret_pixmap, ret_mask);
+}
+
+%%
+override gdk_pixmap_colormap_create_from_xpm_d
+PHP_METHOD
+{
+	zval *php_drawable, *php_colormap,
+		 *php_trans_color, *php_data;
+	zval *ret_pixmap = NULL, *ret_mask = NULL;
+	zval **line;
+	GdkDrawable *drawable = NULL;
+	GdkColormap *colormap = NULL;
+	GdkColor *trans_color = NULL;
+	GdkPixmap *pixmap = NULL;
+	GdkBitmap *mask;
+	char **data;
+	int len, i = 0;
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "OOOa", &amp;php_drawable, gdkdrawable_ce,
+													 &amp;php_colormap, gdkcolormap_ce,
+													 &amp;php_trans_color, gdkcolor_ce,
+													 &amp;php_data)) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	drawable = GDK_DRAWABLE(PHPG_GOBJECT(php_drawable));
+	colormap = GDK_COLORMAP(PHPG_GOBJECT(php_colormap));
+	trans_color = (GdkColor *) PHPG_GBOXED(php_trans_color);
+
+	len = zend_hash_num_elements(Z_ARRVAL_P(php_data));
+	data = emalloc(len * sizeof(char *));
+	for (zend_hash_internal_pointer_reset(Z_ARRVAL_P(php_data));
+		 zend_hash_get_current_data(Z_ARRVAL_P(php_data), (void **)&amp;line) == SUCCESS;
+		 zend_hash_move_forward(Z_ARRVAL_P(php_data))) {
+		convert_to_string_ex(line);
+		data[i++] = Z_STRVAL_PP(line);
+	}
+
+	pixmap = gdk_pixmap_colormap_create_from_xpm_d(drawable, colormap, &amp;mask, trans_color, data);
+	efree(data);
+
+	if (!pixmap) {
+		php_error(E_WARNING, "%s() cannot load pixmap", get_active_function_name(TSRMLS_C));
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	phpg_gobject_new(&amp;ret_pixmap, (GObject*)pixmap TSRMLS_CC);
+	gdk_pixmap_unref(pixmap);
+
+	phpg_gobject_new(&amp;ret_mask, (GObject *)mask TSRMLS_CC);
+	gdk_bitmap_unref(mask);
+
+	php_gtk_build_value(&amp;return_value, "(NN)", ret_pixmap, ret_mask);
+}
+
+%%
+override gdk_pixmap_create_from_xpm
+PHP_METHOD
+{
+	zval *php_drawable, *php_trans_color;
+	zval *ret_pixmap = NULL, *ret_mask = NULL;
+	gchar *filename;
+	zend_bool free_filename = FALSE;
+	GdkDrawable *drawable = NULL;
+	GdkColor *trans_color = NULL;
+	GdkPixmap *pixmap = NULL;
+	GdkBitmap *mask;
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "OOu", &amp;php_drawable, gdkdrawable_ce,
+													&amp;php_trans_color, gdkcolor_ce,
+													&amp;filename, &amp;free_filename)) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	drawable = GDK_DRAWABLE(PHPG_GOBJECT(php_drawable));
+	trans_color = (GdkColor *) PHPG_GBOXED(php_trans_color);
+
+	pixmap = gdk_pixmap_create_from_xpm(drawable, &amp;mask, trans_color, filename);
+	if (free_filename) g_free(filename);
+
+	if (!pixmap) {
+		php_error(E_WARNING, "%s() cannot load pixmap", get_active_function_name(TSRMLS_C));
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	phpg_gobject_new(&amp;ret_pixmap, (GObject*)pixmap TSRMLS_CC);
+	gdk_pixmap_unref(pixmap);
+
+	phpg_gobject_new(&amp;ret_mask, (GObject *)mask TSRMLS_CC);
+	gdk_bitmap_unref(mask);
+
+	php_gtk_build_value(&amp;return_value, "(NN)", ret_pixmap, ret_mask);
+}
+
+%%
+override gdk_pixmap_create_from_xpm_d
+PHP_METHOD
+{
+	zval *php_drawable, *php_trans_color, *php_data;
+	zval *ret_pixmap = NULL, *ret_mask = NULL;
+	zval **line;
+	GdkDrawable *drawable = NULL;
+	GdkColor *trans_color = NULL;
+	GdkPixmap *pixmap = NULL;
+	GdkBitmap *mask;
+	char **data;
+	int len, i = 0;
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "OOa", &amp;php_drawable, gdkdrawable_ce,
+													&amp;php_trans_color, gdkcolor_ce,
+													&amp;php_data)) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	drawable = GDK_DRAWABLE(PHPG_GOBJECT(php_drawable));
+	trans_color = (GdkColor *) PHPG_GBOXED(php_trans_color);
+
+	len = zend_hash_num_elements(Z_ARRVAL_P(php_data));
+	data = emalloc(len * sizeof(char *));
+	for (zend_hash_internal_pointer_reset(Z_ARRVAL_P(php_data));
+		 zend_hash_get_current_data(Z_ARRVAL_P(php_data), (void **)&amp;line) == SUCCESS;
+		 zend_hash_move_forward(Z_ARRVAL_P(php_data))) {
+		convert_to_string_ex(line);
+		data[i++] = Z_STRVAL_PP(line);
+	}
+
+	pixmap = gdk_pixmap_create_from_xpm_d(drawable, &amp;mask, trans_color, data);
+	efree(data);
+
+	if (!pixmap) {
+		php_error(E_WARNING, "%s() cannot load pixmap", get_active_function_name(TSRMLS_C));
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	phpg_gobject_new(&amp;ret_pixmap, (GObject*)pixmap TSRMLS_CC);
+	gdk_pixmap_unref(pixmap);
+
+	phpg_gobject_new(&amp;ret_mask, (GObject *)mask TSRMLS_CC);
+	gdk_bitmap_unref(mask);
+
+	php_gtk_build_value(&amp;return_value, "(NN)", ret_pixmap, ret_mask);
+}
+
+%% }}}
+
 %% {{{ GdkRectangle
 
 %%


["typedefs.txt" (text/plain)]

Index: ext/gtk+/gtk-types.defs
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/gtk-types.defs,v
retrieving revision 1.3
diff -u -r1.3 gtk-types.defs
--- ext/gtk+/gtk-types.defs	4 Apr 2005 04:07:30 -0000	1.3
+++ ext/gtk+/gtk-types.defs	19 Jun 2006 17:59:26 -0000
@@ -2481,10 +2481,13 @@
   (c-name "GtkCList")
   (gtype-id "GTK_TYPE_CLIST")
   (fields
-    '("GList*" "selection")
     '("gint" "focus_row")
     '("gint" "rows")
-    '("gint" "columns")
+    '("gint" "sort_column")
+    '("GtkSortType" "sort_type")
+    '("GList*" "selection")
+    '("GtkSelectionMode" "selection_mode")
+    '("GList*" "row_list")
   )
 )
 
@@ -2530,7 +2533,11 @@
   (c-name "GtkCTree")
   (gtype-id "GTK_TYPE_CTREE")
   (fields
-    '("GList*" "selection")
+    '("gint" "tree_indent")
+    '("gint" "tree_spacing")
+    '("gint" "tree_column")
+    '("GtkCTreeLineStyle" "line_style")
+    '("GtkCTreeExpanderStyle" "expander_style")
   )
 )
 


["gtkoverrides.txt" (text/plain)]

Index: ext/gtk+/gtk.overrides
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/gtk.overrides,v
retrieving revision 1.197
diff -u -r1.197 gtk.overrides
--- ext/gtk+/gtk.overrides	17 Jun 2006 20:44:14 -0000	1.197
+++ ext/gtk+/gtk.overrides	20 Jun 2006 19:06:37 -0000
@@ -39,8 +39,10 @@
     gtk_action_group_add_radio_actions_full
     gtk_button_new_with_label
     gtk_button_new_with_mnemonic
+    gtk_clist_new_with_titles
     gtk_color_button_new
     gtk_combo_box_new_with_model
+    gtk_ctree_new_with_titles
     gtk_dialog_new
     gtk_exit
     gtk_entry_new_with_max_length
@@ -1317,6 +1319,62 @@
 %% {{{ GtkCList
 
 %%
+add-arginfo GtkCList __construct
+static
+ZEND_BEGIN_ARG_INFO_EX(ARGINFO_NAME, 0, 0, 0)
+    ZEND_ARG_INFO(0, columns)
+    ZEND_ARG_INFO(0, titles)
+ZEND_END_ARG_INFO();
+
+%%
+override gtk_clist_new
+PHP_METHOD
+{
+	GObject *wrapped_obj;
+	gint columns, i = 0;
+	gchar **titles;
+	zval *php_titles = NULL, **temp_title;
+	HashTable *target_hash;
+
+
+	NOT_STATIC_METHOD();
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "i|a", &amp;columns, &amp;php_titles)) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCList);
+	}
+
+	phpg_warn_deprecated("use GtkListStore/GtkTreeView" TSRMLS_CC);
+
+	if (columns &lt;= 0) {
+		PHPG_THROW_EXCEPTION(phpg_construct_exception, "GtkCList requires the number of \
columns to be &gt; 0"); +	}
+
+	if (php_titles) {
+		if (zend_hash_num_elements(Z_ARRVAL_P(php_titles)) &lt; columns) {
+			PHPG_THROW_EXCEPTION(phpg_construct_exception, "The size of the title array needs \
to match the number of columns"); +		}
+		target_hash = HASH_OF(php_titles);
+		titles = emalloc(sizeof(gchar *) * columns);
+		zend_hash_internal_pointer_reset(target_hash);
+		while (zend_hash_get_current_data(target_hash, (void **)&amp;temp_title) == SUCCESS) {
+			convert_to_string_ex(temp_title);
+			titles[i++] = estrndup(Z_STRVAL_PP(temp_title), Z_STRLEN_PP(temp_title));
+			zend_hash_move_forward(target_hash);
+		}
+		wrapped_obj = (GObject *) gtk_clist_new_with_titles(columns, titles);
+		efree(titles);
+	} else {
+		wrapped_obj = (GObject *)gtk_clist_new(columns);
+	}
+
+	if (!wrapped_obj) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCList);
+	}
+
+	phpg_gobject_set_wrapper(this_ptr, wrapped_obj TSRMLS_CC);
+}
+
+%%
 add-arginfo GtkCList get_selection_info
 static
 ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
@@ -1598,6 +1656,136 @@
 
 %% }}}
 
+%% {{{ GtkCTree
+
+%%
+add-arginfo GtkCTree __construct
+static
+ZEND_BEGIN_ARG_INFO_EX(ARGINFO_NAME, 0, 0, 0)
+    ZEND_ARG_INFO(0, columns)
+    ZEND_ARG_INFO(0, tree_column)
+    ZEND_ARG_INFO(0, titles)
+ZEND_END_ARG_INFO();
+
+%%
+override gtk_ctree_new
+PHP_METHOD
+{
+	GObject *wrapped_obj;
+	gint columns, tree_column, i = 0;
+	gchar **titles;
+	zval *php_titles = NULL, **temp_title;
+	HashTable *target_hash;
+
+	NOT_STATIC_METHOD();
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "ii|a", &amp;columns, &amp;tree_column, \
&amp;php_titles)) { +		PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCTree);
+	}
+
+	phpg_warn_deprecated("use GtkTreeStore/GtkTreeView" TSRMLS_CC);
+
+	if (columns &lt;= 0) {
+		php_error(E_WARNING, "%s::%s() requires the number of columns to be &gt; 0",
+			get_active_class_name(NULL TSRMLS_CC), get_active_function_name(TSRMLS_C));
+			PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCTree);
+	}
+
+	if (php_titles) {
+		if (zend_hash_num_elements(Z_ARRVAL_P(php_titles)) &lt; columns) {
+			php_error(E_WARNING, "%s::%s(): the size of the title array needs to match the \
number of columns", +			get_active_class_name(NULL TSRMLS_CC), \
get_active_function_name(TSRMLS_C)); +			PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCTree);
+		}
+		target_hash = HASH_OF(php_titles);
+		titles = emalloc(sizeof(gchar *) * columns);
+		zend_hash_internal_pointer_reset(target_hash);
+		while (zend_hash_get_current_data(target_hash, (void **)&amp;temp_title) == SUCCESS) {
+			convert_to_string_ex(temp_title);
+			titles[i++] = estrndup(Z_STRVAL_PP(temp_title), Z_STRLEN_PP(temp_title));
+			zend_hash_move_forward(target_hash);
+		}
+		wrapped_obj = (GObject *) gtk_ctree_new_with_titles(columns, tree_column, titles);
+		efree(titles);
+	} else {
+		wrapped_obj = (GObject *)gtk_ctree_new(columns, tree_column);
+	}
+
+	if (!wrapped_obj) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCTree);
+	}
+
+	phpg_gobject_set_wrapper(this_ptr, wrapped_obj TSRMLS_CC);
+}
+
+%%
+override gtk_ctree_insert_node
+PHP_METHOD
+{
+	zval *php_parent, *php_sibling, *php_text, **temp_text;
+	zval *php_pixmap_closed = NULL, *php_pixmap_opened = NULL,
+		 *php_mask_closed = NULL, *php_mask_opened = NULL;
+	gint columns, spacing = 5, i = 0;
+	zend_bool is_leaf = 0, expanded = 0;
+	GtkCTreeNode *parent = NULL, *sibling = NULL, *php_retval;
+	GdkPixmap *pixmap_closed = NULL, *pixmap_opened = NULL;
+	GdkBitmap *mask_closed = NULL, *mask_opened = NULL;
+	GtkCTree *tree;
+	gchar **text = NULL;
+	HashTable *target_hash;
+
+	NOT_STATIC_METHOD();
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "NNa|iNNNNbb",  &amp;php_parent, \
gtkctreenode_ce, +															&amp;php_sibling, gtkctreenode_ce,
+															&amp;php_text, &amp;spacing,
+															&amp;php_pixmap_closed, gdkpixmap_ce,
+															&amp;php_mask_closed, gdkpixmap_ce,
+															&amp;php_pixmap_opened, gdkpixmap_ce,
+															&amp;php_mask_opened, gdkpixmap_ce,
+															&amp;is_leaf, &amp;expanded)) {
+		return;
+	}
+
+	target_hash = HASH_OF(php_text);
+	tree = GTK_CTREE(PHPG_GOBJECT(this_ptr));
+	columns = GTK_CLIST(tree)-&gt;columns;
+	if (zend_hash_num_elements(target_hash) != columns) {
+		php_error(E_WARNING, "%s(): the text array size (%d) does not match the number of \
columns in the ctree (%d)", get_active_function_name(TSRMLS_C), \
zend_hash_num_elements(target_hash), columns); +		return;
+	}
+
+	if (Z_TYPE_P(php_parent) != IS_NULL)
+		parent			= GTK_CTREE_NODE(PHPG_GPOINTER(php_parent));
+	if (Z_TYPE_P(php_sibling) != IS_NULL)
+		sibling			= GTK_CTREE_NODE(PHPG_GPOINTER(php_sibling));
+	if (php_pixmap_closed &amp;&amp; Z_TYPE_P(php_pixmap_closed) != IS_NULL)
+		pixmap_closed	= GDK_PIXMAP(PHPG_GOBJECT(php_pixmap_closed));
+	if (php_mask_closed &amp;&amp; Z_TYPE_P(php_mask_closed) != IS_NULL)
+		mask_closed		= GDK_PIXMAP(PHPG_GOBJECT(php_mask_closed));
+	if (php_pixmap_opened &amp;&amp; Z_TYPE_P(php_pixmap_opened) != IS_NULL)
+		pixmap_opened	= GDK_PIXMAP(PHPG_GOBJECT(php_pixmap_opened));
+	if (php_mask_opened &amp;&amp; Z_TYPE_P(php_mask_opened) != IS_NULL)
+		mask_opened		= GDK_PIXMAP(PHPG_GOBJECT(php_mask_opened));
+
+	text = emalloc(sizeof(gchar *) * columns);
+	zend_hash_internal_pointer_reset(target_hash);
+	while (zend_hash_get_current_data(target_hash, (void **)&amp;temp_text) == SUCCESS) {
+		convert_to_string_ex(temp_text);
+		text[i++] = estrndup(Z_STRVAL_PP(temp_text), Z_STRLEN_PP(temp_text));
+		zend_hash_move_forward(target_hash);
+	}
+
+	php_retval = gtk_ctree_insert_node(tree, parent, sibling, text, (guint8)spacing,
+								pixmap_closed, mask_closed, pixmap_opened,
+								mask_opened, is_leaf, expanded);
+
+	efree(text);
+	phpg_gpointer_new(&amp;return_value, GTK_TYPE_CTREE_NODE, php_retval TSRMLS_CC);
+}
+
+%% }}}
+
 %% {{{ GtkDialog
 
 %%
@@ -1807,7 +1995,7 @@
 	GObject *wrapped_obj;
 
     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|ui", &amp;text, &amp;free_text, &amp;max)) {
-        return;
+        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkEntry);
     }
 
     wrapped_obj = (GObject *)g_object_new(phpg_gtype_from_zval(this_ptr),
@@ -3030,7 +3218,7 @@
     GObject *wrapped_obj = NULL;
 
     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "i|O", &amp;socket_id, &amp;display))
-        return;
+        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkPlug);
 
     wrapped_obj = g_object_new(phpg_gtype_from_zval(this_ptr), NULL);
 


["file:///tmp/nsmail-4.asc" (text/plain)]

--=20
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060621050918</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-21 05:09:18-0400</timestampReceived><subject>[PHP-GTK-DEV] a few new bits and bobs</subject><body>

gtkoverrides.txt:

- constructors for GtkCList and GtkCTree (with/without titles)
- implementation of GtkCTree::insert_node() (needs the pointer support to 
work)
- adds construct exception to GtkDialog - actually I thought there was 
another one that needed this too, did someone else fix it already?

gdkoverrides.txt:

- GdkPixbuf::add_alpha() can now take zero params (default behaviour is to 
make white pixels transparent), 1 boolean (as default or simply provides a 
copy of the original pixbuf) or 3 integers (describing the colour you want 
to disappear, e.g. 255, 0, 0 == red).

- implementations of Gdk::pixmap_colormap_create_from_xpm, 
Gdk::pixmap_colormap_create_from_xpm_d, Gdk::pixmap_create_from_xpm and 
Gdk::pixmap_create_from_xpm_d. All four are affected by changes in GTK+ 
source that make it impossible to pass a NULL value for the drawable, 
colormap (where appropriate) or color objects. Otherwise unchanged from 
PHP-GTK 1.

typedefs.txt:

- Tried to add in the fields that GtkCList and GtkCTree _should_ have but 
got an unresolved crash when trying to allow some properties (the clist in 
GtkCTree being primary there) and have no idea why. Not suggesting this goes 
into CVS even in its shortened form, just want to get some idea what's going 
down there... anyone?

- Steph

["gdkoverrides.txt" (text/plain)]

Index: ext/gtk+/gdk.overrides
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/gdk.overrides,v
retrieving revision 1.64
diff -u -r1.64 gdk.overrides
--- ext/gtk+/gdk.overrides	17 Jun 2006 18:43:55 -0000	1.64
+++ ext/gtk+/gdk.overrides	21 Jun 2006 04:56:57 -0000
@@ -1907,6 +1907,47 @@
 }
 
 %%
+add-arginfo GdkPixbuf add_alpha
+static
+ZEND_BEGIN_ARG_INFO_EX(ARGINFO_NAME, 0, 0, 3)
+    ZEND_ARG_INFO(0, substitute_or_red)
+    ZEND_ARG_INFO(0, green)
+    ZEND_ARG_INFO(0, blue)
+ZEND_END_ARG_INFO();
+
+%%
+override gdk_pixbuf_add_alpha
+PHP_METHOD
+{
+	zend_bool substitute = TRUE;
+	int red, blue, green;
+	guchar r = 255, g = 255, b = 255;
+	GdkPixbuf* pixbuf;
+
+	NOT_STATIC_METHOD();
+
+	if (ZEND_NUM_ARGS() &gt; 1) {
+		if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "iii", &amp;red, &amp;green, &amp;blue)) {
+			return;
+		} else {
+			r = (guchar)red;
+			g = (guchar)green;
+			b = (guchar)blue;
+		}
+	} else {
+		if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|b", &amp;substitute))
+			return;
+	}
+
+	pixbuf = gdk_pixbuf_add_alpha(GDK_PIXBUF(PHPG_GOBJECT(this_ptr)), (gboolean)substitute, r, g, b);
+
+	if (pixbuf) {
+		phpg_gobject_new(&amp;return_value, (GObject *)pixbuf TSRMLS_CC);
+		g_object_unref(pixbuf);
+	}
+}
+
+%%
 override gdk_pixbuf_get_pixels
 PHP_METHOD
 {
@@ -2311,6 +2352,193 @@
 
 %% }}}
 
+%% {{{ GdkPixmap
+
+%%
+override gdk_pixmap_colormap_create_from_xpm
+PHP_METHOD
+{
+	zval *php_drawable, *php_trans_color, *php_colormap;
+	zval *ret_pixmap = NULL, *ret_mask = NULL;
+	gchar *filename;
+	zend_bool free_filename = FALSE;
+	GdkDrawable *drawable = NULL;
+	GdkColormap *colormap = NULL;
+	GdkColor *trans_color = NULL;
+	GdkPixmap *pixmap = NULL;
+	GdkBitmap *mask;
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "OOOu", &amp;php_drawable, gdkdrawable_ce,
+													 &amp;php_colormap, gdkcolormap_ce,
+													 &amp;php_trans_color, gdkcolor_ce,
+													 &amp;filename, &amp;free_filename)) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	drawable = GDK_DRAWABLE(PHPG_GOBJECT(php_drawable));
+	colormap = GDK_COLORMAP(PHPG_GOBJECT(php_colormap));
+	trans_color = (GdkColor *) PHPG_GBOXED(php_trans_color);
+
+	pixmap = gdk_pixmap_colormap_create_from_xpm(drawable, colormap, &amp;mask, trans_color, filename);
+	if (free_filename) g_free(filename);
+
+	if (!pixmap) {
+		php_error(E_WARNING, "%s() cannot load pixmap", get_active_function_name(TSRMLS_C));
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	phpg_gobject_new(&amp;ret_pixmap, (GObject*)pixmap TSRMLS_CC);
+	gdk_pixmap_unref(pixmap);
+
+	phpg_gobject_new(&amp;ret_mask, (GObject *)mask TSRMLS_CC);
+	gdk_bitmap_unref(mask);
+
+	php_gtk_build_value(&amp;return_value, "(NN)", ret_pixmap, ret_mask);
+}
+
+%%
+override gdk_pixmap_colormap_create_from_xpm_d
+PHP_METHOD
+{
+	zval *php_drawable, *php_colormap,
+		 *php_trans_color, *php_data;
+	zval *ret_pixmap = NULL, *ret_mask = NULL;
+	zval **line;
+	GdkDrawable *drawable = NULL;
+	GdkColormap *colormap = NULL;
+	GdkColor *trans_color = NULL;
+	GdkPixmap *pixmap = NULL;
+	GdkBitmap *mask;
+	char **data;
+	int len, i = 0;
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "OOOa", &amp;php_drawable, gdkdrawable_ce,
+													 &amp;php_colormap, gdkcolormap_ce,
+													 &amp;php_trans_color, gdkcolor_ce,
+													 &amp;php_data)) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	drawable = GDK_DRAWABLE(PHPG_GOBJECT(php_drawable));
+	colormap = GDK_COLORMAP(PHPG_GOBJECT(php_colormap));
+	trans_color = (GdkColor *) PHPG_GBOXED(php_trans_color);
+
+	len = zend_hash_num_elements(Z_ARRVAL_P(php_data));
+	data = emalloc(len * sizeof(char *));
+	for (zend_hash_internal_pointer_reset(Z_ARRVAL_P(php_data));
+		 zend_hash_get_current_data(Z_ARRVAL_P(php_data), (void **)&amp;line) == SUCCESS;
+		 zend_hash_move_forward(Z_ARRVAL_P(php_data))) {
+		convert_to_string_ex(line);
+		data[i++] = Z_STRVAL_PP(line);
+	}
+
+	pixmap = gdk_pixmap_colormap_create_from_xpm_d(drawable, colormap, &amp;mask, trans_color, data);
+	efree(data);
+
+	if (!pixmap) {
+		php_error(E_WARNING, "%s() cannot load pixmap", get_active_function_name(TSRMLS_C));
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	phpg_gobject_new(&amp;ret_pixmap, (GObject*)pixmap TSRMLS_CC);
+	gdk_pixmap_unref(pixmap);
+
+	phpg_gobject_new(&amp;ret_mask, (GObject *)mask TSRMLS_CC);
+	gdk_bitmap_unref(mask);
+
+	php_gtk_build_value(&amp;return_value, "(NN)", ret_pixmap, ret_mask);
+}
+
+%%
+override gdk_pixmap_create_from_xpm
+PHP_METHOD
+{
+	zval *php_drawable, *php_trans_color;
+	zval *ret_pixmap = NULL, *ret_mask = NULL;
+	gchar *filename;
+	zend_bool free_filename = FALSE;
+	GdkDrawable *drawable = NULL;
+	GdkColor *trans_color = NULL;
+	GdkPixmap *pixmap = NULL;
+	GdkBitmap *mask;
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "OOu", &amp;php_drawable, gdkdrawable_ce,
+													&amp;php_trans_color, gdkcolor_ce,
+													&amp;filename, &amp;free_filename)) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	drawable = GDK_DRAWABLE(PHPG_GOBJECT(php_drawable));
+	trans_color = (GdkColor *) PHPG_GBOXED(php_trans_color);
+
+	pixmap = gdk_pixmap_create_from_xpm(drawable, &amp;mask, trans_color, filename);
+	if (free_filename) g_free(filename);
+
+	if (!pixmap) {
+		php_error(E_WARNING, "%s() cannot load pixmap", get_active_function_name(TSRMLS_C));
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	phpg_gobject_new(&amp;ret_pixmap, (GObject*)pixmap TSRMLS_CC);
+	gdk_pixmap_unref(pixmap);
+
+	phpg_gobject_new(&amp;ret_mask, (GObject *)mask TSRMLS_CC);
+	gdk_bitmap_unref(mask);
+
+	php_gtk_build_value(&amp;return_value, "(NN)", ret_pixmap, ret_mask);
+}
+
+%%
+override gdk_pixmap_create_from_xpm_d
+PHP_METHOD
+{
+	zval *php_drawable, *php_trans_color, *php_data;
+	zval *ret_pixmap = NULL, *ret_mask = NULL;
+	zval **line;
+	GdkDrawable *drawable = NULL;
+	GdkColor *trans_color = NULL;
+	GdkPixmap *pixmap = NULL;
+	GdkBitmap *mask;
+	char **data;
+	int len, i = 0;
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "OOa", &amp;php_drawable, gdkdrawable_ce,
+													&amp;php_trans_color, gdkcolor_ce,
+													&amp;php_data)) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	drawable = GDK_DRAWABLE(PHPG_GOBJECT(php_drawable));
+	trans_color = (GdkColor *) PHPG_GBOXED(php_trans_color);
+
+	len = zend_hash_num_elements(Z_ARRVAL_P(php_data));
+	data = emalloc(len * sizeof(char *));
+	for (zend_hash_internal_pointer_reset(Z_ARRVAL_P(php_data));
+		 zend_hash_get_current_data(Z_ARRVAL_P(php_data), (void **)&amp;line) == SUCCESS;
+		 zend_hash_move_forward(Z_ARRVAL_P(php_data))) {
+		convert_to_string_ex(line);
+		data[i++] = Z_STRVAL_PP(line);
+	}
+
+	pixmap = gdk_pixmap_create_from_xpm_d(drawable, &amp;mask, trans_color, data);
+	efree(data);
+
+	if (!pixmap) {
+		php_error(E_WARNING, "%s() cannot load pixmap", get_active_function_name(TSRMLS_C));
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	phpg_gobject_new(&amp;ret_pixmap, (GObject*)pixmap TSRMLS_CC);
+	gdk_pixmap_unref(pixmap);
+
+	phpg_gobject_new(&amp;ret_mask, (GObject *)mask TSRMLS_CC);
+	gdk_bitmap_unref(mask);
+
+	php_gtk_build_value(&amp;return_value, "(NN)", ret_pixmap, ret_mask);
+}
+
+%% }}}
+
 %% {{{ GdkRectangle
 
 %%

["typedefs.txt" (text/plain)]

Index: ext/gtk+/gtk-types.defs
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/gtk-types.defs,v
retrieving revision 1.3
diff -u -r1.3 gtk-types.defs
--- ext/gtk+/gtk-types.defs	4 Apr 2005 04:07:30 -0000	1.3
+++ ext/gtk+/gtk-types.defs	19 Jun 2006 17:59:26 -0000
@@ -2481,10 +2481,13 @@
   (c-name "GtkCList")
   (gtype-id "GTK_TYPE_CLIST")
   (fields
-    '("GList*" "selection")
     '("gint" "focus_row")
     '("gint" "rows")
-    '("gint" "columns")
+    '("gint" "sort_column")
+    '("GtkSortType" "sort_type")
+    '("GList*" "selection")
+    '("GtkSelectionMode" "selection_mode")
+    '("GList*" "row_list")
   )
 )
 
@@ -2530,7 +2533,11 @@
   (c-name "GtkCTree")
   (gtype-id "GTK_TYPE_CTREE")
   (fields
-    '("GList*" "selection")
+    '("gint" "tree_indent")
+    '("gint" "tree_spacing")
+    '("gint" "tree_column")
+    '("GtkCTreeLineStyle" "line_style")
+    '("GtkCTreeExpanderStyle" "expander_style")
   )
 )
 

["gtkoverrides.txt" (text/plain)]

Index: ext/gtk+/gtk.overrides
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/gtk.overrides,v
retrieving revision 1.197
diff -u -r1.197 gtk.overrides
--- ext/gtk+/gtk.overrides	17 Jun 2006 20:44:14 -0000	1.197
+++ ext/gtk+/gtk.overrides	20 Jun 2006 19:06:37 -0000
@@ -39,8 +39,10 @@
     gtk_action_group_add_radio_actions_full
     gtk_button_new_with_label
     gtk_button_new_with_mnemonic
+    gtk_clist_new_with_titles
     gtk_color_button_new
     gtk_combo_box_new_with_model
+    gtk_ctree_new_with_titles
     gtk_dialog_new
     gtk_exit
     gtk_entry_new_with_max_length
@@ -1317,6 +1319,62 @@
 %% {{{ GtkCList
 
 %%
+add-arginfo GtkCList __construct
+static
+ZEND_BEGIN_ARG_INFO_EX(ARGINFO_NAME, 0, 0, 0)
+    ZEND_ARG_INFO(0, columns)
+    ZEND_ARG_INFO(0, titles)
+ZEND_END_ARG_INFO();
+
+%%
+override gtk_clist_new
+PHP_METHOD
+{
+	GObject *wrapped_obj;
+	gint columns, i = 0;
+	gchar **titles;
+	zval *php_titles = NULL, **temp_title;
+	HashTable *target_hash;
+
+
+	NOT_STATIC_METHOD();
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "i|a", &amp;columns, &amp;php_titles)) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCList);
+	}
+
+	phpg_warn_deprecated("use GtkListStore/GtkTreeView" TSRMLS_CC);
+
+	if (columns &lt;= 0) {
+		PHPG_THROW_EXCEPTION(phpg_construct_exception, "GtkCList requires the number of \
columns to be &gt; 0"); +	}
+
+	if (php_titles) {
+		if (zend_hash_num_elements(Z_ARRVAL_P(php_titles)) &lt; columns) {
+			PHPG_THROW_EXCEPTION(phpg_construct_exception, "The size of the title array needs \
to match the number of columns"); +		}
+		target_hash = HASH_OF(php_titles);
+		titles = emalloc(sizeof(gchar *) * columns);
+		zend_hash_internal_pointer_reset(target_hash);
+		while (zend_hash_get_current_data(target_hash, (void **)&amp;temp_title) == SUCCESS) {
+			convert_to_string_ex(temp_title);
+			titles[i++] = estrndup(Z_STRVAL_PP(temp_title), Z_STRLEN_PP(temp_title));
+			zend_hash_move_forward(target_hash);
+		}
+		wrapped_obj = (GObject *) gtk_clist_new_with_titles(columns, titles);
+		efree(titles);
+	} else {
+		wrapped_obj = (GObject *)gtk_clist_new(columns);
+	}
+
+	if (!wrapped_obj) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCList);
+	}
+
+	phpg_gobject_set_wrapper(this_ptr, wrapped_obj TSRMLS_CC);
+}
+
+%%
 add-arginfo GtkCList get_selection_info
 static
 ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
@@ -1598,6 +1656,136 @@
 
 %% }}}
 
+%% {{{ GtkCTree
+
+%%
+add-arginfo GtkCTree __construct
+static
+ZEND_BEGIN_ARG_INFO_EX(ARGINFO_NAME, 0, 0, 0)
+    ZEND_ARG_INFO(0, columns)
+    ZEND_ARG_INFO(0, tree_column)
+    ZEND_ARG_INFO(0, titles)
+ZEND_END_ARG_INFO();
+
+%%
+override gtk_ctree_new
+PHP_METHOD
+{
+	GObject *wrapped_obj;
+	gint columns, tree_column, i = 0;
+	gchar **titles;
+	zval *php_titles = NULL, **temp_title;
+	HashTable *target_hash;
+
+	NOT_STATIC_METHOD();
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "ii|a", &amp;columns, &amp;tree_column, \
&amp;php_titles)) { +		PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCTree);
+	}
+
+	phpg_warn_deprecated("use GtkTreeStore/GtkTreeView" TSRMLS_CC);
+
+	if (columns &lt;= 0) {
+		php_error(E_WARNING, "%s::%s() requires the number of columns to be &gt; 0",
+			get_active_class_name(NULL TSRMLS_CC), get_active_function_name(TSRMLS_C));
+			PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCTree);
+	}
+
+	if (php_titles) {
+		if (zend_hash_num_elements(Z_ARRVAL_P(php_titles)) &lt; columns) {
+			php_error(E_WARNING, "%s::%s(): the size of the title array needs to match the \
number of columns", +			get_active_class_name(NULL TSRMLS_CC), \
get_active_function_name(TSRMLS_C)); +			PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCTree);
+		}
+		target_hash = HASH_OF(php_titles);
+		titles = emalloc(sizeof(gchar *) * columns);
+		zend_hash_internal_pointer_reset(target_hash);
+		while (zend_hash_get_current_data(target_hash, (void **)&amp;temp_title) == SUCCESS) {
+			convert_to_string_ex(temp_title);
+			titles[i++] = estrndup(Z_STRVAL_PP(temp_title), Z_STRLEN_PP(temp_title));
+			zend_hash_move_forward(target_hash);
+		}
+		wrapped_obj = (GObject *) gtk_ctree_new_with_titles(columns, tree_column, titles);
+		efree(titles);
+	} else {
+		wrapped_obj = (GObject *)gtk_ctree_new(columns, tree_column);
+	}
+
+	if (!wrapped_obj) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCTree);
+	}
+
+	phpg_gobject_set_wrapper(this_ptr, wrapped_obj TSRMLS_CC);
+}
+
+%%
+override gtk_ctree_insert_node
+PHP_METHOD
+{
+	zval *php_parent, *php_sibling, *php_text, **temp_text;
+	zval *php_pixmap_closed = NULL, *php_pixmap_opened = NULL,
+		 *php_mask_closed = NULL, *php_mask_opened = NULL;
+	gint columns, spacing = 5, i = 0;
+	zend_bool is_leaf = 0, expanded = 0;
+	GtkCTreeNode *parent = NULL, *sibling = NULL, *php_retval;
+	GdkPixmap *pixmap_closed = NULL, *pixmap_opened = NULL;
+	GdkBitmap *mask_closed = NULL, *mask_opened = NULL;
+	GtkCTree *tree;
+	gchar **text = NULL;
+	HashTable *target_hash;
+
+	NOT_STATIC_METHOD();
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "NNa|iNNNNbb",  &amp;php_parent, \
gtkctreenode_ce, +															&amp;php_sibling, gtkctreenode_ce,
+															&amp;php_text, &amp;spacing,
+															&amp;php_pixmap_closed, gdkpixmap_ce,
+															&amp;php_mask_closed, gdkpixmap_ce,
+															&amp;php_pixmap_opened, gdkpixmap_ce,
+															&amp;php_mask_opened, gdkpixmap_ce,
+															&amp;is_leaf, &amp;expanded)) {
+		return;
+	}
+
+	target_hash = HASH_OF(php_text);
+	tree = GTK_CTREE(PHPG_GOBJECT(this_ptr));
+	columns = GTK_CLIST(tree)-&gt;columns;
+	if (zend_hash_num_elements(target_hash) != columns) {
+		php_error(E_WARNING, "%s(): the text array size (%d) does not match the number of \
columns in the ctree (%d)", get_active_function_name(TSRMLS_C), \
zend_hash_num_elements(target_hash), columns); +		return;
+	}
+
+	if (Z_TYPE_P(php_parent) != IS_NULL)
+		parent			= GTK_CTREE_NODE(PHPG_GPOINTER(php_parent));
+	if (Z_TYPE_P(php_sibling) != IS_NULL)
+		sibling			= GTK_CTREE_NODE(PHPG_GPOINTER(php_sibling));
+	if (php_pixmap_closed &amp;&amp; Z_TYPE_P(php_pixmap_closed) != IS_NULL)
+		pixmap_closed	= GDK_PIXMAP(PHPG_GOBJECT(php_pixmap_closed));
+	if (php_mask_closed &amp;&amp; Z_TYPE_P(php_mask_closed) != IS_NULL)
+		mask_closed		= GDK_PIXMAP(PHPG_GOBJECT(php_mask_closed));
+	if (php_pixmap_opened &amp;&amp; Z_TYPE_P(php_pixmap_opened) != IS_NULL)
+		pixmap_opened	= GDK_PIXMAP(PHPG_GOBJECT(php_pixmap_opened));
+	if (php_mask_opened &amp;&amp; Z_TYPE_P(php_mask_opened) != IS_NULL)
+		mask_opened		= GDK_PIXMAP(PHPG_GOBJECT(php_mask_opened));
+
+	text = emalloc(sizeof(gchar *) * columns);
+	zend_hash_internal_pointer_reset(target_hash);
+	while (zend_hash_get_current_data(target_hash, (void **)&amp;temp_text) == SUCCESS) {
+		convert_to_string_ex(temp_text);
+		text[i++] = estrndup(Z_STRVAL_PP(temp_text), Z_STRLEN_PP(temp_text));
+		zend_hash_move_forward(target_hash);
+	}
+
+	php_retval = gtk_ctree_insert_node(tree, parent, sibling, text, (guint8)spacing,
+								pixmap_closed, mask_closed, pixmap_opened,
+								mask_opened, is_leaf, expanded);
+
+	efree(text);
+	phpg_gpointer_new(&amp;return_value, GTK_TYPE_CTREE_NODE, php_retval TSRMLS_CC);
+}
+
+%% }}}
+
 %% {{{ GtkDialog
 
 %%
@@ -1807,7 +1995,7 @@
 	GObject *wrapped_obj;
 
     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|ui", &amp;text, &amp;free_text, &amp;max)) {
-        return;
+        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkEntry);
     }
 
     wrapped_obj = (GObject *)g_object_new(phpg_gtype_from_zval(this_ptr),
@@ -3030,7 +3218,7 @@
     GObject *wrapped_obj = NULL;
 
     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "i|O", &amp;socket_id, &amp;display))
-        return;
+        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkPlug);
 
     wrapped_obj = g_object_new(phpg_gtype_from_zval(this_ptr), NULL);
 



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060902122331</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-09-02 12:23:31-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] pointer support</subject><body>


&gt; - for your delectation and delight -
&gt; 
&gt; I've been testing this for the last three days here, it seems to work
&gt; fine. Please mention if you find otherwise on your strange boxen.
Has anyone reviewed this?

-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060811070352</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-08-11 07:03:52-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkEditable insert-text signal callback parameters contain GPointer</subject><body>


Hello all


The callback for insert-text on GtkEditable should have the following
signature:

php-gtk2:
void callback(string new_text, int new_text_length, int position);

gtk2:
void        user_function                  (GtkEditable *editable,
                                            gchar *new_text,
                                            gint new_text_length,
                                            gint *position,
                                            gpointer user_data);

Now, when using it in code, the fourth parameter is a GPointer. Seems
kinda wrong to me.

&lt;?php
$entry = new GtkEntry();
$entry-&gt;connect('insert-text', 'onInsertText', 'test');

function onInsertText($entry, $new_text, $new_text_len, $pos, $userdata)
{
    echo $new_text . ':' . $new_text_len . ':' . get_class($pos) . ':' .
$userdata . "\n";
}

$wnd = new GtkWindow();
$wnd-&gt;connect_simple('destroy', array('gtk', 'main_quit'));
$wnd-&gt;add($entry);
$wnd-&gt;show_all();
Gtk::main();
?&gt;
-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060903192211</emailId><senderName>Ronald Vincent Tarrant</senderName><senderEmail>rontarrant@sympatico.ca</senderEmail><timestampReceived>2006-09-03 19:22:11-0400</timestampReceived><subject>[PHP-GTK-DEV] Gdk::screen_height() Not Working</subject><body>

Hi Andrei, et al,

I have a php-gtk2 script I wrote several months ago that uses 
gdk::screen_height() and it worked at the time under Linux and Windows. 
Yesterday I finally got php-gtk2 compiled on FreeBSD and tried a few 
scripts at random, this one included. When I got the error message:

PHP Fatal error:  Call to undefined method Gdk::screen_height() in ...

I also tried it on Windows again as well as Linux. Same error on all 
platforms. There's nothing in the manual about it being deprecated, so 
I'm bringing it to your attention as a possible bug.

Take care.

-Ron T.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060903115558</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-09-03 11:55:58-0400</timestampReceived><subject>[PHP-GTK-DEV] Fw: [PHP-GTK] getting the cursor location of a textbuffer</subject><body>

Just in case anyone missed this...

----- Original Message ----- 
From: "gell6" &lt;spoongong@hotmail.com&gt;
To: &lt;php-gtk-general@lists.php.net&gt;
Sent: Sunday, September 03, 2006 1:15 PM
Subject: Re: [PHP-GTK] getting the cursor location of a textbuffer


&gt;
&gt; ok upgraded to gnope 1.51
&gt; Now get_iter_at_mark doesn't return anything, either into $iter1 or $iter2
&gt;
&gt; $iter1 = $buffer -&gt; get_iter_at_mark($iter2, $mark);
&gt;
&gt; Also
&gt; $iter = $buffer -&gt; get_iter_at_mark('insert');
&gt;
&gt; doesn't return anything. Oh dear. Rolling back to gnope 1.0.
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060907133931</emailId><senderName>Elizabeth Smith</senderName><senderEmail>emsmith@elizabethmariesmith.com</senderEmail><timestampReceived>2006-09-07 13:39:31-0400</timestampReceived><subject>[PHP-GTK-DEV] url doesn't show properly on first GtkAboutDialog creation with set_url_hook</subject><body>

I've run into a very strange bug with php-gtk 2.0.0alpha

GtkAboutDialog has a problem when using set_url_hook

The first time the GtkAboutDialog is created the url is not shown 
correctly (clickable), but the second time a GtkAboutDialog is created 
(and every subsequent time), it is shown correctly.

If you create two about dialogs - the second one is shown correctly if 
you use set_url_hook on the first one - even if you never show the first 
one or call $dialog-&gt;destroy() or unset it  - so there is a workaround

A quick example -

&lt;?php
$wnd = new GtkWindow();
$wnd-&gt;set_title('Hello world');
$wnd-&gt;connect_simple('destroy', array('gtk', 'main_quit'));
 
$button = new GtkButton('About');
$button-&gt;connect_simple('clicked', 'show_about');
$wnd-&gt;add($button);
 
$wnd-&gt;show_all();
Gtk::main();


function show_about()
{
    $window = new GtkAboutDialog();
    $window-&gt;set_website('http://php.net');
    $window-&gt;set_url_hook('url_hook');
    $window-&gt;show_all();
    return;
}

function url_hook($window)
{
    echo 'here I open a url';
    return;
}
?&gt;
 Workaround Version of show_about
&lt;?php

function show_about()
{
    $window = new GtkAboutDialog();
    $window-&gt;set_url_hook('url_hook');

    $window = new GtkAboutDialog();
    $window-&gt;set_website('http://php.net');
    $window-&gt;set_url_hook('url_hook');
    $window-&gt;show_all();
    return;
}
?&gt;
btw - this is on windows (XPproSP2) with the 5.1 version of php and 
php-gtk2 just in case that's important :)

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060909203733</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-09 20:37:33-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkUIManager, GtkActionGroup and GtkAction</subject><body>

&gt; Now you have to provide an action for every item in the xml  
&gt; definition,
&gt; or it will not be shown. You can define the actions by
&gt;
&gt; a) creating an GtkAction object for every single action, connecting a
&gt; callback to the "activate" signal and adding it to the action group  
&gt; via
&gt; -&gt;add_action($action). The drawback is that you cannot just do
&gt;&gt; $group-&gt;add_action(new GtkAction("Name", "_Title",
&gt;&gt;    "Tooltip", Gtk::STOCK_NEW));
&gt; because you need to add the callback, too. Therefore I vote for  
&gt; adding a
&gt; fifth, optional parameter that represents a callback and is  
&gt; connected if
&gt; passed to the constructor.

Sounds fine to me.

&gt; b) by using the currently not implemented $group-&gt;add_actions(array of
&gt; GtkActionEntries). A GtkActionEntry is a struct that just contains the
&gt; same information as a GtkAction, just the plain text version - so  
&gt; it can
&gt;  be represented by an array in php:
&gt;&gt; $group-&gt;add_actions( array(
&gt;&gt;    array($name, $stock_id, $label, $accelerator, $tooltip),
&gt;&gt;    array($name2, $stock_id2, $label2, $accelerator2, $tooltip2)
&gt;&gt; );
&gt; I am wondering now if we should allow passing an array of  
&gt; GtkActions to
&gt; the method, not only arrays? I personally think it is useful in some
&gt; special cases only, but if you really want to customize your  
&gt; actions it
&gt; is useful. And the name also implies that you can add actions, not
&gt; arrays only.

I agree. Go for it.

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060915183734</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-15 18:37:34-0400</timestampReceived><subject>[PHP-GTK-DEV] Event constants</subject><body>

&gt; Even after years, you still have the same mistake in your slides:  
&gt; "Gdk::2BUTTON_PRESS" does not exist, it's  "Gdk::_2BUTTON_PRESS"

Shoot, you're right. Should we make those constants look like Gdk:: 
2BUTTON_PRESS instead of having that ugly underscore at the front?

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060919091824</emailId><senderName>Ron Tarrant</senderName><senderEmail>rtarrant@sympatico.ca</senderEmail><timestampReceived>2006-09-19 09:18:24-0400</timestampReceived><subject>[PHP-GTK-DEV] Makefile Help?</subject><body>

Hi all,

I'm trying to understand the build process for PHP-Gtk2 and why 
generator/generator.php doesn't generate the gen_*.c and gen_*.h files 
under FreeBSD.

I can see where generator/generator.php is called in the toplevel 
Makefile. At some point before this in the Makefile, the operating 
system must be identified, right?

What I'm trying to figure out is which shell script _originally_ 
identifies the OS.

Why: Near the top of config.log, the message, "checking for Cygwin 
environment" suggests to me (correct me if I'm wrong) that the OS is 
being mis-identified as Windows.

Is the OS identified by examining an environment variable or in some 
other way?

Any help on this will be very much appreciated.

-Ron T.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060919103655</emailId><senderName>"Anant Narayanan"</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-09-19 10:36:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Makefile Help?</subject><body>

Hi Ron,

AFAIK, most build scripts do not try and detect the OS per se, but
rather check for the availability and behaviour of all the libraries
and functions it needs to compile successfully.

I will try and get a FreeBSD box up and running to see if I can help you out.

In any case, release versions of PHP-GTK 2 will always contain the
gen_* files; only developers (and those who compile from CVS HEAD)
would ever need to generate them. Please do try to compile the PHP-GTK
2 alpha release sources on FreeBSD and let us know!

Cheers,

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060919153337</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-19 15:33:37-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Makefile Help?</subject><body>

The OS is identified by the config.guess script that is installed into 
the directory by phpize (autoconf, really).

-Andrei

On Sep 19, 2006, at 3:24 AM, Anant Narayanan wrote:

&gt; Hi Ron,
&gt;
&gt; AFAIK, most build scripts do not try and detect the OS per se, but
&gt; rather check for the availability and behaviour of all the libraries
&gt; and functions it needs to compile successfully.
&gt;
&gt; I will try and get a FreeBSD box up and running to see if I can help 
&gt; you out.
&gt;
&gt; In any case, release versions of PHP-GTK 2 will always contain the
&gt; gen_* files; only developers (and those who compile from CVS HEAD)
&gt; would ever need to generate them. Please do try to compile the PHP-GTK
&gt; 2 alpha release sources on FreeBSD and let us know!
&gt;
&gt; Cheers,
&gt;
&gt; - Anant
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060911182035</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-09-11 18:20:35-0400</timestampReceived><subject>[PHP-GTK-DEV] News for September</subject><body>

What do we have for news for this month? We have some talks coming up 
soon (Int' PHP Con, ZendCon, php|works). We have a few articles recently 
(PHP|A, PHPMagazin). What else?

Thanks,
Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060927073905</emailId><senderName>       Fernando_Correa_da_Conceio</senderName><senderEmail></senderEmail><timestampReceived>2006-09-27 07:39:05-0400</timestampReceived><subject>[PHP-GTK-DEV] re: PHP-GNOME part 1 is here!</subject><body>

Dummy question: is this portable to windows?

Quoting Anant:

&gt;&gt;Also, a gentle reminder that we must decide on:
&gt;&gt;a) Which Scintilla version (Tom's or Mine)
I really want the version from Tom. I allways had trouble to make the
gtkscintilla2 work. I am using ubuntu 6.06 and it simple do not
compile(on Suse 10.1 too not compile). Scintilla compiles well. Gtk
scintilla is very old in comparassion with scintilla, and uses a old
version of scintilla.
But the more important is really choose one and have it working in
windows/linux(the same version) so we can use it. And if possible,
release ASAP a windows dll for it.

&gt;&gt;b) Which Gtk+ version (2.6 or upgrade to 2.8, possibly even 2.10?)
What are the differences? New widgets? I think if we can stay with 2.6
is better as we do not force the people update gtk only to use php-gtk.

&gt;&gt;It would be great if we could pack in both Scintilla and the Gnome
&gt;&gt;extensions by the time we reach a Beta release.
And too GtkSourceView on windows, without the printing suport. We must
remove it from linux too I think if it does not work but the class is
still there. The people will see the class and will try to use it, and
will ask why it does not work.

And, Anant, keep with the great job!!

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060928081334</emailId><senderName>       Fernando_Correa_da_Conceio</senderName><senderEmail></senderEmail><timestampReceived>2006-09-28 08:13:34-0400</timestampReceived><subject>[PHP-GTK-DEV] Undefined references in commit for phpg_custom_tree_model.c</subject><body>

I updated my sources and now it compiles without error, but when I rum 
my app I got:

PHP Warning:  PHP Startup: Unable to load dynamic library 
'/opt/php5/lib/php/extensions/no-debug-non-zts-20050922/php_gtk2.so' - 
/opt/php5/lib/php/extensions/no-debug-non-zts-20050922/php_gtk2.so: 
undefined symbol: phpg_custom_tree_model_class_init in Unknown on line 0

And a error which tell that GtkWindow do not exist.

May this is important:

gcc -Iext/gtk+/ -I/sources/php-gtk-original/ext/gtk+/ -DPHP_ATOM_INC 
-I/sources/php-gtk-original/include -I/sources/php-gtk-original/main 
-I/sources/php-gtk-original -I/opt/php5/include/php 
-I/opt/php5/include/php/main -I/opt/php5/include/php/TSRM 
-I/opt/php5/include/php/Zend -I/opt/php5/include/php/ext 
-I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include 
-I/usr/include/gtk-2.0 -I/usr/lib/gtk-2.0/include -I/usr/include/atk-1.0 
-I/usr/include/cairo -I/usr/include/pango-1.0 
-I/usr/include/gtksourceview-1.0 -I/usr/include/libxml2 
-I/usr/include/libgnomeprint-2.2 -I/usr/include/libart-2.0 
-DHAVE_CONFIG_H -g -O2 -c ext/gtk+/phpg_custom_tree_model.c  -fPIC -DPIC 
-o ext/gtk+/.libs/phpg_custom_tree_model.o
ext/gtk+/phpg_custom_tree_model.c:29: warning: 
'phpg_custom_tree_model_class_init' used but never defined
ext/gtk+/phpg_custom_tree_model.c:66: warning: 
'phpg_custom_tree_model_get_flags' used but never defined
ext/gtk+/phpg_custom_tree_model.c:67: warning: 
'phpg_custom_tree_model_get_n_columns' used but never defined
ext/gtk+/phpg_custom_tree_model.c:68: warning: 
'phpg_custom_tree_model_get_column_type' used but never defined
ext/gtk+/phpg_custom_tree_model.c:71: warning: 
'phpg_custom_tree_model_get_iter' used but never defined
ext/gtk+/phpg_custom_tree_model.c:73: warning: 
'phpg_custom_tree_model_get_path' used but never defined
ext/gtk+/phpg_custom_tree_model.c:76: warning: 
'phpg_custom_tree_model_get_value' used but never defined
ext/gtk+/phpg_custom_tree_model.c:78: warning: 
'phpg_custom_tree_model_iter_next' used but never defined
ext/gtk+/phpg_custom_tree_model.c:81: warning: 
'phpg_custom_tree_model_iter_children' used but never defined
ext/gtk+/phpg_custom_tree_model.c:83: warning: 
'phpg_custom_tree_model_iter_has_child' used but never defined
ext/gtk+/phpg_custom_tree_model.c:85: warning: 
'phpg_custom_tree_model_iter_n_children' used but never defined
ext/gtk+/phpg_custom_tree_model.c:89: warning: 
'phpg_custom_tree_model_iter_nth_child' used but never defined
ext/gtk+/phpg_custom_tree_model.c:92: warning: 
'phpg_custom_tree_model_iter_parent' used but never defined
ext/gtk+/phpg_custom_tree_model.c:94: warning: 
'phpg_custom_tree_model_unref_node' used but never defined
ext/gtk+/phpg_custom_tree_model.c:96: warning: 
'phpg_custom_tree_model_ref_node' used but never defined

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060927121823</emailId><senderName>"Anant Narayanan"</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-09-27 12:18:23-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] re: PHP-GNOME part 1 is here!</subject><body>

&gt; Dummy question: is this portable to windows?

No, unless you are using Cygwin or something similar.
(http://cygwinports.dotsrc.org/)

&gt; scintilla is very old in comparassion with scintilla, and uses a old
&gt; version of scintilla.

Yes I too agree that building on Scintilla rather than GtkScintilla is
a wiser thing to do. Also, Tom's version was built with Windows in
mind and it works out of the box there IMO.

&gt; What are the differences? New widgets? I think if we can stay with 2.6
&gt; is better as we do not force the people update gtk only to use php-gtk.

Apart from new widgets, and general bug fixes, Gtk 2.10 also offers
tray icon support, which is quite a significant feature. The reason
I'm pushing for updrading our Gtk version is because I feel this is
the right time to do it. Upgrading this after we make an official
release is something that's not going to happen.

Alternatively, we can offer two versions of PHP-GTK 2: one that builds
against 2.6 and another one that builds against 2.8/2.10.

&gt; And too GtkSourceView on windows, without the printing suport. We must
&gt; remove it from linux too I think if it does not work but the class is
&gt; still there. The people will see the class and will try to use it, and
&gt; will ask why it does not work.

GtkSourceView works without any flaws on Linux. I even got syntax
highlighting and other major features to work. Have you faced any
trouble in getting it to work? As far as Windows is concerned, I
remember there was some work in that direction. Steph's kind of busy
right now, and she's the only one with a Windows machine to get things
mocing in that area :)

However, the priority is still base API completion. I'm sure we will
all pay more attention to the extensions once we have 100% API
completion for Gtk+.

Cheers,

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060927160750</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-27 16:07:50-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] re: PHP-GNOME part 1 is here!</subject><body>

On Sep 27, 2006, at 5:06 AM, Anant Narayanan wrote:

&gt; Alternatively, we can offer two versions of PHP-GTK 2: one that builds
&gt; against 2.6 and another one that builds against 2.8/2.10.

Or we can try to figure out a way that supports 2.6, 2.8, and 2.10. It 
may be #ifdef hell though.

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060927161609</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-09-27 16:16:09-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] re: PHP-GNOME part 1 is here!</subject><body>

Andrei Zmievski wrote:
&gt; On Sep 27, 2006, at 5:06 AM, Anant Narayanan wrote:
&gt; 
&gt;&gt; Alternatively, we can offer two versions of PHP-GTK 2: one that builds
&gt;&gt; against 2.6 and another one that builds against 2.8/2.10.
&gt; 
&gt; Or we can try to figure out a way that supports 2.6, 2.8, and 2.10. It 
&gt; may be #ifdef hell though.

That would be difficult for writing applications and for documentation. 
You'd have to have all sort of if statements to check if stuff is 
available on the user's machine and include features as available. We'd 
also have to add something to the docs to say not only what version of 
PHP-GTK the feature exists in but also what version of Gtk+ is needed.

Why not just update the version of Gtk+ and the minor version of PHP-GTK 
at the same time? PHP-GTK 2.0 = Gtk+2.6, PHP-GTK 2.1 = Gtk+2.10 (or what 
ever is stable when we get there)

You may still have some conditionals based on the PHP-GTK version but 
differences will be based on PHP-GTK version and not the user's Gtk+ 
version.

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060927173611</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-27 17:36:11-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] re: PHP-GNOME part 1 is here!</subject><body>

Fair enough.

Is 2.8 widely available now? If so, we may want to set that as the 
minimum for first release.

-Andrei

On Sep 27, 2006, at 9:16 AM, Scott Mattocks wrote:

&gt; Andrei Zmievski wrote:
&gt;&gt; On Sep 27, 2006, at 5:06 AM, Anant Narayanan wrote:
&gt;&gt;&gt; Alternatively, we can offer two versions of PHP-GTK 2: one that 
&gt;&gt;&gt; builds
&gt;&gt;&gt; against 2.6 and another one that builds against 2.8/2.10.
&gt;&gt; Or we can try to figure out a way that supports 2.6, 2.8, and 2.10. 
&gt;&gt; It may be #ifdef hell though.
&gt;
&gt; That would be difficult for writing applications and for 
&gt; documentation. You'd have to have all sort of if statements to check 
&gt; if stuff is available on the user's machine and include features as 
&gt; available. We'd also have to add something to the docs to say not only 
&gt; what version of PHP-GTK the feature exists in but also what version of 
&gt; Gtk+ is needed.
&gt;
&gt; Why not just update the version of Gtk+ and the minor version of 
&gt; PHP-GTK at the same time? PHP-GTK 2.0 = Gtk+2.6, PHP-GTK 2.1 = 
&gt; Gtk+2.10 (or what ever is stable when we get there)
&gt;
&gt; You may still have some conditionals based on the PHP-GTK version but 
&gt; differences will be based on PHP-GTK version and not the user's Gtk+ 
&gt; version.
&gt;
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060927173900</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-09-27 17:39:00-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] re: PHP-GNOME part 1 is here!</subject><body>

2.10 please...

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Scott Mattocks" &lt;scott@crisscott.com&gt;
Cc: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Wednesday, September 27, 2006 7:36 PM
Subject: Re: [PHP-GTK-DEV] re: PHP-GNOME part 1 is here!


&gt; Fair enough.
&gt; 
&gt; Is 2.8 widely available now? If so, we may want to set that as the 
&gt; minimum for first release.
&gt; 
&gt; -Andrei
&gt; 
&gt; On Sep 27, 2006, at 9:16 AM, Scott Mattocks wrote:
&gt; 
&gt;&gt; Andrei Zmievski wrote:
&gt;&gt;&gt; On Sep 27, 2006, at 5:06 AM, Anant Narayanan wrote:
&gt;&gt;&gt;&gt; Alternatively, we can offer two versions of PHP-GTK 2: one that 
&gt;&gt;&gt;&gt; builds
&gt;&gt;&gt;&gt; against 2.6 and another one that builds against 2.8/2.10.
&gt;&gt;&gt; Or we can try to figure out a way that supports 2.6, 2.8, and 2.10. 
&gt;&gt;&gt; It may be #ifdef hell though.
&gt;&gt;
&gt;&gt; That would be difficult for writing applications and for 
&gt;&gt; documentation. You'd have to have all sort of if statements to check 
&gt;&gt; if stuff is available on the user's machine and include features as 
&gt;&gt; available. We'd also have to add something to the docs to say not only 
&gt;&gt; what version of PHP-GTK the feature exists in but also what version of 
&gt;&gt; Gtk+ is needed.
&gt;&gt;
&gt;&gt; Why not just update the version of Gtk+ and the minor version of 
&gt;&gt; PHP-GTK at the same time? PHP-GTK 2.0 = Gtk+2.6, PHP-GTK 2.1 = 
&gt;&gt; Gtk+2.10 (or what ever is stable when we get there)
&gt;&gt;
&gt;&gt; You may still have some conditionals based on the PHP-GTK version but 
&gt;&gt; differences will be based on PHP-GTK version and not the user's Gtk+ 
&gt;&gt; version.
&gt;&gt;
&gt;&gt; Scott
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060927175053</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-09-27 17:50:53-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] re: PHP-GNOME part 1 is here!</subject><body>

Andrei Zmievski wrote:
&gt; Fair enough.
&gt; 
&gt; Is 2.8 widely available now? If so, we may want to set that as the 
&gt; minimum for first release.

I did a quick search on Distrowatch.org and it looks like 2.8 is 
available on most Linux distributions these days. As for Windows and OSX 
I couldn't tell you. I don't think asking the use to upgrade is really 
an issue though. Most Linux users will have a package manager take care 
of it for them. Again I am not sure of the process for Windows or OSX 
users.

I think if we are going to change the version for the 2.0 release, we 
should go with the latest version. What's the point in going half way. 
That being said, I would rather see 2.0 sooner rather than later which 
means stick with Gtk+2.6 and then go to Gtk+2.10 for the 2.1 release.

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060927182609</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-27 18:26:09-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] re: PHP-GNOME part 1 is here!</subject><body>

Okay. But you have to realize that 2.10 offers a whole lot more classes 
and APIs. If we want to achieve 100% coverage on first release, we have 
to delay it until we finish all the work versus releasing it with 100% 
coverage of 2.6 API.

-Andrei

On Sep 27, 2006, at 10:50 AM, Scott Mattocks wrote:

&gt; Andrei Zmievski wrote:
&gt;&gt; Fair enough.
&gt;&gt; Is 2.8 widely available now? If so, we may want to set that as the 
&gt;&gt; minimum for first release.
&gt;
&gt; I did a quick search on Distrowatch.org and it looks like 2.8 is 
&gt; available on most Linux distributions these days. As for Windows and 
&gt; OSX I couldn't tell you. I don't think asking the use to upgrade is 
&gt; really an issue though. Most Linux users will have a package manager 
&gt; take care of it for them. Again I am not sure of the process for 
&gt; Windows or OSX users.
&gt;
&gt; I think if we are going to change the version for the 2.0 release, we 
&gt; should go with the latest version. What's the point in going half way. 
&gt; That being said, I would rather see 2.0 sooner rather than later which 
&gt; means stick with Gtk+2.6 and then go to Gtk+2.10 for the 2.1 release.
&gt;
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060927183834</emailId><senderName>"Anant Narayanan"</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-09-27 18:38:34-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] re: PHP-GNOME part 1 is here!</subject><body>

&gt; &gt; Is 2.8 widely available now? If so, we may want to set that as the
&gt; &gt; minimum for first release.
&gt; I did a quick search on Distrowatch.org and it looks like 2.8 is
&gt; available on most Linux distributions these days. As for Windows and OSX
&gt; I couldn't tell you.

Yes,  2.8 is defacto on most Linux distributions. For OS X users, 2.8
is available on MacPorts. For Windows users it hardly matters, since
we will be bundling a Gtk+ runtime with a release (the same goes for
Gnope).

&gt; I think if we are going to change the version for the 2.0 release, we
&gt; should go with the latest version. What's the point in going half way.
&gt; That being said, I would rather see 2.0 sooner rather than later which
&gt; means stick with Gtk+2.6 and then go to Gtk+2.10 for the 2.1 release.

I would vote for setting 2.8 as a base for the 2.0 release, and then
switching to 2.10 when we release 2.1. The reasoning here is that 2.8
is what is considered to be "stable" and will be around for a long
time to come, while 2.10 is still hot off the oven; it would be wise
to wait a while for it to settle down.

In any case, there is no reason for us to stick to 2.6 anymore. Also,
migrating to 2.8 shouldn't take much effort; the only major change
that could be of trouble is Cairo support. The other changes are
pretty trivial and should not be difficult to incorporate.

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060927194622</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-27 19:46:22-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] re: PHP-GNOME part 1 is here!</subject><body>

On Sep 27, 2006, at 11:26 AM, Anant Narayanan wrote:
&gt; I would vote for setting 2.8 as a base for the 2.0 release, and then
&gt; switching to 2.10 when we release 2.1. The reasoning here is that 2.8
&gt; is what is considered to be "stable" and will be around for a long
&gt; time to come, while 2.10 is still hot off the oven; it would be wise
&gt; to wait a while for it to settle down.
&gt;
&gt; In any case, there is no reason for us to stick to 2.6 anymore. Also,
&gt; migrating to 2.8 shouldn't take much effort; the only major change
&gt; that could be of trouble is Cairo support. The other changes are
&gt; pretty trivial and should not be difficult to incorporate.

So you think we should delay release and put in extra effort to fully 
cover the 2.6-2.8 difference in APIs?

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060927203911</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-09-27 20:39:11-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] re: PHP-GNOME part 1 is here!</subject><body>

Anant Narayanan wrote:
&gt; 
&gt; I would vote for setting 2.8 as a base for the 2.0 release, and then
&gt; switching to 2.10 when we release 2.1. The reasoning here is that 2.8
&gt; is what is considered to be "stable" and will be around for a long
&gt; time to come, while 2.10 is still hot off the oven; it would be wise
&gt; to wait a while for it to settle down.
&gt; 
&gt; In any case, there is no reason for us to stick to 2.6 anymore. Also,
&gt; migrating to 2.8 shouldn't take much effort; the only major change
&gt; that could be of trouble is Cairo support. The other changes are
&gt; pretty trivial and should not be difficult to incorporate.

Pango hasn't even been touched yet. And then we have the ATK stuff. 
Adding Cairo support on top of that is not trivial IMO. I think one of 
the keys to getting more help (and getting Gtk+2.10 implemented) is to 
generate interest and a stable release will definitely go a long way to 
that end. I vote (not that my vote counts for much since I write C code 
like a 5 year old :) ) to finish what has been started and then pile 
more work on after that. If we keep pushing the target out, we will 
never hit a stable release.

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060927204334</emailId><senderName>"Anant Narayanan"</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-09-27 20:43:34-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] re: PHP-GNOME part 1 is here!</subject><body>

&gt; So you think we should delay release and put in extra effort to fully
&gt; cover the 2.6-2.8 difference in APIs?

Yes.

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060928052426</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-28 05:24:26-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] re: PHP-GNOME part 1 is here!</subject><body>

On Sep 27, 2006, at 1:39 PM, Scott Mattocks wrote:
&gt; Pango hasn't even been touched yet. And then we have the ATK stuff.  
&gt; Adding Cairo support on top of that is not trivial IMO. I think one  
&gt; of the keys to getting more help (and getting Gtk+2.10 implemented)  
&gt; is to generate interest and a stable release will definitely go a  
&gt; long way to that end. I vote (not that my vote counts for much  
&gt; since I write C code like a 5 year old :) ) to finish what has been  
&gt; started and then pile more work on after that. If we keep pushing  
&gt; the target out, we will never hit a stable release.

I agree with Scott. A full final release will generate a lot more  
interest than the alphas/betas we put out and I'd rather adhere to  
the release-early, release-often philosophy. I think Gtk+ 2.6 will be  
enough for the 1.0 release, and 1.1 can cover 2.8 API.

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060912020232</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-09-12 02:02:32-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] News for September</subject><body>

Sounds good to me - I want to get moving onto beta too. Should have more 
time next month - theoretically at least.

- Steph


&gt; Code-wise, not much. I think we need to get together and figure out  what 
&gt; sufficient conditions must be present for the beta and the final 
&gt; releases. I would like to dedicate the free time that I have to  working 
&gt; on some more advanced stuff (like custom cell renderers, tree  models, 
&gt; etc), but that requires that someone step in and take care of  the day to 
&gt; day stuff, like fleshing out the API, tracking down bugs,  etc.
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Sep 11, 2006, at 11:20 AM, Scott Mattocks wrote:
&gt;
&gt;&gt; What do we have for news for this month? We have some talks coming  up 
&gt;&gt; soon (Int' PHP Con, ZendCon, php|works). We have a few articles  recently 
&gt;&gt; (PHP|A, PHPMagazin). What else?
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Scott
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060912020353</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-12 02:03:53-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] News for September</subject><body>

Code-wise, not much. I think we need to get together and figure out  
what sufficient conditions must be present for the beta and the final  
releases. I would like to dedicate the free time that I have to  
working on some more advanced stuff (like custom cell renderers, tree  
models, etc), but that requires that someone step in and take care of  
the day to day stuff, like fleshing out the API, tracking down bugs,  
etc.

-Andrei


On Sep 11, 2006, at 11:20 AM, Scott Mattocks wrote:

&gt; What do we have for news for this month? We have some talks coming  
&gt; up soon (Int' PHP Con, ZendCon, php|works). We have a few articles  
&gt; recently (PHP|A, PHPMagazin). What else?
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060913132529</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-09-13 13:25:29-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] News for September</subject><body>

Andrei Zmievski wrote:
&gt; Code-wise, not much. I think we need to get together and figure out what 
&gt; sufficient conditions must be present for the beta and the final 
&gt; releases. I would like to dedicate the free time that I have to working 
&gt; on some more advanced stuff (like custom cell renderers, tree models, 
&gt; etc), but that requires that someone step in and take care of the day to 
&gt; day stuff, like fleshing out the API, tracking down bugs, etc.

Here's my suggestion for the next two major milestones:
Beta   = 100% coverage + 66% documentation
Stable = at least one month after Beta + 100% documentation

I also don't think there is anything wrong with a few additional alpha 
releases in between if we hit a significant percentage of code coverage.

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060913132810</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-09-13 13:28:10-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] News for September</subject><body>


&gt; I also don't think there is anything wrong with a few additional alpha
&gt; releases in between if we hit a significant percentage of code coverage.
90% shouldn't be too far away.

-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060913173409</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-13 17:34:09-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] News for September</subject><body>

So you guys are going to take care of remaining code coverage?

-Andrei


On Sep 13, 2006, at 9:28 AM, Christian Weiske wrote:

&gt;&gt; I also don't think there is anything wrong with a few additional  
&gt;&gt; alpha
&gt;&gt; releases in between if we hit a significant percentage of code  
&gt;&gt; coverage.
&gt; 90% shouldn't be too far away.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060913174054</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-09-13 17:40:54-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] News for September</subject><body>

Yeah, as far as we can :)

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Wednesday, September 13, 2006 7:34 PM
Subject: Re: [PHP-GTK-DEV] News for September


&gt; So you guys are going to take care of remaining code coverage?
&gt; 
&gt; -Andrei
&gt; 
&gt; 
&gt; On Sep 13, 2006, at 9:28 AM, Christian Weiske wrote:
&gt; 
&gt;&gt;&gt; I also don't think there is anything wrong with a few additional  
&gt;&gt;&gt; alpha
&gt;&gt;&gt; releases in between if we hit a significant percentage of code  
&gt;&gt;&gt; coverage.
&gt;&gt; 90% shouldn't be too far away.
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt;&gt;
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060915213327</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-15 21:33:27-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] News for September</subject><body>

Are we going to publish September news?

-Andrei


On Sep 13, 2006, at 9:25 AM, Scott Mattocks wrote:

&gt; Andrei Zmievski wrote:
&gt;&gt; Code-wise, not much. I think we need to get together and figure  
&gt;&gt; out what sufficient conditions must be present for the beta and  
&gt;&gt; the final releases. I would like to dedicate the free time that I  
&gt;&gt; have to working on some more advanced stuff (like custom cell  
&gt;&gt; renderers, tree models, etc), but that requires that someone step  
&gt;&gt; in and take care of the day to day stuff, like fleshing out the  
&gt;&gt; API, tracking down bugs, etc.
&gt;
&gt; Here's my suggestion for the next two major milestones:
&gt; Beta   = 100% coverage + 66% documentation
&gt; Stable = at least one month after Beta + 100% documentation
&gt;
&gt; I also don't think there is anything wrong with a few additional  
&gt; alpha releases in between if we hit a significant percentage of  
&gt; code coverage.
&gt;
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060920151530</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-09-20 15:15:30-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] News for September</subject><body>

I received no other suggestions and I am lazy so I have just adapted 
stuff from my site for the September news item. Any objections?


Taking Conferences by Storm:
Its conference season in the PHP world and no PHP conference would be 
complete without a PHP-GTK 2 presenetation (you hear that DCPHP!). 
Earlier this month Andrei, demonstrated how easy it is to create 
powerful desktop applications with PHP-GTK 2 at PHP|Works in Toronot. 
Next, in October, Scott will be speaking at the Zend/PHP Conference. 
Finally, in early November, Steph will talk about the new features of 
PHP-GTK 2 at the International PHP Conference and demonstrate how to 
make lightweight cross-platform applications.

Online Help:
A new set of online tutorials has sprung up recently kksou.com. The 
tutorials are short and to the point. They cover those nagging issues 
that dont necessarily prevent you from completing your application, but 
add a great deal to the finished product. I highly recommend even the 
most accomplished PHP-GTK developers to check them out.


Thanks,
Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060919200957</emailId><senderName>Ron Tarrant</senderName><senderEmail>rtarrant@sympatico.ca</senderEmail><timestampReceived>2006-09-19 20:09:57-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Makefile Help?</subject><body>

Hi Anant,


Anant Narayanan wrote:
&gt;
&gt; AFAIK, most build scripts do not try and detect the OS per se, but
&gt; rather check for the availability and behaviour of all the libraries
&gt; and functions it needs to compile successfully.
Okay, but what I'm going by is the long list of case statements in 
aclocal.m4, each of which names an OS.
&gt;
&gt; I will try and get a FreeBSD box up and running to see if I can help 
&gt; you out.
Cool. Thanks.
&gt;
&gt; In any case, release versions of PHP-GTK 2 will always contain the
&gt; gen_* files; only developers (and those who compile from CVS HEAD)
&gt; would ever need to generate them. Please do try to compile the PHP-GTK
&gt; 2 alpha release sources on FreeBSD and let us know! 
Oh, that's no problem. In fact, I've even compiled a few times with the 
cvs source, but only by borrowing the gen_*.* files from my Linux 
system. What I'm trying to do is figure out why the gen_*.* files aren't 
generated under FreeBSD. My current thinking is that it has something to 
do with no detecting the OS (or environment) properly.

-Ron T.



-- 
Ron Tarrant
Blog:&lt;A HREF="http://www.writingup.com/blog/phpgtk2"&gt;PHP-Gtk2&lt;/A&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060919201106</emailId><senderName>Ron Tarrant</senderName><senderEmail>rtarrant@sympatico.ca</senderEmail><timestampReceived>2006-09-19 20:11:06-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Makefile Help?</subject><body>

Hi Andrei,

Andrei Zmievski wrote:
&gt; The OS is identified by the config.guess script that is installed into 
&gt; the directory by phpize (autoconf, really).
&gt;
Thanks. That gives me a starting point.

-Ron T.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060919203728</emailId><senderName>"Anant Narayanan"</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-09-19 20:37:28-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Makefile Help?</subject><body>

H Ron,

&gt; Oh, that's no problem. In fact, I've even compiled a few times with the
&gt; cvs source, but only by borrowing the gen_*.* files from my Linux
&gt; system. What I'm trying to do is figure out why the gen_*.* files aren't
&gt; generated under FreeBSD. My current thinking is that it has something to
&gt; do with no detecting the OS (or environment) properly.

You might want to check out the /generator/* directory. generator.php
does all the work of merging the .defs and .overrides to the gen_*
files.

Hmm, if its a PHP script after all, could it be that PHP itself is
having trouble on FreeBSD? A missing extension maybe?

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060915184901</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-09-15 18:49:01-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Event constants</subject><body>

&gt; Andrei Zmievski wrote:
&gt;&gt;&gt; Even after years, you still have the same mistake in your slides: 
&gt;&gt;&gt; "Gdk::2BUTTON_PRESS" does not exist, it's  "Gdk::_2BUTTON_PRESS"
&gt;&gt; 
&gt;&gt; Shoot, you're right. Should we make those constants look like 
&gt;&gt; Gdk::2BUTTON_PRESS instead of having that ugly underscore at the front?
&gt; 
&gt; I'd say yes if for no other reason than to make your slide correct :)
&gt; 
&gt; What about those that are using the Alpha and have _2BUTTON...? Would 
&gt; this just be a case of "Hey, we told you it was subject to change."

:)

Yep

- Steph

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060915185056</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-09-15 18:50:56-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Event constants</subject><body>

Andrei Zmievski wrote:
&gt;&gt; Even after years, you still have the same mistake in your slides: 
&gt;&gt; "Gdk::2BUTTON_PRESS" does not exist, it's  "Gdk::_2BUTTON_PRESS"
&gt; 
&gt; Shoot, you're right. Should we make those constants look like 
&gt; Gdk::2BUTTON_PRESS instead of having that ugly underscore at the front?

I'd say yes if for no other reason than to make your slide correct :)

What about those that are using the Alpha and have _2BUTTON...? Would 
this just be a case of "Hey, we told you it was subject to change."

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060915210417</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-15 21:04:17-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Event constants</subject><body>

Yes.

-Andrei


On Sep 15, 2006, at 2:50 PM, Scott Mattocks wrote:

&gt; Andrei Zmievski wrote:
&gt;&gt;&gt; Even after years, you still have the same mistake in your slides:  
&gt;&gt;&gt; "Gdk::2BUTTON_PRESS" does not exist, it's  "Gdk::_2BUTTON_PRESS"
&gt;&gt; Shoot, you're right. Should we make those constants look like Gdk:: 
&gt;&gt; 2BUTTON_PRESS instead of having that ugly underscore at the front?
&gt;
&gt; I'd say yes if for no other reason than to make your slide correct :)
&gt;
&gt; What about those that are using the Alpha and have _2BUTTON...?  
&gt; Would this just be a case of "Hey, we told you it was subject to  
&gt; change."
&gt;
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060915211101</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-15 21:11:01-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Event constants</subject><body>

Wait, I meant, make them look like Gdk::2_BUTTON_PRESS.

-Andrei


On Sep 15, 2006, at 2:50 PM, Scott Mattocks wrote:

&gt; Andrei Zmievski wrote:
&gt;&gt;&gt; Even after years, you still have the same mistake in your slides:  
&gt;&gt;&gt; "Gdk::2BUTTON_PRESS" does not exist, it's  "Gdk::_2BUTTON_PRESS"
&gt;&gt; Shoot, you're right. Should we make those constants look like Gdk:: 
&gt;&gt; 2BUTTON_PRESS instead of having that ugly underscore at the front?
&gt;
&gt; I'd say yes if for no other reason than to make your slide correct :)
&gt;
&gt; What about those that are using the Alpha and have _2BUTTON...?  
&gt; Would this just be a case of "Hey, we told you it was subject to  
&gt; change."
&gt;
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060915213137</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-15 21:31:37-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Event constants</subject><body>

I can't think today. We can't have constants starting with digits.. I  
can't see anything better than leaving that underscore in then.

-Andrei


On Sep 15, 2006, at 5:11 PM, Andrei Zmievski wrote:

&gt; Wait, I meant, make them look like Gdk::2_BUTTON_PRESS.
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Sep 15, 2006, at 2:50 PM, Scott Mattocks wrote:
&gt;
&gt;&gt; Andrei Zmievski wrote:
&gt;&gt;&gt;&gt; Even after years, you still have the same mistake in your  
&gt;&gt;&gt;&gt; slides: "Gdk::2BUTTON_PRESS" does not exist, it's   
&gt;&gt;&gt;&gt; "Gdk::_2BUTTON_PRESS"
&gt;&gt;&gt; Shoot, you're right. Should we make those constants look like  
&gt;&gt;&gt; Gdk::2BUTTON_PRESS instead of having that ugly underscore at the  
&gt;&gt;&gt; front?
&gt;&gt;
&gt;&gt; I'd say yes if for no other reason than to make your slide correct :)
&gt;&gt;
&gt;&gt; What about those that are using the Alpha and have _2BUTTON...?  
&gt;&gt; Would this just be a case of "Hey, we told you it was subject to  
&gt;&gt; change."
&gt;&gt;
&gt;&gt; Scott
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060918061134</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-09-18 06:11:34-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Event constants</subject><body>


&gt; I can't think today. We can't have constants starting with digits..  
&gt; I can't see anything better than leaving that underscore in then.

What about Gdk::TWO_BUTTON_PRESS? Too much of a kludge eh? :)

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060907140747</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-09-07 14:07:47-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] url doesn't show properly on first GtkAboutDialog</subject><body>


Elizabeth,


&gt; GtkAboutDialog has a problem when using set_url_hook
&gt; 
&gt; The first time the GtkAboutDialog is created the url is not shown
&gt; correctly (clickable), but the second time a GtkAboutDialog is created
&gt; (and every subsequent time), it is shown correctly.
It has no problem.

1. URL hooks in the about dialog are global, and set_url_hook is static
2. You need to call the hook setup before setting the website. This also
solves your problem.

Nevertheless, we have a memleak here.

 [Thu Sep  7 16:06:56 2006]  Script:  'abouthook.phpw'
/data/cvs/phpgtk2/php-gtk/main/php_gtk.h(98) :  Freeing 0x08EF18F4 (36
bytes), script=abouthook.phpw
[Thu Sep  7 16:06:56 2006]  Script:  'abouthook.phpw'
/data/cvs/phpgtk2/php-gtk/main/php_gtk.h(95) :  Freeing 0x08EF18B4 (16
bytes), script=abouthook.phpw
[Thu Sep  7 16:06:56 2006]  Script:  'abouthook.phpw'
/data/cvs/php/php-5.1.4/Zend/zend_variables.h(45) :  Freeing 0x08EF0084
(9 bytes), script=abouthook.phpw
/data/cvs/php/php-5.1.4/Zend/zend_variables.c(120) : Actual location
(location was relayed)
[Thu Sep  7 16:06:56 2006]  Script:  'abouthook.phpw'
/data/cvs/php/php-5.1.4/Zend/zend_vm_execute.h(1766) :  Freeing
0x08EF06AC (16 bytes), script=abouthook.phpw
=== Total 4 memory leaks detected ===

-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060908033452</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-08 03:34:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] url doesn't show properly on first GtkAboutDialog creation with set_url_hook</subject><body>

The Gtk+ API docs are misleading on this one. They make it sound that  
the destroy function will be back to clean up the custom data, but  
it's only called when set_url_hook() is called! So the solution is to  
call GtkAboutDialog::set_url_hook(null) after the dialog is closed or  
at the end of your program.

-Andrei


On Sep 7, 2006, at 7:07 AM, Christian Weiske wrote:

&gt; Elizabeth,
&gt;
&gt;
&gt;&gt; GtkAboutDialog has a problem when using set_url_hook
&gt;&gt;
&gt;&gt; The first time the GtkAboutDialog is created the url is not shown
&gt;&gt; correctly (clickable), but the second time a GtkAboutDialog is  
&gt;&gt; created
&gt;&gt; (and every subsequent time), it is shown correctly.
&gt; It has no problem.
&gt;
&gt; 1. URL hooks in the about dialog are global, and set_url_hook is  
&gt; static
&gt; 2. You need to call the hook setup before setting the website. This  
&gt; also
&gt; solves your problem.
&gt;
&gt; Nevertheless, we have a memleak here.
&gt;
&gt;  [Thu Sep  7 16:06:56 2006]  Script:  'abouthook.phpw'
&gt; /data/cvs/phpgtk2/php-gtk/main/php_gtk.h(98) :  Freeing 0x08EF18F4 (36
&gt; bytes), script=abouthook.phpw
&gt; [Thu Sep  7 16:06:56 2006]  Script:  'abouthook.phpw'
&gt; /data/cvs/phpgtk2/php-gtk/main/php_gtk.h(95) :  Freeing 0x08EF18B4 (16
&gt; bytes), script=abouthook.phpw
&gt; [Thu Sep  7 16:06:56 2006]  Script:  'abouthook.phpw'
&gt; /data/cvs/php/php-5.1.4/Zend/zend_variables.h(45) :  Freeing  
&gt; 0x08EF0084
&gt; (9 bytes), script=abouthook.phpw
&gt; /data/cvs/php/php-5.1.4/Zend/zend_variables.c(120) : Actual location
&gt; (location was relayed)
&gt; [Thu Sep  7 16:06:56 2006]  Script:  'abouthook.phpw'
&gt; /data/cvs/php/php-5.1.4/Zend/zend_vm_execute.h(1766) :  Freeing
&gt; 0x08EF06AC (16 bytes), script=abouthook.phpw
&gt; === Total 4 memory leaks detected ===
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060908033714</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-09-08 03:37:14-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] url doesn't show properly on first GtkAboutDialog creation with set_url_hook</subject><body>

Can't we make that automatic behaviour?


&gt; The Gtk+ API docs are misleading on this one. They make it sound that  
&gt; the destroy function will be back to clean up the custom data, but  
&gt; it's only called when set_url_hook() is called! So the solution is to  
&gt; call GtkAboutDialog::set_url_hook(null) after the dialog is closed or  
&gt; at the end of your program.
&gt; 
&gt; -Andrei
&gt; 
&gt; 
&gt; On Sep 7, 2006, at 7:07 AM, Christian Weiske wrote:
&gt; 
&gt;&gt; Elizabeth,
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; GtkAboutDialog has a problem when using set_url_hook
&gt;&gt;&gt;
&gt;&gt;&gt; The first time the GtkAboutDialog is created the url is not shown
&gt;&gt;&gt; correctly (clickable), but the second time a GtkAboutDialog is  
&gt;&gt;&gt; created
&gt;&gt;&gt; (and every subsequent time), it is shown correctly.
&gt;&gt; It has no problem.
&gt;&gt;
&gt;&gt; 1. URL hooks in the about dialog are global, and set_url_hook is  
&gt;&gt; static
&gt;&gt; 2. You need to call the hook setup before setting the website. This  
&gt;&gt; also
&gt;&gt; solves your problem.
&gt;&gt;
&gt;&gt; Nevertheless, we have a memleak here.
&gt;&gt;
&gt;&gt;  [Thu Sep  7 16:06:56 2006]  Script:  'abouthook.phpw'
&gt;&gt; /data/cvs/phpgtk2/php-gtk/main/php_gtk.h(98) :  Freeing 0x08EF18F4 (36
&gt;&gt; bytes), script=abouthook.phpw
&gt;&gt; [Thu Sep  7 16:06:56 2006]  Script:  'abouthook.phpw'
&gt;&gt; /data/cvs/phpgtk2/php-gtk/main/php_gtk.h(95) :  Freeing 0x08EF18B4 (16
&gt;&gt; bytes), script=abouthook.phpw
&gt;&gt; [Thu Sep  7 16:06:56 2006]  Script:  'abouthook.phpw'
&gt;&gt; /data/cvs/php/php-5.1.4/Zend/zend_variables.h(45) :  Freeing  
&gt;&gt; 0x08EF0084
&gt;&gt; (9 bytes), script=abouthook.phpw
&gt;&gt; /data/cvs/php/php-5.1.4/Zend/zend_variables.c(120) : Actual location
&gt;&gt; (location was relayed)
&gt;&gt; [Thu Sep  7 16:06:56 2006]  Script:  'abouthook.phpw'
&gt;&gt; /data/cvs/php/php-5.1.4/Zend/zend_vm_execute.h(1766) :  Freeing
&gt;&gt; 0x08EF06AC (16 bytes), script=abouthook.phpw
&gt;&gt; === Total 4 memory leaks detected ===
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt;&gt;
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060908062415</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-09-08 06:24:15-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] url doesn't show properly on first GtkAboutDialog</subject><body>

&gt;&gt; it's only called when set_url_hook() is called! So the solution is to 
&gt;&gt; call GtkAboutDialog::set_url_hook(null) after the dialog is closed or 
&gt;&gt; at the end of your program.
&gt; Can't we make that automatic behaviour?

I'll do a bug report to gtk.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060908153510</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-09-08 15:35:10-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] url doesn't show properly on first GtkAboutDialog creation with set_url_hook</subject><body>

It was just a throwaway thought, I haven't looked at 'how' yet... (you'll 
know when I have time because the manual notes will spring into action :)


&gt; Uh, how? In MSHUTDOWN?
&gt;
&gt; -Andrei
&gt;
&gt; On Sep 7, 2006, at 8:37 PM, Steph Fox wrote:
&gt;
&gt;&gt; Can't we make that automatic behaviour?
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; The Gtk+ API docs are misleading on this one. They make it sound that 
&gt;&gt;&gt; the destroy function will be back to clean up the custom data, but  it's 
&gt;&gt;&gt; only called when set_url_hook() is called! So the solution is to call 
&gt;&gt;&gt; GtkAboutDialog::set_url_hook(null) after the dialog is closed or  at the 
&gt;&gt;&gt; end of your program.
&gt;&gt;&gt; -Andrei
&gt;&gt;&gt; On Sep 7, 2006, at 7:07 AM, Christian Weiske wrote:
&gt;&gt;&gt;&gt; Elizabeth,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; GtkAboutDialog has a problem when using set_url_hook
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; The first time the GtkAboutDialog is created the url is not shown
&gt;&gt;&gt;&gt;&gt; correctly (clickable), but the second time a GtkAboutDialog is 
&gt;&gt;&gt;&gt;&gt; created
&gt;&gt;&gt;&gt;&gt; (and every subsequent time), it is shown correctly.
&gt;&gt;&gt;&gt; It has no problem.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; 1. URL hooks in the about dialog are global, and set_url_hook is 
&gt;&gt;&gt;&gt; static
&gt;&gt;&gt;&gt; 2. You need to call the hook setup before setting the website. This 
&gt;&gt;&gt;&gt; also
&gt;&gt;&gt;&gt; solves your problem.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Nevertheless, we have a memleak here.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;  [Thu Sep  7 16:06:56 2006]  Script:  'abouthook.phpw'
&gt;&gt;&gt;&gt; /data/cvs/phpgtk2/php-gtk/main/php_gtk.h(98) :  Freeing 0x08EF18F4 (36
&gt;&gt;&gt;&gt; bytes), script=abouthook.phpw
&gt;&gt;&gt;&gt; [Thu Sep  7 16:06:56 2006]  Script:  'abouthook.phpw'
&gt;&gt;&gt;&gt; /data/cvs/phpgtk2/php-gtk/main/php_gtk.h(95) :  Freeing 0x08EF18B4 (16
&gt;&gt;&gt;&gt; bytes), script=abouthook.phpw
&gt;&gt;&gt;&gt; [Thu Sep  7 16:06:56 2006]  Script:  'abouthook.phpw'
&gt;&gt;&gt;&gt; /data/cvs/php/php-5.1.4/Zend/zend_variables.h(45) :  Freeing 
&gt;&gt;&gt;&gt; 0x08EF0084
&gt;&gt;&gt;&gt; (9 bytes), script=abouthook.phpw
&gt;&gt;&gt;&gt; /data/cvs/php/php-5.1.4/Zend/zend_variables.c(120) : Actual location
&gt;&gt;&gt;&gt; (location was relayed)
&gt;&gt;&gt;&gt; [Thu Sep  7 16:06:56 2006]  Script:  'abouthook.phpw'
&gt;&gt;&gt;&gt; /data/cvs/php/php-5.1.4/Zend/zend_vm_execute.h(1766) :  Freeing
&gt;&gt;&gt;&gt; 0x08EF06AC (16 bytes), script=abouthook.phpw
&gt;&gt;&gt;&gt; === Total 4 memory leaks detected ===
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt;&gt; Christian Weiske
&gt;&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060903194037</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-09-03 19:40:37-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Gdk::screen_height() Not Working</subject><body>


&gt; PHP Fatal error:  Call to undefined method Gdk::screen_height() in ...
Has been renamed to GdkScreen::height()


And *PLEASE* do not reply to mails when starting a new thread/asking a
new question!

--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060903210244</emailId><senderName>Ronald Vincent Tarrant</senderName><senderEmail>rontarrant@sympatico.ca</senderEmail><timestampReceived>2006-09-03 21:02:44-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Gdk::screen_height() Not Working</subject><body>


Christian Weiske wrote:
&gt;&gt; PHP Fatal error:  Call to undefined method Gdk::screen_height() in ...
&gt;&gt;     
&gt; Has been renamed to GdkScreen::height()
&gt;
&gt;
&gt; And *PLEASE* do not reply to mails when starting a new thread/asking a
&gt; new question!
&gt;
&gt;   
I humbly beg your pardon. How would you suggest I go about it? Perhaps 
you could also tell me what problem is caused by this. As far as I can 
see, it all goes to the same list.

-Ron T.

PS: Thanks for clearing up this mystery.



</body></email><email><emailId>20060901232509</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-09-01 23:25:09-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkEditable insert-text signal callback parameters</subject><body>


Andrei,

&gt; I doubt we can do anything about this, Christian, since the signal
&gt; parameter types are defined in Gtk+.
What about provinding a gpointer method getInteger() or so?

--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060902175108</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-02 17:51:08-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkEditable insert-text signal callback parameters contain GPointer</subject><body>

How do we know internally that GPointer will point to an integer  
necessarily? We can't make that assumption.

-Andrei


On Sep 1, 2006, at 4:25 PM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;&gt; I doubt we can do anything about this, Christian, since the signal
&gt;&gt; parameter types are defined in Gtk+.
&gt; What about provinding a gpointer method getInteger() or so?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060902175031</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-02 17:50:31-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] pointer support</subject><body>

I've lost the reference. Please refresh my memory.

-Andrei


On Sep 2, 2006, at 5:23 AM, Christian Weiske wrote:

&gt;&gt; - for your delectation and delight -
&gt;&gt;
&gt;&gt; I've been testing this for the last three days here, it seems to work
&gt;&gt; fine. Please mention if you find otherwise on your strange boxen.
&gt; Has anyone reviewed this?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060902181345</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-09-02 18:13:45-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] pointer support</subject><body>

It's something I wrote ages ago, and I can't remember much about it either 
now. Have you tested it Chris?

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Saturday, September 02, 2006 7:50 PM
Subject: Re: [PHP-GTK-DEV] pointer support


&gt; I've lost the reference. Please refresh my memory.
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Sep 2, 2006, at 5:23 AM, Christian Weiske wrote:
&gt;
&gt;&gt;&gt; - for your delectation and delight -
&gt;&gt;&gt;
&gt;&gt;&gt; I've been testing this for the last three days here, it seems to work
&gt;&gt;&gt; fine. Please mention if you find otherwise on your strange boxen.
&gt;&gt; Has anyone reviewed this?
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060902184922</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-09-02 18:49:22-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] pointer support</subject><body>

Ah, got it. No, that's in already (if in a slightly different form).


&gt; It's something I wrote ages ago, and I can't remember much about it either 
&gt; now. Have you tested it Chris?
&gt;
&gt; ----- Original Message ----- 
&gt; From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
&gt; To: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
&gt; Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Saturday, September 02, 2006 7:50 PM
&gt; Subject: Re: [PHP-GTK-DEV] pointer support
&gt;
&gt;
&gt;&gt; I've lost the reference. Please refresh my memory.
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; On Sep 2, 2006, at 5:23 AM, Christian Weiske wrote:
&gt;&gt;
&gt;&gt;&gt;&gt; - for your delectation and delight -
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I've been testing this for the last three days here, it seems to work
&gt;&gt;&gt;&gt; fine. Please mention if you find otherwise on your strange boxen.
&gt;&gt;&gt; Has anyone reviewed this?
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt; Christian Weiske
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060902190535</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-09-02 19:05:35-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] pointer support</subject><body>

&gt;&gt; Ah, got it. No, that's in already (if in a slightly different form).
&gt;&gt;
&gt; 
&gt; Ah, that explains all the messages I got when I tried to apply the  
&gt; patch... :)

:)

Sorry.

- Steph

&gt; 
&gt; - Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060902191954</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-09-02 19:19:54-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] pointer support</subject><body>


&gt; Ah, got it. No, that's in already (if in a slightly different form).
&gt;

Ah, that explains all the messages I got when I tried to apply the  
patch... :)

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060902223007</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-02 22:30:07-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] pointer support</subject><body>

Well, I haven't. What the heck is this?

-Andrei


On Sep 2, 2006, at 11:49 AM, Steph Fox wrote:

&gt; Ah, got it. No, that's in already (if in a slightly different form).
&gt;
&gt;
&gt;&gt; It's something I wrote ages ago, and I can't remember much about  
&gt;&gt; it either now. Have you tested it Chris?
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "Andrei Zmievski"  
&gt;&gt; &lt;andrei@gravitonic.com&gt;
&gt;&gt; To: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
&gt;&gt; Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt; Sent: Saturday, September 02, 2006 7:50 PM
&gt;&gt; Subject: Re: [PHP-GTK-DEV] pointer support
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; I've lost the reference. Please refresh my memory.
&gt;&gt;&gt;
&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Sep 2, 2006, at 5:23 AM, Christian Weiske wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; - for your delectation and delight -
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; I've been testing this for the last three days here, it seems  
&gt;&gt;&gt;&gt;&gt; to work
&gt;&gt;&gt;&gt;&gt; fine. Please mention if you find otherwise on your strange boxen.
&gt;&gt;&gt;&gt; Has anyone reviewed this?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt;&gt; Christian Weiske
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060621051516</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-21 05:15:16-0400</timestampReceived><subject>Fw: [PHP-GTK-DEV] a few new bits and bobs</subject><body>

I shouldn't look at diffs when I'm tired. There _are_ two classes that need 
a construct exception adding, and neither of them are GtkDialog :\ but 
they're both covered here.

----- Original Message ----- 
From: "Steph Fox" &lt;steph@zend.com&gt;
To: "Andrei" &lt;andrei@gravitonic.com&gt;
Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Wednesday, June 21, 2006 7:09 AM
Subject: [PHP-GTK-DEV] a few new bits and bobs


&gt; gtkoverrides.txt:
&gt;
&gt; - constructors for GtkCList and GtkCTree (with/without titles)
&gt; - implementation of GtkCTree::insert_node() (needs the pointer support to
&gt; work)
&gt; - adds construct exception to GtkDialog - actually I thought there was
&gt; another one that needed this too, did someone else fix it already?
&gt;
&gt; gdkoverrides.txt:
&gt;
&gt; - GdkPixbuf::add_alpha() can now take zero params (default behaviour is to
&gt; make white pixels transparent), 1 boolean (as default or simply provides a
&gt; copy of the original pixbuf) or 3 integers (describing the colour you want
&gt; to disappear, e.g. 255, 0, 0 == red).
&gt;
&gt; - implementations of Gdk::pixmap_colormap_create_from_xpm,
&gt; Gdk::pixmap_colormap_create_from_xpm_d, Gdk::pixmap_create_from_xpm and
&gt; Gdk::pixmap_create_from_xpm_d. All four are affected by changes in GTK+
&gt; source that make it impossible to pass a NULL value for the drawable,
&gt; colormap (where appropriate) or color objects. Otherwise unchanged from
&gt; PHP-GTK 1.
&gt;
&gt; typedefs.txt:
&gt;
&gt; - Tried to add in the fields that GtkCList and GtkCTree _should_ have but
&gt; got an unresolved crash when trying to allow some properties (the clist in
&gt; GtkCTree being primary there) and have no idea why. Not suggesting this 
&gt; goes
&gt; into CVS even in its shortened form, just want to get some idea what's 
&gt; going
&gt; down there... anyone?
&gt;
&gt; - Steph
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt;


--------------------------------------------------------------------------------


&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

["gdkoverrides.txt" (text/plain)]

Index: ext/gtk+/gdk.overrides
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/gdk.overrides,v
retrieving revision 1.64
diff -u -r1.64 gdk.overrides
--- ext/gtk+/gdk.overrides	17 Jun 2006 18:43:55 -0000	1.64
+++ ext/gtk+/gdk.overrides	21 Jun 2006 04:56:57 -0000
@@ -1907,6 +1907,47 @@
 }
 
 %%
+add-arginfo GdkPixbuf add_alpha
+static
+ZEND_BEGIN_ARG_INFO_EX(ARGINFO_NAME, 0, 0, 3)
+    ZEND_ARG_INFO(0, substitute_or_red)
+    ZEND_ARG_INFO(0, green)
+    ZEND_ARG_INFO(0, blue)
+ZEND_END_ARG_INFO();
+
+%%
+override gdk_pixbuf_add_alpha
+PHP_METHOD
+{
+	zend_bool substitute = TRUE;
+	int red, blue, green;
+	guchar r = 255, g = 255, b = 255;
+	GdkPixbuf* pixbuf;
+
+	NOT_STATIC_METHOD();
+
+	if (ZEND_NUM_ARGS() &gt; 1) {
+		if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "iii", &amp;red, &amp;green, &amp;blue)) {
+			return;
+		} else {
+			r = (guchar)red;
+			g = (guchar)green;
+			b = (guchar)blue;
+		}
+	} else {
+		if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|b", &amp;substitute))
+			return;
+	}
+
+	pixbuf = gdk_pixbuf_add_alpha(GDK_PIXBUF(PHPG_GOBJECT(this_ptr)), (gboolean)substitute, r, g, b);
+
+	if (pixbuf) {
+		phpg_gobject_new(&amp;return_value, (GObject *)pixbuf TSRMLS_CC);
+		g_object_unref(pixbuf);
+	}
+}
+
+%%
 override gdk_pixbuf_get_pixels
 PHP_METHOD
 {
@@ -2311,6 +2352,193 @@
 
 %% }}}
 
+%% {{{ GdkPixmap
+
+%%
+override gdk_pixmap_colormap_create_from_xpm
+PHP_METHOD
+{
+	zval *php_drawable, *php_trans_color, *php_colormap;
+	zval *ret_pixmap = NULL, *ret_mask = NULL;
+	gchar *filename;
+	zend_bool free_filename = FALSE;
+	GdkDrawable *drawable = NULL;
+	GdkColormap *colormap = NULL;
+	GdkColor *trans_color = NULL;
+	GdkPixmap *pixmap = NULL;
+	GdkBitmap *mask;
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "OOOu", &amp;php_drawable, gdkdrawable_ce,
+													 &amp;php_colormap, gdkcolormap_ce,
+													 &amp;php_trans_color, gdkcolor_ce,
+													 &amp;filename, &amp;free_filename)) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	drawable = GDK_DRAWABLE(PHPG_GOBJECT(php_drawable));
+	colormap = GDK_COLORMAP(PHPG_GOBJECT(php_colormap));
+	trans_color = (GdkColor *) PHPG_GBOXED(php_trans_color);
+
+	pixmap = gdk_pixmap_colormap_create_from_xpm(drawable, colormap, &amp;mask, trans_color, filename);
+	if (free_filename) g_free(filename);
+
+	if (!pixmap) {
+		php_error(E_WARNING, "%s() cannot load pixmap", get_active_function_name(TSRMLS_C));
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	phpg_gobject_new(&amp;ret_pixmap, (GObject*)pixmap TSRMLS_CC);
+	gdk_pixmap_unref(pixmap);
+
+	phpg_gobject_new(&amp;ret_mask, (GObject *)mask TSRMLS_CC);
+	gdk_bitmap_unref(mask);
+
+	php_gtk_build_value(&amp;return_value, "(NN)", ret_pixmap, ret_mask);
+}
+
+%%
+override gdk_pixmap_colormap_create_from_xpm_d
+PHP_METHOD
+{
+	zval *php_drawable, *php_colormap,
+		 *php_trans_color, *php_data;
+	zval *ret_pixmap = NULL, *ret_mask = NULL;
+	zval **line;
+	GdkDrawable *drawable = NULL;
+	GdkColormap *colormap = NULL;
+	GdkColor *trans_color = NULL;
+	GdkPixmap *pixmap = NULL;
+	GdkBitmap *mask;
+	char **data;
+	int len, i = 0;
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "OOOa", &amp;php_drawable, gdkdrawable_ce,
+													 &amp;php_colormap, gdkcolormap_ce,
+													 &amp;php_trans_color, gdkcolor_ce,
+													 &amp;php_data)) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	drawable = GDK_DRAWABLE(PHPG_GOBJECT(php_drawable));
+	colormap = GDK_COLORMAP(PHPG_GOBJECT(php_colormap));
+	trans_color = (GdkColor *) PHPG_GBOXED(php_trans_color);
+
+	len = zend_hash_num_elements(Z_ARRVAL_P(php_data));
+	data = emalloc(len * sizeof(char *));
+	for (zend_hash_internal_pointer_reset(Z_ARRVAL_P(php_data));
+		 zend_hash_get_current_data(Z_ARRVAL_P(php_data), (void **)&amp;line) == SUCCESS;
+		 zend_hash_move_forward(Z_ARRVAL_P(php_data))) {
+		convert_to_string_ex(line);
+		data[i++] = Z_STRVAL_PP(line);
+	}
+
+	pixmap = gdk_pixmap_colormap_create_from_xpm_d(drawable, colormap, &amp;mask, trans_color, data);
+	efree(data);
+
+	if (!pixmap) {
+		php_error(E_WARNING, "%s() cannot load pixmap", get_active_function_name(TSRMLS_C));
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	phpg_gobject_new(&amp;ret_pixmap, (GObject*)pixmap TSRMLS_CC);
+	gdk_pixmap_unref(pixmap);
+
+	phpg_gobject_new(&amp;ret_mask, (GObject *)mask TSRMLS_CC);
+	gdk_bitmap_unref(mask);
+
+	php_gtk_build_value(&amp;return_value, "(NN)", ret_pixmap, ret_mask);
+}
+
+%%
+override gdk_pixmap_create_from_xpm
+PHP_METHOD
+{
+	zval *php_drawable, *php_trans_color;
+	zval *ret_pixmap = NULL, *ret_mask = NULL;
+	gchar *filename;
+	zend_bool free_filename = FALSE;
+	GdkDrawable *drawable = NULL;
+	GdkColor *trans_color = NULL;
+	GdkPixmap *pixmap = NULL;
+	GdkBitmap *mask;
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "OOu", &amp;php_drawable, gdkdrawable_ce,
+													&amp;php_trans_color, gdkcolor_ce,
+													&amp;filename, &amp;free_filename)) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	drawable = GDK_DRAWABLE(PHPG_GOBJECT(php_drawable));
+	trans_color = (GdkColor *) PHPG_GBOXED(php_trans_color);
+
+	pixmap = gdk_pixmap_create_from_xpm(drawable, &amp;mask, trans_color, filename);
+	if (free_filename) g_free(filename);
+
+	if (!pixmap) {
+		php_error(E_WARNING, "%s() cannot load pixmap", get_active_function_name(TSRMLS_C));
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	phpg_gobject_new(&amp;ret_pixmap, (GObject*)pixmap TSRMLS_CC);
+	gdk_pixmap_unref(pixmap);
+
+	phpg_gobject_new(&amp;ret_mask, (GObject *)mask TSRMLS_CC);
+	gdk_bitmap_unref(mask);
+
+	php_gtk_build_value(&amp;return_value, "(NN)", ret_pixmap, ret_mask);
+}
+
+%%
+override gdk_pixmap_create_from_xpm_d
+PHP_METHOD
+{
+	zval *php_drawable, *php_trans_color, *php_data;
+	zval *ret_pixmap = NULL, *ret_mask = NULL;
+	zval **line;
+	GdkDrawable *drawable = NULL;
+	GdkColor *trans_color = NULL;
+	GdkPixmap *pixmap = NULL;
+	GdkBitmap *mask;
+	char **data;
+	int len, i = 0;
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "OOa", &amp;php_drawable, gdkdrawable_ce,
+													&amp;php_trans_color, gdkcolor_ce,
+													&amp;php_data)) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	drawable = GDK_DRAWABLE(PHPG_GOBJECT(php_drawable));
+	trans_color = (GdkColor *) PHPG_GBOXED(php_trans_color);
+
+	len = zend_hash_num_elements(Z_ARRVAL_P(php_data));
+	data = emalloc(len * sizeof(char *));
+	for (zend_hash_internal_pointer_reset(Z_ARRVAL_P(php_data));
+		 zend_hash_get_current_data(Z_ARRVAL_P(php_data), (void **)&amp;line) == SUCCESS;
+		 zend_hash_move_forward(Z_ARRVAL_P(php_data))) {
+		convert_to_string_ex(line);
+		data[i++] = Z_STRVAL_PP(line);
+	}
+
+	pixmap = gdk_pixmap_create_from_xpm_d(drawable, &amp;mask, trans_color, data);
+	efree(data);
+
+	if (!pixmap) {
+		php_error(E_WARNING, "%s() cannot load pixmap", get_active_function_name(TSRMLS_C));
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	phpg_gobject_new(&amp;ret_pixmap, (GObject*)pixmap TSRMLS_CC);
+	gdk_pixmap_unref(pixmap);
+
+	phpg_gobject_new(&amp;ret_mask, (GObject *)mask TSRMLS_CC);
+	gdk_bitmap_unref(mask);
+
+	php_gtk_build_value(&amp;return_value, "(NN)", ret_pixmap, ret_mask);
+}
+
+%% }}}
+
 %% {{{ GdkRectangle
 
 %%

["typedefs.txt" (text/plain)]

Index: ext/gtk+/gtk-types.defs
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/gtk-types.defs,v
retrieving revision 1.3
diff -u -r1.3 gtk-types.defs
--- ext/gtk+/gtk-types.defs	4 Apr 2005 04:07:30 -0000	1.3
+++ ext/gtk+/gtk-types.defs	19 Jun 2006 17:59:26 -0000
@@ -2481,10 +2481,13 @@
   (c-name "GtkCList")
   (gtype-id "GTK_TYPE_CLIST")
   (fields
-    '("GList*" "selection")
     '("gint" "focus_row")
     '("gint" "rows")
-    '("gint" "columns")
+    '("gint" "sort_column")
+    '("GtkSortType" "sort_type")
+    '("GList*" "selection")
+    '("GtkSelectionMode" "selection_mode")
+    '("GList*" "row_list")
   )
 )
 
@@ -2530,7 +2533,11 @@
   (c-name "GtkCTree")
   (gtype-id "GTK_TYPE_CTREE")
   (fields
-    '("GList*" "selection")
+    '("gint" "tree_indent")
+    '("gint" "tree_spacing")
+    '("gint" "tree_column")
+    '("GtkCTreeLineStyle" "line_style")
+    '("GtkCTreeExpanderStyle" "expander_style")
   )
 )
 

["gtkoverrides.txt" (text/plain)]

Index: ext/gtk+/gtk.overrides
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/gtk.overrides,v
retrieving revision 1.197
diff -u -r1.197 gtk.overrides
--- ext/gtk+/gtk.overrides	17 Jun 2006 20:44:14 -0000	1.197
+++ ext/gtk+/gtk.overrides	20 Jun 2006 19:06:37 -0000
@@ -39,8 +39,10 @@
     gtk_action_group_add_radio_actions_full
     gtk_button_new_with_label
     gtk_button_new_with_mnemonic
+    gtk_clist_new_with_titles
     gtk_color_button_new
     gtk_combo_box_new_with_model
+    gtk_ctree_new_with_titles
     gtk_dialog_new
     gtk_exit
     gtk_entry_new_with_max_length
@@ -1317,6 +1319,62 @@
 %% {{{ GtkCList
 
 %%
+add-arginfo GtkCList __construct
+static
+ZEND_BEGIN_ARG_INFO_EX(ARGINFO_NAME, 0, 0, 0)
+    ZEND_ARG_INFO(0, columns)
+    ZEND_ARG_INFO(0, titles)
+ZEND_END_ARG_INFO();
+
+%%
+override gtk_clist_new
+PHP_METHOD
+{
+	GObject *wrapped_obj;
+	gint columns, i = 0;
+	gchar **titles;
+	zval *php_titles = NULL, **temp_title;
+	HashTable *target_hash;
+
+
+	NOT_STATIC_METHOD();
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "i|a", &amp;columns, &amp;php_titles)) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCList);
+	}
+
+	phpg_warn_deprecated("use GtkListStore/GtkTreeView" TSRMLS_CC);
+
+	if (columns &lt;= 0) {
+		PHPG_THROW_EXCEPTION(phpg_construct_exception, "GtkCList requires the number of \
columns to be &gt; 0"); +	}
+
+	if (php_titles) {
+		if (zend_hash_num_elements(Z_ARRVAL_P(php_titles)) &lt; columns) {
+			PHPG_THROW_EXCEPTION(phpg_construct_exception, "The size of the title array needs \
to match the number of columns"); +		}
+		target_hash = HASH_OF(php_titles);
+		titles = emalloc(sizeof(gchar *) * columns);
+		zend_hash_internal_pointer_reset(target_hash);
+		while (zend_hash_get_current_data(target_hash, (void **)&amp;temp_title) == SUCCESS) {
+			convert_to_string_ex(temp_title);
+			titles[i++] = estrndup(Z_STRVAL_PP(temp_title), Z_STRLEN_PP(temp_title));
+			zend_hash_move_forward(target_hash);
+		}
+		wrapped_obj = (GObject *) gtk_clist_new_with_titles(columns, titles);
+		efree(titles);
+	} else {
+		wrapped_obj = (GObject *)gtk_clist_new(columns);
+	}
+
+	if (!wrapped_obj) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCList);
+	}
+
+	phpg_gobject_set_wrapper(this_ptr, wrapped_obj TSRMLS_CC);
+}
+
+%%
 add-arginfo GtkCList get_selection_info
 static
 ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
@@ -1598,6 +1656,136 @@
 
 %% }}}
 
+%% {{{ GtkCTree
+
+%%
+add-arginfo GtkCTree __construct
+static
+ZEND_BEGIN_ARG_INFO_EX(ARGINFO_NAME, 0, 0, 0)
+    ZEND_ARG_INFO(0, columns)
+    ZEND_ARG_INFO(0, tree_column)
+    ZEND_ARG_INFO(0, titles)
+ZEND_END_ARG_INFO();
+
+%%
+override gtk_ctree_new
+PHP_METHOD
+{
+	GObject *wrapped_obj;
+	gint columns, tree_column, i = 0;
+	gchar **titles;
+	zval *php_titles = NULL, **temp_title;
+	HashTable *target_hash;
+
+	NOT_STATIC_METHOD();
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "ii|a", &amp;columns, &amp;tree_column, \
&amp;php_titles)) { +		PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCTree);
+	}
+
+	phpg_warn_deprecated("use GtkTreeStore/GtkTreeView" TSRMLS_CC);
+
+	if (columns &lt;= 0) {
+		php_error(E_WARNING, "%s::%s() requires the number of columns to be &gt; 0",
+			get_active_class_name(NULL TSRMLS_CC), get_active_function_name(TSRMLS_C));
+			PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCTree);
+	}
+
+	if (php_titles) {
+		if (zend_hash_num_elements(Z_ARRVAL_P(php_titles)) &lt; columns) {
+			php_error(E_WARNING, "%s::%s(): the size of the title array needs to match the \
number of columns", +			get_active_class_name(NULL TSRMLS_CC), \
get_active_function_name(TSRMLS_C)); +			PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCTree);
+		}
+		target_hash = HASH_OF(php_titles);
+		titles = emalloc(sizeof(gchar *) * columns);
+		zend_hash_internal_pointer_reset(target_hash);
+		while (zend_hash_get_current_data(target_hash, (void **)&amp;temp_title) == SUCCESS) {
+			convert_to_string_ex(temp_title);
+			titles[i++] = estrndup(Z_STRVAL_PP(temp_title), Z_STRLEN_PP(temp_title));
+			zend_hash_move_forward(target_hash);
+		}
+		wrapped_obj = (GObject *) gtk_ctree_new_with_titles(columns, tree_column, titles);
+		efree(titles);
+	} else {
+		wrapped_obj = (GObject *)gtk_ctree_new(columns, tree_column);
+	}
+
+	if (!wrapped_obj) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCTree);
+	}
+
+	phpg_gobject_set_wrapper(this_ptr, wrapped_obj TSRMLS_CC);
+}
+
+%%
+override gtk_ctree_insert_node
+PHP_METHOD
+{
+	zval *php_parent, *php_sibling, *php_text, **temp_text;
+	zval *php_pixmap_closed = NULL, *php_pixmap_opened = NULL,
+		 *php_mask_closed = NULL, *php_mask_opened = NULL;
+	gint columns, spacing = 5, i = 0;
+	zend_bool is_leaf = 0, expanded = 0;
+	GtkCTreeNode *parent = NULL, *sibling = NULL, *php_retval;
+	GdkPixmap *pixmap_closed = NULL, *pixmap_opened = NULL;
+	GdkBitmap *mask_closed = NULL, *mask_opened = NULL;
+	GtkCTree *tree;
+	gchar **text = NULL;
+	HashTable *target_hash;
+
+	NOT_STATIC_METHOD();
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "NNa|iNNNNbb",  &amp;php_parent, \
gtkctreenode_ce, +															&amp;php_sibling, gtkctreenode_ce,
+															&amp;php_text, &amp;spacing,
+															&amp;php_pixmap_closed, gdkpixmap_ce,
+															&amp;php_mask_closed, gdkpixmap_ce,
+															&amp;php_pixmap_opened, gdkpixmap_ce,
+															&amp;php_mask_opened, gdkpixmap_ce,
+															&amp;is_leaf, &amp;expanded)) {
+		return;
+	}
+
+	target_hash = HASH_OF(php_text);
+	tree = GTK_CTREE(PHPG_GOBJECT(this_ptr));
+	columns = GTK_CLIST(tree)-&gt;columns;
+	if (zend_hash_num_elements(target_hash) != columns) {
+		php_error(E_WARNING, "%s(): the text array size (%d) does not match the number of \
columns in the ctree (%d)", get_active_function_name(TSRMLS_C), \
zend_hash_num_elements(target_hash), columns); +		return;
+	}
+
+	if (Z_TYPE_P(php_parent) != IS_NULL)
+		parent			= GTK_CTREE_NODE(PHPG_GPOINTER(php_parent));
+	if (Z_TYPE_P(php_sibling) != IS_NULL)
+		sibling			= GTK_CTREE_NODE(PHPG_GPOINTER(php_sibling));
+	if (php_pixmap_closed &amp;&amp; Z_TYPE_P(php_pixmap_closed) != IS_NULL)
+		pixmap_closed	= GDK_PIXMAP(PHPG_GOBJECT(php_pixmap_closed));
+	if (php_mask_closed &amp;&amp; Z_TYPE_P(php_mask_closed) != IS_NULL)
+		mask_closed		= GDK_PIXMAP(PHPG_GOBJECT(php_mask_closed));
+	if (php_pixmap_opened &amp;&amp; Z_TYPE_P(php_pixmap_opened) != IS_NULL)
+		pixmap_opened	= GDK_PIXMAP(PHPG_GOBJECT(php_pixmap_opened));
+	if (php_mask_opened &amp;&amp; Z_TYPE_P(php_mask_opened) != IS_NULL)
+		mask_opened		= GDK_PIXMAP(PHPG_GOBJECT(php_mask_opened));
+
+	text = emalloc(sizeof(gchar *) * columns);
+	zend_hash_internal_pointer_reset(target_hash);
+	while (zend_hash_get_current_data(target_hash, (void **)&amp;temp_text) == SUCCESS) {
+		convert_to_string_ex(temp_text);
+		text[i++] = estrndup(Z_STRVAL_PP(temp_text), Z_STRLEN_PP(temp_text));
+		zend_hash_move_forward(target_hash);
+	}
+
+	php_retval = gtk_ctree_insert_node(tree, parent, sibling, text, (guint8)spacing,
+								pixmap_closed, mask_closed, pixmap_opened,
+								mask_opened, is_leaf, expanded);
+
+	efree(text);
+	phpg_gpointer_new(&amp;return_value, GTK_TYPE_CTREE_NODE, php_retval TSRMLS_CC);
+}
+
+%% }}}
+
 %% {{{ GtkDialog
 
 %%
@@ -1807,7 +1995,7 @@
 	GObject *wrapped_obj;
 
     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|ui", &amp;text, &amp;free_text, &amp;max)) {
-        return;
+        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkEntry);
     }
 
     wrapped_obj = (GObject *)g_object_new(phpg_gtype_from_zval(this_ptr),
@@ -3030,7 +3218,7 @@
     GObject *wrapped_obj = NULL;
 
     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "i|O", &amp;socket_id, &amp;display))
-        return;
+        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkPlug);
 
     wrapped_obj = g_object_new(phpg_gtype_from_zval(this_ptr), NULL);
 



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060902122406</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-09-02 12:24:06-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] a few new bits and bobs</subject><body>


&gt; gtkoverrides.txt:
&gt; gdkoverrides.txt:
&gt; typedefs.txt:
Anyone?

--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060903164540</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-09-03 16:45:40-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkEditable insert-text signal callback parameters</subject><body>


Andrei,

&gt;&gt; What about provinding a gpointer method getInteger() or so?
&gt; How do we know internally that GPointer will point to an integer
&gt; necessarily? We can't make that assumption.

Of course the user needs to sure that this is the case, the same as you
need to check your pointers in C by hand and have to know what they
refer to. This takes some of the security of PHP, but gives the ability
to get the content of some pointer types.

--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060903211657</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-09-03 21:16:57-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Gdk::screen_height() Not Working</subject><body>


&gt;&gt; And *PLEASE* do not reply to mails when starting a new thread/asking a
&gt;&gt; new question!
&gt; I humbly beg your pardon. How would you suggest I go about it? Perhaps
&gt; you could also tell me what problem is caused by this. As far as I can
&gt; see, it all goes to the same list.

http://xml.cweiske.de/2006-09-03%20thunderbird%20threading.png

-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060908032325</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-08 03:23:25-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Fw: [PHP-GTK] getting the cursor location of a textbuffer</subject><body>

Did you try $buffer-&gt;get_iter_at_mark($mark)? It takes only one  
parameter.

-Andrei


On Sep 3, 2006, at 4:55 AM, Steph Fox wrote:

&gt; Just in case anyone missed this...
&gt;
&gt; ----- Original Message ----- From: "gell6" &lt;spoongong@hotmail.com&gt;
&gt; To: &lt;php-gtk-general@lists.php.net&gt;
&gt; Sent: Sunday, September 03, 2006 1:15 PM
&gt; Subject: Re: [PHP-GTK] getting the cursor location of a textbuffer
&gt;
&gt;
&gt;&gt;
&gt;&gt; ok upgraded to gnope 1.51
&gt;&gt; Now get_iter_at_mark doesn't return anything, either into $iter1  
&gt;&gt; or $iter2
&gt;&gt;
&gt;&gt; $iter1 = $buffer -&gt; get_iter_at_mark($iter2, $mark);
&gt;&gt;
&gt;&gt; Also
&gt;&gt; $iter = $buffer -&gt; get_iter_at_mark('insert');
&gt;&gt;
&gt;&gt; doesn't return anything. Oh dear. Rolling back to gnope 1.0.
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060908153711</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-08 15:37:11-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] url doesn't show properly on first GtkAboutDialog creation with set_url_hook</subject><body>

Uh, how? In MSHUTDOWN?

-Andrei

On Sep 7, 2006, at 8:37 PM, Steph Fox wrote:

&gt; Can't we make that automatic behaviour?
&gt;
&gt;
&gt;&gt; The Gtk+ API docs are misleading on this one. They make it sound that 
&gt;&gt;  the destroy function will be back to clean up the custom data, but  
&gt;&gt; it's only called when set_url_hook() is called! So the solution is to 
&gt;&gt;  call GtkAboutDialog::set_url_hook(null) after the dialog is closed 
&gt;&gt; or  at the end of your program.
&gt;&gt; -Andrei
&gt;&gt; On Sep 7, 2006, at 7:07 AM, Christian Weiske wrote:
&gt;&gt;&gt; Elizabeth,
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; GtkAboutDialog has a problem when using set_url_hook
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; The first time the GtkAboutDialog is created the url is not shown
&gt;&gt;&gt;&gt; correctly (clickable), but the second time a GtkAboutDialog is  
&gt;&gt;&gt;&gt; created
&gt;&gt;&gt;&gt; (and every subsequent time), it is shown correctly.
&gt;&gt;&gt; It has no problem.
&gt;&gt;&gt;
&gt;&gt;&gt; 1. URL hooks in the about dialog are global, and set_url_hook is  
&gt;&gt;&gt; static
&gt;&gt;&gt; 2. You need to call the hook setup before setting the website. This  
&gt;&gt;&gt; also
&gt;&gt;&gt; solves your problem.
&gt;&gt;&gt;
&gt;&gt;&gt; Nevertheless, we have a memleak here.
&gt;&gt;&gt;
&gt;&gt;&gt;  [Thu Sep  7 16:06:56 2006]  Script:  'abouthook.phpw'
&gt;&gt;&gt; /data/cvs/phpgtk2/php-gtk/main/php_gtk.h(98) :  Freeing 0x08EF18F4 
&gt;&gt;&gt; (36
&gt;&gt;&gt; bytes), script=abouthook.phpw
&gt;&gt;&gt; [Thu Sep  7 16:06:56 2006]  Script:  'abouthook.phpw'
&gt;&gt;&gt; /data/cvs/phpgtk2/php-gtk/main/php_gtk.h(95) :  Freeing 0x08EF18B4 
&gt;&gt;&gt; (16
&gt;&gt;&gt; bytes), script=abouthook.phpw
&gt;&gt;&gt; [Thu Sep  7 16:06:56 2006]  Script:  'abouthook.phpw'
&gt;&gt;&gt; /data/cvs/php/php-5.1.4/Zend/zend_variables.h(45) :  Freeing  
&gt;&gt;&gt; 0x08EF0084
&gt;&gt;&gt; (9 bytes), script=abouthook.phpw
&gt;&gt;&gt; /data/cvs/php/php-5.1.4/Zend/zend_variables.c(120) : Actual location
&gt;&gt;&gt; (location was relayed)
&gt;&gt;&gt; [Thu Sep  7 16:06:56 2006]  Script:  'abouthook.phpw'
&gt;&gt;&gt; /data/cvs/php/php-5.1.4/Zend/zend_vm_execute.h(1766) :  Freeing
&gt;&gt;&gt; 0x08EF06AC (16 bytes), script=abouthook.phpw
&gt;&gt;&gt; === Total 4 memory leaks detected ===
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt; Christian Weiske
&gt;&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060909202316</emailId><senderName></senderName><senderEmail>andrei</senderEmail><timestampReceived>2006-09-09 20:23:16-0400</timestampReceived><subject>[PHP-GTK-DEV] #37636 [Opn-&gt;Csd]: GdkPixbuf::new_from_gd transfers red colors only</subject><body>

 ID:               37636
 Updated by:       andrei@php.net
 Reported By:      cweiske@php.net
-Status:           Open
+Status:           Closed
 Bug Type:         PHP-GTK related
 Operating System: Linux
 PHP Version:      5.1.4
 New Comment:

I committed what I think is the correct fix to gdk.overrides. Please
test and report back.


Previous Comments:
------------------------------------------------------------------------

[2006-06-09 20:28:05] cweiske@php.net

Since it works on Andrei's laptop (a Macbook with G4 processor), but
not on my pc nor on scott's pc, I assume it's an endian problem. The
bits are in the wrong order for PCs.

------------------------------------------------------------------------

[2006-06-09 18:26:07] cweiske@php.net

Even your example shows the wrong colors.
See:
http://xml.cweiske.de/2006-06-09%20new_from_gd%20wrong%20colors.png

Try to set the colors to:
$bg  = imagecolorallocate($image, 0, 255, 0);
$blue = imagecolorallocate($image, 0, 0, 255);

which have no red in them. The image will be totally transparent

------------------------------------------------------------------------

[2006-06-03 18:55:55] andrei@php.net

Can you provide a shorter example without using Image_Graph? My tests
show that everything transfers fine.

&lt;?php

$w = new GtkWindow();
$w-&gt;connect_simple('destroy', array('gtk', 'main_quit'));

$values = array(
           40,  50,  // Point 1 (x, y)
           20,  240, // Point 2 (x, y)
           60,  60,  // Point 3 (x, y)
           240, 20,  // Point 4 (x, y)
           50,  40,  // Point 5 (x, y)
           10,  10  // Point 6 (x, y)
           );

// create image
$image = imagecreatetruecolor(250, 250);

// some colors
$bg  = imagecolorallocate($image, 200, 200, 200);
imagefill($image, 0, 0, $bg);
imagecolortransparent($image, $bg);
$blue = imagecolorallocate($image, 150, 90, 255);

// draw a polygon
imagefilledpolygon($image, $values, 6, $blue);

$pixbuf = GdkPixbuf::new_from_gd($image);

$b = new GtkButton();
$pixmap = GtkImage::new_from_pixbuf($pixbuf);
$b-&gt;add($pixmap);
$w-&gt;add($b);
$w-&gt;show_all();

gtk::main();


------------------------------------------------------------------------

[2006-05-30 04:33:27] cweiske@php.net

Description:
------------
GdkPixbuf::new_from_gd() seems to transfer the red parts of the picture
to the pixbuf. Even when there is a black line, it appears light grey on
the pixbuf.

Reproduce code:
---------------
&lt;?php
//image_graph multiple plots usage example
error_reporting(E_ALL);
include 'Image/Graph.php';
// create the graph
$Graph =&amp; Image_Graph::factory('graph', array(600, 400));
// add a TrueType font
$Font =&amp; $Graph-&gt;addNew('font', 'Verdana');
// set the font size to 11 pixels
$Font-&gt;setSize(8);

$Graph-&gt;setFont($Font);

// create the plotarea
$Graph-&gt;add(
    Image_Graph::vertical(
        Image_Graph::vertical(
            $Title = Image_Graph::factory('title', array('Multiple
Plots', 11)),
            $SubTitle = Image_Graph::factory('title', array('This is a
demonstration of title alignment', 7)),
            90
        ),
        $Plotarea = Image_Graph::factory('plotarea'),
        8
    )
);	
$Title-&gt;setAlignment(IMAGE_GRAPH_ALIGN_LEFT);
$SubTitle-&gt;setAlignment(IMAGE_GRAPH_ALIGN_LEFT);
   
$Grid =&amp; $Plotarea-&gt;addNew('bar_grid', IMAGE_GRAPH_AXIS_Y);
$Grid-&gt;setFillStyle(Image_Graph::factory('gradient',
array(IMAGE_GRAPH_GRAD_VERTICAL, 'white', 'lightgrey')));    
	
$Plot =&amp; $Plotarea-&gt;addNew('Image_Graph_Plot_Smoothed_Area',
Image_Graph::factory('random', array(10, 20, 100, true)));
$Plot-&gt;setFillColor('red@0.2');

$Plot =&amp; $Plotarea-&gt;addNew('line', Image_Graph::factory('random',
array(10, 20, 100, true)));
$Plot-&gt;setLineColor('blue@0.2');
$CircleMarker =&amp; Image_Graph::factory('Image_Graph_Marker_Circle');
$Plot-&gt;setMarker($CircleMarker);
$CircleMarker-&gt;setFillColor('white@0.4');
    
$Plot =&amp; $Plotarea-&gt;addNew('bar', Image_Graph::factory('random',
array(10, 2, 40, true)));
$Plot-&gt;setFillColor('green@0.2');
$Marker =&amp; Image_Graph::factory('Image_Graph_Marker_Value',
IMAGE_GRAPH_VALUE_Y);
$Plot-&gt;setMarker($Marker);
$Marker-&gt;setFillColor('white');
$Marker-&gt;setBorderColor('black');
    
$AxisY = $Plotarea-&gt;getAxis(IMAGE_GRAPH_AXIS_Y);
$AxisY-&gt;showArrow();

$Array = array(
    "Jan-Feb\n2004", 
    "Mar-Apr\n2004", 
    "May-Jun\n2004", 
    "Jul-Aug\n2004", 
    "Sep-Oct\n2004", 
    "Nov-Dev\n2004", 
    "Jan-Feb\n2005", 
    "Mar-Apr\n2005", 
    "May-Jun\n2005", 
    "Jul-Aug\n2005" 
);
$AxisX = $Plotarea-&gt;getAxis(IMAGE_GRAPH_AXIS_X);
$AxisX-&gt;setDataPreprocessor(Image_Graph::factory('Image_Graph_DataPreprocessor_Array',
array($Array)));



//that is a critical line. Setting the output to "none" is important
$Graph-&gt;done(array('output' =&gt; 'none'));
$canvas = $Graph-&gt;_getCanvas();
$gd = $canvas-&gt;_canvas;
$pixbuf = GdkPixbuf::new_from_gd($gd);

$wnd = new GtkWindow();
$wnd-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));
$wnd-&gt;add(GtkImage::new_from_pixbuf($pixbuf));
$wnd-&gt;show_all();
Gtk::main();
?&gt;

Expected result:
----------------
http://xml.cweiske.de/2006-05-30%20multiple_slots_original.png

Actual result:
--------------
http://xml.cweiske.de/2006-05-30%20multiple_slots_gtk.png


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=37636&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060909204950</emailId><senderName></senderName><senderEmail>cweiske</senderEmail><timestampReceived>2006-09-09 20:49:50-0400</timestampReceived><subject>[PHP-GTK-DEV] #37636 [Csd]: GdkPixbuf::new_from_gd transfers red colors only</subject><body>

 ID:               37636
 Updated by:       cweiske@php.net
 Reported By:      cweiske@php.net
 Status:           Closed
 Bug Type:         PHP-GTK related
 Operating System: Linux
 PHP Version:      5.1.4
 New Comment:

works fine.


Previous Comments:
------------------------------------------------------------------------

[2006-09-09 20:23:16] andrei@php.net

I committed what I think is the correct fix to gdk.overrides. Please
test and report back.

------------------------------------------------------------------------

[2006-06-09 20:28:05] cweiske@php.net

Since it works on Andrei's laptop (a Macbook with G4 processor), but
not on my pc nor on scott's pc, I assume it's an endian problem. The
bits are in the wrong order for PCs.

------------------------------------------------------------------------

[2006-06-09 18:26:07] cweiske@php.net

Even your example shows the wrong colors.
See:
http://xml.cweiske.de/2006-06-09%20new_from_gd%20wrong%20colors.png

Try to set the colors to:
$bg  = imagecolorallocate($image, 0, 255, 0);
$blue = imagecolorallocate($image, 0, 0, 255);

which have no red in them. The image will be totally transparent

------------------------------------------------------------------------

[2006-06-03 18:55:55] andrei@php.net

Can you provide a shorter example without using Image_Graph? My tests
show that everything transfers fine.

&lt;?php

$w = new GtkWindow();
$w-&gt;connect_simple('destroy', array('gtk', 'main_quit'));

$values = array(
           40,  50,  // Point 1 (x, y)
           20,  240, // Point 2 (x, y)
           60,  60,  // Point 3 (x, y)
           240, 20,  // Point 4 (x, y)
           50,  40,  // Point 5 (x, y)
           10,  10  // Point 6 (x, y)
           );

// create image
$image = imagecreatetruecolor(250, 250);

// some colors
$bg  = imagecolorallocate($image, 200, 200, 200);
imagefill($image, 0, 0, $bg);
imagecolortransparent($image, $bg);
$blue = imagecolorallocate($image, 150, 90, 255);

// draw a polygon
imagefilledpolygon($image, $values, 6, $blue);

$pixbuf = GdkPixbuf::new_from_gd($image);

$b = new GtkButton();
$pixmap = GtkImage::new_from_pixbuf($pixbuf);
$b-&gt;add($pixmap);
$w-&gt;add($b);
$w-&gt;show_all();

gtk::main();


------------------------------------------------------------------------

[2006-05-30 04:33:27] cweiske@php.net

Description:
------------
GdkPixbuf::new_from_gd() seems to transfer the red parts of the picture
to the pixbuf. Even when there is a black line, it appears light grey on
the pixbuf.

Reproduce code:
---------------
&lt;?php
//image_graph multiple plots usage example
error_reporting(E_ALL);
include 'Image/Graph.php';
// create the graph
$Graph =&amp; Image_Graph::factory('graph', array(600, 400));
// add a TrueType font
$Font =&amp; $Graph-&gt;addNew('font', 'Verdana');
// set the font size to 11 pixels
$Font-&gt;setSize(8);

$Graph-&gt;setFont($Font);

// create the plotarea
$Graph-&gt;add(
    Image_Graph::vertical(
        Image_Graph::vertical(
            $Title = Image_Graph::factory('title', array('Multiple
Plots', 11)),
            $SubTitle = Image_Graph::factory('title', array('This is a
demonstration of title alignment', 7)),
            90
        ),
        $Plotarea = Image_Graph::factory('plotarea'),
        8
    )
);	
$Title-&gt;setAlignment(IMAGE_GRAPH_ALIGN_LEFT);
$SubTitle-&gt;setAlignment(IMAGE_GRAPH_ALIGN_LEFT);
   
$Grid =&amp; $Plotarea-&gt;addNew('bar_grid', IMAGE_GRAPH_AXIS_Y);
$Grid-&gt;setFillStyle(Image_Graph::factory('gradient',
array(IMAGE_GRAPH_GRAD_VERTICAL, 'white', 'lightgrey')));    
	
$Plot =&amp; $Plotarea-&gt;addNew('Image_Graph_Plot_Smoothed_Area',
Image_Graph::factory('random', array(10, 20, 100, true)));
$Plot-&gt;setFillColor('red@0.2');

$Plot =&amp; $Plotarea-&gt;addNew('line', Image_Graph::factory('random',
array(10, 20, 100, true)));
$Plot-&gt;setLineColor('blue@0.2');
$CircleMarker =&amp; Image_Graph::factory('Image_Graph_Marker_Circle');
$Plot-&gt;setMarker($CircleMarker);
$CircleMarker-&gt;setFillColor('white@0.4');
    
$Plot =&amp; $Plotarea-&gt;addNew('bar', Image_Graph::factory('random',
array(10, 2, 40, true)));
$Plot-&gt;setFillColor('green@0.2');
$Marker =&amp; Image_Graph::factory('Image_Graph_Marker_Value',
IMAGE_GRAPH_VALUE_Y);
$Plot-&gt;setMarker($Marker);
$Marker-&gt;setFillColor('white');
$Marker-&gt;setBorderColor('black');
    
$AxisY = $Plotarea-&gt;getAxis(IMAGE_GRAPH_AXIS_Y);
$AxisY-&gt;showArrow();

$Array = array(
    "Jan-Feb\n2004", 
    "Mar-Apr\n2004", 
    "May-Jun\n2004", 
    "Jul-Aug\n2004", 
    "Sep-Oct\n2004", 
    "Nov-Dev\n2004", 
    "Jan-Feb\n2005", 
    "Mar-Apr\n2005", 
    "May-Jun\n2005", 
    "Jul-Aug\n2005" 
);
$AxisX = $Plotarea-&gt;getAxis(IMAGE_GRAPH_AXIS_X);
$AxisX-&gt;setDataPreprocessor(Image_Graph::factory('Image_Graph_DataPreprocessor_Array',
array($Array)));



//that is a critical line. Setting the output to "none" is important
$Graph-&gt;done(array('output' =&gt; 'none'));
$canvas = $Graph-&gt;_getCanvas();
$gd = $canvas-&gt;_canvas;
$pixbuf = GdkPixbuf::new_from_gd($gd);

$wnd = new GtkWindow();
$wnd-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));
$wnd-&gt;add(GtkImage::new_from_pixbuf($pixbuf));
$wnd-&gt;show_all();
Gtk::main();
?&gt;

Expected result:
----------------
http://xml.cweiske.de/2006-05-30%20multiple_slots_original.png

Actual result:
--------------
http://xml.cweiske.de/2006-05-30%20multiple_slots_gtk.png


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=37636&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060909205908</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-09-09 20:59:08-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkUIManager, GtkActionGroup and GtkAction</subject><body>


Andrei,


&gt; I agree. Go for it.
Unfortunately I can't go to anywhere until the end of the month.

--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060915235935</emailId><senderName>Ron Tarrant</senderName><senderEmail>rtarrant@sympatico.ca</senderEmail><timestampReceived>2006-09-15 23:59:35-0400</timestampReceived><subject>[PHP-GTK-DEV] Building from Source: generator not generating gen_*</subject><body>

I've tried to build from the latest cvs source several times over the 
past few months on my FreeBSD system. I've managed to do a successful 
buildconf and configure, but make always exits with an error. The 
compiler complains that it can't find gen_atk.c. After doing a little 
digging, I found out that all the gen_* files in the ext/gtk+ directory 
are not being created.

I have very little experience with the make utility on UNIX systems, so 
I'm hoping someone may be able to shed some light on this. Below is the 
contents of config.log:

This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.

configure:1668: checking for Cygwin environment
configure:1684: cc -c   conftest.c 1&gt;&amp;5
configure: In function `main':
configure:1680: error: `__CYGWIN32__' undeclared (first use in this function)
configure:1680: error: (Each undeclared identifier is reported only once
configure:1680: error: for each function it appears in.)
configure: failed program was:
#line 1673 "configure"
#include "confdefs.h"

int main() {

#ifndef __CYGWIN__
#define __CYGWIN__ __CYGWIN32__
#endif
return __CYGWIN__;
; return 0; }
configure:1701: checking for mingw32 environment
configure:1713: cc -c   conftest.c 1&gt;&amp;5
configure: In function `main':
configure:1709: error: `__MINGW32__' undeclared (first use in this function)
configure:1709: error: (Each undeclared identifier is reported only once
configure:1709: error: for each function it appears in.)
configure: failed program was:
#line 1706 "configure"
#include "confdefs.h"

int main() {
return __MINGW32__;
; return 0; }
configure:1730: checking how to run the C preprocessor
configure:1751: cc -E  conftest.c &gt;/dev/null 2&gt;conftest.out
configure:1812: checking for egrep
configure:1827: checking for a sed that does not truncate output
configure:1928: checking for gcc
configure:2041: checking whether the C compiler (gcc  ) works
configure:2057: gcc -o conftest    conftest.c  1&gt;&amp;5
configure:2083: checking whether the C compiler (gcc  ) is a cross-compiler
configure:2088: checking whether we are using GNU C
configure:2097: gcc -E conftest.c
configure:2116: checking whether gcc accepts -g
configure:2149: checking whether gcc and cc understand -c and -o together
configure:2164: gcc -c conftest.c -o conftest.o 1&gt;&amp;5
configure:2165: gcc -c conftest.c -o conftest.o 1&gt;&amp;5
configure:2170: cc -c conftest.c 1&gt;&amp;5
configure:2172: cc -c conftest.c -o conftest.o 1&gt;&amp;5
configure:2173: cc -c conftest.c -o conftest.o 1&gt;&amp;5
configure:2211: checking if compiler supports -R
configure:2226: gcc -o conftest -g -O2   conftest.c -R /usr/lib  1&gt;&amp;5
configure:2306: checking host system type
configure:2327: checking target system type
configure:2412: checking for PHP prefix
configure:2415: checking for PHP includes
configure:2418: checking for PHP extension directory
configure:2421: checking for PHP installed headers prefix
configure:2469: checking for re2c
configure:2497: checking for re2c version
configure:2529: checking for gawk
configure:2529: checking for nawk
configure:2570: checking if nawk is broken
configure:2588: checking for PHP-GTK support
configure:2638: checking for PHP executable in /usr/local/bin
configure:2666: checking for mawk
configure:2718: checking whether to include debugging symbols
configure:2805: checking for pkg-config
configure:2855: checking for GLIB - version &gt;= 2.6.0
configure:2969: gcc -o conftest -g -O2 -I/usr/local/include/glib-2.0 \
-I/usr/local/lib/glib-2.0/include     conftest.c -L/usr/local/lib -lgobject-2.0 \
-lglib-2.0 -liconv    1&gt;&amp;5 configure:3203: checking for pkg-config
configure:3251: checking for GTK+ - version &gt;= 2.6.0
configure:3361: gcc -o conftest -g -O2 -DXTHREADS -DXUSE_MTSAFE_API \
-I/usr/local/include/atk-1.0 -I/usr/local/include/cairo -I/usr/local/include/glib-2.0 \
-I/usr/local/lib/glib-2.0/include -I/usr/X11R6/include/gtk-2.0 \
-I/usr/X11R6/lib/gtk-2.0/include -I/usr/X11R6/include/pango-1.0 -I/usr/X11R6/include \
-I/usr/local/include/freetype2 -I/usr/local/include     conftest.c -Wl,--rpath \
-Wl,/usr/local/lib -L/usr/local/lib -L/usr/X11R6/lib -lgtk-x11-2.0 -lgdk-x11-2.0 \
-lXrandr -lXi -lXinerama -latk-1.0 -lgdk_pixbuf-2.0 -lpangocairo-1.0 -lXcursor \
-lXfixes -lcairo -lpangoft2-1.0 -lfontconfig -lfreetype -lz -lpango-1.0 -lm -lXrender \
-lX11 -lXext -lgobject-2.0 -lgmodule-2.0 -lglib-2.0 -liconv    1&gt;&amp;5 configure:3616: \
checking for atk &gt;= 1.9.0 configure:3623: checking ATK_CFLAGS
configure:3628: checking ATK_LIBS
configure:3834: checking for pango &gt;= 1.8.0
configure:3841: checking PANGO_CFLAGS
configure:3846: checking PANGO_LIBS
configure:4241: checking for libglade support
configure:4329: checking for libglade-2.0 &gt;= 2.4.0
configure:4834: checking for GtkMozEmbed support
configure:5427: checking for scintilla support
configure:6023: checking for sourceview support
configure:7049: checking build system type
configure:7078: checking for ld used by gcc
configure:7150: checking if the linker (/usr/bin/ld) is GNU ld
configure:7170: checking for /usr/bin/ld option to reload object files
configure:7195: checking for BSD-compatible nm
configure:7241: checking whether ln -s works
configure:7262: checking how to recognise dependent libraries
configure:7440: checking for object suffix
configure:7446: gcc -c -g -O2  conftest.c 1&gt;&amp;5
configure:7466: checking for executable suffix
configure:7476: gcc -o conftest -g -O2   conftest.c  1&gt;&amp;5
configure:7666: checking for dlfcn.h
configure:7676: cc -E  conftest.c &gt;/dev/null 2&gt;conftest.out
configure:7707: checking for c++
configure:7739: checking whether the C++ compiler (c++  ) works
configure:7755: c++ -o conftest    conftest.C  1&gt;&amp;5
configure:7781: checking whether the C++ compiler (c++  ) is a cross-compiler
configure:7786: checking whether we are using GNU C++
configure:7795: c++ -E conftest.C
configure:7814: checking whether c++ accepts -g
configure:7851: checking how to run the C++ preprocessor
configure:7869: c++ -E  conftest.C &gt;/dev/null 2&gt;conftest.out
configure:7900: checking the maximum length of command line arguments
configure:8001: checking command to parse /usr/bin/nm -B output from gcc object
configure:8096: c++ -c -g -O2  conftest.C 1&gt;&amp;5
configure:8099: /usr/bin/nm -B conftest.o | sed -n -e 's/^.*[ \
]\([ABCDGIRSTW][ABCDGIRSTW]*\)[ ][ ]*\([_A-Za-z][_A-Za-z0-9]*\)$/\1 \2 \2/p' &gt; \
conftest.nm configure:8150: c++ -o conftest -g -O2   conftest.C conftstm.o 1&gt;&amp;5
configure:8190: checking for objdir
configure:8256: checking for ar
configure:8323: checking for ranlib
configure:8390: checking for strip
configure:8727: checking if gcc static flag  works
configure:8777: checking if gcc supports -fno-rtti -fno-exceptions
configure:8794: gcc -c -g -O2  -fno-rtti -fno-exceptions conftest.c 1&gt;&amp;5
cc1: warning: command line option "-fno-rtti" is valid for C++/ObjC++ but not for C
configure:8798: $? = 0
configure:8827: checking for gcc option to produce PIC
configure:9038: checking if gcc PIC flag -fPIC works
configure:9055: gcc -c -g -O2  -fPIC -DPIC conftest.c 1&gt;&amp;5
configure:9059: $? = 0
configure:9097: checking if gcc supports -c -o file.o
configure:9117: gcc -c -g -O2  -o out/conftest2.o conftest.c 1&gt;&amp;5
configure:9121: $? = 0
configure:9168: checking whether the gcc linker (/usr/bin/ld) supports shared \
libraries configure:10029: checking whether -lc should be explicitly linked in
configure:10033: gcc -c -g -O2  conftest.c 1&gt;&amp;5
configure:10046: gcc -shared conftest.o  -v -Wl,-soname -Wl,conftest -o conftest 2&gt;&amp;1 \
| grep  -lc  &gt;/dev/null 2&gt;&amp;1 configure:10065: checking dynamic linker characteristics
configure:10639: checking how to hardcode library paths into programs
configure:10677: checking whether stripping libraries is possible
configure:11262: checking if libtool supports shared libraries
configure:11266: checking whether to build shared libraries
configure:11289: checking whether to build static libraries
configure:11958: checking for ld used by c++
configure:12030: checking if the linker (/usr/bin/ld) is GNU ld
configure:12096: checking whether the c++ linker (/usr/bin/ld) supports shared \
libraries configure:12936: c++ -c -g -O2  conftest.cpp 1&gt;&amp;5
configure:13046: checking for c++ option to produce PIC
configure:13321: checking if c++ PIC flag -fPIC works
configure:13338: c++ -c -g -O2  -fPIC -DPIC conftest.cpp 1&gt;&amp;5
configure:13342: $? = 0
configure:13380: checking if c++ supports -c -o file.o
configure:13400: c++ -c -g -O2  -o out/conftest2.o conftest.cpp 1&gt;&amp;5
configure:13404: $? = 0
configure:13451: checking whether the c++ linker (/usr/bin/ld) supports shared \
libraries configure:13537: checking dynamic linker characteristics
configure:14111: checking how to hardcode library paths into programs
configure:14149: checking whether stripping libraries is possible



Suggestions? Need more info?

-Ron T.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060918162937</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-18 16:29:37-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Event constants</subject><body>

It'd have to be hand coded.. and then somehow we need to exclude 
_2BUTTON_PRESS from GTK_TYPE_EVENT_TYPE enum. Not worth it.

-Andrei

On Sep 17, 2006, at 10:59 PM, Anant Narayanan wrote:

&gt;
&gt;&gt; I can't think today. We can't have constants starting with digits.. I 
&gt;&gt; can't see anything better than leaving that underscore in then.
&gt;
&gt; What about Gdk::TWO_BUTTON_PRESS? Too much of a kludge eh? :)
&gt;
&gt; - Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060920003230</emailId><senderName>Ron Tarrant</senderName><senderEmail>rtarrant@sympatico.ca</senderEmail><timestampReceived>2006-09-20 00:32:30-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Makefile Help?</subject><body>

Anant Narayanan wrote:
&gt;
&gt; You might want to check out the /generator/* directory. generator.php
&gt; does all the work of merging the .defs and .overrides to the gen_*
&gt; files.
Yup, I've been looking at that. The impression I get, however, is that 
generator/generator.php just never gets called.
&gt;
&gt; Hmm, if its a PHP script after all, could it be that PHP itself is
&gt; having trouble on FreeBSD?
I don't think so. I've run other PHP test scripts and all seems to be 
well. The only time I get an error is when I have the php_gtk2.so 
extension activated. If I have it commented out, PHP runs fine and 
error-free.
&gt; A missing extension maybe?
&gt;
Hmm, that's a possibility, but with FreeBSD's port system, any 
dependencies should be dealt with during make/make install.

After a few days of digging and because of the output of config.log, I 
think the OS is being mis-identified at some point in the configuration 
process. When I compare config.log from my Linux to that of FreeBSD, it 
just doesn't make sense for a UNIX system in general or a FreeBSD system 
in particular. Here's what I see in the Linux config.log (after the 
preamble):

## --------- ##

## Platform. ##

## --------- ##

hostname = beauty.tarrantland.com

uname -m = i686

uname -r = 2.6.12-12mdksmp

uname -s = Linux

uname -v = #1 SMP Fri Sep 9 17:43:23 CEST 2005



Whereas in the FreeBSD config.log, I see this:

configure:1668: checking for Cygwin environment

configure:1684: cc -c   conftest.c 1&gt;&amp;5

configure: In function `main':

configure:1680: error: `__CYGWIN32__' undeclared (first use in this function)

configure:1680: error: (Each undeclared identifier is reported only once

configure:1680: error: for each function it appears in.)

configure: failed program was:


It just looks to me like ./configure thinks it's on a Windows box. There 
is no mention of FreeBSD anywhere in the config.log file.

Andrei mentioned in his post that config.guess is where the OS is 
identified. I ran it on its own and here's the output:

i386-unknown-freebsd6.1

That looks okay to me, so config.guess seems to know what environment 
it's in. At some point after that, this string must be getting 
mis-interpreted by another part of the config process.

-Ron T.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060920153219</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-20 15:32:19-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] News for September</subject><body>

Mention that we're working hard on finishing the API. :)

-Andrei

P.S. I committed some clipboard code, anyone play with that yet?

On Sep 20, 2006, at 8:15 AM, Scott Mattocks wrote:

&gt; I received no other suggestions and I am lazy so I have just adapted 
&gt; stuff from my site for the September news item. Any objections?
&gt;
&gt;
&gt; Taking Conferences by Storm:
&gt; Its conference season in the PHP world and no PHP conference would be 
&gt; complete without a PHP-GTK 2 presenetation (you hear that DCPHP!). 
&gt; Earlier this month Andrei, demonstrated how easy it is to create 
&gt; powerful desktop applications with PHP-GTK 2 at PHP|Works in Toronot. 
&gt; Next, in October, Scott will be speaking at the Zend/PHP Conference. 
&gt; Finally, in early November, Steph will talk about the new features of 
&gt; PHP-GTK 2 at the International PHP Conference and demonstrate how to 
&gt; make lightweight cross-platform applications.
&gt;
&gt; Online Help:
&gt; A new set of online tutorials has sprung up recently kksou.com. The 
&gt; tutorials are short and to the point. They cover those nagging issues 
&gt; that dont necessarily prevent you from completing your application, 
&gt; but add a great deal to the finished product. I highly recommend even 
&gt; the most accomplished PHP-GTK developers to check them out.
&gt;
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060927002733</emailId><senderName>"Anant Narayanan"</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-09-27 00:27:33-0400</timestampReceived><subject>[PHP-GTK-DEV] PHP-GNOME Part 1 is Here!</subject><body>

Hi All!

So we have with us, PHP bindings to libgnome-2.0 and libgnomeui-2.0.
Let's get the technical stuf out of the way first...

Grab the tarball at: http://www.kix.in/php-gtk2/libgnome.tar.gz and
extract it into the /ext/ directory of you PHP-GTK CVS checkout. Then,
do ./buildconf, followed by ./configure --enable-libgnome.

If you have both libgnome-2.0 and libgnomeui-2.0 upwards, the build
should successfully complete. To check if you have them, use
`pkg-config --modversion libgnome-2.0' and you should get something
above 2.14.0.

So I'm quite excited with the wide variety of GNOMEish widgets
available to us. I wrote a quick script to test the GnomeDruid widget.
Check out the program at http://www.kix.in/php-gtk2/gnome-druid.phps
and a screenshot at http://www.kix.in/php-gtk2/gnome-druid.png

GnomeDruid is a widget that allows you to quickly create "wizard" like
interfaces. There are also other nifty widgets like GnomeEntry,
GnomeFileChooser and GnomeColorPicker that are extensions to their
Gtk+ counterparts with the additional ability to "remember" the user's
previous entries.

This extension is part one of the three Gnome extensions I had talked
about earlier. I'll continue working on the other two, and let you
know when I'm done.

Meanwhile, is it Ok to check this into CVS? Andrei?

Also, a gentle reminder that we must decide on:
a) Which Scintilla version (Tom's or Mine)
b) Which Gtk+ version (2.6 or upgrade to 2.8, possibly even 2.10?)

It would be great if we could pack in both Scintilla and the Gnome
extensions by the time we reach a Beta release.

Let me know if you face any trouble with the Gnome extension.

Cheers!

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060928143513</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-09-28 14:35:13-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] re: PHP-GNOME part 1 is here!</subject><body>

&gt; On Sep 27, 2006, at 1:39 PM, Scott Mattocks wrote:
&gt;&gt; Pango hasn't even been touched yet. And then we have the ATK stuff. 
&gt;&gt; Adding Cairo support on top of that is not trivial IMO. I think one  of 
&gt;&gt; the keys to getting more help (and getting Gtk+2.10 implemented)  is to 
&gt;&gt; generate interest and a stable release will definitely go a  long way to 
&gt;&gt; that end. I vote (not that my vote counts for much  since I write C code 
&gt;&gt; like a 5 year old :) ) to finish what has been  started and then pile 
&gt;&gt; more work on after that. If we keep pushing  the target out, we will 
&gt;&gt; never hit a stable release.
&gt;
&gt; I agree with Scott. A full final release will generate a lot more 
&gt; interest than the alphas/betas we put out and I'd rather adhere to  the 
&gt; release-early, release-often philosophy. I think Gtk+ 2.6 will be  enough 
&gt; for the 1.0 release, and 1.1 can cover 2.8 API.

Possibly, but 2.6 is very buggy under doze. 2.8 much less so. That's the 
basis of my concern over it.

- Steph

&gt;
&gt; -Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060928155848</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-09-28 15:58:48-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Undefined references in commit for phpg_custom_tree_model.c</subject><body>

Yeah, still a work in progress.. However, it compiled and linked for me 
just fine. I might be able to commit something later today to fix this.

-Andrei

On Sep 28, 2006, at 1:13 AM, Fernando Correa da Conceio wrote:

&gt; I updated my sources and now it compiles without error, but when I rum 
&gt; my app I got:
&gt;
&gt; PHP Warning:  PHP Startup: Unable to load dynamic library 
&gt; '/opt/php5/lib/php/extensions/no-debug-non-zts-20050922/php_gtk2.so' - 
&gt; /opt/php5/lib/php/extensions/no-debug-non-zts-20050922/php_gtk2.so: 
&gt; undefined symbol: phpg_custom_tree_model_class_init in Unknown on line 
&gt; 0
&gt;
&gt; And a error which tell that GtkWindow do not exist.
&gt;
&gt; May this is important:
&gt;
&gt; gcc -Iext/gtk+/ -I/sources/php-gtk-original/ext/gtk+/ -DPHP_ATOM_INC 
&gt; -I/sources/php-gtk-original/include -I/sources/php-gtk-original/main 
&gt; -I/sources/php-gtk-original -I/opt/php5/include/php 
&gt; -I/opt/php5/include/php/main -I/opt/php5/include/php/TSRM 
&gt; -I/opt/php5/include/php/Zend -I/opt/php5/include/php/ext 
&gt; -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include 
&gt; -I/usr/include/gtk-2.0 -I/usr/lib/gtk-2.0/include 
&gt; -I/usr/include/atk-1.0 -I/usr/include/cairo -I/usr/include/pango-1.0 
&gt; -I/usr/include/gtksourceview-1.0 -I/usr/include/libxml2 
&gt; -I/usr/include/libgnomeprint-2.2 -I/usr/include/libart-2.0 
&gt; -DHAVE_CONFIG_H -g -O2 -c ext/gtk+/phpg_custom_tree_model.c  -fPIC 
&gt; -DPIC -o ext/gtk+/.libs/phpg_custom_tree_model.o
&gt; ext/gtk+/phpg_custom_tree_model.c:29: warning: 
&gt; 'phpg_custom_tree_model_class_init' used but never defined
&gt; ext/gtk+/phpg_custom_tree_model.c:66: warning: 
&gt; 'phpg_custom_tree_model_get_flags' used but never defined
&gt; ext/gtk+/phpg_custom_tree_model.c:67: warning: 
&gt; 'phpg_custom_tree_model_get_n_columns' used but never defined
&gt; ext/gtk+/phpg_custom_tree_model.c:68: warning: 
&gt; 'phpg_custom_tree_model_get_column_type' used but never defined
&gt; ext/gtk+/phpg_custom_tree_model.c:71: warning: 
&gt; 'phpg_custom_tree_model_get_iter' used but never defined
&gt; ext/gtk+/phpg_custom_tree_model.c:73: warning: 
&gt; 'phpg_custom_tree_model_get_path' used but never defined
&gt; ext/gtk+/phpg_custom_tree_model.c:76: warning: 
&gt; 'phpg_custom_tree_model_get_value' used but never defined
&gt; ext/gtk+/phpg_custom_tree_model.c:78: warning: 
&gt; 'phpg_custom_tree_model_iter_next' used but never defined
&gt; ext/gtk+/phpg_custom_tree_model.c:81: warning: 
&gt; 'phpg_custom_tree_model_iter_children' used but never defined
&gt; ext/gtk+/phpg_custom_tree_model.c:83: warning: 
&gt; 'phpg_custom_tree_model_iter_has_child' used but never defined
&gt; ext/gtk+/phpg_custom_tree_model.c:85: warning: 
&gt; 'phpg_custom_tree_model_iter_n_children' used but never defined
&gt; ext/gtk+/phpg_custom_tree_model.c:89: warning: 
&gt; 'phpg_custom_tree_model_iter_nth_child' used but never defined
&gt; ext/gtk+/phpg_custom_tree_model.c:92: warning: 
&gt; 'phpg_custom_tree_model_iter_parent' used but never defined
&gt; ext/gtk+/phpg_custom_tree_model.c:94: warning: 
&gt; 'phpg_custom_tree_model_unref_node' used but never defined
&gt; ext/gtk+/phpg_custom_tree_model.c:96: warning: 
&gt; 'phpg_custom_tree_model_ref_node' used but never defined
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060929162608</emailId><senderName>"Anant Narayanan"</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-09-29 16:26:08-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GObject constructor</subject><body>

&gt; I guess we don't want to have a GObject constructor as the C method
&gt; provides? With a parameter for the gtype and an array of property
&gt; key-value pairs?

It probably would be useful in cases like extending widgets?

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060930181658</emailId><senderName>"Anant Narayanan"</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-09-30 18:16:58-0400</timestampReceived><subject>[PHP-GTK-DEV] phpg_custom_tree_model_class_init() stub</subject><body>

Andrei,

I added a stub for that method so that CVS copy of PHP-GTK doesn't
break anymore.

Cheers,

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060805185518</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-08-05 18:55:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Gdk::atom_intern(string) -&gt; new GdkAtom(string)?</subject><body>

Not particularly, other than keeping in line with Gtk+.

-Andrei


On May 3, 2006, at 10:14 AM, Christian Weiske wrote:

&gt; Hi Andrei,
&gt;
&gt;
&gt; Is there a reason why there is Gdk::atom_intern(string) that returns a
&gt; GdkAtom instance and not a GdkAtom constructor?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060805185701</emailId><senderName></senderName><senderEmail>andrei</senderEmail><timestampReceived>2006-08-05 18:57:01-0400</timestampReceived><subject>[PHP-GTK-DEV] #37298 [Opn-&gt;Csd]: segfault on php shutdown after drag and drop</subject><body>

 ID:               37298
 Updated by:       andrei@php.net
 Reported By:      cweiske@php.net
-Status:           Open
+Status:           Closed
 Bug Type:         PHP-GTK related
 Operating System: Gentoo/Linux
 PHP Version:      5.1.3
 New Comment:

This has already been fixed.


Previous Comments:
------------------------------------------------------------------------

[2006-05-08 17:29:28] anant@php.net

I don't get a segfault when I the script but recieve this instead. I
have debug enabled, otherwise I don't think the message would even
appear.

---------------------------------------
/var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.h(35)
: Block 0x08BE40AC status:
/var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.c(36)
: Actual location (location was relayed)
Beginning:      Overrun (magic=0x554C4941, expected=0x7312F8DC)
End:      Unknown
---------------------------------------
drag-drop
string(8) "text/xml"
[Mon May  8 20:07:47 2006]  Script:  'bug_dnd_segfault_end.phpw'
---------------------------------------
/var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.h(35)
: Block 0x08BC906C status:
/var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.c(36)
: Actual location (location was relayed)
Beginning:      Overrun (magic=0x00000021, expected=0x7312F8DC)
       End:      Unknown
---------------------------------------

------------------------------------------------------------------------

[2006-05-03 18:32:51] cweiske@php.net

Description:
------------
Bug in drag'n'drop:
Drag from "from" button to "to" button and close the window.
You will get a segfault.


Reproduce code:
---------------
&lt;?php
$wnd = new GtkWindow();
$wnd-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));
$hbox = new GtkHBox();
$wnd-&gt;add($hbox);

$btnFrom = new GtkButton('From');
$btnTo   = new GtkButton('To');

$hbox-&gt;pack_start($btnFrom);
$hbox-&gt;pack_start($btnTo);

$btnFrom-&gt;drag_source_set(
    Gdk::BUTTON1_MASK,
    //change to text/plain, and it works
    array(array('text/xml', 0, 1)),
    Gdk::ACTION_COPY | Gdk::ACTION_MOVE
);


$btnTo-&gt;drag_dest_set(
    Gtk::DEST_DEFAULT_ALL,
    //change to text/plain, and it works
    array(array('text/xml', 0, 1)),
    Gdk::ACTION_COPY | Gdk::ACTION_MOVE
);

$btnTo-&gt;connect('drag-drop', 'onDragDrop');

function onDragDrop($widget, $context, $x, $y, $time) {
    global $strMimeType, $strTypeNumber;

    echo "drag-drop\r\n";
    var_dump(
        $widget-&gt;drag_dest_find_target(
            $context, array(array('text/xml', 0, 1))
        )
    );
}

$wnd-&gt;show_all();
Gtk::main();
?&gt;

Actual result:
--------------
Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 16384 (LWP 20597)]
0x0831d37f in shutdown_memory_manager (silent=0, full_shutdown=0)
    at /data/cvs/php/php-5.1.2/Zend/zend_alloc.c:511
511                                     REMOVE_POINTER_FROM_LIST(ptr);
(gdb) bt
#0  0x0831d37f in shutdown_memory_manager (silent=0, full_shutdown=0)
    at /data/cvs/php/php-5.1.2/Zend/zend_alloc.c:511
#1  0x082f850d in php_request_shutdown (dummy=0x0)
    at /data/cvs/php/php-5.1.2/main/main.c:1303
#2  0x0839f120 in main (argc=2, argv=0xbfb79c64)
    at /data/cvs/php/php-5.1.2/sapi/cli/php_cli.c:1230



------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=37298&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060805194949</emailId><senderName></senderName><senderEmail>andrei</senderEmail><timestampReceived>2006-08-05 19:49:49-0400</timestampReceived><subject>[PHP-GTK-DEV] #37304 [Opn-&gt;Csd]: corrupted double-linked list when dragging</subject><body>

 ID:               37304
 Updated by:       andrei@php.net
 Reported By:      cweiske@php.net
-Status:           Open
+Status:           Closed
 Bug Type:         PHP-GTK related
 Operating System: Linux/Gentoo
 PHP Version:      5.1.3
 New Comment:

Fixed in CVS.


Previous Comments:
------------------------------------------------------------------------

[2006-05-04 12:06:34] cweiske@php.net

Description:
------------
When dragging 3x from the window to itself, php crashes. You need to
apply the GtkSelectionData get_uris/set_uris patch I sent to
php-gtk-dev today first.

Reproduce code:
---------------
&lt;?php
$wnd = new GtkWindow();
$wnd-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));
$wnd-&gt;drag_source_set(Gdk::BUTTON1_MASK, array(), Gdk::ACTION_COPY);


$wnd-&gt;drag_source_set(
    Gdk::BUTTON1_MASK,
    array(array('text/uri-list', 0, 0)),
    Gdk::ACTION_COPY
);
$wnd-&gt;drag_dest_set(
    Gtk::DEST_DEFAULT_ALL,
    array(array('text/uri-list', 0, 0)),
    Gdk::ACTION_COPY
);
$wnd-&gt;drag_dest_add_uri_targets();

$wnd-&gt;connect('drag-data-get', 'onGetDragData');
$wnd-&gt;connect('drag-data-received', 'onDragDataReceived');


function onDragDataReceived($widget, $context, $x, $y, $data, $info,
$time) {
    echo "drag-data-received\r\n";
    var_dump($data-&gt;get_uris());
}
function onGetDragData($widget, $context, $selection, $info, $time) {
    echo "drag-data-get\r\n";
//    $selection-&gt;set(Gdk::atom_intern('text/variable'), 8, 'abc', 3);
    $selection-&gt;set_uris(array('file:///',
'file:///home/cweiske/a.out'));
}


$wnd-&gt;show_all();
Gtk::main();
?&gt;

Actual result:
--------------
*** glibc detected *** corrupted double-linked list: 0x08dd5e00 ***

Program received signal SIGABRT, Aborted.
[Switching to Thread 16384 (LWP 10903)]
0xb7bcc0b1 in kill () from /lib/libc.so.6
(gdb) bt
#0  0xb7bcc0b1 in kill () from /lib/libc.so.6
#1  0xb77631e1 in pthread_kill () from /lib/libpthread.so.0
#2  0xb776355b in raise () from /lib/libpthread.so.0
#3  0xb7bcbe44 in raise () from /lib/libc.so.6
#4  0xb7bcd30d in abort () from /lib/libc.so.6
#5  0xb7bfe5bc in __fsetlocking () from /lib/libc.so.6
#6  0xb7c08417 in mallopt () from /lib/libc.so.6
#7  0xb7c07465 in mallopt () from /lib/libc.so.6
#8  0xb7c06a91 in mallopt () from /lib/libc.so.6
#9  0xb7c05b33 in malloc () from /lib/libc.so.6
#10 0xb701f77e in cairo_matrix_invert () from /usr/lib/libcairo.so.2
#11 0x0000020c in ?? ()
#12 0x3fecfcfc in ?? ()
#13 0xb70519f4 in ?? () from /usr/lib/libcairo.so.2
#14 0xb701f61e in cairo_matrix_invert () from /usr/lib/libcairo.so.2
#15 0x08dd4e48 in ?? ()
#16 0x00000000 in ?? ()
#17 0xbffa5798 in ?? ()
#18 0xb709bdb9 in gdk_cairo_set_source_color ()
   from /usr/lib/libgdk-x11-2.0.so.0
#19 0x00fa5790 in ?? ()
#20 0x08dd5798 in ?? ()
#21 0x08dd5790 in ?? ()
---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
#22 0xb701f31a in cairo_matrix_invert () from /usr/lib/libcairo.so.2
#23 0x08dd5798 in ?? ()
#24 0x00000000 in ?? ()
#25 0xbffa5770 in ?? ()
#26 0x00000001 in ?? ()
#27 0x00000000 in ?? ()
#28 0x00000000 in ?? ()
#29 0x00000000 in ?? ()
#30 0xb7013d8a in cairo_move_to () from /usr/lib/libcairo.so.2
#31 0x08dd5798 in ?? ()
#32 0x00000000 in ?? ()
#33 0x00000000 in ?? ()
#34 0x00000000 in ?? ()
#35 0x00000000 in ?? ()
#36 0x00000000 in ?? ()
#37 0x00000000 in ?? ()
#38 0x00000000 in ?? ()
#39 0xb70519f4 in ?? () from /usr/lib/libcairo.so.2
#40 0x08dd5790 in ?? ()
#41 0x08dcf148 in ?? ()
#42 0xb70144f0 in cairo_rectangle () from /usr/lib/libcairo.so.2
#43 0x08dd5790 in ?? ()
#44 0x00000000 in ?? ()
---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
#45 0x00000000 in ?? ()
#46 0x00000000 in ?? ()
#47 0x00000000 in ?? ()
#48 0xb70519f4 in ?? () from /usr/lib/libcairo.so.2
#49 0x08dd5790 in ?? ()
#50 0xb701323a in cairo_create () from /usr/lib/libcairo.so.2
#51 0x00000000 in ?? ()
#52 0x40690000 in ?? ()
#53 0x00000000 in ?? ()
#54 0x40690000 in ?? ()
#55 0x08dd5790 in ?? ()
#56 0xb71090a8 in ?? () from /usr/lib/libgdk-x11-2.0.so.0
#57 0x08dd5790 in ?? ()
#58 0xb70b603e in gdk_window_get_internal_paint_info ()
   from /usr/lib/libgdk-x11-2.0.so.0
#59 0x00000000 in ?? ()



------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=37304&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060805195126</emailId><senderName></senderName><senderEmail>andrei</senderEmail><timestampReceived>2006-08-05 19:51:26-0400</timestampReceived><subject>[PHP-GTK-DEV] #37296 [Opn-&gt;Csd]: segfault when doing drag and drop</subject><body>

 ID:               37296
 Updated by:       andrei@php.net
 Reported By:      cweiske@php.net
-Status:           Open
+Status:           Closed
 Bug Type:         PHP-GTK related
 Operating System: Linux/Gentoo
 PHP Version:      5.1.3
 New Comment:

Fixed in CVS.


Previous Comments:
------------------------------------------------------------------------

[2006-05-08 17:34:15] anant@php.net

Similar situation here, no segfault, but a debug message:

GtkButton drag-data-get
drag-drop
string(8) "text/xml"
[Mon May  8 20:08:05 2006]  Script:  'bug_dnd_segfault_get.phpw'
---------------------------------------
 /var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.h(35)
: Block 0x08BDD0A4 status:
 /var/tmp/portage/php-5.1.2-r1/work/php-5.1.2/Zend/zend_variables.c(36)
: Actual location (location was relayed)
Beginning:      Overrun (magic=0x00000000, Expected=0x7312F8DC)
End:      Unknown
---------------------------------------

------------------------------------------------------------------------

[2006-05-03 18:29:25] cweiske@php.net

Description:
------------
Bug in drag'n'drop:
Drag from "from" button to "to" button several (3) times.
You will get a segfault.
The segfault appears only if the drag-data-get signal is connected


Reproduce code:
---------------
&lt;?php
$wnd = new GtkWindow();
$wnd-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));
$hbox = new GtkHBox();
$wnd-&gt;add($hbox);

$btnFrom = new GtkButton('From');
$btnTo   = new GtkButton('To');

$hbox-&gt;pack_start($btnFrom);
$hbox-&gt;pack_start($btnTo);

$btnFrom-&gt;drag_source_set(
    Gdk::BUTTON1_MASK,
    //change to text/plain, and it works
    array(array('text/xml', 0, 1)),
    Gdk::ACTION_COPY | Gdk::ACTION_MOVE
);
$btnFrom-&gt;connect('drag-data-get', 'onGetDragData');


$btnTo-&gt;drag_dest_set(
    Gtk::DEST_DEFAULT_ALL,
    //change to text/plain, and it works
    array(array('text/xml', 0, 1)),
    Gdk::ACTION_COPY | Gdk::ACTION_MOVE
);

$btnTo-&gt;connect('drag-drop', 'onDragDrop');


function onGetDragData($widget, $context, $selection, $info, $time) {
    echo $widget-&gt;get_name() . " drag-data-get\r\n";
    $selection-&gt;set_text('ThisIsTheContent');
}

function onDragDrop($widget, $context, $x, $y, $time) {
    global $strMimeType, $strTypeNumber;

    echo "drag-drop\r\n";
    var_dump(
        $widget-&gt;drag_dest_find_target(
            $context, array(array('text/xml', 0, 1))
        )
    );
}

$wnd-&gt;show_all();
Gtk::main();
?&gt;

Actual result:
--------------
Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 16384 (LWP 20610)]
0xb7b793f5 in mallopt () from /lib/libc.so.6
(gdb) bt
#0  0xb7b793f5 in mallopt () from /lib/libc.so.6
#1  0xb7b78a91 in mallopt () from /lib/libc.so.6
#2  0xb7b77b33 in malloc () from /lib/libc.so.6
#3  0xb6f9177e in cairo_matrix_invert () from /usr/lib/libcairo.so.2
#4  0x0000020c in ?? ()
#5  0x3fecfcfc in ?? ()
#6  0xb6fc39f4 in ?? () from /usr/lib/libcairo.so.2
#7  0xb6f9161e in cairo_matrix_invert () from /usr/lib/libcairo.so.2
#8  0x08eb96b8 in ?? ()
#9  0x00000000 in ?? ()
#10 0xbf917fc8 in ?? ()
#11 0xb700ddb9 in gdk_cairo_set_source_color ()
   from /usr/lib/libgdk-x11-2.0.so.0
#12 0x00917fc0 in ?? ()
#13 0x08eb2ea8 in ?? ()
#14 0x08eb2ea0 in ?? ()
#15 0xb6f9131a in cairo_matrix_invert () from /usr/lib/libcairo.so.2
#16 0x08eb2ea8 in ?? ()
#17 0x00000000 in ?? ()
#18 0xbf917fa0 in ?? ()
#19 0x00000001 in ?? ()
#20 0x00000000 in ?? ()
#21 0x00000000 in ?? ()
#22 0x00000000 in ?? ()
#23 0xb6f85d8a in cairo_move_to () from /usr/lib/libcairo.so.2
#24 0x08eb2ea8 in ?? ()
#25 0x00000000 in ?? ()
#26 0x00000000 in ?? ()
#27 0x00000000 in ?? ()
#28 0x00000000 in ?? ()
#29 0x00000000 in ?? ()
#30 0x00000000 in ?? ()
#31 0x00000000 in ?? ()
#32 0xb6fc39f4 in ?? () from /usr/lib/libcairo.so.2
#33 0x08eb2ea0 in ?? ()
#34 0x08e96d28 in ?? ()
#35 0xb6f864f0 in cairo_rectangle () from /usr/lib/libcairo.so.2
#36 0x08eb2ea0 in ?? ()
#37 0x00000000 in ?? ()
#38 0x3ff00000 in ?? ()
#39 0x00000000 in ?? ()
#40 0x00000000 in ?? ()
#41 0xb6fc39f4 in ?? () from /usr/lib/libcairo.so.2
#42 0x08eb2ea0 in ?? ()
#43 0xb6f8523a in cairo_create () from /usr/lib/libcairo.so.2
#44 0x00000000 in ?? ()
#45 0x403f0000 in ?? ()
#46 0x00000000 in ?? ()
#47 0x405c8000 in ?? ()
#48 0x08eb2ea0 in ?? ()
#49 0xb707b0a8 in ?? () from /usr/lib/libgdk-x11-2.0.so.0
#50 0x08eb2ea0 in ?? ()
#51 0xb702803e in gdk_window_get_internal_paint_info ()
   from /usr/lib/libgdk-x11-2.0.so.0
#52 0x00000000 in ?? ()



------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=37296&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060811130219</emailId><senderName>Ronald Vincent Tarrant</senderName><senderEmail>rontarrant@sympatico.ca</senderEmail><timestampReceived>2006-08-11 13:02:19-0400</timestampReceived><subject>[PHP-GTK-DEV] GraphicsContext Out of Context?</subject><body>

Hi all,

While playing around with the GtkDrawingArea widget, I came across 
something that's got me scratching my head. Perhaps I'm just not 
thinking straight this morning, but...

Why does a GtkDrawingArea need to be connected to an expose event before 
its GdkWindow is instantiated?

This works:

&lt;?php

function doExpose($widget, $event)

{

    $graphicsContext = new GdkGC($widget-&gt;window);

    var_dump($graphicsContext);

}

$window = new GtkWindow();

$drawingArea = new GtkDrawingArea();

$window-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));

    $drawingArea-&gt;connect('expose-event', 'doExpose');

$window-&gt;add($drawingArea);

$window-&gt;show_all();

Gtk::main();

?&gt;


And this doesn't:

&lt;?php

function doExpose($graphicsContext)

{

    var_dump($graphicsContext);

} // doExpose()

$window = new GtkWindow();

$drawingArea = new GtkDrawingArea();

    $graphicsContext = new GdkGC($drawingArea-&gt;window);

$window-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));

    $drawingArea-&gt;connect_simple('expose-event', 'doExpose', $graphicsContext);

$window-&gt;add($drawingArea);

$window-&gt;show_all();

Gtk::main();

?&gt;

Any insights would very much appreciated.

-Ron T.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060811172510</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-08-11 17:25:10-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GObject signal methods missing</subject><body>

We will, at some point.

-Andrei

On Aug 10, 2006, at 11:45 PM, Christian Weiske wrote:

&gt; Hello all,
&gt;
&gt; The methods to work with signals provided by GObject are missing:
&gt; g_signal_query, g_signal_lookup, g_signal_handler_block,
&gt; g_signal_handler_unblock and so on. Any chance we get them into 
&gt; php-gtk2?
&gt;
&gt; Static methods of G::? "G" would be a dumb classname, but perhaps 
&gt; GSignal::?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060819230750</emailId><senderName>"spam2 at rhsoft dot net"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-08-19 23:07:50-0400</timestampReceived><subject>[PHP-GTK-DEV] #38514 [NEW]: 5.1RC5 has troubles with Zlib which 5.1RC4 not have</subject><body>

From:             spam2 at rhsoft dot net
Operating system: Win32
PHP version:      5.1.5
PHP Bug Type:     PHP-GTK related
Bug description:  5.1RC5 has troubles with Zlib which 5.1RC4 not have

Description:
------------
First problem is that in ythe GTK+-Packages there is no "intl.dll", i
found a working in the web while the one that is provided by "MySQL
Administrator" did not work.

--

Now the php_gtk2.dll loads but on every script-call even a "php -v" errors
like the following will be shown 

"Strict Standards: Declaration of GtkToolbar::set_style() should be
compatible with that of GtkWidget::set_style()"


-- 
Edit bug report at http://bugs.php.net/?id=38514&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=38514&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.2): http://bugs.php.net/fix.php?id=38514&amp;r=trysnapshot52
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=38514&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=38514&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=38514&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=38514&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=38514&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=38514&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=38514&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=38514&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=38514&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=38514&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=38514&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=38514&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=38514&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=38514&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=38514&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=38514&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=38514&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=38514&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060820073718</emailId><senderName></senderName><senderEmail>cweiske</senderEmail><timestampReceived>2006-08-20 07:37:18-0400</timestampReceived><subject>[PHP-GTK-DEV] #38514 [Opn-&gt;Ver]: GtkTreeView::get_cursor()</subject><body>

 ID:               38514
 Updated by:       cweiske@php.net
-Summary:          5.1RC5 has troubles with Zlib which 5.1RC4 not have
-Reported By:      spam2 at rhsoft dot net
+Reported By:      cweiske at cweiske dot de
-Status:           Open
+Status:           Verified
 Bug Type:         PHP-GTK related
-Operating System: Win32
+Operating System: win xp
-PHP Version:      5.1.5
+PHP Version:      5.1.4
 New Comment:

You have E_STRICT settings activated. PHP-Gtk2 currently is not
compatible with this setting.


Previous Comments:
------------------------------------------------------------------------

[2006-08-19 23:07:50] cweiske at cweiske dot de

Description:
------------
First problem is that in ythe GTK+-Packages there is no "intl.dll", i
found a working in the web while the one that is provided by "MySQL
Administrator" did not work.

--

Now the php_gtk2.dll loads but on every script-call even a "php -v"
errors like the following will be shown 

"Strict Standards: Declaration of GtkToolbar::set_style() should be
compatible with that of GtkWidget::set_style()"



------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=38514&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060820082028</emailId><senderName></senderName><senderEmail>sfox</senderEmail><timestampReceived>2006-08-20 08:20:28-0400</timestampReceived><subject>[PHP-GTK-DEV] #38514 [Ver-&gt;Asn]: 5.1RC5 has troubles with Zlib which 5.1RC4 not have</subject><body>

 ID:               38514
 Updated by:       sfox@php.net
 Reported By:      cweiske at cweiske dot de
-Status:           Verified
+Status:           Assigned
 Bug Type:         PHP-GTK related
 Operating System: win xp
 PHP Version:      5.1.4
-Assigned To:      
+Assigned To:      sfox
 New Comment:

There's no intl.dll because when I tested the dependencies for the GTK
runtime package intl.dll didn't come up as being one of them. I'll
re-test and try to establish why, but in the meantime could you please
tell me how you came to the conclusion there was a missing dependency?
(Was there an error message for example?)

Those errors aren't down to E_STRICT being enabled, they're down to
display_startup_errors being turned on. Outside of that, E_STRICT is
fine (in fact I develop with E_STRICT enabled too). 

I have already discussed the startup errors at some length with Andrei,
Dmitry Stogov and Andi Gutmans on the PHP internals list, because it's
down to the way internal object inheritance is defined in the Zend
Engine now. Dmitry advised me that the patch I offered at the time (or
any other fix) would NOT be applied because the existing definition is
correct for PHP internal objects, and it's not PHP's problem if
third-party objects don't adhere to that definition. So this part of
the two-part bug report is likely to be a 'won't fix', unless Andrei
comes up with some cute way to force GTK objects to comply with PHP
inheritance rules. 

Just turn display_startup_errors off. It's off by default anyway.

- Steph


Previous Comments:
------------------------------------------------------------------------

[2006-08-20 07:37:17] cweiske@php.net

You have E_STRICT settings activated. PHP-Gtk2 currently is not
compatible with this setting.

------------------------------------------------------------------------

[2006-08-19 23:07:50] cweiske at cweiske dot de

Description:
------------
First problem is that in ythe GTK+-Packages there is no "intl.dll", i
found a working in the web while the one that is provided by "MySQL
Administrator" did not work.

--

Now the php_gtk2.dll loads but on every script-call even a "php -v"
errors like the following will be shown 

"Strict Standards: Declaration of GtkToolbar::set_style() should be
compatible with that of GtkWidget::set_style()"



------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=38514&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060820083453</emailId><senderName></senderName><senderEmail>sfox</senderEmail><timestampReceived>2006-08-20 08:34:53-0400</timestampReceived><subject>[PHP-GTK-DEV] #38514 [Asn]: 5.1RC5 has troubles with Zlib which 5.1RC4 not have</subject><body>

 ID:               38514
 Updated by:       sfox@php.net
 Reported By:      cweiske at cweiske dot de
 Status:           Assigned
 Bug Type:         PHP-GTK related
 Operating System: win xp
 PHP Version:      5.1.4
 Assigned To:      sfox
 New Comment:

Christian - this is not an appropriate forum in which to start a
debate. Please stick to the dev list if you want to challenge our
assessment of the problem (that's mine and Andrei's).


Previous Comments:
------------------------------------------------------------------------

[2006-08-20 08:25:37] cweiske@php.net

The warning:
&gt; "Strict Standards: Declaration of GtkToolbar::set_style() 
&gt; should be compatible with that of GtkWidget::set_style()"
*is* down to E_STRICT standards, and we already discussed this issue on
the list.

------------------------------------------------------------------------

[2006-08-20 08:20:27] sfox@php.net

There's no intl.dll because when I tested the dependencies for the GTK
runtime package intl.dll didn't come up as being one of them. I'll
re-test and try to establish why, but in the meantime could you please
tell me how you came to the conclusion there was a missing dependency?
(Was there an error message for example?)

Those errors aren't down to E_STRICT being enabled, they're down to
display_startup_errors being turned on. Outside of that, E_STRICT is
fine (in fact I develop with E_STRICT enabled too). 

I have already discussed the startup errors at some length with Andrei,
Dmitry Stogov and Andi Gutmans on the PHP internals list, because it's
down to the way internal object inheritance is defined in the Zend
Engine now. Dmitry advised me that the patch I offered at the time (or
any other fix) would NOT be applied because the existing definition is
correct for PHP internal objects, and it's not PHP's problem if
third-party objects don't adhere to that definition. So this part of
the two-part bug report is likely to be a 'won't fix', unless Andrei
comes up with some cute way to force GTK objects to comply with PHP
inheritance rules. 

Just turn display_startup_errors off. It's off by default anyway.

- Steph

------------------------------------------------------------------------

[2006-08-20 07:37:17] cweiske@php.net

You have E_STRICT settings activated. PHP-Gtk2 currently is not
compatible with this setting.

------------------------------------------------------------------------

[2006-08-19 23:07:50] cweiske at cweiske dot de

Description:
------------
First problem is that in ythe GTK+-Packages there is no "intl.dll", i
found a working in the web while the one that is provided by "MySQL
Administrator" did not work.

--

Now the php_gtk2.dll loads but on every script-call even a "php -v"
errors like the following will be shown 

"Strict Standards: Declaration of GtkToolbar::set_style() should be
compatible with that of GtkWidget::set_style()"



------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=38514&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060825214005</emailId><senderName>"yml at yml dot com"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-08-25 21:40:05-0400</timestampReceived><subject>[PHP-GTK-DEV] #38601 [NEW]: g_hash_table_ref unresolved symbol</subject><body>

From:             yml at yml dot com
Operating system: RedHat 9
PHP version:      5.1.5
PHP Bug Type:     PHP-GTK related
Bug description:  g_hash_table_ref unresolved symbol

Description:
------------
Under Redhat 9 using PHP 5.1.4, gcc 3.2.2, php-gtk2.0alpha (and also
php-gtk from CVS), everything compiles and links ok but when I try to run
PHP (after having added the extension=php_gtk2.so to the php.ini I get:

&lt;b&gt;Warning&lt;/b&gt;:  PHP Startup: Unable to load dynamic library
'/usr/local/php-5.1.4/lib/php/extensions/no-debug-non-zts-20050922/php_gtk2.so'
- /usr/lib/libgtk-x11-2.0.so.0: undefined symbol: g_hash_table_ref in
&lt;b&gt;Unknown&lt;/b&gt; on line &lt;b&gt;0&lt;/b&gt;&lt;br /&gt;

Of note, I had to compile and install by hand all the components of
gtk+-2.0 .. including glib, cairo, atk, pango, gtk, etc. 

However, the test gtk apps work just fine so I have reason to believe it's
not my compilation of the libraries thats' at fault.

Installing the same php-gtk codebase under Fedora Core 4 using PHP 5.1.4
worked just fine.





-- 
Edit bug report at http://bugs.php.net/?id=38601&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=38601&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.2): http://bugs.php.net/fix.php?id=38601&amp;r=trysnapshot52
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=38601&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=38601&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=38601&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=38601&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=38601&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=38601&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=38601&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=38601&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=38601&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=38601&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=38601&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=38601&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=38601&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=38601&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=38601&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=38601&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=38601&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=38601&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060831012313</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-08-31 01:23:13-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkEditable insert-text signal callback parameters contain GPointer</subject><body>

I doubt we can do anything about this, Christian, since the signal  
parameter types are defined in Gtk+.

Check the last paragraph here:

http://pygtk.org/pygtk2reference/class-gtkeditable.html#signal- 
gtkeditable--insert-text

-Andrei


On Aug 11, 2006, at 12:03 AM, Christian Weiske wrote:

&gt; Hello all
&gt;
&gt;
&gt; The callback for insert-text on GtkEditable should have the following
&gt; signature:
&gt;
&gt; php-gtk2:
&gt; void callback(string new_text, int new_text_length, int position);
&gt;
&gt; gtk2:
&gt; void        user_function                  (GtkEditable *editable,
&gt;                                             gchar *new_text,
&gt;                                             gint new_text_length,
&gt;                                             gint *position,
&gt;                                             gpointer user_data);
&gt;
&gt; Now, when using it in code, the fourth parameter is a GPointer. Seems
&gt; kinda wrong to me.
&gt;
&gt; &lt;?php
&gt; $entry = new GtkEntry();
&gt; $entry-&gt;connect('insert-text', 'onInsertText', 'test');
&gt;
&gt; function onInsertText($entry, $new_text, $new_text_len, $pos,  
&gt; $userdata)
&gt; {
&gt;     echo $new_text . ':' . $new_text_len . ':' . get_class($pos) .  
&gt; ':' .
&gt; $userdata . "\n";
&gt; }
&gt;
&gt; $wnd = new GtkWindow();
&gt; $wnd-&gt;connect_simple('destroy', array('gtk', 'main_quit'));
&gt; $wnd-&gt;add($entry);
&gt; $wnd-&gt;show_all();
&gt; Gtk::main();
&gt; ?&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060831012350</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-08-31 01:23:50-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [SPAM] Re: [PHP-GTK-DEV] E_STRICT renamings</subject><body>

It's not that urgent for anyone, it was just a bit worrying to see it at 
all. You need to turn on display_startup_errors, don't ask me how or why I 
ever had that switched on in the first place - it's off by default.


&gt; You forget that I don't program in PHP-GTK, so it's not really urgent  for 
&gt; me.. :)

He called us a 'rogue extension'. :)

&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Aug 30, 2006, at 6:15 PM, Steph Fox wrote:
&gt;
&gt;&gt; You can try arguing with Dmitry - you're better equipped to do it  than I 
&gt;&gt; :)
&gt;&gt;
&gt;&gt; Good luck!
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "Andrei Zmievski" 
&gt;&gt; &lt;andrei@gravitonic.com&gt;
&gt;&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt;&gt; Cc: "Christian Weiske" &lt;cweiske@cweiske.de&gt;; "PHP-GTK Dev list" 
&gt;&gt; &lt;php-gtk-dev@lists.php.net&gt;; "Marcus Boerger" &lt;helly@php.net&gt;
&gt;&gt; Sent: Thursday, August 31, 2006 3:07 AM
&gt;&gt; Subject: Re: [PHP-GTK-DEV] [SPAM] Re: [PHP-GTK-DEV] E_STRICT renamings
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; So what are we going to do about it? I still don't think that  it's 
&gt;&gt;&gt; wrong to change inherited method's signature.
&gt;&gt;&gt;
&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Aug 20, 2006, at 2:25 AM, Steph Fox wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; This post passed me by completely somehow, probably 'cos I don't 
&gt;&gt;&gt;&gt; always have time to open invisible email.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; This is actually the display_startup_errors issue that I sent a   patch 
&gt;&gt;&gt;&gt; to internals@ for on January 4th, and again on January  10th.  If you 
&gt;&gt;&gt;&gt; recall, Dmitry turned it down on the grounds that  the  current ZE 
&gt;&gt;&gt;&gt; behaviour is correct.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Evidence: http://www.zend.com/zend/week/week271.php#Heading8
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; (yeah OK Andrei I'm _almost_ up to date here ;)
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; ----- Original Message ----- From: "Andrei Zmievski" 
&gt;&gt;&gt;&gt; &lt;andrei@gravitonic.com&gt;
&gt;&gt;&gt;&gt; To: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
&gt;&gt;&gt;&gt; Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;; "Marcus   Boerger" 
&gt;&gt;&gt;&gt; &lt;helly@php.net&gt;
&gt;&gt;&gt;&gt; Sent: Saturday, June 24, 2006 7:47 PM
&gt;&gt;&gt;&gt; Subject: Re: [PHP-GTK-DEV] E_STRICT renamings
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; I have no idea why it's checking for this. I thought it should   only 
&gt;&gt;&gt;&gt;&gt; do it for interfaces. Marcus?
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; On Jun 11, 2006, at 11:12 PM, Christian Weiske wrote:
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; Hello all,
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; Since there is no way of using optional parameters to satisfy  the 
&gt;&gt;&gt;&gt;&gt;&gt; zend
&gt;&gt;&gt;&gt;&gt;&gt; engine causing it not to complain, I vote for renaming the  methods:
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkToolbar::set_style() 
&gt;&gt;&gt;&gt;&gt;&gt;&gt; should
&gt;&gt;&gt;&gt;&gt;&gt;&gt; be compatible with that of GtkWidget::set_style() in Unknown  on 
&gt;&gt;&gt;&gt;&gt;&gt;&gt; line 0
&gt;&gt;&gt;&gt;&gt;&gt; GtkToolbar::set_style() -&gt; GtkToolbar::set_toolbar_style()
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkMenu::set_accel_path () 
&gt;&gt;&gt;&gt;&gt;&gt;&gt; should
&gt;&gt;&gt;&gt;&gt;&gt;&gt; be compatible with that of GtkWidget::set_accel_path() in   Unknown 
&gt;&gt;&gt;&gt;&gt;&gt;&gt; on
&gt;&gt;&gt;&gt;&gt;&gt;&gt; line 0
&gt;&gt;&gt;&gt;&gt;&gt; GtkMenu::set_accel_path() -&gt; GtkMenu::set_menu_accel_path()
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of 
&gt;&gt;&gt;&gt;&gt;&gt;&gt; GtkWindow::mnemonic_activate()
&gt;&gt;&gt;&gt;&gt;&gt;&gt; should be compatible with that of GtkWidget::mnemonic_activate () in
&gt;&gt;&gt;&gt;&gt;&gt;&gt; Unknown on line 0
&gt;&gt;&gt;&gt;&gt;&gt; GtkWindow::mnemonic_activate() -&gt; 
&gt;&gt;&gt;&gt;&gt;&gt; GtkWindow::window_mnemonic_activate()
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of  GtkMenuItem::set_accel_path()
&gt;&gt;&gt;&gt;&gt;&gt;&gt; should be compatible with that of GtkWidget::set_accel_path() in
&gt;&gt;&gt;&gt;&gt;&gt;&gt; Unknown on line 0
&gt;&gt;&gt;&gt;&gt;&gt; GtkMenuItem::set_accel_path() -&gt; 
&gt;&gt;&gt;&gt;&gt;&gt; GtkMenuItem::set_menuitem_accel_path()
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkStatusbar::remove()  should
&gt;&gt;&gt;&gt;&gt;&gt;&gt; be compatible with that of GtkContainer::remove() in Unknown  on 
&gt;&gt;&gt;&gt;&gt;&gt;&gt; line 0
&gt;&gt;&gt;&gt;&gt;&gt; GtkStatusbar::remove() -&gt; GtkStatusbar::remove_message()
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; PHP Strict Standards:  Declaration of GtkCList::remove()  should be
&gt;&gt;&gt;&gt;&gt;&gt;&gt; compatible with that of GtkContainer::remove() in Unknown on  line 0
&gt;&gt;&gt;&gt;&gt;&gt; GtkCList::remove() -&gt; GtkCList::remove_row()
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt;&gt;&gt;&gt; Christian Weiske
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060831015029</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-08-31 01:50:29-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] palette_to_string</subject><body>

Should be fixed now. The method takes only one parameters: an array  
of GdkColors.

-Andrei


On Aug 10, 2006, at 9:55 AM, Pablo Dall'Oglio wrote:

&gt; This method receive a GdkColor as parameter and returns the RGB  
&gt; string:
&gt;
&gt; GtkColorSelection::palette_to_string($color,1);
&gt;
&gt; But it only works if I pass an integer as second parameter.
&gt; Does this integer has a role ? or it's a bug ?
&gt;
&gt; Pablo
&gt; -- 
&gt; :: Pablo Dall'Oglio
&gt; :: www.dalloglio.net
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060820082537</emailId><senderName></senderName><senderEmail>cweiske</senderEmail><timestampReceived>2006-08-20 08:25:37-0400</timestampReceived><subject>[PHP-GTK-DEV] #38514 [Asn]: 5.1RC5 has troubles with Zlib which 5.1RC4 not have</subject><body>

 ID:               38514
 Updated by:       cweiske@php.net
 Reported By:      cweiske at cweiske dot de
 Status:           Assigned
 Bug Type:         PHP-GTK related
 Operating System: win xp
 PHP Version:      5.1.4
 Assigned To:      sfox
 New Comment:

The warning:
&gt; "Strict Standards: Declaration of GtkToolbar::set_style() 
&gt; should be compatible with that of GtkWidget::set_style()"
*is* down to E_STRICT standards, and we already discussed this issue on
the list.


Previous Comments:
------------------------------------------------------------------------

[2006-08-20 08:20:27] sfox@php.net

There's no intl.dll because when I tested the dependencies for the GTK
runtime package intl.dll didn't come up as being one of them. I'll
re-test and try to establish why, but in the meantime could you please
tell me how you came to the conclusion there was a missing dependency?
(Was there an error message for example?)

Those errors aren't down to E_STRICT being enabled, they're down to
display_startup_errors being turned on. Outside of that, E_STRICT is
fine (in fact I develop with E_STRICT enabled too). 

I have already discussed the startup errors at some length with Andrei,
Dmitry Stogov and Andi Gutmans on the PHP internals list, because it's
down to the way internal object inheritance is defined in the Zend
Engine now. Dmitry advised me that the patch I offered at the time (or
any other fix) would NOT be applied because the existing definition is
correct for PHP internal objects, and it's not PHP's problem if
third-party objects don't adhere to that definition. So this part of
the two-part bug report is likely to be a 'won't fix', unless Andrei
comes up with some cute way to force GTK objects to comply with PHP
inheritance rules. 

Just turn display_startup_errors off. It's off by default anyway.

- Steph

------------------------------------------------------------------------

[2006-08-20 07:37:17] cweiske@php.net

You have E_STRICT settings activated. PHP-Gtk2 currently is not
compatible with this setting.

------------------------------------------------------------------------

[2006-08-19 23:07:50] cweiske at cweiske dot de

Description:
------------
First problem is that in ythe GTK+-Packages there is no "intl.dll", i
found a working in the web while the one that is provided by "MySQL
Administrator" did not work.

--

Now the php_gtk2.dll loads but on every script-call even a "php -v"
errors like the following will be shown 

"Strict Standards: Declaration of GtkToolbar::set_style() should be
compatible with that of GtkWidget::set_style()"



------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=38514&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060810165506</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-08-10 16:55:06-0400</timestampReceived><subject>[PHP-GTK-DEV] palette_to_string</subject><body>

This method receive a GdkColor as parameter and returns the RGB string:

GtkColorSelection::palette_to_string($color,1);

But it only works if I pass an integer as second parameter.
Does this integer has a role ? or it's a bug ?

Pablo
-- 
:: Pablo Dall'Oglio
:: www.dalloglio.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060702175937</emailId><senderName>Fernando Correa da =?iso-8859-1?q?Concei=E7=E3o?=</senderName><senderEmail>listas_fernando@yahoo.com.br</senderEmail><timestampReceived>2006-07-02 17:59:37-0400</timestampReceived><subject>[PHP-GTK-DEV] utf8 issues in Scintilla(again)</subject><body>

I have posted a issue in utf8 in scintilla and Anant commited a patch.
But that path generates a new error.
Please commit this to scintilla.overrides

%%
override gtk_scintilla_set_text
static PHP_METHOD(GtkScintilla, set_text)
{
    char *text;
    zend_bool free_text = FALSE;

    NOT_STATIC_METHOD();

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "s", &amp;text, &amp;free_text))
       return;

    gtk_scintilla_set_text(GTK_SCINTILLA(PHPG_GOBJECT(this_ptr)), text);

    if (free_text) g_free(text);
}

I will work now in the other functions, as this may happen in all functions 
from scintilla which accept a string as argumment.

		
_______________________________________________________ 
Novidade no Yahoo! Mail: receba alertas de novas mensagens no seu celular. Registre seu aparelho agora! 
http://br.mobile.yahoo.com/mailalertas/ 
 


-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060705063237</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-07-05 06:32:37-0400</timestampReceived><subject>[PHP-GTK-DEV] why ?</subject><body>

PHP Warning:  PHP Startup: Unable to load dynamic library
'/usr/local/php-gtk2/lib/php/extensions/no-debug-non-zts-20050922/php_gtk2.so' - \
/usr/local/php-gtk2/lib/libgtkscintilla2.so: undefined symbol: g_thread_init in \
Unknown on line 0

PS: compiles without error.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060707231942</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-07 23:19:42-0400</timestampReceived><subject>[PHP-GTK-DEV] Removing defs</subject><body>

&gt; cweiske		Fri Jun 30 23:00:43 2006 UTC
&gt;
&gt;   Modified files:
&gt;     /php-gtk/ext/gtk+	gtk.defs
&gt;   Log:
&gt;   Removing GtkTreeModel::filter_new, since we already have a
&gt;   GtkTreeModelFilter constructor

I prefer that we mess with .defs files as little as possible, since it 
will reduce any potential merge conflicts when we merge in 2.8.x .defs. 
Why not just 'ignore' this function?

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060708023320</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-08 02:33:20-0400</timestampReceived><subject>[PHP-GTK-DEV] Notes</subject><body>

Where is the DB you need me to put on the web server?

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060709191935</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-09 19:19:35-0400</timestampReceived><subject>[PHP-GTK-DEV] notes and all that</subject><body>

OK people, I have worked my boobies off over the last few days and hopefully 
everything will 'just work' now. Please go in and test it, it's at least 
5000 times as secure as php.net so I'm ignoring Andrei over this :)

The login page is at http://gtk.php.net/admin-login.php, use your php.net 
credentials.

Docteam regulars should be able to get into the 'test' area without any 
problem, but nowhere else restricted. If you find you can reach something 
you shouldn't be able to reach, please let me know(!). Also if you can't 
reach something you think you should be able to, of course.

'Test' means you get your own temporary database (a copy of the original) to 
mess around with. It also means that, for the time being at least, the email 
address you use when testing it will be held as plain text in a cookie on 
your box for the duration - even if our outgoing mail's switched off at the 
time. So please log out when you're done playi^H^H^H^H^Hlearning the system!

If it all screws up and we lose the db over the next day or two it's ok, I 
still have a virgin backup of the original notes here. However if the mail's 
still switched off you probably won't get to add anything to that anyway, 
there's a queuing system (as you'll see) that waits for the mail to go 
through to the list. (It's just a cheap way of making sure we have a report 
before our db falls apart.)

Feedback is welcome so long as you don't all shout at once..

- Steph

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060716190054</emailId><senderName>Ronald Vincent Tarrant</senderName><senderEmail>rontarrant@sympatico.ca</senderEmail><timestampReceived>2006-07-16 19:00:54-0400</timestampReceived><subject>[PHP-GTK-DEV] PHP-GTK2 Zeta on Windows</subject><body>

Hi all,

I just did a quick test of a short php-gtk script that uses a 
GtkClipboard on both Windows and Linux. Under Linux, no problem. Under 
Windows, the call:

gtk::clipboard_get();

Evokes this error:

"PHP Fatal error:  Call to undefined method Gtk::clipboard_get() in 
clipboard.php on line 40"

This worked with Christien's Gnope update 1.2.2, but with zeta, it's a 
no-go.

Because this error comes up when the above is the only line in a script, 
I don't think the rest of the code is relevant, so I haven't reproduced 
it here.


Take care.

-Ron T.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060716214653</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-16 21:46:53-0400</timestampReceived><subject>[PHP-GTK-DEV] PHP-GTK 2 article?</subject><body>

I've been told that our neither our changelog nor about.php page  
cover what exactly is "new" in PHP-GTK 2 and what it's all about.  
Maybe someone could write an article about this for A/R/T or  
something similar?

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060717133756</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-17 13:37:56-0400</timestampReceived><subject>[PHP-GTK-DEV] version_compare doesn't like zeta</subject><body>


We have a problem.


8 packages in PEAR depend on php-gtk2 "2.0.0dev" as minimum version, and
all packages on gnope, too.
Now version_compare() doesn't know any greek letters beside alpha and
beta, and tells us that 2.0.0zeta is lower than 2.0.0dev - although
2.0.0alpha and 2.0.0beta is higher.

I've been arguing with the guys at #php.pecl, but they say we're at gtk
all mad to even consider zeta as a version. Now somebody has to change
30+ packages...

--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060718023453</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-18 02:34:53-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: Alpha re-released</subject><body>

Just got home, slightly wallahed, next time I wake it'll all come together.

Did you make an announcement on the homepage yet?

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, July 18, 2006 2:11 AM
Subject: Alpha re-released


&gt; Just committed stuff for alpha. Steph, you can do your thing now.
&gt; 
&gt; -Andrei
&gt; 
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060718144447</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-18 14:44:47-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkFunction enums don't work in php</subject><body>

That makes absolutely no sense. Test script?

----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, July 18, 2006 4:45 PM
Subject: [PHP-GTK-DEV] GdkFunction enums don't work in php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060718144523</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-18 14:45:23-0400</timestampReceived><subject>[PHP-GTK-DEV] GdkFunction enums don't work in php</subject><body>


Hi all,

GdkFunction enums don't work, since most of the constant names in there
are reserved php operators, e.g. Gdk::XOR or Gdk::OR.
It seems we need to prefix them with an underscore or so.

--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060723222700</emailId><senderName>xkots</senderName><senderEmail>jaccos@gmail.com</senderEmail><timestampReceived>2006-07-23 22:27:00-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Class 'GladeXML' not found</subject><body>


I run  umbuto linux dist. since yesterday .

the whole installation of php-gtk2 and php5 took me a day and everything
works fine now, except that i get an error " "class GladeXml can not be
found".

this is my test file

&lt;?php
//Create a new glade instance, load the 
// widgets from the file passed as parameter
$glade = new GladeXML('helloglade.glade');
 
//Start the main loop
Gtk::main();
?&gt;




 who can help ???  
-- 
View this message in context: \
http://www.nabble.com/Class-%27GladeXML%27-not-found-tf1104480.html#a5459774 Sent \
from the Php - GTK - Dev forum at Nabble.com.



</body></email><email><emailId>20060725034903</emailId><senderName>       Fernando_Correa_da_Conceio</senderName><senderEmail></senderEmail><timestampReceived>2006-07-25 03:49:03-0400</timestampReceived><subject>[PHP-GTK-DEV] Patch for GtkScintilla : all constants</subject><body>

This patch defines all constants for gtkscintilla, using the same names
as used in c source, so it ends as GtkScintilla::SC_EOL_CR.
I will build now one for gtkmozembed, I tried using the enum in the .def
file, but it segfault. Using the same way as for scintilla works fine,(I
tested with some) so can I make it?

This is for Scintilla, add to scintilla.overrides. I am sending again
because the previous the mail server rejected, because is too big. So
now I put it on a server.

http://manualphp.sourceforge.net/patch.txt.bz2

	

	
		
_______________________________________________________ 
Voc quer respostas para suas perguntas? Ou voc sabe muito e quer compartilhar seu \
conhecimento? Experimente o Yahoo! Respostas ! http://br.answers.yahoo.com/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060715155653</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-15 15:56:53-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: site changes vs cron</subject><body>

Yeah, but I won't have time today. I think I'll just make the release  
and we can fix up the remaining bits of the site tomorrow.

-Andrei


On Jul 15, 2006, at 8:47 AM, Steph Fox wrote:

&gt; Hey Andrei,
&gt;
&gt; I finally got the front page to validate, but...
&gt;
&gt; The updates file generated during cron needs to move to using &lt;li&gt;  
&gt; and an 'id' attribute, rather than  and the homegrown 'date'  
&gt; attribute we used to get away with under HTML 4.
&gt;
&gt; 'id' must be unique and must not begin with a digit. (Our dates are  
&gt; generated from the timestamp on the server when the update script  
&gt; runs.)
&gt;
&gt; The index file on the site needs to have the &lt;ul&gt; declaration in  
&gt; place ready to contain the list. (and also needs to 'lose' the  
&gt; paragraph there).
&gt;
&gt; I rewrote the 'write to file' part of the merge script (also called  
&gt; during the cron run) to add a 'd' to the start of the date and a  
&gt; period followed by a number at the end of it. I was planning to  
&gt; strip those excess 'bits' on the way back in, seeing as they're  
&gt; purely there to please the god of XHTML, but actually it looks to  
&gt; be sorting correctly even with them left in.
&gt;
&gt; Basically this needs everything to go into CVS just before the cron  
&gt; job runs. Given that that's the way of it, did you want to look  
&gt; this stuff over first?
&gt;
&gt; - Steph
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060715160231</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-15 16:02:31-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: site changes vs cron</subject><body>

OK, I'll separate out the dodgy bits and throw them at you. As ever ;)

Enjoy!


&gt; Yeah, but I won't have time today. I think I'll just make the release  
&gt; and we can fix up the remaining bits of the site tomorrow.
&gt; 
&gt; -Andrei
&gt; 
&gt; 
&gt; On Jul 15, 2006, at 8:47 AM, Steph Fox wrote:
&gt; 
&gt;&gt; Hey Andrei,
&gt;&gt;
&gt;&gt; I finally got the front page to validate, but...
&gt;&gt;
&gt;&gt; The updates file generated during cron needs to move to using &lt;li&gt;  
&gt;&gt; and an 'id' attribute, rather than  and the homegrown 'date'  
&gt;&gt; attribute we used to get away with under HTML 4.
&gt;&gt;
&gt;&gt; 'id' must be unique and must not begin with a digit. (Our dates are  
&gt;&gt; generated from the timestamp on the server when the update script  
&gt;&gt; runs.)
&gt;&gt;
&gt;&gt; The index file on the site needs to have the &lt;ul&gt; declaration in  
&gt;&gt; place ready to contain the list. (and also needs to 'lose' the  
&gt;&gt; paragraph there).
&gt;&gt;
&gt;&gt; I rewrote the 'write to file' part of the merge script (also called  
&gt;&gt; during the cron run) to add a 'd' to the start of the date and a  
&gt;&gt; period followed by a number at the end of it. I was planning to  
&gt;&gt; strip those excess 'bits' on the way back in, seeing as they're  
&gt;&gt; purely there to please the god of XHTML, but actually it looks to  
&gt;&gt; be sorting correctly even with them left in.
&gt;&gt;
&gt;&gt; Basically this needs everything to go into CVS just before the cron  
&gt;&gt; job runs. Given that that's the way of it, did you want to look  
&gt;&gt; this stuff over first?
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt;
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060730182956</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-30 18:29:56-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: site changes vs cron</subject><body>

So, do we still need to update something here?

-Andrei


On Jul 15, 2006, at 9:02 AM, Steph Fox wrote:

&gt; OK, I'll separate out the dodgy bits and throw them at you. As ever ;)
&gt;
&gt; Enjoy!
&gt;
&gt;
&gt;&gt; Yeah, but I won't have time today. I think I'll just make the  
&gt;&gt; release  and we can fix up the remaining bits of the site tomorrow.
&gt;&gt; -Andrei
&gt;&gt; On Jul 15, 2006, at 8:47 AM, Steph Fox wrote:
&gt;&gt;&gt; Hey Andrei,
&gt;&gt;&gt;
&gt;&gt;&gt; I finally got the front page to validate, but...
&gt;&gt;&gt;
&gt;&gt;&gt; The updates file generated during cron needs to move to using  
&gt;&gt;&gt; &lt;li&gt;  and an 'id' attribute, rather than  and the  
&gt;&gt;&gt; homegrown 'date'  attribute we used to get away with under HTML 4.
&gt;&gt;&gt;
&gt;&gt;&gt; 'id' must be unique and must not begin with a digit. (Our dates  
&gt;&gt;&gt; are  generated from the timestamp on the server when the update  
&gt;&gt;&gt; script  runs.)
&gt;&gt;&gt;
&gt;&gt;&gt; The index file on the site needs to have the &lt;ul&gt; declaration in   
&gt;&gt;&gt; place ready to contain the list. (and also needs to 'lose' the   
&gt;&gt;&gt; paragraph there).
&gt;&gt;&gt;
&gt;&gt;&gt; I rewrote the 'write to file' part of the merge script (also  
&gt;&gt;&gt; called  during the cron run) to add a 'd' to the start of the  
&gt;&gt;&gt; date and a  period followed by a number at the end of it. I was  
&gt;&gt;&gt; planning to  strip those excess 'bits' on the way back in, seeing  
&gt;&gt;&gt; as they're  purely there to please the god of XHTML, but actually  
&gt;&gt;&gt; it looks to  be sorting correctly even with them left in.
&gt;&gt;&gt;
&gt;&gt;&gt; Basically this needs everything to go into CVS just before the  
&gt;&gt;&gt; cron  job runs. Given that that's the way of it, did you want to  
&gt;&gt;&gt; look  this stuff over first?
&gt;&gt;&gt;
&gt;&gt;&gt; - Steph
&gt;&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060718144843</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-18 14:48:43-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkFunction enums don't work in php</subject><body>

&gt;&gt; That makes absolutely no sense. Test script?
&gt; 
&gt;&gt; echo Gdk::OR;
&gt; PHP Parse error:  syntax error, unexpected T_LOGICAL_OR, expecting
&gt; T_STRING or T_VARIABLE or '$' in php shell code on line 1

So why did it work in PHP-GTK 1, again?

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060718145013</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-18 14:50:13-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkFunction enums don't work in php</subject><body>

&gt; That makes absolutely no sense. Test script?

&gt; echo Gdk::OR;
PHP Parse error:  syntax error, unexpected T_LOGICAL_OR, expecting
T_STRING or T_VARIABLE or '$' in php shell code on line 1

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060718145444</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-07-18 14:54:44-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkFunction enums don't work in php</subject><body>

Christian Weiske wrote:
&gt;&gt; That makes absolutely no sense. Test script?
&gt; 
&gt;&gt; echo Gdk::OR;
&gt; PHP Parse error:  syntax error, unexpected T_LOGICAL_OR, expecting
&gt; T_STRING or T_VARIABLE or '$' in php shell code on line 1
&gt; 

It makes sense to me. OR and XOR are PHP keywords. To access them you 
can use the constant() function:

constant('Gdk::OR');

-- 
Scott Mattocks
Author of: Pro PHP-GTK
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060718145628</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-18 14:56:28-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkFunction enums don't work in php</subject><body>

&gt; Steph Fox wrote:
&gt;&gt;&gt;&gt; That makes absolutely no sense. Test script?
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; echo Gdk::OR;
&gt;&gt;&gt; PHP Parse error:  syntax error, unexpected T_LOGICAL_OR, expecting
&gt;&gt;&gt; T_STRING or T_VARIABLE or '$' in php shell code on line 1
&gt;&gt; 
&gt;&gt; So why did it work in PHP-GTK 1, again?
&gt;&gt; 
&gt; 
&gt; Because it was Gdk_OR which doesn't violate the keyword.

Newsflash:  internally, it still is.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710163447</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-10 16:34:47-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

&gt; Thanks Steph. It seems to be working well. I have two comments though:

Hey Scott, thanks for testing!

&gt; 1) One of your changes seems to have made the text on the entire site 
&gt; shrink way down in FireFox (Linux). I know we had this issue before and I 
&gt; think it may have had something to do with the doctype, but I can't 
&gt; remember exactly.

Note that I haven't changed the doctype - I just made it legal. I have vague 
memories of a Firefox/char issue being related to that before too, but I'm 
fairly sure it wasn't HTML 4.01 transitional that exposed it... didn't we 
try to move to strict or xhtml or something?  Also Firefox - a deal more 
mature now than it was at the time - is probably the most 
standards-compliant browser there is. If it's having problems with 4.01 
transitional it's most likely because we're doing something wrong, not 
because we're doing something right.

One of the things the validator complained about was that the stylesheet 
'links'. Given that it also complained about the doctype declaration (and 
that fixing that gave us back utf-8 encoding), is it possible that the two 
stylesheets we use were loading in a different order or something?

I've a long list of CSS 1 validation failures I haven't even had time to 
look at yet, also via w3c's validator. Attached are both stylesheets with 
the warnings out-commented at the bottom.

Rasmus went over the notes with his Famous Tool [TM] in the wee small hours 
and reported a bunch of XSS holes I need to fix before we get anywhere near 
putting them live. Also as you'll have spotted Andrei has some reservations 
about the email address 'test mode' cookie, so I think we'll need to change 
the system to use php.net addresses, but I don't know how happy ezmls will 
be about that yet. (I've had issues with directing php list mail to my 
php.net addy in the past.)

I really, really need to focus on paid work this week - if someone else can 
fiddle with the stylesheets/headers and manage to retain valid HTML, utf-8 
headers and normal fonts for Firefox all at once, please get on it!

- Steph

&gt; 2) Anyone with php-gtk-web karma can give themselves access to the 
&gt; restricted areas. I am not sure if that is really a concern though since 
&gt; it doesn't look like you can really do that much damage. Plus, if they 
&gt; have been granted web karma, hopefully we can trust them not to do 
&gt; anything stupid.

Anyone with php-gtk-web karma who alters a file in CVS to give themselves 
access to the restricted areas will be doing so publicly and have it on 
record for all time.  My deep and

&gt;
&gt; Steph Fox wrote:
&gt;&gt; OK people, I have worked my boobies off over the last few days and 
&gt;&gt; hopefully everything will 'just work' now. Please go in and test it, it's 
&gt;&gt; at least 5000 times as secure as php.net so I'm ignoring Andrei over this 
&gt;&gt; :)
&gt;&gt;
&gt;&gt; The login page is at http://gtk.php.net/admin-login.php, use your php.net 
&gt;&gt; credentials.
&gt;&gt;
&gt;&gt; Docteam regulars should be able to get into the 'test' area without any 
&gt;&gt; problem, but nowhere else restricted. If you find you can reach something 
&gt;&gt; you shouldn't be able to reach, please let me know(!). Also if you can't 
&gt;&gt; reach something you think you should be able to, of course.
&gt;&gt;
&gt;&gt; 'Test' means you get your own temporary database (a copy of the original) 
&gt;&gt; to mess around with. It also means that, for the time being at least, the 
&gt;&gt; email address you use when testing it will be held as plain text in a 
&gt;&gt; cookie on your box for the duration - even if our outgoing mail's 
&gt;&gt; switched off at the time. So please log out when you're done 
&gt;&gt; playi^H^H^H^H^Hlearning the system!
&gt;&gt;
&gt;&gt; If it all screws up and we lose the db over the next day or two it's ok, 
&gt;&gt; I still have a virgin backup of the original notes here. However if the 
&gt;&gt; mail's still switched off you probably won't get to add anything to that 
&gt;&gt; anyway, there's a queuing system (as you'll see) that waits for the mail 
&gt;&gt; to go through to the list. (It's just a cheap way of making sure we have 
&gt;&gt; a report before our db falls apart.)
&gt;&gt;
&gt;&gt; Feedback is welcome so long as you don't all shout at once..
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt;
&gt;
&gt; -- 
&gt; Scott Mattocks
&gt; Author of: Pro PHP-GTK
&gt; http://www.crisscott.com
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

["style-highlight.css.txt" (text/plain)]

/* 
 * $Id: style-highlight.css,v 1.5 2006/04/08 07:36:23 andrei Exp $
 */

.phpcode {
font-family: monospace, 'Courier New', Courier;
font-size: 90%;
}
.phpcode .kw1 {
color: #d09010; font-weight: bold
}
.phpcode .kw2 {
color: #000000; font-weight: bold;
}
.phpcode .kw3 {
color: #000066; font-weight: bold;
}
.phpcode .co1 {
color: #808080; font-style: italic;
}
.phpcode .co2 {
color: #808080; font-style: italic;
}
.phpcode .coMULTI {
color: #808080; font-style: italic;
}
.phpcode .es0 {
color: green; font-weight: bold;
}
.phpcode .br0 {
color: #404040
}
.phpcode .st0 {
color: green
}
.phpcode .nu0 {
color: #6600cc
}
.phpcode .me0 {
color: black; font-style: italic
}
.phpcode .re0 {
color: #004090
}

/*
 * Local variables:
 * tab-width: 4
 * c-basic-offset: 4
 * End:
 * vim: expandtab sw=4 ts=4 fdm=marker
 */

/*
URI : file://localhost/C:\sandbox\php-gtk-web\style-highlight.css
Line : 10 (Level : 1) You have no background-color with your color : .phpcode .kw1 
Line : 13 (Level : 1) You have no background-color with your color : .phpcode .kw2 
Line : 16 (Level : 1) You have no background-color with your color : .phpcode .kw3 
Line : 19 (Level : 1) You have no background-color with your color : .phpcode .co1 
Line : 22 (Level : 1) You have no background-color with your color : .phpcode .co2 
Line : 25 (Level : 1) You have no background-color with your color : .phpcode .coMULTI 
Line : 28 (Level : 1) You have no background-color with your color : .phpcode .es0 
Line : 31 (Level : 1) You have no background-color with your color : .phpcode .br0 
Line : 34 (Level : 1) You have no background-color with your color : .phpcode .st0 
Line : 37 (Level : 1) You have no background-color with your color : .phpcode .nu0 
Line : 40 (Level : 1) You have no background-color with your color : .phpcode .me0 
Line : 43 (Level : 1) You have no background-color with your color : .phpcode .re0 
*/

["style.css.txt" (text/plain)]

/* 
 * $Id: style.css,v 1.19 2006/04/15 04:57:16 cweiske Exp $
 */

/* Let no border around the body appear, and set
   it to display on a white background */
body, html {
    margin: 0px;
    padding: 0px;
    background-color: #FFFFFF;
}

/* Font settings for page elements */
body, ul, td, th, p, h1, h2, h3, h4, dt, small, .small,
.tableTitle, .tableExtras, input, textarea, select {
    font-family: Verdana, Arial, Helvetica, sans-serif;
}
code, pre, tt {
    font-family: Courier, "Courier New", monospace;
}

/* Default font size for elements */
body, ul, td, th {
    font-size: 85%;
}

li {
    padding-top: 3px;
    padding-bottom: 3px;
}

em {
    font-weight: bold;
    font-style: italic;
}

acronym {
    border-bottom: 1px dashed #00cc00;
    cursor: help;
}

.newsDate {
    font-size: 75%;
    font-style: italic;
    color: #6666CC;
}

.sidebar {
	font-size: 80%;
	padding: 5px;
}

.sidebar p {
	text-align: left !important;
}

a.menuWhite {
    font-size: 75%;
    color: #FFFFFF;
    text-decoration: none;
}

a.menuBlack {
    font-size: 75%;
    color: #000000;
    text-decoration: none;
}

pre, code {
    font-size: 80%;
}

pre.code {
    background-color: #F0F0F0;
}

/* General header styles */
h1, h2, h3, h4, dt {
    font-weight: bold;
    color: #000066;
}
h1 { font-size: 130%; }
h2 { font-size: 125%; }
h3, dt { font-size: 110%; }
h4 {
    font-size: 90%;
    padding-top: 0px;
    padding-bottom: 0px;
}

blockquote {
    margin-left: 12px;
}

small {
    font-size: 75%;
}

a.small {
    font-size: 75%;
    text-decoration: none;
}

.tableTitle {
    font-weight: bold;
}

.tableExtras {
    font-size: 85%;
    color: #FFFFFF;
}

input.small, select.small {
    font-size: 75%;
}

textarea.small {
    font-size: 75%;
}

.programlisting {
    display: block;
    width: 100%;
    background-color: #E0E0E0
}

hr {
    border: 0px;
    color: black;
    background-color: black;
    height: 1px;
}

#docsupdates h3 {
    margin-top: 0px;
}

/*
 * Local variables:
 * tab-width: 4
 * c-basic-offset: 4
 * End:
 * vim: expandtab sw=4 ts=4 fdm=marker
 */


 /*

 URI : file://localhost/C:\sandbox\php-gtk-web\style.css
Line : 10 (Level : 1) You have no color with your background-color : html 
Line : 10 (Level : 1) You have no color with your background-color : html 
Line : 45 (Level : 1) You have no background-color with your color : .newsDate 
Line : 59 (Level : 1) Same colors for color and background-color in two contexts html and a.menuWhite 
Line : 59 (Level : 1) Same colors for color and background-color in two contexts html and a.menuWhite 
Line : 59 (Level : 1) You have no background-color with your color : a.menuWhite 
Line : 65 (Level : 1) You have no background-color with your color : a.menuBlack 
Line : 74 (Level : 1) You have no color with your background-color : pre.code 
Line : 80 (Level : 1) You have no background-color with your color : dt 
Line : 80 (Level : 1) You have no background-color with your color : dt 
Line : 80 (Level : 1) You have no background-color with your color : dt 
Line : 80 (Level : 1) You have no background-color with your color : dt 
Line : 80 (Level : 1) You have no background-color with your color : dt 
Line : 110 (Level : 1) Same colors for color and background-color in two contexts html and .tableExtras 
Line : 110 (Level : 1) You have no background-color with your color : .tableExtras 
Line : 110 (Level : 1) Same colors for color and background-color in two contexts html and .tableExtras 
Line : 124 (Level : 1) You have no color with your background-color : .programlisting 
Line : 130 (Level : 1) Same colors for background-color and color : hr 

*/



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710164002</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-10 16:40:02-0400</timestampReceived><subject>Fw: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

Oops, I missed part two..

&gt; 2) Anyone with php-gtk-web karma can give themselves access to the
&gt; restricted areas. I am not sure if that is really a concern though since
&gt; it doesn't look like you can really do that much damage. Plus, if they
&gt; have been granted web karma, hopefully we can trust them not to do
&gt; anything stupid.

Anyone with php-gtk-web karma who alters a file in CVS to give themselves 
access to the restricted areas will be doing so publicly and have it on 
record for all time.  My deep and careful research into the criminal mind 
tells me this is not an acceptable risk :)

- Steph

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060703160004</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-07-03 16:00:04-0400</timestampReceived><subject>[PHP-GTK-DEV] Zeta?</subject><body>

Hello,

It is time for my weekly nagging. I know that we are waiting for the 
manual notes to be restored before releasing but at this point I think 
we are doing more harm than good. The manual notes are not going to make 
or break the success of the release, but the longer we hold off the more 
interest dies down. The purpose of the release is to generate interest 
and therefore help for development and documentation.

Can we please release php-gtk2.0.0zeta this week with or without the 
manual notes?

Thanks,
Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060704165519</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-04 16:55:19-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

Yes, I think we should go ahead without the manual notes. I'm not  
sure how much longer it's going to take to get them going. I thought  
it would be nice to have a built-in reporting system for our docs,  
but we'll have to do without them. I'm actually taking a day off  
tomorrow, so I'll sit down and make the release.

-Andrei


On Jul 3, 2006, at 9:00 AM, Scott Mattocks wrote:

&gt; Hello,
&gt;
&gt; It is time for my weekly nagging. I know that we are waiting for  
&gt; the manual notes to be restored before releasing but at this point  
&gt; I think we are doing more harm than good. The manual notes are not  
&gt; going to make or break the success of the release, but the longer  
&gt; we hold off the more interest dies down. The purpose of the release  
&gt; is to generate interest and therefore help for development and  
&gt; documentation.
&gt;
&gt; Can we please release php-gtk2.0.0zeta this week with or without  
&gt; the manual notes?
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060704172113</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-04 17:21:13-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

Andrei, I asked you several days ago to give me some notice when you'd be 
available so we could set them up...!

They're 99% done, the only thing I'm waiting for apart from that is Wez to 
respond to a question I mailed him about auth.

- Steph

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Scott Mattocks" &lt;scott@crisscott.com&gt;
Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, July 04, 2006 6:55 PM
Subject: Re: [PHP-GTK-DEV] Zeta?


&gt; Yes, I think we should go ahead without the manual notes. I'm not  sure 
&gt; how much longer it's going to take to get them going. I thought  it would 
&gt; be nice to have a built-in reporting system for our docs,  but we'll have 
&gt; to do without them. I'm actually taking a day off  tomorrow, so I'll sit 
&gt; down and make the release.
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Jul 3, 2006, at 9:00 AM, Scott Mattocks wrote:
&gt;
&gt;&gt; Hello,
&gt;&gt;
&gt;&gt; It is time for my weekly nagging. I know that we are waiting for  the 
&gt;&gt; manual notes to be restored before releasing but at this point  I think 
&gt;&gt; we are doing more harm than good. The manual notes are not  going to make 
&gt;&gt; or break the success of the release, but the longer  we hold off the more 
&gt;&gt; interest dies down. The purpose of the release  is to generate interest 
&gt;&gt; and therefore help for development and  documentation.
&gt;&gt;
&gt;&gt; Can we please release php-gtk2.0.0zeta this week with or without  the 
&gt;&gt; manual notes?
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Scott
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060705231018</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-05 23:10:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

Steph asked me to delay the release so I won't be making it today.

-Andrei


On Jul 3, 2006, at 9:00 AM, Scott Mattocks wrote:

&gt; Hello,
&gt;
&gt; It is time for my weekly nagging. I know that we are waiting for  
&gt; the manual notes to be restored before releasing but at this point  
&gt; I think we are doing more harm than good. The manual notes are not  
&gt; going to make or break the success of the release, but the longer  
&gt; we hold off the more interest dies down. The purpose of the release  
&gt; is to generate interest and therefore help for development and  
&gt; documentation.
&gt;
&gt; Can we please release php-gtk2.0.0zeta this week with or without  
&gt; the manual notes?
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060706051226</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-06 05:12:26-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

That's true. I asked because I spent 20+ hours trying to sort out the 
website over the last coupla days and I happen to have a real life too. 
(The real life pays the $ that allow me to muck about on the internet and 
have a good time..)

I also need(ed) sleep!  When it comes to the point where I can't see why 
(test) sql injections are blocked at one stage and getting through at 
another stage... well blah. I think it'll take &lt; 10 minutes to diagnose when 
I'm fully awake.

So sorry, but yes I did ask for a delay in release (not in rolling tho', 
which is usually done at least 12 hours beforehand). Andrei, can't we just 
agree a date between us all and say that'll be it come whatever? If you give 
me a 'this is it' src tarball I can build it, test it and run up a distro 
any time.  It'd just be nice to have everything around it functional.

- *exasperated* Steph


&gt; Steph asked me to delay the release so I won't be making it today.
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Jul 3, 2006, at 9:00 AM, Scott Mattocks wrote:
&gt;
&gt;&gt; Hello,
&gt;&gt;
&gt;&gt; It is time for my weekly nagging. I know that we are waiting for  the 
&gt;&gt; manual notes to be restored before releasing but at this point  I think 
&gt;&gt; we are doing more harm than good. The manual notes are not  going to make 
&gt;&gt; or break the success of the release, but the longer  we hold off the more 
&gt;&gt; interest dies down. The purpose of the release  is to generate interest 
&gt;&gt; and therefore help for development and  documentation.
&gt;&gt;
&gt;&gt; Can we please release php-gtk2.0.0zeta this week with or without  the 
&gt;&gt; manual notes?
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Scott
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060718145651</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-18 14:56:51-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkFunction enums don't work in php</subject><body>


&gt; So why did it work in PHP-GTK 1, again?
Did anyone try that?

--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060718145718</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-07-18 14:57:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkFunction enums don't work in php</subject><body>

Steph Fox wrote:
&gt;&gt;&gt; That makes absolutely no sense. Test script?
&gt;&gt;
&gt;&gt;&gt; echo Gdk::OR;
&gt;&gt; PHP Parse error:  syntax error, unexpected T_LOGICAL_OR, expecting
&gt;&gt; T_STRING or T_VARIABLE or '$' in php shell code on line 1
&gt; 
&gt; So why did it work in PHP-GTK 1, again?
&gt; 

Because it was Gdk_OR which doesn't violate the keyword.

--
Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060717134413</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-17 13:44:13-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] version_compare doesn't like zeta</subject><body>

oops :)

change '30+ packages' or one... better wait for Andrei to wake up.

/me holds back on committing those re-rolled packs

----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, July 17, 2006 3:37 PM
Subject: [PHP-GTK-DEV] version_compare doesn't like zeta

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060717144127</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-17 14:41:27-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] version_compare doesn't like zeta</subject><body>

I just discovered another problem with 'zeta' while I was trying to find a 
solution for this. The .dll package description _always_ comes out as DEBUG 
when the version's 2.0.0zeta because the '0zeta' part isn't fully 
recognised. I _think it needs a hyphen to allow extra information, same as 
we had with 2.0.0-dev.

Experimenting...


&gt; oops :)
&gt;
&gt; change '30+ packages' or one... better wait for Andrei to wake up.
&gt;
&gt; /me holds back on committing those re-rolled packs
&gt;
&gt; ----- Original Message ----- 
&gt; From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Monday, July 17, 2006 3:37 PM
&gt; Subject: [PHP-GTK-DEV] version_compare doesn't like zeta
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060717154210</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-17 15:42:10-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] version_compare doesn't like zeta</subject><body>

Oh, version_compare(), how single-minded it is.. I proposed extending 
the support for Greek letters, but doesn't look like anyone wants that. 
Dammit. So what, we need to re-release? That sucks, PR-wise.

On Jul 17, 2006, at 6:44 AM, Steph Fox wrote:

&gt; oops :)
&gt;
&gt; change '30+ packages' or one... better wait for Andrei to wake up.
&gt;
&gt; /me holds back on committing those re-rolled packs
&gt;
&gt; ----- Original Message ----- From: "Christian Weiske" 
&gt; &lt;cweiske@cweiske.de&gt;
&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Monday, July 17, 2006 3:37 PM
&gt; Subject: [PHP-GTK-DEV] version_compare doesn't like zeta
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060717154420</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-17 15:44:20-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] version_compare doesn't like zeta</subject><body>

Well... I just discovered everything win32-wise was labelled 'debug' even 
though it was 'release', so I need to re-do those anyway. And give the 
human-readable files DOS endings.

And our release announcement on the general list was invisible to anyone 
with Outlook Express anyway :)

Yeah I think we need to re-release and put a eulogy for zeta on the home 
page.



&gt; Oh, version_compare(), how single-minded it is.. I proposed extending the 
&gt; support for Greek letters, but doesn't look like anyone wants that. 
&gt; Dammit. So what, we need to re-release? That sucks, PR-wise.
&gt;
&gt; On Jul 17, 2006, at 6:44 AM, Steph Fox wrote:
&gt;
&gt;&gt; oops :)
&gt;&gt;
&gt;&gt; change '30+ packages' or one... better wait for Andrei to wake up.
&gt;&gt;
&gt;&gt; /me holds back on committing those re-rolled packs
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "Christian Weiske" 
&gt;&gt; &lt;cweiske@cweiske.de&gt;
&gt;&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt; Sent: Monday, July 17, 2006 3:37 PM
&gt;&gt; Subject: [PHP-GTK-DEV] version_compare doesn't like zeta
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060716215557</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-16 21:55:57-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-GTK 2 article?</subject><body>

Don't have time right now - I'll give it a nice write up when I get up to 
date with the weeklies, but it'll be over a week from now :-( After that 
I'll see if I can do anything with the new Zend site - I don't have control 
over content there.

On the plus side, Anant's already embarked on a very nice series about 
PHP-GTK 2 for php|arch, and I put in a proposal on PHP-GTK 2 for Frankfurt.

- Steph



&gt; I've been told that our neither our changelog nor about.php page  cover 
&gt; what exactly is "new" in PHP-GTK 2 and what it's all about.  Maybe someone 
&gt; could write an article about this for A/R/T or  something similar?
&gt;
&gt; -Andrei
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060716215559</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-07-16 21:55:59-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-GTK 2 article?</subject><body>


&gt; I've been told that our neither our changelog nor about.php page  
&gt; cover what exactly is "new" in PHP-GTK 2 and what it's all about.  
&gt; Maybe someone could write an article about this for A/R/T or  
&gt; something similar?

How about putting the `What's New' page that we made recently,  
online? A two-part article on PHP-GTK 2 is coming up on php|arch  
July, August (if all goes well) and Scott already has a series on PHP- 
GTK 2 up on A/R/T [1]

[1] http://crisscott.com/category/phpa/

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060716215845</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-16 21:58:45-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-GTK 2 article?</subject><body>

Which "what's new" page are you talking about? This one [1]? That's  
the one I was told is not specific enough.

-Andrei

[1] http://www.gravitonic.com/about.php

On Jul 16, 2006, at 2:55 PM, Anant Narayanan wrote:

&gt;
&gt;&gt; I've been told that our neither our changelog nor about.php page  
&gt;&gt; cover what exactly is "new" in PHP-GTK 2 and what it's all about.  
&gt;&gt; Maybe someone could write an article about this for A/R/T or  
&gt;&gt; something similar?
&gt;
&gt; How about putting the `What's New' page that we made recently,  
&gt; online? A two-part article on PHP-GTK 2 is coming up on php|arch  
&gt; July, August (if all goes well) and Scott already has a series on  
&gt; PHP-GTK 2 up on A/R/T [1]
&gt;
&gt; [1] http://crisscott.com/category/phpa/
&gt;
&gt; - Anant
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060712153807</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-07-12 15:38:07-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

OK. So we have a notes system that works without any major issues. Can 
we put out a release yet? I am sure that there are changes that can be 
made to the notes system, but do they have to be made prior to the 
release? This release is just dragging on and on without any updates to 
the actual software. What are we gaining by waiting any longer?

Thanks,
Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060712155238</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-12 15:52:38-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

Hey, I'm fine with releasing it if you say that notes work. Like I 
said, Steph was asking me to delay it until we had it ready..

On Jul 12, 2006, at 8:38 AM, Scott Mattocks wrote:

&gt; OK. So we have a notes system that works without any major issues. Can 
&gt; we put out a release yet? I am sure that there are changes that can be 
&gt; made to the notes system, but do they have to be made prior to the 
&gt; release? This release is just dragging on and on without any updates 
&gt; to the actual software. What are we gaining by waiting any longer?
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060712160144</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-12 16:01:44-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

I'm ready when you are :)

Andrei, I need an executive decision on which version of PHP to build the 
win32 distro against. Last stable, 5_1 HEAD or 5_2 HEAD?

Also when you've rolled your tarball can you make it available 1) for 
testing and 2) so I can make a win32 distro?

- Steph

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Scott Mattocks" &lt;scott@crisscott.com&gt;
Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Wednesday, July 12, 2006 5:52 PM
Subject: Re: [PHP-GTK-DEV] Zeta?


&gt; Hey, I'm fine with releasing it if you say that notes work. Like I said, 
&gt; Steph was asking me to delay it until we had it ready..
&gt;
&gt; On Jul 12, 2006, at 8:38 AM, Scott Mattocks wrote:
&gt;
&gt;&gt; OK. So we have a notes system that works without any major issues. Can we 
&gt;&gt; put out a release yet? I am sure that there are changes that can be made 
&gt;&gt; to the notes system, but do they have to be made prior to the release? 
&gt;&gt; This release is just dragging on and on without any updates to the actual 
&gt;&gt; software. What are we gaining by waiting any longer?
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Scott
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060712161605</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-12 16:16:05-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

Why not build it for 5_1 and 5_2?

I'll put up the tarball privately when it's ready.

-Andrei

On Jul 12, 2006, at 9:01 AM, Steph Fox wrote:

&gt; I'm ready when you are :)
&gt;
&gt; Andrei, I need an executive decision on which version of PHP to build 
&gt; the win32 distro against. Last stable, 5_1 HEAD or 5_2 HEAD?
&gt;
&gt; Also when you've rolled your tarball can you make it available 1) for 
&gt; testing and 2) so I can make a win32 distro?
&gt;
&gt; - Steph
&gt;
&gt; ----- Original Message ----- From: "Andrei Zmievski" 
&gt; &lt;andrei@gravitonic.com&gt;
&gt; To: "Scott Mattocks" &lt;scott@crisscott.com&gt;
&gt; Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Wednesday, July 12, 2006 5:52 PM
&gt; Subject: Re: [PHP-GTK-DEV] Zeta?
&gt;
&gt;
&gt;&gt; Hey, I'm fine with releasing it if you say that notes work. Like I 
&gt;&gt; said, Steph was asking me to delay it until we had it ready..
&gt;&gt;
&gt;&gt; On Jul 12, 2006, at 8:38 AM, Scott Mattocks wrote:
&gt;&gt;
&gt;&gt;&gt; OK. So we have a notes system that works without any major issues. 
&gt;&gt;&gt; Can we put out a release yet? I am sure that there are changes that 
&gt;&gt;&gt; can be made to the notes system, but do they have to be made prior 
&gt;&gt;&gt; to the release? This release is just dragging on and on without any 
&gt;&gt;&gt; updates to the actual software. What are we gaining by waiting any 
&gt;&gt;&gt; longer?
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks,
&gt;&gt;&gt; Scott
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060712162629</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-12 16:26:29-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

OK, will do. Debug too?

/me goes to check out latest

&gt; Why not build it for 5_1 and 5_2?
&gt; 
&gt; I'll put up the tarball privately when it's ready.
&gt; 
&gt; -Andrei
&gt; 
&gt; On Jul 12, 2006, at 9:01 AM, Steph Fox wrote:
&gt; 
&gt;&gt; I'm ready when you are :)
&gt;&gt;
&gt;&gt; Andrei, I need an executive decision on which version of PHP to build 
&gt;&gt; the win32 distro against. Last stable, 5_1 HEAD or 5_2 HEAD?
&gt;&gt;
&gt;&gt; Also when you've rolled your tarball can you make it available 1) for 
&gt;&gt; testing and 2) so I can make a win32 distro?
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "Andrei Zmievski" 
&gt;&gt; &lt;andrei@gravitonic.com&gt;
&gt;&gt; To: "Scott Mattocks" &lt;scott@crisscott.com&gt;
&gt;&gt; Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt; Sent: Wednesday, July 12, 2006 5:52 PM
&gt;&gt; Subject: Re: [PHP-GTK-DEV] Zeta?
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; Hey, I'm fine with releasing it if you say that notes work. Like I 
&gt;&gt;&gt; said, Steph was asking me to delay it until we had it ready..
&gt;&gt;&gt;
&gt;&gt;&gt; On Jul 12, 2006, at 8:38 AM, Scott Mattocks wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; OK. So we have a notes system that works without any major issues. 
&gt;&gt;&gt;&gt; Can we put out a release yet? I am sure that there are changes that 
&gt;&gt;&gt;&gt; can be made to the notes system, but do they have to be made prior 
&gt;&gt;&gt;&gt; to the release? This release is just dragging on and on without any 
&gt;&gt;&gt;&gt; updates to the actual software. What are we gaining by waiting any 
&gt;&gt;&gt;&gt; longer?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Thanks,
&gt;&gt;&gt;&gt; Scott
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060712163848</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-12 16:38:48-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

I don't know. Does php.net release PHP in both versions?

On Jul 12, 2006, at 9:26 AM, Steph Fox wrote:

&gt; OK, will do. Debug too?
&gt;
&gt; /me goes to check out latest
&gt;
&gt;&gt; Why not build it for 5_1 and 5_2?
&gt;&gt; I'll put up the tarball privately when it's ready.
&gt;&gt; -Andrei
&gt;&gt; On Jul 12, 2006, at 9:01 AM, Steph Fox wrote:
&gt;&gt;&gt; I'm ready when you are :)
&gt;&gt;&gt;
&gt;&gt;&gt; Andrei, I need an executive decision on which version of PHP to 
&gt;&gt;&gt; build the win32 distro against. Last stable, 5_1 HEAD or 5_2 HEAD?
&gt;&gt;&gt;
&gt;&gt;&gt; Also when you've rolled your tarball can you make it available 1) 
&gt;&gt;&gt; for testing and 2) so I can make a win32 distro?
&gt;&gt;&gt;
&gt;&gt;&gt; - Steph
&gt;&gt;&gt;
&gt;&gt;&gt; ----- Original Message ----- From: "Andrei Zmievski" 
&gt;&gt;&gt; &lt;andrei@gravitonic.com&gt;
&gt;&gt;&gt; To: "Scott Mattocks" &lt;scott@crisscott.com&gt;
&gt;&gt;&gt; Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt;&gt; Sent: Wednesday, July 12, 2006 5:52 PM
&gt;&gt;&gt; Subject: Re: [PHP-GTK-DEV] Zeta?
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Hey, I'm fine with releasing it if you say that notes work. Like I 
&gt;&gt;&gt;&gt; said, Steph was asking me to delay it until we had it ready..
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; On Jul 12, 2006, at 8:38 AM, Scott Mattocks wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; OK. So we have a notes system that works without any major issues. 
&gt;&gt;&gt;&gt;&gt; Can we put out a release yet? I am sure that there are changes 
&gt;&gt;&gt;&gt;&gt; that can be made to the notes system, but do they have to be made 
&gt;&gt;&gt;&gt;&gt; prior to the release? This release is just dragging on and on 
&gt;&gt;&gt;&gt;&gt; without any updates to the actual software. What are we gaining by 
&gt;&gt;&gt;&gt;&gt; waiting any longer?
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Thanks,
&gt;&gt;&gt;&gt;&gt; Scott
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060712170110</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-12 17:01:10-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

Actually no, Edin just makes a 'debug kit' available for each branch that 
allows debug headers to be generated. So I guess I should probably do the 
same here, although I have to say I've no idea how useful it is - the 
php.net page on generating a win32 backtrace relies on proprietary software 
being installed. Maybe I should test the 'debug headers' approach with the 
freely-available dependency walker and see if it gives any useful traces. 
Erm, do we have any juicy bugs I could test that on? :)


&gt;I don't know. Does php.net release PHP in both versions?
&gt;
&gt; On Jul 12, 2006, at 9:26 AM, Steph Fox wrote:
&gt;
&gt;&gt; OK, will do. Debug too?
&gt;&gt;
&gt;&gt; /me goes to check out latest
&gt;&gt;
&gt;&gt;&gt; Why not build it for 5_1 and 5_2?
&gt;&gt;&gt; I'll put up the tarball privately when it's ready.
&gt;&gt;&gt; -Andrei
&gt;&gt;&gt; On Jul 12, 2006, at 9:01 AM, Steph Fox wrote:
&gt;&gt;&gt;&gt; I'm ready when you are :)
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Andrei, I need an executive decision on which version of PHP to build 
&gt;&gt;&gt;&gt; the win32 distro against. Last stable, 5_1 HEAD or 5_2 HEAD?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Also when you've rolled your tarball can you make it available 1) for 
&gt;&gt;&gt;&gt; testing and 2) so I can make a win32 distro?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; - Steph
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; ----- Original Message ----- From: "Andrei Zmievski" 
&gt;&gt;&gt;&gt; &lt;andrei@gravitonic.com&gt;
&gt;&gt;&gt;&gt; To: "Scott Mattocks" &lt;scott@crisscott.com&gt;
&gt;&gt;&gt;&gt; Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt;&gt;&gt; Sent: Wednesday, July 12, 2006 5:52 PM
&gt;&gt;&gt;&gt; Subject: Re: [PHP-GTK-DEV] Zeta?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Hey, I'm fine with releasing it if you say that notes work. Like I 
&gt;&gt;&gt;&gt;&gt; said, Steph was asking me to delay it until we had it ready..
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; On Jul 12, 2006, at 8:38 AM, Scott Mattocks wrote:
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; OK. So we have a notes system that works without any major issues. 
&gt;&gt;&gt;&gt;&gt;&gt; Can we put out a release yet? I am sure that there are changes that 
&gt;&gt;&gt;&gt;&gt;&gt; can be made to the notes system, but do they have to be made prior to 
&gt;&gt;&gt;&gt;&gt;&gt; the release? This release is just dragging on and on without any 
&gt;&gt;&gt;&gt;&gt;&gt; updates to the actual software. What are we gaining by waiting any 
&gt;&gt;&gt;&gt;&gt;&gt; longer?
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; Thanks,
&gt;&gt;&gt;&gt;&gt;&gt; Scott
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060712171240</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-07-12 17:12:40-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

Steph Fox wrote:
&gt; any useful traces. Erm, do we have any juicy bugs I could test that on? :)

README.KNOWN_ISSUES has an entry about 
GtkTreeModelFilter::set_visible_func(). Don't know if that will give you 
what you need for testing.

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060712174021</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-12 17:40:21-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

No, it doesn't. I don't have time to sit down and write test scripts, I'm 
working at present.

&gt; Steph Fox wrote:
&gt;&gt; any useful traces. Erm, do we have any juicy bugs I could test that on? 
&gt;&gt; :)
&gt;
&gt; README.KNOWN_ISSUES has an entry about 
&gt; GtkTreeModelFilter::set_visible_func(). Don't know if that will give you 
&gt; what you need for testing.
&gt;
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060713044946</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-13 04:49:46-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

http://www.php.net/~andrei/php-gtk-2.0.0zeta.tar.gz

Please test. We can release whenever, just let me know.

-Andrei


On Jul 3, 2006, at 9:00 AM, Scott Mattocks wrote:

&gt; Hello,
&gt;
&gt; It is time for my weekly nagging. I know that we are waiting for  
&gt; the manual notes to be restored before releasing but at this point  
&gt; I think we are doing more harm than good. The manual notes are not  
&gt; going to make or break the success of the release, but the longer  
&gt; we hold off the more interest dies down. The purpose of the release  
&gt; is to generate interest and therefore help for development and  
&gt; documentation.
&gt;
&gt; Can we please release php-gtk2.0.0zeta this week with or without  
&gt; the manual notes?
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060713045317</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-13 04:53:17-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

Fast coming up to my bedtime, I'll start off builds here when I next wake. 
(So that'll be 'release tomorrow or very shortly afterwards', for all you 
non-Europeans out there!)

- Steph (nocturnal Steph at present)


&gt; http://www.php.net/~andrei/php-gtk-2.0.0zeta.tar.gz
&gt;
&gt; Please test. We can release whenever, just let me know.
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Jul 3, 2006, at 9:00 AM, Scott Mattocks wrote:
&gt;
&gt;&gt; Hello,
&gt;&gt;
&gt;&gt; It is time for my weekly nagging. I know that we are waiting for  the 
&gt;&gt; manual notes to be restored before releasing but at this point  I think 
&gt;&gt; we are doing more harm than good. The manual notes are not  going to make 
&gt;&gt; or break the success of the release, but the longer  we hold off the more 
&gt;&gt; interest dies down. The purpose of the release  is to generate interest 
&gt;&gt; and therefore help for development and  documentation.
&gt;&gt;
&gt;&gt; Can we please release php-gtk2.0.0zeta this week with or without  the 
&gt;&gt; manual notes?
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Scott
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060713130014</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-07-13 13:00:14-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

Andrei Zmievski wrote:
&gt; http://www.php.net/~andrei/php-gtk-2.0.0zeta.tar.gz
&gt; 
&gt; Please test. We can release whenever, just let me know.

Tested on FC4 with no problems.

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060713131155</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-07-13 13:11:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

Sorry. More details.

Tested build process (./buildconf; ./configure --enable-debug; make; 
sudo make install)
- No errors reported (except for when I initially built without debug 
and tried to run the demo).

Tested demos/phpgtk2-demo.php
- Tested all items in the demo and all pages for each item.
- No errors reported.
- Everything functioned as it should.

If there is anything else that needs to be tested please let me know.

Scott Mattocks wrote:
&gt; Andrei Zmievski wrote:
&gt;&gt; http://www.php.net/~andrei/php-gtk-2.0.0zeta.tar.gz
&gt;&gt;
&gt;&gt; Please test. We can release whenever, just let me know.
&gt; 
&gt; Tested on FC4 with no problems.
&gt; 
&gt; Scott
&gt; 

-- 
Scott Mattocks
Author of: Pro PHP-GTK
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060713160319</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-13 16:03:19-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>


On Jul 13, 2006, at 6:11 AM, Scott Mattocks wrote:

&gt; Sorry. More details.
&gt;
&gt; Tested build process (./buildconf; ./configure --enable-debug; make; 
&gt; sudo make install)
&gt; - No errors reported (except for when I initially built without debug 
&gt; and tried to run the demo).

What errors did you get when you built without debug?

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060713160642</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-07-13 16:06:42-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

Andrei Zmievski wrote:
&gt; 
&gt; What errors did you get when you built without debug?

Not errors with the package. PHP wouldn't load the module because PHP 
was built with --enable-debug and the module wasn't at first. Once, I 
reconfigured with --enable-debug, all was good.

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060713162057</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-13 16:20:57-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

Ah, right. Ok, hopefully a couple more people will report in and then 
we can release.

-Andrei

P.S. Can you resend that "what's new" page you wrote?

On Jul 13, 2006, at 9:06 AM, Scott Mattocks wrote:

&gt; Andrei Zmievski wrote:
&gt;&gt; What errors did you get when you built without debug?
&gt;
&gt; Not errors with the package. PHP wouldn't load the module because PHP 
&gt; was built with --enable-debug and the module wasn't at first. Once, I 
&gt; reconfigured with --enable-debug, all was good.
&gt;
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060713162406</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-07-13 16:24:06-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

Andrei Zmievski wrote:
&gt; Ah, right. Ok, hopefully a couple more people will report in and then we 
&gt; can release.
&gt; 
&gt; -Andrei
&gt; 
&gt; P.S. Can you resend that "what's new" page you wrote?

Here you go.

Scott

["php-gtk2-features.php.txt" (text/plain)]

&lt;?php

commonHeader('PHP-GTK 2 Features');

?&gt;

&lt;h1&gt;PHP-GTK 2 Features&lt;/h1&gt;

&lt;p&gt;
PHP-GTK is an extension for the PHP programming language that implements 
language bindings for GTK+. It provides an object-oriented interface to GTK+ 
classes and functions and greatly simplifies writing client-side cross-platform
GUI applications.
&lt;/p&gt;

&lt;p&gt;
PHP-GTK 2 is the second major release of PHP-GTK. PHP-GTK 2 combines the power
of PHP 5 with the flexibility of Gtk+ 2 to allow developers to create extremely
rich desktop applications with relative ease. PHP-GTK 2 not only 
simplifies the process of building applications with PHP, but also 
provides greater flexibility and more features than its predecessor.
&lt;/p&gt;

&lt;a name="features"&gt;&lt;/a&gt;
&lt;h2&gt;Features&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;b&gt;Powerful Object Oriented Programming&lt;/b&gt;&lt;br /&gt;
Because PHP-GTK 2 is built ontop of PHP 5, it makes heavy use of the improved
object model. PHP-GTK 2 applications can implement Object Oriented practices 
such as inheritance, interfaces, overloading and exceptions.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Improved Garbage Collection&lt;/b&gt;&lt;br /&gt;
PHP-GTK 1 suffered from memory allocation issue because it was built ontop of
PHP 4, which was not designed with long running applications in mind. 
Improvements in PHP 5 have minimized memory leaks allowing for long running
applications without the fear of excessive memory consumption.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Unicode Support&lt;/b&gt;&lt;br /&gt;
Text in PHP-GTK 2 is always UTF-8 encoded making for applications which can 
easily be internationalized. PHP-GTK 2 will seamlessly handle conversion of
input and output strings based on a global code-page setting freeing the 
developer from worrying about most encoding problems.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Model-View Architecture&lt;/b&gt;&lt;br /&gt;
Gtk+ 2 implements a Model-View architecture to separate data from the display.
This allows for multiple representations of the same data in different ways and
greater control over the data itself. The separation of data from display makes
working with complex data like trees and multi-line text much easier than 
before.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Improved Graphics Support&lt;/b&gt;&lt;br /&gt;
Improvements in image support in Gtk+ 2 make displaying and manipulating images
and animations much easier with PHP-GTK 2. Aside from an extensive collection
of stock images, loading and manipulating custom images is relatively simple
when compared to working with images in PHP-GTK 1.
&lt;/li&gt;

&lt;/ul&gt;

&lt;a name="changed"&gt;&lt;/a&gt;
&lt;h2&gt;Changes&lt;/h2&gt;

&lt;p&gt;
While every attempt has been made to preserve backward compatibility whereever
possible, some backward compatibility breaks were necessary.
&lt;/p&gt;

&lt;ul&gt;

&lt;li&gt;&lt;b&gt;Exceptions&lt;/b&gt;&lt;br /&gt;
PHP-GTK 2 takes advantage of PHP 5's support for exceptions. Several widgets
may throw exceptions, normally during construction or when trying to convert
text to UTF-8.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;No More Global Constants&lt;/b&gt;&lt;br /&gt;
In PHP-GTK 1, all constants were declared in the global namespace. In PHP-GTK
2, constants are declared in the top-level classes: Gtk, Gdk, Atk, and Pango.
This means the PHP-GTK 1 constant 
&lt;pre style="display: inline;"&gt;GTK_WIN_POS_CENTER&lt;/pre&gt; is accessed as
&lt;pre style="display: inline;"&gt;Gtk::WIN_POS_CENTER&lt;/pre&gt; in PHP-GTK 2.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Creating Signal Handlers&lt;/b&gt;&lt;br /&gt;
The &lt;pre style="display: inline;"&gt;connect_object()&lt;/pre&gt; and 
&lt;pre style="display: inline;"&gt;connect_object_after()&lt;/pre&gt; methods
have been deprecated in favor of 
&lt;pre style="display: inline;"&gt;connect_simple()&lt;/pre&gt; and 
&lt;pre style="display: inline;"&gt;connect_simple_after()&lt;/pre&gt;.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Deprecated Widgets&lt;/b&gt;&lt;br /&gt;
Many widgets have been deprecated in Gtk+ 2, and therefore are also deprecated
in PHP-GTK 2. Most deprecated widgets have been replaced with more powerful
widgets that are easier to use. While most deprecated widgets will still
function as they did with PHP-GTK 1, developers are strongly encouraged to 
update their applications to use the new and improved versions.
&lt;/li&gt;

&lt;/ul&gt;

&lt;a name="more"&gt;&lt;/a&gt;
&lt;h2&gt;More&lt;/h2&gt;
&lt;p&gt;
These changes and more are covered in greater detail in the "Changes since
PHP-GTK 1" tutorial. Users looking for help with the new release are 
encouraged to read the PHP-GTK 2 manual or contact the PHP-GTK General mailing 
list.
&lt;/p&gt;

&lt;?php

commonFooter();

?&gt;




-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060713164828</emailId><senderName>"Madeleine D."</senderName><senderEmail>mmdrake@bctonline.com</senderEmail><timestampReceived>2006-07-13 16:48:28-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>


Couple things.

Is this a Win32-ready item?  Or just UX?  Are the README's valid install 
instructions?

Also, I know there were issues with FireFox fonts and I'm not sure if 
they got resolved.  But I just went to the web site to look for install 
hints and the font is painfully small on Ubuntu - 5.0.4 in this case.  
But I also have a 5.10 I can take a look at.  Firefox is 1.0.7 - which I 
think is the latest for Ubuntu.

Checked in with one of our NT 4.0/Firefox (1.0.7) boxes and it's okay 
font-wise.

Madeleine D.



Andrei Zmievski wrote:

&gt; http://www.php.net/~andrei/php-gtk-2.0.0zeta.tar.gz
&gt;
&gt; Please test. We can release whenever, just let me know.
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Jul 3, 2006, at 9:00 AM, Scott Mattocks wrote:
&gt;
&gt;&gt; Hello,
&gt;&gt;
&gt;&gt; It is time for my weekly nagging. I know that we are waiting for  the 
&gt;&gt; manual notes to be restored before releasing but at this point  I 
&gt;&gt; think we are doing more harm than good. The manual notes are not  
&gt;&gt; going to make or break the success of the release, but the longer  we 
&gt;&gt; hold off the more interest dies down. The purpose of the release  is 
&gt;&gt; to generate interest and therefore help for development and  
&gt;&gt; documentation.
&gt;&gt;
&gt;&gt; Can we please release php-gtk2.0.0zeta this week with or without  the 
&gt;&gt; manual notes?
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Scott
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060713172431</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-13 17:24:31-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>


&gt; Is this a Win32-ready item?  Or just UX?  Are the README's valid 
&gt; install instructions?

I suppose you can compile Win32 binary from the source, but I have not 
done so myself. Steph has, though. :)

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060714122916</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-07-14 12:29:16-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

Nudge.

Steph Fox wrote:
&gt; Fast coming up to my bedtime, I'll start off builds here when I next 
&gt; wake. (So that'll be 'release tomorrow or very shortly afterwards', for 
&gt; all you non-Europeans out there!)
&gt; 
&gt; - Steph (nocturnal Steph at present)
&gt; 
&gt; 
&gt;&gt; http://www.php.net/~andrei/php-gtk-2.0.0zeta.tar.gz
&gt;&gt;
&gt;&gt; Please test. We can release whenever, just let me know.
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; On Jul 3, 2006, at 9:00 AM, Scott Mattocks wrote:
&gt;&gt;
&gt;&gt;&gt; Hello,
&gt;&gt;&gt;
&gt;&gt;&gt; It is time for my weekly nagging. I know that we are waiting for  the 
&gt;&gt;&gt; manual notes to be restored before releasing but at this point  I 
&gt;&gt;&gt; think we are doing more harm than good. The manual notes are not  
&gt;&gt;&gt; going to make or break the success of the release, but the longer  we 
&gt;&gt;&gt; hold off the more interest dies down. The purpose of the release  is 
&gt;&gt;&gt; to generate interest and therefore help for development and  
&gt;&gt;&gt; documentation.
&gt;&gt;&gt;
&gt;&gt;&gt; Can we please release php-gtk2.0.0zeta this week with or without  the 
&gt;&gt;&gt; manual notes?
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks,
&gt;&gt;&gt; Scott
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt;
&gt; 

-- 
Scott Mattocks
Author of: Pro PHP-GTK
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060714160821</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-14 16:08:21-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

Hope she's okay, being in Israel and all that..

On Jul 14, 2006, at 5:29 AM, Scott Mattocks wrote:

&gt; Nudge.
&gt;
&gt; Steph Fox wrote:
&gt;&gt; Fast coming up to my bedtime, I'll start off builds here when I next 
&gt;&gt; wake. (So that'll be 'release tomorrow or very shortly afterwards', 
&gt;&gt; for all you non-Europeans out there!)
&gt;&gt; - Steph (nocturnal Steph at present)
&gt;&gt;&gt; http://www.php.net/~andrei/php-gtk-2.0.0zeta.tar.gz
&gt;&gt;&gt;
&gt;&gt;&gt; Please test. We can release whenever, just let me know.
&gt;&gt;&gt;
&gt;&gt;&gt; -Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060714162856</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-14 16:28:56-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

Yep, sorry, that was a long-range rocket the Hezbollah threw at Haifa. It's 
the thought of the other 499 long-range rockets they're known to have that 
had me a bit bothered.

Seems the Haifa hit was a one-off, so I'll sort out the site and get those 
builds done now.

- Steph


&gt; Hope she's okay, being in Israel and all that..
&gt;
&gt; On Jul 14, 2006, at 5:29 AM, Scott Mattocks wrote:
&gt;
&gt;&gt; Nudge.
&gt;&gt;
&gt;&gt; Steph Fox wrote:
&gt;&gt;&gt; Fast coming up to my bedtime, I'll start off builds here when I next 
&gt;&gt;&gt; wake. (So that'll be 'release tomorrow or very shortly afterwards', for 
&gt;&gt;&gt; all you non-Europeans out there!)
&gt;&gt;&gt; - Steph (nocturnal Steph at present)
&gt;&gt;&gt;&gt; http://www.php.net/~andrei/php-gtk-2.0.0zeta.tar.gz
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Please test. We can release whenever, just let me know.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060715053024</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-15 05:30:24-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

tokenizer's built-in for the win32 distribution, so better put that in the 
*nix readme file...



&gt;&gt; I don't have GPG at work. Is this really secret?
&gt;
&gt; Er, No! I'm new to Apple Mail, seems like it auto signs/encrypts my 
&gt; messages :)
&gt;
&gt; Reposting:
&gt;
&gt;
&gt;&gt; http://www.php.net/~andrei/php-gtk-2.0.0zeta.tar.gz
&gt;&gt;
&gt;&gt; Please test. We can release whenever, just let me know.
&gt;&gt;
&gt;
&gt; Tested on Gentoo. Core and all extensions (Scintilla, Mozembed and 
&gt; SourceView) working fine :)
&gt;
&gt; A bunch of warnings are generated during compile-time, but thats  nothing 
&gt; new...
&gt;
&gt; On Mac OS X, everything compiles Ok, but its the Linker that created 
&gt; trouble:
&gt;
&gt; /usr/bin/ld: Multiple declaration for __global_arrays
&gt;
&gt; But that's most likely a problem with my configuration, since Andrei  and 
&gt; a few others have compiled on the Mac.
&gt;
&gt; One last thing, I think we should mention the extension requirements  for 
&gt; PHP. I could not run the PHP-GTK 2 demo without the tokenizer  extension 
&gt; (tokens_get_all())
&gt;
&gt; So we're good to go now? :)
&gt;
&gt; - Anant
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060715053050</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-07-15 05:30:50-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>


&gt; I don't have GPG at work. Is this really secret?

Er, No! I'm new to Apple Mail, seems like it auto signs/encrypts my  
messages :)

Reposting:


&gt; http://www.php.net/~andrei/php-gtk-2.0.0zeta.tar.gz
&gt;
&gt; Please test. We can release whenever, just let me know.
&gt;

Tested on Gentoo. Core and all extensions (Scintilla, Mozembed and  
SourceView) working fine :)

A bunch of warnings are generated during compile-time, but thats  
nothing new...

On Mac OS X, everything compiles Ok, but its the Linker that created  
trouble:

/usr/bin/ld: Multiple declaration for __global_arrays

But that's most likely a problem with my configuration, since Andrei  
and a few others have compiled on the Mac.

One last thing, I think we should mention the extension requirements  
for PHP. I could not run the PHP-GTK 2 demo without the tokenizer  
extension (tokens_get_all())

So we're good to go now? :)

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060715073002</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-15 07:30:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

Will do. Are we ready otherwise?

-Andrei


On Jul 14, 2006, at 10:30 PM, Steph Fox wrote:

&gt; tokenizer's built-in for the win32 distribution, so better put that  
&gt; in the *nix readme file...
&gt;
&gt;
&gt;
&gt;&gt;&gt; I don't have GPG at work. Is this really secret?
&gt;&gt;
&gt;&gt; Er, No! I'm new to Apple Mail, seems like it auto signs/encrypts  
&gt;&gt; my messages :)
&gt;&gt;
&gt;&gt; Reposting:
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; http://www.php.net/~andrei/php-gtk-2.0.0zeta.tar.gz
&gt;&gt;&gt;
&gt;&gt;&gt; Please test. We can release whenever, just let me know.
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; Tested on Gentoo. Core and all extensions (Scintilla, Mozembed and  
&gt;&gt; SourceView) working fine :)
&gt;&gt;
&gt;&gt; A bunch of warnings are generated during compile-time, but thats   
&gt;&gt; nothing new...
&gt;&gt;
&gt;&gt; On Mac OS X, everything compiles Ok, but its the Linker that  
&gt;&gt; created trouble:
&gt;&gt;
&gt;&gt; /usr/bin/ld: Multiple declaration for __global_arrays
&gt;&gt;
&gt;&gt; But that's most likely a problem with my configuration, since  
&gt;&gt; Andrei  and a few others have compiled on the Mac.
&gt;&gt;
&gt;&gt; One last thing, I think we should mention the extension  
&gt;&gt; requirements  for PHP. I could not run the PHP-GTK 2 demo without  
&gt;&gt; the tokenizer  extension (tokens_get_all())
&gt;&gt;
&gt;&gt; So we're good to go now? :)
&gt;&gt;
&gt;&gt; - Anant
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060715073453</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-15 07:34:53-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

Yeah, mine are already sitting in CVS.

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "Anant Narayanan" &lt;anant@kix.in&gt;; &lt;php-gtk-dev@lists.php.net&gt;
Sent: Saturday, July 15, 2006 9:30 AM
Subject: Re: [PHP-GTK-DEV] Zeta?


&gt; Will do. Are we ready otherwise?
&gt; 
&gt; -Andrei
&gt; 
&gt; 
&gt; On Jul 14, 2006, at 10:30 PM, Steph Fox wrote:
&gt; 
&gt;&gt; tokenizer's built-in for the win32 distribution, so better put that  
&gt;&gt; in the *nix readme file...
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt;&gt; I don't have GPG at work. Is this really secret?
&gt;&gt;&gt;
&gt;&gt;&gt; Er, No! I'm new to Apple Mail, seems like it auto signs/encrypts  
&gt;&gt;&gt; my messages :)
&gt;&gt;&gt;
&gt;&gt;&gt; Reposting:
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; http://www.php.net/~andrei/php-gtk-2.0.0zeta.tar.gz
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Please test. We can release whenever, just let me know.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Tested on Gentoo. Core and all extensions (Scintilla, Mozembed and  
&gt;&gt;&gt; SourceView) working fine :)
&gt;&gt;&gt;
&gt;&gt;&gt; A bunch of warnings are generated during compile-time, but thats   
&gt;&gt;&gt; nothing new...
&gt;&gt;&gt;
&gt;&gt;&gt; On Mac OS X, everything compiles Ok, but its the Linker that  
&gt;&gt;&gt; created trouble:
&gt;&gt;&gt;
&gt;&gt;&gt; /usr/bin/ld: Multiple declaration for __global_arrays
&gt;&gt;&gt;
&gt;&gt;&gt; But that's most likely a problem with my configuration, since  
&gt;&gt;&gt; Andrei  and a few others have compiled on the Mac.
&gt;&gt;&gt;
&gt;&gt;&gt; One last thing, I think we should mention the extension  
&gt;&gt;&gt; requirements  for PHP. I could not run the PHP-GTK 2 demo without  
&gt;&gt;&gt; the tokenizer  extension (tokens_get_all())
&gt;&gt;&gt;
&gt;&gt;&gt; So we're good to go now? :)
&gt;&gt;&gt;
&gt;&gt;&gt; - Anant
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060715183818</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-15 18:38:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

Okay, zeta is out. I have to go organize my party for tonight now.  
Cheers.

-Andrei


On Jul 15, 2006, at 12:34 AM, Steph Fox wrote:

&gt; Yeah, mine are already sitting in CVS.
&gt;
&gt; ----- Original Message ----- From: "Andrei Zmievski"  
&gt; &lt;andrei@gravitonic.com&gt;
&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt; Cc: "Anant Narayanan" &lt;anant@kix.in&gt;; &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Saturday, July 15, 2006 9:30 AM
&gt; Subject: Re: [PHP-GTK-DEV] Zeta?
&gt;
&gt;
&gt;&gt; Will do. Are we ready otherwise?
&gt;&gt; -Andrei
&gt;&gt; On Jul 14, 2006, at 10:30 PM, Steph Fox wrote:
&gt;&gt;&gt; tokenizer's built-in for the win32 distribution, so better put  
&gt;&gt;&gt; that  in the *nix readme file...
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; I don't have GPG at work. Is this really secret?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Er, No! I'm new to Apple Mail, seems like it auto signs/ 
&gt;&gt;&gt;&gt; encrypts  my messages :)
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Reposting:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; http://www.php.net/~andrei/php-gtk-2.0.0zeta.tar.gz
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Please test. We can release whenever, just let me know.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Tested on Gentoo. Core and all extensions (Scintilla, Mozembed  
&gt;&gt;&gt;&gt; and  SourceView) working fine :)
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; A bunch of warnings are generated during compile-time, but  
&gt;&gt;&gt;&gt; thats   nothing new...
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; On Mac OS X, everything compiles Ok, but its the Linker that   
&gt;&gt;&gt;&gt; created trouble:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; /usr/bin/ld: Multiple declaration for __global_arrays
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; But that's most likely a problem with my configuration, since   
&gt;&gt;&gt;&gt; Andrei  and a few others have compiled on the Mac.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; One last thing, I think we should mention the extension   
&gt;&gt;&gt;&gt; requirements  for PHP. I could not run the PHP-GTK 2 demo  
&gt;&gt;&gt;&gt; without  the tokenizer  extension (tokens_get_all())
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; So we're good to go now? :)
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; - Anant
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060716195338</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-07-16 19:53:38-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>


&gt; Okay, zeta is out. I have to go organize my party for tonight now.  
&gt; Cheers.

w00t, at long last. Cheers all for an absolutely marvelous job! :-D

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060716200534</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-16 20:05:34-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>

Lag? :)
 
&gt;&gt; Okay, zeta is out. I have to go organize my party for tonight now.  
&gt;&gt; Cheers.
&gt; 
&gt; w00t, at long last. Cheers all for an absolutely marvelous job! :-D
&gt; 
&gt; - Anant
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060716191041</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-16 19:10:41-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-GTK2 Zeta on Windows</subject><body>

Try GtkClipboard::get().

----- Original Message ----- 
From: "Ronald Vincent Tarrant" &lt;rontarrant@sympatico.ca&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Sunday, July 16, 2006 9:00 PM
Subject: [PHP-GTK-DEV] PHP-GTK2 Zeta on Windows


&gt; Hi all,
&gt; 
&gt; I just did a quick test of a short php-gtk script that uses a 
&gt; GtkClipboard on both Windows and Linux. Under Linux, no problem. Under 
&gt; Windows, the call:
&gt; 
&gt; gtk::clipboard_get();
&gt; 
&gt; Evokes this error:
&gt; 
&gt; "PHP Fatal error:  Call to undefined method Gtk::clipboard_get() in 
&gt; clipboard.php on line 40"
&gt; 
&gt; This worked with Christien's Gnope update 1.2.2, but with zeta, it's a 
&gt; no-go.
&gt; 
&gt; Because this error comes up when the above is the only line in a script, 
&gt; I don't think the rest of the code is relevant, so I haven't reproduced 
&gt; it here.
&gt; 
&gt; 
&gt; Take care.
&gt; 
&gt; -Ron T.
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710175555</emailId><senderName>Cory Christison</senderName><senderEmail>cory.christison@gmail.com</senderEmail><timestampReceived>2006-07-10 17:55:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

Hi there,

    I'm not very active in the PHP community or anything, but I have 
been following this list since Nov. 19th, 2005. :-)

    Your font-size issue seems to be how you set your font-sizes. To my 
knowledge, percent's are not very cross plat-form and are rendered 
differently. I would suggest changing them to em's. If you are unsure 
how em's, work, they are very similar to percents. Eg:
       body
       {
           font-size: 0.8em;
       }

    Would be similar to using 80%. :-)

    Just thought I'd throw in my two cent's... I don't know if that is 
the exact problem, but it's worth a shot. :-)

 - Cory Christison


Steph Fox wrote:
&gt;&gt; Thanks Steph. It seems to be working well. I have two comments though:
&gt;
&gt; Hey Scott, thanks for testing!
&gt;
&gt;&gt; 1) One of your changes seems to have made the text on the entire site 
&gt;&gt; shrink way down in FireFox (Linux). I know we had this issue before 
&gt;&gt; and I think it may have had something to do with the doctype, but I 
&gt;&gt; can't remember exactly.
&gt;
&gt; Note that I haven't changed the doctype - I just made it legal. I have 
&gt; vague memories of a Firefox/char issue being related to that before 
&gt; too, but I'm fairly sure it wasn't HTML 4.01 transitional that exposed 
&gt; it... didn't we try to move to strict or xhtml or something?  Also 
&gt; Firefox - a deal more mature now than it was at the time - is probably 
&gt; the most standards-compliant browser there is. If it's having problems 
&gt; with 4.01 transitional it's most likely because we're doing something 
&gt; wrong, not because we're doing something right.
&gt;
&gt; One of the things the validator complained about was that the 
&gt; stylesheet 'links'. Given that it also complained about the doctype 
&gt; declaration (and that fixing that gave us back utf-8 encoding), is it 
&gt; possible that the two stylesheets we use were loading in a different 
&gt; order or something?
&gt;
&gt; I've a long list of CSS 1 validation failures I haven't even had time 
&gt; to look at yet, also via w3c's validator. Attached are both 
&gt; stylesheets with the warnings out-commented at the bottom.
&gt;
&gt; Rasmus went over the notes with his Famous Tool [TM] in the wee small 
&gt; hours and reported a bunch of XSS holes I need to fix before we get 
&gt; anywhere near putting them live. Also as you'll have spotted Andrei 
&gt; has some reservations about the email address 'test mode' cookie, so I 
&gt; think we'll need to change the system to use php.net addresses, but I 
&gt; don't know how happy ezmls will be about that yet. (I've had issues 
&gt; with directing php list mail to my php.net addy in the past.)
&gt;
&gt; I really, really need to focus on paid work this week - if someone 
&gt; else can fiddle with the stylesheets/headers and manage to retain 
&gt; valid HTML, utf-8 headers and normal fonts for Firefox all at once, 
&gt; please get on it!
&gt;
&gt; - Steph
&gt;
&gt;&gt; 2) Anyone with php-gtk-web karma can give themselves access to the 
&gt;&gt; restricted areas. I am not sure if that is really a concern though 
&gt;&gt; since it doesn't look like you can really do that much damage. Plus, 
&gt;&gt; if they have been granted web karma, hopefully we can trust them not 
&gt;&gt; to do anything stupid.
&gt;
&gt; Anyone with php-gtk-web karma who alters a file in CVS to give 
&gt; themselves access to the restricted areas will be doing so publicly 
&gt; and have it on record for all time.  My deep and
&gt;
&gt;&gt;
&gt;&gt; Steph Fox wrote:
&gt;&gt;&gt; OK people, I have worked my boobies off over the last few days and 
&gt;&gt;&gt; hopefully everything will 'just work' now. Please go in and test it, 
&gt;&gt;&gt; it's at least 5000 times as secure as php.net so I'm ignoring Andrei 
&gt;&gt;&gt; over this :)
&gt;&gt;&gt;
&gt;&gt;&gt; The login page is at http://gtk.php.net/admin-login.php, use your 
&gt;&gt;&gt; php.net credentials.
&gt;&gt;&gt;
&gt;&gt;&gt; Docteam regulars should be able to get into the 'test' area without 
&gt;&gt;&gt; any problem, but nowhere else restricted. If you find you can reach 
&gt;&gt;&gt; something you shouldn't be able to reach, please let me know(!). 
&gt;&gt;&gt; Also if you can't reach something you think you should be able to, 
&gt;&gt;&gt; of course.
&gt;&gt;&gt;
&gt;&gt;&gt; 'Test' means you get your own temporary database (a copy of the 
&gt;&gt;&gt; original) to mess around with. It also means that, for the time 
&gt;&gt;&gt; being at least, the email address you use when testing it will be 
&gt;&gt;&gt; held as plain text in a cookie on your box for the duration - even 
&gt;&gt;&gt; if our outgoing mail's switched off at the time. So please log out 
&gt;&gt;&gt; when you're done playi^H^H^H^H^Hlearning the system!
&gt;&gt;&gt;
&gt;&gt;&gt; If it all screws up and we lose the db over the next day or two it's 
&gt;&gt;&gt; ok, I still have a virgin backup of the original notes here. However 
&gt;&gt;&gt; if the mail's still switched off you probably won't get to add 
&gt;&gt;&gt; anything to that anyway, there's a queuing system (as you'll see) 
&gt;&gt;&gt; that waits for the mail to go through to the list. (It's just a 
&gt;&gt;&gt; cheap way of making sure we have a report before our db falls apart.)
&gt;&gt;&gt;
&gt;&gt;&gt; Feedback is welcome so long as you don't all shout at once..
&gt;&gt;&gt;
&gt;&gt;&gt; - Steph
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Scott Mattocks
&gt;&gt; Author of: Pro PHP-GTK
&gt;&gt; http://www.crisscott.com
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt;
&gt; /* * $Id: style-highlight.css,v 1.5 2006/04/08 07:36:23 andrei Exp $
&gt; */
&gt;
&gt; .phpcode {
&gt; font-family: monospace, 'Courier New', Courier;
&gt; font-size: 90%;
&gt; }
&gt; .phpcode .kw1 {
&gt; color: #d09010; font-weight: bold
&gt; }
&gt; .phpcode .kw2 {
&gt; color: #000000; font-weight: bold;
&gt; }
&gt; .phpcode .kw3 {
&gt; color: #000066; font-weight: bold;
&gt; }
&gt; .phpcode .co1 {
&gt; color: #808080; font-style: italic;
&gt; }
&gt; .phpcode .co2 {
&gt; color: #808080; font-style: italic;
&gt; }
&gt; .phpcode .coMULTI {
&gt; color: #808080; font-style: italic;
&gt; }
&gt; .phpcode .es0 {
&gt; color: green; font-weight: bold;
&gt; }
&gt; .phpcode .br0 {
&gt; color: #404040
&gt; }
&gt; .phpcode .st0 {
&gt; color: green
&gt; }
&gt; .phpcode .nu0 {
&gt; color: #6600cc
&gt; }
&gt; .phpcode .me0 {
&gt; color: black; font-style: italic
&gt; }
&gt; .phpcode .re0 {
&gt; color: #004090
&gt; }
&gt;
&gt; /*
&gt; * Local variables:
&gt; * tab-width: 4
&gt; * c-basic-offset: 4
&gt; * End:
&gt; * vim: expandtab sw=4 ts=4 fdm=marker
&gt; */
&gt;
&gt; /*
&gt; URI : file://localhost/C:\sandbox\php-gtk-web\style-highlight.css
&gt; Line : 10 (Level : 1) You have no background-color with your color : 
&gt; .phpcode .kw1 Line : 13 (Level : 1) You have no background-color with 
&gt; your color : .phpcode .kw2 Line : 16 (Level : 1) You have no 
&gt; background-color with your color : .phpcode .kw3 Line : 19 (Level : 1) 
&gt; You have no background-color with your color : .phpcode .co1 Line : 22 
&gt; (Level : 1) You have no background-color with your color : .phpcode 
&gt; .co2 Line : 25 (Level : 1) You have no background-color with your 
&gt; color : .phpcode .coMULTI Line : 28 (Level : 1) You have no 
&gt; background-color with your color : .phpcode .es0 Line : 31 (Level : 1) 
&gt; You have no background-color with your color : .phpcode .br0 Line : 34 
&gt; (Level : 1) You have no background-color with your color : .phpcode 
&gt; .st0 Line : 37 (Level : 1) You have no background-color with your 
&gt; color : .phpcode .nu0 Line : 40 (Level : 1) You have no 
&gt; background-color with your color : .phpcode .me0 Line : 43 (Level : 1) 
&gt; You have no background-color with your color : .phpcode .re0 */
&gt; /* * $Id: style.css,v 1.19 2006/04/15 04:57:16 cweiske Exp $
&gt; */
&gt;
&gt; /* Let no border around the body appear, and set
&gt;   it to display on a white background */
&gt; body, html {
&gt;    margin: 0px;
&gt;    padding: 0px;
&gt;    background-color: #FFFFFF;
&gt; }
&gt;
&gt; /* Font settings for page elements */
&gt; body, ul, td, th, p, h1, h2, h3, h4, dt, small, .small,
&gt; .tableTitle, .tableExtras, input, textarea, select {
&gt;    font-family: Verdana, Arial, Helvetica, sans-serif;
&gt; }
&gt; code, pre, tt {
&gt;    font-family: Courier, "Courier New", monospace;
&gt; }
&gt;
&gt; /* Default font size for elements */
&gt; body, ul, td, th {
&gt;    font-size: 85%;
&gt; }
&gt;
&gt; li {
&gt;    padding-top: 3px;
&gt;    padding-bottom: 3px;
&gt; }
&gt;
&gt; em {
&gt;    font-weight: bold;
&gt;    font-style: italic;
&gt; }
&gt;
&gt; acronym {
&gt;    border-bottom: 1px dashed #00cc00;
&gt;    cursor: help;
&gt; }
&gt;
&gt; .newsDate {
&gt;    font-size: 75%;
&gt;    font-style: italic;
&gt;    color: #6666CC;
&gt; }
&gt;
&gt; .sidebar {
&gt;     font-size: 80%;
&gt;     padding: 5px;
&gt; }
&gt;
&gt; .sidebar p {
&gt;     text-align: left !important;
&gt; }
&gt;
&gt; a.menuWhite {
&gt;    font-size: 75%;
&gt;    color: #FFFFFF;
&gt;    text-decoration: none;
&gt; }
&gt;
&gt; a.menuBlack {
&gt;    font-size: 75%;
&gt;    color: #000000;
&gt;    text-decoration: none;
&gt; }
&gt;
&gt; pre, code {
&gt;    font-size: 80%;
&gt; }
&gt;
&gt; pre.code {
&gt;    background-color: #F0F0F0;
&gt; }
&gt;
&gt; /* General header styles */
&gt; h1, h2, h3, h4, dt {
&gt;    font-weight: bold;
&gt;    color: #000066;
&gt; }
&gt; h1 { font-size: 130%; }
&gt; h2 { font-size: 125%; }
&gt; h3, dt { font-size: 110%; }
&gt; h4 {
&gt;    font-size: 90%;
&gt;    padding-top: 0px;
&gt;    padding-bottom: 0px;
&gt; }
&gt;
&gt; blockquote {
&gt;    margin-left: 12px;
&gt; }
&gt;
&gt; small {
&gt;    font-size: 75%;
&gt; }
&gt;
&gt; a.small {
&gt;    font-size: 75%;
&gt;    text-decoration: none;
&gt; }
&gt;
&gt; .tableTitle {
&gt;    font-weight: bold;
&gt; }
&gt;
&gt; .tableExtras {
&gt;    font-size: 85%;
&gt;    color: #FFFFFF;
&gt; }
&gt;
&gt; input.small, select.small {
&gt;    font-size: 75%;
&gt; }
&gt;
&gt; textarea.small {
&gt;    font-size: 75%;
&gt; }
&gt;
&gt; .programlisting {
&gt;    display: block;
&gt;    width: 100%;
&gt;    background-color: #E0E0E0
&gt; }
&gt;
&gt; hr {
&gt;    border: 0px;
&gt;    color: black;
&gt;    background-color: black;
&gt;    height: 1px;
&gt; }
&gt;
&gt; #docsupdates h3 {
&gt;    margin-top: 0px;
&gt; }
&gt;
&gt; /*
&gt; * Local variables:
&gt; * tab-width: 4
&gt; * c-basic-offset: 4
&gt; * End:
&gt; * vim: expandtab sw=4 ts=4 fdm=marker
&gt; */
&gt;
&gt;
&gt; /*
&gt;
&gt; URI : file://localhost/C:\sandbox\php-gtk-web\style.css
&gt; Line : 10 (Level : 1) You have no color with your background-color : 
&gt; html Line : 10 (Level : 1) You have no color with your 
&gt; background-color : html Line : 45 (Level : 1) You have no 
&gt; background-color with your color : .newsDate Line : 59 (Level : 1) 
&gt; Same colors for color and background-color in two contexts html and 
&gt; a.menuWhite Line : 59 (Level : 1) Same colors for color and 
&gt; background-color in two contexts html and a.menuWhite Line : 59 (Level 
&gt; : 1) You have no background-color with your color : a.menuWhite Line : 
&gt; 65 (Level : 1) You have no background-color with your color : 
&gt; a.menuBlack Line : 74 (Level : 1) You have no color with your 
&gt; background-color : pre.code Line : 80 (Level : 1) You have no 
&gt; background-color with your color : dt Line : 80 (Level : 1) You have 
&gt; no background-color with your color : dt Line : 80 (Level : 1) You 
&gt; have no background-color with your color : dt Line : 80 (Level : 1) 
&gt; You have no background-color with your color : dt Line : 80 (Level : 
&gt; 1) You have no background-color with your color : dt Line : 110 (Level 
&gt; : 1) Same colors for color and background-color in two contexts html 
&gt; and .tableExtras Line : 110 (Level : 1) You have no background-color 
&gt; with your color : .tableExtras Line : 110 (Level : 1) Same colors for 
&gt; color and background-color in two contexts html and .tableExtras Line 
&gt; : 124 (Level : 1) You have no color with your background-color : 
&gt; .programlisting Line : 130 (Level : 1) Same colors for 
&gt; background-color and color : hr
&gt; */
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710180006</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-07-10 18:00:06-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

Cory Christison wrote:
&gt;    Just thought I'd throw in my two cent's... I don't know if that is 
&gt; the exact problem, but it's worth a shot. :-)

Thanks Cory. I was just about to commit the new style sheet using em 
when your message came in :)

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710181132</emailId><senderName>Jp</senderName><senderEmail>jp@jp-corner.uni.cc</senderEmail><timestampReceived>2006-07-10 18:11:32-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

Hey! Just a quick resurrection, I'll return to '$dead = TRUE' in a minute.
IMHO, this is it:

 &gt; /* Default font size for elements */
 &gt; body, ul, td, th {
 &gt;     font-size: 85%;
 &gt; }

TD is 85% of body, which already is 85%. Shrinks twice. This only 
happens when firefox is in "Standards compliance mode", and that's in 
gtk.php.net with the fixed dtd. With the same dtd as php.net the browser 
renders in "Quirks mode", that oddly (or not) sets the font-size as wanted.

Or, I'm just talking rubbish...

Jp

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710181755</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-10 18:17:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

&gt; Hey! Just a quick resurrection, I'll return to '$dead = TRUE' in a minute.

Yeah, where've you been anyway?

&gt; IMHO, this is it:
&gt;
&gt; &gt; /* Default font size for elements */
&gt; &gt; body, ul, td, th {
&gt; &gt;     font-size: 85%;
&gt; &gt; }
&gt;
&gt; TD is 85% of body, which already is 85%. Shrinks twice. This only happens 
&gt; when firefox is in "Standards compliance mode", and that's in gtk.php.net 
&gt; with the fixed dtd. With the same dtd as php.net the browser renders in 
&gt; "Quirks mode", that oddly (or not) sets the font-size as wanted.
&gt;
&gt; Or, I'm just talking rubbish...

Let's wait an hour or so and see if Scott and Cory's ideas worked :)

Thanks!

- Steph

&gt;
&gt; Jp
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710185052</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-07-10 18:50:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

Steph Fox wrote:
&gt; Let's wait an hour or so and see if Scott and Cory's ideas worked :)

Attempt #1 didn't work (although it did get rid of 6 validation errors). 
I'll give Jp's change a shot.

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710185545</emailId><senderName>Cory Christison</senderName><senderEmail>cory.christison@gmail.com</senderEmail><timestampReceived>2006-07-10 18:55:45-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

Hey,

    I decided to do some quick testing and it seems to work fine with 
the adjustments that I made.

    Check it out: http://dev.lavacube.com/gtk.php/

    Adjusted stylesheet: http://dev.lavacube.com/gtk.php/style.css

    I tested in Firefox/Opera/Konqueror on Linux and Firefox/Opera/IE on 
Windows XP -- all seems well with these changes.

 - Cory Christison


Steph Fox wrote:
&gt;&gt; Hey! Just a quick resurrection, I'll return to '$dead = TRUE' in a 
&gt;&gt; minute.
&gt;
&gt; Yeah, where've you been anyway?
&gt;
&gt;&gt; IMHO, this is it:
&gt;&gt;
&gt;&gt; &gt; /* Default font size for elements */
&gt;&gt; &gt; body, ul, td, th {
&gt;&gt; &gt;     font-size: 85%;
&gt;&gt; &gt; }
&gt;&gt;
&gt;&gt; TD is 85% of body, which already is 85%. Shrinks twice. This only 
&gt;&gt; happens when firefox is in "Standards compliance mode", and that's in 
&gt;&gt; gtk.php.net with the fixed dtd. With the same dtd as php.net the 
&gt;&gt; browser renders in "Quirks mode", that oddly (or not) sets the 
&gt;&gt; font-size as wanted.
&gt;&gt;
&gt;&gt; Or, I'm just talking rubbish...
&gt;
&gt; Let's wait an hour or so and see if Scott and Cory's ideas worked :)
&gt;
&gt; Thanks!
&gt;
&gt; - Steph
&gt;
&gt;&gt;
&gt;&gt; Jp
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710190915</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-10 19:09:15-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

Looks good under MSIE too (apologies for swearing)

----- Original Message ----- 
From: "Cory Christison" &lt;cory.christison@gmail.com&gt;
Cc: "Scott Mattocks" &lt;scott@crisscott.com&gt;; "PHP-GTK Dev list" 
&lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, July 10, 2006 8:55 PM
Subject: Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!


&gt; Hey,
&gt;
&gt;    I decided to do some quick testing and it seems to work fine with the 
&gt; adjustments that I made.
&gt;
&gt;    Check it out: http://dev.lavacube.com/gtk.php/
&gt;
&gt;    Adjusted stylesheet: http://dev.lavacube.com/gtk.php/style.css
&gt;
&gt;    I tested in Firefox/Opera/Konqueror on Linux and Firefox/Opera/IE on 
&gt; Windows XP -- all seems well with these changes.
&gt;
&gt; - Cory Christison
&gt;
&gt;
&gt; Steph Fox wrote:
&gt;&gt;&gt; Hey! Just a quick resurrection, I'll return to '$dead = TRUE' in a 
&gt;&gt;&gt; minute.
&gt;&gt;
&gt;&gt; Yeah, where've you been anyway?
&gt;&gt;
&gt;&gt;&gt; IMHO, this is it:
&gt;&gt;&gt;
&gt;&gt;&gt; &gt; /* Default font size for elements */
&gt;&gt;&gt; &gt; body, ul, td, th {
&gt;&gt;&gt; &gt;     font-size: 85%;
&gt;&gt;&gt; &gt; }
&gt;&gt;&gt;
&gt;&gt;&gt; TD is 85% of body, which already is 85%. Shrinks twice. This only 
&gt;&gt;&gt; happens when firefox is in "Standards compliance mode", and that's in 
&gt;&gt;&gt; gtk.php.net with the fixed dtd. With the same dtd as php.net the browser 
&gt;&gt;&gt; renders in "Quirks mode", that oddly (or not) sets the font-size as 
&gt;&gt;&gt; wanted.
&gt;&gt;&gt;
&gt;&gt;&gt; Or, I'm just talking rubbish...
&gt;&gt;
&gt;&gt; Let's wait an hour or so and see if Scott and Cory's ideas worked :)
&gt;&gt;
&gt;&gt; Thanks!
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Jp
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710193515</emailId><senderName>Jp</senderName><senderEmail>jp@jp-corner.uni.cc</senderEmail><timestampReceived>2006-07-10 19:35:15-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

Cory Christison wrote:
&gt; Hey,
&gt; 
&gt; I decided to do some quick testing and it seems to work fine with the 
&gt; adjustments that I made.
&gt; 

Hey, you *cheated*! You just increased the font-size (previously 85, now 
95), which works as a quick fix, although it's not the way I'd go about it.
The problem is that every element inherits this decrease, so nested 
stuff will keep getting smaller and smaller. Since you "decreased the 
decrease" (85 to 95) it's not as obvious as it was before, but the 
problem is still there. To prove my point, try the following with your 
stylesheet:

&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt; \
&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt; \
&lt;tr&gt;&lt;td&gt;Big?&lt;/table&gt;&lt;/table&gt;&lt;/table&gt;&lt;/table&gt;&lt;/table&gt;&lt;/table&gt;&lt;/table&gt;&lt;/table&gt;&lt;/table&gt;&lt;/table&gt;&lt;/table&gt;&lt;/table&gt;


You may argue that 12 nested tables is not realistic, but I'm picky. 
Problems with THAT?

What I'd do is remove TD and TH (UL as well?) from this...

body, ul, td, th {
     font-size: 85%;
}

...as I don't see why this is in there in the first place. :)



Ow,

Steph wrote:
 &gt; Yeah, where've you been anyway?

Much going on right now - too much, really :(
I've been keeping an eye on the lists whenever I can, but that's it. I'm 
dying for the summer vacations...

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060710194844</emailId><senderName>Cory Christison</senderName><senderEmail>cory.christison@gmail.com</senderEmail><timestampReceived>2006-07-10 19:48:44-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

Hey Jp,

    Just tested as you suggested, and you are very right... however I 
still make the suggestion that you use "em" font-sizes for the best 
cross-browser/platform experience. :-)

    I've updated the stylesheet at http://dev.lavacube.com/gtk.php/style.css

    Hmmm... perhaps the team should shoot for XHTML 1[.0 Strict|.1] 
compliance? ;-) I am still seeing errors/warnings in HTML 4.01 
Transitional, though.

 - Cory Christison

Jp wrote:
&gt; Cory Christison wrote:
&gt; &gt; Hey,
&gt; &gt; 
&gt; &gt; I decided to do some quick testing and it seems to work fine with 
&gt; &gt; the adjustments that I made.
&gt; &gt; 
&gt; 
&gt; Hey, you *cheated*! You just increased the font-size (previously 85, 
&gt; now 95), which works as a quick fix, although it's not the way I'd go 
&gt; about it.
&gt; The problem is that every element inherits this decrease, so nested 
&gt; stuff will keep getting smaller and smaller. Since you "decreased the 
&gt; decrease" (85 to 95) it's not as obvious as it was before, but the 
&gt; problem is still there. To prove my point, try the following with your 
&gt; stylesheet:
&gt; 
&gt; &lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;t \
&gt; r&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;ta \
&gt; ble&gt;&lt;tr&gt;&lt;td&gt;Big?&lt;/table&gt;&lt;/table&gt;&lt;/table&gt;&lt;/table&gt;&lt;/table&gt;&lt;/table&gt;&lt;/table&gt;&lt;/table&gt;&lt;/table&gt;&lt;/table&gt;&lt;/table&gt;&lt;/table&gt; \
&gt;  
&gt; 
&gt; You may argue that 12 nested tables is not realistic, but I'm picky. 
&gt; Problems with THAT?
&gt; 
&gt; What I'd do is remove TD and TH (UL as well?) from this...
&gt; 
&gt; body, ul, td, th {
&gt; font-size: 85%;
&gt; }
&gt; 
&gt; ...as I don't see why this is in there in the first place. :)
&gt; 
&gt; 
&gt; 
&gt; Ow,
&gt; 
&gt; Steph wrote:
&gt; &gt; Yeah, where've you been anyway?
&gt; 
&gt; Much going on right now - too much, really :(
&gt; I've been keeping an eye on the lists whenever I can, but that's it. 
&gt; I'm dying for the summer vacations...
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060710195500</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-10 19:55:00-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

Seems unlikely it was me that stopped you since actually my erm MSIE browser 
actually _likes_ xhtml - which is precisely why I suggested that earlier (on 
the webmaster list though).

We can have the original css stylesheets and they'll render properly if we 
do that, although we'll still get a few validation warnings.

- Steph

----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: &lt;cory@lavacube.com&gt;
Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, July 10, 2006 9:55 PM
Subject: Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710195502</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-10 19:55:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>


Cory,

&gt;    Hmmm... perhaps the team should shoot for XHTML 1[.0 Strict|.1]
&gt; compliance? ;-) I am still seeing errors/warnings in HTML 4.01
&gt; Transitional, though.
That'd be great; I did that half a year or so ago - Steph stopped me
then since it looked bad on her MSIE erm, browser.

--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060711140430</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-07-11 14:04:30-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

OK. So I am trying to work through the HTML validation issues on the 
homepage and I think I have them all cleared up except for the Doc 
Updates section. The content there is generated by 
php-gtk-doc/stylesheets/html/updates.xsl.in I am no XSL expert so I 
don't want to change things for fear of breaking the build system. If 
someone who knows how to modify this file without causing other issues 
could remove "&amp;#0149;" from line 22 and the date attribute from line 
24, I would appreciate it.

Thanks,
Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060711155841</emailId><senderName></senderName><senderEmail>lists</senderEmail><timestampReceived>2006-07-11 15:58:41-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

Quoting Scott Mattocks &lt;scott@crisscott.com&gt;:

&gt; OK. So I am trying to work through the HTML validation issues on the
&gt; homepage and I think I have them all cleared up except for the Doc
&gt; Updates section. The content there is generated by
&gt; php-gtk-doc/stylesheets/html/updates.xsl.in I am no XSL expert so I
&gt; don't want to change things for fear of breaking the build system. If
&gt; someone who knows how to modify this file without causing other issues
&gt; could remove "&amp;#0149;" from line 22 and the date attribute from
&gt; line 24, I would appreciate it.
&gt;

I've got a short look into the xsl-stylesheet and the code, which is  
on gtk.php.net

So, the doc updates is an unordered list und should not be handled  
with &lt;br /&gt; in a paragraph.

A better way would be

&lt;div&gt;
&lt;h3&gt;Doc updates&lt;/h3&gt;
&lt;ul style="list-style-type:square;"&gt;
&lt;li&gt;&lt;a href=""&gt;&lt;/a&gt;
&lt;/ul&gt;
&lt;/div&gt;

so the "&amp;#0149;" could be removed.


&gt; Thanks,
&gt; Scott
&gt;

Regards

Christian

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060711160220</emailId><senderName>Christian Michel</senderName><senderEmail>lists@w-d-c.net</senderEmail><timestampReceived>2006-07-11 16:02:20-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

in addition:
I've used XML with XSL for over two years for a website build on  
XML-files and XSL-Stylesheets :)

Regards

Christian


Quoting Scott Mattocks &lt;scott@crisscott.com&gt;:

&gt; OK. So I am trying to work through the HTML validation issues on the
&gt; homepage and I think I have them all cleared up except for the Doc
&gt; Updates section. The content there is generated by
&gt; php-gtk-doc/stylesheets/html/updates.xsl.in I am no XSL expert so I
&gt; don't want to change things for fear of breaking the build system. If
&gt; someone who knows how to modify this file without causing other issues
&gt; could remove "&amp;#0149;" from line 22 and the date attribute from
&gt; line 24, I would appreciate it.
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060711160612</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-11 16:06:12-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

Please don't change that until I get a chance to look into it, it's used on 
the systems server and called by sed at some point.

&gt; Quoting Scott Mattocks &lt;scott@crisscott.com&gt;:
&gt;
&gt;&gt; OK. So I am trying to work through the HTML validation issues on the
&gt;&gt; homepage and I think I have them all cleared up except for the Doc
&gt;&gt; Updates section. The content there is generated by
&gt;&gt; php-gtk-doc/stylesheets/html/updates.xsl.in I am no XSL expert so I
&gt;&gt; don't want to change things for fear of breaking the build system. If
&gt;&gt; someone who knows how to modify this file without causing other issues
&gt;&gt; could remove "&amp;#0149;" from line 22 and the date attribute from
&gt;&gt; line 24, I would appreciate it.
&gt;&gt;
&gt;
&gt; I've got a short look into the xsl-stylesheet and the code, which is  on 
&gt; gtk.php.net
&gt;
&gt; So, the doc updates is an unordered list und should not be handled  with 
&gt; &lt;br /&gt; in a paragraph.
&gt;
&gt; A better way would be
&gt;
&gt; &lt;div&gt;
&gt; &lt;h3&gt;Doc updates&lt;/h3&gt;
&gt; &lt;ul style="list-style-type:square;"&gt;
&gt; &lt;li&gt;&lt;a href=""&gt;&lt;/a&gt;
&gt; &lt;/ul&gt;
&gt; &lt;/div&gt;
&gt;
&gt; so the "&amp;#0149;" could be removed.
&gt;
&gt;
&gt;&gt; Thanks,
&gt;&gt; Scott
&gt;&gt;
&gt;
&gt; Regards
&gt;
&gt; Christian
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060711163242</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-11 16:32:42-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

Six beats two ;)


&gt; in addition:
&gt; I've used XML with XSL for over two years for a website build on 
&gt; XML-files and XSL-Stylesheets :)

The problem isn't XSL itself, it's whatever ramifications it might have 
further up the scale. I honestly don't recall exactly what I did there, but 
I do remember writing a sed script to pull out the dates from the generated 
data, so I need to look into it.
&gt;
&gt; Regards
&gt;
&gt; Christian

Nice to meet you :)

- Steph 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060712193429</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-12 19:34:29-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

&gt;    Hmmm... perhaps the team should shoot for XHTML 1[.0 Strict|.1]
&gt; compliance? ;-) I am still seeing errors/warnings in HTML 4.01
&gt; Transitional, though.
That'd be great; I did that half a year or so ago - Steph stopped me
then since it looked bad on her MSIE erm, browser.

Chris,

I only just figured out what you're on about!

When you talked about XHTML back then, you were talking about adding an 
XHTML DOCTYPE declaration into the manual build system at a point when the 
entire site used HTML 4.01. Nothing to do with my browser; php.net as a 
whole uses HTML 4.01 Transitional, that's just the way it is.  The phpweb 
folk are experimenting with XHTML 1.0 Strict, but that's an experiment on 
their part, and the site itself - including the phpdoc system - actually 
uses HTML 4.01. As far as I can figure out, the reason their declaration 
works and ours doesn't is they send HTTP headers via PHP to correct it.

When the manual is displayed on the site, it calls the site headers - this 
has nothing whatsoever to do with the build system. The only way it'd make 
sense to add a doctype declaration into the build system would be if you 
were talking about applying it to the print/html version only. If you're 
planning to do that, it would be sensible to have it match the declaration 
for the rest of the site, since the print/html version is displayed on the 
site as well as on your own box. At present, that declaration happens to be 
HTML 4.01. (Note: I didn't discover until this week that the DOCTYPE 
declaration on our site was broken.)

I'd like to upgrade our site to use XHTML 1.0 Transitional (not Strict, 
note) and possibly revert the recent font size changes - but not the rest of 
the good work Scott's done over the last few days - depending on how the new 
sizing looks under XHTML when someone gets a chance to test that. The old 
sizing looked fine under XHTML Transitional here.

Does anyone know of any good reasons against?

- Steph

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060712194422</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-12 19:44:22-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

Cool!

----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Wednesday, July 12, 2006 9:44 PM
Subject: Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!


&gt; Steph,
&gt; 
&gt;&gt; note) and possibly revert the recent font size changes - but not the
&gt;&gt; rest of the good work Scott's done over the last few days - depending on
&gt;&gt; how the new sizing looks under XHTML when someone gets a chance to test
&gt;&gt; that. The old sizing looked fine under XHTML Transitional here.
&gt; I'm just setting up a gtk.php.net mirror at
&gt; http://gtkmirror.php-gtk2.de/ . Can't test the doc style changes yet
&gt; since the manual is still compiling, but should be there in 15mins.
&gt; 
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060712194423</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-12 19:44:23-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

Steph,

&gt; note) and possibly revert the recent font size changes - but not the
&gt; rest of the good work Scott's done over the last few days - depending on
&gt; how the new sizing looks under XHTML when someone gets a chance to test
&gt; that. The old sizing looked fine under XHTML Transitional here.
I'm just setting up a gtk.php.net mirror at
http://gtkmirror.php-gtk2.de/ . Can't test the doc style changes yet
since the manual is still compiling, but should be there in 15mins.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060712202720</emailId><senderName>Cory Christison</senderName><senderEmail>cory.christison@gmail.com</senderEmail><timestampReceived>2006-07-12 20:27:20-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

Hey Steph,
&gt; I'd like to upgrade our site to use XHTML 1.0 Transitional (not 
&gt; Strict, note) and possibly revert the recent font size changes - but 
&gt; not the rest of the good work Scott's done over the last few days - 
&gt; depending on how the new sizing looks under XHTML when someone gets a 
&gt; chance to test that. The old sizing looked fine under XHTML 
&gt; Transitional here.
As long as the fonts are now set using em's [vs. percents as before] 
there should not be any compatibility issues with Migrating from HTML to 
XHTML. However, I disagree with XHTML 1.0 Transitional... if you are 
moving to XHTML, I feel you should put the extra little bit of effort 
and go all the way. Personally, I code for XHTML 1.1 with no issues.

Again, just my two cents. :-)

 - Cory Christison

P.S. - maybe I should hop on the php-gtk-webmaster list and see what 
that is all about. :-)

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060712203414</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-12 20:34:14-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

Steph,

http://gtkmirror.php-gtk2.de/manual/en/tutorials.php
(with scott's patch applied) looks ok to me.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060712203620</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-12 20:36:20-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

Hi Cory,

&gt; As long as the fonts are now set using em's [vs. percents as before] there 
&gt; should not be any compatibility issues with Migrating from HTML to XHTML.

We already have issues with HTML 4.01. We didn't have any issues at all 
until our DTD started working - even with the percents. We still have issues 
since the move to em. (Take a look at the sidebar.)

However, I disagree with XHTML 1.0 Transitional... if you are
&gt; moving to XHTML, I feel you should put the extra little bit of effort and 
&gt; go all the way. Personally, I code for XHTML 1.1 with no issues.

You aren't working with a 5-year-old site &amp; a ton of legacy code. We are, 
and XHTML Strict is a fairly demanding master if we're going to try and make 
it valid throughout. Transitional doesn't require too many changes - Strict 
really does, and we don't have anyone dedicated to pure web work on the 
team.

&gt; Again, just my two cents. :-)

I'm saving up all these two cents I get, I'll be rich one day :-)

&gt; - Cory Christison
&gt;
&gt; P.S. - maybe I should hop on the php-gtk-webmaster list and see what that 
&gt; is all about. :-)

Please do, particularly since web stuff seems to be a strong area for you - 
but we've ended up discussing most of this on the dev list for some 
reason...

- Steph 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060712204002</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-12 20:40:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

That's still HTML 4.01 Transitional.  What happens if you move to XHTML 1.0 
Transitional?

DOCTYPE is set in php-gtk-web/include/layout.php, you'll need to echo the 
XML part.

- Steph

&gt;
&gt; http://gtkmirror.php-gtk2.de/manual/en/tutorials.php
&gt; (with scott's patch applied) looks ok to me.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060712220938</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-12 22:09:38-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

Steph,

&gt; That's still HTML 4.01 Transitional.  What happens if you move to XHTML
&gt; 1.0 Transitional?
&gt; 
&gt; DOCTYPE is set in php-gtk-web/include/layout.php, you'll need to echo
&gt; the XML part.
Try it, I changed it.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060712223613</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-12 22:36:13-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

Chris,

&gt;&gt; That's still HTML 4.01 Transitional.  What happens if you move to XHTML
&gt;&gt; 1.0 Transitional?
&gt;&gt;
&gt;&gt; DOCTYPE is set in php-gtk-web/include/layout.php, you'll need to echo
&gt;&gt; the XML part.
&gt; Try it, I changed it.

... so if we did that we'd need to go back to the original font-sizes.

I'd a feeling about that.

So - I guess we'd better take a vote on it. We can either stay with HTML 
4.01 Transitional, keep the font size changes and apply Scott's latest 
patch, or we can revert the font-size changes (but keep the other CSS 
changes since they make our stylesheets kosher for the first time) and move 
to XHTML 1.0 Transitional.

If we choose to make the move to XHTML we'll need to make a handful of 
changes, last time I checked against the validator, but we'll have the same 
look we did originally.

If we don't choose to make the move, the only thing between us and 
validation is the updates thing apparently (my job).

Thanks for taking the time to make up those builds!

- Steph



&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060712233145</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-12 23:31:45-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

*discovery* (falls into the 'strange but true' category)

If you drop the &lt;xml&gt; tag it's the same as 4.01 :)

OK so we can commit Scott's changes either way. Scott, d'you want to oblige?

(phew!)

&gt; Chris,
&gt;
&gt;&gt;&gt; That's still HTML 4.01 Transitional.  What happens if you move to XHTML
&gt;&gt;&gt; 1.0 Transitional?
&gt;&gt;&gt;
&gt;&gt;&gt; DOCTYPE is set in php-gtk-web/include/layout.php, you'll need to echo
&gt;&gt;&gt; the XML part.
&gt;&gt; Try it, I changed it.
&gt;
&gt; ... so if we did that we'd need to go back to the original font-sizes.
&gt;
&gt; I'd a feeling about that.
&gt;
&gt; So - I guess we'd better take a vote on it. We can either stay with HTML 
&gt; 4.01 Transitional, keep the font size changes and apply Scott's latest 
&gt; patch, or we can revert the font-size changes (but keep the other CSS 
&gt; changes since they make our stylesheets kosher for the first time) and 
&gt; move to XHTML 1.0 Transitional.
&gt;
&gt; If we choose to make the move to XHTML we'll need to make a handful of 
&gt; changes, last time I checked against the validator, but we'll have the 
&gt; same look we did originally.
&gt;
&gt; If we don't choose to make the move, the only thing between us and 
&gt; validation is the updates thing apparently (my job).
&gt;
&gt; Thanks for taking the time to make up those builds!
&gt;
&gt; - Steph
&gt;
&gt;
&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060713043424</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-13 04:34:24-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

&gt; *discovery* (falls into the 'strange but true' category)
&gt; If you drop the &lt;xml&gt; tag it's the same as 4.01 :)

So, we're going to XHTML without an &lt;?xml header tag. Scott can apply
his latest font size patch. We need to change some things to make the
page validate, most of the times adding "/&gt;" to meta tags. Right?

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060713043502</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-13 04:35:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

I went through a couple of pages last night to check. /&gt; for meta and image 
tags is the main culprit, style = 'white-space: nowrap' is second, the rest 
I found were mostly actual HTML errors that 4.01 Transitional allowed us to 
get away with (missing closing tags and shiznit).

We don't need a special tag for the manual links, we can have them the same 
size as everything else in columns (I also found). I _think_ that came out 
at .85em.



&gt;&gt; *discovery* (falls into the 'strange but true' category)
&gt;&gt; If you drop the &lt;xml&gt; tag it's the same as 4.01 :)
&gt;
&gt; So, we're going to XHTML without an &lt;?xml header tag. Scott can apply
&gt; his latest font size patch. We need to change some things to make the
&gt; page validate, most of the times adding "/&gt;" to meta tags. Right?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060713044825</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-13 04:48:25-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

&gt; I went through a couple of pages last night to check. /&gt; for meta and
&gt; image tags is the main culprit, style = 'white-space: nowrap' is second,
&gt; the rest I found were mostly actual HTML errors that 4.01 Transitional
&gt; allowed us to get away with (missing closing tags and shiznit).
So can I go on fixing them?

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710133536</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-07-10 13:35:36-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that</subject><body>

Thanks Steph. It seems to be working well. I have two comments though:

1) One of your changes seems to have made the text on the entire site 
shrink way down in FireFox (Linux). I know we had this issue before and 
I think it may have had something to do with the doctype, but I can't 
remember exactly.

2) Anyone with php-gtk-web karma can give themselves access to the 
restricted areas. I am not sure if that is really a concern though since 
it doesn't look like you can really do that much damage. Plus, if they 
have been granted web karma, hopefully we can trust them not to do 
anything stupid.

Steph Fox wrote:
&gt; OK people, I have worked my boobies off over the last few days and 
&gt; hopefully everything will 'just work' now. Please go in and test it, 
&gt; it's at least 5000 times as secure as php.net so I'm ignoring Andrei 
&gt; over this :)
&gt; 
&gt; The login page is at http://gtk.php.net/admin-login.php, use your 
&gt; php.net credentials.
&gt; 
&gt; Docteam regulars should be able to get into the 'test' area without any 
&gt; problem, but nowhere else restricted. If you find you can reach 
&gt; something you shouldn't be able to reach, please let me know(!). Also if 
&gt; you can't reach something you think you should be able to, of course.
&gt; 
&gt; 'Test' means you get your own temporary database (a copy of the 
&gt; original) to mess around with. It also means that, for the time being at 
&gt; least, the email address you use when testing it will be held as plain 
&gt; text in a cookie on your box for the duration - even if our outgoing 
&gt; mail's switched off at the time. So please log out when you're done 
&gt; playi^H^H^H^H^Hlearning the system!
&gt; 
&gt; If it all screws up and we lose the db over the next day or two it's ok, 
&gt; I still have a virgin backup of the original notes here. However if the 
&gt; mail's still switched off you probably won't get to add anything to that 
&gt; anyway, there's a queuing system (as you'll see) that waits for the mail 
&gt; to go through to the list. (It's just a cheap way of making sure we have 
&gt; a report before our db falls apart.)
&gt; 
&gt; Feedback is welcome so long as you don't all shout at once..
&gt; 
&gt; - Steph
&gt; 

-- 
Scott Mattocks
Author of: Pro PHP-GTK
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710181403</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-10 18:14:03-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that</subject><body>

Steph,


&gt; Docteam regulars should be able to get into the 'test' area without any
&gt; problem, but nowhere else restricted. If you find you can reach
&gt; something you shouldn't be able to reach, please let me know(!). Also if
&gt; you can't reach something you think you should be able to, of course.
1. The admin-login page misses a no-cache meta tag - it stays in cache,
and I always need to reload it to see my login or logout.
2. When passing the wrong un/pw combination, a white page is shown. I'd
prefer a "Haha! Go spooking elsewhere" or something, so that you know
that the system did something instead of crashing silently.
3. Accessing info.php without a cookie returns a UTF-16 file. Wait, that
is generated by opera. It does redirect one to somewhere "" (empty)?
Seems as that happens with all admin pages without a cookie.


Perhaps some more, I'll see



-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710181508</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-10 18:15:08-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that</subject><body>

Hi Chris,

&gt;&gt; Docteam regulars should be able to get into the 'test' area without any
&gt;&gt; problem, but nowhere else restricted. If you find you can reach
&gt;&gt; something you shouldn't be able to reach, please let me know(!). Also if
&gt;&gt; you can't reach something you think you should be able to, of course.
&gt; 1. The admin-login page misses a no-cache meta tag - it stays in cache,
&gt; and I always need to reload it to see my login or logout.

Good point!

&gt; 2. When passing the wrong un/pw combination, a white page is shown. I'd
&gt; prefer a "Haha! Go spooking elsewhere" or something, so that you know
&gt; that the system did something instead of crashing silently.

Interesting. It _should_ just send you back to the login page... I'll go 
back and re-test that.

&gt; 3. Accessing info.php without a cookie returns a UTF-16 file. Wait, that
&gt; is generated by opera. It does redirect one to somewhere "" (empty)?
&gt; Seems as that happens with all admin pages without a cookie.

I'll do something to check for cookies and issue a warning without.

Thanks!

- Steph

&gt;
&gt;
&gt; Perhaps some more, I'll see
&gt;
&gt;
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710182152</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-10 18:21:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that</subject><body>

&gt; Perhaps some more, I'll see
When setting up my "test environment", I am at
&gt; http://gtk.php.net/manual/admin-notes.php
and get the empty redirect again.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710184437</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-10 18:44:37-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that</subject><body>

I can't reproduce this... can't reproduce what Rasmus reported either, here 
(although he's right). This is going to be a frustrating eve :(

&gt;&gt; Perhaps some more, I'll see
&gt; When setting up my "test environment", I am at
&gt;&gt; http://gtk.php.net/manual/admin-notes.php
&gt; and get the empty redirect again.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710191912</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-10 19:19:12-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that</subject><body>

Steph,

&gt; I can't reproduce this... can't reproduce what Rasmus reported either,
&gt; here (although he's right). This is going to be a frustrating eve :(
It works with Firefox, just not with Opera.
Btw, even after enabling test mode, it still shows up as not enabled.

Further, "Test mode disabled" shows up bold in Konqueror, but not in FF
or Opera.


-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710195047</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-10 19:50:47-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that</subject><body>

&gt;&gt; I can't reproduce this... can't reproduce what Rasmus reported either,
&gt;&gt; here (although he's right). This is going to be a frustrating eve :(
&gt; It works with Firefox, just not with Opera.
&gt; Btw, even after enabling test mode, it still shows up as not enabled.

Opera's actually 'not very good' though, y'know? I have no idea why it 
doesn't understand being redirected to the page it just came from, and I 
don't intend to waste time finding out since it's not a security issue. 
Also, this form's intended to be used by a very limited number of people.

&gt; Further, "Test mode disabled" shows up bold in Konqueror, but not in FF
&gt; or Opera.

So what?  I don't care if some browsers don't like bold tags, so long as the 
note itself shows up!

- Steph 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710203133</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-10 20:31:33-0400</timestampReceived><subject>Fw: [PHP-GTK-DEV] notes and all that</subject><body>

Chris, I'm not able to reproduce any caching issues here either no matter 
what I do. Is this also just happening on Opera, or is it more widespread?


- Steph

&gt;&gt; Docteam regulars should be able to get into the 'test' area without any
&gt;&gt; problem, but nowhere else restricted. If you find you can reach
&gt;&gt; something you shouldn't be able to reach, please let me know(!). Also if
&gt;&gt; you can't reach something you think you should be able to, of course.
&gt; 1. The admin-login page misses a no-cache meta tag - it stays in cache,
&gt; and I always need to reload it to see my login or logout.
&gt; 2. When passing the wrong un/pw combination, a white page is shown. I'd
&gt; prefer a "Haha! Go spooking elsewhere" or something, so that you know
&gt; that the system did something instead of crashing silently.
&gt; 3. Accessing info.php without a cookie returns a UTF-16 file. Wait, that
&gt; is generated by opera. It does redirect one to somewhere "" (empty)?
&gt; Seems as that happens with all admin pages without a cookie.
&gt;
&gt;
&gt; Perhaps some more, I'll see
&gt;
&gt;
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710203710</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-10 20:37:10-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that</subject><body>

&gt;&gt; 1. The admin-login page misses a no-cache meta tag - it stays in cache,
&gt;&gt; and I always need to reload it to see my login or logout.
&gt;
&gt; Good point!

Can't reproduce.

&gt;&gt; 2. When passing the wrong un/pw combination, a white page is shown. I'd
&gt;&gt; prefer a "Haha! Go spooking elsewhere" or something, so that you know
&gt;&gt; that the system did something instead of crashing silently.
&gt;
&gt; Interesting. It _should_ just send you back to the login page... I'll go 
&gt; back and re-test that.

Can't reproduce. It sends a header() to the referrer page so it seems 
there's a bug in Opera if it doesn't understand redirection.

&gt;&gt; 3. Accessing info.php without a cookie returns a UTF-16 file. Wait, that
&gt;&gt; is generated by opera. It does redirect one to somewhere "" (empty)?
&gt;&gt; Seems as that happens with all admin pages without a cookie.

Same as. What was in the UTF-16 file?

- Steph 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710204435</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-10 20:44:35-0400</timestampReceived><subject>Re: Fw: [PHP-GTK-DEV] notes and all that</subject><body>

Steph,

&gt; Chris, I'm not able to reproduce any caching issues here either no
&gt; matter what I do. Is this also just happening on Opera, or is it more
&gt; widespread?
It also occurs when using Dillo.

Adding a
&gt; &lt;meta http-equiv="expires" content="0" /&gt;
should help here.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710210026</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-10 21:00:26-0400</timestampReceived><subject>Re: Fw: [PHP-GTK-DEV] notes and all that</subject><body>

&gt;&gt; Chris, I'm not able to reproduce any caching issues here either no
&gt;&gt; matter what I do. Is this also just happening on Opera, or is it more
&gt;&gt; widespread?
&gt; It also occurs when using Dillo.

wtf is Dillo?! - no don't tell me, lol...

&gt; Adding a
&gt;&gt; &lt;meta http-equiv="expires" content="0" /&gt;
&gt; should help here.

These browsers nobody else uses don't understand no-cache?

The point is that the headers for the page are generated, so whatever goes 
there affects the whole site. If there's a minor issue in the not-much-used 
admin area that only affects two little-used and broken browsers - tough, 
administrators who want to use broken browsers can just hit the reload 
button, and I'm sure they'll need to do it on every other site out there 
too. If it happened for something everyone uses I'd be more concerned about 
fixing it.

Having said that, I pulled out my ancient copy of Opera and found it works 
fine for all redirects when I test it locally (including the login/out page 
loading), just not on the actual live site &lt;shrug /&gt;. You tell me...

- Steph

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710211917</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-10 21:19:17-0400</timestampReceived><subject>Re: Fw: [PHP-GTK-DEV] notes and all that</subject><body>

&gt;&gt; It also occurs when using Dillo.
&gt; wtf is Dillo?! - no don't tell me, lol...
http://www.dillo.org/


-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060711054533</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-11 05:45:33-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that</subject><body>

I just found out that Opera allows you to not send HTTP_REFERER as part of 
the user agent response. (presumably the same goes for the GTK 1 browser you 
mentioned?). Apparently some firewalls also block it.

I still think refusing to send a referer string is a design flaw on the part 
of browsers (and firewalls). If the devs were going to do that as a 
security/privacy measure, they could've at least allowed referers through 
when the referer base matches the base url on the current site. As it is, 
we're potentially looking at quite a number of our site users not being able 
to add to manual notes when they try.

:-(

There are three possible 'fixes' I can see to allow for this horrible 
behaviour. One would be to use javascript and call history.go() - but you 
can bet your boots that anyone paranoid enough to turn off referer logging 
will also have javascript support turned off. Another way would be to send 
the name of the referring page as part of the query string, which is a) ugly 
and b) means the GET var needs validating at the receiving end. The third 
would be to store the name of the referring page somewhere it can be 
retrieved, e.g. a cookie or session. None of these solutions are good, and 
whichever way we choose there's no way to know whether the browser's going 
to send a referer string until the original page is history. Even if 
firewalls weren't an issue, Opera offers the option to disguise its user 
agent string as something else.

So... what I'm sketching out here is this:

Check PHP_SELF at source. (I've already done this on the live site by 
cleaning it in the auto-prepend file, but we'll see what Rasmus and his 
Famous Tool [TM] have to say about that)

Where possible, send PHP_SELF as a parameter (either directly to a function 
or as a hidden form element).

Check whether HTTP_REFERER is set and, if not, regard it as '/' in most 
cases (i.e. logout and when the access level is breached) or take a wild 
guess at where the user should have come from (generally, admin-login).

Having done that, the only problem page remaining in the entire notes system 
should be add-note.php itself, which should (theoretically at least) only 
ever be reached via the links to it on the manual pages. The kindest thing I 
can see to do at that point would be to give a lengthy sermon on how 
wonderful HTTP_REFERER would be if only the user had one, and ask them to 
either enable it (which ALL referer blockers give the option to do) or hit 
their back button so we can pick up the info via PHP_SELF and maintain state 
in one of the three ways outlined above.

The other alternative is to inflict a nasty workaround on _all_ users - this 
on every page of the manual - with GET being the simplest and cheapest of 
the options available to us.

Thoughts, anyone?

- Steph





&gt;&gt; Docteam regulars should be able to get into the 'test' area without any
&gt;&gt; problem, but nowhere else restricted. If you find you can reach
&gt;&gt; something you shouldn't be able to reach, please let me know(!). Also if
&gt;&gt; you can't reach something you think you should be able to, of course.
&gt; 1. The admin-login page misses a no-cache meta tag - it stays in cache,
&gt; and I always need to reload it to see my login or logout.
&gt; 2. When passing the wrong un/pw combination, a white page is shown. I'd
&gt; prefer a "Haha! Go spooking elsewhere" or something, so that you know
&gt; that the system did something instead of crashing silently.
&gt; 3. Accessing info.php without a cookie returns a UTF-16 file. Wait, that
&gt; is generated by opera. It does redirect one to somewhere "" (empty)?
&gt; Seems as that happens with all admin pages without a cookie.
&gt;
&gt;
&gt; Perhaps some more, I'll see
&gt;
&gt;
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060711062434</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-11 06:24:34-0400</timestampReceived><subject>Fw: [PHP-GTK-DEV] notes and all that</subject><body>

'Scuse the noise...

 $ref = isset($_SERVER['HTTP_REFERER']) ? null : 
"?ref={$_SERVER['PHP_SELF']}";


----- Original Message ----- 
From: "Steph Fox" &lt;steph@zend.com&gt;
To: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, July 11, 2006 7:45 AM
Subject: Re: [PHP-GTK-DEV] notes and all that


&gt;I just found out that Opera allows you to not send HTTP_REFERER as part of 
&gt;the user agent response. (presumably the same goes for the GTK 1 browser 
&gt;you mentioned?). Apparently some firewalls also block it.
&gt;
&gt; I still think refusing to send a referer string is a design flaw on the 
&gt; part of browsers (and firewalls). If the devs were going to do that as a 
&gt; security/privacy measure, they could've at least allowed referers through 
&gt; when the referer base matches the base url on the current site. As it is, 
&gt; we're potentially looking at quite a number of our site users not being 
&gt; able to add to manual notes when they try.
&gt;
&gt; :-(
&gt;
&gt; There are three possible 'fixes' I can see to allow for this horrible 
&gt; behaviour. One would be to use javascript and call history.go() - but you 
&gt; can bet your boots that anyone paranoid enough to turn off referer logging 
&gt; will also have javascript support turned off. Another way would be to send 
&gt; the name of the referring page as part of the query string, which is a) 
&gt; ugly and b) means the GET var needs validating at the receiving end. The 
&gt; third would be to store the name of the referring page somewhere it can be 
&gt; retrieved, e.g. a cookie or session. None of these solutions are good, and 
&gt; whichever way we choose there's no way to know whether the browser's going 
&gt; to send a referer string until the original page is history. Even if 
&gt; firewalls weren't an issue, Opera offers the option to disguise its user 
&gt; agent string as something else.
&gt;
&gt; So... what I'm sketching out here is this:
&gt;
&gt; Check PHP_SELF at source. (I've already done this on the live site by 
&gt; cleaning it in the auto-prepend file, but we'll see what Rasmus and his 
&gt; Famous Tool [TM] have to say about that)
&gt;
&gt; Where possible, send PHP_SELF as a parameter (either directly to a 
&gt; function or as a hidden form element).
&gt;
&gt; Check whether HTTP_REFERER is set and, if not, regard it as '/' in most 
&gt; cases (i.e. logout and when the access level is breached) or take a wild 
&gt; guess at where the user should have come from (generally, admin-login).
&gt;
&gt; Having done that, the only problem page remaining in the entire notes 
&gt; system should be add-note.php itself, which should (theoretically at 
&gt; least) only ever be reached via the links to it on the manual pages. The 
&gt; kindest thing I can see to do at that point would be to give a lengthy 
&gt; sermon on how wonderful HTTP_REFERER would be if only the user had one, 
&gt; and ask them to either enable it (which ALL referer blockers give the 
&gt; option to do) or hit their back button so we can pick up the info via 
&gt; PHP_SELF and maintain state in one of the three ways outlined above.
&gt;
&gt; The other alternative is to inflict a nasty workaround on _all_ users - 
&gt; this on every page of the manual - with GET being the simplest and 
&gt; cheapest of the options available to us.
&gt;
&gt; Thoughts, anyone?
&gt;
&gt; - Steph
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;&gt;&gt; Docteam regulars should be able to get into the 'test' area without any
&gt;&gt;&gt; problem, but nowhere else restricted. If you find you can reach
&gt;&gt;&gt; something you shouldn't be able to reach, please let me know(!). Also if
&gt;&gt;&gt; you can't reach something you think you should be able to, of course.
&gt;&gt; 1. The admin-login page misses a no-cache meta tag - it stays in cache,
&gt;&gt; and I always need to reload it to see my login or logout.
&gt;&gt; 2. When passing the wrong un/pw combination, a white page is shown. I'd
&gt;&gt; prefer a "Haha! Go spooking elsewhere" or something, so that you know
&gt;&gt; that the system did something instead of crashing silently.
&gt;&gt; 3. Accessing info.php without a cookie returns a UTF-16 file. Wait, that
&gt;&gt; is generated by opera. It does redirect one to somewhere "" (empty)?
&gt;&gt; Seems as that happens with all admin pages without a cookie.
&gt;&gt;
&gt;&gt;
&gt;&gt; Perhaps some more, I'll see
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060711102330</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-11 10:23:30-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that</subject><body>

&gt; you can bet your boots that anyone paranoid enough to turn off referer
&gt; logging will also have javascript support turned off. Another way would
Count me to that group of persons. Referers are off by default, and
cookies/javascript only on pages that absolutely need them.

We could check for referers and display a "no way without referers"
message. That is the most clean solution.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060711102709</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-11 10:27:09-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that</subject><body>

&gt;&gt; you can bet your boots that anyone paranoid enough to turn off referer
&gt;&gt; logging will also have javascript support turned off. Another way would
&gt; Count me to that group of persons. Referers are off by default, and
&gt; cookies/javascript only on pages that absolutely need them.

We absolutely need cookies. Or at least, I _think_ we do. There's possibly a 
way around that, too... lemme chew on it...

&gt; We could check for referers and display a "no way without referers"
&gt; message. That is the most clean solution.

Don't know if you noticed the stream of commits earlier. That was me getting 
rid of the need for referers, that was.

With any luck (and assuming I didn't break anything in the process) your 
'caching issue' might have gone away now. Got time to try it?

- Steph

&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060708175751</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-08 17:57:51-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Notes</subject><body>

Ok, I unarchived the gtknotes.sqlite into the dir. What now?

-Andrei


On Jul 7, 2006, at 8:48 PM, Steph Fox wrote:

&gt; woops....
&gt;
&gt; catch!
&gt;
&gt;
&gt;&gt; Where is the DB you need me to put on the web server?
&gt;&gt; -Andrei
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt; &lt;phpgtkdoc_notes.zip&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060708180110</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-08 18:01:10-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Notes</subject><body>

ok, I'd better go and prevent the world from being able to see it just yet 
:)

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Saturday, July 08, 2006 7:57 PM
Subject: Re: [PHP-GTK-DEV] Notes


&gt; Ok, I unarchived the gtknotes.sqlite into the dir. What now?
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Jul 7, 2006, at 8:48 PM, Steph Fox wrote:
&gt;
&gt;&gt; woops....
&gt;&gt;
&gt;&gt; catch!
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; Where is the DB you need me to put on the web server?
&gt;&gt;&gt; -Andrei
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt; &lt;phpgtkdoc_notes.zip&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060708184309</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-08 18:43:09-0400</timestampReceived><subject>Fw: [PHP-GTK-DEV] Notes</subject><body>

OK, all I need to do now (AFAICS anyway) on the non-systems side is put in a 
check for the existence of the queuing db and something to create it if it's 
missing. But I'll probably find out differently on the next server refresh 
:)

&gt; ok, I'd better go and prevent the world from being able to see it just yet 
&gt; :)
&gt;
&gt;&gt; Ok, I unarchived the gtknotes.sqlite into the dir. What now?
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; On Jul 7, 2006, at 8:48 PM, Steph Fox wrote:
&gt;&gt;
&gt;&gt;&gt; woops....
&gt;&gt;&gt;
&gt;&gt;&gt; catch!
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Where is the DB you need me to put on the web server?
&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt; &lt;phpgtkdoc_notes.zip&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060708184705</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-08 18:47:05-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Notes</subject><body>

Can we see the notes now?

-Andrei


On Jul 8, 2006, at 11:43 AM, Steph Fox wrote:

&gt; OK, all I need to do now (AFAICS anyway) on the non-systems side is  
&gt; put in a check for the existence of the queuing db and something to  
&gt; create it if it's missing. But I'll probably find out differently  
&gt; on the next server refresh :)
&gt;
&gt;&gt; ok, I'd better go and prevent the world from being able to see it  
&gt;&gt; just yet :)
&gt;&gt;
&gt;&gt;&gt; Ok, I unarchived the gtknotes.sqlite into the dir. What now?
&gt;&gt;&gt;
&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Jul 7, 2006, at 8:48 PM, Steph Fox wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; woops....
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; catch!
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Where is the DB you need me to put on the web server?
&gt;&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;&gt; &lt;phpgtkdoc_notes.zip&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060708184939</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-08 18:49:39-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Notes</subject><body>

You should be able to if you're logged in (via 
http://gtk.php.net/admin-login.php), but hopefully not otherwise.

That said, I'm logged into the 'browse' page at present and it still isn't 
picking up the database. Can you confirm the path please? - it should be 
getting the path from config.inc for those pages.

&gt; Can we see the notes now?
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Jul 8, 2006, at 11:43 AM, Steph Fox wrote:
&gt;
&gt;&gt; OK, all I need to do now (AFAICS anyway) on the non-systems side is  put 
&gt;&gt; in a check for the existence of the queuing db and something to  create 
&gt;&gt; it if it's missing. But I'll probably find out differently  on the next 
&gt;&gt; server refresh :)
&gt;&gt;
&gt;&gt;&gt; ok, I'd better go and prevent the world from being able to see it  just 
&gt;&gt;&gt; yet :)
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Ok, I unarchived the gtknotes.sqlite into the dir. What now?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; On Jul 7, 2006, at 8:48 PM, Steph Fox wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; woops....
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; catch!
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; Where is the DB you need me to put on the web server?
&gt;&gt;&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;&gt;&gt; &lt;phpgtkdoc_notes.zip&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060708185427</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-08 18:54:27-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Notes</subject><body>

snatch that, I've just realized why it wasn't working - it'll be ok on the 
next refresh!

It's fine so long as you choose a different sort mechanism anyway.


&gt; You should be able to if you're logged in (via 
&gt; http://gtk.php.net/admin-login.php), but hopefully not otherwise.
&gt;
&gt; That said, I'm logged into the 'browse' page at present and it still isn't 
&gt; picking up the database. Can you confirm the path please? - it should be 
&gt; getting the path from config.inc for those pages.
&gt;
&gt;&gt; Can we see the notes now?
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; On Jul 8, 2006, at 11:43 AM, Steph Fox wrote:
&gt;&gt;
&gt;&gt;&gt; OK, all I need to do now (AFAICS anyway) on the non-systems side is  put 
&gt;&gt;&gt; in a check for the existence of the queuing db and something to  create 
&gt;&gt;&gt; it if it's missing. But I'll probably find out differently  on the next 
&gt;&gt;&gt; server refresh :)
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; ok, I'd better go and prevent the world from being able to see it  just 
&gt;&gt;&gt;&gt; yet :)
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Ok, I unarchived the gtknotes.sqlite into the dir. What now?
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; On Jul 7, 2006, at 8:48 PM, Steph Fox wrote:
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; woops....
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; catch!
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; Where is the DB you need me to put on the web server?
&gt;&gt;&gt;&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;&gt;&gt;&gt; &lt;phpgtkdoc_notes.zip&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060708190539</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-08 19:05:39-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Notes</subject><body>

The default view wasn't being set, it's working fine apart from that.

I need to do about three hours' solid work here, I'll come a-testing after 
that. Don't try to add a note yet, we have a db missing.

&gt; /local/Web/php-gtk-notes-db/gtknotes.sqlite
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Jul 8, 2006, at 11:49 AM, Steph Fox wrote:
&gt;
&gt;&gt; You should be able to if you're logged in (via http://gtk.php.net/ 
&gt;&gt; admin-login.php), but hopefully not otherwise.
&gt;&gt;
&gt;&gt; That said, I'm logged into the 'browse' page at present and it  still 
&gt;&gt; isn't picking up the database. Can you confirm the path  please? - it 
&gt;&gt; should be getting the path from config.inc for those  pages.
&gt;&gt;
&gt;&gt;&gt; Can we see the notes now?
&gt;&gt;&gt;
&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Jul 8, 2006, at 11:43 AM, Steph Fox wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; OK, all I need to do now (AFAICS anyway) on the non-systems side  is 
&gt;&gt;&gt;&gt; put in a check for the existence of the queuing db and  something to 
&gt;&gt;&gt;&gt; create it if it's missing. But I'll probably find  out differently  on 
&gt;&gt;&gt;&gt; the next server refresh :)
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; ok, I'd better go and prevent the world from being able to see  it 
&gt;&gt;&gt;&gt;&gt; just yet :)
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; Ok, I unarchived the gtknotes.sqlite into the dir. What now?
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; On Jul 7, 2006, at 8:48 PM, Steph Fox wrote:
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; woops....
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; catch!
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Where is the DB you need me to put on the web server?
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; &lt;phpgtkdoc_notes.zip&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060708190657</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-08 19:06:57-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Notes</subject><body>

/local/Web/php-gtk-notes-db/gtknotes.sqlite

-Andrei


On Jul 8, 2006, at 11:49 AM, Steph Fox wrote:

&gt; You should be able to if you're logged in (via http://gtk.php.net/ 
&gt; admin-login.php), but hopefully not otherwise.
&gt;
&gt; That said, I'm logged into the 'browse' page at present and it  
&gt; still isn't picking up the database. Can you confirm the path  
&gt; please? - it should be getting the path from config.inc for those  
&gt; pages.
&gt;
&gt;&gt; Can we see the notes now?
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; On Jul 8, 2006, at 11:43 AM, Steph Fox wrote:
&gt;&gt;
&gt;&gt;&gt; OK, all I need to do now (AFAICS anyway) on the non-systems side  
&gt;&gt;&gt; is  put in a check for the existence of the queuing db and  
&gt;&gt;&gt; something to  create it if it's missing. But I'll probably find  
&gt;&gt;&gt; out differently  on the next server refresh :)
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; ok, I'd better go and prevent the world from being able to see  
&gt;&gt;&gt;&gt; it  just yet :)
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Ok, I unarchived the gtknotes.sqlite into the dir. What now?
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; On Jul 7, 2006, at 8:48 PM, Steph Fox wrote:
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; woops....
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; catch!
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; Where is the DB you need me to put on the web server?
&gt;&gt;&gt;&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;&gt;&gt;&gt; &lt;phpgtkdoc_notes.zip&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060708190735</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-08 19:07:35-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Notes</subject><body>

Do you have a link to a page with notes?

-Andrei


On Jul 8, 2006, at 11:49 AM, Steph Fox wrote:

&gt; You should be able to if you're logged in (via http://gtk.php.net/ 
&gt; admin-login.php), but hopefully not otherwise.
&gt;
&gt; That said, I'm logged into the 'browse' page at present and it  
&gt; still isn't picking up the database. Can you confirm the path  
&gt; please? - it should be getting the path from config.inc for those  
&gt; pages.
&gt;
&gt;&gt; Can we see the notes now?
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; On Jul 8, 2006, at 11:43 AM, Steph Fox wrote:
&gt;&gt;
&gt;&gt;&gt; OK, all I need to do now (AFAICS anyway) on the non-systems side  
&gt;&gt;&gt; is  put in a check for the existence of the queuing db and  
&gt;&gt;&gt; something to  create it if it's missing. But I'll probably find  
&gt;&gt;&gt; out differently  on the next server refresh :)
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; ok, I'd better go and prevent the world from being able to see  
&gt;&gt;&gt;&gt; it  just yet :)
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Ok, I unarchived the gtknotes.sqlite into the dir. What now?
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; On Jul 7, 2006, at 8:48 PM, Steph Fox wrote:
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; woops....
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; catch!
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; Where is the DB you need me to put on the web server?
&gt;&gt;&gt;&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;&gt;&gt;&gt; &lt;phpgtkdoc_notes.zip&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060708022713</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-08 02:27:13-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Removing defs</subject><body>

come to that, why not leave two potential constructors?

- I realise it's 'different' but then so is filter... it's effectively just 
a struct that happens to be  a child class...


&gt;&gt; cweiske Fri Jun 30 23:00:43 2006 UTC
&gt;&gt;
&gt;&gt;   Modified files:
&gt;&gt;     /php-gtk/ext/gtk+ gtk.defs
&gt;&gt;   Log:
&gt;&gt;   Removing GtkTreeModel::filter_new, since we already have a
&gt;&gt;   GtkTreeModelFilter constructor
&gt;
&gt; I prefer that we mess with .defs files as little as possible, since it 
&gt; will reduce any potential merge conflicts when we merge in 2.8.x .defs. 
&gt; Why not just 'ignore' this function?
&gt;
&gt; -Andrei
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060705072533</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-07-05 07:25:33-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] why ?</subject><body>

Hi Pablo,

&gt; PHP Warning:  PHP Startup: Unable to load dynamic library
&gt; '/usr/local/php-gtk2/lib/php/extensions/no-debug-non-zts-20050922/php_gtk2.so' - \
&gt; /usr/local/php-gtk2/lib/libgtkscintilla2.so: undefined symbol: g_thread_init in \
&gt;                 Unknown on line 0
&gt; PS: compiles without error.

Not even a warning? Does `pkg-config --list-all | grep "Scintilla"' give
you something like:

GtkScintilla-2.0    GtkScintilla2 - A GTK+2 wrapper for the Scintilla
editing component

A few more details would help.

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060704014525</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-07-04 01:45:25-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] utf8 issues in Scintilla(again)</subject><body>

Hi Fernando,

&gt; But that path generates a new error.

It would be helpful to know what the new error is. I ran a test before I
committed the override, and it all seemed to work fine on my box, with
the accented e's and everything.

&gt; Please commit this to scintilla.overrides

I don't quite see how the patch would solve the "error" you're getting.
Until some higher authority (Christian, Steph, Andrei?) looks at this
issue, I maintain that my earlier commit (which converts the text from
UTF8 and then passed it to set_text) is the correct thing to do. Your
patch, BTW, doesn't work for me.

Meanwhile, passing us the errors you are getting along with the script
you are using to generate them, would go a long way in helping us solve
the issue.

&gt; I will work now in the other functions, as this may happen in all functions 
&gt; from scintilla which accept a string as argumment.

Please do that, it's more than welcome :). But, I would suggest you to
take a more cautious approach and wait for a consensus on the first
patch, so that there is no wasted/duplicate effort.

Thanks for everything!

Best Regards,

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060704040803</emailId><senderName>Fernando Correa da =?iso-8859-1?q?Concei=E7=E3o?=</senderName><senderEmail>listas_fernando@yahoo.com.br</senderEmail><timestampReceived>2006-07-04 04:08:03-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] utf8 issues in Scintilla(again)</subject><body>

Em Seg 03 Jul 2006 06:42, Anant Narayanan escreveu:
&gt; Hi Fernando,
&gt; 
&gt; &gt; But that path generates a new error.
&gt; 
&gt; It would be helpful to know what the new error is. I ran a test before I
&gt; committed the override, and it all seemed to work fine on my box, with
&gt; the accented e's and everything.
&gt; 
&gt; &gt; Please commit this to scintilla.overrides
&gt; 
&gt; I don't quite see how the patch would solve the "error" you're getting.
&gt; Until some higher authority (Christian, Steph, Andrei?) looks at this
&gt; issue, I maintain that my earlier commit (which converts the text from
&gt; UTF8 and then passed it to set_text) is the correct thing to do. Your
&gt; patch, BTW, doesn't work for me.
&gt; 
&gt; Meanwhile, passing us the errors you are getting along with the script
&gt; you are using to generate them, would go a long way in helping us solve
&gt; the issue.
&gt; 
&gt; &gt; I will work now in the other functions, as this may happen in all
&gt; &gt; functions from scintilla which accept a string as argumment.
&gt; 
&gt; Please do that, it's more than welcome :). But, I would suggest you to
&gt; take a more cautious approach and wait for a consensus on the first
&gt; patch, so that there is no wasted/duplicate effort.
&gt; 

Since I do not explain myself in previous email, sorry :(

So, this is the part of my code:
 
        if ($continue == "") {
            if (file_exists($filename) &amp;&amp; is_readable($filename)) {
                $text = file_get_contents($filename);
                $this-&gt;editor-&gt;set_text($text);
            } else {

where $this-&gt;editor is a GtkScintilla object.

The error is this:

Fatal error: Uncaught exception 'PhpGtkGErrorException' with 
message 'Sequncia                                              de bytes 
invlida na entrada de converso' in /home/comum/TextEditor/classes/                \
 ScintillaEditor.php:38
Stack trace:
#0 /home/comum/TextEditor/classes/ScintillaEditor.php(38): 
GtkScintilla-&gt;set_tex                                             
t('&lt;?php?/**? * Th...')
#1 /home/comum/TextEditor/classes/TextEditor.php(88): 
ScintillaEditor-&gt;load('/ho                                             
me/comum/Tex...')
#2 /home/comum/TextEditor/classes/TextEditor.php(124): 
TextEditor-&gt;newTab('/home                                             /comum/Tex...')
#3 [internal function]: TextEditor-&gt;onMenuOpen()
#4 /home/comum/TextEditor/TextEditor.php(51): Gtk::main()
#5 {main}
  thrown in /home/comum/TextEditor/classes/ScintillaEditor.php on line 38

The error message is in Brazilian Portuguese. What it tell is that there is a 
byte sequence invalid in the input chars for the conversion. so look at this:
# is my comment

PHP_METHOD
{
    
    char *utf8; #dont need
    gchar *text;

    zend_bool free_utf8 = FALSE; #dont need
    zend_bool free_text = FALSE;

    gsize len = 0;

    NOT_STATIC_METHOD();

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "s", &amp;utf8, &amp;free_utf8))
        return;
    text = phpg_from_utf8(utf8, strlen(utf8), &amp;len, &amp;free_text TSRMLS_CC);
   #the above line is wrong! the utf8 var here comes from a php variable, so 
it is not encoded in utf8, but it is a plain string. We need this for values 
that comes from gtk, not the ones that comes from php, so since it is not 
encoded in utf8 it contains character like  which is invalid for a utf8 
encoded string, so it generates a fatal exception.
    # the fix is simple: do not make this!
    
    if (text &amp;&amp; free_text) {
        gtk_scintilla_set_text(GTK_SCINTILLA(PHPG_GOBJECT(this_ptr)), text);
        g_free(text);
    }

    if (free_utf8) 
        g_free(utf8);
}

&gt; Thanks for everything!
&gt; 
&gt; Best Regards,
&gt; 
&gt; - Anant

		
_______________________________________________________ 
Yahoo! Acesso Grtis - Internet rpida e grtis. Instale 
o discador agora! 
http://br.acesso.yahoo.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060704055419</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-07-04 05:54:19-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] utf8 issues in Scintilla(again)</subject><body>

Hi Fernando,

Consider this test script:

&lt;?php

$sc = new GtkScintilla();
$sc-&gt;set_size_request(200,200);
$sc-&gt;set_text("  Sequ ncia inv lida na entrada de convers o");

$w = new GtkWindow();
$w-&gt;add($sc);

$w-&gt;show_all();
$w-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));

Gtk::main();

?&gt;

Applying your patch (i.e. without converting to PHP from UTF8) I get the
following as output (http://www.kix.in/php-gtk2/invalid.png):

     Sequ  ncia inv  lida na entrada de convers  o

which is obviously not what we expect to see. While, my method of
conversion gives me the correct output
(http://www.kix.in/php-gtk2/valid.png):

  Sequ ncia inv lida na entrada de convers o

I have reason to believe that Scintilla does not expect UTF8 encoded
strings, and that arguments passed to set_text() will almost all the
time be UTF8. Hence your patch would fail for cases where the parameters
to set_text() are indeed UTF8 encoded (like the example above).

However, in your case, since you are passing a PHP variable to
set_text(), it has already been converted from UTF8 to a native PHP type.

What we need is a conditional conversion statement that handles both
test cases. Eliminating the conversion statement is not an option. I
have some pressing work for the next few days, and will look into a
proper solution for this ASAP. Meanwhile, if you can come up with a
patch that handles both the test scripts, that would be great.

Once again, Thanks for everything!

Best Regards,

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060704165758</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-04 16:57:58-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] utf8 issues in Scintilla(again)</subject><body>

Does Scintilla operate in UTF-8 internally or not? If yes, then we do  
need to convert the text to UTF-8 form (which is done incorrectly  
here with "s" specifier). If no, then we should just pass the string  
straight on.

-Andrei

On Jul 3, 2006, at 9:08 PM, Fernando Correa da Conceio wrote:

&gt; The error message is in Brazilian Portuguese. What it tell is that  
&gt; there is a
&gt; byte sequence invalid in the input chars for the conversion. so  
&gt; look at this:
&gt; # is my comment
&gt;
&gt; PHP_METHOD
&gt; {
&gt;
&gt;     char *utf8; #dont need
&gt;     gchar *text;
&gt;
&gt;     zend_bool free_utf8 = FALSE; #dont need
&gt;     zend_bool free_text = FALSE;
&gt;
&gt;     gsize len = 0;
&gt;
&gt;     NOT_STATIC_METHOD();
&gt;
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "s", &amp;utf8, &amp;free_utf8))
&gt;         return;
&gt;     text = phpg_from_utf8(utf8, strlen(utf8), &amp;len, &amp;free_text  
&gt; TSRMLS_CC);
&gt;    #the above line is wrong! the utf8 var here comes from a php  
&gt; variable, so
&gt; it is not encoded in utf8, but it is a plain string. We need this  
&gt; for values
&gt; that comes from gtk, not the ones that comes from php, so since it  
&gt; is not
&gt; encoded in utf8 it contains character like  which is invalid for  
&gt; a utf8
&gt; encoded string, so it generates a fatal exception.
&gt;     # the fix is simple: do not make this!
&gt;
&gt;     if (text &amp;&amp; free_text) {
&gt;         gtk_scintilla_set_text(GTK_SCINTILLA(PHPG_GOBJECT 
&gt; (this_ptr)), text);
&gt;         g_free(text);
&gt;     }
&gt;
&gt;     if (free_utf8)
&gt;         g_free(utf8);
&gt; }
&gt;
&gt;&gt;
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060705003634</emailId><senderName>Fernando Correa da =?iso-8859-1?q?Concei=E7=E3o?=</senderName><senderEmail>listas_fernando@yahoo.com.br</senderEmail><timestampReceived>2006-07-05 00:36:34-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] utf8 issues in Scintilla(again)</subject><body>

I make another discover, why there is an error for me and not for you, maybe 
this is important.

I use it to show a file that is read. The file is saved as iso 8859-1. So i 
save the same file as utf8 and there is not the error, so you linux uses utf8 
as encoding, and this is why there is not the error to you. Because without 
see, you are passing a utf8 encoded value to set_text().

We need make the override. The scintilla must receive the value in local 
charset, not in utf8. This is a fact.
We must decide is what chararcter enconding is send in the php var to 
scintilla, 
I think that we must send the value from php variable without any change, and 
if need, the user do this change before send it to scintilla.  This is why. 
Scintilla has suport for using a charset defined by the user, like iso 
8859-1, utf8, and japanese. So the user can send a value in the character set 
that he wants and set scintilla to work with it. As in your case, you can set 
scintilla to work with utf8. 
There is other way too. Make the scintilla expect that the value send to it is 
in utf8, and in its constructor set scintilla to work with utf8, and when 
return a value from scintilla, return as utf8, so the user can convert from 
any charset that it is using to utf8 and when get a value, convert it from 
utf8.
So after all this, we must decide:
   1. Which charset will be in a variable when scintilla gets a value from 
user (utf8 or local)?
   2. Which charset will be in a variable when scintilla returns a value to 
user?

I can make all changes that is necessary(because I really want scintiila 
working), only tell me what is your decision.

PS1:
  More one thing. I discover that using:
  $text = mb_convert_encoding($text, "utf8", "ISO-8859-1");
  In my code before using $scintilla-&gt;set_text($text) solves the error for me, 
this can be a solution for everyone not using utf8.
 
PS2:
 Can you make the docs for scintilla, mozembed and sourceview? At last the 
prototipes for the functions. I will be happy in make it complete, but i need 
a skeleton to start with.

PS3:
  Can you build a windows version of scintilla? and mozenbed too if you can!

   Thanks a lot

   Fernando Correa da Conceio


 
  

		
_______________________________________________________ 
Novidade no Yahoo! Mail: receba alertas de novas mensagens no seu celular. Registre seu aparelho agora! 
http://br.mobile.yahoo.com/mailalertas/ 
 


-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060705040600</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-07-05 04:06:00-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] utf8 issues in Scintilla(again)</subject><body>

Hi Fernando,

&gt; I make another discover, why there is an error for me and not for you, maybe 
&gt; this is important.

I also receive the error when I pass a variable to set_text() instead of
just plain text.

&gt; We need make the override. The scintilla must receive the value in local 
&gt; charset, not in utf8. This is a fact.

Indeed. I just committed a patch that is a sort of compromise. The
set_text() function will expect only UTF8 encoded strings, and all
should work well.

Please update and check if the new patch works for you.

&gt; PS2:
&gt;  Can you make the docs for scintilla, mozembed and sourceview? At last the 
&gt; prototipes for the functions. I will be happy in make it complete, but i need 
&gt; a skeleton to start with.

I also wanted to start on the docs for the extensions, but currently the
whole team is focussed on the `zeta' release. After that concludes, I
think we can start thinking about docs for the extensions.

&gt; PS3:
&gt;   Can you build a windows version of scintilla? and mozenbed too if you can!

xxoes has already done the same. Please check the php-gtk-dev archives.
I'll send you a link if I find it.

Best Regards,

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060705041750</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-07-05 04:17:50-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] utf8 issues in Scintilla(again)</subject><body>

Hi Andrei,

&gt; Does Scintilla operate in UTF-8 internally or not? If yes, then we do
&gt; need to convert the text to UTF-8 form (which is done incorrectly here
&gt; with "s" specifier). If no, then we should just pass the string straight

The problem here is that text specified in the script and text taken
from a file are treated differently by PHP:

$x = " Sequncia invlida na entrada de converso";
var_dump($x);

gives me:
string(58) " Sequ ncia inv lida na entrada de convers o"

while;

$x = file_get_contents("text.txt");
var_dump($x);

gives:
string(50) " Sequncia invlida na entrada de converso"

where the file "text.txt" contains the same string as $x in the first
example. Example 2 works as expected, but Example 1's behaviour is quite
puzzling to me. Ideally, the user should be able to pass either kind of
variable to set_text() and expect it to give consistent results.

If that's not possible, then the burden of ensuring that all the text
passed to set_text() should be UTF8 encoded, will be on the user.

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060705032555</emailId><senderName>Fernando Correa da =?iso-8859-1?q?Concei=E7=E3o?=</senderName><senderEmail>listas_fernando@yahoo.com.br</senderEmail><timestampReceived>2006-07-05 03:25:55-0400</timestampReceived><subject>[PHP-GTK-DEV] Bad scintilla default size</subject><body>

Look at this example:
&lt;?php

$window = new GtkWindow();

$vbox = new GtkVBox();
$window-&gt;add($vbox);

$label = new GtkLabel("Test");
$vbox-&gt;pack_start($label, true, true);

$sc = new GtkScintilla();
$sc-&gt;set_size_request(100, 100);
$vbox-&gt;pack_start($sc);

$window-&gt;show_all();
Gtk::main();

?&gt;

This works perfect. But if I comment the line
$sc-&gt;set_size_request(100, 100);

The window now is bigger than the screen by a few points, so the botton of the 
window is off screen. I tested with many resolutions and there is the same 
error. If I  run it and after change the resolution, it appears all in the 
screen.
If this matter: kde 3.5.3

    Fernando Correa da Conceio

		
_______________________________________________________ 
Novidade no Yahoo! Mail: receba alertas de novas mensagens no seu celular. Registre seu aparelho agora! 
http://br.mobile.yahoo.com/mailalertas/ 
 


-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060705042244</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-05 04:22:44-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] utf8 issues in Scintilla(again)</subject><body>

Yes, unfortunately that's true. Even without Scintilla the user has  
to make sure that the strings they pass into Gtk+ methods are in one  
consistent encoding. There is no way around it.

-Andrei


On Jul 4, 2006, at 9:17 PM, Anant Narayanan wrote:

&gt; Hi Andrei,
&gt;
&gt;&gt; Does Scintilla operate in UTF-8 internally or not? If yes, then we do
&gt;&gt; need to convert the text to UTF-8 form (which is done incorrectly  
&gt;&gt; here
&gt;&gt; with "s" specifier). If no, then we should just pass the string  
&gt;&gt; straight
&gt;
&gt; The problem here is that text specified in the script and text taken
&gt; from a file are treated differently by PHP:
&gt;
&gt; $x = " Sequncia invlida na entrada de converso";
&gt; var_dump($x);
&gt;
&gt; gives me:
&gt; string(58) " Sequ ncia inv lida na entrada de convers  
&gt; o"
&gt;
&gt; while;
&gt;
&gt; $x = file_get_contents("text.txt");
&gt; var_dump($x);
&gt;
&gt; gives:
&gt; string(50) " Sequncia invlida na entrada de converso"
&gt;
&gt; where the file "text.txt" contains the same string as $x in the first
&gt; example. Example 2 works as expected, but Example 1's behaviour is  
&gt; quite
&gt; puzzling to me. Ideally, the user should be able to pass either  
&gt; kind of
&gt; variable to set_text() and expect it to give consistent results.
&gt;
&gt; If that's not possible, then the burden of ensuring that all the text
&gt; passed to set_text() should be UTF8 encoded, will be on the user.
&gt;
&gt; - Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060705170238</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-07-05 17:02:38-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] why ?</subject><body>

Em Qua, 2006-07-05  s 15:25 +0800, Anant Narayanan escreveu:
&gt; Hi Pablo,
&gt; 
&gt; &gt; PHP Warning:  PHP Startup: Unable to load dynamic library
&gt; &gt; '/usr/local/php-gtk2/lib/php/extensions/no-debug-non-zts-20050922/php_gtk2.so' - \
&gt; &gt; /usr/local/php-gtk2/lib/libgtkscintilla2.so: undefined symbol: g_thread_init in \
&gt; &gt;                 Unknown on line 0
&gt; &gt; PS: compiles without error.
&gt; 
&gt; Not even a warning? Does `pkg-config --list-all | grep "Scintilla"' give
&gt; you something like:
&gt; 
&gt; GtkScintilla-2.0    GtkScintilla2 - A GTK+2 wrapper for the Scintilla
&gt; editing component

Exactly the same output. I took your sources :-)
Does it has to do with PHP version or another system prerequisite ?

Pablo

&gt; 
&gt; A few more details would help.
&gt; 
&gt; - Anant
-- 
&gt; &gt; Pablo Dall'Oglio
&gt; &gt; www.dalloglio.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060706202804</emailId><senderName>Redscouse</senderName><senderEmail>red@redscouse.com</senderEmail><timestampReceived>2006-07-06 20:28:04-0400</timestampReceived><subject>[PHP-GTK-DEV] any help with rss appreciated</subject><body>


hi all,

i am redscouse, 

i am relatively new to php (around 18months) i can do most things i want to
using php (take the long way round sometimes but im getting there)
i am trying now to learn php-gtk, the reason is i am trying to create my own
rss reader for a club that i belong to, i only want it to read the one feed
just my clubs so when can gets any urgent news about upcoming events. 
I have so far created the window and buttons, put them all together and its
looking good - from my point of view ;)  
i have used a rss parser inthere but i can't seem to get it to work, and i
was hoping i might be able to get some tips here. 

Here is the code below: -
(please note the current feed url is just one im using to test)

&lt;?php 
/***********************************************************/
//  Check if the module is loaded                          //
if (!extension_loaded('gtk')) {                            //
	dl( 'php_gtk.' . PHP_SHLIB_SUFFIX);                    //
}                                                          //
//  This must be loaded for script to work                 //
/***********************************************************/

//
//  Create the Variables
//

//  How many records to display
$show = 1; //  + 1  --  Don't first is 0 ( zero )

set_time_limit(0);

$file = "http://z.about.com/6/g/martialarts/b/index.xml";
$rss_channel = array();
$currently_writing = "";
$main = "";
$item_counter = 0;

//
//  Create the functions
//

//  Shutdown function
function shutdown()
{
	//  Show message
	print "Closing Newsreader,\r\n Please wait...\r\n";
	//  Quit the program
	Gtk::main_quit();
}

//  Start the Rss Parser - ( Via Update Button )
function startElement($parser, $name, $attrs) 
{
   	global $rss_channel, $currently_writing, $main;
   	switch($name) 
	{
   		case "RSS":
   		case "RDF:RDF":
   		case "ITEMS":
   			$currently_writing = "";
   			break;
   		case "CHANNEL":
   			$main = "CHANNEL";
   			break;
   		case "IMAGE":
   			$main = "IMAGE";
   			$rss_channel["IMAGE"] = array();
   			break;
   		case "ITEM":
   			$main = "ITEMS";
   			break;
   		default:
   			$currently_writing = $name;
   			break;
   	}
	endElement();
}

function endElement($parser, $name) 
{
   	global $rss_channel, $currently_writing, $item_counter;
   	$currently_writing = "";
   	if ($name == "ITEM") 
	{
   		$item_counter++;
   	}
	characterData();
}

function characterData($parser, $data) 
{
	global $rss_channel, $currently_writing, $main, $item_counter;
	if ($currently_writing != "") 
	{
		switch($main) 
		{
			case "CHANNEL":
				if (isset($rss_channel[$currently_writing])) 
				{
					$rss_channel[$currently_writing] .= $data;
				} 
				else 
				{
					$rss_channel[$currently_writing] = $data;
				}
				break;
			case "IMAGE":
				if (isset($rss_channel[$main][$currently_writing])) 
				{
					$rss_channel[$main][$currently_writing] .= $data;
				} 
				else 
				{
					$rss_channel[$main][$currently_writing] = $data;
				}
				break;
			case "ITEMS":
				if (isset($rss_channel[$main][$item_counter][$currently_writing])) 
				{
					$rss_channel[$main][$item_counter][$currently_writing] .= $data;
				} 
				else 
				{
					//print ("rss_channel[$main][$item_counter][$currently_writing] =
$data&lt;br&gt;");
					$rss_channel[$main][$item_counter][$currently_writing] = $data;
				}
				break;
		}
	}
	showTheResults();
}

function showTheResults()
{

$xml_parser = xml_parser_create();
xml_set_element_handler($xml_parser, "startElement", "endElement");
xml_set_character_data_handler($xml_parser, "characterData");
if (!($fp = fopen($file, "r"))) 
{
	die("could not open XML input");
}

while ($data = fread($fp, 4096)) 
{
	if (!xml_parse($xml_parser, $data, feof($fp))) 
	{
		die(sprintf("XML error: %s at line %d",
					xml_error_string(xml_get_error_code($xml_parser)),
					xml_get_current_line_number($xml_parser)));
	}
}
xml_parser_free($xml_parser);

// output as HTML
if (isset($rss_channel["IMAGE"])) 
{
	print (" 
	 \""  &lt;br /&gt;&lt;br /&gt;");
} 
else 
{
	print (""); 
}
//print ("" . $rss_channel["DESCRIPTION"] . "&lt;br&gt;&lt;br&gt;");

if (isset($rss_channel["ITEMS"])) 
{
	if (count($rss_channel["ITEMS"]) &gt; 0) 
	{
		for( $i = 0; $i &lt;=$show; $i++ )  //  Change number in $i &lt;=X to change how
many ad's shown where X being number
		{
			print (" 
				" . $rss_channel["ITEMS"][$i]["TITLE"] . " &lt;br /&gt;");
			print ("" . html_entity_decode($rss_channel["ITEMS"][$i]["DESCRIPTION"])
. "");
			print ("&lt;hr width=\"60%\" /&gt;");
		}
	} 
	else 
	{
		print ("There are no articles in this feed.");
	}
}


}


//
//  Create the widgets
//


//  Create the Main window
$window = new GtkWindow();
//  Set the title
$window-&gt;set_title("Rss Newsreader - Created by Redscouse");
//  Connect 'Destroy' command with 'Shutdown' function
$window-&gt;connect('destroy', 'shutdown');
//  Set the window size
$window-&gt;set_usize(380, 270);


//  Create Vertical box - To hold everything
$box1 = &amp;new GtkVBox();
//  Add box 1 to window
$window-&gt;add($box1);


//  Create Horizontal box - For the frame, label and text window
$box2 = &amp;new GtkHBox(false, 5);
//  Set the border
$box2-&gt;set_border_width(10);
//  Pack the boxes together ( box 2 into box 1 )
$box1-&gt;pack_start($box2);

//  Create a frame
$frame = &amp;new GtkFrame('Latest News');
//  Pack the frame into box 2
$box2-&gt;pack_start($frame);


//  Create a text window
$data = &amp;new GtkText($updatedNews);
//  Add the window to the frame
$frame-&gt;add($data);


//  Create a Separator - To split the window in two
$separator = &amp;new GtkHSeparator();
//  Pack the separator into box 1
$box1-&gt;pack_start($separator, false);

//  Create Horizontal box - For the buttons
$box2 = &amp;new GtkHBox(false, 10);
//  Set the border
$box2-&gt;set_border_width(10);
//  Pack the boxes
$box1-&gt;pack_start($box2, false);


//  Create Update button
$button = &amp;new GtkButton('Update');
//  Connect update button with update function
$button-&gt;connect('clicked', 'startElement');
//  Pack the button into box 2
$box2-&gt;pack_start($button);


//  Create Close button
$button = &amp;new GtkButton('Close');
//  Connect close button with shutdown function
$button-&gt;connect('clicked', 'shutdown');
//  Pack the button into box 2
$box2-&gt;pack_start($button);


//
//  Show everything &amp; run loop
//

//  Show all
$window-&gt;show_all();

//  Run loop
Gtk::main();
?&gt;

-------------- END OF CODE ----------------

Any help with this would be appreciated very much as i seem to have hit a
brick wall.

Thanks in advance

Red.
-- 
View this message in context: http://www.nabble.com/any-help-with-rss-appreciated-tf1902856.html#a5206995
Sent from the Php - GTK - Dev forum at Nabble.com.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060708022836</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-08 02:28:36-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Removing defs</subject><body>

erm, what I think I'm trying to say goes something like 'it was put there as 
a convenience, so why do we think we need to lose it?'

&gt; come to that, why not leave two potential constructors?
&gt;
&gt; - I realise it's 'different' but then so is filter... it's effectively 
&gt; just a struct that happens to be  a child class...
&gt;
&gt;
&gt;&gt;&gt; cweiske Fri Jun 30 23:00:43 2006 UTC
&gt;&gt;&gt;
&gt;&gt;&gt;   Modified files:
&gt;&gt;&gt;     /php-gtk/ext/gtk+ gtk.defs
&gt;&gt;&gt;   Log:
&gt;&gt;&gt;   Removing GtkTreeModel::filter_new, since we already have a
&gt;&gt;&gt;   GtkTreeModelFilter constructor
&gt;&gt;
&gt;&gt; I prefer that we mess with .defs files as little as possible, since it 
&gt;&gt; will reduce any potential merge conflicts when we merge in 2.8.x .defs. 
&gt;&gt; Why not just 'ignore' this function?
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060708054616</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-08 05:46:16-0400</timestampReceived><subject>[PHP-GTK-DEV] Re:</subject><body>


Andrei,

&gt;&gt; -(define-function item_factories_path_delete
&gt;&gt; +(define-method factories_path_delete
&gt;&gt; +  (of-object "GtkItemFactory")
&gt;&gt;    (c-name "gtk_item_factories_path_delete")
&gt; The method should be called "path_delete", not "factories_path_delete".

No. The C function is called "...factorIES...", not "..factorY...". So
it doesn't apply to a single factory instance - thus I let the
"factories" in there. But if you think it's better without factories in
front, I'll remove it.

-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060708082945</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-08 08:29:45-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: Re:</subject><body>

I know what the English plural looks like. The fact is that you took  
a function that has a C name of "gtk_item_factories_path_delete" and  
put it into GtkItemFactor(y), since there is no GtkItemFactor(ies).  
Since you already used up the "factor" part of the name, it shouldn't  
be in the method.

-Andrei


On Jul 7, 2006, at 10:46 PM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;&gt;&gt; -(define-function item_factories_path_delete
&gt;&gt;&gt; +(define-method factories_path_delete
&gt;&gt;&gt; +  (of-object "GtkItemFactory")
&gt;&gt;&gt;    (c-name "gtk_item_factories_path_delete")
&gt;&gt; The method should be called "path_delete", not  
&gt;&gt; "factories_path_delete".
&gt;
&gt; No. The C function is called "...factorIES...", not "..factorY...". So
&gt; it doesn't apply to a single factory instance - thus I let the
&gt; "factories" in there. But if you think it's better without  
&gt; factories in
&gt; front, I'll remove it.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060708192239</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-08 19:22:39-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Notes</subject><body>

http://gtk.php.net/manual/en/gtk.gtkwidget.signal.focus-out-event.php should 
have one after the next server refresh. (I inadvertently locked everybody 
out earlier.)



&gt; Do you have a link to a page with notes?
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Jul 8, 2006, at 11:49 AM, Steph Fox wrote:
&gt;
&gt;&gt; You should be able to if you're logged in (via http://gtk.php.net/ 
&gt;&gt; admin-login.php), but hopefully not otherwise.
&gt;&gt;
&gt;&gt; That said, I'm logged into the 'browse' page at present and it  still 
&gt;&gt; isn't picking up the database. Can you confirm the path  please? - it 
&gt;&gt; should be getting the path from config.inc for those  pages.
&gt;&gt;
&gt;&gt;&gt; Can we see the notes now?
&gt;&gt;&gt;
&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Jul 8, 2006, at 11:43 AM, Steph Fox wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; OK, all I need to do now (AFAICS anyway) on the non-systems side  is 
&gt;&gt;&gt;&gt; put in a check for the existence of the queuing db and  something to 
&gt;&gt;&gt;&gt; create it if it's missing. But I'll probably find  out differently  on 
&gt;&gt;&gt;&gt; the next server refresh :)
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; ok, I'd better go and prevent the world from being able to see  it 
&gt;&gt;&gt;&gt;&gt; just yet :)
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; Ok, I unarchived the gtknotes.sqlite into the dir. What now?
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; On Jul 7, 2006, at 8:48 PM, Steph Fox wrote:
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; woops....
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; catch!
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Where is the DB you need me to put on the web server?
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; &lt;phpgtkdoc_notes.zip&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060710195556</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-10 19:55:56-0400</timestampReceived><subject>[PHP-GTK-DEV] Fw: [php-gtk-webmaster] strangely, this works...</subject><body>

....

----- Original Message ----- 
From: "Steph Fox" &lt;steph@zend.com&gt;
To: "PHP-GTK web" &lt;gtk-webmaster@php.net&gt;
Cc: "Scott Mattocks" &lt;scott@crisscott.com&gt;
Sent: Monday, July 10, 2006 7:46 PM
Subject: [php-gtk-webmaster] strangely, this works...


&gt; ob_start();
&gt; echo "&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n";
&gt; ?&gt;
&gt; &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
&gt;    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&gt; &lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"&gt;
&gt; &lt;head&gt;
&gt; &lt;meta content="text/html; charset=UTF-8" http-equiv="Content-Type" /&gt;
&gt; ...
&gt;
&gt; OK so it makes it invalid again, but a) it doesn't cause any problems with 
&gt; display and b) the page I validated had HTML errors in it that I hadn't 
&gt; noticed until the validator told me!
&gt;
&gt; It'd make sense to me to switch, given that 4.01 fights back and 4.0 is 
&gt; antiquated.
&gt;
&gt; Thoughts?
&gt; -- 
&gt; PHP-GTK Webmaster Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060711104220</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-11 10:42:20-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that</subject><body>

Steph,

&gt; We absolutely need cookies. Or at least, I _think_ we do. There's
&gt; possibly a way around that, too... lemme chew on it...
Cookies are ok.

&gt; With any luck (and assuming I didn't break anything in the process) your
&gt; 'caching issue' might have gone away now. Got time to try it?
I'll test it.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060713044037</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-07-13 04:40:37-0400</timestampReceived><subject>[PHP-GTK-DEV] notes and all that #2</subject><body>

Hi Steph,


While I am able to enable the test mode, Previewing new notes or adding
them does not work.
Further, all notes text is bold.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060713045015</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-13 04:50:15-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] notes and all that - the stylesheet challenge!</subject><body>

If you're going to start moving it over it'd be best to start by making the 
declarations correct as XHTML 1.0 Transitional (both for the site and for 
the manual html build, do you need me to send you your old patch or do you 
still have a copy?)

The meta tags, image tags and style bits need doing as part of the same 
commit, otherwise the new DTD will totally ignore them.

Missing closing tags, we _seem_ to get away with, but obviously they'd be 
better fixed. Since most of this stuff's generated you'll probably find they 
only need fixing in about three places.

The stylesheets, I think we should review again after the rest is sorted 
out.

- Steph


&gt;&gt; I went through a couple of pages last night to check. /&gt; for meta and
&gt;&gt; image tags is the main culprit, style = 'white-space: nowrap' is second,
&gt;&gt; the rest I found were mostly actual HTML errors that 4.01 Transitional
&gt;&gt; allowed us to get away with (missing closing tags and shiznit).
&gt; So can I go on fixing them?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060713163647</emailId><senderName>"auroraeosrose at hotmail dot com"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-07-13 16:36:47-0400</timestampReceived><subject>[PHP-GTK-DEV] #25516 [Sus-&gt;Csd]: Gtk Widgets cannot be stored in Object Variables</subject><body>

 ID:               25516
 User updated by:  auroraeosrose at hotmail dot com
 Reported By:      auroraeosrose at hotmail dot com
-Status:           Suspended
+Status:           Closed
 Bug Type:         PHP-GTK related
 Operating System: Win XP Pro SP1
 PHP Version:      1.0.0
 New Comment:

Fixed in current CVS


Previous Comments:
------------------------------------------------------------------------

[2003-10-03 21:38:01] alan_k@php.net

I think without a final 'release' version or some ability to debug on
XP  it will be imposible to diagnose or fix this.

Suspending until PHP5 &amp; PHP-GTK are actually released.

You may just try removing all the PHP &amp; PHP-GTK binaries and update
from the latest snapshots.

------------------------------------------------------------------------

[2003-09-15 07:31:24] auroraeosrose at hotmail dot com

Although I can't find the directive in the php.ini I'm using, implicit
clone is off if you check phpinfo();  But that would only matter if I
were trying to copy an object, e.g. $window =  new GtkWindow();
$newwindow = $window; ...but I'm not doing any of that, I'm just trying
to assign a gtk widget to an object variable

Aliasing does absolutely nothing - problem still exists

------------------------------------------------------------------------

[2003-09-12 23:33:23] alan_k@php.net

can you follow php4 conventsions and use aliasing? 
$class = &amp;new Window();
$this-&gt;window = &amp;new GtkWindow($type);

does it work ok then?

There is a BC flag in php.ini that is supposed to turn off/on object
cloning.. - is that set?

------------------------------------------------------------------------

[2003-09-12 10:14:37] auroraeosrose at hotmail dot com

Description:
------------
I went to the mailing list first to make sure I wasn't losing my mind
and they assured me I'm supposed to be able to store a widget in an
object variable.  I'm using builds from http://kromann.info for php5
and php-gtk for php5

The code I'm using is very simple - it's just supposed to show a
window.  The class is below - very basic.  Here's the deal - when use
$this-&gt;window inside the newWindow method nothing happens.  The script
runs, I guess, and that's the end of it.

It seems to be impossible to assign a php-gtk widget to an object
variable, which is really, really annoying

Reproduce code:
---------------
&lt;?php
dl('php_gtk.dll');

$class = new Window();
$window = $class-&gt;newWindow('main', 'Product :: Title Here');
$window-&gt;connect('destroy', 'destroy');
$window-&gt;connect('delete-event', 'delete');
$window-&gt;show_all();
Gtk::main();

 function delete()
 {
  return FALSE;
 }

 function destroy()
 {
  GTK::main_quit();
 }

class Window
{
 var $window;

function newWindow($name, $title, $type = GTK_WINDOW_TOPLEVEL, $width
=
NULL, $height = NULL, $position = GTK_WIN_POS_CENTER)
{
 //find height and width
 if(is_null($width))
 {
  $width = gdk::screen_width()-50;
 }
 if(is_null($height))
 {
  $height = gdk::screen_height()-100;
 }
 //create the window
 $this-&gt;window = new GtkWindow($type);
 $this-&gt;window-&gt;set_name($name);
 $this-&gt;window-&gt;set_title($title);
 $this-&gt;window-&gt;set_default_size($width, $height);
 $this-&gt;window-&gt;set_position($position);
 return $this-&gt;window;
}
}
?&gt;

Expected result:
----------------
A window should appear

Actual result:
--------------
Nothing happens, no errors, the script just kind of acts like it was
run and closed.

Here's some more weirdness - php seems to be dying completely (and
silently) on

$this-&gt;window = new GtkWindow($type);

because I can't echo or print_r or var_dump anything after that call,
while before I can just fine, and I'm not getting any errors.


And if I change every occurence of $this-&gt;window to just $window and
try to do a var_dump, nothing is printed but the window appears.  If I
do a print_r on $window
I get GtkWindow Object - and the window appears properly - so the
problem is with the object variable.


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=25516&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060715154717</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-15 15:47:17-0400</timestampReceived><subject>[PHP-GTK-DEV] site changes vs cron</subject><body>

Hey Andrei,

I finally got the front page to validate, but...

The updates file generated during cron needs to move to using &lt;li&gt; and an 
'id' attribute, rather than  and the homegrown 'date' attribute we 
used to get away with under HTML 4.

'id' must be unique and must not begin with a digit. (Our dates are 
generated from the timestamp on the server when the update script runs.)

The index file on the site needs to have the &lt;ul&gt; declaration in place ready 
to contain the list. (and also needs to 'lose' the paragraph there).

I rewrote the 'write to file' part of the merge script (also called during 
the cron run) to add a 'd' to the start of the date and a period followed by 
a number at the end of it. I was planning to strip those excess 'bits' on 
the way back in, seeing as they're purely there to please the god of XHTML, 
but actually it looks to be sorting correctly even with them left in.

Basically this needs everything to go into CVS just before the cron job 
runs. Given that that's the way of it, did you want to look this stuff over 
first?

- Steph

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060716191447</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-16 19:14:47-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-GTK2 Zeta on Windows</subject><body>

ps Actually that shouldn't work under *nix either! Christian moved this and 
a bunch of similar methods out of the Gtk namespace and into their 
respective class namespace a couple of weeks ago.

&gt; Try GtkClipboard::get().
&gt;
&gt;
&gt;&gt; Hi all,
&gt;&gt;
&gt;&gt; I just did a quick test of a short php-gtk script that uses a 
&gt;&gt; GtkClipboard on both Windows and Linux. Under Linux, no problem. Under 
&gt;&gt; Windows, the call:
&gt;&gt;
&gt;&gt; gtk::clipboard_get();
&gt;&gt;
&gt;&gt; Evokes this error:
&gt;&gt;
&gt;&gt; "PHP Fatal error:  Call to undefined method Gtk::clipboard_get() in 
&gt;&gt; clipboard.php on line 40"
&gt;&gt;
&gt;&gt; This worked with Christien's Gnope update 1.2.2, but with zeta, it's a 
&gt;&gt; no-go.
&gt;&gt;
&gt;&gt; Because this error comes up when the above is the only line in a script, 
&gt;&gt; I don't think the rest of the code is relevant, so I haven't reproduced 
&gt;&gt; it here.
&gt;&gt;
&gt;&gt;
&gt;&gt; Take care.
&gt;&gt;
&gt;&gt; -Ron T.
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060716202749</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-07-16 20:27:49-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Zeta?</subject><body>


&gt; Lag? :)

Erm, yeah! I was out of station for a few days, but hey, its never  
too late to party :)

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060716221737</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-07-16 22:17:37-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-GTK 2 article?</subject><body>


&gt; Which "what's new" page are you talking about? This one [1]? That's  
&gt; the one I was told is not specific enough.

Yeah. I can see why someone looking forward to PHP-GTK 2 isn't quite  
happy with that page (gtk.php.net/about.php, not gravitonic.com/ 
about.php) ;)

For starters, I'll update the Wikipedia page now :)

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060717132901</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-17 13:29:01-0400</timestampReceived><subject>[PHP-GTK-DEV] Repack (DOS vs NIX line endings on text files)</subject><body>

Hi all,

Just a note to let y'all know I'm re-packing the win32 distribution so that 
the .txt files in the toplevel directory have DOS line endings. It's been 
pointed out to me (thanks Madeleine) that when Windows users click on a .txt 
file the default is to open it with Notepad, which has no knowledge of *nix 
line endings.

Just in case you wondered why the dates were all skewed :)

- Steph 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060717155228</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-17 15:52:28-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] version_compare doesn't like zeta</subject><body>

And in my blog, apparently.. :/

On Jul 17, 2006, at 8:44 AM, Steph Fox wrote:

&gt; Well... I just discovered everything win32-wise was labelled 'debug' 
&gt; even though it was 'release', so I need to re-do those anyway. And 
&gt; give the human-readable files DOS endings.
&gt;
&gt; And our release announcement on the general list was invisible to 
&gt; anyone with Outlook Express anyway :)
&gt;
&gt; Yeah I think we need to re-release and put a eulogy for zeta on the 
&gt; home page.
&gt;
&gt;
&gt;
&gt;&gt; Oh, version_compare(), how single-minded it is.. I proposed extending 
&gt;&gt; the support for Greek letters, but doesn't look like anyone wants 
&gt;&gt; that. Dammit. So what, we need to re-release? That sucks, PR-wise.
&gt;&gt;
&gt;&gt; On Jul 17, 2006, at 6:44 AM, Steph Fox wrote:
&gt;&gt;
&gt;&gt;&gt; oops :)
&gt;&gt;&gt;
&gt;&gt;&gt; change '30+ packages' or one... better wait for Andrei to wake up.
&gt;&gt;&gt;
&gt;&gt;&gt; /me holds back on committing those re-rolled packs
&gt;&gt;&gt;
&gt;&gt;&gt; ----- Original Message ----- From: "Christian Weiske" 
&gt;&gt;&gt; &lt;cweiske@cweiske.de&gt;
&gt;&gt;&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt;&gt; Sent: Monday, July 17, 2006 3:37 PM
&gt;&gt;&gt; Subject: [PHP-GTK-DEV] version_compare doesn't like zeta
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060718001146</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-18 00:11:46-0400</timestampReceived><subject>[PHP-GTK-DEV] Alpha re-released</subject><body>

Just committed stuff for alpha. Steph, you can do your thing now.

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060718032606</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-18 03:26:06-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: Alpha re-released</subject><body>

http://gtk.php.net/

-Andrei


On Jul 17, 2006, at 7:34 PM, Steph Fox wrote:

&gt; Just got home, slightly wallahed, next time I wake it'll all come  
&gt; together.
&gt;
&gt; Did you make an announcement on the homepage yet?
&gt;
&gt; ----- Original Message ----- From: "Andrei Zmievski"  
&gt; &lt;andrei@gravitonic.com&gt;
&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt; Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Tuesday, July 18, 2006 2:11 AM
&gt; Subject: Alpha re-released
&gt;
&gt;
&gt;&gt; Just committed stuff for alpha. Steph, you can do your thing now.
&gt;&gt; -Andrei
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060718155612</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-18 15:56:12-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkFunction enums don't work in php</subject><body>

Yeah, let's do Gdk::FUNC_OR, Gdk::FUNC_XOR

On Jul 18, 2006, at 7:45 AM, Christian Weiske wrote:

&gt; Hi all,
&gt;
&gt; GdkFunction enums don't work, since most of the constant names in there
&gt; are reserved php operators, e.g. Gdk::XOR or Gdk::OR.
&gt; It seems we need to prefix them with an underscore or so.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060723225708</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-23 22:57:08-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Class 'GladeXML' not found</subject><body>

Hi,

I'd guess you have a shared extension build there, in which case you need to 
load it via your php.ini:

php-gtk.extensions = php_gtk_libglade2.so

- either that or you didn't build it?

- Steph

&gt;
&gt; I run  umbuto linux dist. since yesterday .
&gt;
&gt; the whole installation of php-gtk2 and php5 took me a day and everything
&gt; works fine now, except that i get an error " "class GladeXml can not be
&gt; found".
&gt;
&gt; this is my test file
&gt;
&gt; &lt;?php
&gt; //Create a new glade instance, load the
&gt; // widgets from the file passed as parameter
&gt; $glade = new GladeXML('helloglade.glade');
&gt;
&gt; //Start the main loop
&gt; Gtk::main();
&gt; ?&gt;
&gt;
&gt;
&gt;
&gt;
&gt; who can help ???
&gt; -- 
&gt; View this message in context: 
&gt; http://www.nabble.com/Class-%27GladeXML%27-not-found-tf1104480.html#a5459774
&gt; Sent from the Php - GTK - Dev forum at Nabble.com.
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060725140512</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-25 14:05:12-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Patch for GtkScintilla : all constants</subject><body>

We never even decided which scintilla to take yet...  one of them already 
has constants.

Thanks Fernando, but I think we still need to have that debate before 
applying!

- Steph

----- Original Message ----- 
From: "Fernando Correa da Conceio" &lt;listas_fernando@yahoo.com.br&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, July 25, 2006 5:49 AM
Subject: [PHP-GTK-DEV] Patch for GtkScintilla : all constants


&gt; This patch defines all constants for gtkscintilla, using the same names
&gt; as used in c source, so it ends as GtkScintilla::SC_EOL_CR.
&gt; I will build now one for gtkmozembed, I tried using the enum in the .def
&gt; file, but it segfault. Using the same way as for scintilla works fine,(I
&gt; tested with some) so can I make it?
&gt;
&gt; This is for Scintilla, add to scintilla.overrides. I am sending again
&gt; because the previous the mail server rejected, because is too big. So
&gt; now I put it on a server.
&gt;
&gt; http://manualphp.sourceforge.net/patch.txt.bz2
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; _______________________________________________________
&gt; Voc quer respostas para suas perguntas? Ou voc sabe muito e quer 
&gt; compartilhar seu conhecimento? Experimente o Yahoo! Respostas !
&gt; http://br.answers.yahoo.com/
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060728011629</emailId><senderName>International Technical Information Center</senderName><senderEmail>mfujise@itic.co.jp</senderEmail><timestampReceived>2006-07-28 01:16:29-0400</timestampReceived><subject>[PHP-GTK-DEV] =?ISO-2022-JP?B?GyRCTCQ+NUJ6OS05cCIoISE1Oz1RS11MdRsoQihUZWNobmlj?=</subject><body>

English texts follow Japanese.

$B9q:]5;=Q&gt;pJs%;%s%?!&lt;3t&lt;02q&lt;R(B
$BBeI=&lt;hDyLr(B $BF#@%44IW(B
TEL: 03-5914-1360  FAX: 03-5914-1361
E-mail: mfujise@itic.co.jp
URL: http://www.itic.co.jp/
$B:#8e!"Ev&lt;R$+$i$N@kEA%a!&lt;%k$rI,MW$H$5$l$J$$J}$O!"(Bmfujise@itic.co.jp \
$B08$K$4O"Mm$/$@$5$$!#(B

php-gtk-dev@lists.php.net $BMM(B

$BGR7&lt;(B

$B5.&lt;R$^$9$^$9$4@61I$N$3$H$H$*7D$S?=$7&gt;e$2$^$9!#(B

$BJ@&lt;R$O!"5;=QJ,Ln$NK]Lu$rF@0U$H$7$F$*$j$^$9!#K]Lu$rI,MW$H$5$l$k:]$O!"@'Hs!"J@&lt;R$N%[!&lt;%`%Z!&lt;%8!"(BURL: \
http://www.itic.co.jp/ \
$B$r$*FI$_$/$@$5$$$^$7$F$4O"Mm$/$@$5$$$^$9$h$&amp;$*4j$$$$$?$7$^$9!#(B

$B$*K;$7$$@^!"K\%a%C%;!&lt;%8$r$*FI$_$/$@$5$$$^$7$F$"$j$,$H$&amp;$4$6$$$^$7$?!#(B

$B7I6q(B


Dear Sir

We are highly skilled in technical translation. Whenever your circumstances require \
translating, please visit our Internet website, \
http://www.itic.co.jp/index_English.htm, and contact us.

Thank you for taking the time to read this message.

Best regards,

Mikio Fujise, President
International Technical Information Center Co., Ltd.
#312, 2-6-11, Sakashita
Itabashi-ku, Tokyo, Japan  174-0043
TEL: 03-5914-1360  FAX: 03-5914-1361
E-mail: mfujise@itic.co.jp
URL: http://www.itic.co.jp/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060730183335</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-30 18:33:35-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] get_row_separator_func</subject><body>

For now.

-Andrei


On Jun 12, 2006, at 12:14 PM, Christian Weiske wrote:

&gt; Hello all,
&gt;
&gt;
&gt; GtkTreeView/GtkComboBox::get_row_separator_func() hasn't been
&gt; implemented yet because I didn't know how to return callbacks.
&gt; I don't even know if it's possible.
&gt;
&gt; PyGtk just sets the methods to the ignore list; shall we do the same?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060730183727</emailId><senderName></senderName><senderEmail>andrei</senderEmail><timestampReceived>2006-07-30 18:37:27-0400</timestampReceived><subject>[PHP-GTK-DEV] #37455 [Opn-&gt;Csd]: Patch for gtk_selection_data_set_uris/gtk_selection_data_get_uris</subject><body>

 ID:               37455
 Updated by:       andrei@php.net
 Reported By:      cweiske@php.net
-Status:           Open
+Status:           Closed
 Bug Type:         PHP-GTK related
 Operating System: Any
 PHP Version:      5.1.4
 New Comment:

This bug has been fixed in CVS.

Snapshots of the sources are packaged every three hours; this change
will be in the next snapshot. You can grab the snapshot at
http://snaps.php.net/.
 
Thank you for the report, and for helping us make PHP better.


Previous Comments:
------------------------------------------------------------------------

[2006-05-16 04:32:47] cweiske@php.net

Description:
------------
Attached is a patch for 
gtk_selection_data_set_uris/gtk_selection_data_get_uris. It can be
found at
http://xml.cweiske.de/selectiondata.diff

Reproduce code:
---------------
--- ext/gtk+/gtk.overrides2006-05-16 06:28:22.000000000 +0200
+++ ../gtk.overrides2006-05-16 06:28:03.000000000 +0200
@@ -750,6 +750,13 @@
 }
 
 %%
+add-arginfo GtkAboutDialog set_artists
+static
+ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
+    ZEND_ARG_INFO(0, artists)
+ZEND_END_ARG_INFO();
+
+%%
 override gtk_about_dialog_set_artists
 PHP_METHOD
 {
@@ -780,6 +787,13 @@
 }
 
 %%
+add-arginfo GtkAboutDialog set_authors
+static
+ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
+    ZEND_ARG_INFO(0, authors)
+ZEND_END_ARG_INFO();
+
+%%
 override gtk_about_dialog_set_authors
 PHP_METHOD
 {
@@ -810,6 +824,13 @@
 }
 
 %%
+add-arginfo GtkAboutDialog set_documenters
+static
+ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
+    ZEND_ARG_INFO(0, documenters)
+ZEND_END_ARG_INFO();
+
+%%
 override gtk_about_dialog_set_documenters
 PHP_METHOD
 {
@@ -2879,6 +2900,83 @@
 
 %% }}}
 
+
+%% {{{ GtkSelectionData
+
+%%
+override gtk_selection_data_get_uris
+PHP_METHOD
+{
+    gchar **ret;
+    gchar *cp_str;
+    gsize cp_len;
+    zend_bool free_cp_str;
+    GtkSelectionData *selection_data = NULL;
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
+        return;
+
+    selection_data = (GtkSelectionData *) PHPG_GBOXED(this_ptr);
+    ret = gtk_selection_data_get_uris(selection_data);
+    if (ret) {
+        array_init(return_value);
+        while (*ret) {
+            cp_str = phpg_from_utf8(*ret, strlen(*ret), &amp;cp_len,
&amp;free_cp_str TSRMLS_CC);
+            if (cp_str) {
+                add_next_index_stringl(return_value, cp_str, cp_len,
!free_cp_str);
+            } else {
+                zval_dtor(return_value);
+                RETURN_NULL();
+            }
+            *ret++;
+        }
+//        g_strfreev(*ret);
+    } else {
+        RETURN_NULL();
+    }
+}
+
+%%
+add-arginfo GtkSelectionData set_uris
+static
+ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
+    ZEND_ARG_INFO(0, uris)
+ZEND_END_ARG_INFO();
+
+%%
+override gtk_selection_data_set_uris
+PHP_METHOD
+{
+    gchar **uris;
+    zval *arr = NULL;
+    zval **data;
+    int i, arr_count;
+    GtkSelectionData *selection_data = NULL;
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
+        return;
+    }
+
+    arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
+    uris = safe_emalloc(arr_count+1, sizeof (gchar *), 0);
+
+    for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
+         zend_hash_get_current_data(Z_ARRVAL_P(arr), (void **)&amp;data)
== SUCCESS;
+         zend_hash_move_forward(Z_ARRVAL_P(arr))) {
+
+        convert_to_string_ex(data);
+        uris[i++] = Z_STRVAL_PP(data);
+
+    }
+
+    uris[i] = NULL;
+    selection_data = (GtkSelectionData *) PHPG_GBOXED(this_ptr);
+    gtk_selection_data_set_uris(selection_data, (gchar **)uris);
+    efree(uris);
+}
+
+%% }}}
+
 %% {{{ GtkSpinButton
 
 %%



------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=37455&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060730191724</emailId><senderName></senderName><senderEmail>andrei</senderEmail><timestampReceived>2006-07-30 19:17:24-0400</timestampReceived><subject>[PHP-GTK-DEV] #37297 [Opn-&gt;Csd]: segfault when dumping GtkSelectionData</subject><body>

 ID:               37297
 Updated by:       andrei@php.net
 Reported By:      cweiske@php.net
-Status:           Open
+Status:           Closed
 Bug Type:         PHP-GTK related
 Operating System: Linux/Gentoo
 PHP Version:      5.1.3
 New Comment:

I fixed this in CVS. Now the selection, target, and type properties of
GtkSelectionData are GdkAtom objects and you have to cast them to
(string) in order to get the string representation. Let me know if this
is going to be too cumbersome. I may adjust GtkSelectionData to have
just strings instead of GdkAtom objects for properties.

Also, when running your example the 'data' property is NULL. Is that
normal?


Previous Comments:
------------------------------------------------------------------------

[2006-05-03 18:31:09] cweiske@php.net

Description:
------------
Bug in drag'n'drop:
Drag from "from" button to "to" button.
You will get a segfault.


Reproduce code:
---------------
&lt;?php
$wnd = new GtkWindow();
$wnd-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));
$hbox = new GtkHBox();
$wnd-&gt;add($hbox);

$btnFrom = new GtkButton('From');
$btnTo   = new GtkButton('To');

$hbox-&gt;pack_start($btnFrom);
$hbox-&gt;pack_start($btnTo);

$btnFrom-&gt;drag_source_set(
    Gdk::BUTTON1_MASK,
    //change to text/plain, and it works
    array(array('text/xml', 0, 1)),
    Gdk::ACTION_COPY | Gdk::ACTION_MOVE
);
$btnFrom-&gt;connect('drag-data-get', 'onGetDragData');


$btnTo-&gt;drag_dest_set(
    Gtk::DEST_DEFAULT_ALL,
    //change to text/plain, and it works
    array(array('text/xml', 0, 1)),
    Gdk::ACTION_COPY | Gdk::ACTION_MOVE
);

function onGetDragData($widget, $context, $selection, $info, $time) {
    var_dump($selection);
}


$wnd-&gt;show_all();
Gtk::main();
?&gt;

Actual result:
--------------
Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 16384 (LWP 20870)]
0xb7c5b203 in strlen () from /lib/libc.so.6
(gdb) bt
#0  0xb7c5b203 in strlen () from /lib/libc.so.6
#1  0xb75dbcbd in phpg_GtkSelectionData_read_type (object=0x8eb03ec,
    return_value=0xbf8f3cf0) at gen_gtk.c:45552
#2  0xb75ff86b in phpg_get_properties (object=0x8d9bb74)
    at /data/cvs/phpgtk2/php-gtk/main/phpg_support.c:173
#3  0x082c852b in php_var_dump (struc=0x87d1e64, level=1)
    at /data/cvs/php/php-5.1.2/ext/standard/var.c:139
#4  0x082c8736 in zif_var_dump (ht=1, return_value=0x8da9a74,
    return_value_ptr=0x0, this_ptr=0x0, return_value_used=0)
    at /data/cvs/php/php-5.1.2/ext/standard/var.c:192
#5  0x0834a906 in zend_do_fcall_common_helper_SPEC
(execute_data=0xbf8f3e20)
    at zend_vm_execute.h:192
#6  0x0834a218 in execute (op_array=0x8d95078) at zend_vm_execute.h:92
#7  0x08328339 in zend_call_function (fci=0xbf8f3f50, fci_cache=0x0)
    at /data/cvs/php/php-5.1.2/Zend/zend_execute_API.c:907
#8  0x08327bae in call_user_function_ex (function_table=0x0,
object_pp=0x0,
    function_name=0x0, retval_ptr_ptr=0x0, param_count=0, params=0x0,
    no_separation=0, symbol_table=0x0)
    at /data/cvs/php/php-5.1.2/Zend/zend_execute_API.c:571
#9  0xb7605a8a in phpg_closure_marshal (closure=0x8da9b50,
return_value=0x0,
    n_param_values=5, param_values=0xbf8f4210,
invocation_hint=0xbf8f40f8,
    marshal_data=0x0) at
/data/cvs/phpgtk2/php-gtk/main/phpg_closure.c:124
#10 0xb6fe330e in g_closure_invoke () from
/usr/lib/libgobject-2.0.so.0



------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=37297&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060731044614</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-07-31 04:46:14-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: site changes vs cron</subject><body>

When I get time to do something for the project, trust me - you'll be the 
first to know.

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Sunday, July 30, 2006 8:29 PM
Subject: Re: [PHP-GTK-DEV] Re: site changes vs cron


&gt; So, do we still need to update something here?
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Jul 15, 2006, at 9:02 AM, Steph Fox wrote:
&gt;
&gt;&gt; OK, I'll separate out the dodgy bits and throw them at you. As ever ;)
&gt;&gt;
&gt;&gt; Enjoy!
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; Yeah, but I won't have time today. I think I'll just make the  release 
&gt;&gt;&gt; and we can fix up the remaining bits of the site tomorrow.
&gt;&gt;&gt; -Andrei
&gt;&gt;&gt; On Jul 15, 2006, at 8:47 AM, Steph Fox wrote:
&gt;&gt;&gt;&gt; Hey Andrei,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I finally got the front page to validate, but...
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; The updates file generated during cron needs to move to using  &lt;li&gt; 
&gt;&gt;&gt;&gt; and an 'id' attribute, rather than  and the  homegrown 'date' 
&gt;&gt;&gt;&gt; attribute we used to get away with under HTML 4.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; 'id' must be unique and must not begin with a digit. (Our dates  are 
&gt;&gt;&gt;&gt; generated from the timestamp on the server when the update  script 
&gt;&gt;&gt;&gt; runs.)
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; The index file on the site needs to have the &lt;ul&gt; declaration in 
&gt;&gt;&gt;&gt; place ready to contain the list. (and also needs to 'lose' the 
&gt;&gt;&gt;&gt; paragraph there).
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I rewrote the 'write to file' part of the merge script (also  called 
&gt;&gt;&gt;&gt; during the cron run) to add a 'd' to the start of the  date and a 
&gt;&gt;&gt;&gt; period followed by a number at the end of it. I was  planning to  strip 
&gt;&gt;&gt;&gt; those excess 'bits' on the way back in, seeing  as they're  purely 
&gt;&gt;&gt;&gt; there to please the god of XHTML, but actually  it looks to  be sorting 
&gt;&gt;&gt;&gt; correctly even with them left in.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Basically this needs everything to go into CVS just before the  cron 
&gt;&gt;&gt;&gt; job runs. Given that that's the way of it, did you want to  look  this 
&gt;&gt;&gt;&gt; stuff over first?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; - Steph
&gt;&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060731162454</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-07-31 16:24:54-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSelectionData:: get_uris/set_uris override</subject><body>

Try again.

On Jul 31, 2006, at 1:05 AM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;
&gt; It doesn't compile for me anymore:
&gt;
&gt; /data/cvs/phpgtk2/php-gtk/main/phpg_atom.c: In function
&gt; `phpg_gdkatom_cast_object':
&gt; /data/cvs/phpgtk2/php-gtk/main/phpg_atom.c:102: error: `atom_name'
&gt; undeclared (first use in this function)
&gt; /data/cvs/phpgtk2/php-gtk/main/phpg_atom.c:102: error: (Each undeclared
&gt; identifier is reported only once
&gt; /data/cvs/phpgtk2/php-gtk/main/phpg_atom.c:102: error: for each 
&gt; function
&gt; it appears in.)
&gt; make: *** [main/phpg_atom.lo] Error 1
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060616204652</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-16 20:46:52-0400</timestampReceived><subject>[PHP-GTK-DEV] Even more confused over test dir</subject><body>

The dir needs a good cleanup before we release anything IMHO.

Can we (in future) keep extension-specific tests/demos in their respective 
extension directory? We have a lot of hangovers from PHP-GTK 1 at present 
that need to die.

The bug stuff needs to be a bit more in line with PHP's tests too - there's 
nothing to tell you whether a bug is present or not. Running 'bugrunner.php' 
here gave the useful output:

Score:
 passed :     0 (  0.00%)
 error  :        0 (  0.00%)

- Steph 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060616202603</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-16 20:26:03-0400</timestampReceived><subject>[PHP-GTK-DEV] Confused over demo</subject><body>

Hi all,

I'm working through our demos at present.

Firstly, I've apparently a handful of .dlls that need updating before I can 
look at imgbrowser.php, but that's neither here nor there (tho' I'm confused 
as to why my pixbufloaders are asking for something more recent than the 
.dlls that came with them).  So I'm glad that demo's there, because 
otherwise I wouldn't have known I needed to upgrade those .dlls :)

Secondly, I'm very confused about gtkwindow.php.  What's it actually 
intended to do? It loads up saying 'Click the button!' but the button's not 
connected to anything, so clicking it does nothing. It has a popup window 
lurking behind it, full of 'unsupported types'. I'm not at all sure what 
it's supposed to be demonstrating. Perhaps someone could post me a 
screenshot of what it does under *nix?

Thirdly, we still have two stock-browser demos in there. We should lose 
stock-browser2.php if it's just a copy of stock-browser.php, no?

Moving on to tests...

- Steph

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060613194916</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-13 19:49:16-0400</timestampReceived><subject>[PHP-GTK-DEV] lookup -&gt; php_lookup()?</subject><body>


Hi all,


We have two class methods with name "lookup" that come out as
"php_lookup" (GdkWindow and GtkTextTagTable).

I think it's php_compat.h that defines
&gt; #define lookup                         php_lookup
Could that be?


http://cvs.php.net/viewcvs.cgi/php-src/main/php_compat.h?view=markup&amp;rev=1.29
-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060617191622</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-17 19:16:22-0400</timestampReceived><subject>[PHP-GTK-DEV] NTRVNRP</subject><body>

Hi Chris,

Do you happen to have any test code lying around for anything you've marked 
as 'NTRVNRP' in the TODO? It'd save time if...

- Steph 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060618131654</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-18 13:16:54-0400</timestampReceived><subject>[PHP-GTK-DEV] more cleaning up...</subject><body>

Coupla questions here.

1) It doesn't look right to me to be throwing construct exceptions when 
someone gets the argument list wrong. There's already an error mechanism in 
place for that, and it's not really 'exceptional'. We should be using them 
only when the actual object creation fails IMHO.

Any objections to my taking those out, where they exist? (NB they're not 
consistent either.)

2) We still have the gtk and gdk overrides from PHP-GTK 1 in the source. Are 
these still useful to anyone or can we lose them now?

3) Same goes for bits and pieces of out-commented PHP-GTK 1 code in /main - 
useful, or 'can go'?

4) We need to come to some agreement over what should happen to the demo and 
test dirs.

- Steph 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060620052049</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-06-20 05:20:49-0400</timestampReceived><subject>[PHP-GTK-DEV] Features Page</subject><body>

Hi all,

Here's a rough sketch of what the features/changes page for PHP-GTK 2
might look like. It still needs a little work; adding links and probably
changing the wording a bit.

We could have this as a stand alone page on gtk.php.net. I was also
contemplating on making a `New Widgets Gallery' with screenshots of all
the latest widgets (aka Andrei's presentation). This could be either in
the docs, or on the features page itself.

Let me know.

Cheers,

- Anant

["php-gtk2-features.php.txt" (text/plain)]

&lt;?php

commonHeader('PHP-GTK 2 Features');

?&gt;

&lt;h1&gt;PHP-GTK 2 Features&lt;/h1&gt;

&lt;p&gt;
PHP-GTK 2 is the next major release of PHP-GTK and is a complete
rewrite. It's based on PHP 5 and Gtk+ 2.6 and hence brings along full
object-orientation and a rich widget base. Although PHP-GTK 2 is
mostly backwards compatible, it is broken where necessary. This page
should help you find out how PHP-GTK 2 differs from PHP-GTK 1 and also
familiarize yourself with all its new features.
&lt;/p&gt;

&lt;a name="features"&gt;&lt;/a&gt;
&lt;h2&gt;Features&lt;/h2&gt;

&lt;p&gt;
PHP 5 and Gtk+ 2.6 bring along with them an assortment of features
that we are sure you will love to use in PHP-GTK 2!
&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;b&gt;Powerful Object Orientation&lt;/b&gt;&lt;br /&gt;
You now have all the modern concepts of object orientation to help
write applications in PHP-GTK 2, which includes things like exceptions
, interfacing and overloading.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Proper Garbage Collection&lt;/b&gt;&lt;br /&gt;
In PHP-GTK 1, problems with the underlying object system resulted in
allocated memory that could not be freed at the end of the objects
lifetime. But, that's not the case in PHP-GTK 2, objects are destroyed
as soon as they stop being used, so you can make long-running scripts
without the fear of excessive memory consumption.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Create objects easily&lt;/b&gt;&lt;br /&gt;
If you were confused about when to assign objects instantiated by the
`new' operator by reference, worry no more. With PHP-GTK 2 you can use
regular assignment and forget about the &amp; operator!
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Unicode Support&lt;/b&gt;&lt;br /&gt;
All the user text data is now handled in UTF-8, and PHP-GTK 2 expects
the input to be the same. PHP-GTK 2 will automatically handle
conversion of input and output strings based on a global code-page
setting. And, once PHP 5.2 is out, you can look forward to native
Unicode support too.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Based on Gtk+ 2&lt;/b&gt;&lt;br /&gt;
Gtk+ 2 is seamlessly mapped to PHP's object model. You can use all the
latest bells and whistles that it brings along; cool new widgets, a
new stock icon system, theme-able icons, and the powerful model-view
architecture.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Atk and Pango support&lt;/b&gt;&lt;br /&gt;
You also have access to the Atk toolkit which is a standard way of
adding accessibility to your applications. This also means that nearly
all key bindings are now customizable! Pango, the open-source
framework for layout and rendering i18n text, allows you to
internationalize your PHP-GTK 2 application with ease.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Better Pictures!&lt;/b&gt;&lt;br /&gt;
Gdk 2 now contains GdkPixbuf which is all the more powerful. With
widgets like GtkImage, you'll have no trouble in peppering your
applications with images and animations. Gdk 2 is also based on the
new object system, has double-buffering for smooth rendering, and much
better Win32 support.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Easy Extensibility&lt;/b&gt;&lt;br /&gt;
PHP-GTK 2 was designed with extensibility in mind, so whether you
need make a custom widget, or wrap a 3rd party widget in PHP,
things are much easier with the infrastructure that PHP-GTK 2 provides.
&lt;/li&gt;

&lt;a name="changed"&gt;&lt;/a&gt;
&lt;h2&gt;Changes&lt;/h2&gt;

&lt;p&gt;
Since PHP-GTK is a complete rewrite, there are a few important changes
that you should know of.
&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;b&gt;Extension Name&lt;/b&gt;&lt;br /&gt;
The internal extension name is now 'php-gtk' instead of the earlier
'gtk'.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;No more dl()&lt;/b&gt;&lt;br /&gt;
Although it it still possible to load the extension via dl(), it is no
longer the recommended mechanism. You must load the extension via the
php.ini file. (The shared library is now called php-gtk2.so (or dll,
as the case may be)
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Uses Exceptions&lt;/b&gt;&lt;br /&gt;
Since PHP 5 now has exception support, PHP-GTK 2 fully utilizes the
feature to generate exceptions for methods that use the GError
mechanism, in code-page to UTF8 conversions, and if something goes
wrong during object construction.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;No more global constants&lt;/b&gt;&lt;br /&gt;
Thanks to PHP 5, Global constants are no more. This is one of the
backward-incompatible changes. All enumerations, flags and other
constants are now part of top-level module classes such as Gtk, Gdk,
Atk and Pango.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Connecting Signals&lt;/b&gt;&lt;br /&gt;
The confusing connect_object() method of PHP-GTK 1 has been deprecated
in favor of simpler substitutes, connect() and connect_simple().
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Deprecated Widgets&lt;/b&gt;&lt;br /&gt;
Some of the older widgets have been deprecated in favor of more
powerful and easy to use widgets. Although the deprecated widgets will
still work with PHP-GTK, you will receive a warning that urges you to
use the new replacement widget instead.
&lt;/ul&gt;

&lt;a name="more"&gt;&lt;/a&gt;
&lt;h2&gt;More&lt;/h2&gt;
&lt;p&gt;
We've covered these differences in more detail in the 'Changes since
PHP-GTK 1' tutorial. Do have a look at that to make your transition
from PHP-GTK 1 to 2 easier. The documentation is an invaluable
resource, and of course the mailing lists are always there to help you
out in troublesome situations. Hope you enjoy using PHP-GTK 2 as much
as we enjoyed making it!
&lt;/p&gt;

&lt;?php

commonFooter();

?&gt;



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060620212843</emailId><senderName>Danni</senderName><senderEmail>isotop@gmail.com</senderEmail><timestampReceived>2006-06-20 21:28:43-0400</timestampReceived><subject>[PHP-GTK-DEV] shared object runtime loading</subject><body>

My distro(Archlinux) has the php5.1.4 in the package manager, after
compiling &amp; installing php-gtk2, i saw that i can't load it by default
through php.ini, php pages dont get interpated, i just get blank page.
I guess this is a "feature" because the nature of php-gtk is not web
realated, so my question is how do distro would build php-gtk2 pacakges?
A answer that came across is loading it on runtime, but difrrent distros
use diffrent paths.
what is the php-gtk2 solution?

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060621054231</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-21 05:42:31-0400</timestampReceived><subject>[PHP-GTK-DEV] I shouldn't code when I'm tired either...</subject><body>

Chris was of course right in his initial analysis, we don't need an optional 
boolean when the default behaviour is 'true' and the behaviour of 'false' 
mimics another function. (Do we? It's really late here.) We just need to 
check for 3 params or 0 and send GTK a firm boolean '1'. For the time being, 
anyway - I can see this function getting extended to include color parsing 
at some point in the near future.

So, a vaguely saner implementation of GdkPixbuf::add_alpha() is attached. 
'Course it still has the other four functions alongside it, there's not much 
I can do about that at present...

- Steph 

["gdkoverrides.txt" (text/plain)]

Index: ext/gtk+/gdk.overrides
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/gdk.overrides,v
retrieving revision 1.64
diff -u -r1.64 gdk.overrides
--- ext/gtk+/gdk.overrides	17 Jun 2006 18:43:55 -0000	1.64
+++ ext/gtk+/gdk.overrides	21 Jun 2006 05:36:31 -0000
@@ -1907,6 +1907,46 @@
 }
 
 %%
+add-arginfo GdkPixbuf add_alpha
+static
+ZEND_BEGIN_ARG_INFO_EX(ARGINFO_NAME, 0, 0, 0)
+    ZEND_ARG_INFO(0, red)
+    ZEND_ARG_INFO(0, green)
+    ZEND_ARG_INFO(0, blue)
+ZEND_END_ARG_INFO();
+
+%%
+override gdk_pixbuf_add_alpha
+PHP_METHOD
+{
+	int red, blue, green;
+	guchar r = 255, g = 255, b = 255;
+	GdkPixbuf* pixbuf;
+
+	NOT_STATIC_METHOD();
+
+	if (ZEND_NUM_ARGS() &gt; 0) {
+		if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "iii", &amp;red, &amp;green, &amp;blue)) {
+			return;
+		} else {
+			r = (guchar)red;
+			g = (guchar)green;
+			b = (guchar)blue;
+		}
+	} else {
+		if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
+			return;
+	}
+
+	pixbuf = gdk_pixbuf_add_alpha(GDK_PIXBUF(PHPG_GOBJECT(this_ptr)), 1, r, g, b);
+
+	if (pixbuf) {
+		phpg_gobject_new(&amp;return_value, (GObject *)pixbuf TSRMLS_CC);
+		g_object_unref(pixbuf);
+	}
+}
+
+%%
 override gdk_pixbuf_get_pixels
 PHP_METHOD
 {
@@ -2311,6 +2351,193 @@
 
 %% }}}
 
+%% {{{ GdkPixmap
+
+%%
+override gdk_pixmap_colormap_create_from_xpm
+PHP_METHOD
+{
+	zval *php_drawable, *php_trans_color, *php_colormap;
+	zval *ret_pixmap = NULL, *ret_mask = NULL;
+	gchar *filename;
+	zend_bool free_filename = FALSE;
+	GdkDrawable *drawable = NULL;
+	GdkColormap *colormap = NULL;
+	GdkColor *trans_color = NULL;
+	GdkPixmap *pixmap = NULL;
+	GdkBitmap *mask;
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "OOOu", &amp;php_drawable, gdkdrawable_ce,
+													 &amp;php_colormap, gdkcolormap_ce,
+													 &amp;php_trans_color, gdkcolor_ce,
+													 &amp;filename, &amp;free_filename)) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	drawable = GDK_DRAWABLE(PHPG_GOBJECT(php_drawable));
+	colormap = GDK_COLORMAP(PHPG_GOBJECT(php_colormap));
+	trans_color = (GdkColor *) PHPG_GBOXED(php_trans_color);
+
+	pixmap = gdk_pixmap_colormap_create_from_xpm(drawable, colormap, &amp;mask, trans_color, filename);
+	if (free_filename) g_free(filename);
+
+	if (!pixmap) {
+		php_error(E_WARNING, "%s() cannot load pixmap", get_active_function_name(TSRMLS_C));
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	phpg_gobject_new(&amp;ret_pixmap, (GObject*)pixmap TSRMLS_CC);
+	gdk_pixmap_unref(pixmap);
+
+	phpg_gobject_new(&amp;ret_mask, (GObject *)mask TSRMLS_CC);
+	gdk_bitmap_unref(mask);
+
+	php_gtk_build_value(&amp;return_value, "(NN)", ret_pixmap, ret_mask);
+}
+
+%%
+override gdk_pixmap_colormap_create_from_xpm_d
+PHP_METHOD
+{
+	zval *php_drawable, *php_colormap,
+		 *php_trans_color, *php_data;
+	zval *ret_pixmap = NULL, *ret_mask = NULL;
+	zval **line;
+	GdkDrawable *drawable = NULL;
+	GdkColormap *colormap = NULL;
+	GdkColor *trans_color = NULL;
+	GdkPixmap *pixmap = NULL;
+	GdkBitmap *mask;
+	char **data;
+	int len, i = 0;
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "OOOa", &amp;php_drawable, gdkdrawable_ce,
+													 &amp;php_colormap, gdkcolormap_ce,
+													 &amp;php_trans_color, gdkcolor_ce,
+													 &amp;php_data)) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	drawable = GDK_DRAWABLE(PHPG_GOBJECT(php_drawable));
+	colormap = GDK_COLORMAP(PHPG_GOBJECT(php_colormap));
+	trans_color = (GdkColor *) PHPG_GBOXED(php_trans_color);
+
+	len = zend_hash_num_elements(Z_ARRVAL_P(php_data));
+	data = emalloc(len * sizeof(char *));
+	for (zend_hash_internal_pointer_reset(Z_ARRVAL_P(php_data));
+		 zend_hash_get_current_data(Z_ARRVAL_P(php_data), (void **)&amp;line) == SUCCESS;
+		 zend_hash_move_forward(Z_ARRVAL_P(php_data))) {
+		convert_to_string_ex(line);
+		data[i++] = Z_STRVAL_PP(line);
+	}
+
+	pixmap = gdk_pixmap_colormap_create_from_xpm_d(drawable, colormap, &amp;mask, trans_color, data);
+	efree(data);
+
+	if (!pixmap) {
+		php_error(E_WARNING, "%s() cannot load pixmap", get_active_function_name(TSRMLS_C));
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	phpg_gobject_new(&amp;ret_pixmap, (GObject*)pixmap TSRMLS_CC);
+	gdk_pixmap_unref(pixmap);
+
+	phpg_gobject_new(&amp;ret_mask, (GObject *)mask TSRMLS_CC);
+	gdk_bitmap_unref(mask);
+
+	php_gtk_build_value(&amp;return_value, "(NN)", ret_pixmap, ret_mask);
+}
+
+%%
+override gdk_pixmap_create_from_xpm
+PHP_METHOD
+{
+	zval *php_drawable, *php_trans_color;
+	zval *ret_pixmap = NULL, *ret_mask = NULL;
+	gchar *filename;
+	zend_bool free_filename = FALSE;
+	GdkDrawable *drawable = NULL;
+	GdkColor *trans_color = NULL;
+	GdkPixmap *pixmap = NULL;
+	GdkBitmap *mask;
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "OOu", &amp;php_drawable, gdkdrawable_ce,
+													&amp;php_trans_color, gdkcolor_ce,
+													&amp;filename, &amp;free_filename)) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	drawable = GDK_DRAWABLE(PHPG_GOBJECT(php_drawable));
+	trans_color = (GdkColor *) PHPG_GBOXED(php_trans_color);
+
+	pixmap = gdk_pixmap_create_from_xpm(drawable, &amp;mask, trans_color, filename);
+	if (free_filename) g_free(filename);
+
+	if (!pixmap) {
+		php_error(E_WARNING, "%s() cannot load pixmap", get_active_function_name(TSRMLS_C));
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	phpg_gobject_new(&amp;ret_pixmap, (GObject*)pixmap TSRMLS_CC);
+	gdk_pixmap_unref(pixmap);
+
+	phpg_gobject_new(&amp;ret_mask, (GObject *)mask TSRMLS_CC);
+	gdk_bitmap_unref(mask);
+
+	php_gtk_build_value(&amp;return_value, "(NN)", ret_pixmap, ret_mask);
+}
+
+%%
+override gdk_pixmap_create_from_xpm_d
+PHP_METHOD
+{
+	zval *php_drawable, *php_trans_color, *php_data;
+	zval *ret_pixmap = NULL, *ret_mask = NULL;
+	zval **line;
+	GdkDrawable *drawable = NULL;
+	GdkColor *trans_color = NULL;
+	GdkPixmap *pixmap = NULL;
+	GdkBitmap *mask;
+	char **data;
+	int len, i = 0;
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "OOa", &amp;php_drawable, gdkdrawable_ce,
+													&amp;php_trans_color, gdkcolor_ce,
+													&amp;php_data)) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	drawable = GDK_DRAWABLE(PHPG_GOBJECT(php_drawable));
+	trans_color = (GdkColor *) PHPG_GBOXED(php_trans_color);
+
+	len = zend_hash_num_elements(Z_ARRVAL_P(php_data));
+	data = emalloc(len * sizeof(char *));
+	for (zend_hash_internal_pointer_reset(Z_ARRVAL_P(php_data));
+		 zend_hash_get_current_data(Z_ARRVAL_P(php_data), (void **)&amp;line) == SUCCESS;
+		 zend_hash_move_forward(Z_ARRVAL_P(php_data))) {
+		convert_to_string_ex(line);
+		data[i++] = Z_STRVAL_PP(line);
+	}
+
+	pixmap = gdk_pixmap_create_from_xpm_d(drawable, &amp;mask, trans_color, data);
+	efree(data);
+
+	if (!pixmap) {
+		php_error(E_WARNING, "%s() cannot load pixmap", get_active_function_name(TSRMLS_C));
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	phpg_gobject_new(&amp;ret_pixmap, (GObject*)pixmap TSRMLS_CC);
+	gdk_pixmap_unref(pixmap);
+
+	phpg_gobject_new(&amp;ret_mask, (GObject *)mask TSRMLS_CC);
+	gdk_bitmap_unref(mask);
+
+	php_gtk_build_value(&amp;return_value, "(NN)", ret_pixmap, ret_mask);
+}
+
+%% }}}
+
 %% {{{ GdkRectangle
 
 %%



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060615064010</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-15 06:40:10-0400</timestampReceived><subject>[PHP-GTK-DEV] Changelog?</subject><body>


Hello all,

Seems the Changelog doesn't update itself anymore. Can somebody fix that?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060611161841</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-11 16:18:41-0400</timestampReceived><subject>[PHP-GTK-DEV] set_visible_func()</subject><body>

Christian,

Why did you commit implementation of set_visible_func()? Did you see  
my email about the problem with it?	

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060612061207</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-12 06:12:07-0400</timestampReceived><subject>[PHP-GTK-DEV] E_STRICT renamings</subject><body>


Hello all,


Since there is no way of using optional parameters to satisfy the zend
engine causing it not to complain, I vote for renaming the methods:

&gt; PHP Strict Standards:  Declaration of GtkToolbar::set_style() should
&gt; be compatible with that of GtkWidget::set_style() in Unknown on line 0
GtkToolbar::set_style() -&gt; GtkToolbar::set_toolbar_style()

&gt; PHP Strict Standards:  Declaration of GtkMenu::set_accel_path() should
&gt; be compatible with that of GtkWidget::set_accel_path() in Unknown on
&gt; line 0
GtkMenu::set_accel_path() -&gt; GtkMenu::set_menu_accel_path()

&gt; PHP Strict Standards:  Declaration of GtkWindow::mnemonic_activate()
&gt; should be compatible with that of GtkWidget::mnemonic_activate() in
&gt; Unknown on line 0
GtkWindow::mnemonic_activate() -&gt; GtkWindow::window_mnemonic_activate()

&gt; PHP Strict Standards:  Declaration of GtkMenuItem::set_accel_path()
&gt; should be compatible with that of GtkWidget::set_accel_path() in
&gt; Unknown on line 0
GtkMenuItem::set_accel_path() -&gt; GtkMenuItem::set_menuitem_accel_path()

&gt; PHP Strict Standards:  Declaration of GtkStatusbar::remove() should
&gt; be compatible with that of GtkContainer::remove() in Unknown on line 0
GtkStatusbar::remove() -&gt; GtkStatusbar::remove_message()

&gt; PHP Strict Standards:  Declaration of GtkCList::remove() should be
&gt; compatible with that of GtkContainer::remove() in Unknown on line 0
GtkCList::remove() -&gt; GtkCList::remove_row()

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060612170450</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-12 17:04:50-0400</timestampReceived><subject>[PHP-GTK-DEV] new GtkTreeModelFilter() vs. GtkTreeModel::filter_new()</subject><body>


Hello all,


You might have noticed that there was a little confusion on my side
about the question how to instatiate GtkTreeModelFilter.

I committed the patch for the constructor some days ago. It requires a
model and a path as parameter.

Unfortunately (or luckily), GtkTreeModel::filter_new did also exist.
Both use the same implementation currently (causing the latter to fail),
and I want to ask if we just want to drop the second or keep it.
If we want to keep it, I need to add a working implementation of
GtkTreeModel::filter_new.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060624174310</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-24 17:43:10-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] new GtkTreeModelFilter() vs. GtkTreeModel::filter_new()</subject><body>

I don't think we need filter_new(). Of course, Steph might bite my  
head off for not conforming to Gtk+ API precisely, but that's a risk  
I'm willing to take. :)

-Andrei


On Jun 12, 2006, at 10:04 AM, Christian Weiske wrote:

&gt; Hello all,
&gt;
&gt;
&gt; You might have noticed that there was a little confusion on my side
&gt; about the question how to instatiate GtkTreeModelFilter.
&gt;
&gt; I committed the patch for the constructor some days ago. It requires a
&gt; model and a path as parameter.
&gt;
&gt; Unfortunately (or luckily), GtkTreeModel::filter_new did also exist.
&gt; Both use the same implementation currently (causing the latter to  
&gt; fail),
&gt; and I want to ask if we just want to drop the second or keep it.
&gt; If we want to keep it, I need to add a working implementation of
&gt; GtkTreeModel::filter_new.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060625080736</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-25 08:07:36-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: gah</subject><body>

No we don't. Not if GtkCTreeNode inherits from GPointer.

-Andrei


On Jun 25, 2006, at 12:30 AM, Steph Fox wrote:

&gt; I only just noticed this...
&gt;
&gt; Warning: GtkCTree::is_ancestor() expects argument 1 to be GPointer,  
&gt; GtkCTreeNode given in C:\php5\bug.php on line 102
&gt;
&gt; thrown by:
&gt;
&gt; $parent = $ctree-&gt;insert_node(null, null, $text, 5, $pixmap1,  
&gt; $bitmap1, $pixmap2, $bitmap2, 0, 1);
&gt; $next = $ctree-&gt;insert_node($parent, null, $text, 5, $pixmap3,  
&gt; $bitmap3, $pixmap1, $bitmap2, 0, 0);
&gt; print $ctree-&gt;is_ancestor($parent, $next);
&gt;
&gt; :(
&gt;
&gt; So it seems we actually need to have those CE's matching up after  
&gt; all, because this worked as advertised before. (NB I'm not sure why  
&gt; it isn't 'just working' now.)
&gt;
&gt;
&gt; - Steph

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060624233053</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-24 23:30:53-0400</timestampReceived><subject>[PHP-GTK-DEV] [PATCH] a bit of Pango</subject><body>

More stuff, except I can't find a way to kill these memleaks.... if you can, 
we only have two constructors left to write. Note that leaks only occur if 
varargs come into the equation, I don't see any if I just have new 
PangoTabArray(true, Pango::TAB_LEFT, 0);

My best guess is it's string-related... Any clue?

$tab_array2 = new PangoTabArray(true, Pango::TAB_LEFT, 0, Pango::TAB_LEFT, 
30);
===============================================================================
c:\sandbox\php-gtk\main\php_gtk_util.c(738) :  Freeing 0x00B36AE8 (32 
bytes), script=bug.php
c:\sandbox\php5\zend\zend_hash.c(169) : Actual location (location was 
relayed)
Last leak repeated 1 time
c:\sandbox\php5\zend\zend_vm_execute.h(1766) :  Freeing 0x00B36968 (16 
bytes), script=bug.php
c:\sandbox\php5\zend\zend_vm_execute.h(4190) :  Freeing 0x00B36910 (16 
bytes), script=bug.php
c:\sandbox\php-gtk\main\php_gtk_util.c(742) :  Freeing 0x00B32020 (35 
bytes), script=bug.php
c:\sandbox\php5\zend\zend_hash.c(383) : Actual location (location was 
relayed)
Last leak repeated 1 time
=== Total 6 memory leaks detected ===


$tab_array3 = new PangoTabArray(true, Pango::TAB_LEFT, 20, Pango::TAB_LEFT, 
30, Pango::TAB_LEFT, 50);
=====================================================================================================
c:\sandbox\php-gtk\main\php_gtk_util.c(738) :  Freeing 0x00B36E60 (32 
bytes), script=bug.php
c:\sandbox\php5\zend\zend_hash.c(169) : Actual location (location was 
relayed)
Last leak repeated 1 time
c:\sandbox\php5\zend\zend_vm_execute.h(1766) :  Freeing 0x00B36C78 (16 
bytes), script=bug.php
Last leak repeated 1 time
c:\sandbox\php5\zend\zend_vm_execute.h(4190) :  Freeing 0x00B36C20 (16 
bytes), script=bug.php
Last leak repeated 1 time
c:\sandbox\php-gtk\main\php_gtk_util.c(742) :  Freeing 0x00B32280 (35 
bytes), script=bug.php
c:\sandbox\php5\zend\zend_hash.c(383) : Actual location (location was 
relayed)
Last leak repeated 3 times
=== Total 10 memory leaks detected ===


$tab_array2 = new PangoTabArray(true, Pango::TAB_LEFT, 0, Pango::TAB_LEFT, 
30);
$tab_array3 = new PangoTabArray(true, Pango::TAB_LEFT, 20, Pango::TAB_LEFT, 
30, Pango::TAB_LEFT, 50);
=====================================================================================================
c:\sandbox\php-gtk\main\php_gtk_util.c(738) :  Freeing 0x00B37D50 (32 
bytes), script=bug.php
c:\sandbox\php5\zend\zend_hash.c(169) : Actual location (location was 
relayed)
Last leak repeated 3 times
c:\sandbox\php5\zend\zend_vm_execute.h(1766) :  Freeing 0x00B37B68 (16 
bytes), script=bug.php
Last leak repeated 2 times
c:\sandbox\php5\zend\zend_vm_execute.h(4190) :  Freeing 0x00B37B10 (16 
bytes), script=bug.php
Last leak repeated 2 times
c:\sandbox\php-gtk\main\php_gtk_util.c(742) :  Freeing 0x00B32DC8 (35 
bytes), script=bug.php
c:\sandbox\php5\zend\zend_hash.c(383) : Actual location (location was 
relayed)
Last leak repeated 5 times
=== Total 16 memory leaks detected ===

["pango.txt" (text/plain)]

Index: ext/gtk+/pango.overrides
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/pango.overrides,v
retrieving revision 1.7
diff -u -r1.7 pango.overrides
--- ext/gtk+/pango.overrides	31 Jul 2005 10:14:44 -0000	1.7
+++ ext/gtk+/pango.overrides	24 Jun 2006 23:17:45 -0000
@@ -11,6 +11,10 @@
     *_get_type
 
 %%
+ignore
+    pango_tab_array_new_with_positions
+
+%%
 override pango_color_parse
 PHP_METHOD
 {
@@ -70,3 +74,69 @@
                         ink.height, logical.x, logical.y, logical.width,
                         logical.height);
 }
+
+%%
+override pango_tab_array_new
+PHP_METHOD
+{
+    zval *user_args = NULL, *php_first_alignment = NULL;
+    zval **position, **alignment;
+    PangoTabAlign first_alignment;
+    gint size = 0, first_position = 0;
+    zend_bool positions_in_pixels = FALSE;
+    phpg_gboxed_t *pobj = NULL;
+
+     if (ZEND_NUM_ARGS() &gt; 2) {
+        if (!php_gtk_parse_varargs(ZEND_NUM_ARGS(), 3, &amp;user_args, "bVi", \
&amp;positions_in_pixels, &amp;php_first_alignment, &amp;first_position)) { +            \
PHPG_THROW_CONSTRUCT_EXCEPTION(PangoTabArray); +        }
+    } else {
+        if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|bVi", &amp;positions_in_pixels, \
&amp;php_first_alignment, &amp;first_position)) { +            \
PHPG_THROW_CONSTRUCT_EXCEPTION(PangoTabArray); +        }
+    }
+
+    if (php_first_alignment &amp;&amp; phpg_gvalue_get_enum(PANGO_TYPE_TAB_ALIGN, \
php_first_alignment, (gint *)&amp;first_alignment) == FAILURE) { +        \
PHPG_THROW_CONSTRUCT_EXCEPTION(PangoTabArray); +    }
+
+    pobj = zend_object_store_get_object(this_ptr TSRMLS_CC);
+    pobj-&gt;gtype = PANGO_TYPE_TAB_ARRAY;
+
+    if (user_args) {
+
+        if (zend_hash_num_elements(Z_ARRVAL_P(user_args)) % 2) {
+            php_error(E_WARNING, "PangoTabArray::new_with_positions(): argument list \
should consist of alignment/position pairs"); +            \
PHPG_THROW_CONSTRUCT_EXCEPTION(PangoTabArray); +        }
+
+        size = zend_hash_num_elements(Z_ARRVAL_P(user_args))/2;
+
+        zend_hash_internal_pointer_reset(Z_ARRVAL_P(user_args));
+        while (zend_hash_get_current_data(Z_ARRVAL_P(user_args), (void \
**)&amp;alignment) == SUCCESS) { +            \
zend_hash_move_forward(Z_ARRVAL_P(user_args)); +            \
zend_hash_get_current_data(Z_ARRVAL_P(user_args), (void **)&amp;position); +            \
zend_hash_move_forward(Z_ARRVAL_P(user_args)); +
+            if ((Z_TYPE_PP(alignment) != IS_STRING &amp;&amp; Z_TYPE_PP(alignment) != \
IS_LONG) || Z_TYPE_PP(position) != IS_LONG) { +                php_error(E_WARNING, \
"PangoTabArray::new_with_positions(): each alignment/position pair has to be \
PangoTabAlign/number"); +                \
PHPG_THROW_CONSTRUCT_EXCEPTION(PangoTabArray); +            }
+        }
+    }
+
+    if (ZEND_NUM_ARGS() &gt; 2) {
+        size = size + 1;
+        pobj-&gt;boxed = pango_tab_array_new_with_positions(size, positions_in_pixels, \
first_alignment, first_position, user_args); +        if (user_args) {
+            efree(user_args);
+        }
+    } else {
+        pobj-&gt;boxed = pango_tab_array_new(size, positions_in_pixels);
+    }
+
+    if (!pobj-&gt;boxed) {
+        PHPG_THROW_CONSTRUCT_EXCEPTION(PangoTabArray);
+    }
+    pobj-&gt;free_on_destroy = TRUE;
+}



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060625093701</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-25 09:37:01-0400</timestampReceived><subject>[PHP-GTK-DEV] release or alpha?</subject><body>


Hi all,


Do we want to wait until Steph has implemented all missing methods, or
make an alpha first? I thought the main target was two weeks ago, but
has shifted again and again.
The alpha doesn't need to be feature-complete, remember that.

Btw, it's hard to code with just one hand.

--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060625094847</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-25 09:48:47-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] release or alpha?</subject><body>

Heh, we're far from being feature-complete :) but no, I was just racing 
against time to try and get the constructors in place at least. It'll make 
it easier for people to know what they do or don't have working if they can 
create the object in the first place.

We don't have a working form of ctreenode any more as of this morning's 
discovery, and I still don't know why - Andrei's right, it should inherit, 
but it doesn't. I still have the debug binary from last week to test with, 
it was fine then.

That's something we need to fix before we roll, it affects too many methods 
not to.

- Steph


----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Sunday, June 25, 2006 11:37 AM
Subject: [PHP-GTK-DEV] release or alpha?

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060625100355</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-25 10:03:55-0400</timestampReceived><subject>Fw: [PHP-GTK-DEV] release or alpha?</subject><body>

Grr, I just fixed the gpointer issue. We had gpointers registering as a 
class for some reason, they couldn't 'know' they were related.

Will commit when I've cleaned the rest of this morning's stuff out the way. 
And yeah I'll get on with release-oriented stuff after that, but it _would_ 
be nice to get all the constructors out there first...

(There are two untouched ones in GDK, and that's it.)

- Steph

----- Original Message ----- 
From: "Steph Fox" &lt;steph@zend.com&gt;
To: "Christian Weiske" &lt;cweiske@cweiske.de&gt;; "PHP-GTK Dev list" 
&lt;php-gtk-dev@lists.php.net&gt;
Sent: Sunday, June 25, 2006 11:48 AM
Subject: Re: [PHP-GTK-DEV] release or alpha?


&gt; Heh, we're far from being feature-complete :) but no, I was just racing 
&gt; against time to try and get the constructors in place at least. It'll make 
&gt; it easier for people to know what they do or don't have working if they 
&gt; can create the object in the first place.
&gt;
&gt; We don't have a working form of ctreenode any more as of this morning's 
&gt; discovery, and I still don't know why - Andrei's right, it should inherit, 
&gt; but it doesn't. I still have the debug binary from last week to test with, 
&gt; it was fine then.
&gt;
&gt; That's something we need to fix before we roll, it affects too many 
&gt; methods not to.
&gt;
&gt; - Steph
&gt;
&gt;
&gt; ----- Original Message ----- 
&gt; From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Sunday, June 25, 2006 11:37 AM
&gt; Subject: [PHP-GTK-DEV] release or alpha?
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060625173838</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-25 17:38:38-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] release or alpha?</subject><body>

On Jun 25, 2006, at 2:48 AM, Steph Fox wrote:

&gt; Heh, we're far from being feature-complete :) but no, I was just  
&gt; racing against time to try and get the constructors in place at  
&gt; least. It'll make it easier for people to know what they do or  
&gt; don't have working if they can create the object in the first place.
&gt;
&gt; We don't have a working form of ctreenode any more as of this  
&gt; morning's discovery, and I still don't know why - Andrei's right,  
&gt; it should inherit, but it doesn't. I still have the debug binary  
&gt; from last week to test with, it was fine then.
&gt;
&gt; That's something we need to fix before we roll, it affects too many  
&gt; methods not to.

I don't think that's something that matters for alpha (CTreeNode that  
is). I'd much rather have manual notes ready and working and having a  
release out there that people can bang on.

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060625173920</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-25 17:39:20-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] release or alpha?</subject><body>

WHAT did you fix? You're pretty vague sometimes. Send me the patch  
first.

-Andrei


On Jun 25, 2006, at 3:03 AM, Steph Fox wrote:

&gt; Grr, I just fixed the gpointer issue. We had gpointers registering  
&gt; as a class for some reason, they couldn't 'know' they were related.
&gt;
&gt; Will commit when I've cleaned the rest of this morning's stuff out  
&gt; the way. And yeah I'll get on with release-oriented stuff after  
&gt; that, but it _would_ be nice to get all the constructors out there  
&gt; first...
&gt;
&gt; (There are two untouched ones in GDK, and that's it.)
&gt;
&gt; - Steph
&gt;
&gt; ----- Original Message ----- From: "Steph Fox" &lt;steph@zend.com&gt;
&gt; To: "Christian Weiske" &lt;cweiske@cweiske.de&gt;; "PHP-GTK Dev list"  
&gt; &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Sunday, June 25, 2006 11:48 AM
&gt; Subject: Re: [PHP-GTK-DEV] release or alpha?
&gt;
&gt;
&gt;&gt; Heh, we're far from being feature-complete :) but no, I was just  
&gt;&gt; racing against time to try and get the constructors in place at  
&gt;&gt; least. It'll make it easier for people to know what they do or  
&gt;&gt; don't have working if they can create the object in the first place.
&gt;&gt;
&gt;&gt; We don't have a working form of ctreenode any more as of this  
&gt;&gt; morning's discovery, and I still don't know why - Andrei's right,  
&gt;&gt; it should inherit, but it doesn't. I still have the debug binary  
&gt;&gt; from last week to test with, it was fine then.
&gt;&gt;
&gt;&gt; That's something we need to fix before we roll, it affects too  
&gt;&gt; many methods not to.
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt;
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "Christian Weiske"  
&gt;&gt; &lt;cweiske@cweiske.de&gt;
&gt;&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt; Sent: Sunday, June 25, 2006 11:37 AM
&gt;&gt; Subject: [PHP-GTK-DEV] release or alpha?
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060625010310</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-25 01:03:10-0400</timestampReceived><subject>Fw: [PHP-GTK-DEV] [PATCH] a bit of Pango</subject><body>

Forget it, I just made an override for get_tab() and found only the first 
index returns sane values. It's something to do with the way we bundle the 
va_list into a zval...

----- Original Message ----- 
From: "Steph Fox" &lt;steph@zend.com&gt;
To: "Andrei" &lt;andrei@gravitonic.com&gt;
Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Sunday, June 25, 2006 1:30 AM
Subject: [PHP-GTK-DEV] [PATCH] a bit of Pango


&gt; More stuff, except I can't find a way to kill these memleaks.... if you 
&gt; can,
&gt; we only have two constructors left to write. Note that leaks only occur if
&gt; varargs come into the equation, I don't see any if I just have new
&gt; PangoTabArray(true, Pango::TAB_LEFT, 0);
&gt;
&gt; My best guess is it's string-related... Any clue?
&gt;
&gt; $tab_array2 = new PangoTabArray(true, Pango::TAB_LEFT, 0, Pango::TAB_LEFT,
&gt; 30);
&gt; ===============================================================================
&gt; c:\sandbox\php-gtk\main\php_gtk_util.c(738) :  Freeing 0x00B36AE8 (32
&gt; bytes), script=bug.php
&gt; c:\sandbox\php5\zend\zend_hash.c(169) : Actual location (location was
&gt; relayed)
&gt; Last leak repeated 1 time
&gt; c:\sandbox\php5\zend\zend_vm_execute.h(1766) :  Freeing 0x00B36968 (16
&gt; bytes), script=bug.php
&gt; c:\sandbox\php5\zend\zend_vm_execute.h(4190) :  Freeing 0x00B36910 (16
&gt; bytes), script=bug.php
&gt; c:\sandbox\php-gtk\main\php_gtk_util.c(742) :  Freeing 0x00B32020 (35
&gt; bytes), script=bug.php
&gt; c:\sandbox\php5\zend\zend_hash.c(383) : Actual location (location was
&gt; relayed)
&gt; Last leak repeated 1 time
&gt; === Total 6 memory leaks detected ===
&gt;
&gt;
&gt; $tab_array3 = new PangoTabArray(true, Pango::TAB_LEFT, 20, 
&gt; Pango::TAB_LEFT,
&gt; 30, Pango::TAB_LEFT, 50);
&gt; =====================================================================================================
&gt; c:\sandbox\php-gtk\main\php_gtk_util.c(738) :  Freeing 0x00B36E60 (32
&gt; bytes), script=bug.php
&gt; c:\sandbox\php5\zend\zend_hash.c(169) : Actual location (location was
&gt; relayed)
&gt; Last leak repeated 1 time
&gt; c:\sandbox\php5\zend\zend_vm_execute.h(1766) :  Freeing 0x00B36C78 (16
&gt; bytes), script=bug.php
&gt; Last leak repeated 1 time
&gt; c:\sandbox\php5\zend\zend_vm_execute.h(4190) :  Freeing 0x00B36C20 (16
&gt; bytes), script=bug.php
&gt; Last leak repeated 1 time
&gt; c:\sandbox\php-gtk\main\php_gtk_util.c(742) :  Freeing 0x00B32280 (35
&gt; bytes), script=bug.php
&gt; c:\sandbox\php5\zend\zend_hash.c(383) : Actual location (location was
&gt; relayed)
&gt; Last leak repeated 3 times
&gt; === Total 10 memory leaks detected ===
&gt;
&gt;
&gt; $tab_array2 = new PangoTabArray(true, Pango::TAB_LEFT, 0, Pango::TAB_LEFT,
&gt; 30);
&gt; $tab_array3 = new PangoTabArray(true, Pango::TAB_LEFT, 20, 
&gt; Pango::TAB_LEFT,
&gt; 30, Pango::TAB_LEFT, 50);
&gt; =====================================================================================================
&gt; c:\sandbox\php-gtk\main\php_gtk_util.c(738) :  Freeing 0x00B37D50 (32
&gt; bytes), script=bug.php
&gt; c:\sandbox\php5\zend\zend_hash.c(169) : Actual location (location was
&gt; relayed)
&gt; Last leak repeated 3 times
&gt; c:\sandbox\php5\zend\zend_vm_execute.h(1766) :  Freeing 0x00B37B68 (16
&gt; bytes), script=bug.php
&gt; Last leak repeated 2 times
&gt; c:\sandbox\php5\zend\zend_vm_execute.h(4190) :  Freeing 0x00B37B10 (16
&gt; bytes), script=bug.php
&gt; Last leak repeated 2 times
&gt; c:\sandbox\php-gtk\main\php_gtk_util.c(742) :  Freeing 0x00B32DC8 (35
&gt; bytes), script=bug.php
&gt; c:\sandbox\php5\zend\zend_hash.c(383) : Actual location (location was
&gt; relayed)
&gt; Last leak repeated 5 times
&gt; === Total 16 memory leaks detected ===
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt;


--------------------------------------------------------------------------------


&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

["pango.txt" (text/plain)]

Index: ext/gtk+/pango.overrides
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/pango.overrides,v
retrieving revision 1.7
diff -u -r1.7 pango.overrides
--- ext/gtk+/pango.overrides	31 Jul 2005 10:14:44 -0000	1.7
+++ ext/gtk+/pango.overrides	24 Jun 2006 23:17:45 -0000
@@ -11,6 +11,10 @@
     *_get_type
 
 %%
+ignore
+    pango_tab_array_new_with_positions
+
+%%
 override pango_color_parse
 PHP_METHOD
 {
@@ -70,3 +74,69 @@
                         ink.height, logical.x, logical.y, logical.width,
                         logical.height);
 }
+
+%%
+override pango_tab_array_new
+PHP_METHOD
+{
+    zval *user_args = NULL, *php_first_alignment = NULL;
+    zval **position, **alignment;
+    PangoTabAlign first_alignment;
+    gint size = 0, first_position = 0;
+    zend_bool positions_in_pixels = FALSE;
+    phpg_gboxed_t *pobj = NULL;
+
+     if (ZEND_NUM_ARGS() &gt; 2) {
+        if (!php_gtk_parse_varargs(ZEND_NUM_ARGS(), 3, &amp;user_args, "bVi", \
&amp;positions_in_pixels, &amp;php_first_alignment, &amp;first_position)) { +            \
PHPG_THROW_CONSTRUCT_EXCEPTION(PangoTabArray); +        }
+    } else {
+        if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|bVi", &amp;positions_in_pixels, \
&amp;php_first_alignment, &amp;first_position)) { +            \
PHPG_THROW_CONSTRUCT_EXCEPTION(PangoTabArray); +        }
+    }
+
+    if (php_first_alignment &amp;&amp; phpg_gvalue_get_enum(PANGO_TYPE_TAB_ALIGN, \
php_first_alignment, (gint *)&amp;first_alignment) == FAILURE) { +        \
PHPG_THROW_CONSTRUCT_EXCEPTION(PangoTabArray); +    }
+
+    pobj = zend_object_store_get_object(this_ptr TSRMLS_CC);
+    pobj-&gt;gtype = PANGO_TYPE_TAB_ARRAY;
+
+    if (user_args) {
+
+        if (zend_hash_num_elements(Z_ARRVAL_P(user_args)) % 2) {
+            php_error(E_WARNING, "PangoTabArray::new_with_positions(): argument list \
should consist of alignment/position pairs"); +            \
PHPG_THROW_CONSTRUCT_EXCEPTION(PangoTabArray); +        }
+
+        size = zend_hash_num_elements(Z_ARRVAL_P(user_args))/2;
+
+        zend_hash_internal_pointer_reset(Z_ARRVAL_P(user_args));
+        while (zend_hash_get_current_data(Z_ARRVAL_P(user_args), (void \
**)&amp;alignment) == SUCCESS) { +            \
zend_hash_move_forward(Z_ARRVAL_P(user_args)); +            \
zend_hash_get_current_data(Z_ARRVAL_P(user_args), (void **)&amp;position); +            \
zend_hash_move_forward(Z_ARRVAL_P(user_args)); +
+            if ((Z_TYPE_PP(alignment) != IS_STRING &amp;&amp; Z_TYPE_PP(alignment) != \
IS_LONG) || Z_TYPE_PP(position) != IS_LONG) { +                php_error(E_WARNING, \
"PangoTabArray::new_with_positions(): each alignment/position pair has to be \
PangoTabAlign/number"); +                \
PHPG_THROW_CONSTRUCT_EXCEPTION(PangoTabArray); +            }
+        }
+    }
+
+    if (ZEND_NUM_ARGS() &gt; 2) {
+        size = size + 1;
+        pobj-&gt;boxed = pango_tab_array_new_with_positions(size, positions_in_pixels, \
first_alignment, first_position, user_args); +        if (user_args) {
+            efree(user_args);
+        }
+    } else {
+        pobj-&gt;boxed = pango_tab_array_new(size, positions_in_pixels);
+    }
+
+    if (!pobj-&gt;boxed) {
+        PHPG_THROW_CONSTRUCT_EXCEPTION(PangoTabArray);
+    }
+    pobj-&gt;free_on_destroy = TRUE;
+}



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060611162728</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-11 16:27:28-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] set_visible_func()</subject><body>

I'm also getting a lot of leaks with your magnifier.php script. Did  
you see them?

-Andrei


On Jun 11, 2006, at 9:18 AM, Andrei Zmievski wrote:

&gt; Christian,
&gt;
&gt; Why did you commit implementation of set_visible_func()? Did you  
&gt; see my email about the problem with it?	
&gt;
&gt; -Andrei
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060611203809</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-11 20:38:09-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] set_visible_func()</subject><body>


Andrei,

&gt; Why did you commit implementation of set_visible_func()? Did you see  my
&gt; email about the problem with it?   
Sorry, I am not aware of such a mail. Could you give me the message id?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060611203954</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-11 20:39:54-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] set_visible_func()</subject><body>


Andrei,

&gt; I'm also getting a lot of leaks with your magnifier.php script. Did  you
&gt; see them?
Since I'm a total newbie when it comes to C programming and debugging, I
don't even know where I need to start searching for leaks or how to
detect them. Do you have a link to some online resources about that or a
quick guide which program to use?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060611220933</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-11 22:09:33-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] set_visible_func()</subject><body>

Message-Id: &lt;9C603975-0E88-457C-BCE8-477719973CD4@gravitonic.com&gt;

 From February 24th. I asked you to post a question on the gtk+  
mailing list because set_visible_func() has a memory leak where the  
user data is not released when the widget is finalized.

-Andrei


On Jun 11, 2006, at 1:38 PM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;&gt; Why did you commit implementation of set_visible_func()? Did you  
&gt;&gt; see  my
&gt;&gt; email about the problem with it?
&gt; Sorry, I am not aware of such a mail. Could you give me the message  
&gt; id?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060611221014</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-11 22:10:14-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] set_visible_func()</subject><body>

Well, the leaks I saw were output by the Zend memory manager. I just  
ran the script from command line and when I exited the app, it  
printed 20-30 lines of leaks.

-Andrei


On Jun 11, 2006, at 1:39 PM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;&gt; I'm also getting a lot of leaks with your magnifier.php script.  
&gt;&gt; Did  you
&gt;&gt; see them?
&gt; Since I'm a total newbie when it comes to C programming and  
&gt; debugging, I
&gt; don't even know where I need to start searching for leaks or how to
&gt; detect them. Do you have a link to some online resources about that  
&gt; or a
&gt; quick guide which program to use?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060612051110</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-12 05:11:10-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] set_visible_func()</subject><body>


Andrei,

&gt; Well, the leaks I saw were output by the Zend memory manager. I just 
&gt; ran the script from command line and when I exited the app, it  printed
&gt; 20-30 lines of leaks.

8&lt;--------
; stdout or in the log). This has only effect in a debug compile, and if
; error reporting includes E_WARNING in the allowed list
report_memleaks = On
8&lt;--------


Since I don't get php-gtk working with a debug build, I don't get mem
leaks reported.


-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060620032108</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-20 03:21:08-0400</timestampReceived><subject>Fw: [PHP-GTK-DEV] Alpha?</subject><body>

NB we can't work with "PHP 4.0.5 or greater" for PHP-GTK 2.  Or at least, if 
Andrei thinks we can, I'll need to do some work on the PHP_5_2 compat 
changes I already made. I was under the impression that the *nix build 
requests 5.1.*....

- Steph


&gt; Hi Andrei,
&gt;
&gt;&gt; Should we have a page or a file that lists the major features/changes  of 
&gt;&gt; PHP-GTK 2?
&gt;
&gt; We should... actually we kind of do already, it's hidden in amongst the 
&gt; tutorials and we can just link to that page from the main site - that 
&gt; should be enough, no?
&gt;
&gt; Anyone feeling intelligent enough to write up the rest of it?
&gt;
&gt; On my box I've written in support for GtkCTreeNode and a few 
&gt; pixmap-creating (a bit BC) items + GtkCTree and GtkCList (very much BC and 
&gt; both marked as 'deprecated').
&gt;
&gt; In GTK+ 2.6.9 the pixmap stuff isn't actually deprecated, so it needs to 
&gt; be covered. It's actually way harder to do this under PHP-GTK 2 rules than 
&gt; it was under PHP-GTK 1, internally, but I have working samples now.
&gt;
&gt; I need you to go through all this stuff Andrei, it's not contentious as 
&gt; far as I'm concerned but I'l bet you find where it is :)
&gt;
&gt; - Steph
&gt;
&gt;
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt; On Jun 19, 2006, at 9:37 AM, Scott Mattocks wrote:
&gt;&gt;
&gt;&gt;&gt; Andrei Zmievski wrote:
&gt;&gt;&gt;&gt; I'll do 1), 2) unix, 3), and 4 (with some wording help from you guys).
&gt;&gt;&gt;
&gt;&gt;&gt; Here is a first run patch for the downloads page.
&gt;&gt;&gt;
&gt;&gt;&gt; Scott
&gt;&gt;&gt; Index: download.php
&gt;&gt;&gt; ===================================================================
&gt;&gt;&gt; RCS file: /repository/php-gtk-web/download.php,v
&gt;&gt;&gt; retrieving revision 1.37
&gt;&gt;&gt; diff -u -r1.37 download.php
&gt;&gt;&gt; --- download.php 13 Apr 2006 17:06:39 -0000 1.37
&gt;&gt;&gt; +++ download.php 19 Jun 2006 16:33:51 -0000
&gt;&gt;&gt; @@ -6,27 +6,23 @@
&gt;&gt;&gt;
&gt;&gt;&gt;  &lt;h1&gt;Download&lt;/h1&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; +&lt;h2&gt;Latest Stable Release (PHP-GTK 1)&lt;/h2&gt;
&gt;&gt;&gt; +
&gt;&gt;&gt;  &lt;p&gt;
&gt;&gt;&gt; -&lt;b&gt;Note:&lt;/b&gt; PHP-GTK requires PHP 4.0.5 or greater (latest CVS  version 
&gt;&gt;&gt; will work
&gt;&gt;&gt; -too). Versions 1.0.1 and later require PHP 4.3.x to build.
&gt;&gt;&gt; +&lt;b&gt;Note:&lt;/b&gt; PHP-GTK 1 requires PHP 4.3.x or greater to build but  will 
&gt;&gt;&gt; not work
&gt;&gt;&gt; +with PHP 5.x.
&gt;&gt;&gt;  &lt;/p&gt;
&gt;&gt;&gt;  &lt;p&gt;
&gt;&gt;&gt; -PHP-GTK currently supports GTK+ v1.2.6 or greater, but not GTK+ v2.x. 
&gt;&gt;&gt; You can
&gt;&gt;&gt; +PHP-GTK 1 currently supports GTK+ v1.2.6 or greater, but not GTK+ 
&gt;&gt;&gt; v2.x. You can
&gt;&gt;&gt;  obtain the latest stable release
&gt;&gt;&gt;  of GTK+ v1.2.x from &lt;?php 
&gt;&gt;&gt; print_link('ftp://ftp.gtk.org/pub/gtk/v1.2/'); ?&gt;.
&gt;&gt;&gt;  &lt;/p&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; -&lt;h2&gt;Latest Stable Release&lt;/h2&gt;
&gt;&gt;&gt; -
&gt;&gt;&gt;  &lt;ul&gt;
&gt;&gt;&gt;  &lt;li&gt;&lt;?php 
&gt;&gt;&gt; print_link('http://gtk.php.net/do_download.php?download_file=php-gtk -1.0.2.tar.gz', 
&gt;&gt;&gt; 'php-gtk-1.0.2 Source'); ?&gt; - 15-Jul-2005&lt;br&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;  &lt;li&gt;&lt;?php 
&gt;&gt;&gt; print_link('http://gtk.php.net/do_download.php?download_file=php-gtk -1.0.1.tar.gz', 
&gt;&gt;&gt; 'php-gtk-1.0.1 Source'); ?&gt; - 09-Aug-2004&lt;br&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; -&lt;!-- Bump off list
&gt;&gt;&gt; -&lt;li&gt;&lt;?php 
&gt;&gt;&gt; print_link('http://gtk.php.net/do_download.php?download_file=php-gtk -1.0.0.tar.gz', 
&gt;&gt;&gt; 'php-gtk-1.0.0 Source'); ?&gt; - 23-Oct-2003&lt;br&gt;
&gt;&gt;&gt; ---&gt;
&gt;&gt;&gt; -
&gt;&gt;&gt;  &lt;li&gt;&lt;?php 
&gt;&gt;&gt; print_link('http://gtk.php.net/do_download.php?download_file=php-gtk -1.0.2-win32.zip', 
&gt;&gt;&gt; 'php-gtk-1.0.2 Windows and PHP Binaries'); ?&gt; -  15-Jul-2005&lt;br&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;  &lt;li&gt;&lt;?php 
&gt;&gt;&gt; print_link('http://gtk.php.net/do_download.php?download_file=php-gtk -1.0.1a-win32.zip', 
&gt;&gt;&gt; 'php-gtk-1.0.1a Windows and PHP Binaries'); ?&gt; -  25-Aug-2004&lt;br&gt;
&gt;&gt;&gt; @@ -37,6 +33,23 @@
&gt;&gt;&gt;
&gt;&gt;&gt;  &lt;/ul&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; +&lt;h2&gt;Latest Development Release (PHP-GTK 2)&lt;/h2&gt;
&gt;&gt;&gt; +
&gt;&gt;&gt; +&lt;p&gt;
&gt;&gt;&gt; +&lt;b&gt;Note:&lt;/b&gt; PHP-GTK 2 requires PHP 5.1.1 or greater (latest CVS 
&gt;&gt;&gt; version will
&gt;&gt;&gt; +work too).
&gt;&gt;&gt; +&lt;/p&gt;
&gt;&gt;&gt; +&lt;p&gt;
&gt;&gt;&gt; +PHP-GTK 2 currently supports GTK+ v2.6 or greater. You can obtain the 
&gt;&gt;&gt; latest
&gt;&gt;&gt; +stable release of GTK+ v2.6.x from &lt;?php 
&gt;&gt;&gt; print_link('ftp://ftp.gtk.org/pub/gtk/v2.6/'); ?&gt;.
&gt;&gt;&gt; +&lt;/p&gt;
&gt;&gt;&gt; +
&gt;&gt;&gt; +&lt;ul&gt;
&gt;&gt;&gt; +&lt;li&gt;&lt;?php 
&gt;&gt;&gt; print_link('http://gtk.php.net/do_download.php?download_file=php-gtk -2.0.0zeta.tar.gz', 
&gt;&gt;&gt; 'php-gtk-2.0.0zeta Source'); ?&gt; - 19-Jun-2006&lt;br&gt;
&gt;&gt;&gt; +
&gt;&gt;&gt; +&lt;li&gt;&lt;?php 
&gt;&gt;&gt; print_link('http://gtk.php.net/do_download.php?download_file=php-gtk -2.0.0zeta-win32.zip', 
&gt;&gt;&gt; 'php-gtk-2.0.0zeta Windows and PHP Binaries');  ?&gt; - 19-Jun-2006&lt;br&gt;
&gt;&gt;&gt; +&lt;/ul&gt;
&gt;&gt;&gt; +
&gt;&gt;&gt;  &lt;h2&gt;CVS Version&lt;/h2&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;  &lt;p&gt;
&gt;&gt;&gt; @@ -53,10 +66,15 @@
&gt;&gt;&gt;  &lt;/pre&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;  &lt;li&gt;
&gt;&gt;&gt; -Obtain the PHP-GTK tree:
&gt;&gt;&gt; +Obtain the PHP-GTK 1 tree:
&gt;&gt;&gt;  &lt;pre&gt;
&gt;&gt;&gt;  cvs -d :pserver:cvsread@cvs.php.net:/repository co -r PHP_GTK_1 
&gt;&gt;&gt; php-gtk
&gt;&gt;&gt;  &lt;/pre&gt;
&gt;&gt;&gt; +or obtain the PHP-GTK 2 tree:
&gt;&gt;&gt; +&lt;pre&gt;
&gt;&gt;&gt; +cvs -d :pserver:cvsread@cvs.php.net:/repository co php-gtk
&gt;&gt;&gt; +&lt;/pre&gt;
&gt;&gt;&gt; +
&gt;&gt;&gt;
&gt;&gt;&gt;  &lt;li&gt;
&gt;&gt;&gt;  Move into the source tree:
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060620032226</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-20 03:22:26-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

On Jun 19, 2006, at 8:16 PM, Steph Fox wrote:

&gt; We should... actually we kind of do already, it's hidden in amongst  
&gt; the tutorials and we can just link to that page from the main site  
&gt; - that should be enough, no?

No, I'd like a standalone piece of HTML/text that I can post in a  
couple of places.

&gt; Anyone feeling intelligent enough to write up the rest of it?
&gt;
&gt; On my box I've written in support for GtkCTreeNode and a few pixmap- 
&gt; creating (a bit BC) items + GtkCTree and GtkCList (very much BC and  
&gt; both marked as 'deprecated').

I still don't know why we're supporting GtkCTreeNode if we're not  
supporting GtkCTree.
&gt;
&gt; In GTK+ 2.6.9 the pixmap stuff isn't actually deprecated, so it  
&gt; needs to be covered. It's actually way harder to do this under PHP- 
&gt; GTK 2 rules than it was under PHP-GTK 1, internally, but I have  
&gt; working samples now.
&gt;
&gt; I need you to go through all this stuff Andrei, it's not  
&gt; contentious as far as I'm concerned but I'l bet you find where it  
&gt; is :)

Where is all this "stuff"?

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060620032509</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-20 03:25:09-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

&gt; On Jun 19, 2006, at 8:16 PM, Steph Fox wrote:
&gt;
&gt;&gt; We should... actually we kind of do already, it's hidden in amongst  the 
&gt;&gt; tutorials and we can just link to that page from the main site  - that 
&gt;&gt; should be enough, no?
&gt;
&gt; No, I'd like a standalone piece of HTML/text that I can post in a  couple 
&gt; of places.

OK... a challenge for Scott methinks :)

&gt;&gt; Anyone feeling intelligent enough to write up the rest of it?
&gt;&gt;
&gt;&gt; On my box I've written in support for GtkCTreeNode and a few pixmap- 
&gt;&gt; creating (a bit BC) items + GtkCTree and GtkCList (very much BC and  both 
&gt;&gt; marked as 'deprecated').
&gt;
&gt; I still don't know why we're supporting GtkCTreeNode if we're not 
&gt; supporting GtkCTree.

We're supporting GtkCTree. Check the defs, it's marked 'deprecated' but it 
isn't gone yet.

&gt;&gt; In GTK+ 2.6.9 the pixmap stuff isn't actually deprecated, so it  needs to 
&gt;&gt; be covered. It's actually way harder to do this under PHP- GTK 2 rules 
&gt;&gt; than it was under PHP-GTK 1, internally, but I have  working samples now.
&gt;&gt;
&gt;&gt; I need you to go through all this stuff Andrei, it's not  contentious as 
&gt;&gt; far as I'm concerned but I'l bet you find where it  is :)
&gt;
&gt; Where is all this "stuff"?

Still on my box, I'll throw it at you when I'm next sober :)

- Steph 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060620032748</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-06-20 03:27:48-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

Steph,

&gt; Anyone feeling intelligent enough to write up the rest of it?

Since I haven't done anything for the Alpha release, I guess I can
atleast do this :)

I'll probably pick out most of the content from Andrei's slides and put
a dash of the stuff hidden in the tutorials, and then we have a features
page.

/me gets to work...

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060620032832</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-20 03:28:32-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

Anant, you have your moments :)

Thanks!

&gt; Steph,
&gt; 
&gt;&gt; Anyone feeling intelligent enough to write up the rest of it?
&gt; 
&gt; Since I haven't done anything for the Alpha release, I guess I can
&gt; atleast do this :)
&gt; 
&gt; I'll probably pick out most of the content from Andrei's slides and put
&gt; a dash of the stuff hidden in the tutorials, and then we have a features
&gt; page.
&gt; 
&gt; /me gets to work...
&gt; 
&gt; - Anant
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060620061210</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-20 06:12:10-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

On Jun 19, 2006, at 8:25 PM, Steph Fox wrote:

&gt;&gt; I still don't know why we're supporting GtkCTreeNode if we're not  
&gt;&gt; supporting GtkCTree.
&gt;
&gt; We're supporting GtkCTree. Check the defs, it's marked 'deprecated'  
&gt; but it isn't gone yet.

Should we support it fully is the question..

&gt;&gt; Where is all this "stuff"?
&gt;
&gt; Still on my box, I'll throw it at you when I'm next sober :)

Fine.

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060620120535</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-06-20 12:05:35-0400</timestampReceived><subject>Re: Fw: [PHP-GTK-DEV] Alpha?</subject><body>

Steph Fox wrote:
&gt; NB we can't work with "PHP 4.0.5 or greater" for PHP-GTK 2.  Or at 
&gt; least, if Andrei thinks we can, I'll need to do some work on the PHP_5_2 
&gt; compat changes I already made. I was under the impression that the *nix 
&gt; build requests 5.1.*....

My download page patch changed that line from "PHP-GTK requires PHP 
4.0.5 or greater..." to "PHP-GTK 1 requires PHP 4.3.x or greater..." and 
"PHP-GTK 2 requires PHP 5.1.1 or greater..."

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060620132354</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-20 13:23:54-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

&gt; On Jun 19, 2006, at 8:25 PM, Steph Fox wrote:
&gt;
&gt;&gt;&gt; I still don't know why we're supporting GtkCTreeNode if we're not 
&gt;&gt;&gt; supporting GtkCTree.
&gt;&gt;
&gt;&gt; We're supporting GtkCTree. Check the defs, it's marked 'deprecated'  but 
&gt;&gt; it isn't gone yet.
&gt;
&gt; Should we support it fully is the question..

I think having it working is sane, since it's there. I've got both its 
constructors working, generated the treenode and overridden insert_node.

&gt;&gt;&gt; Where is all this "stuff"?
&gt;&gt;
&gt;&gt; Still on my box, I'll throw it at you when I'm next sober :)
&gt;
&gt; Fine.

It _was_ about 6am in the morning, c'mon!

Two more methods to overwrite, then I'll clean up and put stuff 'out there' 
for review.

- Steph

&gt;
&gt; -Andrei
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060620132958</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-20 13:29:58-0400</timestampReceived><subject>Re: Fw: [PHP-GTK-DEV] Alpha?</subject><body>

Oh good :)



&gt; Steph Fox wrote:
&gt;&gt; NB we can't work with "PHP 4.0.5 or greater" for PHP-GTK 2.  Or at least, 
&gt;&gt; if Andrei thinks we can, I'll need to do some work on the PHP_5_2 compat 
&gt;&gt; changes I already made. I was under the impression that the *nix build 
&gt;&gt; requests 5.1.*....
&gt;
&gt; My download page patch changed that line from "PHP-GTK requires PHP 4.0.5 
&gt; or greater..." to "PHP-GTK 1 requires PHP 4.3.x or greater..." and 
&gt; "PHP-GTK 2 requires PHP 5.1.1 or greater..."
&gt;
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060621005352</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-21 00:53:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

We also need to have user notes working before alpha goes out.

-Andrei


On Jun 20, 2006, at 6:23 AM, Steph Fox wrote:

&gt;&gt; On Jun 19, 2006, at 8:25 PM, Steph Fox wrote:
&gt;&gt;
&gt;&gt;&gt;&gt; I still don't know why we're supporting GtkCTreeNode if we're  
&gt;&gt;&gt;&gt; not supporting GtkCTree.
&gt;&gt;&gt;
&gt;&gt;&gt; We're supporting GtkCTree. Check the defs, it's marked  
&gt;&gt;&gt; 'deprecated'  but it isn't gone yet.
&gt;&gt;
&gt;&gt; Should we support it fully is the question..
&gt;
&gt; I think having it working is sane, since it's there. I've got both  
&gt; its constructors working, generated the treenode and overridden  
&gt; insert_node.
&gt;
&gt;&gt;&gt;&gt; Where is all this "stuff"?
&gt;&gt;&gt;
&gt;&gt;&gt; Still on my box, I'll throw it at you when I'm next sober :)
&gt;&gt;
&gt;&gt; Fine.
&gt;
&gt; It _was_ about 6am in the morning, c'mon!
&gt;
&gt; Two more methods to overwrite, then I'll clean up and put stuff  
&gt; 'out there' for review.
&gt;
&gt; - Steph
&gt;
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060621013919</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-21 01:39:19-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

I put up a test tarball from fresh CVS here:

http://www.php.net/~andrei/php-gtk-2.0.0zeta.tar.gz

It doesn't have README updates yet, but please test it and see if it  
works for you.

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060621020712</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-21 02:07:12-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

Yeah, I know. On it, but need your input. Where's the 'live version' going 
is the biggest problem - the backup can be on the work server, but we need a 
dir with write permissions on the website (aka 'above the docroot') and I 
don't have the ability to create that. You do.

Let me know when it's there and where it is.


&gt; We also need to have user notes working before alpha goes out.
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Jun 20, 2006, at 6:23 AM, Steph Fox wrote:
&gt;
&gt;&gt;&gt; On Jun 19, 2006, at 8:25 PM, Steph Fox wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; I still don't know why we're supporting GtkCTreeNode if we're  not 
&gt;&gt;&gt;&gt;&gt; supporting GtkCTree.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; We're supporting GtkCTree. Check the defs, it's marked  'deprecated' 
&gt;&gt;&gt;&gt; but it isn't gone yet.
&gt;&gt;&gt;
&gt;&gt;&gt; Should we support it fully is the question..
&gt;&gt;
&gt;&gt; I think having it working is sane, since it's there. I've got both  its 
&gt;&gt; constructors working, generated the treenode and overridden  insert_node.
&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Where is all this "stuff"?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Still on my box, I'll throw it at you when I'm next sober :)
&gt;&gt;&gt;
&gt;&gt;&gt; Fine.
&gt;&gt;
&gt;&gt; It _was_ about 6am in the morning, c'mon!
&gt;&gt;
&gt;&gt; Two more methods to overwrite, then I'll clean up and put stuff  'out 
&gt;&gt; there' for review.
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060621020829</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-21 02:08:29-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

OK I should've put my patches on the list today and didn't, I got caught up 
in the 'alpha' issue on the TODO.

Will do it before you wake again.

- Steph


&gt;I put up a test tarball from fresh CVS here:
&gt;
&gt; http://www.php.net/~andrei/php-gtk-2.0.0zeta.tar.gz
&gt;
&gt; It doesn't have README updates yet, but please test it and see if it 
&gt; works for you.
&gt;
&gt; -Andrei
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060621041841</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-06-21 04:18:41-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

&gt; http://www.php.net/~andrei/php-gtk-2.0.0zeta.tar.gz

The package works great for me (extensions inclusive).

BTW, Here's a preliminary Source RPM:

http://www.kix.in/php-gtk2/php-gtk-2.0.0-zeta.src.rpm

If anyone has an rpm-based distro, test it let me know.

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060621081657</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-21 08:16:57-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>


Andrei,

&gt; It doesn't have README updates yet, but please test it and see if it
&gt; works for you.
I have a somehow special setup and it didn't work for me flawlessly:


If you have not in the standard dirs, buildconf needs to be run
"--with-phpize=/path/to/phpize". If you forget this, you just get:
--------------------
grep: /usr/local/include/php/main/php.h: No such file or directory
grep: /usr/local/include/php/Zend/zend_modules.h: No such file or directory
grep: /usr/local/include/php/Zend/zend_extensions.h: No such file or
directory
Configuring for:
PHP Api Version:
Zend Module Api No:
Zend Extension Api No:
rebuilding aclocal.m4
rebuilding configure
rebuilding config.h.in
--------------------

The script should show an error message that the file hasn't been found,
and show how to use --with-phpize.

I used the parameter and got a config script.
Running it, I get:
---
checking for PHP-GTK support... yes, shared
checking for PHP executable in /usr/local/bin... found version 5.1.2
configure: error: PHP CLI version is required,  found
---

Found what?
Maybe the error is due to my setup, because
/usr/local/bin/php -&gt; /usr/bin/php
/usr/bin/php -&gt; p5
/usr/bin/p5 = shell script which calls
/data/cvs/php/php5install/bin/php -c /data/cvs/php/php5install/bin/ $*


At least, it works when using --with-php-config=/path/to/php-config


The rest is working as expected.

I know that the last problem with the "found" can't be solved, but the
buildconf should get a hint about what to do

-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060621170130</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-21 17:01:30-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

On Jun 21, 2006, at 1:16 AM, Christian Weiske wrote:

&gt; If you have not in the standard dirs, buildconf needs to be run
&gt; "--with-phpize=/path/to/phpize". If you forget this, you just get:
&gt; --------------------
&gt; grep: /usr/local/include/php/main/php.h: No such file or directory
&gt; grep: /usr/local/include/php/Zend/zend_modules.h: No such file or 
&gt; directory
&gt; grep: /usr/local/include/php/Zend/zend_extensions.h: No such file or
&gt; directory
&gt; Configuring for:
&gt; PHP Api Version:
&gt; Zend Module Api No:
&gt; Zend Extension Api No:
&gt; rebuilding aclocal.m4
&gt; rebuilding configure
&gt; rebuilding config.h.in
&gt; --------------------
&gt;
&gt; The script should show an error message that the file hasn't been 
&gt; found,
&gt; and show how to use --with-phpize.

What file? 'phpize'?

&gt; I used the parameter and got a config script.
&gt; Running it, I get:
&gt; ---
&gt; checking for PHP-GTK support... yes, shared
&gt; checking for PHP executable in /usr/local/bin... found version 5.1.2
&gt; configure: error: PHP CLI version is required,  found
&gt; ---
&gt;
&gt; Found what?
&gt; Maybe the error is due to my setup, because
&gt; /usr/local/bin/php -&gt; /usr/bin/php
&gt; /usr/bin/php -&gt; p5
&gt; /usr/bin/p5 = shell script which calls
&gt; /data/cvs/php/php5install/bin/php -c /data/cvs/php/php5install/bin/ $*
&gt;
&gt;
&gt; At least, it works when using --with-php-config=/path/to/php-config
&gt;
&gt;
&gt; The rest is working as expected.
&gt;
&gt; I know that the last problem with the "found" can't be solved, but the
&gt; buildconf should get a hint about what to do
&gt;

I ran into something like this when I didn't have X server started. 
After starting it, the configure worked normally.

What should buildconf do exactly?

We should actually strive for not making users run buildconf when they 
untar the package. They should just do ./configure (with appropriate 
parameters) and compile.

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060613053011</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-13 05:30:11-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

We were going to do it this weekend, I just got bogged down in work :(

----- Original Message ----- 
From: "Anant Narayanan" &lt;anant@kix.in&gt;
To: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, June 13, 2006 6:34 AM
Subject: Re: [PHP-GTK-DEV] Alpha?


&gt; Hi All,
&gt; 
&gt;&gt; I know this is the tenthousandfirst question regarding this theme, but
&gt;&gt; could we start to build a release?
&gt; 
&gt; IMHO, I think we really should make a release now. I don't think there's
&gt; really much to do before that (since we're going to skip Win support for
&gt; the extensions, and all the pending patches are through).
&gt; 
&gt; Let's do this, and then I can start work on the GNOME-ext :)
&gt; 
&gt; - Anant
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060613102332</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-13 10:23:32-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

&gt; We were going to do it this weekend, I just got bogged down in work :(
That's a clear word. Thanks.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060613153650</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-13 15:36:50-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

I worked on the Makefile and makedist scripts last weekend. I think for 
release we need to update README and README.KNOWN-ISSUES files and 
decide whether everything from the php-gtk/ dir should be included 
(like demos/, tests/, etc).

-Andrei

On Jun 12, 2006, at 9:27 PM, Christian Weiske wrote:

&gt; Hello,
&gt;
&gt; I know this is the tenthousandfirst question regarding this theme, but
&gt; could we start to build a release?
&gt; If something is missing, tell me and I'll fix it.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060613155016</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-13 15:50:16-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>


Andrei,

&gt; release we need to update README and README.KNOWN-ISSUES files and
&gt; decide whether everything from the php-gtk/ dir should be included (like
&gt; demos/, tests/, etc).
tests/ isn't needed.
I would like to keep the demos/ directory, because people can test their
installation right after setting it up, and see what you can do with
php-gtk2.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060613155856</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-06-13 15:58:56-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

Andrei Zmievski wrote:
&gt; I worked on the Makefile and makedist scripts last weekend. I think for 
&gt; release we need to update README and README.KNOWN-ISSUES files and 
&gt; decide whether everything from the php-gtk/ dir should be included (like 
&gt; demos/, tests/, etc).

Here is a patch for the README. I just updated version numbers and the 
demo file directory.

Scott

["README.patch.txt" (text/plain)]

Index: README
===================================================================
RCS file: /repository/php-gtk/README,v
retrieving revision 1.11
diff -u -r1.11 README
--- README	22 Jan 2002 23:41:50 -0000	1.11
+++ README	13 Jun 2006 15:57:47 -0000
@@ -12,17 +12,14 @@
 
 Requirements
 ============
-As a prerequisite, you should have a CGI binary (command-line) version of PHP
+As a prerequisite, you should have a CLI binary (command-line) version of PHP
 installed along with the header files and development scripts. They should
 normally be installed when you do 'make install' in the PHP source tree.
 
-Currently, PHP-GTK requires PHP 4.0.5 or greater to run, and 4.1.0 or greater to
-build.
+Currently, PHP-GTK requires PHP 5.1.2 or greater to run, and to build.
 
-PHP-GTK supports GTK+ v1.2 and requires v1.2.6 or greater. GTK+ v2.0 is not yet
-supported but will be so in the future when v2.0 is out of the development phase
-and is used more widely. The latest stable release of GTK+ v1.2.x can be
-obtained from ftp://ftp.gtk.org/pub/gtk/v1.2/.
+PHP-GTK supports GTK+ v2.6 and requires v2.6 or greater. The latest stable
+release of GTK+ v2.6 can be obtained from ftp://ftp.gtk.org/pub/gtk/v2.6/.
 
 
 Installation and testing
@@ -44,9 +41,9 @@
 supported. If the compilation is successful, run 'make install' to install the
 extension into your default PHP extension directory.
 
-To test the extension, try running the example scripts in the test/ directory,
-especially gtk.php. These are also good for showing how the extension can be
-used.
+To test the extension, try running the demo scripts in the demos/ directory,
+especially phpgtk2-demo.php. These are also good for showing how the extension
+can be used.
 
 
 Website
@@ -96,9 +93,9 @@
 Patches and feedback
 ====================
 You can contact me directly at andrei@php.net or through the mailing list.
-Please use the mailing lists for most of your questions -- many people read them
-and you are more likely to get quicker feedback if you post there first. Patches
-in the unified diff (diff -u) format can be sent via the same means.
+Please use the mailing lists for most of your questions -- many people read
+them and you are more likely to get quicker feedback if you post there first.
+Patches in the unified diff (diff -u) format can be sent via the same means.
 
 
 Acknowledgements



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060613162352</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-13 16:23:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

OK, I have about 8 hours' urgent work in front of me and I'll devote 
tomorrow to getting my end of the alpha work done. Fair enough?

- Steph

----- Original Message ----- 
From: "Scott Mattocks" &lt;scott@crisscott.com&gt;
To: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, June 13, 2006 5:58 PM
Subject: Re: [PHP-GTK-DEV] Alpha?


&gt; Andrei Zmievski wrote:
&gt;&gt; I worked on the Makefile and makedist scripts last weekend. I think for
&gt;&gt; release we need to update README and README.KNOWN-ISSUES files and
&gt;&gt; decide whether everything from the php-gtk/ dir should be included (like
&gt;&gt; demos/, tests/, etc).
&gt;
&gt; Here is a patch for the README. I just updated version numbers and the
&gt; demo file directory.
&gt;
&gt; Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060613175256</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-13 17:52:56-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

There's also test/ directory remaining from PHP-GTK 1. Do we want it?

-Andrei

On Jun 13, 2006, at 8:50 AM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;&gt; release we need to update README and README.KNOWN-ISSUES files and
&gt;&gt; decide whether everything from the php-gtk/ dir should be included 
&gt;&gt; (like
&gt;&gt; demos/, tests/, etc).
&gt; tests/ isn't needed.
&gt; I would like to keep the demos/ directory, because people can test 
&gt; their
&gt; installation right after setting it up, and see what you can do with
&gt; php-gtk2.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060613175338</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-13 17:53:38-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

What needs to be done on your end?

-Andrei

On Jun 13, 2006, at 9:23 AM, Steph Fox wrote:

&gt; OK, I have about 8 hours' urgent work in front of me and I'll devote 
&gt; tomorrow to getting my end of the alpha work done. Fair enough?
&gt;
&gt; - Steph
&gt;
&gt; ----- Original Message ----- From: "Scott Mattocks" 
&gt; &lt;scott@crisscott.com&gt;
&gt; To: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
&gt; Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Tuesday, June 13, 2006 5:58 PM
&gt; Subject: Re: [PHP-GTK-DEV] Alpha?
&gt;
&gt;
&gt;&gt; Andrei Zmievski wrote:
&gt;&gt;&gt; I worked on the Makefile and makedist scripts last weekend. I think 
&gt;&gt;&gt; for
&gt;&gt;&gt; release we need to update README and README.KNOWN-ISSUES files and
&gt;&gt;&gt; decide whether everything from the php-gtk/ dir should be included 
&gt;&gt;&gt; (like
&gt;&gt;&gt; demos/, tests/, etc).
&gt;&gt;
&gt;&gt; Here is a patch for the README. I just updated version numbers and the
&gt;&gt; demo file directory.
&gt;&gt;
&gt;&gt; Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060613180216</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-06-13 18:02:16-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

Andrei Zmievski wrote:
&gt; I worked on the Makefile and makedist scripts last weekend. I think for 
&gt; release we need to update README and README.KNOWN-ISSUES files and 

Here is a patch for the README.KNOWN-ISSUES file. Sorry if I over 
simplified things too much.

Scott

["README.KNOWN-ISSUES.patch.txt" (text/plain)]

Index: README.KNOWN-ISSUES
===================================================================
RCS file: /repository/php-gtk/README.KNOWN-ISSUES,v
retrieving revision 1.1
diff -u -r1.1 README.KNOWN-ISSUES
--- README.KNOWN-ISSUES	16 Apr 2005 04:54:24 -0000	1.1
+++ README.KNOWN-ISSUES	13 Jun 2006 18:00:58 -0000
@@ -1,4 +1,10 @@
-- Examining a widget's style property after it's unrealized can result in a
-  crash, since Gtk+ does not properly clean it up. This can happen if you
-  connect to 'destroy' signal for the widget, for example, and then var_dump()
-  the callback's first argument.
+Release 2.0.0zeta
+* Memory leaks when using Gtk::timeout_add() within a class (does not occur
+  when used outside of a class). This is an issue with Gtk+ and must be fixed
+  in Gtk+. 
+* Memeory leaks when using GtkTreeModelFilter::set_visible_func(). This is an
+  issue with Gtk+. It has been resolved in version 2.8.x. Users using version
+  2.8.x will not see this issue. Other users may.
+  http://bugzilla.gnome.org/show_bug.cgi?id=344624
+* Win32 crash on application exit. Versions of PHP greater than 5.1.2 may crash
+  when the application exits. A fix is known and must be applied to PHP.



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060613180653</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-13 18:06:53-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>


&gt; There's also test/ directory remaining from PHP-GTK 1. Do we want it?
Remove it.
-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060613180959</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-13 18:09:59-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

I won't know until I get time to go through it, there've been a lot of 
commits over the weekend...

&gt; What needs to be done on your end?
&gt;
&gt; -Andrei
&gt;
&gt; On Jun 13, 2006, at 9:23 AM, Steph Fox wrote:
&gt;
&gt;&gt; OK, I have about 8 hours' urgent work in front of me and I'll devote 
&gt;&gt; tomorrow to getting my end of the alpha work done. Fair enough?
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "Scott Mattocks" &lt;scott@crisscott.com&gt;
&gt;&gt; To: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
&gt;&gt; Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt; Sent: Tuesday, June 13, 2006 5:58 PM
&gt;&gt; Subject: Re: [PHP-GTK-DEV] Alpha?
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; Andrei Zmievski wrote:
&gt;&gt;&gt;&gt; I worked on the Makefile and makedist scripts last weekend. I think for
&gt;&gt;&gt;&gt; release we need to update README and README.KNOWN-ISSUES files and
&gt;&gt;&gt;&gt; decide whether everything from the php-gtk/ dir should be included 
&gt;&gt;&gt;&gt; (like
&gt;&gt;&gt;&gt; demos/, tests/, etc).
&gt;&gt;&gt;
&gt;&gt;&gt; Here is a patch for the README. I just updated version numbers and the
&gt;&gt;&gt; demo file directory.
&gt;&gt;&gt;
&gt;&gt;&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060613181122</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-13 18:11:22-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

ps Andrei you do realize Dmitry's about to commit his module API change into 
5_2?


&gt;I won't know until I get time to go through it, there've been a lot of 
&gt;commits over the weekend...
&gt;
&gt;&gt; What needs to be done on your end?
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt; On Jun 13, 2006, at 9:23 AM, Steph Fox wrote:
&gt;&gt;
&gt;&gt;&gt; OK, I have about 8 hours' urgent work in front of me and I'll devote 
&gt;&gt;&gt; tomorrow to getting my end of the alpha work done. Fair enough?
&gt;&gt;&gt;
&gt;&gt;&gt; - Steph
&gt;&gt;&gt;
&gt;&gt;&gt; ----- Original Message ----- From: "Scott Mattocks" 
&gt;&gt;&gt; &lt;scott@crisscott.com&gt;
&gt;&gt;&gt; To: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
&gt;&gt;&gt; Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt;&gt; Sent: Tuesday, June 13, 2006 5:58 PM
&gt;&gt;&gt; Subject: Re: [PHP-GTK-DEV] Alpha?
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Andrei Zmievski wrote:
&gt;&gt;&gt;&gt;&gt; I worked on the Makefile and makedist scripts last weekend. I think 
&gt;&gt;&gt;&gt;&gt; for
&gt;&gt;&gt;&gt;&gt; release we need to update README and README.KNOWN-ISSUES files and
&gt;&gt;&gt;&gt;&gt; decide whether everything from the php-gtk/ dir should be included 
&gt;&gt;&gt;&gt;&gt; (like
&gt;&gt;&gt;&gt;&gt; demos/, tests/, etc).
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Here is a patch for the README. I just updated version numbers and the
&gt;&gt;&gt;&gt; demo file directory.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Scott
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060613181328</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-13 18:13:28-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>


&gt; +* Memory leaks when using Gtk::timeout_add() within a class (does not occur
&gt; +  when used outside of a class). This is an issue with Gtk+ and must be fixed
&gt; +  in Gtk+. 
No, it's a php-gtk issue.

&gt; +* Win32 crash on application exit. Versions of PHP greater than 5.1.2 may crash
&gt; +  when the application exits. A fix is known and must be applied to PHP.
I thought that was fixed by the latest commits?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060613181804</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-13 18:18:04-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

Yes. Does it hurt us? We can #ifdef it.

-Andrei

On Jun 13, 2006, at 11:11 AM, Steph Fox wrote:

&gt; ps Andrei you do realize Dmitry's about to commit his module API 
&gt; change into 5_2?

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060613182004</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-06-13 18:20:04-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

Christian Weiske wrote:
&gt;&gt; +* Memory leaks when using Gtk::timeout_add() within a class (does not occur
&gt;&gt; +  when used outside of a class). This is an issue with Gtk+ and must be fixed
&gt;&gt; +  in Gtk+. 
&gt; No, it's a php-gtk issue.

Updated.

&gt; 
&gt;&gt; +* Win32 crash on application exit. Versions of PHP greater than 5.1.2 may crash
&gt;&gt; +  when the application exits. A fix is known and must be applied to PHP.
&gt; I thought that was fixed by the latest commits?

Even if it is fixed in the latest commits, there are users out there 
that will try to build against versions that will have this issue.

Scott

-- 
Scott Mattocks
Author of: Pro PHP-GTK
http://www.crisscott.com

["README.KNOWN-ISSUES.patch.txt" (text/plain)]

Index: README.KNOWN-ISSUES
===================================================================
RCS file: /repository/php-gtk/README.KNOWN-ISSUES,v
retrieving revision 1.1
diff -u -r1.1 README.KNOWN-ISSUES
--- README.KNOWN-ISSUES	16 Apr 2005 04:54:24 -0000	1.1
+++ README.KNOWN-ISSUES	13 Jun 2006 18:16:04 -0000
@@ -1,4 +1,9 @@
-- Examining a widget's style property after it's unrealized can result in a
-  crash, since Gtk+ does not properly clean it up. This can happen if you
-  connect to 'destroy' signal for the widget, for example, and then var_dump()
-  the callback's first argument.
+Release 2.0.0zeta
+* Memory leaks when using Gtk::timeout_add() within a class (does not occur
+  when used outside of a class).
+* Memeory leaks when using GtkTreeModelFilter::set_visible_func(). This is an
+  issue with Gtk+. It has been resolved in version 2.8.x. Users using version
+  2.8.x will not see this issue. Other users may.
+  http://bugzilla.gnome.org/show_bug.cgi?id=344624
+* Win32 crash on application exit. Versions of PHP greater than 5.1.2 may crash
+  when the application exits. A fix is known and must be applied to PHP.



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060613191032</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-13 19:10:32-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

We have the option of staying with the old API (which will still work with a 
little help from its friends) or using the new one (which is a better 
solution). Supporting both... is going to be messy.

/me is still hoping to get her patch in to fix the old API's behaviour on 
shutdown at present


&gt; Yes. Does it hurt us? We can #ifdef it.
&gt;
&gt; -Andrei
&gt;
&gt; On Jun 13, 2006, at 11:11 AM, Steph Fox wrote:
&gt;
&gt;&gt; ps Andrei you do realize Dmitry's about to commit his module API change 
&gt;&gt; into 5_2?

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060613042752</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-13 04:27:52-0400</timestampReceived><subject>[PHP-GTK-DEV] Alpha?</subject><body>


Hello,

I know this is the tenthousandfirst question regarding this theme, but
could we start to build a release?
If something is missing, tell me and I'll fix it.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060613043405</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-06-13 04:34:05-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

Hi All,

&gt; I know this is the tenthousandfirst question regarding this theme, but
&gt; could we start to build a release?

IMHO, I think we really should make a release now. I don't think there's
really much to do before that (since we're going to skip Win support for
the extensions, and all the pending patches are through).

Let's do this, and then I can start work on the GNOME-ext :)

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060616121154</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-06-16 12:11:54-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

Steph Fox wrote:
&gt; OK, I have about 8 hours' urgent work in front of me and I'll devote 
&gt; tomorrow to getting my end of the alpha work done. Fair enough?

I have been out of it for the last few days so I apologize if I missed 
something, but where do we stand with this? Can we release today? This 
weekend?

Thanks,
Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060616135731</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-16 13:57:31-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

I can make a release when I get back on Sunday. I don't know where  
Steph is with her stuff.

-Andrei


On Jun 16, 2006, at 8:11 AM, Scott Mattocks wrote:

&gt; Steph Fox wrote:
&gt;&gt; OK, I have about 8 hours' urgent work in front of me and I'll  
&gt;&gt; devote tomorrow to getting my end of the alpha work done. Fair  
&gt;&gt; enough?
&gt;
&gt; I have been out of it for the last few days so I apologize if I  
&gt; missed something, but where do we stand with this? Can we release  
&gt; today? This weekend?
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060616152222</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-16 15:22:22-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

Steph's practically there.


&gt;I can make a release when I get back on Sunday. I don't know where  
&gt; Steph is with her stuff.
&gt; 
&gt; -Andrei
&gt; 
&gt; 
&gt; On Jun 16, 2006, at 8:11 AM, Scott Mattocks wrote:
&gt; 
&gt;&gt; Steph Fox wrote:
&gt;&gt;&gt; OK, I have about 8 hours' urgent work in front of me and I'll  
&gt;&gt;&gt; devote tomorrow to getting my end of the alpha work done. Fair  
&gt;&gt;&gt; enough?
&gt;&gt;
&gt;&gt; I have been out of it for the last few days so I apologize if I  
&gt;&gt; missed something, but where do we stand with this? Can we release  
&gt;&gt; today? This weekend?
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Scott
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060616155011</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-16 15:50:11-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

If we only we knew what Steph was doing..

-Andrei


On Jun 16, 2006, at 11:22 AM, Steph Fox wrote:

&gt; Steph's practically there.
&gt;
&gt;
&gt;&gt; I can make a release when I get back on Sunday. I don't know  
&gt;&gt; where  Steph is with her stuff.
&gt;&gt; -Andrei
&gt;&gt; On Jun 16, 2006, at 8:11 AM, Scott Mattocks wrote:
&gt;&gt;&gt; Steph Fox wrote:
&gt;&gt;&gt;&gt; OK, I have about 8 hours' urgent work in front of me and I'll   
&gt;&gt;&gt;&gt; devote tomorrow to getting my end of the alpha work done. Fair   
&gt;&gt;&gt;&gt; enough?
&gt;&gt;&gt;
&gt;&gt;&gt; I have been out of it for the last few days so I apologize if I   
&gt;&gt;&gt; missed something, but where do we stand with this? Can we  
&gt;&gt;&gt; release  today? This weekend?
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks,
&gt;&gt;&gt; Scott
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060616155457</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-06-16 15:54:57-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

Andrei Zmievski wrote:
&gt; If we only we knew what Steph was doing..

Putting in DDoS code for gravitonic.com, cweiske.de and crisscott.com 
because she is sick of our crap.

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060619133328</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-06-19 13:33:28-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

Andrei Zmievski wrote:
&gt; I can make a release when I get back on Sunday. I don't know where Steph 
&gt; is with her stuff.

According to the NTRVNRP thread, Steph is ready. Here is a short 
checklist of things that need to be done for the release (as far as I 
know anyway):

1) Update README*
2) Package PHP-GTK 2 for *nix and Windows
2a) Test packages
3) Upload packages to gtk.php.net
4) Update downloads page
5) Update homepage
6) After pages are updated, announce to the world

Am I missing anything? I can take care of 4-5 no problem and can even 
take care of the *nix side of 2, 2a and 3. I cannot create or test a 
Windows package and I don't think I have the karma to update the READMEs 
but I could be wrong there.

Thanks,
Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060619135955</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-19 13:59:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

&gt; Andrei Zmievski wrote:
&gt;&gt; I can make a release when I get back on Sunday. I don't know where Steph 
&gt;&gt; is with her stuff.
&gt;
&gt; According to the NTRVNRP thread, Steph is ready. Here is a short checklist 
&gt; of things that need to be done for the release (as far as I know anyway):
&gt;
&gt; 1) Update README*
&gt; 2) Package PHP-GTK 2 for *nix and Windows
&gt; 2a) Test packages
&gt; 3) Upload packages to gtk.php.net
&gt; 4) Update downloads page
&gt; 5) Update homepage
&gt; 6) After pages are updated, announce to the world

We also want to clean up the source a little, see threads passim. Waiting on 
Andrei to pronounce on the (IMHO) excessive use of construct exceptions...

&gt; Am I missing anything? I can take care of 4-5 no problem and can even take 
&gt; care of the *nix side of 2, 2a and 3. I cannot create or test a Windows 
&gt; package and I don't think I have the karma to update the READMEs but I 
&gt; could be wrong there.

Yep, I still need to fix up the notes db for the manual too.

- Steph
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060619161548</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-19 16:15:48-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

What is NTRVNRP?

On Jun 19, 2006, at 6:33 AM, Scott Mattocks wrote:

&gt; NTRVNRP

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060619161700</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-19 16:17:00-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

I'll do 1), 2) unix, 3), and 4 (with some wording help from you guys). 
Does anyone want to build a source .rpm?

-Andrei

On Jun 19, 2006, at 6:33 AM, Scott Mattocks wrote:

&gt; Andrei Zmievski wrote:
&gt;&gt; I can make a release when I get back on Sunday. I don't know where 
&gt;&gt; Steph is with her stuff.
&gt;
&gt; According to the NTRVNRP thread, Steph is ready. Here is a short 
&gt; checklist of things that need to be done for the release (as far as I 
&gt; know anyway):
&gt;
&gt; 1) Update README*
&gt; 2) Package PHP-GTK 2 for *nix and Windows
&gt; 2a) Test packages
&gt; 3) Upload packages to gtk.php.net
&gt; 4) Update downloads page
&gt; 5) Update homepage
&gt; 6) After pages are updated, announce to the world
&gt;
&gt; Am I missing anything? I can take care of 4-5 no problem and can even 
&gt; take care of the *nix side of 2, 2a and 3. I cannot create or test a 
&gt; Windows package and I don't think I have the karma to update the 
&gt; READMEs but I could be wrong there.
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060619161836</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-06-19 16:18:36-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

Andrei Zmievski wrote:
&gt; What is NTRVNRP?

NTRVNRP - needs to return value not require parameter

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060619163758</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-06-19 16:37:58-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

Andrei Zmievski wrote:
&gt; I'll do 1), 2) unix, 3), and 4 (with some wording help from you guys). 

Here is a first run patch for the downloads page.

Scott

["download.patch.txt" (text/plain)]

Index: download.php
===================================================================
RCS file: /repository/php-gtk-web/download.php,v
retrieving revision 1.37
diff -u -r1.37 download.php
--- download.php	13 Apr 2006 17:06:39 -0000	1.37
+++ download.php	19 Jun 2006 16:33:51 -0000
@@ -6,27 +6,23 @@
 
 &lt;h1&gt;Download&lt;/h1&gt;
 
+&lt;h2&gt;Latest Stable Release (PHP-GTK 1)&lt;/h2&gt;
+
 &lt;p&gt;
-&lt;b&gt;Note:&lt;/b&gt; PHP-GTK requires PHP 4.0.5 or greater (latest CVS version will work
-too). Versions 1.0.1 and later require PHP 4.3.x to build.
+&lt;b&gt;Note:&lt;/b&gt; PHP-GTK 1 requires PHP 4.3.x or greater to build but will not work
+with PHP 5.x.
 &lt;/p&gt;
 &lt;p&gt;
-PHP-GTK currently supports GTK+ v1.2.6 or greater, but not GTK+ v2.x. You can
+PHP-GTK 1 currently supports GTK+ v1.2.6 or greater, but not GTK+ v2.x. You can
 obtain the latest stable release 
 of GTK+ v1.2.x from &lt;?php print_link('ftp://ftp.gtk.org/pub/gtk/v1.2/'); ?&gt;.
 &lt;/p&gt;
 
-&lt;h2&gt;Latest Stable Release&lt;/h2&gt;
-
 &lt;ul&gt;
 &lt;li&gt;&lt;?php print_link('http://gtk.php.net/do_download.php?download_file=php-gtk-1.0.2.tar.gz', \
'php-gtk-1.0.2 Source'); ?&gt; - 15-Jul-2005&lt;br&gt;  
 &lt;li&gt;&lt;?php print_link('http://gtk.php.net/do_download.php?download_file=php-gtk-1.0.1.tar.gz', \
'php-gtk-1.0.1 Source'); ?&gt; - 09-Aug-2004&lt;br&gt;  
-&lt;!-- Bump off list
-&lt;li&gt;&lt;?php print_link('http://gtk.php.net/do_download.php?download_file=php-gtk-1.0.0.tar.gz', \
                'php-gtk-1.0.0 Source'); ?&gt; - 23-Oct-2003&lt;br&gt;
---&gt;
-
 &lt;li&gt;&lt;?php print_link('http://gtk.php.net/do_download.php?download_file=php-gtk-1.0.2-win32.zip', \
'php-gtk-1.0.2 Windows and PHP Binaries'); ?&gt; - 15-Jul-2005&lt;br&gt;  
 &lt;li&gt;&lt;?php print_link('http://gtk.php.net/do_download.php?download_file=php-gtk-1.0.1a-win32.zip', \
'php-gtk-1.0.1a Windows and PHP Binaries'); ?&gt; - 25-Aug-2004&lt;br&gt; @@ -37,6 +33,23 @@
 
 &lt;/ul&gt;
 
+&lt;h2&gt;Latest Development Release (PHP-GTK 2)&lt;/h2&gt;
+
+&lt;p&gt;
+&lt;b&gt;Note:&lt;/b&gt; PHP-GTK 2 requires PHP 5.1.1 or greater (latest CVS version will
+work too). 
+&lt;/p&gt;
+&lt;p&gt;
+PHP-GTK 2 currently supports GTK+ v2.6 or greater. You can obtain the latest
+stable release of GTK+ v2.6.x from &lt;?php \
print_link('ftp://ftp.gtk.org/pub/gtk/v2.6/'); ?&gt;. +&lt;/p&gt;
+
+&lt;ul&gt;
+&lt;li&gt;&lt;?php print_link('http://gtk.php.net/do_download.php?download_file=php-gtk-2.0.0zeta.tar.gz', \
'php-gtk-2.0.0zeta Source'); ?&gt; - 19-Jun-2006&lt;br&gt; +
+&lt;li&gt;&lt;?php print_link('http://gtk.php.net/do_download.php?download_file=php-gtk-2.0.0zeta-win32.zip', \
'php-gtk-2.0.0zeta Windows and PHP Binaries'); ?&gt; - 19-Jun-2006&lt;br&gt; +&lt;/ul&gt;
+
 &lt;h2&gt;CVS Version&lt;/h2&gt;
 
 &lt;p&gt;
@@ -53,10 +66,15 @@
 &lt;/pre&gt;
 
 &lt;li&gt;
-Obtain the PHP-GTK tree:
+Obtain the PHP-GTK 1 tree:
 &lt;pre&gt;
 cvs -d :pserver:cvsread@cvs.php.net:/repository co -r PHP_GTK_1 php-gtk
 &lt;/pre&gt;
+or obtain the PHP-GTK 2 tree:
+&lt;pre&gt;
+cvs -d :pserver:cvsread@cvs.php.net:/repository co php-gtk
+&lt;/pre&gt;
+
 
 &lt;li&gt;
 Move into the source tree:



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060619164309</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-19 16:43:09-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>


&gt; What is NTRVNRP?
Look at TODO2 bottom: needs to return value not require parameter

--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060619231411</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-19 23:14:11-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

Should we have a page or a file that lists the major features/changes  
of PHP-GTK 2?

-Andrei

On Jun 19, 2006, at 9:37 AM, Scott Mattocks wrote:

&gt; Andrei Zmievski wrote:
&gt;&gt; I'll do 1), 2) unix, 3), and 4 (with some wording help from you guys).
&gt;
&gt; Here is a first run patch for the downloads page.
&gt;
&gt; Scott
&gt; Index: download.php
&gt; ===================================================================
&gt; RCS file: /repository/php-gtk-web/download.php,v
&gt; retrieving revision 1.37
&gt; diff -u -r1.37 download.php
&gt; --- download.php	13 Apr 2006 17:06:39 -0000	1.37
&gt; +++ download.php	19 Jun 2006 16:33:51 -0000
&gt; @@ -6,27 +6,23 @@
&gt;
&gt;  &lt;h1&gt;Download&lt;/h1&gt;
&gt;
&gt; +&lt;h2&gt;Latest Stable Release (PHP-GTK 1)&lt;/h2&gt;
&gt; +
&gt;  &lt;p&gt;
&gt; -&lt;b&gt;Note:&lt;/b&gt; PHP-GTK requires PHP 4.0.5 or greater (latest CVS  
&gt; version will work
&gt; -too). Versions 1.0.1 and later require PHP 4.3.x to build.
&gt; +&lt;b&gt;Note:&lt;/b&gt; PHP-GTK 1 requires PHP 4.3.x or greater to build but  
&gt; will not work
&gt; +with PHP 5.x.
&gt;  &lt;/p&gt;
&gt;  &lt;p&gt;
&gt; -PHP-GTK currently supports GTK+ v1.2.6 or greater, but not GTK+ v2.x.  
&gt; You can
&gt; +PHP-GTK 1 currently supports GTK+ v1.2.6 or greater, but not GTK+  
&gt; v2.x. You can
&gt;  obtain the latest stable release
&gt;  of GTK+ v1.2.x from &lt;?php  
&gt; print_link('ftp://ftp.gtk.org/pub/gtk/v1.2/'); ?&gt;.
&gt;  &lt;/p&gt;
&gt;
&gt; -&lt;h2&gt;Latest Stable Release&lt;/h2&gt;
&gt; -
&gt;  &lt;ul&gt;
&gt;  &lt;li&gt;&lt;?php  
&gt; print_link('http://gtk.php.net/do_download.php?download_file=php-gtk 
&gt; -1.0.2.tar.gz', 'php-gtk-1.0.2 Source'); ?&gt; - 15-Jul-2005&lt;br&gt;
&gt;
&gt;  &lt;li&gt;&lt;?php  
&gt; print_link('http://gtk.php.net/do_download.php?download_file=php-gtk 
&gt; -1.0.1.tar.gz', 'php-gtk-1.0.1 Source'); ?&gt; - 09-Aug-2004&lt;br&gt;
&gt;
&gt; -&lt;!-- Bump off list
&gt; -&lt;li&gt;&lt;?php  
&gt; print_link('http://gtk.php.net/do_download.php?download_file=php-gtk 
&gt; -1.0.0.tar.gz', 'php-gtk-1.0.0 Source'); ?&gt; - 23-Oct-2003&lt;br&gt;
&gt; ---&gt;
&gt; -
&gt;  &lt;li&gt;&lt;?php  
&gt; print_link('http://gtk.php.net/do_download.php?download_file=php-gtk 
&gt; -1.0.2-win32.zip', 'php-gtk-1.0.2 Windows and PHP Binaries'); ?&gt; -  
&gt; 15-Jul-2005&lt;br&gt;
&gt;
&gt;  &lt;li&gt;&lt;?php  
&gt; print_link('http://gtk.php.net/do_download.php?download_file=php-gtk 
&gt; -1.0.1a-win32.zip', 'php-gtk-1.0.1a Windows and PHP Binaries'); ?&gt; -  
&gt; 25-Aug-2004&lt;br&gt;
&gt; @@ -37,6 +33,23 @@
&gt;
&gt;  &lt;/ul&gt;
&gt;
&gt; +&lt;h2&gt;Latest Development Release (PHP-GTK 2)&lt;/h2&gt;
&gt; +
&gt; +&lt;p&gt;
&gt; +&lt;b&gt;Note:&lt;/b&gt; PHP-GTK 2 requires PHP 5.1.1 or greater (latest CVS  
&gt; version will
&gt; +work too).
&gt; +&lt;/p&gt;
&gt; +&lt;p&gt;
&gt; +PHP-GTK 2 currently supports GTK+ v2.6 or greater. You can obtain the  
&gt; latest
&gt; +stable release of GTK+ v2.6.x from &lt;?php  
&gt; print_link('ftp://ftp.gtk.org/pub/gtk/v2.6/'); ?&gt;.
&gt; +&lt;/p&gt;
&gt; +
&gt; +&lt;ul&gt;
&gt; +&lt;li&gt;&lt;?php  
&gt; print_link('http://gtk.php.net/do_download.php?download_file=php-gtk 
&gt; -2.0.0zeta.tar.gz', 'php-gtk-2.0.0zeta Source'); ?&gt; - 19-Jun-2006&lt;br&gt;
&gt; +
&gt; +&lt;li&gt;&lt;?php  
&gt; print_link('http://gtk.php.net/do_download.php?download_file=php-gtk 
&gt; -2.0.0zeta-win32.zip', 'php-gtk-2.0.0zeta Windows and PHP Binaries');  
&gt; ?&gt; - 19-Jun-2006&lt;br&gt;
&gt; +&lt;/ul&gt;
&gt; +
&gt;  &lt;h2&gt;CVS Version&lt;/h2&gt;
&gt;
&gt;  &lt;p&gt;
&gt; @@ -53,10 +66,15 @@
&gt;  &lt;/pre&gt;
&gt;
&gt;  &lt;li&gt;
&gt; -Obtain the PHP-GTK tree:
&gt; +Obtain the PHP-GTK 1 tree:
&gt;  &lt;pre&gt;
&gt;  cvs -d :pserver:cvsread@cvs.php.net:/repository co -r PHP_GTK_1  
&gt; php-gtk
&gt;  &lt;/pre&gt;
&gt; +or obtain the PHP-GTK 2 tree:
&gt; +&lt;pre&gt;
&gt; +cvs -d :pserver:cvsread@cvs.php.net:/repository co php-gtk
&gt; +&lt;/pre&gt;
&gt; +
&gt;
&gt;  &lt;li&gt;
&gt;  Move into the source tree:
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060620031605</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-20 03:16:05-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

Hi Andrei,

&gt; Should we have a page or a file that lists the major features/changes  of 
&gt; PHP-GTK 2?

We should... actually we kind of do already, it's hidden in amongst the 
tutorials and we can just link to that page from the main site - that should 
be enough, no?

Anyone feeling intelligent enough to write up the rest of it?

On my box I've written in support for GtkCTreeNode and a few pixmap-creating 
(a bit BC) items + GtkCTree and GtkCList (very much BC and both marked as 
'deprecated').

In GTK+ 2.6.9 the pixmap stuff isn't actually deprecated, so it needs to be 
covered. It's actually way harder to do this under PHP-GTK 2 rules than it 
was under PHP-GTK 1, internally, but I have working samples now.

I need you to go through all this stuff Andrei, it's not contentious as far 
as I'm concerned but I'l bet you find where it is :)

- Steph


&gt;
&gt; -Andrei
&gt;
&gt; On Jun 19, 2006, at 9:37 AM, Scott Mattocks wrote:
&gt;
&gt;&gt; Andrei Zmievski wrote:
&gt;&gt;&gt; I'll do 1), 2) unix, 3), and 4 (with some wording help from you guys).
&gt;&gt;
&gt;&gt; Here is a first run patch for the downloads page.
&gt;&gt;
&gt;&gt; Scott
&gt;&gt; Index: download.php
&gt;&gt; ===================================================================
&gt;&gt; RCS file: /repository/php-gtk-web/download.php,v
&gt;&gt; retrieving revision 1.37
&gt;&gt; diff -u -r1.37 download.php
&gt;&gt; --- download.php 13 Apr 2006 17:06:39 -0000 1.37
&gt;&gt; +++ download.php 19 Jun 2006 16:33:51 -0000
&gt;&gt; @@ -6,27 +6,23 @@
&gt;&gt;
&gt;&gt;  &lt;h1&gt;Download&lt;/h1&gt;
&gt;&gt;
&gt;&gt; +&lt;h2&gt;Latest Stable Release (PHP-GTK 1)&lt;/h2&gt;
&gt;&gt; +
&gt;&gt;  &lt;p&gt;
&gt;&gt; -&lt;b&gt;Note:&lt;/b&gt; PHP-GTK requires PHP 4.0.5 or greater (latest CVS  version 
&gt;&gt; will work
&gt;&gt; -too). Versions 1.0.1 and later require PHP 4.3.x to build.
&gt;&gt; +&lt;b&gt;Note:&lt;/b&gt; PHP-GTK 1 requires PHP 4.3.x or greater to build but  will 
&gt;&gt; not work
&gt;&gt; +with PHP 5.x.
&gt;&gt;  &lt;/p&gt;
&gt;&gt;  &lt;p&gt;
&gt;&gt; -PHP-GTK currently supports GTK+ v1.2.6 or greater, but not GTK+ v2.x. 
&gt;&gt; You can
&gt;&gt; +PHP-GTK 1 currently supports GTK+ v1.2.6 or greater, but not GTK+  v2.x. 
&gt;&gt; You can
&gt;&gt;  obtain the latest stable release
&gt;&gt;  of GTK+ v1.2.x from &lt;?php 
&gt;&gt; print_link('ftp://ftp.gtk.org/pub/gtk/v1.2/'); ?&gt;.
&gt;&gt;  &lt;/p&gt;
&gt;&gt;
&gt;&gt; -&lt;h2&gt;Latest Stable Release&lt;/h2&gt;
&gt;&gt; -
&gt;&gt;  &lt;ul&gt;
&gt;&gt;  &lt;li&gt;&lt;?php 
&gt;&gt; print_link('http://gtk.php.net/do_download.php?download_file=php-gtk -1.0.2.tar.gz', 
&gt;&gt; 'php-gtk-1.0.2 Source'); ?&gt; - 15-Jul-2005&lt;br&gt;
&gt;&gt;
&gt;&gt;  &lt;li&gt;&lt;?php 
&gt;&gt; print_link('http://gtk.php.net/do_download.php?download_file=php-gtk -1.0.1.tar.gz', 
&gt;&gt; 'php-gtk-1.0.1 Source'); ?&gt; - 09-Aug-2004&lt;br&gt;
&gt;&gt;
&gt;&gt; -&lt;!-- Bump off list
&gt;&gt; -&lt;li&gt;&lt;?php 
&gt;&gt; print_link('http://gtk.php.net/do_download.php?download_file=php-gtk -1.0.0.tar.gz', 
&gt;&gt; 'php-gtk-1.0.0 Source'); ?&gt; - 23-Oct-2003&lt;br&gt;
&gt;&gt; ---&gt;
&gt;&gt; -
&gt;&gt;  &lt;li&gt;&lt;?php 
&gt;&gt; print_link('http://gtk.php.net/do_download.php?download_file=php-gtk -1.0.2-win32.zip', 
&gt;&gt; 'php-gtk-1.0.2 Windows and PHP Binaries'); ?&gt; -  15-Jul-2005&lt;br&gt;
&gt;&gt;
&gt;&gt;  &lt;li&gt;&lt;?php 
&gt;&gt; print_link('http://gtk.php.net/do_download.php?download_file=php-gtk -1.0.1a-win32.zip', 
&gt;&gt; 'php-gtk-1.0.1a Windows and PHP Binaries'); ?&gt; -  25-Aug-2004&lt;br&gt;
&gt;&gt; @@ -37,6 +33,23 @@
&gt;&gt;
&gt;&gt;  &lt;/ul&gt;
&gt;&gt;
&gt;&gt; +&lt;h2&gt;Latest Development Release (PHP-GTK 2)&lt;/h2&gt;
&gt;&gt; +
&gt;&gt; +&lt;p&gt;
&gt;&gt; +&lt;b&gt;Note:&lt;/b&gt; PHP-GTK 2 requires PHP 5.1.1 or greater (latest CVS 
&gt;&gt; version will
&gt;&gt; +work too).
&gt;&gt; +&lt;/p&gt;
&gt;&gt; +&lt;p&gt;
&gt;&gt; +PHP-GTK 2 currently supports GTK+ v2.6 or greater. You can obtain the 
&gt;&gt; latest
&gt;&gt; +stable release of GTK+ v2.6.x from &lt;?php 
&gt;&gt; print_link('ftp://ftp.gtk.org/pub/gtk/v2.6/'); ?&gt;.
&gt;&gt; +&lt;/p&gt;
&gt;&gt; +
&gt;&gt; +&lt;ul&gt;
&gt;&gt; +&lt;li&gt;&lt;?php 
&gt;&gt; print_link('http://gtk.php.net/do_download.php?download_file=php-gtk -2.0.0zeta.tar.gz', 
&gt;&gt; 'php-gtk-2.0.0zeta Source'); ?&gt; - 19-Jun-2006&lt;br&gt;
&gt;&gt; +
&gt;&gt; +&lt;li&gt;&lt;?php 
&gt;&gt; print_link('http://gtk.php.net/do_download.php?download_file=php-gtk -2.0.0zeta-win32.zip', 
&gt;&gt; 'php-gtk-2.0.0zeta Windows and PHP Binaries');  ?&gt; - 19-Jun-2006&lt;br&gt;
&gt;&gt; +&lt;/ul&gt;
&gt;&gt; +
&gt;&gt;  &lt;h2&gt;CVS Version&lt;/h2&gt;
&gt;&gt;
&gt;&gt;  &lt;p&gt;
&gt;&gt; @@ -53,10 +66,15 @@
&gt;&gt;  &lt;/pre&gt;
&gt;&gt;
&gt;&gt;  &lt;li&gt;
&gt;&gt; -Obtain the PHP-GTK tree:
&gt;&gt; +Obtain the PHP-GTK 1 tree:
&gt;&gt;  &lt;pre&gt;
&gt;&gt;  cvs -d :pserver:cvsread@cvs.php.net:/repository co -r PHP_GTK_1  php-gtk
&gt;&gt;  &lt;/pre&gt;
&gt;&gt; +or obtain the PHP-GTK 2 tree:
&gt;&gt; +&lt;pre&gt;
&gt;&gt; +cvs -d :pserver:cvsread@cvs.php.net:/repository co php-gtk
&gt;&gt; +&lt;/pre&gt;
&gt;&gt; +
&gt;&gt;
&gt;&gt;  &lt;li&gt;
&gt;&gt;  Move into the source tree:
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060621171335</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-21 17:13:35-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>


&gt; We should actually strive for not making users run buildconf when they
&gt; untar the package. They should just do ./configure (with appropriate
&gt; parameters) and compile.
Oh, there was a configure in it? Didn't notice it...

--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060621174140</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-21 17:41:40-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

We need to have an INSTALL file then which explains how people should 
build and install PHP-GTK from the tarball.

On Jun 21, 2006, at 10:13 AM, Christian Weiske wrote:

&gt;&gt; We should actually strive for not making users run buildconf when they
&gt;&gt; untar the package. They should just do ./configure (with appropriate
&gt;&gt; parameters) and compile.
&gt; Oh, there was a configure in it? Didn't notice it...
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060622005335</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-22 00:53:35-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

In what directory do phpdoc people keep their notes?

-Andrei


On Jun 20, 2006, at 7:07 PM, Steph Fox wrote:

&gt; Yeah, I know. On it, but need your input. Where's the 'live  
&gt; version' going is the biggest problem - the backup can be on the  
&gt; work server, but we need a dir with write permissions on the  
&gt; website (aka 'above the docroot') and I don't have the ability to  
&gt; create that. You do.
&gt;
&gt; Let me know when it's there and where it is.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060622022652</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-22 02:26:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

Andrei, we already went through this, it's a dead topic. The php-doc notes 
go directly into a mysql database via master@. We need to either emulate 
them or make a new way.

- Steph

&gt; In what directory do phpdoc people keep their notes?
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Jun 20, 2006, at 7:07 PM, Steph Fox wrote:
&gt;
&gt;&gt; Yeah, I know. On it, but need your input. Where's the 'live  version' 
&gt;&gt; going is the biggest problem - the backup can be on the  work server, but 
&gt;&gt; we need a dir with write permissions on the  website (aka 'above the 
&gt;&gt; docroot') and I don't have the ability to  create that. You do.
&gt;&gt;
&gt;&gt; Let me know when it's there and where it is.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060622031556</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-06-22 03:15:56-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

&gt; We need to have an INSTALL file then which explains how people should
&gt; build and install PHP-GTK from the tarball.

I just committed a bare-bones INSTALL file to CVS. Please
add/delete/modify the instructions on the file to cover more edge cases.

Steph: If you think, there are people out there who are crazy enough to
 compile PHP-GTK 2 from the tarball on Windows, then you could probably
add some information specific to that in the INSTALL file :)

Cheers,

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060622032956</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-22 03:29:56-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

Heya Anant,

I already gave info on compiling from source somewhere... but I'll re-check 
it all pre-release. Just let's get the thing together at all first, I want 
the CTree/List stuff out the way.

The basic test plan here is to 'hide' everything PHP-GTK related and then 
try unzipping the thing I expect total strangers to be unzipping into a 
'clean' environment. (I learned a lot from putting things on Edin's site, 
even if I didn't update it.)

I'm still not sure whether I need to include PHP itself in the zip file. We 
have the choice of 5_1 branch, 5_2 branch or 'last stable release' (aka 
5.1.4) and I'm not at all sure what to do about that yet. My instinct is to 
go for 5_2 branch and distribute it as part of the PHP-GTK alpha 
distribution.

I also want to distribute a debug copy of whatever goes out in the distro 
zipfile. Having the debug version available on doze means you can profile it 
using good old-fashioned Dependency Walker and get reasonably useful 
information without having to have MSVC installed.

- Steph

&gt;&gt; We need to have an INSTALL file then which explains how people should
&gt;&gt; build and install PHP-GTK from the tarball.
&gt;
&gt; I just committed a bare-bones INSTALL file to CVS. Please
&gt; add/delete/modify the instructions on the file to cover more edge cases.
&gt;
&gt; Steph: If you think, there are people out there who are crazy enough to
&gt; compile PHP-GTK 2 from the tarball on Windows, then you could probably
&gt; add some information specific to that in the INSTALL file :)
&gt;
&gt; Cheers,
&gt;
&gt; - Anant
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060622035432</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-22 03:54:32-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

Fine, so they use a Mysql database. Do they keep a backup of it? What  
"new way" are you proposing?

-Andrei


On Jun 21, 2006, at 7:26 PM, Steph Fox wrote:

&gt; Andrei, we already went through this, it's a dead topic. The php- 
&gt; doc notes go directly into a mysql database via master@. We need to  
&gt; either emulate them or make a new way.
&gt;
&gt; - Steph
&gt;
&gt;&gt; In what directory do phpdoc people keep their notes?
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; On Jun 20, 2006, at 7:07 PM, Steph Fox wrote:
&gt;&gt;
&gt;&gt;&gt; Yeah, I know. On it, but need your input. Where's the 'live   
&gt;&gt;&gt; version' going is the biggest problem - the backup can be on the   
&gt;&gt;&gt; work server, but we need a dir with write permissions on the   
&gt;&gt;&gt; website (aka 'above the docroot') and I don't have the ability  
&gt;&gt;&gt; to  create that. You do.
&gt;&gt;&gt;
&gt;&gt;&gt; Let me know when it's there and where it is.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060622035546</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-22 03:55:46-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>


On Jun 21, 2006, at 8:29 PM, Steph Fox wrote:

&gt;
&gt; I'm still not sure whether I need to include PHP itself in the zip  
&gt; file. We have the choice of 5_1 branch, 5_2 branch or 'last stable  
&gt; release' (aka 5.1.4) and I'm not at all sure what to do about that  
&gt; yet. My instinct is to go for 5_2 branch and distribute it as part  
&gt; of the PHP-GTK alpha distribution.

I don't think we should be distributing PHP itself as part of PHP- 
GTK. People can download it. If they want a bundled package, they  
should use Gnope.

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060622040704</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-22 04:07:04-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

They use a MySQL database on a server that we didn't - last time I checked - 
have access to.

All their checking's done there before anything goes into the phpdoc notes 
db. Note: their checking isn't that good, I have better ways.

I've no idea what happens regards that MySQL db and backup, there's no way 
for me to know. Everything is based there, a bunch of stuff comes out of it 
indirectly and is used on the sites.

&gt; Fine, so they use a Mysql database. Do they keep a backup of it? What 
&gt; "new way" are you proposing?

I'm really not sure, because the more I think about it the dodgier it seems 
to have a writable directory above the doc root on the webserver...  You 
know way more about php.net systems than I do, can you come up with a sane 
compromise?

(The only ways I've used sqlite up to now have been for automated updates 
from a single source.)

- Steph

&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Jun 21, 2006, at 7:26 PM, Steph Fox wrote:
&gt;
&gt;&gt; Andrei, we already went through this, it's a dead topic. The php- doc 
&gt;&gt; notes go directly into a mysql database via master@. We need to  either 
&gt;&gt; emulate them or make a new way.
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt;
&gt;&gt;&gt; In what directory do phpdoc people keep their notes?
&gt;&gt;&gt;
&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Jun 20, 2006, at 7:07 PM, Steph Fox wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Yeah, I know. On it, but need your input. Where's the 'live   version' 
&gt;&gt;&gt;&gt; going is the biggest problem - the backup can be on the   work server, 
&gt;&gt;&gt;&gt; but we need a dir with write permissions on the   website (aka 'above 
&gt;&gt;&gt;&gt; the docroot') and I don't have the ability  to  create that. You do.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Let me know when it's there and where it is.
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060622040945</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-22 04:09:45-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

I said I still wasn't sure because I'm not. There are binary 
incompatibilities between PHP 5.1.2, PHP 5.1.more-than-2 and PHP 5.2 branch. 
PHP-GTK will _build_ against all three, but whether a build against one PHP 
version will work against another is a different matter.  I don't think they 
will, but I need to test.

- Steph

&gt;&gt; I'm still not sure whether I need to include PHP itself in the zip  file. 
&gt;&gt; We have the choice of 5_1 branch, 5_2 branch or 'last stable  release' 
&gt;&gt; (aka 5.1.4) and I'm not at all sure what to do about that  yet. My 
&gt;&gt; instinct is to go for 5_2 branch and distribute it as part  of the 
&gt;&gt; PHP-GTK alpha distribution.
&gt;
&gt; I don't think we should be distributing PHP itself as part of PHP- GTK. 
&gt; People can download it. If they want a bundled package, they  should use 
&gt; Gnope.
&gt;
&gt; -Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060624174014</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-24 17:40:14-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

Scott, can you commit this?

-Andrei


On Jun 13, 2006, at 11:20 AM, Scott Mattocks wrote:

&gt; Christian Weiske wrote:
&gt;&gt;&gt; +* Memory leaks when using Gtk::timeout_add() within a class  
&gt;&gt;&gt; (does not occur
&gt;&gt;&gt; +  when used outside of a class). This is an issue with Gtk+ and  
&gt;&gt;&gt; must be fixed
&gt;&gt;&gt; +  in Gtk+.
&gt;&gt; No, it's a php-gtk issue.
&gt;
&gt; Updated.
&gt;
&gt;&gt;&gt; +* Win32 crash on application exit. Versions of PHP greater than  
&gt;&gt;&gt; 5.1.2 may crash
&gt;&gt;&gt; +  when the application exits. A fix is known and must be applied  
&gt;&gt;&gt; to PHP.
&gt;&gt; I thought that was fixed by the latest commits?
&gt;
&gt; Even if it is fixed in the latest commits, there are users out  
&gt; there that will try to build against versions that will have this  
&gt; issue.
&gt;
&gt; Scott
&gt;
&gt; -- 
&gt; Scott Mattocks
&gt; Author of: Pro PHP-GTK
&gt; http://www.crisscott.com
&gt; Index: README.KNOWN-ISSUES
&gt; ===================================================================
&gt; RCS file: /repository/php-gtk/README.KNOWN-ISSUES,v
&gt; retrieving revision 1.1
&gt; diff -u -r1.1 README.KNOWN-ISSUES
&gt; --- README.KNOWN-ISSUES	16 Apr 2005 04:54:24 -0000	1.1
&gt; +++ README.KNOWN-ISSUES	13 Jun 2006 18:16:04 -0000
&gt; @@ -1,4 +1,9 @@
&gt; -- Examining a widget's style property after it's unrealized can  
&gt; result in a
&gt; -  crash, since Gtk+ does not properly clean it up. This can happen  
&gt; if you
&gt; -  connect to 'destroy' signal for the widget, for example, and  
&gt; then var_dump()
&gt; -  the callback's first argument.
&gt; +Release 2.0.0zeta
&gt; +* Memory leaks when using Gtk::timeout_add() within a class (does  
&gt; not occur
&gt; +  when used outside of a class).
&gt; +* Memeory leaks when using GtkTreeModelFilter::set_visible_func().  
&gt; This is an
&gt; +  issue with Gtk+. It has been resolved in version 2.8.x. Users  
&gt; using version
&gt; +  2.8.x will not see this issue. Other users may.
&gt; +  http://bugzilla.gnome.org/show_bug.cgi?id=344624
&gt; +* Win32 crash on application exit. Versions of PHP greater than  
&gt; 5.1.2 may crash
&gt; +  when the application exits. A fix is known and must be applied  
&gt; to PHP.
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060624174104</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-24 17:41:04-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

Scott, can you commit this as well?

-Andrei


On Jun 13, 2006, at 8:58 AM, Scott Mattocks wrote:

&gt; Andrei Zmievski wrote:
&gt;&gt; I worked on the Makefile and makedist scripts last weekend. I  
&gt;&gt; think for release we need to update README and README.KNOWN-ISSUES  
&gt;&gt; files and decide whether everything from the php-gtk/ dir should  
&gt;&gt; be included (like demos/, tests/, etc).
&gt;
&gt; Here is a patch for the README. I just updated version numbers and  
&gt; the demo file directory.
&gt;
&gt; Scott
&gt; Index: README
&gt; ===================================================================
&gt; RCS file: /repository/php-gtk/README,v
&gt; retrieving revision 1.11
&gt; diff -u -r1.11 README
&gt; --- README	22 Jan 2002 23:41:50 -0000	1.11
&gt; +++ README	13 Jun 2006 15:57:47 -0000
&gt; @@ -12,17 +12,14 @@
&gt;
&gt;  Requirements
&gt;  ============
&gt; -As a prerequisite, you should have a CGI binary (command-line)  
&gt; version of PHP
&gt; +As a prerequisite, you should have a CLI binary (command-line)  
&gt; version of PHP
&gt;  installed along with the header files and development scripts.  
&gt; They should
&gt;  normally be installed when you do 'make install' in the PHP source  
&gt; tree.
&gt;
&gt; -Currently, PHP-GTK requires PHP 4.0.5 or greater to run, and 4.1.0  
&gt; or greater to
&gt; -build.
&gt; +Currently, PHP-GTK requires PHP 5.1.2 or greater to run, and to  
&gt; build.
&gt;
&gt; -PHP-GTK supports GTK+ v1.2 and requires v1.2.6 or greater. GTK+  
&gt; v2.0 is not yet
&gt; -supported but will be so in the future when v2.0 is out of the  
&gt; development phase
&gt; -and is used more widely. The latest stable release of GTK+ v1.2.x  
&gt; can be
&gt; -obtained from ftp://ftp.gtk.org/pub/gtk/v1.2/.
&gt; +PHP-GTK supports GTK+ v2.6 and requires v2.6 or greater. The  
&gt; latest stable
&gt; +release of GTK+ v2.6 can be obtained from ftp://ftp.gtk.org/pub/ 
&gt; gtk/v2.6/.
&gt;
&gt;
&gt;  Installation and testing
&gt; @@ -44,9 +41,9 @@
&gt;  supported. If the compilation is successful, run 'make install' to  
&gt; install the
&gt;  extension into your default PHP extension directory.
&gt;
&gt; -To test the extension, try running the example scripts in the  
&gt; test/ directory,
&gt; -especially gtk.php. These are also good for showing how the  
&gt; extension can be
&gt; -used.
&gt; +To test the extension, try running the demo scripts in the demos/  
&gt; directory,
&gt; +especially phpgtk2-demo.php. These are also good for showing how  
&gt; the extension
&gt; +can be used.
&gt;
&gt;
&gt;  Website
&gt; @@ -96,9 +93,9 @@
&gt;  Patches and feedback
&gt;  ====================
&gt;  You can contact me directly at andrei@php.net or through the  
&gt; mailing list.
&gt; -Please use the mailing lists for most of your questions -- many  
&gt; people read them
&gt; -and you are more likely to get quicker feedback if you post there  
&gt; first. Patches
&gt; -in the unified diff (diff -u) format can be sent via the same means.
&gt; +Please use the mailing lists for most of your questions -- many  
&gt; people read
&gt; +them and you are more likely to get quicker feedback if you post  
&gt; there first.
&gt; +Patches in the unified diff (diff -u) format can be sent via the  
&gt; same means.
&gt;
&gt;
&gt;  Acknowledgements
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060624181253</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-24 18:12:53-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

It needs updating - this has been fixed now, and people building current 
PHP-GTK src against PHP won't see the crash regardless of their PHP version.

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Scott Mattocks" &lt;scott@crisscott.com&gt;
Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Saturday, June 24, 2006 7:40 PM
Subject: Re: [PHP-GTK-DEV] Alpha?


&gt; Scott, can you commit this?
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Jun 13, 2006, at 11:20 AM, Scott Mattocks wrote:
&gt;
&gt;&gt; Christian Weiske wrote:
&gt;&gt;&gt;&gt; +* Memory leaks when using Gtk::timeout_add() within a class  (does not 
&gt;&gt;&gt;&gt; occur
&gt;&gt;&gt;&gt; +  when used outside of a class). This is an issue with Gtk+ and  must 
&gt;&gt;&gt;&gt; be fixed
&gt;&gt;&gt;&gt; +  in Gtk+.
&gt;&gt;&gt; No, it's a php-gtk issue.
&gt;&gt;
&gt;&gt; Updated.
&gt;&gt;
&gt;&gt;&gt;&gt; +* Win32 crash on application exit. Versions of PHP greater than  5.1.2 
&gt;&gt;&gt;&gt; may crash
&gt;&gt;&gt;&gt; +  when the application exits. A fix is known and must be applied  to 
&gt;&gt;&gt;&gt; PHP.
&gt;&gt;&gt; I thought that was fixed by the latest commits?
&gt;&gt;
&gt;&gt; Even if it is fixed in the latest commits, there are users out  there 
&gt;&gt; that will try to build against versions that will have this  issue.
&gt;&gt;
&gt;&gt; Scott
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Scott Mattocks
&gt;&gt; Author of: Pro PHP-GTK
&gt;&gt; http://www.crisscott.com
&gt;&gt; Index: README.KNOWN-ISSUES
&gt;&gt; ===================================================================
&gt;&gt; RCS file: /repository/php-gtk/README.KNOWN-ISSUES,v
&gt;&gt; retrieving revision 1.1
&gt;&gt; diff -u -r1.1 README.KNOWN-ISSUES
&gt;&gt; --- README.KNOWN-ISSUES 16 Apr 2005 04:54:24 -0000 1.1
&gt;&gt; +++ README.KNOWN-ISSUES 13 Jun 2006 18:16:04 -0000
&gt;&gt; @@ -1,4 +1,9 @@
&gt;&gt; -- Examining a widget's style property after it's unrealized can  result 
&gt;&gt; in a
&gt;&gt; -  crash, since Gtk+ does not properly clean it up. This can happen  if 
&gt;&gt; you
&gt;&gt; -  connect to 'destroy' signal for the widget, for example, and  then 
&gt;&gt; var_dump()
&gt;&gt; -  the callback's first argument.
&gt;&gt; +Release 2.0.0zeta
&gt;&gt; +* Memory leaks when using Gtk::timeout_add() within a class (does  not 
&gt;&gt; occur
&gt;&gt; +  when used outside of a class).
&gt;&gt; +* Memeory leaks when using GtkTreeModelFilter::set_visible_func().  This 
&gt;&gt; is an
&gt;&gt; +  issue with Gtk+. It has been resolved in version 2.8.x. Users  using 
&gt;&gt; version
&gt;&gt; +  2.8.x will not see this issue. Other users may.
&gt;&gt; +  http://bugzilla.gnome.org/show_bug.cgi?id=344624
&gt;&gt; +* Win32 crash on application exit. Versions of PHP greater than  5.1.2 
&gt;&gt; may crash
&gt;&gt; +  when the application exits. A fix is known and must be applied  to 
&gt;&gt; PHP.
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060612051154</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-12 05:11:54-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] set_visible_func()</subject><body>


Andrei,

&gt; From February 24th. I asked you to post a question on the gtk+  mailing
&gt; list because set_visible_func() has a memory leak where the  user data
&gt; is not released when the widget is finalized.
Oh, I remember now. Will ask again.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060612051746</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-12 05:17:46-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] set_visible_func()</subject><body>


Andrei,

&gt; From February 24th. I asked you to post a question on the gtk+  mailing
&gt; list because set_visible_func() has a memory leak where the  user data
&gt; is not released when the widget is finalized.
http://bugzilla.gnome.org/show_bug.cgi?id=344624
We'll see if they react.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060612074527</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-12 07:45:27-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] set_visible_func()</subject><body>

Well, you should get it working with debug compile. It's the least  
that's expected of you.

-Andrei


On Jun 11, 2006, at 10:11 PM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;&gt; Well, the leaks I saw were output by the Zend memory manager. I just
&gt;&gt; ran the script from command line and when I exited the app, it   
&gt;&gt; printed
&gt;&gt; 20-30 lines of leaks.
&gt;
&gt; 8&lt;--------
&gt; ; stdout or in the log). This has only effect in a debug compile,  
&gt; and if
&gt; ; error reporting includes E_WARNING in the allowed list
&gt; report_memleaks = On
&gt; 8&lt;--------
&gt;
&gt;
&gt; Since I don't get php-gtk working with a debug build, I don't get mem
&gt; leaks reported.
&gt;
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060612074600</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-12 07:46:00-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] set_visible_func()</subject><body>

Until then, I suggest we disable this function.

-Andrei


On Jun 11, 2006, at 10:17 PM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;&gt; From February 24th. I asked you to post a question on the gtk+   
&gt;&gt; mailing
&gt;&gt; list because set_visible_func() has a memory leak where the  user  
&gt;&gt; data
&gt;&gt; is not released when the widget is finalized.
&gt; http://bugzilla.gnome.org/show_bug.cgi?id=344624
&gt; We'll see if they react.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060612130918</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-12 13:09:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] set_visible_func()</subject><body>


Andrei,

&gt; I'm also getting a lot of leaks with your magnifier.php script. Did  you
&gt; see them?
I tracked it down; it aren't the methods I implemented yesterday - it's
the timeout as I described in bug #37787

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060612131247</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-12 13:12:47-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] set_visible_func()</subject><body>


&gt;&gt;I'm also getting a lot of leaks with your magnifier.php script. Did  you
&gt;&gt;see them?
By the way, I get a mass of leaks in the generator script, e.g. for Gtk:
&gt; Last leak repeated 758 times
&gt; === Total 8370 memory leaks detected ===


-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060621180922</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-21 18:09:22-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] I shouldn't code when I'm tired either...</subject><body>


Steph,

&gt; +override gdk_pixbuf_add_alpha
&gt; +    if (ZEND_NUM_ARGS() &gt; 0) {
&gt; +        if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "iii", &amp;red, &amp;green,
&gt; &amp;blue)) {
&gt; +            return;
&gt; +        } else {
&gt; +    } else {
&gt; +        if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
&gt; +            return;
&gt; +    }
&gt; +    pixbuf = gdk_pixbuf_add_alpha(GDK_PIXBUF(PHPG_GOBJECT(this_ptr)),
&gt; 1, r, g, b);

That's wrong. There is no way *not* to set a transparent color here as
it is with the original method. If no params are given, the second
parameter passed to gdk_pixbuf_add_alpha should be 0, not 1.

-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060621182214</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-21 18:22:14-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] I shouldn't code when I'm tired either...</subject><body>

Fine, so go with the first version, which offers that boolean option.

----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Wednesday, June 21, 2006 8:09 PM
Subject: Re: [PHP-GTK-DEV] I shouldn't code when I'm tired either...

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060620053608</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-20 05:36:08-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Features Page</subject><body>

Hey Anant, that was fast work!

Some notes I made on the way through reading them:

Sorry to disappoint you but native Unicode support won't arrive until PHP 6.

ATK and Pango are a bit behind (in PHP-GTK implementation) - we have a _lot_ 
of work to do there. Mention them though, fine.

Internal extension name is still 'gtk'.  It's not possible to put a hyphen 
in an internal name. (I know, I tried.)

I still haven't figured whether there's a huge difference between dl() and 
.ini loading other than the time of loading.... both are recognised as 
external mechanisms in PHP 5.  Andrei might be able to clarify the 
situation.

You need to say something more explicit about 'global constants' in 
practical terms. Nobody else knows what that means.

Andrei: note that 'deprecated widgets will still work...' ;)

- Steph



----- Original Message ----- 
From: "Anant Narayanan" &lt;anant@kix.in&gt;
To: "[PHP-GTK-DEV]" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, June 20, 2006 7:20 AM
Subject: [PHP-GTK-DEV] Features Page


&gt; Hi all,
&gt;
&gt; Here's a rough sketch of what the features/changes page for PHP-GTK 2
&gt; might look like. It still needs a little work; adding links and probably
&gt; changing the wording a bit.
&gt;
&gt; We could have this as a stand alone page on gtk.php.net. I was also
&gt; contemplating on making a `New Widgets Gallery' with screenshots of all
&gt; the latest widgets (aka Andrei's presentation). This could be either in
&gt; the docs, or on the features page itself.
&gt;
&gt; Let me know.
&gt;
&gt; Cheers,
&gt;
&gt; - Anant
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt;


--------------------------------------------------------------------------------


&gt; &lt;?php
&gt;
&gt; commonHeader('PHP-GTK 2 Features');
&gt;
&gt; ?&gt;
&gt;
&gt; &lt;h1&gt;PHP-GTK 2 Features&lt;/h1&gt;
&gt;
&gt; &lt;p&gt;
&gt; PHP-GTK 2 is the next major release of PHP-GTK and is a complete
&gt; rewrite. It's based on PHP 5 and Gtk+ 2.6 and hence brings along full
&gt; object-orientation and a rich widget base. Although PHP-GTK 2 is
&gt; mostly backwards compatible, it is broken where necessary. This page
&gt; should help you find out how PHP-GTK 2 differs from PHP-GTK 1 and also
&gt; familiarize yourself with all its new features.
&gt; &lt;/p&gt;
&gt;
&gt; &lt;a name="features"&gt;&lt;/a&gt;
&gt; &lt;h2&gt;Features&lt;/h2&gt;
&gt;
&gt; &lt;p&gt;
&gt; PHP 5 and Gtk+ 2.6 bring along with them an assortment of features
&gt; that we are sure you will love to use in PHP-GTK 2!
&gt; &lt;/p&gt;
&gt;
&gt; &lt;ul&gt;
&gt; &lt;li&gt;&lt;b&gt;Powerful Object Orientation&lt;/b&gt;&lt;br /&gt;
&gt; You now have all the modern concepts of object orientation to help
&gt; write applications in PHP-GTK 2, which includes things like exceptions
&gt; , interfacing and overloading.
&gt; &lt;/li&gt;
&gt;
&gt; &lt;li&gt;&lt;b&gt;Proper Garbage Collection&lt;/b&gt;&lt;br /&gt;
&gt; In PHP-GTK 1, problems with the underlying object system resulted in
&gt; allocated memory that could not be freed at the end of the objects
&gt; lifetime. But, that's not the case in PHP-GTK 2, objects are destroyed
&gt; as soon as they stop being used, so you can make long-running scripts
&gt; without the fear of excessive memory consumption.
&gt; &lt;/li&gt;
&gt;
&gt; &lt;li&gt;&lt;b&gt;Create objects easily&lt;/b&gt;&lt;br /&gt;
&gt; If you were confused about when to assign objects instantiated by the
&gt; `new' operator by reference, worry no more. With PHP-GTK 2 you can use
&gt; regular assignment and forget about the &amp; operator!
&gt; &lt;/li&gt;
&gt;
&gt; &lt;li&gt;&lt;b&gt;Unicode Support&lt;/b&gt;&lt;br /&gt;
&gt; All the user text data is now handled in UTF-8, and PHP-GTK 2 expects
&gt; the input to be the same. PHP-GTK 2 will automatically handle
&gt; conversion of input and output strings based on a global code-page
&gt; setting. And, once PHP 5.2 is out, you can look forward to native
&gt; Unicode support too.
&gt; &lt;/li&gt;
&gt;
&gt; &lt;li&gt;&lt;b&gt;Based on Gtk+ 2&lt;/b&gt;&lt;br /&gt;
&gt; Gtk+ 2 is seamlessly mapped to PHP's object model. You can use all the
&gt; latest bells and whistles that it brings along; cool new widgets, a
&gt; new stock icon system, theme-able icons, and the powerful model-view
&gt; architecture.
&gt; &lt;/li&gt;
&gt;
&gt; &lt;li&gt;&lt;b&gt;Atk and Pango support&lt;/b&gt;&lt;br /&gt;
&gt; You also have access to the Atk toolkit which is a standard way of
&gt; adding accessibility to your applications. This also means that nearly
&gt; all key bindings are now customizable! Pango, the open-source
&gt; framework for layout and rendering i18n text, allows you to
&gt; internationalize your PHP-GTK 2 application with ease.
&gt; &lt;/li&gt;
&gt;
&gt; &lt;li&gt;&lt;b&gt;Better Pictures!&lt;/b&gt;&lt;br /&gt;
&gt; Gdk 2 now contains GdkPixbuf which is all the more powerful. With
&gt; widgets like GtkImage, you'll have no trouble in peppering your
&gt; applications with images and animations. Gdk 2 is also based on the
&gt; new object system, has double-buffering for smooth rendering, and much
&gt; better Win32 support.
&gt; &lt;/li&gt;
&gt;
&gt; &lt;li&gt;&lt;b&gt;Easy Extensibility&lt;/b&gt;&lt;br /&gt;
&gt; PHP-GTK 2 was designed with extensibility in mind, so whether you
&gt; need make a custom widget, or wrap a 3rd party widget in PHP,
&gt; things are much easier with the infrastructure that PHP-GTK 2 provides.
&gt; &lt;/li&gt;
&gt;
&gt; &lt;a name="changed"&gt;&lt;/a&gt;
&gt; &lt;h2&gt;Changes&lt;/h2&gt;
&gt;
&gt; &lt;p&gt;
&gt; Since PHP-GTK is a complete rewrite, there are a few important changes
&gt; that you should know of.
&gt; &lt;/p&gt;
&gt;
&gt; &lt;ul&gt;
&gt; &lt;li&gt;&lt;b&gt;Extension Name&lt;/b&gt;&lt;br /&gt;
&gt; The internal extension name is now 'php-gtk' instead of the earlier
&gt; 'gtk'.
&gt; &lt;/li&gt;
&gt;
&gt; &lt;li&gt;&lt;b&gt;No more dl()&lt;/b&gt;&lt;br /&gt;
&gt; Although it it still possible to load the extension via dl(), it is no
&gt; longer the recommended mechanism. You must load the extension via the
&gt; php.ini file. (The shared library is now called php-gtk2.so (or dll,
&gt; as the case may be)
&gt; &lt;/li&gt;
&gt;
&gt; &lt;li&gt;&lt;b&gt;Uses Exceptions&lt;/b&gt;&lt;br /&gt;
&gt; Since PHP 5 now has exception support, PHP-GTK 2 fully utilizes the
&gt; feature to generate exceptions for methods that use the GError
&gt; mechanism, in code-page to UTF8 conversions, and if something goes
&gt; wrong during object construction.
&gt; &lt;/li&gt;
&gt;
&gt; &lt;li&gt;&lt;b&gt;No more global constants&lt;/b&gt;&lt;br /&gt;
&gt; Thanks to PHP 5, Global constants are no more. This is one of the
&gt; backward-incompatible changes. All enumerations, flags and other
&gt; constants are now part of top-level module classes such as Gtk, Gdk,
&gt; Atk and Pango.
&gt; &lt;/li&gt;
&gt;
&gt; &lt;li&gt;&lt;b&gt;Connecting Signals&lt;/b&gt;&lt;br /&gt;
&gt; The confusing connect_object() method of PHP-GTK 1 has been deprecated
&gt; in favor of simpler substitutes, connect() and connect_simple().
&gt; &lt;/li&gt;
&gt;
&gt; &lt;li&gt;&lt;b&gt;Deprecated Widgets&lt;/b&gt;&lt;br /&gt;
&gt; Some of the older widgets have been deprecated in favor of more
&gt; powerful and easy to use widgets. Although the deprecated widgets will
&gt; still work with PHP-GTK, you will receive a warning that urges you to
&gt; use the new replacement widget instead.
&gt; &lt;/ul&gt;
&gt;
&gt; &lt;a name="more"&gt;&lt;/a&gt;
&gt; &lt;h2&gt;More&lt;/h2&gt;
&gt; &lt;p&gt;
&gt; We've covered these differences in more detail in the 'Changes since
&gt; PHP-GTK 1' tutorial. Do have a look at that to make your transition
&gt; from PHP-GTK 1 to 2 easier. The documentation is an invaluable
&gt; resource, and of course the mailing lists are always there to help you
&gt; out in troublesome situations. Hope you enjoy using PHP-GTK 2 as much
&gt; as we enjoyed making it!
&gt; &lt;/p&gt;
&gt;
&gt; &lt;?php
&gt;
&gt; commonFooter();
&gt;
&gt; ?&gt;
&gt;
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt;


--------------------------------------------------------------------------------


&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060620060257</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-06-20 06:02:57-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Features Page</subject><body>

Hey Steph,

&gt; Sorry to disappoint you but native Unicode support won't arrive until
&gt; PHP 6.

:(

&gt; ATK and Pango are a bit behind (in PHP-GTK implementation) - we have a
&gt; _lot_ of work to do there. Mention them though, fine.

Done.

&gt; Internal extension name is still 'gtk'.  It's not possible to put a
&gt; hyphen in an internal name. (I know, I tried.)

I removed that point. I've been meaning to ask, do developers actually
ever need to know the internal external name?

&gt; I still haven't figured whether there's a huge difference between dl()
&gt; and .ini loading other than the time of loading.... both are recognised
&gt; as external mechanisms in PHP 5.  Andrei might be able to clarify the
&gt; situation.

Well, Andrei did mention in his recent presentation that the ini way of
loading the extension is ``the way to go" (TM)

&gt; You need to say something more explicit about 'global constants' in
&gt; practical terms. Nobody else knows what that means.

I expanded that point a bit.

&gt; Andrei: note that 'deprecated widgets will still work...' ;)

Hmm, this is not for me :)

Cheers,

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060620060412</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-06-20 06:04:12-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Features Page</subject><body>

Seems like I forgot to attach the file. A common mistake :)

- Anant

["php-gtk2-features.php.txt" (text/plain)]

&lt;?php

commonHeader('PHP-GTK 2 Features');

?&gt;

&lt;h1&gt;PHP-GTK 2 Features&lt;/h1&gt;

&lt;p&gt;
PHP-GTK 2 is the next major release of PHP-GTK and is a complete
rewrite. It's based on PHP 5 and Gtk+ 2.6 and hence brings along full
object-orientation and a rich widget base. Although PHP-GTK 2 is
mostly backwards compatible, it is broken where necessary. This page
should help you find out how PHP-GTK 2 differs from PHP-GTK 1 and also
familiarize yourself with all its new features.
&lt;/p&gt;

&lt;a name="features"&gt;&lt;/a&gt;
&lt;h2&gt;Features&lt;/h2&gt;

&lt;p&gt;
PHP 5 and Gtk+ 2.6 bring along with them an assortment of features
that we are sure you will love to use in PHP-GTK 2!
&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;b&gt;Powerful Object Orientation&lt;/b&gt;&lt;br /&gt;
You now have all the modern concepts of object orientation to help
write applications in PHP-GTK 2, which includes things like exceptions
, interfacing and overloading.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Proper Garbage Collection&lt;/b&gt;&lt;br /&gt;
In PHP-GTK 1, problems with the underlying object system resulted in
allocated memory that could not be freed at the end of the objects
lifetime. But, that's not the case in PHP-GTK 2, objects are destroyed
as soon as they stop being used, so you can make long-running scripts
without the fear of excessive memory consumption.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Create objects easily&lt;/b&gt;&lt;br /&gt;
If you were confused about when to assign objects instantiated by the
`new' operator by reference, worry no more. With PHP-GTK 2 you can use
regular assignment and forget about the &amp; operator!
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Unicode Support&lt;/b&gt;&lt;br /&gt;
All the user text data is now handled in UTF-8, and PHP-GTK 2 expects
the input to be the same. PHP-GTK 2 will automatically handle
conversion of input and output strings based on a global code-page
setting. And, once PHP 6 is out, you can look forward to native
Unicode support too.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Based on Gtk+ 2&lt;/b&gt;&lt;br /&gt;
Gtk+ 2 is seamlessly mapped to PHP's object model. You can use all the
latest bells and whistles that it brings along; cool new widgets, a
new stock icon system, theme-able icons, and the powerful model-view
architecture.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Atk and Pango support&lt;/b&gt;&lt;br /&gt;
Although the alpha release of PHP-GTK 2 does not include support for
these tool-kits comprehensively, you can look forward to working with
Atk and Pango in future versions. The Atk toolkit is a standard way of
adding accessibility to your applications while Pango, the open-source
framework for layout and rendering i18n text, allows you to
internationalize your PHP-GTK 2 application with ease.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Better Pictures!&lt;/b&gt;&lt;br /&gt;
Gdk 2 now contains GdkPixbuf which is all the more powerful. With
widgets like GtkImage, you'll have no trouble in peppering your
applications with images and animations. Gdk 2 is also based on the
new object system, has double-buffering for smooth rendering, and much
better Win32 support.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Easy Extensibility&lt;/b&gt;&lt;br /&gt;
PHP-GTK 2 was designed with extensibility in mind, so whether you
need make a custom widget, or wrap a 3rd party widget in PHP,
things are much easier with the infrastructure that PHP-GTK 2 provides.
&lt;/li&gt;

&lt;a name="changed"&gt;&lt;/a&gt;
&lt;h2&gt;Changes&lt;/h2&gt;

&lt;p&gt;
Since PHP-GTK is a complete rewrite, there are a few important changes
that you should know of.
&lt;/p&gt;

&lt;ul&gt;

&lt;li&gt;&lt;b&gt;No more dl()&lt;/b&gt;&lt;br /&gt;
Although it it still possible to load the extension via dl(), it is no
longer the recommended mechanism. You must load the extension via the
php.ini file. (The shared library is now called php-gtk2.so (or dll,
as the case may be)
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Uses Exceptions&lt;/b&gt;&lt;br /&gt;
Since PHP 5 now has exception support, PHP-GTK 2 fully utilizes the
feature to generate exceptions for methods that use the GError
mechanism, in code-page to UTF8 conversions, and if something goes
wrong during object construction.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;No more Global Constants&lt;/b&gt;&lt;br /&gt;
Thanks to PHP 5, Global Constants are no more. This is one of the
backward-incompatible changes. Global constants were the long (usually
capitalized) string names that you used in PHP-GTK 1 to denote
enumerations and flags (such as GTK_WIN_POS_CENTER, the constant which
dictates that the window must be centered). This polluted the Global
namespace quite a bit. Which is why, all enumerations, flags
and other constants are now part of top-level module classes such as
Gtk, Gdk, Atk and Pango. (GTK_WIN_POS_CENTER is now
Gtk::WIN_POS_CENTER instead)
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Connecting Signals&lt;/b&gt;&lt;br /&gt;
The semantically confusing connect_object() method of PHP-GTK 1 has
been deprecated in favor of simpler substitutes, connect() and
connect_simple().
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Deprecated Widgets&lt;/b&gt;&lt;br /&gt;
Some of the older widgets have been deprecated in favor of more
powerful and easy to use widgets. Although the deprecated widgets will
still work with PHP-GTK, you will receive a warning that urges you to
use the new replacement widget instead.
&lt;/ul&gt;

&lt;a name="more"&gt;&lt;/a&gt;
&lt;h2&gt;More&lt;/h2&gt;
&lt;p&gt;
We've covered these differences in more detail in the 'Changes since
PHP-GTK 1' tutorial. Do have a look at that to make your transition
from PHP-GTK 1 to 2 easier. The documentation is an invaluable
resource, and of course the mailing lists are always there to help you
out in troublesome situations. Hope you enjoy using PHP-GTK 2 as much
as we enjoyed making it!
&lt;/p&gt;

&lt;?php

commonFooter();

?&gt;



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060620061522</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-20 06:15:22-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Features Page</subject><body>

On Jun 19, 2006, at 10:36 PM, Steph Fox wrote:

&gt; Internal extension name is still 'gtk'.  It's not possible to put a  
&gt; hyphen in an internal name. (I know, I tried.)

The internal name is still "php-gtk". Check line 52 in http:// 
cvs.php.net/viewvc.cgi/php-gtk/main/php_gtk.c?revision=1.55&amp;content- 
type=text%2Fplain&amp;pathrev=1.55

I am not sure why you say that it's impossible to put a hyphen in there.

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060620122705</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-06-20 12:27:05-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Features Page</subject><body>

Nice work Anant. A few comments though...

Anant Narayanan wrote:
&gt; &lt;h1&gt;PHP-GTK 2 Features&lt;/h1&gt;
&gt; 
&gt; object-orientation and a rich widget base. Although PHP-GTK 2 is
&gt; mostly backwards compatible, it is broken where necessary. This page

This makes it sound like PHP-GTK 2 is broken where necessary. How about 
something like, "Although every attempt has been made to maintain 
backward compatibility, some backward compatibility breaks were necessary."

Also, can we really consider PHP-GTK 2 mostly backward compatible? The 
change in how constants are handled enough to break even the simplest 
PHP-GTK 1 apps when running in PHP-GTK 2.

&gt; &lt;li&gt;&lt;b&gt;Atk and Pango support&lt;/b&gt;&lt;br /&gt;
&gt; Although the alpha release of PHP-GTK 2 does not include support for

Use zeta instead of alpha. (This will be somewhat explained in the 
release announcement)

&gt; &lt;li&gt;&lt;b&gt;Connecting Signals&lt;/b&gt;&lt;br /&gt;
&gt; The semantically confusing connect_object() method of PHP-GTK 1 has
&gt; been deprecated in favor of simpler substitutes, connect() and
&gt; connect_simple().

semantically confusing connect_object() and connect_object_after() 
methods ... substitutes, connect_simple() and connect_simple_after().

Also, these methods should probably link to the docs page. In fact, it 
might not be a bad idea to link any classes, methods or constants to 
their respective docs pages.

&gt; &lt;li&gt;&lt;b&gt;Deprecated Widgets&lt;/b&gt;&lt;br /&gt;
&gt; Some of the older widgets have been deprecated in favor of more
&gt; powerful and easy to use widgets. Although the deprecated widgets will
&gt; still work with PHP-GTK, you will receive a warning that urges you to
&gt; use the new replacement widget instead.
&gt; &lt;/ul&gt;

There should be a link to the deprecated widgets page somewhere in this 
block.

I am not recommending any changes here but keep in mind that "deprecated 
widgets will still work" is not always true. GtkText never worked to 
begin with.

&gt; 
&gt; &lt;p&gt;
&gt; We've covered these differences in more detail in the 'Changes since
&gt; PHP-GTK 1' tutorial. Do have a look at that to make your transition
&gt; from PHP-GTK 1 to 2 easier. The documentation is an invaluable
&gt; resource, and of course the mailing lists are always there to help you
&gt; out in troublesome situations. Hope you enjoy using PHP-GTK 2 as much
&gt; as we enjoyed making it!
&gt; &lt;/p&gt;

Links!

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060620132928</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-20 13:29:28-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Features Page</subject><body>

&gt; On Jun 19, 2006, at 10:36 PM, Steph Fox wrote:
&gt;
&gt;&gt; Internal extension name is still 'gtk'.  It's not possible to put a 
&gt;&gt; hyphen in an internal name. (I know, I tried.)
&gt;
&gt; The internal name is still "php-gtk". Check line 52 in http:// 
&gt; cvs.php.net/viewvc.cgi/php-gtk/main/php_gtk.c?revision=1.55&amp;content- 
&gt; type=text%2Fplain&amp;pathrev=1.55

The one I just rewrote? :)  The external name (the one PHP users see) hasn't 
changed, it's always been php-gtk.

&gt; I am not sure why you say that it's impossible to put a hyphen in there.

Because what you mean by 'internal' and what I mean by 'internal' are 
obvously two different things, and it _is_ impossible to have 
php-gtk_global_id (for example).  The preprocessor cries if you do that. I 
tried because a non-impacting fix for the module loading/unloading issues we 
saw lately would _need_ to rely on that 'visible to users' name becoming the 
real internal name. I think Stig believed it would go that way at some point 
too - he left a note somewhere saying the handle and the name should match 
up, and in the vast majority of cases it does.

- Steph
&gt;
&gt; -Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060618192752</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-18 19:27:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] more cleaning up...</subject><body>

&gt;&gt; 1) It doesn't look right to me to be throwing construct exceptions when
&gt;&gt; someone gets the argument list wrong. There's already an error mechanism
&gt;&gt; in place for that, and it's not really 'exceptional'. We should be using
&gt;&gt; them only when the actual object creation fails IMHO.

&gt; php_gtk_parse_args() doesn't throw an exception IMO, so we shouldn't do
&gt; either but do the same as this func.

I think you'll find it does.

&gt;&gt; 2) We still have the gtk and gdk overrides from PHP-GTK 1 in the source.
&gt;&gt; Are these still useful to anyone or can we lose them now?

&gt; Andrei put them in to have a reference to make php-gtk2 overrides. Since
&gt; we have a CVS branch to look and the pygtk sources, we don't need them
&gt; anymore.

I think so too, but I was really asking Andrei - since that was true anyway 
at the start.

&gt;&gt; 3) Same goes for bits and pieces of out-commented PHP-GTK 1 code in
&gt;&gt; /main - useful, or 'can go'?
&gt; Remove it. If we need it, we can look at the php-gtk1 branch IMO.

As above.
&gt;
&gt;&gt; 4) We need to come to some agreement over what should happen to the demo
&gt;&gt; and test dirs.
&gt; I will move the subscripts to a subdirectory, so that phpgtk2demo.php is
&gt; the only one in the demos directory.

That'd be cool, thanks!

&gt; Andrei, do you want to keep your own stockbrowser demo or it is ok to
&gt; keep only the version that is integratable into phpgtk2demo.php?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060618192900</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-18 19:29:00-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] more cleaning up...</subject><body>

Steph,


&gt; 1) It doesn't look right to me to be throwing construct exceptions when
&gt; someone gets the argument list wrong. There's already an error mechanism
&gt; in place for that, and it's not really 'exceptional'. We should be using
&gt; them only when the actual object creation fails IMHO.
php_gtk_parse_args() doesn't throw an exception IMO, so we shouldn't do
either but do the same as this func.

&gt; 2) We still have the gtk and gdk overrides from PHP-GTK 1 in the source.
&gt; Are these still useful to anyone or can we lose them now?
Andrei put them in to have a reference to make php-gtk2 overrides. Since
we have a CVS branch to look and the pygtk sources, we don't need them
anymore.

&gt; 3) Same goes for bits and pieces of out-commented PHP-GTK 1 code in
&gt; /main - useful, or 'can go'?
Remove it. If we need it, we can look at the php-gtk1 branch IMO.

&gt; 4) We need to come to some agreement over what should happen to the demo
&gt; and test dirs.
I will move the subscripts to a subdirectory, so that phpgtk2demo.php is
the only one in the demos directory.
Andrei, do you want to keep your own stockbrowser demo or it is ok to
keep only the version that is integratable into phpgtk2demo.php?

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060618192901</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-18 19:29:01-0400</timestampReceived><subject>Fw: [PHP-GTK-DEV] more cleaning up...</subject><body>

Erm, let me clarify that...  It doesn't throw an exception, no - it throws 
an error, same as the rest of PHP on parameter parsing.

&gt;&gt;&gt; 1) It doesn't look right to me to be throwing construct exceptions when
&gt;&gt;&gt; someone gets the argument list wrong. There's already an error mechanism
&gt;&gt;&gt; in place for that, and it's not really 'exceptional'. We should be using
&gt;&gt;&gt; them only when the actual object creation fails IMHO.
&gt;
&gt;&gt; php_gtk_parse_args() doesn't throw an exception IMO, so we shouldn't do
&gt;&gt; either but do the same as this func.
&gt;
&gt; I think you'll find it does.
&gt;
&gt;&gt;&gt; 2) We still have the gtk and gdk overrides from PHP-GTK 1 in the source.
&gt;&gt;&gt; Are these still useful to anyone or can we lose them now?
&gt;
&gt;&gt; Andrei put them in to have a reference to make php-gtk2 overrides. Since
&gt;&gt; we have a CVS branch to look and the pygtk sources, we don't need them
&gt;&gt; anymore.
&gt;
&gt; I think so too, but I was really asking Andrei - since that was true 
&gt; anyway at the start.
&gt;
&gt;&gt;&gt; 3) Same goes for bits and pieces of out-commented PHP-GTK 1 code in
&gt;&gt;&gt; /main - useful, or 'can go'?
&gt;&gt; Remove it. If we need it, we can look at the php-gtk1 branch IMO.
&gt;
&gt; As above.
&gt;&gt;
&gt;&gt;&gt; 4) We need to come to some agreement over what should happen to the demo
&gt;&gt;&gt; and test dirs.
&gt;&gt; I will move the subscripts to a subdirectory, so that phpgtk2demo.php is
&gt;&gt; the only one in the demos directory.
&gt;
&gt; That'd be cool, thanks!
&gt;
&gt;&gt; Andrei, do you want to keep your own stockbrowser demo or it is ok to
&gt;&gt; keep only the version that is integratable into phpgtk2demo.php?
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060618213456</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-18 21:34:56-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] more cleaning up...</subject><body>

On Jun 18, 2006, at 6:16 AM, Steph Fox wrote:

&gt; Coupla questions here.
&gt;
&gt; 1) It doesn't look right to me to be throwing construct exceptions  
&gt; when someone gets the argument list wrong. There's already an error  
&gt; mechanism in place for that, and it's not really 'exceptional'. We  
&gt; should be using them only when the actual object creation fails IMHO.

Where do we throw exceptions on wrong arguments?

&gt; 2) We still have the gtk and gdk overrides from PHP-GTK 1 in the  
&gt; source. Are these still useful to anyone or can we lose them now?

Where? Please be specific.

&gt; 3) Same goes for bits and pieces of out-commented PHP-GTK 1 code  
&gt; in /main - useful, or 'can go'?

Keep them for now.

&gt; 4) We need to come to some agreement over what should happen to the  
&gt; demo and test dirs.

Keep demo, get rid of stuff in test/ that's not unittests.

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060618213637</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-18 21:36:37-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] more cleaning up...</subject><body>

On Jun 18, 2006, at 12:27 PM, Steph Fox wrote:

&gt;&gt; php_gtk_parse_args() doesn't throw an exception IMO, so we  
&gt;&gt; shouldn't do
&gt;&gt; either but do the same as this func.
&gt;
&gt; I think you'll find it does.

You're wrong.

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060618213648</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-18 21:36:48-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] more cleaning up...</subject><body>

So what's the problem?

-Andrei


On Jun 18, 2006, at 12:29 PM, Steph Fox wrote:

&gt; Erm, let me clarify that...  It doesn't throw an exception, no - it  
&gt; throws an error, same as the rest of PHP on parameter parsing.
&gt;
&gt;&gt;&gt;&gt; 1) It doesn't look right to me to be throwing construct  
&gt;&gt;&gt;&gt; exceptions when
&gt;&gt;&gt;&gt; someone gets the argument list wrong. There's already an error  
&gt;&gt;&gt;&gt; mechanism
&gt;&gt;&gt;&gt; in place for that, and it's not really 'exceptional'. We should  
&gt;&gt;&gt;&gt; be using
&gt;&gt;&gt;&gt; them only when the actual object creation fails IMHO.
&gt;&gt;
&gt;&gt;&gt; php_gtk_parse_args() doesn't throw an exception IMO, so we  
&gt;&gt;&gt; shouldn't do
&gt;&gt;&gt; either but do the same as this func.
&gt;&gt;
&gt;&gt; I think you'll find it does.
&gt;&gt;
&gt;&gt;&gt;&gt; 2) We still have the gtk and gdk overrides from PHP-GTK 1 in the  
&gt;&gt;&gt;&gt; source.
&gt;&gt;&gt;&gt; Are these still useful to anyone or can we lose them now?
&gt;&gt;
&gt;&gt;&gt; Andrei put them in to have a reference to make php-gtk2  
&gt;&gt;&gt; overrides. Since
&gt;&gt;&gt; we have a CVS branch to look and the pygtk sources, we don't need  
&gt;&gt;&gt; them
&gt;&gt;&gt; anymore.
&gt;&gt;
&gt;&gt; I think so too, but I was really asking Andrei - since that was  
&gt;&gt; true anyway at the start.
&gt;&gt;
&gt;&gt;&gt;&gt; 3) Same goes for bits and pieces of out-commented PHP-GTK 1 code in
&gt;&gt;&gt;&gt; /main - useful, or 'can go'?
&gt;&gt;&gt; Remove it. If we need it, we can look at the php-gtk1 branch IMO.
&gt;&gt;
&gt;&gt; As above.
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; 4) We need to come to some agreement over what should happen to  
&gt;&gt;&gt;&gt; the demo
&gt;&gt;&gt;&gt; and test dirs.
&gt;&gt;&gt; I will move the subscripts to a subdirectory, so that  
&gt;&gt;&gt; phpgtk2demo.php is
&gt;&gt;&gt; the only one in the demos directory.
&gt;&gt;
&gt;&gt; That'd be cool, thanks!
&gt;&gt;
&gt;&gt;&gt; Andrei, do you want to keep your own stockbrowser demo or it is  
&gt;&gt;&gt; ok to
&gt;&gt;&gt; keep only the version that is integratable into phpgtk2demo.php?
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt; Christian Weiske
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060618213659</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-18 21:36:59-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] more cleaning up...</subject><body>

Hiya,

&gt;&gt; Coupla questions here.
&gt;&gt;
&gt;&gt; 1) It doesn't look right to me to be throwing construct exceptions  when 
&gt;&gt; someone gets the argument list wrong. There's already an error  mechanism 
&gt;&gt; in place for that, and it's not really 'exceptional'. We  should be using 
&gt;&gt; them only when the actual object creation fails IMHO.
&gt;
&gt; Where do we throw exceptions on wrong arguments?

All over the source? I think some of those lines are even generated.

&gt;&gt; 2) We still have the gtk and gdk overrides from PHP-GTK 1 in the  source. 
&gt;&gt; Are these still useful to anyone or can we lose them now?
&gt;
&gt; Where? Please be specific.

in ext/gtk+. They're fairly big files, at least the gtk one is.

&gt;&gt; 3) Same goes for bits and pieces of out-commented PHP-GTK 1 code  in 
&gt;&gt; /main - useful, or 'can go'?
&gt;
&gt; Keep them for now.

kk

&gt;&gt; 4) We need to come to some agreement over what should happen to the  demo 
&gt;&gt; and test dirs.
&gt;
&gt; Keep demo, get rid of stuff in test/ that's not unittests.

You sure? It was useful to have that yesterday, and unittests aren't 
actually written yet as such.

- Steph 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060618213922</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-18 21:39:22-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] more cleaning up...</subject><body>

&gt; So what's the problem?

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|ub", &amp;text, &amp;free_text, 
&amp;use_underline)) {
        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkButton);
    }

I'd expect to see

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|ub", &amp;text, &amp;free_text, 
&amp;use_underline)) {
        return;
    }

Wouldn't you?

&gt; -Andrei
&gt;
&gt;
&gt; On Jun 18, 2006, at 12:29 PM, Steph Fox wrote:
&gt;
&gt;&gt; Erm, let me clarify that...  It doesn't throw an exception, no - it 
&gt;&gt; throws an error, same as the rest of PHP on parameter parsing.
&gt;&gt;
&gt;&gt;&gt;&gt;&gt; 1) It doesn't look right to me to be throwing construct  exceptions 
&gt;&gt;&gt;&gt;&gt; when
&gt;&gt;&gt;&gt;&gt; someone gets the argument list wrong. There's already an error 
&gt;&gt;&gt;&gt;&gt; mechanism
&gt;&gt;&gt;&gt;&gt; in place for that, and it's not really 'exceptional'. We should  be 
&gt;&gt;&gt;&gt;&gt; using
&gt;&gt;&gt;&gt;&gt; them only when the actual object creation fails IMHO.
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; php_gtk_parse_args() doesn't throw an exception IMO, so we  shouldn't 
&gt;&gt;&gt;&gt; do
&gt;&gt;&gt;&gt; either but do the same as this func.
&gt;&gt;&gt;
&gt;&gt;&gt; I think you'll find it does.
&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; 2) We still have the gtk and gdk overrides from PHP-GTK 1 in the 
&gt;&gt;&gt;&gt;&gt; source.
&gt;&gt;&gt;&gt;&gt; Are these still useful to anyone or can we lose them now?
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Andrei put them in to have a reference to make php-gtk2  overrides. 
&gt;&gt;&gt;&gt; Since
&gt;&gt;&gt;&gt; we have a CVS branch to look and the pygtk sources, we don't need  them
&gt;&gt;&gt;&gt; anymore.
&gt;&gt;&gt;
&gt;&gt;&gt; I think so too, but I was really asking Andrei - since that was  true 
&gt;&gt;&gt; anyway at the start.
&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; 3) Same goes for bits and pieces of out-commented PHP-GTK 1 code in
&gt;&gt;&gt;&gt;&gt; /main - useful, or 'can go'?
&gt;&gt;&gt;&gt; Remove it. If we need it, we can look at the php-gtk1 branch IMO.
&gt;&gt;&gt;
&gt;&gt;&gt; As above.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; 4) We need to come to some agreement over what should happen to  the 
&gt;&gt;&gt;&gt;&gt; demo
&gt;&gt;&gt;&gt;&gt; and test dirs.
&gt;&gt;&gt;&gt; I will move the subscripts to a subdirectory, so that  phpgtk2demo.php 
&gt;&gt;&gt;&gt; is
&gt;&gt;&gt;&gt; the only one in the demos directory.
&gt;&gt;&gt;
&gt;&gt;&gt; That'd be cool, thanks!
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Andrei, do you want to keep your own stockbrowser demo or it is  ok to
&gt;&gt;&gt;&gt; keep only the version that is integratable into phpgtk2demo.php?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt;&gt; Christian Weiske
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060619045132</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-19 04:51:32-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] more cleaning up...</subject><body>


&gt; Where do we throw exceptions on wrong arguments?
ext/gtk+/gtk.overrides:
#1099: gtk_button_new
    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|ub", &amp;text, &amp;free_text,
&amp;use_underline)) {
        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkButton);
    }

#1135: gtk_button_new_from_stock
    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "u", &amp;stock_id,
&amp;free_stock_id)) {
        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkButton);
    }

#1245: gtk_check_button_new
    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|ub", &amp;text, &amp;free_text,
&amp;use_underline)) {
        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkCheckButton);
    }

#1282: gtk_check_menu_item_new
    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|ub", &amp;text, &amp;free_text,
&amp;use_underline)) {
        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkMenuItem);
    }

#1523: gtk_combo_box_new
    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|N", &amp;php_model,
gtktreemodel_ce)) {
        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkComboBox);
    }

#1614: gtk_dialog_new_with_buttons
    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|uNVa", &amp;title,
&amp;free_title, &amp;php_parent, gtkwindow_ce, &amp;php_flags, &amp;buttons)) {
        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkDialog);
    }

#2275: gtk_file_chooser_dialog_new_with_backend
    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|uNVau", &amp;title,
&amp;free_title, &amp;php_parent,
                            gtkwindow_ce, &amp;php_action, &amp;buttons,
&amp;backend, &amp;free_backend)) {
        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkFileChooserDialog);
    }

#2242: gtk_icon_view_new
    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|N", &amp;php_model,
gtktreemodel_ce)) {
        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkIconView);
    }

#2570: gtk_image_menu_item_new
	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|uO", &amp;stock_id,
&amp;free_stock_id, &amp;php_accel_group, gtkaccelgroup_ce)) {
        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkImageMenuItem);
	}


... and more


&gt;&gt; 2) We still have the gtk and gdk overrides from PHP-GTK 1 in the
&gt;&gt; source. Are these still useful to anyone or can we lose them now?
ext/gtk+/v1.gdk.overrides
ext/gtk+/v1.gtk.overrides

-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060618192448</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-18 19:24:48-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] NTRVNRP</subject><body>

Hi Chris,

&gt;&gt; Do you happen to have any test code lying around for anything you've
&gt;&gt; marked as 'NTRVNRP' in the TODO? It'd save time if...
&gt; No, sorry.
&gt; I also was away on the weekend. What's missing?

Not a lot, I was just going through the TODO last night trying to find easy 
things to fix :). DND works on win32 now btw (first ever time!!!!)

I've spent this afternoon/eve trying to write pointer support into the 
generator, but I don't think it's quite right. It works, but it isn't how 
it's meant to be. (I think anyway.) I'll mail in with it when I've stopped 
playing, I won't commit this.

- Steph

&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060618192458</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-18 19:24:58-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] NTRVNRP</subject><body>

Steph,

&gt; Do you happen to have any test code lying around for anything you've
&gt; marked as 'NTRVNRP' in the TODO? It'd save time if...
No, sorry.
I also was away on the weekend. What's missing?

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060618193021</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-18 19:30:21-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] NTRVNRP</subject><body>

Steph,


&gt; I've spent this afternoon/eve trying to write pointer support into the
&gt; generator, but I don't think it's quite right. It works, but it isn't
&gt; how it's meant to be. (I think anyway.) I'll mail in with it when I've
&gt; stopped playing, I won't commit this.
Do we need that in the alpha?  I don't want to stop you or say you're
doing the wrong things (I appreciate your codings), but getting the
alpha ready is priority #1 for me.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060618193119</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-18 19:31:19-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] NTRVNRP</subject><body>

&gt;&gt; I've spent this afternoon/eve trying to write pointer support into the
&gt;&gt; generator, but I don't think it's quite right. It works, but it isn't
&gt;&gt; how it's meant to be. (I think anyway.) I'll mail in with it when I've
&gt;&gt; stopped playing, I won't commit this.
&gt; Do we need that in the alpha?  I don't want to stop you or say you're
&gt; doing the wrong things (I appreciate your codings), but getting the
&gt; alpha ready is priority #1 for me.

I thought we were releasing today, but nobody's spoken to me since 6am this 
morning so I guess we aren't.

What do you think I should be doing to get ready? I've fixed everything that 
needed fixing already.

- Steph

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060618213348</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-18 21:33:48-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] NTRVNRP</subject><body>

Pointer support??

-Andrei


On Jun 18, 2006, at 12:24 PM, Steph Fox wrote:

&gt; Hi Chris,
&gt;
&gt;&gt;&gt; Do you happen to have any test code lying around for anything you've
&gt;&gt;&gt; marked as 'NTRVNRP' in the TODO? It'd save time if...
&gt;&gt; No, sorry.
&gt;&gt; I also was away on the weekend. What's missing?
&gt;
&gt; Not a lot, I was just going through the TODO last night trying to  
&gt; find easy things to fix :). DND works on win32 now btw (first ever  
&gt; time!!!!)
&gt;
&gt; I've spent this afternoon/eve trying to write pointer support into  
&gt; the generator, but I don't think it's quite right. It works, but it  
&gt; isn't how it's meant to be. (I think anyway.) I'll mail in with it  
&gt; when I've stopped playing, I won't commit this.
&gt;
&gt; - Steph
&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060618213437</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-18 21:34:37-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] NTRVNRP</subject><body>

You defined GtkCTreeNode as a pointer. (It's a 'faked' boxed type in GTK+ 
anyway, I think they must've had issues with it too.) I've got it to 
generate stuff, but I'm having problems testing the generated stuff atm... 
'cos of course nothing else works around it either (pixmaps, bitmaps et al).


&gt; Pointer support??
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Jun 18, 2006, at 12:24 PM, Steph Fox wrote:
&gt;
&gt;&gt; Hi Chris,
&gt;&gt;
&gt;&gt;&gt;&gt; Do you happen to have any test code lying around for anything you've
&gt;&gt;&gt;&gt; marked as 'NTRVNRP' in the TODO? It'd save time if...
&gt;&gt;&gt; No, sorry.
&gt;&gt;&gt; I also was away on the weekend. What's missing?
&gt;&gt;
&gt;&gt; Not a lot, I was just going through the TODO last night trying to  find 
&gt;&gt; easy things to fix :). DND works on win32 now btw (first ever  time!!!!)
&gt;&gt;
&gt;&gt; I've spent this afternoon/eve trying to write pointer support into  the 
&gt;&gt; generator, but I don't think it's quite right. It works, but it  isn't 
&gt;&gt; how it's meant to be. (I think anyway.) I'll mail in with it  when I've 
&gt;&gt; stopped playing, I won't commit this.
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt; Christian Weiske
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060618222805</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-18 22:28:05-0400</timestampReceived><subject>Fw: [PHP-GTK-DEV] NTRVNRP</subject><body>

Hmm, it _kind_ of thinks it's a pointer...

C:\php5&gt;cat bug.php
&lt;?php

$window = new GtkWindow();
$window-&gt;connect_simple('destroy', array('gtk', 'main_quit'));

$ctree = new GtkCTree(2, 0);
$ctree-&gt;set_size_request(300, 200);

print $ctree-&gt;get_name()."\n";
$node = $ctree-&gt;node_nth(0);
var_dump($node);

$window-&gt;add($ctree);
$window-&gt;show_all();

Gtk::main();

?&gt;

C:\php5&gt;php bug.php

Warning: GtkCTree::__construct() is deprecated: use GtkTreeStore/GtkTreeView 
in C:\php5\bug.php on line 6
GtkCTree

** (bug.php:2004): CRITICAL **: file 
C:\sandbox\php-gtk\main\phpg_gpointer.c: line 84: assertion `pointer != 
((void *)0)' failed
NULL

I think I've had enough of fighting with it today - I'm outti.

Laters!

- Steph



----- Original Message ----- 
From: "Steph Fox" &lt;steph@zend.com&gt;
To: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
Cc: "Christian Weiske" &lt;cweiske@cweiske.de&gt;; "PHP-GTK dev" 
&lt;php-gtk-dev@lists.php.net&gt;
Sent: Sunday, June 18, 2006 11:34 PM
Subject: Re: [PHP-GTK-DEV] NTRVNRP


&gt; You defined GtkCTreeNode as a pointer. (It's a 'faked' boxed type in GTK+ 
&gt; anyway, I think they must've had issues with it too.) I've got it to 
&gt; generate stuff, but I'm having problems testing the generated stuff atm... 
&gt; 'cos of course nothing else works around it either (pixmaps, bitmaps et 
&gt; al).
&gt;
&gt;
&gt;&gt; Pointer support??
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; On Jun 18, 2006, at 12:24 PM, Steph Fox wrote:
&gt;&gt;
&gt;&gt;&gt; Hi Chris,
&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Do you happen to have any test code lying around for anything you've
&gt;&gt;&gt;&gt;&gt; marked as 'NTRVNRP' in the TODO? It'd save time if...
&gt;&gt;&gt;&gt; No, sorry.
&gt;&gt;&gt;&gt; I also was away on the weekend. What's missing?
&gt;&gt;&gt;
&gt;&gt;&gt; Not a lot, I was just going through the TODO last night trying to  find 
&gt;&gt;&gt; easy things to fix :). DND works on win32 now btw (first ever  time!!!!)
&gt;&gt;&gt;
&gt;&gt;&gt; I've spent this afternoon/eve trying to write pointer support into  the 
&gt;&gt;&gt; generator, but I don't think it's quite right. It works, but it  isn't 
&gt;&gt;&gt; how it's meant to be. (I think anyway.) I'll mail in with it  when I've 
&gt;&gt;&gt; stopped playing, I won't commit this.
&gt;&gt;&gt;
&gt;&gt;&gt; - Steph
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt;&gt; Christian Weiske
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060619104114</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-19 10:41:14-0400</timestampReceived><subject>Fw: [PHP-GTK-DEV] NTRVNRP</subject><body>

Actually Andrei, my base test script works perfectly if GtkCTreeNode is 
declared as a boxed type:

C:\php5&gt;php bug.php

Warning: GtkCTree::__construct() is deprecated: use GtkTreeStore/GtkTreeView 
in C:\php5\bug.php on line 6
GtkCTree
NULL

From gtkctree.h (v2.6.9):

/* GType for the GtkCTreeNode.  This is a boxed type, although it uses
 * no-op's for the copy and free routines.  It is defined in order to
 * provide type information for the signal arguments
 */
GType   gtk_ctree_node_get_type                  (void) G_GNUC_CONST;

Mind if I shift it back to GTK's reality?

Doing so gives us:
===============================================
                              Gtk Coverage
===============================================
Functions           :  70.6% written (89/126)
Methods             :  92.4% written (1797/1944)
Constructors        :  98.6% written (146/148)
Property accessors  :  97.8% written (174/178)

- Steph


&gt; Hmm, it _kind_ of thinks it's a pointer...
&gt;
&gt; C:\php5&gt;cat bug.php
&gt; &lt;?php
&gt;
&gt; $window = new GtkWindow();
&gt; $window-&gt;connect_simple('destroy', array('gtk', 'main_quit'));
&gt;
&gt; $ctree = new GtkCTree(2, 0);
&gt; $ctree-&gt;set_size_request(300, 200);
&gt;
&gt; print $ctree-&gt;get_name()."\n";
&gt; $node = $ctree-&gt;node_nth(0);
&gt; var_dump($node);
&gt;
&gt; $window-&gt;add($ctree);
&gt; $window-&gt;show_all();
&gt;
&gt; Gtk::main();
&gt;
&gt; ?&gt;
&gt;
&gt; C:\php5&gt;php bug.php
&gt;
&gt; Warning: GtkCTree::__construct() is deprecated: use 
&gt; GtkTreeStore/GtkTreeView in C:\php5\bug.php on line 6
&gt; GtkCTree
&gt;
&gt; ** (bug.php:2004): CRITICAL **: file 
&gt; C:\sandbox\php-gtk\main\phpg_gpointer.c: line 84: assertion `pointer != 
&gt; ((void *)0)' failed
&gt; NULL
&gt;
&gt; I think I've had enough of fighting with it today - I'm outti.
&gt;
&gt; Laters!
&gt;
&gt; - Steph
&gt;
&gt;
&gt;
&gt; ----- Original Message ----- 
&gt; From: "Steph Fox" &lt;steph@zend.com&gt;
&gt; To: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
&gt; Cc: "Christian Weiske" &lt;cweiske@cweiske.de&gt;; "PHP-GTK dev" 
&gt; &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Sunday, June 18, 2006 11:34 PM
&gt; Subject: Re: [PHP-GTK-DEV] NTRVNRP
&gt;
&gt;
&gt;&gt; You defined GtkCTreeNode as a pointer. (It's a 'faked' boxed type in GTK+ 
&gt;&gt; anyway, I think they must've had issues with it too.) I've got it to 
&gt;&gt; generate stuff, but I'm having problems testing the generated stuff 
&gt;&gt; atm... 'cos of course nothing else works around it either (pixmaps, 
&gt;&gt; bitmaps et al).
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; Pointer support??
&gt;&gt;&gt;
&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Jun 18, 2006, at 12:24 PM, Steph Fox wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Hi Chris,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; Do you happen to have any test code lying around for anything you've
&gt;&gt;&gt;&gt;&gt;&gt; marked as 'NTRVNRP' in the TODO? It'd save time if...
&gt;&gt;&gt;&gt;&gt; No, sorry.
&gt;&gt;&gt;&gt;&gt; I also was away on the weekend. What's missing?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Not a lot, I was just going through the TODO last night trying to  find 
&gt;&gt;&gt;&gt; easy things to fix :). DND works on win32 now btw (first ever 
&gt;&gt;&gt;&gt; time!!!!)
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I've spent this afternoon/eve trying to write pointer support into  the 
&gt;&gt;&gt;&gt; generator, but I don't think it's quite right. It works, but it  isn't 
&gt;&gt;&gt;&gt; how it's meant to be. (I think anyway.) I'll mail in with it  when I've 
&gt;&gt;&gt;&gt; stopped playing, I won't commit this.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; - Steph
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt;&gt;&gt; Christian Weiske
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060619112207</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-19 11:22:07-0400</timestampReceived><subject>Re: Fw: [PHP-GTK-DEV] NTRVNRP</subject><body>

&gt; Methods             :  92.4% written (1797/1944)
That's a 3% boost - it took weeks for me to reach that.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060619122020</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-19 12:20:20-0400</timestampReceived><subject>Re: Fw: [PHP-GTK-DEV] NTRVNRP</subject><body>

Yeah, but I just discovered where Andrei's coming from. That comment's very 
misleading - it actually _means_ it's registered as a G_TYPE_POINTER, 
because it doesn't have the copy/free elements of a G_TYPE_BOXED:

GType       g_boxed_type_register_static    (const gchar *name,
                                             GBoxedCopyFunc boxed_copy,
                                             GBoxedFreeFunc boxed_free);
GType       g_pointer_type_register_static  (const gchar *name);

So even though it all works perfectly I get:

(bug.php:3608): GLib-GObject-CRITICAL **: g_boxed_copy: assertion 
`G_TYPE_IS_BOXED (boxed_type)' failed
object(GtkCTreeNode)#4 (0) {
}

because glib tries to perform a copy on it.

:-(

- Steph



&gt;&gt; Methods             :  92.4% written (1797/1944)
&gt; That's a 3% boost - it took weeks for me to reach that.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060613195211</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-13 19:52:11-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] lookup -&gt; php_lookup()?</subject><body>

Yes, that's the culprit. They need to be declared in a different way..  
I'll have to take a look at it.

-Andrei

On Jun 13, 2006, at 12:49 PM, Christian Weiske wrote:

&gt; Hi all,
&gt;
&gt;
&gt; We have two class methods with name "lookup" that come out as
&gt; "php_lookup" (GdkWindow and GtkTextTagTable).
&gt;
&gt; I think it's php_compat.h that defines
&gt;&gt; #define lookup                         php_lookup
&gt; Could that be?
&gt;
&gt;
&gt; http://cvs.php.net/viewcvs.cgi/php-src/main/php_compat.h? 
&gt; view=markup&amp;rev=1.29
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060617153654</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-17 15:36:54-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] lookup -&gt; php_lookup()?</subject><body>

GtkIconFactory suffers in the same way.

Can't we just rename the lookup methods? There's already a 
GdkPixmap::pixmap_lookup() so why not GdkWindow::window_lookup(), 
GtkIconFactory::lookup_icon_set() and GtkTextTagTable::lookup_tag()?


&gt; Yes, that's the culprit. They need to be declared in a different way.. 
&gt; I'll have to take a look at it.
&gt;
&gt; -Andrei
&gt;
&gt; On Jun 13, 2006, at 12:49 PM, Christian Weiske wrote:
&gt;
&gt;&gt; Hi all,
&gt;&gt;
&gt;&gt;
&gt;&gt; We have two class methods with name "lookup" that come out as
&gt;&gt; "php_lookup" (GdkWindow and GtkTextTagTable).
&gt;&gt;
&gt;&gt; I think it's php_compat.h that defines
&gt;&gt;&gt; #define lookup                         php_lookup
&gt;&gt; Could that be?
&gt;&gt;
&gt;&gt;
&gt;&gt; http://cvs.php.net/viewcvs.cgi/php-src/main/php_compat.h? 
&gt;&gt; view=markup&amp;rev=1.29
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060618192550</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-18 19:25:50-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] lookup -&gt; php_lookup()?</subject><body>

Yes, because I fixed it after I mailed this out :)

- Steph

&gt;&gt; Can't we just rename the lookup methods? There's already a
&gt;&gt; GdkPixmap::pixmap_lookup() so why not GdkWindow::window_lookup(),
&gt;&gt; GtkIconFactory::lookup_icon_set() and GtkTextTagTable::lookup_tag()?
&gt; If I'm right, lookup() works now? No need to rename them.
&gt; 
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060616203939</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-06-16 20:39:39-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Confused over demo</subject><body>

Steph Fox wrote:
&gt; Secondly, I'm very confused about gtkwindow.php.  What's it actually 
&gt; intended to do? It loads up saying 'Click the button!' but the button's 
&gt; not connected to anything, so clicking it does nothing. It has a popup 
&gt; window lurking behind it, full of 'unsupported types'. I'm not at all 
&gt; sure what it's supposed to be demonstrating. Perhaps someone could post 
&gt; me a screenshot of what it does under *nix?

http://crisscott.com/tmp/gtkwindow.png

The second window has a bunch of buttons that change the first window's 
properties.

&gt; 
&gt; Thirdly, we still have two stock-browser demos in there. We should lose 
&gt; stock-browser2.php if it's just a copy of stock-browser.php, no?

I think stock-browser2 allows the script to be run as part of 
phpgtk2-demo.php or on its own. If you are going to get rid of one, I 
would suggest, stockbrowser.php.

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060616204602</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-16 20:46:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Confused over demo</subject><body>

Steph,


&gt; Secondly, I'm very confused about gtkwindow.php.  What's it actually
&gt; intended to do? It loads up saying 'Click the button!' but the button's
it has a widget editor which allows you to change some settings.

&gt; sure what it's supposed to be demonstrating. Perhaps someone could post
&gt; me a screenshot of what it does under *nix?
http://xml.cweiske.de/2006-06-16%20gtkwindowdemo.png

&gt; Thirdly, we still have two stock-browser demos in there. We should lose
&gt; stock-browser2.php if it's just a copy of stock-browser.php, no?
stock-browser2.php is the php-gtkdemo'ed version of andrei's original
browser.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060616205144</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-16 20:51:44-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Confused over demo</subject><body>

Hi Chris,

&gt;&gt; Secondly, I'm very confused about gtkwindow.php.  What's it actually
&gt;&gt; intended to do? It loads up saying 'Click the button!' but the button's
&gt; it has a widget editor which allows you to change some settings.
&gt;
&gt;&gt; sure what it's supposed to be demonstrating. Perhaps someone could post
&gt;&gt; me a screenshot of what it does under *nix?
&gt; http://xml.cweiske.de/2006-06-16%20gtkwindowdemo.png

Erm, that is _nothing_ like what I'm seeing here! I'll look into it, thanks.

&gt;&gt; Thirdly, we still have two stock-browser demos in there. We should lose
&gt;&gt; stock-browser2.php if it's just a copy of stock-browser.php, no?
&gt; stock-browser2.php is the php-gtkdemo'ed version of andrei's original
&gt; browser.

Maybe it would make some sense to have php-gtkdemo'd versions in their own 
subdirectory and standalones in the toplevel demo dir? I got around the 
loading problem here by feeding the php-gtk demo script an array of the 
files I wanted to see, rather than letting it load everything in my local 
directory... and it doesn't make a lot of sense to beginners clicking 
through at present.

- Steph

&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060617075956</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-17 07:59:56-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Confused over demo</subject><body>

&gt; I attached what I'm seeing as a jpeg. I think you'll agree it's
&gt; problematic :)
That is really weird.

The script uses Classname::gtype to determine which class should be
used. That gtype seems to change...

The following script:
&lt;?php
var_dump(GtkToggleButton::gtype);
var_dump(GtkButton::gtype);
?&gt;
echoes:
int(147412056)
int(147315920)

The numbers on your screenshot are totally different.

What you could do is echoing the gtypes in gtkwindow.php#26 and then
again in WidgetEditor.php#40 and see if they differ. If they differ, we
have a problem.
-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060617130236</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-17 13:02:36-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Confused over demo</subject><body>

Chris...

&gt; What you could do is echoing the gtypes in gtkwindow.php#26 and then
&gt; again in WidgetEditor.php#40 and see if they differ. If they differ, we
&gt; have a problem.

Yeah, I figured how to debug it already...(!)

You'll find this one even weirder. I couldn't get WidgetEditor to var_dump 
at all initially, so I wondered (being half-awake) if it was a path issue. 
(Note: the stuff I was seeing in the first place actually _did_ come from 
WidgetEditor - this was very much a half-awake thing). I changed to my 
normal testing dir and it suddenly started working. So I went back to the 
demos directory to see if I could work out what I'd been doing wrong. It's 
working there now too, and I can't reproduce what I was seeing yesterday.

Freaky, huh? Don't know whether to blame my system, PHP-GTK, PHP or the 
phase of the moon for that one.

There are a few small snags with the demo when it works. One is that when 
you go into full-screen mode under doze there's no way to get out of it 
apart from stopping the process. Another is that it allows you to 'edit' 
conflicting options, which then causes either the buttons, the editor or the 
entire demo to hang depending on the badness of the editing. Finally, am I 
supposed to see anything changing anywhere when I click on the unconnected 
button? - because if so I'm missing it.

- Steph

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060617135120</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-17 13:51:20-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Confused over demo</subject><body>

Why wouldn't they differ? GTypes are not static. They are registered  
at runtime. The only static ones are for fundamental types.

-Andrei

On Jun 17, 2006, at 4:00 AM, Christian Weiske wrote:

&gt; The script uses Classname::gtype to determine which class should be
&gt; used. That gtype seems to change...
&gt;
&gt; The following script:
&gt; &lt;?php
&gt; var_dump(GtkToggleButton::gtype);
&gt; var_dump(GtkButton::gtype);
&gt; ?&gt;
&gt; echoes:
&gt; int(147412056)
&gt; int(147315920)
&gt;
&gt; The numbers on your screenshot are totally different.
&gt;
&gt; What you could do is echoing the gtypes in gtkwindow.php#26 and then
&gt; again in WidgetEditor.php#40 and see if they differ. If they  
&gt; differ, we
&gt; have a problem.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060617135127</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-17 13:51:27-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Confused over demo</subject><body>

So why's that demo working for me now?!


&gt; Why wouldn't they differ? GTypes are not static. They are registered  
&gt; at runtime. The only static ones are for fundamental types.
&gt; 
&gt; -Andrei
&gt; 
&gt; On Jun 17, 2006, at 4:00 AM, Christian Weiske wrote:
&gt; 
&gt;&gt; The script uses Classname::gtype to determine which class should be
&gt;&gt; used. That gtype seems to change...
&gt;&gt;
&gt;&gt; The following script:
&gt;&gt; &lt;?php
&gt;&gt; var_dump(GtkToggleButton::gtype);
&gt;&gt; var_dump(GtkButton::gtype);
&gt;&gt; ?&gt;
&gt;&gt; echoes:
&gt;&gt; int(147412056)
&gt;&gt; int(147315920)
&gt;&gt;
&gt;&gt; The numbers on your screenshot are totally different.
&gt;&gt;
&gt;&gt; What you could do is echoing the gtypes in gtkwindow.php#26 and then
&gt;&gt; again in WidgetEditor.php#40 and see if they differ. If they  
&gt;&gt; differ, we
&gt;&gt; have a problem.
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060616205302</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-16 20:53:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Even more confused over test dir</subject><body>

&gt;&gt; The dir needs a good cleanup before we release anything IMHO.
&gt; Andrei and I did agree that we remove that dir completely.

Why? I thought it was the nearest thing we have to a test suite...

&gt; 
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060616205455</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-16 20:54:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Even more confused over test dir</subject><body>

Steph,

&gt; The dir needs a good cleanup before we release anything IMHO.
Andrei and I did agree that we remove that dir completely.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060616205654</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-16 20:56:54-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Even more confused over test dir</subject><body>

&gt;&gt; Why? I thought it was the nearest thing we have to a test suite...
&gt; Test suite are the unittests in test/unittests/
&gt; 
&gt; At least we shouldn't ship the test dir with the alpha.

And how's anyone supposed to know when bugs are fixed if we don't?

&gt; 
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060616205852</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-16 20:58:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Even more confused over test dir</subject><body>

&gt; Why? I thought it was the nearest thing we have to a test suite...
Test suite are the unittests in test/unittests/

At least we shouldn't ship the test dir with the alpha.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060616210448</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-16 21:04:48-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Even more confused over test dir</subject><body>

&gt; And how's anyone supposed to know when bugs are fixed if we don't?
All bugs in there are fixed.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060616175703</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-16 17:57:03-0400</timestampReceived><subject>[PHP-GTK-DEV] [Fwd: [Bug 345107] Memory leak in gtk_entry_completion_finalize:</subject><body>

The memleak has been fixed.

-------- Original Message --------
Subject: [Bug 345107] Memory leak in gtk_entry_completion_finalize: User 
data not freed
Date: Fri, 16 Jun 2006 13:43:39 -0400 (EDT)
From: gtk+ (bugzilla.gnome.org) &lt;bugzilla-daemon@bugzilla.gnome.org&gt;
To: cweiske@cweiske.de

Do not reply to this via email (we are currently unable to handle email
responses and they get discarded).  You can add comments to this bug at
http://bugzilla.gnome.org/show_bug.cgi?id=345107
  gtk+ | gtk | Ver: 2.8.x


Matthias Clasen changed:

            What    |Removed                     |Added
----------------------------------------------------------------------------
              Status|UNCONFIRMED                 |RESOLVED
          Resolution|                            |FIXED




------- Comment #1 from Matthias Clasen  2006-06-16 17:43 UTC -------
2006-06-16  Matthias Clasen  &lt;mclasen@redhat.com&gt;

         * gtk/gtkentrycompletion.c (gtk_entry_completion_finalize): Don't
         leak match data.  (#345107,  Christian Weiske)


-- 
Configure bugmail: http://bugzilla.gnome.org/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You reported the bug.


-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060616211032</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-16 21:10:32-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Even more confused over test dir</subject><body>


&gt;&gt; And how's anyone supposed to know when bugs are fixed if we don't?
&gt; All bugs in there are fixed.

No they aren't. I'm seeing DND crashes all over the shop, thanks.

And that's exactly the point of having tests in the first place. You fix for 
your platform, you haven't any way of knowing without tests what anyone else 
might be seeing!

- Steph

&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060617135216</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-17 13:52:16-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Confused over demo</subject><body>

Ah forget it. You meant 'between boxen', not 'between scripts'.

&gt; Why wouldn't they differ? GTypes are not static. They are registered  
&gt; at runtime. The only static ones are for fundamental types.
&gt; 
&gt; -Andrei
&gt; 
&gt; On Jun 17, 2006, at 4:00 AM, Christian Weiske wrote:
&gt; 
&gt;&gt; The script uses Classname::gtype to determine which class should be
&gt;&gt; used. That gtype seems to change...
&gt;&gt;
&gt;&gt; The following script:
&gt;&gt; &lt;?php
&gt;&gt; var_dump(GtkToggleButton::gtype);
&gt;&gt; var_dump(GtkButton::gtype);
&gt;&gt; ?&gt;
&gt;&gt; echoes:
&gt;&gt; int(147412056)
&gt;&gt; int(147315920)
&gt;&gt;
&gt;&gt; The numbers on your screenshot are totally different.
&gt;&gt;
&gt;&gt; What you could do is echoing the gtypes in gtkwindow.php#26 and then
&gt;&gt; again in WidgetEditor.php#40 and see if they differ. If they  
&gt;&gt; differ, we
&gt;&gt; have a problem.
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060617223527</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-17 22:35:27-0400</timestampReceived><subject>[PHP-GTK-DEV] The hunt for GtkCTreeNode is on</subject><body>

I have no idea why it isn't being recognised. It's declared as a pointer. 
(It's the only thing that is.) GtkCTreeRow - also a struct in GTK source - 
is missing altogether.

There are 56 methods currently not being written thanks to that missing 
GtkCTreeNode - only one at present due to GtkCTreeRow (I'd expect that 
number to go up when the Node's resolved).

CTree's deprecated anyway, but we still actually have it. It'd be nice to 
get it working :)

- Steph (heading for late bar)

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060618192825</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-18 19:28:25-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] lookup -&gt; php_lookup()?</subject><body>

&gt; Can't we just rename the lookup methods? There's already a
&gt; GdkPixmap::pixmap_lookup() so why not GdkWindow::window_lookup(),
&gt; GtkIconFactory::lookup_icon_set() and GtkTextTagTable::lookup_tag()?
If I'm right, lookup() works now? No need to rename them.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060619135815</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-19 13:58:15-0400</timestampReceived><subject>Fw: Fw: [PHP-GTK-DEV] NTRVNRP</subject><body>

I have it now. We need to register the ce as a boxed type but create each 
node as a pointer type.

(You should see the mess on my desktop.)

I just need to kill a compiler warning I can't track down, then I almost 
dare commit...

- Steph

&gt; Yeah, but I just discovered where Andrei's coming from. That comment's 
&gt; very misleading - it actually _means_ it's registered as a G_TYPE_POINTER, 
&gt; because it doesn't have the copy/free elements of a G_TYPE_BOXED:
&gt;
&gt; GType       g_boxed_type_register_static    (const gchar *name,
&gt;                                             GBoxedCopyFunc boxed_copy,
&gt;                                             GBoxedFreeFunc boxed_free);
&gt; GType       g_pointer_type_register_static  (const gchar *name);
&gt;
&gt; So even though it all works perfectly I get:
&gt;
&gt; (bug.php:3608): GLib-GObject-CRITICAL **: g_boxed_copy: assertion 
&gt; `G_TYPE_IS_BOXED (boxed_type)' failed
&gt; object(GtkCTreeNode)#4 (0) {
&gt; }
&gt;
&gt; because glib tries to perform a copy on it.
&gt;
&gt; :-(
&gt;
&gt; - Steph
&gt;
&gt;
&gt;
&gt;&gt;&gt; Methods             :  92.4% written (1797/1944)
&gt;&gt; That's a 3% boost - it took weeks for me to reach that.
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060619161751</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-19 16:17:51-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] more cleaning up...</subject><body>

&gt;&gt;&gt; 2) We still have the gtk and gdk overrides from PHP-GTK 1 in the
&gt;&gt;&gt; source. Are these still useful to anyone or can we lose them now?
&gt; ext/gtk+/v1.gdk.overrides
&gt; ext/gtk+/v1.gtk.overrides

I guess we can kill those.

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060619184322</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-19 18:43:22-0400</timestampReceived><subject>[PHP-GTK-DEV] The future of the humble bitmap</subject><body>

Hi Andrei, all

I know bitmaps are problematic - they're a typeless type, kinda thing - but 
they're actually used in quite a number of the older (deprecated) functions. 
What should I do with them within current internals? Cast them to a 
GdkPixmap? or a GdkDrawable? or just return a GObject?

I guess declaring a bitmap_ce is out of the question, or can I fake a boxed 
type?

- Steph 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060619194238</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-19 19:42:38-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: The future of the humble bitmap</subject><body>

Forget it, I just found the pixbuf rendering thing which solves the problem 
in a much nicer way :)

----- Original Message ----- 
From: "Steph Fox" &lt;steph@zend.com&gt;
To: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, June 19, 2006 8:43 PM
Subject: The future of the humble bitmap


&gt; Hi Andrei, all
&gt;
&gt; I know bitmaps are problematic - they're a typeless type, kinda thing - 
&gt; but they're actually used in quite a number of the older (deprecated) 
&gt; functions. What should I do with them within current internals? Cast them 
&gt; to a GdkPixmap? or a GdkDrawable? or just return a GObject?
&gt;
&gt; I guess declaring a bitmap_ce is out of the question, or can I fake a 
&gt; boxed type?
&gt;
&gt; - Steph 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060620191518</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-06-20 19:15:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Features Page</subject><body>

I took a shot at rewriting this a bit.

I tried to make it so that this page can last the lifetime of PHP-GTK 2 
and not just the alpha/zeta release. I also tried to focus more on the 
changes from a PHP-GTK user's perspective. Hopefully, that will help to 
sell the new version a little.

If I missed the target, feel free to just trash it.

Thanks,
Scott

["php-gtk2-features.php.txt" (text/plain)]

&lt;?php

commonHeader('PHP-GTK 2 Features');

?&gt;

&lt;h1&gt;PHP-GTK 2 Features&lt;/h1&gt;

&lt;p&gt;
PHP-GTK is an extension for the PHP programming language that implements 
language bindings for GTK+. It provides an object-oriented interface to GTK+ 
classes and functions and greatly simplifies writing client-side cross-platform
GUI applications.
&lt;/p&gt;

&lt;p&gt;
PHP-GTK 2 is the second major release of PHP-GTK. PHP-GTK 2 combines the power
of PHP 5 with the flexibility of Gtk+ 2 to allow developers to create extremely
rich desktop applications with relative ease. PHP-GTK 2 not only 
simplifies the process of building applications with PHP, but also 
provides greater flexibility and more features than its predecessor.
&lt;/p&gt;

&lt;a name="features"&gt;&lt;/a&gt;
&lt;h2&gt;Features&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;b&gt;Powerful Object Oriented Programming&lt;/b&gt;&lt;br /&gt;
Because PHP-GTK 2 is built ontop of PHP 5, it makes heavy use of the improved
object model. PHP-GTK 2 applications can implement Object Oriented practices 
such as inheritance, interfaces, overloading and exceptions.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Improved Garbage Collection&lt;/b&gt;&lt;br /&gt;
PHP-GTK 1 suffered from memory allocation issue because it was built ontop of
PHP 4, which was not designed with long running applications in mind. 
Improvements in PHP 5 have minimized memory leaks allowing for long running
applications without the fear of excessive memory consumption.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Unicode Support&lt;/b&gt;&lt;br /&gt;
Text in PHP-GTK 2 is always UTF-8 encoded making for applications which can 
easily be internationalized. PHP-GTK 2 will seamlessly handle conversion of
input and output strings based on a global code-page setting freeing the 
developer from worrying about most encoding problems.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Model-View Architecture&lt;/b&gt;&lt;br /&gt;
Gtk+ 2 implements a Model-View architecture to separate data from the display.
This allows for multiple representations of the same data in different ways and
greater control over the data itself. The separation of data from display makes
working with complex data like trees and multi-line text much easier than 
before.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Improved Graphics Support&lt;/b&gt;&lt;br /&gt;
Improvements in image support in Gtk+ 2 make displaying and manipulating images
and animations much easier with PHP-GTK 2. Aside from an extensive collection
of stock images, loading and manipulating custom images is relatively simple
when compared to working with images in PHP-GTK 1.
&lt;/li&gt;

&lt;/ul&gt;

&lt;a name="changed"&gt;&lt;/a&gt;
&lt;h2&gt;Changes&lt;/h2&gt;

&lt;p&gt;
While every attempt has been made to preserve backward compatibility whereever
possible, some backward compatibility breaks were necessary.
&lt;/p&gt;

&lt;ul&gt;

&lt;li&gt;&lt;b&gt;Exceptions&lt;/b&gt;&lt;br /&gt;
PHP-GTK 2 takes advantage of PHP 5's support for exceptions. Several widgets
may throw exceptions, normally during construction or when trying to convert
text to UTF-8.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;No More Global Constants&lt;/b&gt;&lt;br /&gt;
In PHP-GTK 1, all constants were declared in the global namespace. In PHP-GTK
2, constants are declared in the top-level classes: Gtk, Gdk, Atk, and Pango.
This means the PHP-GTK 1 constant 
&lt;pre style="display: inline;"&gt;GTK_WIN_POS_CENTER&lt;/pre&gt; is accessed as
&lt;pre style="display: inline;"&gt;Gtk::WIN_POS_CENTER&lt;/pre&gt; in PHP-GTK 2.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Creating Signal Handlers&lt;/b&gt;&lt;br /&gt;
The &lt;pre style="display: inline;"&gt;connect_object()&lt;/pre&gt; and 
&lt;pre style="display: inline;"&gt;connect_object_after()&lt;/pre&gt; methods
have been deprecated in favor of 
&lt;pre style="display: inline;"&gt;connect_simple()&lt;/pre&gt; and 
&lt;pre style="display: inline;"&gt;connect_simple_after()&lt;/pre&gt;.
&lt;/li&gt;

&lt;li&gt;&lt;b&gt;Deprecated Widgets&lt;/b&gt;&lt;br /&gt;
Many widgets have been deprecated in Gtk+ 2, and therefore are also deprecated
in PHP-GTK 2. Most deprecated widgets have been replaced with more powerful
widgets that are easier to use. While most deprecated widgets will still
function as they did with PHP-GTK 1, developers are strongly encouraged to 
update their applications to use the new and improved versions.
&lt;/li&gt;

&lt;/ul&gt;

&lt;a name="more"&gt;&lt;/a&gt;
&lt;h2&gt;More&lt;/h2&gt;
&lt;p&gt;
These changes and more are covered in greater detail in the "Changes since
PHP-GTK 1" tutorial. Users looking for help with the new release are 
encouraged to read the PHP-GTK 2 manual or contact the PHP-GTK General mailing 
list.
&lt;/p&gt;

&lt;?php

commonFooter();

?&gt;




-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060621021902</emailId><senderName>""</senderName><senderEmail>j@f</senderEmail><timestampReceived>2006-06-21 02:19:02-0400</timestampReceived><subject>[PHP-GTK-DEV]  Licensed Windows XP Pro, win 98, 98 se, Office XP Small, Office</subject><body>

  Licensed Windows XP Pro, win 98, 98 se, Office XP Small, Office 
XP Professional, Office Pro 2003   100 % 
  Paisarn  06-5881135
- Windows 95  CD  200 bath 
- Windows 98 book+COA only 800 bath 
- Windows 98 book+COA+CD 1,000 bath 
- Windows 98 SE book + COA + CD  1,500 bath 
- Windows 2000 Professional + CD  2,700 bath 
- Windows ME  + COA + CD 1,800 bath 
- Windows XP Home Edition  + COA 2,000 bath 
- Windows XP Home Edition  + COA + CD 2,700 bath
- Windows XP Professional  + COA 2,400 bath
- Windows XP Professional  + COA+CD 3,500bath
- Microsoft Office Pro 2003 7,500 bath
- Microsoft Office Basic 5500 
  Paisarn  06-5881135, 02-8966280
pkhotboom@yahoo.com 
    .-. 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060621025342</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-06-21 02:53:42-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] shared object runtime loading</subject><body>

Hi Danni,

&gt; I guess this is a "feature" because the nature of php-gtk is not web
&gt; realated, so my question is how do distro would build php-gtk2 pacakges?

It seems to me that you are loading the PHP-GTK 2 extension as a part
PHP's web interface, probably with Apache. Make sure you load the
PHP-GTK 2 extension in the CLI (Command Line Interface) of PHP instead.
These are independent of each other and hence loading PHP-GTK 2 in CLI
will not affect your web pages in any way.

Check http://gtk.php.net/wiki/PhpGtk2/InstallingOnUnix for more information.

By the way, this post belongs to php-gtk-general not php-gtk-dev. Please
do not post to this mailing list unless your queries are directly
related to the development of PHP-GTK 2 itself.

Best Regards,

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060621044839</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-21 04:48:39-0400</timestampReceived><subject>[PHP-GTK-DEV] pointer support</subject><body>

- for your delectation and delight -

I've been testing this for the last three days here, it seems to work fine. 
Please mention if you find otherwise on your strange boxen.

- Steph 

["pointer_main.txt" (text/plain)]

Index: main/php_gtk.h
===================================================================
RCS file: /repository/php-gtk/main/php_gtk.h,v
retrieving revision 1.131
diff -u -r1.131 php_gtk.h
--- main/php_gtk.h	17 Jun 2006 16:59:05 -0000	1.131
+++ main/php_gtk.h	19 Jun 2006 12:56:26 -0000
@@ -160,6 +160,8 @@
 
 #define PHPG_GBOXED(zobj) phpg_gboxed_get(zobj TSRMLS_CC)-&gt;boxed
 
+#define PHPG_GPOINTER(zobj) phpg_gpointer_get(zobj TSRMLS_CC)-&gt;pointer
+
 #define PHPG_GDKATOM(zobj) ((phpg_gdkatom_t*)PHPG_GET(zobj))-&gt;atom
 
 
@@ -475,6 +477,15 @@
 void phpg_gpointer_register_self(TSRMLS_D);
 PHP_GTK_API void phpg_gpointer_new(zval **zobj, GType gtype, gpointer pointer TSRMLS_DC);
 
+static inline phpg_gpointer_t* phpg_gpointer_get(zval *zobj TSRMLS_DC)
+{
+    phpg_gpointer_t *pobj = zend_object_store_get_object(zobj TSRMLS_CC);
+    if (pobj-&gt;pointer == NULL) {
+        php_error(E_ERROR, "Internal object missing in %s wrapper", Z_OBJCE_P(zobj)-&gt;name);
+    }
+    return pobj;
+}
+
 /* GdkAtom */
 void phpg_gdkatom_register_self(TSRMLS_D);
 PHP_GTK_API void phpg_gdkatom_new(zval **zobj, GdkAtom atom TSRMLS_DC);

["pointer_generator.txt" (text/plain)]

Index: generator/arg_types.php
===================================================================
RCS file: /repository/php-gtk/generator/arg_types.php,v
retrieving revision 1.80
diff -u -r1.80 arg_types.php
--- generator/arg_types.php	3 Jun 2006 19:14:36 -0000	1.80
+++ generator/arg_types.php	19 Jun 2006 13:36:02 -0000
@@ -454,6 +454,51 @@
 }
 /* }}} */
 
+/* {{{ Pointer_Arg */
+class Pointer_Arg extends Arg_Type {
+
+    static $pointer_tpl = "\n\t%(name) = %(class)(PHPG_GPOINTER(php_%(name)));\n";
+    var $type           = null;
+    var $typecode       = null;
+
+    function __construct($type, $typecode)
+    {
+        $this-&gt;type     = $type;
+        $this-&gt;typecode = $typecode;
+    }
+
+    function write_param($type, $name, $default, $null_ok, $info)
+    {
+        $indir = strstr($type, '*');
+        $type = str_replace($indir, '', $type);
+        $ce = strtolower($type."_ce");
+        $class = str_replace('TYPE_', '', $this-&gt;typecode);
+        $info-&gt;var_list-&gt;add($type, $indir.$name);
+        $info-&gt;var_list-&gt;add('zval', '*php_'.$name." = NULL");
+        $info-&gt;arg_list[] = $name;
+        $info-&gt;add_parse_list('N', array('&amp;php_' . $name, $ce));
+        $info-&gt;pre_code[] = aprintf(self::$pointer_tpl,
+                                    array('name' =&gt; $name,
+                                          'class' =&gt; $class,
+                                          'name' =&gt; $name));
+    }
+
+    function write_return($type, $owns_return, $info)
+    {
+        if (substr($type, -1) == '*') {
+            $info-&gt;var_list-&gt;add($this-&gt;type, '*php_retval');
+            $ret = 'php_retval';
+        } else {
+            $info-&gt;var_list-&gt;add($this-&gt;type, 'php_retval');
+            $ret = '&amp;php_retval';
+        }
+
+        $info-&gt;post_code[] = sprintf("\tphpg_gpointer_new(&amp;return_value, %s, %s \
TSRMLS_CC);\n", +                                     $this-&gt;typecode, $ret);
+    }
+}
+/* }}} */
+
 /* {{{ Object_Arg */
 class Object_Arg extends Arg_Type {
     var $obj_name = null;
@@ -974,6 +1019,14 @@
         $this-&gt;register('const-' . $type . '*', $boxed_arg);
     }
 
+    function register_pointer($type, $typecode)
+    {
+        if (isset($this-&gt;arg_types[$type])) return;
+        $pointer_arg = new Pointer_Arg($type, $typecode);
+        $this-&gt;register($type, $pointer_arg);
+        $this-&gt;register($type . '*', $pointer_arg);
+    }
+
     function get($type)
     {
         if (isset($this-&gt;arg_types[$type])) {
Index: generator/generator.php
===================================================================
RCS file: /repository/php-gtk/generator/generator.php,v
retrieving revision 1.113
diff -u -r1.113 generator.php
--- generator/generator.php	3 Jun 2006 18:07:41 -0000	1.113
+++ generator/generator.php	20 Jun 2006 15:00:52 -0000
@@ -152,6 +152,10 @@
         foreach ($parser-&gt;boxed as $boxed) {
             $matcher-&gt;register_boxed($boxed-&gt;c_name, $boxed-&gt;typecode);
         }
+
+        foreach ($parser-&gt;pointers as $pointer) {
+            $matcher-&gt;register_pointer($pointer-&gt;c_name, $pointer-&gt;typecode);
+        }
     }
 
 
@@ -196,7 +200,7 @@
             }
 
             $handler = $matcher-&gt;get($param_type);
-            $handler-&gt;write_param($param_type, $param_name, $param_default, \
$param_null, $info); +            $handler-&gt;write_param($param_type, $param_name, \
$param_default, $param_null, $info, NULL);  }
 
         $dict['return'] = '';
@@ -269,6 +273,7 @@
                 break;
 
             case 'boxed':
+            case 'pointer':
                 $dict['cast'] = $object-&gt;c_name . ' *';
                 break;
 
@@ -514,17 +519,30 @@
 
         /* GBoxed */
         $this-&gt;log_print("\n\n" . $this-&gt;make_header("Boxed Types", 50, '-'));
-        foreach ($this-&gt;parser-&gt;boxed as $object) {
-            $reg_info = $this-&gt;write_class($object);
+        foreach ($this-&gt;parser-&gt;boxed as $boxed) {
+            $reg_info = $this-&gt;write_class($boxed);
             $register_classes .= aprintf(Templates::register_boxed, $reg_info);
-            if ($this-&gt;overrides-&gt;have_post_registration($object-&gt;c_name)) {
-                $register_classes .= \
$this-&gt;overrides-&gt;get_post_registration($object-&gt;c_name); +            if \
($this-&gt;overrides-&gt;have_post_registration($boxed-&gt;c_name)) { +                \
$register_classes .= $this-&gt;overrides-&gt;get_post_registration($boxed-&gt;c_name);  }
         }
         if (!$this-&gt;parser-&gt;boxed) {
             $this-&gt;log_print("  -- none --  ");
         }
 
+        /* GPointer */
+        $this-&gt;log_print("\n\n" . $this-&gt;make_header("Pointers", 50, '-'));
+        foreach ($this-&gt;parser-&gt;pointers as $pointer) {
+            $reg_info = $this-&gt;write_class($pointer);
+            $register_classes .= aprintf(Templates::register_pointer, $reg_info);
+            if ($this-&gt;overrides-&gt;have_post_registration($pointer-&gt;c_name)) {
+                $register_classes .= \
$this-&gt;overrides-&gt;get_post_registration($pointer-&gt;c_name); +            }
+        }
+        if (!$this-&gt;parser-&gt;pointers) {
+            $this-&gt;log_print("  -- none --  ");
+        }
+
         $this-&gt;fp-&gt;write(sprintf(Templates::register_classes,
                                   $this-&gt;lprefix,
                                   $register_classes));
@@ -677,6 +695,11 @@
                 $dict['orig_handlers'] = 'php_gtk_handlers';
                 break;
 
+            case 'pointer':
+                $dict['create_func'] = 'phpg_create_gpointer';
+                $dict['orig_handlers'] = 'php_gtk_handlers';
+                break;
+
             default:
                 throw new Exception("unhandled definition type");
                 break;
@@ -746,8 +769,8 @@
         $prop_info = 'NULL';
         $ctor_arginfo = '';
 
-        if ($class-&gt;def_type != 'interface') {
-            /* interfaces don't have these */
+        if ($class-&gt;def_type != 'interface' &amp;&amp; $class-&gt;def_type != 'pointer') {
+            /* interfaces and pointers don't have these */
             list($ctor_defs, $ctor_arginfo) = $this-&gt;write_constructor($class);
             $prop_info = $this-&gt;write_prop_handlers($class);
             list($create_func, $extra_reg_info) = \
$this-&gt;write_object_handlers($class); @@ -951,8 +974,12 @@
             }
         }
 
-        foreach ($this-&gt;parser-&gt;boxed as $object) {
-            $this-&gt;fp-&gt;write(sprintf(Templates::class_entry, $object-&gt;ce));
+        foreach ($this-&gt;parser-&gt;boxed as $boxed) {
+            $this-&gt;fp-&gt;write(sprintf(Templates::class_entry, $boxed-&gt;ce));
+        }
+
+        foreach ($this-&gt;parser-&gt;pointers as $pointer) {
+            $this-&gt;fp-&gt;write(sprintf(Templates::class_entry, $pointer-&gt;ce));
         }
 
         if ($this-&gt;parser-&gt;functions || $this-&gt;parser-&gt;enums) {
@@ -1162,6 +1189,8 @@
                                  'guint32'        =&gt; 'int',
                                  'gint32'         =&gt; 'int',
                                  
+                                 'gsize'          =&gt; 'int',
+                                 
                                  //all enumeration classes here
                                  //gtk enums
                                  'GtkAccelFlags'        =&gt; 'int',
@@ -1311,7 +1340,6 @@
                                  'GError'               =&gt; 'int',
                                  'GSList'               =&gt; 'int',
                                  'GValue'               =&gt; 'int',
-                                 
                                  'gpointer'             =&gt; 'int',
                                  
                                  'gboolean'       =&gt; 'bool',
Index: generator/templates.php
===================================================================
RCS file: /repository/php-gtk/generator/templates.php,v
retrieving revision 1.50
diff -u -r1.50 templates.php
--- generator/templates.php	3 Jun 2006 18:07:41 -0000	1.50
+++ generator/templates.php	19 Jun 2006 13:51:50 -0000
@@ -243,6 +243,9 @@
 const register_boxed = "
     %(ce) = phpg_register_boxed(\"%(class)\", %(methods), %(propinfo), \
%(create_func), %(typecode) TSRMLS_CC);\n%(extra_reg_info)";  
+const register_pointer = "
+    %(ce) = phpg_register_boxed(\"%(class)\", %(methods), NULL, %(create_func), \
%(typecode) TSRMLS_CC);\n%(extra_reg_info)"; +
 const register_interface = "
 	%(ce) = phpg_register_interface(\"%(class)\", %(methods), %(typecode) \
TSRMLS_CC);\n%(extra_reg_info)";  
@@ -278,6 +281,7 @@
 %s
 }\n";
 
+
 const register_enum = "\tphpg_register_%s(%s, strip_prefix, %s);\n";
 
 const reflection_arginfo_begin = "



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060621181150</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-21 18:11:50-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] a few new bits and bobs</subject><body>


Steph,

&gt; +override gdk_pixbuf_add_alpha
&gt; +    zend_bool substitute = TRUE;
&gt; +    if (ZEND_NUM_ARGS() &gt; 1) {
&gt; +    } else {
&gt; +        if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|b", &amp;substitute))
&gt; +            return;
&gt; +    }
&gt; +    pixbuf = gdk_pixbuf_add_alpha(GDK_PIXBUF(PHPG_GOBJECT(this_ptr)),
&gt; (gboolean)substitute, r, g, b);

This one is better, but needs substitute set to false whenever no
parameter is given, and not take a boolean parameter at all.

-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060621182405</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-21 18:24:05-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] I shouldn't code when I'm tired either...</subject><body>

OK, got ya, on it.

----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Wednesday, June 21, 2006 8:09 PM
Subject: Re: [PHP-GTK-DEV] I shouldn't code when I'm tired either...

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060621184852</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-21 18:48:52-0400</timestampReceived><subject>[PHP-GTK-DEV] Take #3 for add_alpha</subject><body>

OK, this is the way Chris intended it - but note that we can't do anything 
about the parameter-checking error messages, which will always say 3 
parameters are needed if you send anything at all. Needs docu.

- Steph


["gdkoverrides.txt" (text/plain)]

Index: ext/gtk+/gdk.overrides
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/gdk.overrides,v
retrieving revision 1.64
diff -u -r1.64 gdk.overrides
--- ext/gtk+/gdk.overrides	17 Jun 2006 18:43:55 -0000	1.64
+++ ext/gtk+/gdk.overrides	21 Jun 2006 18:31:15 -0000
@@ -1907,6 +1907,44 @@
 }
 
 %%
+add-arginfo GdkPixbuf add_alpha
+static
+ZEND_BEGIN_ARG_INFO_EX(ARGINFO_NAME, 0, 0, 0)
+    ZEND_ARG_INFO(0, red)
+    ZEND_ARG_INFO(0, green)
+    ZEND_ARG_INFO(0, blue)
+ZEND_END_ARG_INFO();
+
+%%
+override gdk_pixbuf_add_alpha
+PHP_METHOD
+{
+	int red, blue, green;
+	guchar r = 255, g = 255, b = 255;
+	GdkPixbuf* pixbuf;
+
+	NOT_STATIC_METHOD();
+
+	if (ZEND_NUM_ARGS() &gt; 0) {
+		if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "iii", &amp;red, &amp;green, &amp;blue))
+			return;
+		r = (guchar)red;
+		g = (guchar)green;
+		b = (guchar)blue;
+		pixbuf = gdk_pixbuf_add_alpha(GDK_PIXBUF(PHPG_GOBJECT(this_ptr)), 1, r, g, b);
+	} else {
+		if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
+			return;
+		pixbuf = gdk_pixbuf_add_alpha(GDK_PIXBUF(PHPG_GOBJECT(this_ptr)), 0, r, g, b);
+	}
+
+	if (pixbuf) {
+		phpg_gobject_new(&amp;return_value, (GObject *)pixbuf TSRMLS_CC);
+		g_object_unref(pixbuf);
+	}
+}
+
+%%
 override gdk_pixbuf_get_pixels
 PHP_METHOD
 {
@@ -2311,6 +2349,193 @@
 
 %% }}}
 
+%% {{{ GdkPixmap
+
+%%
+override gdk_pixmap_colormap_create_from_xpm
+PHP_METHOD
+{
+	zval *php_drawable, *php_trans_color, *php_colormap;
+	zval *ret_pixmap = NULL, *ret_mask = NULL;
+	gchar *filename;
+	zend_bool free_filename = FALSE;
+	GdkDrawable *drawable = NULL;
+	GdkColormap *colormap = NULL;
+	GdkColor *trans_color = NULL;
+	GdkPixmap *pixmap = NULL;
+	GdkBitmap *mask;
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "OOOu", &amp;php_drawable, gdkdrawable_ce,
+													 &amp;php_colormap, gdkcolormap_ce,
+													 &amp;php_trans_color, gdkcolor_ce,
+													 &amp;filename, &amp;free_filename)) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	drawable = GDK_DRAWABLE(PHPG_GOBJECT(php_drawable));
+	colormap = GDK_COLORMAP(PHPG_GOBJECT(php_colormap));
+	trans_color = (GdkColor *) PHPG_GBOXED(php_trans_color);
+
+	pixmap = gdk_pixmap_colormap_create_from_xpm(drawable, colormap, &amp;mask, trans_color, filename);
+	if (free_filename) g_free(filename);
+
+	if (!pixmap) {
+		php_error(E_WARNING, "%s() cannot load pixmap", get_active_function_name(TSRMLS_C));
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	phpg_gobject_new(&amp;ret_pixmap, (GObject*)pixmap TSRMLS_CC);
+	gdk_pixmap_unref(pixmap);
+
+	phpg_gobject_new(&amp;ret_mask, (GObject *)mask TSRMLS_CC);
+	gdk_bitmap_unref(mask);
+
+	php_gtk_build_value(&amp;return_value, "(NN)", ret_pixmap, ret_mask);
+}
+
+%%
+override gdk_pixmap_colormap_create_from_xpm_d
+PHP_METHOD
+{
+	zval *php_drawable, *php_colormap,
+		 *php_trans_color, *php_data;
+	zval *ret_pixmap = NULL, *ret_mask = NULL;
+	zval **line;
+	GdkDrawable *drawable = NULL;
+	GdkColormap *colormap = NULL;
+	GdkColor *trans_color = NULL;
+	GdkPixmap *pixmap = NULL;
+	GdkBitmap *mask;
+	char **data;
+	int len, i = 0;
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "OOOa", &amp;php_drawable, gdkdrawable_ce,
+													 &amp;php_colormap, gdkcolormap_ce,
+													 &amp;php_trans_color, gdkcolor_ce,
+													 &amp;php_data)) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	drawable = GDK_DRAWABLE(PHPG_GOBJECT(php_drawable));
+	colormap = GDK_COLORMAP(PHPG_GOBJECT(php_colormap));
+	trans_color = (GdkColor *) PHPG_GBOXED(php_trans_color);
+
+	len = zend_hash_num_elements(Z_ARRVAL_P(php_data));
+	data = emalloc(len * sizeof(char *));
+	for (zend_hash_internal_pointer_reset(Z_ARRVAL_P(php_data));
+		 zend_hash_get_current_data(Z_ARRVAL_P(php_data), (void **)&amp;line) == SUCCESS;
+		 zend_hash_move_forward(Z_ARRVAL_P(php_data))) {
+		convert_to_string_ex(line);
+		data[i++] = Z_STRVAL_PP(line);
+	}
+
+	pixmap = gdk_pixmap_colormap_create_from_xpm_d(drawable, colormap, &amp;mask, trans_color, data);
+	efree(data);
+
+	if (!pixmap) {
+		php_error(E_WARNING, "%s() cannot load pixmap", get_active_function_name(TSRMLS_C));
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	phpg_gobject_new(&amp;ret_pixmap, (GObject*)pixmap TSRMLS_CC);
+	gdk_pixmap_unref(pixmap);
+
+	phpg_gobject_new(&amp;ret_mask, (GObject *)mask TSRMLS_CC);
+	gdk_bitmap_unref(mask);
+
+	php_gtk_build_value(&amp;return_value, "(NN)", ret_pixmap, ret_mask);
+}
+
+%%
+override gdk_pixmap_create_from_xpm
+PHP_METHOD
+{
+	zval *php_drawable, *php_trans_color;
+	zval *ret_pixmap = NULL, *ret_mask = NULL;
+	gchar *filename;
+	zend_bool free_filename = FALSE;
+	GdkDrawable *drawable = NULL;
+	GdkColor *trans_color = NULL;
+	GdkPixmap *pixmap = NULL;
+	GdkBitmap *mask;
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "OOu", &amp;php_drawable, gdkdrawable_ce,
+													&amp;php_trans_color, gdkcolor_ce,
+													&amp;filename, &amp;free_filename)) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	drawable = GDK_DRAWABLE(PHPG_GOBJECT(php_drawable));
+	trans_color = (GdkColor *) PHPG_GBOXED(php_trans_color);
+
+	pixmap = gdk_pixmap_create_from_xpm(drawable, &amp;mask, trans_color, filename);
+	if (free_filename) g_free(filename);
+
+	if (!pixmap) {
+		php_error(E_WARNING, "%s() cannot load pixmap", get_active_function_name(TSRMLS_C));
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	phpg_gobject_new(&amp;ret_pixmap, (GObject*)pixmap TSRMLS_CC);
+	gdk_pixmap_unref(pixmap);
+
+	phpg_gobject_new(&amp;ret_mask, (GObject *)mask TSRMLS_CC);
+	gdk_bitmap_unref(mask);
+
+	php_gtk_build_value(&amp;return_value, "(NN)", ret_pixmap, ret_mask);
+}
+
+%%
+override gdk_pixmap_create_from_xpm_d
+PHP_METHOD
+{
+	zval *php_drawable, *php_trans_color, *php_data;
+	zval *ret_pixmap = NULL, *ret_mask = NULL;
+	zval **line;
+	GdkDrawable *drawable = NULL;
+	GdkColor *trans_color = NULL;
+	GdkPixmap *pixmap = NULL;
+	GdkBitmap *mask;
+	char **data;
+	int len, i = 0;
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "OOa", &amp;php_drawable, gdkdrawable_ce,
+													&amp;php_trans_color, gdkcolor_ce,
+													&amp;php_data)) {
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	drawable = GDK_DRAWABLE(PHPG_GOBJECT(php_drawable));
+	trans_color = (GdkColor *) PHPG_GBOXED(php_trans_color);
+
+	len = zend_hash_num_elements(Z_ARRVAL_P(php_data));
+	data = emalloc(len * sizeof(char *));
+	for (zend_hash_internal_pointer_reset(Z_ARRVAL_P(php_data));
+		 zend_hash_get_current_data(Z_ARRVAL_P(php_data), (void **)&amp;line) == SUCCESS;
+		 zend_hash_move_forward(Z_ARRVAL_P(php_data))) {
+		convert_to_string_ex(line);
+		data[i++] = Z_STRVAL_PP(line);
+	}
+
+	pixmap = gdk_pixmap_create_from_xpm_d(drawable, &amp;mask, trans_color, data);
+	efree(data);
+
+	if (!pixmap) {
+		php_error(E_WARNING, "%s() cannot load pixmap", get_active_function_name(TSRMLS_C));
+		PHPG_THROW_CONSTRUCT_EXCEPTION(GdkPixmap);
+	}
+
+	phpg_gobject_new(&amp;ret_pixmap, (GObject*)pixmap TSRMLS_CC);
+	gdk_pixmap_unref(pixmap);
+
+	phpg_gobject_new(&amp;ret_mask, (GObject *)mask TSRMLS_CC);
+	gdk_bitmap_unref(mask);
+
+	php_gtk_build_value(&amp;return_value, "(NN)", ret_pixmap, ret_mask);
+}
+
+%% }}}
+
 %% {{{ GdkRectangle
 
 %%



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060622023509</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-22 02:35:09-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Changelog?</subject><body>

Fixed.

-Andrei


On Jun 14, 2006, at 11:40 PM, Christian Weiske wrote:

&gt; Hello all,
&gt;
&gt; Seems the Changelog doesn't update itself anymore. Can somebody fix  
&gt; that?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060624174354</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-24 17:43:54-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] set_visible_func()</subject><body>

Yeah, I get them all the time too. Not sure where they are coming  
from, but since it's only during generation, I don't really care. You  
can investigate if you want to. My guess is that they are related to  
serialization/deserialization of objects.

-Andrei


On Jun 12, 2006, at 6:12 AM, Christian Weiske wrote:

&gt;&gt;&gt; I'm also getting a lot of leaks with your magnifier.php script.  
&gt;&gt;&gt; Did  you
&gt;&gt;&gt; see them?
&gt; By the way, I get a mass of leaks in the generator script, e.g. for  
&gt; Gtk:
&gt;&gt; Last leak repeated 758 times
&gt;&gt; === Total 8370 memory leaks detected ===
&gt;
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060624174743</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-24 17:47:43-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] E_STRICT renamings</subject><body>

I have no idea why it's checking for this. I thought it should only  
do it for interfaces. Marcus?

-Andrei


On Jun 11, 2006, at 11:12 PM, Christian Weiske wrote:

&gt; Hello all,
&gt;
&gt;
&gt; Since there is no way of using optional parameters to satisfy the zend
&gt; engine causing it not to complain, I vote for renaming the methods:
&gt;
&gt;&gt; PHP Strict Standards:  Declaration of GtkToolbar::set_style() should
&gt;&gt; be compatible with that of GtkWidget::set_style() in Unknown on  
&gt;&gt; line 0
&gt; GtkToolbar::set_style() -&gt; GtkToolbar::set_toolbar_style()
&gt;
&gt;&gt; PHP Strict Standards:  Declaration of GtkMenu::set_accel_path()  
&gt;&gt; should
&gt;&gt; be compatible with that of GtkWidget::set_accel_path() in Unknown on
&gt;&gt; line 0
&gt; GtkMenu::set_accel_path() -&gt; GtkMenu::set_menu_accel_path()
&gt;
&gt;&gt; PHP Strict Standards:  Declaration of GtkWindow::mnemonic_activate()
&gt;&gt; should be compatible with that of GtkWidget::mnemonic_activate() in
&gt;&gt; Unknown on line 0
&gt; GtkWindow::mnemonic_activate() -&gt;  
&gt; GtkWindow::window_mnemonic_activate()
&gt;
&gt;&gt; PHP Strict Standards:  Declaration of GtkMenuItem::set_accel_path()
&gt;&gt; should be compatible with that of GtkWidget::set_accel_path() in
&gt;&gt; Unknown on line 0
&gt; GtkMenuItem::set_accel_path() -&gt;  
&gt; GtkMenuItem::set_menuitem_accel_path()
&gt;
&gt;&gt; PHP Strict Standards:  Declaration of GtkStatusbar::remove() should
&gt;&gt; be compatible with that of GtkContainer::remove() in Unknown on  
&gt;&gt; line 0
&gt; GtkStatusbar::remove() -&gt; GtkStatusbar::remove_message()
&gt;
&gt;&gt; PHP Strict Standards:  Declaration of GtkCList::remove() should be
&gt;&gt; compatible with that of GtkContainer::remove() in Unknown on line 0
&gt; GtkCList::remove() -&gt; GtkCList::remove_row()
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060624181448</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-24 18:14:48-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] new GtkTreeModelFilter() vs. GtkTreeModel::filter_new()</subject><body>

We had this discussion before, but since I can't even remember why we did, 
what the arguments were or what the outcome was I guess your head's safe for 
now :)

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Saturday, June 24, 2006 7:43 PM
Subject: Re: [PHP-GTK-DEV] new GtkTreeModelFilter() vs. 
GtkTreeModel::filter_new()


&gt;I don't think we need filter_new(). Of course, Steph might bite my  head 
&gt;off for not conforming to Gtk+ API precisely, but that's a risk  I'm 
&gt;willing to take. :)
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Jun 12, 2006, at 10:04 AM, Christian Weiske wrote:
&gt;
&gt;&gt; Hello all,
&gt;&gt;
&gt;&gt;
&gt;&gt; You might have noticed that there was a little confusion on my side
&gt;&gt; about the question how to instatiate GtkTreeModelFilter.
&gt;&gt;
&gt;&gt; I committed the patch for the constructor some days ago. It requires a
&gt;&gt; model and a path as parameter.
&gt;&gt;
&gt;&gt; Unfortunately (or luckily), GtkTreeModel::filter_new did also exist.
&gt;&gt; Both use the same implementation currently (causing the latter to  fail),
&gt;&gt; and I want to ask if we just want to drop the second or keep it.
&gt;&gt; If we want to keep it, I need to add a working implementation of
&gt;&gt; GtkTreeModel::filter_new.
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060628162802</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-28 16:28:02-0400</timestampReceived><subject>[PHP-GTK-DEV] Manual notes</subject><body>


Steph,


Do you have any new code sitting on your foxbox that allows storing the
notes in a sqlite db? Has a decision be made if we want to continue
using mysql or switch to sqlite?

What is missing? A folder to place the sqlite file in? A way to backup
the file?

--=20
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060628195629</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-28 19:56:29-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Manual notes</subject><body>

Christian, hi,

I spent two days researching and one day coding so far, and it's coming 
together pretty nicely.

Given that the phpdoc manual notes have been off-line for the last two weeks 
thanks to spam attacks and our current code is based on theirs five years 
ago(!), I think you'll understand why I started from scratch here. I've a 
lot of changes to make, and not only in that single area. Auth, for example, 
needs revising too (I have something towards that already).

It's going to take a few more days to test it locally and make sure 
everything works, and I've no way to test the systems side of things at all 
so _that_ part will need to wait until Andrei's free to work with me 
(probably weekend).

- Steph


----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Wednesday, June 28, 2006 6:28 PM
Subject: [PHP-GTK-DEV] Manual notes

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060625073006</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-25 07:30:06-0400</timestampReceived><subject>[PHP-GTK-DEV] gah</subject><body>

I only just noticed this...

Warning: GtkCTree::is_ancestor() expects argument 1 to be GPointer, 
GtkCTreeNode given in C:\php5\bug.php on line 102

thrown by:

$parent = $ctree-&gt;insert_node(null, null, $text, 5, $pixmap1, $bitmap1, 
$pixmap2, $bitmap2, 0, 1);
$next = $ctree-&gt;insert_node($parent, null, $text, 5, $pixmap3, $bitmap3, 
$pixmap1, $bitmap2, 0, 0);
print $ctree-&gt;is_ancestor($parent, $next);

:(

So it seems we actually need to have those CE's matching up after all, 
because this worked as advertised before. (NB I'm not sure why it isn't 
'just working' now.)


- Steph 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060625081450</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-25 08:14:50-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: gah</subject><body>

?

That's generated stuff, not something I've done to it. It just fails now.

&gt; No we don't. Not if GtkCTreeNode inherits from GPointer.
&gt; 
&gt; -Andrei
&gt; 
&gt; 
&gt; On Jun 25, 2006, at 12:30 AM, Steph Fox wrote:
&gt; 
&gt;&gt; I only just noticed this...
&gt;&gt;
&gt;&gt; Warning: GtkCTree::is_ancestor() expects argument 1 to be GPointer,  
&gt;&gt; GtkCTreeNode given in C:\php5\bug.php on line 102
&gt;&gt;
&gt;&gt; thrown by:
&gt;&gt;
&gt;&gt; $parent = $ctree-&gt;insert_node(null, null, $text, 5, $pixmap1,  
&gt;&gt; $bitmap1, $pixmap2, $bitmap2, 0, 1);
&gt;&gt; $next = $ctree-&gt;insert_node($parent, null, $text, 5, $pixmap3,  
&gt;&gt; $bitmap3, $pixmap1, $bitmap2, 0, 0);
&gt;&gt; print $ctree-&gt;is_ancestor($parent, $next);
&gt;&gt;
&gt;&gt; :(
&gt;&gt;
&gt;&gt; So it seems we actually need to have those CE's matching up after  
&gt;&gt; all, because this worked as advertised before. (NB I'm not sure why  
&gt;&gt; it isn't 'just working' now.)
&gt;&gt;
&gt;&gt;
&gt;&gt; - Steph
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060625082033</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-25 08:20:33-0400</timestampReceived><subject>[PHP-GTK-DEV] meantime, back at the ranch...</subject><body>

Things got a little better since I started efreeing the wretched 
alignment/position pointers. This is what happens when running both tests 
from last time now:

C:\sandbox\php-gtk\main\php_gtk_util.c(738) :  Freeing 0x00B396C0 (32 
bytes), script=bug.php
c:\sandbox\php5\zend\zend_hash.c(169) : Actual location (location was 
relayed)
Last leak repeated 3 times
C:\sandbox\php-gtk\main\php_gtk_util.c(742) :  Freeing 0x00B347E8 (35 
bytes), script=bug.php
c:\sandbox\php5\zend\zend_hash.c(383) : Actual location (location was 
relayed)
Last leak repeated 5 times
=== Total 10 memory leaks detected ===

The remaining leaks both come somewhere during the call to 
php_gtk_array_as_hash() during varargs parsing.

Apart from that everything there's working properly now, correct values 
returned et al. And there's another, thankfully non-problematic method in 
this patch (get_tab()).

- Steph 

["pango.txt" (text/plain)]

Index: ext/gtk+/pango.overrides
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/pango.overrides,v
retrieving revision 1.7
diff -u -r1.7 pango.overrides
--- ext/gtk+/pango.overrides	31 Jul 2005 10:14:44 -0000	1.7
+++ ext/gtk+/pango.overrides	25 Jun 2006 08:11:41 -0000
@@ -11,6 +11,10 @@
     *_get_type
 
 %%
+ignore
+    pango_tab_array_new_with_positions
+
+%%
 override pango_color_parse
 PHP_METHOD
 {
@@ -70,3 +74,91 @@
                         ink.height, logical.x, logical.y, logical.width,
                         logical.height);
 }
+
+%%
+override pango_tab_array_new
+PHP_METHOD
+{
+    zval *user_args = NULL, *php_first_alignment = NULL;
+    zval **position, **alignment;
+    PangoTabAlign first_alignment, current_alignment;
+    gint first_position = 0, i = 0, size = 0;
+    zend_bool positions_in_pixels = FALSE;
+    phpg_gboxed_t *pobj = NULL;
+
+    if (ZEND_NUM_ARGS() &gt; 2) {
+        if (!php_gtk_parse_varargs(ZEND_NUM_ARGS(), 3, &amp;user_args, "bVi", \
&amp;positions_in_pixels, &amp;php_first_alignment, &amp;first_position)) { +            \
PHPG_THROW_CONSTRUCT_EXCEPTION(PangoTabArray); +        }
+    } else {
+        if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|bVi", &amp;positions_in_pixels, \
&amp;php_first_alignment, &amp;first_position)) { +            \
PHPG_THROW_CONSTRUCT_EXCEPTION(PangoTabArray); +        }
+    }
+
+    if (php_first_alignment &amp;&amp; phpg_gvalue_get_enum(PANGO_TYPE_TAB_ALIGN, \
php_first_alignment, (gint *)&amp;first_alignment) == FAILURE) { +        \
PHPG_THROW_CONSTRUCT_EXCEPTION(PangoTabArray); +    }
+
+    pobj = zend_object_store_get_object(this_ptr TSRMLS_CC);
+    pobj-&gt;gtype = PANGO_TYPE_TAB_ARRAY;
+
+    if (ZEND_NUM_ARGS() &lt; 3) {
+        pobj-&gt;boxed = pango_tab_array_new(size, positions_in_pixels);
+    } else if (ZEND_NUM_ARGS() == 3) {
+        size = 1;
+        pobj-&gt;boxed = pango_tab_array_new_with_positions(size, positions_in_pixels, \
first_alignment, first_position); +    } else {
+
+        if (zend_hash_num_elements(Z_ARRVAL_P(user_args)) % 2) {
+            php_error(E_WARNING, "PangoTabArray::new_with_positions(): argument list \
should consist of alignment/position pairs"); +            \
PHPG_THROW_CONSTRUCT_EXCEPTION(PangoTabArray); +        }
+
+        size = (zend_hash_num_elements(Z_ARRVAL_P(user_args)) / 2) + 1;
+        pobj-&gt;boxed = pango_tab_array_new_with_positions(size, positions_in_pixels, \
first_alignment, first_position); +
+        zend_hash_internal_pointer_reset(Z_ARRVAL_P(user_args));
+        while (zend_hash_get_current_data(Z_ARRVAL_P(user_args), (void \
**)&amp;alignment) == SUCCESS) { +            \
zend_hash_move_forward(Z_ARRVAL_P(user_args)); +            \
zend_hash_get_current_data(Z_ARRVAL_P(user_args), (void **)&amp;position); +            \
zend_hash_move_forward(Z_ARRVAL_P(user_args)); +
+            if (phpg_gvalue_get_enum(PANGO_TYPE_TAB_ALIGN, *alignment, (gint \
*)&amp;current_alignment) == FAILURE || Z_TYPE_PP(position) != IS_LONG) { +               \
php_error(E_WARNING, "PangoTabArray::new_with_positions(): each alignment/position \
pair has to be PangoTabAlign/number"); +                \
PHPG_THROW_CONSTRUCT_EXCEPTION(PangoTabArray); +            }
+
+            i++;
+            pango_tab_array_set_tab(pobj-&gt;boxed, i, current_alignment, \
Z_LVAL_PP(position)); +            efree(*alignment);
+            efree(*position);
+        }
+        efree(user_args);
+    }
+    if (!pobj-&gt;boxed) {
+        PHPG_THROW_CONSTRUCT_EXCEPTION(PangoTabArray);
+    }
+    pobj-&gt;free_on_destroy = TRUE;
+}
+
+%%
+override pango_tab_array_get_tab
+PHP_METHOD
+{
+    gint tab_index, location, size;
+    PangoTabAlign alignment;
+
+    NOT_STATIC_METHOD();
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "i", &amp;tab_index))
+        return;
+
+    size = pango_tab_array_get_size((PangoTabArray *)PHPG_GBOXED(this_ptr));
+    if (tab_index &gt;= size) {
+        PHPG_THROW_EXCEPTION(phpg_generic_exception, "PangoTabArray::get_tab(): the \
requested index is greater than the size of the array"); +    }
+
+    pango_tab_array_get_tab((PangoTabArray *)PHPG_GBOXED(this_ptr), tab_index, \
&amp;alignment, &amp;location); +    php_gtk_build_value(&amp;return_value, "(ii)", alignment, \
location); +}



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060625173655</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-25 17:36:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [PATCH] a bit of Pango</subject><body>

Can we please get the notes working and the rest of the stuff done  
for the alpha? I don't remember us saying that we need to have all  
the constructors working for alpha.

-Andrei


On Jun 24, 2006, at 4:30 PM, Steph Fox wrote:

&gt; More stuff, except I can't find a way to kill these memleaks.... if  
&gt; you can, we only have two constructors left to write. Note that  
&gt; leaks only occur if varargs come into the equation, I don't see any  
&gt; if I just have new PangoTabArray(true, Pango::TAB_LEFT, 0);
&gt;
&gt; My best guess is it's string-related... Any clue?
&gt;
&gt; $tab_array2 = new PangoTabArray(true, Pango::TAB_LEFT, 0,  
&gt; Pango::TAB_LEFT, 30);
&gt; ====================================================================== 
&gt; =========
&gt; c:\sandbox\php-gtk\main\php_gtk_util.c(738) :  Freeing 0x00B36AE8  
&gt; (32 bytes), script=bug.php
&gt; c:\sandbox\php5\zend\zend_hash.c(169) : Actual location (location  
&gt; was relayed)
&gt; Last leak repeated 1 time
&gt; c:\sandbox\php5\zend\zend_vm_execute.h(1766) :  Freeing 0x00B36968  
&gt; (16 bytes), script=bug.php
&gt; c:\sandbox\php5\zend\zend_vm_execute.h(4190) :  Freeing 0x00B36910  
&gt; (16 bytes), script=bug.php
&gt; c:\sandbox\php-gtk\main\php_gtk_util.c(742) :  Freeing 0x00B32020  
&gt; (35 bytes), script=bug.php
&gt; c:\sandbox\php5\zend\zend_hash.c(383) : Actual location (location  
&gt; was relayed)
&gt; Last leak repeated 1 time
&gt; === Total 6 memory leaks detected ===
&gt;
&gt;
&gt; $tab_array3 = new PangoTabArray(true, Pango::TAB_LEFT, 20,  
&gt; Pango::TAB_LEFT, 30, Pango::TAB_LEFT, 50);
&gt; ====================================================================== 
&gt; ===============================
&gt; c:\sandbox\php-gtk\main\php_gtk_util.c(738) :  Freeing 0x00B36E60  
&gt; (32 bytes), script=bug.php
&gt; c:\sandbox\php5\zend\zend_hash.c(169) : Actual location (location  
&gt; was relayed)
&gt; Last leak repeated 1 time
&gt; c:\sandbox\php5\zend\zend_vm_execute.h(1766) :  Freeing 0x00B36C78  
&gt; (16 bytes), script=bug.php
&gt; Last leak repeated 1 time
&gt; c:\sandbox\php5\zend\zend_vm_execute.h(4190) :  Freeing 0x00B36C20  
&gt; (16 bytes), script=bug.php
&gt; Last leak repeated 1 time
&gt; c:\sandbox\php-gtk\main\php_gtk_util.c(742) :  Freeing 0x00B32280  
&gt; (35 bytes), script=bug.php
&gt; c:\sandbox\php5\zend\zend_hash.c(383) : Actual location (location  
&gt; was relayed)
&gt; Last leak repeated 3 times
&gt; === Total 10 memory leaks detected ===
&gt;
&gt;
&gt; $tab_array2 = new PangoTabArray(true, Pango::TAB_LEFT, 0,  
&gt; Pango::TAB_LEFT, 30);
&gt; $tab_array3 = new PangoTabArray(true, Pango::TAB_LEFT, 20,  
&gt; Pango::TAB_LEFT, 30, Pango::TAB_LEFT, 50);
&gt; ====================================================================== 
&gt; ===============================
&gt; c:\sandbox\php-gtk\main\php_gtk_util.c(738) :  Freeing 0x00B37D50  
&gt; (32 bytes), script=bug.php
&gt; c:\sandbox\php5\zend\zend_hash.c(169) : Actual location (location  
&gt; was relayed)
&gt; Last leak repeated 3 times
&gt; c:\sandbox\php5\zend\zend_vm_execute.h(1766) :  Freeing 0x00B37B68  
&gt; (16 bytes), script=bug.php
&gt; Last leak repeated 2 times
&gt; c:\sandbox\php5\zend\zend_vm_execute.h(4190) :  Freeing 0x00B37B10  
&gt; (16 bytes), script=bug.php
&gt; Last leak repeated 2 times
&gt; c:\sandbox\php-gtk\main\php_gtk_util.c(742) :  Freeing 0x00B32DC8  
&gt; (35 bytes), script=bug.php
&gt; c:\sandbox\php5\zend\zend_hash.c(383) : Actual location (location  
&gt; was relayed)
&gt; Last leak repeated 5 times
&gt; === Total 16 memory leaks detected ===
&gt; &lt;pango.txt&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060625182719</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-25 18:27:19-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] release or alpha?</subject><body>

What happened?

-Andrei


On Jun 25, 2006, at 2:37 AM, Christian Weiske wrote:

&gt;
&gt; Btw, it's hard to code with just one hand.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060625213012</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-06-25 21:30:12-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /main php_gtk.h phpg_gpointer.c</subject><body>

critical 'this is not a class' errors.


&gt; What errors?
&gt; 
&gt; -Andrei
&gt; 
&gt; 
&gt; On Jun 25, 2006, at 11:28 AM, Steph Fox wrote:
&gt; 
&gt;&gt; Now you've caught up...
&gt;&gt;
&gt;&gt; I thought that too, but actually I got gtk errors when I went that  
&gt;&gt; route. You tell me.
&gt;&gt;
&gt;&gt; 6 LOC is hardly excessive anyway :)
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; What was wrong with simply adding gpointer_ce to the parent slot  
&gt;&gt;&gt; in templates? I mean, this works, but it's just extra code..
&gt;&gt;&gt;
&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Jun 25, 2006, at 3:47 AM, Steph Fox wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Andrei,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; If you don't like this solution (or something very close to it)   
&gt;&gt;&gt;&gt; we're stuck with naming the ce for pointers. I'm easy either  
&gt;&gt;&gt;&gt; way,  so long as it works ;)
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; - Steph
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; ----- Original Message ----- From: "Steph Fox" &lt;sfox@php.net&gt;
&gt;&gt;&gt;&gt; To: &lt;php-gtk-cvs@lists.php.net&gt;
&gt;&gt;&gt;&gt; Sent: Sunday, June 25, 2006 12:47 PM
&gt;&gt;&gt;&gt; Subject: [php-gtk-cvs] cvs: php-gtk /main php_gtk.h phpg_gpointer.c
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; sfox Sun Jun 25 10:47:26 2006 UTC
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;  Modified files:
&gt;&gt;&gt;&gt;&gt;    /php-gtk/main php_gtk.h phpg_gpointer.c
&gt;&gt;&gt;&gt;&gt;  Log:
&gt;&gt;&gt;&gt;&gt;  Give GPointer types something to hold onto...
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; http://cvs.php.net/viewvc.cgi/php-gtk/main/php_gtk.h?  
&gt;&gt;&gt;&gt;&gt; r1=1.132&amp;r2=1.133&amp;diff_format=u
&gt;&gt;&gt;&gt;&gt; Index: php-gtk/main/php_gtk.h
&gt;&gt;&gt;&gt;&gt; diff -u php-gtk/main/php_gtk.h:1.132 php-gtk/main/php_gtk.h:1.133
&gt;&gt;&gt;&gt;&gt; --- php-gtk/main/php_gtk.h:1.132 Fri Jun 23 04:11:49 2006
&gt;&gt;&gt;&gt;&gt; +++ php-gtk/main/php_gtk.h Sun Jun 25 10:47:26 2006
&gt;&gt;&gt;&gt;&gt; @@ -18,7 +18,7 @@
&gt;&gt;&gt;&gt;&gt;  * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA    
&gt;&gt;&gt;&gt;&gt; 02111-1307 USA
&gt;&gt;&gt;&gt;&gt;  */
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -/* $Id: php_gtk.h,v 1.132 2006/06/23 04:11:49 andrei Exp $: */
&gt;&gt;&gt;&gt;&gt; +/* $Id: php_gtk.h,v 1.133 2006/06/25 10:47:26 sfox Exp $: */
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; #ifndef _PHP_GTK_H
&gt;&gt;&gt;&gt;&gt; #define _PHP_GTK_H
&gt;&gt;&gt;&gt;&gt; @@ -476,6 +476,7 @@
&gt;&gt;&gt;&gt;&gt; /* GPointer */
&gt;&gt;&gt;&gt;&gt; void phpg_gpointer_register_self(TSRMLS_D);
&gt;&gt;&gt;&gt;&gt; PHP_GTK_API void phpg_gpointer_new(zval **zobj, GType gtype,   
&gt;&gt;&gt;&gt;&gt; gpointer pointer TSRMLS_DC);
&gt;&gt;&gt;&gt;&gt; +PHP_GTK_API zend_class_entry* phpg_register_pointer(const char  
&gt;&gt;&gt;&gt;&gt; *class_name, function_entry *class_methods, create_object_func_t  
&gt;&gt;&gt;&gt;&gt; create_obj_func, GType gtype TSRMLS_DC);
&gt;&gt;&gt;&gt;&gt; PHP_GTK_API zend_object_value phpg_create_gpointer  
&gt;&gt;&gt;&gt;&gt; (zend_class_entry *ce TSRMLS_DC);
&gt;&gt;&gt;&gt;&gt; PHP_GTK_API zend_bool phpg_gpointer_check(zval *zobj, GType  
&gt;&gt;&gt;&gt;&gt; gtype, zend_bool full_check TSRMLS_DC);
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; http://cvs.php.net/viewvc.cgi/php-gtk/main/phpg_gpointer.c?  
&gt;&gt;&gt;&gt;&gt; r1=1.5&amp;r2=1.6&amp;diff_format=u
&gt;&gt;&gt;&gt;&gt; Index: php-gtk/main/phpg_gpointer.c
&gt;&gt;&gt;&gt;&gt; diff -u php-gtk/main/phpg_gpointer.c:1.5 php-gtk/main/  
&gt;&gt;&gt;&gt;&gt; phpg_gpointer.c:1.6
&gt;&gt;&gt;&gt;&gt; --- php-gtk/main/phpg_gpointer.c:1.5 Fri Jun 23 04:11:49 2006
&gt;&gt;&gt;&gt;&gt; +++ php-gtk/main/phpg_gpointer.c Sun Jun 25 10:47:26 2006
&gt;&gt;&gt;&gt;&gt; @@ -49,6 +49,16 @@
&gt;&gt;&gt;&gt;&gt; }
&gt;&gt;&gt;&gt;&gt; /* }}} */
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; +/* {{{ PHP_GTK_API phpg_register_pointer() */
&gt;&gt;&gt;&gt;&gt; +PHP_GTK_API zend_class_entry* phpg_register_pointer(const char  
&gt;&gt;&gt;&gt;&gt; *class_name,
&gt;&gt;&gt;&gt;&gt; +                                                   
&gt;&gt;&gt;&gt;&gt; function_entry *class_methods,
&gt;&gt;&gt;&gt;&gt; +                                                    
&gt;&gt;&gt;&gt;&gt; create_object_func_t create_obj_func,
&gt;&gt;&gt;&gt;&gt; +                                                  GType gtype  
&gt;&gt;&gt;&gt;&gt; TSRMLS_DC)
&gt;&gt;&gt;&gt;&gt; +{
&gt;&gt;&gt;&gt;&gt; +    return phpg_register_class(class_name, class_methods,   
&gt;&gt;&gt;&gt;&gt; gpointer_ce, 0, NULL, create_obj_func ? create_obj_func :   
&gt;&gt;&gt;&gt;&gt; phpg_create_gpointer, gtype TSRMLS_CC);
&gt;&gt;&gt;&gt;&gt; +}
&gt;&gt;&gt;&gt;&gt; +/* }}} */
&gt;&gt;&gt;&gt;&gt; +
&gt;&gt;&gt;&gt;&gt; /* {{{ PHP_GTK_API phpg_create_gpointer() */
&gt;&gt;&gt;&gt;&gt; PHP_GTK_API zend_object_value phpg_create_gpointer  
&gt;&gt;&gt;&gt;&gt; (zend_class_entry *ce TSRMLS_DC)
&gt;&gt;&gt;&gt;&gt; {
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt; PHP-GTK CVS Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060626124527</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-06-26 12:45:27-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Alpha?</subject><body>

Steph Fox wrote:
&gt; It needs updating - this has been fixed now, and people building current 
&gt; PHP-GTK src against PHP won't see the crash regardless of their PHP 
&gt; version.

Updated and committed along with README.

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060628200329</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-06-28 20:03:29-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Manual notes</subject><body>

Steph,

&gt; It's going to take a few more days to test it locally and make sure
&gt; everything works, and I've no way to test the systems side of things at
Thanks for the status update.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060630011137</emailId><senderName>"k. chin"</senderName><senderEmail>h@g</senderEmail><timestampReceived>2006-06-30 01:11:37-0400</timestampReceived><subject>[PHP-GTK-DEV]         -</subject><body>

         -   
                      0.69 - 0.99%  
                            
                           

                                           
                          - // 
-      
-    6 
- 
 
    -      (0.69 - 0.99%/)
    -   5    1,500,000 
    -    12 - 60   
    -     0.25% 
    -   1      
 
                  1.  
                   -   
                   -  
                   -    
                   -   
                   -       

  
-    
-   2
-  
               -    () 

                   2.   
                  -    10,000  15,000 ./ 
                  -    20,000 ./ 
                  -   (1%)
                  -   5    1,500,000 
                  -    1  - 5 
                  -     0.25%-1%
 
                      
                o    
                o  (2) 
                o    3 () 
                o  .-- 
                o   ()
                   
                    3. ( -.-.)
                          -            
                          -           (6)
                      -        6 
                          -           .
                -        ()

                                                  
     	 ..1 .	    ....2 .	    .3 .	    .4 .	    .5 .
 ..30,000..      	  ..2,780	    .1,530	    ..1,120	     ..920	     ..800
 ..75,000..      	  ..6,920	    .3,790	    ..2,750	    ..2,250	    ..1,950
 100,000..      	  ..9,170	    .5,000	    ..3,620	    ..2,940	    ..2,540
 200,000..    	 .18,250	    .9,890	    .7,140	    ..5,780	    ..4,980
 300,000..      	 .27,220	   14,690	   10,550	    .8,510	    ..7,300
 500,000..      	 .45,130	   24,250	   17,340	   13,920	   11,900
 700,000..      	 .63,190	   33,950	   24,270	   19,490	   16,660
 1,000,000   	 .90,260	   48,490	   34,670	   27,840	   23,790
 1,500,000   	135,390	   72,730	   52,000	   41,750	   35,690

                :   
 
 k. chin  06-7815050, 03-7797261
pkhotboom@yahoo.com
   

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060509070834</emailId><senderName>Adrian Snyman</senderName><senderEmail>adrians@supply-chain.co.za</senderEmail><timestampReceived>2006-05-09 07:08:34-0400</timestampReceived><subject>[PHP-GTK-DEV] Spam on list ..</subject><body>

I thought this list was a closed list ?


-- 
Regards,
Adrian Snyman
Tel: (083)647-5299
JabberID: MadX@jabberafrica.org

/*
Disclaimer - These opiini^H^H damn! ^H^H ^Q ^[ .. :w :q :wq :wq! ^d X^? exit X 
Q ^C ^c ^? :quitbye CtrlAltDel ~~q :~q logout save/quit :!QUIT ^[zz ^[ZZZZZZ 
^H man vi ^@ ^L ^[c ^# ^E ^X ^I ^T ? help helpquit ^D ^d man help ^C 
exit ?Quit ?q CtrlShftDel "Hey, what does this button d..."
*/
==================
Please read our Email Disclaimer :
http://www.supply-chain.co.za/disclaimer.html

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060515054527</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-15 05:45:27-0400</timestampReceived><subject>[PHP-GTK-DEV] E_STRICT and PHP-Gtk2</subject><body>


Hi all,


When enabling E_STRICT in error_reporting of php.ini, I get the
following notices:

PHP Strict Standards:  Declaration of GtkToolbar::set_style() should be
compatible with that of GtkWidget::set_style() in Unknown on line 0
PHP Strict Standards:  Declaration of GtkMenu::set_accel_path() should
be compatible with that of GtkWidget::set_accel_path() in Unknown on line 0
PHP Strict Standards:  Declaration of GtkWindow::mnemonic_activate()
should be compatible with that of GtkWidget::mnemonic_activate() in
Unknown on line 0
PHP Strict Standards:  Declaration of GtkMenuItem::set_accel_path()
should be compatible with that of GtkWidget::set_accel_path() in Unknown
on line 0
PHP Strict Standards:  Declaration of GtkStatusbar::remove() should be
compatible with that of GtkContainer::remove() in Unknown on line 0
PHP Strict Standards:  Declaration of GtkCList::remove() should be
compatible with that of GtkContainer::remove() in Unknown on line 0


GtkToolbar::set_style() takes an enum GtkToolbarStyle instead of a
GtkStyle and thus overrides the GtkWidget::set_style(), not allowing
access to this method. I think we should rename GtkToolbar::set_style()
to set_toolbar_style().

The same is here:
&gt; GtkMenu::set_accel_path(accel_path);
&gt; GtkWidget::set_accel_path(accel_path, GtkAccelGroup accel_group);
GtkMenu's accel path doesn't take the second parameter.
We could either rename it to set_menu_accel_path() or make the second
parameter optional, calling the GtkWidget method if the second parameter
is given.


&gt; GtkWindow::mnemonic_activate(keyval, GdkModifierType modifier);
&gt; GtkWidget::mnemonic_activate(group_cycling);
The GtkWindow one does activate the mnemonic given in the parameters,
while the GtkWidget one just tells the widget that it has been activated
by a mnemonic. So we could rename the GtkWidget method to
mnemonic_activated()


&gt; GtkMenuItem::set_accel_path(accel_path);
&gt; GtkWidget::set_accel_path(accel_path, GtkAccelGroup accel_group);
Same as for GtkMenu; I recommend to rename the method to
set_menu_accel_path()


&gt; GtkStatusbar::remove(context_id, message_id);
&gt; GtkContainer::remove(GtkWidget widget);
What to do here? Make message_id optional and the type of context_id
switches between the container and the statusbar method?


&gt; GtkCList::remove(row);
&gt; GtkContainer::remove(GtkWidget widget);
Same here.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060515054834</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-15 05:48:34-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] E_STRICT and PHP-Gtk2</subject><body>


&gt;&gt;GtkMenu::set_accel_path(accel_path);
&gt;&gt;GtkWidget::set_accel_path(accel_path, GtkAccelGroup accel_group);
Here we should make the accel_group optional and call the gtkwidget one
if it's given.

&gt;&gt;GtkWindow::mnemonic_activate(keyval, GdkModifierType modifier);
&gt;&gt;GtkWidget::mnemonic_activate(group_cycling);
Here, making it optional doesn't work because the first parameter is
totally different in meaning.

&gt;&gt;GtkMenuItem::set_accel_path(accel_path);
&gt;&gt;GtkWidget::set_accel_path(accel_path, GtkAccelGroup accel_group);
Make the second optional.

&gt;&gt;GtkStatusbar::remove(context_id, message_id);
&gt;&gt;GtkContainer::remove(GtkWidget widget);
&gt; What to do here? Make message_id optional and the type of context_id
&gt; switches between the container and the statusbar method?
That would confuse people, because context_id and widget are totally
different vars in meaning. So renaming the GtkStatusbar one is the only
solution I see.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060505103741</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-05 10:37:41-0400</timestampReceived><subject>[PHP-GTK-DEV] No news on the website for 3 months</subject><body>


Hello all,


The last news entry on the website dates 2006-02-29. That's three months
nothing! Someone not following php-gtk-dev really could come to the
conclusion that the project is dead again.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060517073644</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-17 07:36:44-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkMozembed / wrong functions</subject><body>


Hello all and Anant,

You use the following functions:
-------------
PHP_GTK_XINIT_FUNCTION(mozembed)
{
    phpg_gtkmozembed_register_classes();
	phpg_gtkmozembed_register_constants("GTK_MOZEMBED_");
	
	return SUCCESS;
}
--------

Shouldn't it be
&gt; phpg_mozembed_register_classes();
instead
&gt; phpg_gtkmozembed_register_classes();

and
&gt; phpg_mozembed_register_constants("GTK_MOZEMBED_");
instead of
&gt; phpg_gtkmozembed_register_constants("GTK_MOZEMBED_");
?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060517160755</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-17 16:07:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] #37504 [NEW]: Patch for GtkTreeSortable::set_(default_)sort_func</subject><body>

Why are you putting these in as bug reports???

----- Original Message ----- 
From: "cweiske@php.net" &lt;php-gtk-dev@lists.php.net&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Thursday, May 18, 2006 6:03 PM
Subject: [PHP-GTK-DEV] #37504 [NEW]: Patch for 
GtkTreeSortable::set_(default_)sort_func


&gt; From:             cweiske@php.net
&gt; Operating system: any
&gt; PHP version:      5.1.4
&gt; PHP Bug Type:     PHP-GTK related
&gt; Bug description:  Patch for GtkTreeSortable::set_(default_)sort_func
&gt;
&gt; Description:
&gt; ------------
&gt; At
&gt; http://xml.cweiske.de/patches/gtktreeview.overrides.diff
&gt; is a patch that implements
&gt; GtkTreeSortable::set_sort_func
&gt; GtkTreeSortable::set_default_sort_func
&gt; and the marshaller.
&gt;
&gt;
&gt;
&gt; -- 
&gt; Edit bug report at http://bugs.php.net/?id=37504&amp;edit=1
&gt; -- 
&gt; Try a CVS snapshot (PHP 4.4): 
&gt; http://bugs.php.net/fix.php?id=37504&amp;r=trysnapshot44
&gt; Try a CVS snapshot (PHP 5.2): 
&gt; http://bugs.php.net/fix.php?id=37504&amp;r=trysnapshot52
&gt; Try a CVS snapshot (PHP 6.0): 
&gt; http://bugs.php.net/fix.php?id=37504&amp;r=trysnapshot60
&gt; Fixed in CVS: 
&gt; http://bugs.php.net/fix.php?id=37504&amp;r=fixedcvs
&gt; Fixed in release: 
&gt; http://bugs.php.net/fix.php?id=37504&amp;r=alreadyfixed
&gt; Need backtrace: 
&gt; http://bugs.php.net/fix.php?id=37504&amp;r=needtrace
&gt; Need Reproduce Script: 
&gt; http://bugs.php.net/fix.php?id=37504&amp;r=needscript
&gt; Try newer version: 
&gt; http://bugs.php.net/fix.php?id=37504&amp;r=oldversion
&gt; Not developer issue: 
&gt; http://bugs.php.net/fix.php?id=37504&amp;r=support
&gt; Expected behavior: 
&gt; http://bugs.php.net/fix.php?id=37504&amp;r=notwrong
&gt; Not enough info: 
&gt; http://bugs.php.net/fix.php?id=37504&amp;r=notenoughinfo
&gt; Submitted twice: 
&gt; http://bugs.php.net/fix.php?id=37504&amp;r=submittedtwice
&gt; register_globals: 
&gt; http://bugs.php.net/fix.php?id=37504&amp;r=globals
&gt; PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=37504&amp;r=php3
&gt; Daylight Savings:             http://bugs.php.net/fix.php?id=37504&amp;r=dst
&gt; IIS Stability:                http://bugs.php.net/fix.php?id=37504&amp;r=isapi
&gt; Install GNU Sed: 
&gt; http://bugs.php.net/fix.php?id=37504&amp;r=gnused
&gt; Floating point limitations:   http://bugs.php.net/fix.php?id=37504&amp;r=float
&gt; No Zend Extensions: 
&gt; http://bugs.php.net/fix.php?id=37504&amp;r=nozend
&gt; MySQL Configuration Error: 
&gt; http://bugs.php.net/fix.php?id=37504&amp;r=mysqlcfg
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060518183052</emailId><senderName>"cweiske () php ! net"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-05-18 18:30:52-0400</timestampReceived><subject>[PHP-GTK-DEV] #37504 [Opn]: Patch for GtkTreeSortable::set_(default_)sort_func</subject><body>

 ID:               37504
 User updated by:  cweiske@php.net
 Reported By:      cweiske@php.net
 Status:           Open
 Bug Type:         PHP-GTK related
 Operating System: any
 PHP Version:      5.1.4
 New Comment:

I added GtkTreeFilterModel constructor and set_visible_func (&amp;
GtkTreeModelFilterVisibleFunc marshaller) to the patches.


Previous Comments:
------------------------------------------------------------------------

[2006-05-18 16:03:50] cweiske@php.net

Description:
------------
At
http://xml.cweiske.de/patches/gtktreeview.overrides.diff
is a patch that implements
GtkTreeSortable::set_sort_func
GtkTreeSortable::set_default_sort_func
and the marshaller.




------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=37504&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060518201201</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-18 20:12:01-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkAllocation</subject><body>


Hello all,


I was wondering why there is no GtkAllocation class?
We already have a boxed GtkRequsition, so I see no reason not to have a
boxed GtkAllocation.
Anyone against that?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060521125706</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-21 12:57:06-0400</timestampReceived><subject>[PHP-GTK-DEV] [PATCH] GtkTextIter::get_tags, GtkTextIter::get_marks, GtkTextIter::get_toggled_tags</subject><body>


Hi all,

at
http://xml.cweiske.de/patches/gtktextview.overrides.diff
are patches for the following methods:
- GtkTextIter::get_tags
- GtkTextIter::get_marks
- GtkTextIter::get_toggled_tags

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060522150002</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-22 15:00:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] h2def.py has a bug</subject><body>

That one can wait for Andrei. I also couldn't run the script, but it's taken 
directly from the pygtk project so I guess it _must_ have worked for someone 
at some point :)


----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, May 22, 2006 5:00 PM
Subject: [PHP-GTK-DEV] h2def.py has a bug

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060522172749</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-22 17:27:49-0400</timestampReceived><subject>[PHP-GTK-DEV] The win32 crash</subject><body>


Hi all,


Today I could reproduce the crash that Steph gets when using PHP with
PHP-Gtk2. It crashes when shutting down.

That does only happen when using PHP 5.1.4 (and probably 5.1.3), but it
does *not* crash on PHP 5.1.1. and 5.1.2. Steph, that's the reason Gnope
still works, even with a current PHP-Gtk2.dll

(Just to clarify that Steph doesn't see invisible-to-others ghosts)

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060523115534</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-05-23 11:55:34-0400</timestampReceived><subject>[PHP-GTK-DEV] gtkmozembed (win32)</subject><body>

 The instructions how to build Mozilla can be found here:
 http://developer.mozilla.org/en/docs/Windows_Build_Prerequisites
 Further, look at http://severna.homeip.net/gtkmozwin32.php -
 you will find a file http://severna.homeip.net/src-back.tar.gz which
 contents need to replace the mozilla source files in
 "mozilla-src\embedding\browser\gtk\src".
 Now the Makefile needs to be changed, as it's likely to contain
 wrong paths:
  topsrcdir = /cygdrive/c/mozilla/mozilla
  srcdir  = /cygdrive/c/mozilla/mozilla/embedding/browser/gtk/src
  VPATH  = /cygdrive/c/mozilla/mozilla/embedding/browser/gtk/src
 (here the sources were on c:\mozilla\mozilla)
 Now everything should be ready to compile the .dll and .lib after
 the howto.
 After this you can compile php-gtk2 with gtkmozembed.
 Here my config.w32:


ARG_WITH("mozembed", "mozembed support", "no");

if (PHP_GTK_MOZEMBED != "no" || PHP_GTK_ALL != "no") {

        if (CHECK_LIB("gtkembedmoz.lib", "mozembed")) {

                if (FSO.FileExists("win32\\temp.bat")) {

                        var temp = FSO.OpenTextFile("win32\\temp.bat", 8);

                        temp.WriteLine("php -q generator\\generator.php -l \
win32\\logs\\config_mozembed.log -o ext\\mozembed\\mozembed.overrides -p mozembed -r \
ext\\gtk+\\gtk.defs ext\\mozembed\\mozembed.defs &gt; ext\\mozembed\\gen_mozembed.c");

                        temp.WriteLine('grep -h "^PHP_GTK_EXPORT_CE" \
ext\\mozembed\\gen_mozembed.c | sed -e "s/^/PHP_GTK_API extern /" &gt; \
ext\\mozembed\\gen_mozembed.h');

                        temp.Close();
                }

                ADD_FLAG("CFLAGS_MOZEMBED", "/I ext\\mozembed /I ..\\ext\\mozembed /D \
                HAVE_MOZEMBED=1");
                EXTENSION("mozembed", "gen_mozembed.c php_mozembed.c", true); // \
always shared  AC_DEFINE("HAVE_MOZEMBED", 1, "mozembed enabled");

        } else {

                WARNING("mozembed not enabled; libraries and headers not found");
        }

}

 There is a bug in my config because the phpg_gtkmozembed_register_classes and \
phpg_gtkmozembed_register_constants seems to be wrong. I changed this manualy to \
phpg_mozembed_register_classes and phpg_mozembed_register_constants. The define \
COMPILE_DL_MOZEMBED musst be COMPILE_DL_MOZEMBED2 in php_mozembed.c. Why???

 Now you need to copy the *complete* compiled mozilla to C:\PHP-Gtk2
 (if somebody finds out what files can be omitted, please tell us!)


Sorry for my english ;)

mfg xxoes

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060524062801</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-05-24 06:28:01-0400</timestampReceived><subject>[PHP-GTK-DEV] gtksourceview (win32)</subject><body>

hi,
i have create a gtksourceview.lib and gtksourceview.dll from the 
gtksourceview-1.4.2 for win32.
I have changed many header files an the c source but now it works. (only 
printing support is not been implemented)
I can upload the source and lib/dll for php-gtk2.

Now i can use gtksourceview under win32 with php-gtk2.
Here is the config.w32 i have the same problem with the 
phpg_sourceview_register_classes and phpg_sourceview_register_constants 
like mozembed:

 &gt; There is a bug in my config because the 
phpg_gtkmozembed_register_classes and 
phpg_gtkmozembed_register_constants seems to be wrong. I changed this 
manualy to phpg_mozembed_register_classes and 
phpg_mozembed_register_constants. The define COMPILE_DL_MOZEMBED musst 
be COMPILE_DL_MOZEMBED2 in php_mozembed.c. Why???

ARG_WITH("sourceview", "sourceview support", "no");

if (PHP_GTK_SOURCEVIEW != "no" || PHP_GTK_ALL != "no") {

        if (CHECK_LIB("gtksourceview.lib", "sourceview")) {

                if (FSO.FileExists("win32\\temp.bat")) {

                        var temp = FSO.OpenTextFile("win32\\temp.bat", 8);

                        temp.WriteLine("php -q generator\\generator.php 
-l win32\\logs\\config_sourceview.log -o 
ext\\sourceview\\sourceview.overrides -p sourceview -r 
ext\\gtk+\\gtk.defs ext\\sourceview\\sourceview.defs &gt; 
ext\\sourceview\\gen_sourceview.c");

                        temp.WriteLine('grep -h "^PHP_GTK_EXPORT_CE" 
ext\\sourceview\\gen_sourceview.c | sed -e "s/^/PHP_GTK_API extern /" &gt; 
ext\\sourceview\\gen_sourceview.h');

                        temp.Close();
                }

                ADD_FLAG("CFLAGS_SOURCEVIEW", "/I ext\\sourceview /I 
..\\ext\\sourceview /D HAVE_SOURCEVIEW=1");
                EXTENSION("sourceview", "gen_sourceview.c 
php_sourceview.c", true); // always shared
                AC_DEFINE("HAVE_SOURCEVIEW", 1, "sourceview enabled");

        } else {

                WARNING("sourceview not enabled; libraries and headers 
not found");
        }

}


How can I print with php-gtk2 gtksourceview? I have no method found that 
can print with sourceview in the php-gtk2 overrides.

sorry for my english ;)

mfg xxoes

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060525104147</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-05-25 10:41:47-0400</timestampReceived><subject>[PHP-GTK-DEV] PHP-GNOME and the Summer of Code</subject><body>

Hi all!

If you are not already aware, I had submitted a proposal as a part of
Google's Summer of Code to PHP, that concerned the development of PHP
bindings for GNOME.

http://www.kix.in/soc/php-gnome.pdf

(Erm, that document is a sub-set of my original proposal to GNOME and
hence you might be interested only in the deliverables section to see
which libraries I intend to wrap)

A bad combination of events, led to the rejection of that proposal by
me, although I did not intend to, in spite of the fact that Andrei was
prepared to mentor it. The project has therefore been shelved from
Google's program.

However, I would still very much like to work on it, in fact, that is
what I have been trying to do with my rampant extension making :)

Anyway, now that we have Andrei's approval, I can start work on it. Any
help in any form would be much appreciated: Comments, Suggestions,
Criticisms, Documentation or Development.

Do have a look at the proposal and let me know what you think. Once you
are convinced that we go ahead with this mini-project, we have to decide
on a technical issue:

Do we develop the extensions by simply adding directories to ext?

=OR=

Try and develop a method by which, the GNOME extensions can be made into
a separate package?

Oh, and if you're panicking: (Don't touch CVS now!) or (We haven't even
made an alpha yet!) or (What? Who's going to write the docs?!), stay
calm. No-one's doing anything yet, we will thoroughly discuss how to go
about this, before starting any concrete work.

Most probably, we would want to open a new branch in CVS for this, or,
host the project on sf.net or someplace similar. As mentioned before,
all your suggestions are most welcome.

Give it a thought and let me know.

Cheers,

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060530043327</emailId><senderName>"cweiske () php ! net"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-05-30 04:33:27-0400</timestampReceived><subject>[PHP-GTK-DEV] #37636 [NEW]: GdkPixbuf::new_from_gd transfers red colors only</subject><body>

From:             cweiske@php.net
Operating system: Linux
PHP version:      5.1.4
PHP Bug Type:     PHP-GTK related
Bug description:  GdkPixbuf::new_from_gd transfers red colors only

Description:
------------
GdkPixbuf::new_from_gd() seems to transfer the red parts of the picture to
the pixbuf. Even when there is a black line, it appears light grey on the
pixbuf.

Reproduce code:
---------------
&lt;?php
//image_graph multiple plots usage example
error_reporting(E_ALL);
include 'Image/Graph.php';
// create the graph
$Graph =&amp; Image_Graph::factory('graph', array(600, 400));
// add a TrueType font
$Font =&amp; $Graph-&gt;addNew('font', 'Verdana');
// set the font size to 11 pixels
$Font-&gt;setSize(8);

$Graph-&gt;setFont($Font);

// create the plotarea
$Graph-&gt;add(
    Image_Graph::vertical(
        Image_Graph::vertical(
            $Title = Image_Graph::factory('title', array('Multiple Plots',
11)),
            $SubTitle = Image_Graph::factory('title', array('This is a
demonstration of title alignment', 7)),
            90
        ),
        $Plotarea = Image_Graph::factory('plotarea'),
        8
    )
);	
$Title-&gt;setAlignment(IMAGE_GRAPH_ALIGN_LEFT);
$SubTitle-&gt;setAlignment(IMAGE_GRAPH_ALIGN_LEFT);
   
$Grid =&amp; $Plotarea-&gt;addNew('bar_grid', IMAGE_GRAPH_AXIS_Y);
$Grid-&gt;setFillStyle(Image_Graph::factory('gradient',
array(IMAGE_GRAPH_GRAD_VERTICAL, 'white', 'lightgrey')));    
	
$Plot =&amp; $Plotarea-&gt;addNew('Image_Graph_Plot_Smoothed_Area',
Image_Graph::factory('random', array(10, 20, 100, true)));
$Plot-&gt;setFillColor('red@0.2');

$Plot =&amp; $Plotarea-&gt;addNew('line', Image_Graph::factory('random',
array(10, 20, 100, true)));
$Plot-&gt;setLineColor('blue@0.2');
$CircleMarker =&amp; Image_Graph::factory('Image_Graph_Marker_Circle');
$Plot-&gt;setMarker($CircleMarker);
$CircleMarker-&gt;setFillColor('white@0.4');
    
$Plot =&amp; $Plotarea-&gt;addNew('bar', Image_Graph::factory('random', array(10,
2, 40, true)));
$Plot-&gt;setFillColor('green@0.2');
$Marker =&amp; Image_Graph::factory('Image_Graph_Marker_Value',
IMAGE_GRAPH_VALUE_Y);
$Plot-&gt;setMarker($Marker);
$Marker-&gt;setFillColor('white');
$Marker-&gt;setBorderColor('black');
    
$AxisY = $Plotarea-&gt;getAxis(IMAGE_GRAPH_AXIS_Y);
$AxisY-&gt;showArrow();

$Array = array(
    "Jan-Feb\n2004", 
    "Mar-Apr\n2004", 
    "May-Jun\n2004", 
    "Jul-Aug\n2004", 
    "Sep-Oct\n2004", 
    "Nov-Dev\n2004", 
    "Jan-Feb\n2005", 
    "Mar-Apr\n2005", 
    "May-Jun\n2005", 
    "Jul-Aug\n2005" 
);
$AxisX = $Plotarea-&gt;getAxis(IMAGE_GRAPH_AXIS_X);
$AxisX-&gt;setDataPreprocessor(Image_Graph::factory('Image_Graph_DataPreprocessor_Array',
array($Array)));



//that is a critical line. Setting the output to "none" is important
$Graph-&gt;done(array('output' =&gt; 'none'));
$canvas = $Graph-&gt;_getCanvas();
$gd = $canvas-&gt;_canvas;
$pixbuf = GdkPixbuf::new_from_gd($gd);

$wnd = new GtkWindow();
$wnd-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));
$wnd-&gt;add(GtkImage::new_from_pixbuf($pixbuf));
$wnd-&gt;show_all();
Gtk::main();
?&gt;

Expected result:
----------------
http://xml.cweiske.de/2006-05-30%20multiple_slots_original.png

Actual result:
--------------
http://xml.cweiske.de/2006-05-30%20multiple_slots_gtk.png

-- 
Edit bug report at http://bugs.php.net/?id=37636&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=37636&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.2): http://bugs.php.net/fix.php?id=37636&amp;r=trysnapshot52
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=37636&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=37636&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=37636&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=37636&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=37636&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=37636&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=37636&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=37636&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=37636&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=37636&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=37636&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=37636&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=37636&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=37636&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=37636&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=37636&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=37636&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=37636&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060529104323</emailId><senderName>Edin Kadribasic</senderName><senderEmail>edink@emini.dk</senderEmail><timestampReceived>2006-05-29 10:43:23-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: [PHP-DEV] Ides of March [WAS:  tsrm_shutdown() and the CLI SAPI]</subject><body>

Hi,

Yes, something broke while we were at 5.1.3-dev.

It would be really nice if Dmitry could have a look at this. We have
many reports that things have gotten much more ustable on Windows since
5.1.2.

Edin


Steph Fox wrote:
&gt; Hi all,
&gt; 
&gt; I've spent a fun weekend debugging TSRM and bits of ZE2, having finally
&gt; figured that the zend_compiler_globals dtor was the point of failure here.
&gt; 
&gt; TSRM needs to mark resources as 'done' following a free and doesn't in
&gt; most cases, but that's actually not the main problem we have in PHP-GTK
&gt; (although fixing it may well solve everybody else's, I'll check that on
&gt; my travels).
&gt; 
&gt; Dmitry's "Optimized cleanup loops on request shutdown" commit(s)
&gt; spanning the 13th and 14th March broke Andrei's 'EG(full_tables_cleanup)
&gt; = 1' ruse (we needed user classes to be cleaned and internal classes to
&gt; stay), but it also broke TSRM shutdown completely for us. PHP-GTK
&gt; classes are recognized as being internal, but only the first one ever
&gt; reaches the dtor - even when there are no user-defined classes.
&gt; 
&gt; zend_hash_reverse_apply() is called at that point, so I'm guessing
&gt; there's a reentrancy issue behind my access violation crash.
&gt; 
&gt; I'll get back to this when I get some time, in the meantime if anyone
&gt; (Dmitry?) wants to play with this you need to know that I can't put the
&gt; 5_2 compat stuff into CVS until Andrei OKs it, so PHP-GTK HEAD has to be
&gt; built against PHP_5_1 branch at present (anything after March 14th will
&gt; do).
&gt; 
&gt; - Steph
&gt; 
&gt; 
&gt;&gt; Under CLI ZTS build, when loading a PHP-GTK 2 .dll built against
&gt;&gt; anything this side of PHP 5.1.2 release, I'm seeing an 'access
&gt;&gt; violation' crash on reaching:
&gt;&gt;
&gt;&gt;      if (resource_types_table &amp;&amp; !resource_types_table[j].done &amp;&amp;
&gt;&gt; resource_types_table[j].dtor) {
&gt;&gt;          resource_types_table[j].dtor(p-&gt;storage[j], &amp;p-&gt;storage);
&gt;&gt;      }
&gt;&gt;
&gt;&gt; Similar code is also used in:
&gt;&gt;
&gt;&gt; tsrm_free_interpreter_context()
&gt;&gt; ts_free_thread()
&gt;&gt; ts_free_worker_threads()
&gt;&gt; ts_free_id()
&gt;&gt;
&gt;&gt; I thought ts_free_thread() was crashing at that line too at first, but
&gt;&gt; that turned out to be because there's no 'done' check there, i.e.
&gt;&gt; double dtors are possible via some functions. It's still vaguely
&gt;&gt; possible there's a double flypast causing the crash I'm seeing, but I
&gt;&gt; have everything I know about protected now. (On my laptop that is.)
&gt;&gt;
&gt;&gt; Eventually I found the resource id for PHP-GTK - the only extension
&gt;&gt; I'm loading during runtime, via php.ini - is 32nd out of a possible
&gt;&gt; 32. "Eventually", because that means I can't use ts_free_id() to avoid
&gt;&gt; the crash as advised by Frank (and Tony, and Dmitry, and anyone else
&gt;&gt; who ever used that MSHUTDOWN workaround for CLI). Interesting too,
&gt;&gt; because the resource that causes the crash appears to be something
&gt;&gt; completely other. Tracking down resource id #5 - and that's all I know
&gt;&gt; about it apart from it crashes - is a barrel of laughs, I'll let y'all
&gt;&gt; know if I ever find out which of the many possible extensions/files in
&gt;&gt; ext/standard or core it is.
&gt;&gt;
&gt;&gt; Short version: One line is problematic, and only in one function, and
&gt;&gt; presumably only under CLI SAPI. (CGI already doesn't call
&gt;&gt; tsrm_shutdown(), thanks to similar issues some 3 years ago).
&gt;&gt;
&gt;&gt; The question is whether to take 'the Zeev approach' and simply comment
&gt;&gt; out the tsrm_shutdown() call at the end of sapi/cli/php_cli.c, or
&gt;&gt; whether to spend time knitting up a fine-grained approach to prevent
&gt;&gt; the one bad line in the function from being called in single-threaded
&gt;&gt; environments? I think I've given up on the idea of actually resolving
&gt;&gt; the bug now...
&gt;&gt;
&gt;&gt; Thoughts?
&gt;&gt;
&gt;&gt; - oh, and don't make one of them 'chicken-and-egg' - this is
&gt;&gt; definitively NOT related to the shutdown order in main.c!!!!!
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP Internals - PHP Runtime Development Mailing List
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060529155447</emailId><senderName>"Dmitry Stogov"</senderName><senderEmail>dmitry@zend.com</senderEmail><timestampReceived>2006-05-29 15:54:47-0400</timestampReceived><subject>[PHP-GTK-DEV] RE: [PHP-DEV] Ides of March [WAS:  tsrm_shutdown() and the CLI SAPI]</subject><body>

Hi Steph,

I have no idea what is wrong with optimized class/functions tables cleanup.
In case if EG(full_tables_cleanup) is set, the behavior should be exactly
the same as before patch.
PHP uses EG(full_table_cleanup) only for dl(), but I do't know how php-gtk
uses it.

Thanks. Dmitry.

&gt; -----Original Message-----
&gt; From: Steph Fox [mailto:steph@zend.com] 
&gt; Sent: Monday, May 29, 2006 1:40 PM
&gt; To: internals
&gt; Cc: PHP-GTK dev; Dmitry Stogov
&gt; Subject: [PHP-DEV] Ides of March [WAS: tsrm_shutdown() and 
&gt; the CLI SAPI]
&gt; 
&gt; 
&gt; Hi all,
&gt; 
&gt; I've spent a fun weekend debugging TSRM and bits of ZE2, 
&gt; having finally 
&gt; figured that the zend_compiler_globals dtor was the point of 
&gt; failure here.
&gt; 
&gt; TSRM needs to mark resources as 'done' following a free and 
&gt; doesn't in most 
&gt; cases, but that's actually not the main problem we have in 
&gt; PHP-GTK (although 
&gt; fixing it may well solve everybody else's, I'll check that on 
&gt; my travels).
&gt; 
&gt; Dmitry's "Optimized cleanup loops on request shutdown" 
&gt; commit(s) spanning 
&gt; the 13th and 14th March broke Andrei's 
&gt; 'EG(full_tables_cleanup) = 1' ruse 
&gt; (we needed user classes to be cleaned and internal classes to 
&gt; stay), but it 
&gt; also broke TSRM shutdown completely for us. PHP-GTK classes 
&gt; are recognized 
&gt; as being internal, but only the first one ever reaches the 
&gt; dtor - even when 
&gt; there are no user-defined classes.
&gt; 
&gt; zend_hash_reverse_apply() is called at that point, so I'm 
&gt; guessing there's a 
&gt; reentrancy issue behind my access violation crash.
&gt; 
&gt; I'll get back to this when I get some time, in the meantime if anyone 
&gt; (Dmitry?) wants to play with this you need to know that I 
&gt; can't put the 5_2 
&gt; compat stuff into CVS until Andrei OKs it, so PHP-GTK HEAD 
&gt; has to be built 
&gt; against PHP_5_1 branch at present (anything after March 14th will do).
&gt; 
&gt; - Steph
&gt; 
&gt; 
&gt; &gt; Under CLI ZTS build, when loading a PHP-GTK 2 .dll built against 
&gt; &gt; anything
&gt; &gt; this side of PHP 5.1.2 release, I'm seeing an 'access 
&gt; violation' crash on 
&gt; &gt; reaching:
&gt; &gt;
&gt; &gt;      if (resource_types_table &amp;&amp; !resource_types_table[j].done &amp;&amp;
&gt; &gt; resource_types_table[j].dtor) {
&gt; &gt;          resource_types_table[j].dtor(p-&gt;storage[j], &amp;p-&gt;storage);
&gt; &gt;      }
&gt; &gt;
&gt; &gt; Similar code is also used in:
&gt; &gt;
&gt; &gt; tsrm_free_interpreter_context()
&gt; &gt; ts_free_thread()
&gt; &gt; ts_free_worker_threads()
&gt; &gt; ts_free_id()
&gt; &gt;
&gt; &gt; I thought ts_free_thread() was crashing at that line too at 
&gt; first, but
&gt; &gt; that turned out to be because there's no 'done' check 
&gt; there, i.e. double 
&gt; &gt; dtors are possible via some functions. It's still vaguely 
&gt; possible there's 
&gt; &gt; a double flypast causing the crash I'm seeing, but I have 
&gt; everything I 
&gt; &gt; know about protected now. (On my laptop that is.)
&gt; &gt;
&gt; &gt; Eventually I found the resource id for PHP-GTK - the only extension 
&gt; &gt; I'm
&gt; &gt; loading during runtime, via php.ini - is 32nd out of a possible 32. 
&gt; &gt; "Eventually", because that means I can't use ts_free_id() 
&gt; to avoid the 
&gt; &gt; crash as advised by Frank (and Tony, and Dmitry, and anyone 
&gt; else who ever 
&gt; &gt; used that MSHUTDOWN workaround for CLI). Interesting too, 
&gt; because the 
&gt; &gt; resource that causes the crash appears to be something 
&gt; completely other. 
&gt; &gt; Tracking down resource id #5 - and that's all I know about 
&gt; it apart from 
&gt; &gt; it crashes - is a barrel of laughs, I'll let y'all know if 
&gt; I ever find out 
&gt; &gt; which of the many possible extensions/files in ext/standard 
&gt; or core it is.
&gt; &gt;
&gt; &gt; Short version: One line is problematic, and only in one 
&gt; function, and
&gt; &gt; presumably only under CLI SAPI. (CGI already doesn't call 
&gt; tsrm_shutdown(), 
&gt; &gt; thanks to similar issues some 3 years ago).
&gt; &gt;
&gt; &gt; The question is whether to take 'the Zeev approach' and 
&gt; simply comment 
&gt; &gt; out
&gt; &gt; the tsrm_shutdown() call at the end of sapi/cli/php_cli.c, 
&gt; or whether to 
&gt; &gt; spend time knitting up a fine-grained approach to prevent 
&gt; the one bad line 
&gt; &gt; in the function from being called in single-threaded 
&gt; environments? I think 
&gt; &gt; I've given up on the idea of actually resolving the bug now...
&gt; &gt;
&gt; &gt; Thoughts?
&gt; &gt;
&gt; &gt; - oh, and don't make one of them 'chicken-and-egg' - this is 
&gt; &gt; definitively
&gt; &gt; NOT related to the shutdown order in main.c!!!!!
&gt; &gt;
&gt; &gt; - Steph
&gt; &gt;
&gt; &gt; --
&gt; &gt; PHP Internals - PHP Runtime Development Mailing List
&gt; &gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; &gt;
&gt; &gt;
&gt; &gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; &gt;
&gt; &gt; This message was checked by NOD32 antivirus system. 
&gt; &gt; http://www.eset.com
&gt; &gt;
&gt; &gt; 
&gt; 
&gt; -- 
&gt; PHP Internals - PHP Runtime Development Mailing List
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060529183614</emailId><senderName>Marcus Boerger</senderName><senderEmail>helly@php.net</senderEmail><timestampReceived>2006-05-29 18:36:14-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: [PHP-DEV] Ides of March [WAS:  tsrm_shutdown() and the CLI SAPI]</subject><body>

Hello Steph,

  can it be that the return value of the dtor functions are wrong? They
have always been wrong and during last months we tried to sort things
out. Actually i was planning to have HEAD and 5.2 both respect the APPLY
values correct. Should i wait with those changes now until someone figures
out this dtor issue or go ahead and we look then?

best regards
marcus

Monday, May 29, 2006, 11:40:15 AM, you wrote:

&gt; Hi all,

&gt; I've spent a fun weekend debugging TSRM and bits of ZE2, having finally 
&gt; figured that the zend_compiler_globals dtor was the point of failure here.

&gt; TSRM needs to mark resources as 'done' following a free and doesn't in most 
&gt; cases, but that's actually not the main problem we have in PHP-GTK (although
&gt; fixing it may well solve everybody else's, I'll check that on my travels).

&gt; Dmitry's "Optimized cleanup loops on request shutdown" commit(s) spanning 
&gt; the 13th and 14th March broke Andrei's 'EG(full_tables_cleanup) = 1' ruse 
&gt; (we needed user classes to be cleaned and internal classes to stay), but it 
&gt; also broke TSRM shutdown completely for us. PHP-GTK classes are recognized 
&gt; as being internal, but only the first one ever reaches the dtor - even when 
&gt; there are no user-defined classes.

&gt; zend_hash_reverse_apply() is called at that point, so I'm guessing there's a
&gt; reentrancy issue behind my access violation crash.

&gt; I'll get back to this when I get some time, in the meantime if anyone 
&gt; (Dmitry?) wants to play with this you need to know that I can't put the 5_2 
&gt; compat stuff into CVS until Andrei OKs it, so PHP-GTK HEAD has to be built 
&gt; against PHP_5_1 branch at present (anything after March 14th will do).

&gt; - Steph


&gt;&gt; Under CLI ZTS build, when loading a PHP-GTK 2 .dll built against anything 
&gt;&gt; this side of PHP 5.1.2 release, I'm seeing an 'access violation' crash on 
&gt;&gt; reaching:
&gt;&gt;
&gt;&gt;      if (resource_types_table &amp;&amp; !resource_types_table[j].done &amp;&amp; 
&gt;&gt; resource_types_table[j].dtor) {
&gt;&gt;          resource_types_table[j].dtor(p-&gt;storage[j], &amp;p-&gt;storage);
&gt;&gt;      }
&gt;&gt;
&gt;&gt; Similar code is also used in:
&gt;&gt;
&gt;&gt; tsrm_free_interpreter_context()
&gt;&gt; ts_free_thread()
&gt;&gt; ts_free_worker_threads()
&gt;&gt; ts_free_id()
&gt;&gt;
&gt;&gt; I thought ts_free_thread() was crashing at that line too at first, but 
&gt;&gt; that turned out to be because there's no 'done' check there, i.e. double 
&gt;&gt; dtors are possible via some functions. It's still vaguely possible there's 
&gt;&gt; a double flypast causing the crash I'm seeing, but I have everything I 
&gt;&gt; know about protected now. (On my laptop that is.)
&gt;&gt;
&gt;&gt; Eventually I found the resource id for PHP-GTK - the only extension I'm 
&gt;&gt; loading during runtime, via php.ini - is 32nd out of a possible 32. 
&gt;&gt; "Eventually", because that means I can't use ts_free_id() to avoid the 
&gt;&gt; crash as advised by Frank (and Tony, and Dmitry, and anyone else who ever 
&gt;&gt; used that MSHUTDOWN workaround for CLI). Interesting too, because the 
&gt;&gt; resource that causes the crash appears to be something completely other. 
&gt;&gt; Tracking down resource id #5 - and that's all I know about it apart from 
&gt;&gt; it crashes - is a barrel of laughs, I'll let y'all know if I ever find out 
&gt;&gt; which of the many possible extensions/files in ext/standard or core it is.
&gt;&gt;
&gt;&gt; Short version: One line is problematic, and only in one function, and 
&gt;&gt; presumably only under CLI SAPI. (CGI already doesn't call tsrm_shutdown(), 
&gt;&gt; thanks to similar issues some 3 years ago).
&gt;&gt;
&gt;&gt; The question is whether to take 'the Zeev approach' and simply comment out 
&gt;&gt; the tsrm_shutdown() call at the end of sapi/cli/php_cli.c, or whether to 
&gt;&gt; spend time knitting up a fine-grained approach to prevent the one bad line 
&gt;&gt; in the function from being called in single-threaded environments? I think 
&gt;&gt; I've given up on the idea of actually resolving the bug now...
&gt;&gt;
&gt;&gt; Thoughts?
&gt;&gt;
&gt;&gt; - oh, and don't make one of them 'chicken-and-egg' - this is definitively 
&gt;&gt; NOT related to the shutdown order in main.c!!!!!
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP Internals - PHP Runtime Development Mailing List
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt; 




Best regards,
 Marcus

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060529183702</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-29 18:37:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [PHP-DEV] Ides of March [WAS:  tsrm_shutdown() and the CLI SAPI]</subject><body>

I'm down to four possible changes - I'm just going back through them with a 
full build, one by one. (Takes ages here.)

It could be anything at present...  Dmitry, you're definitely off the hook 
over those optimizations though, promising though they seemed.

/me was hoping for something relatively obvious



&gt; Hello Steph,
&gt;
&gt;  can it be that the return value of the dtor functions are wrong? They
&gt; have always been wrong and during last months we tried to sort things
&gt; out. Actually i was planning to have HEAD and 5.2 both respect the APPLY
&gt; values correct. Should i wait with those changes now until someone figures
&gt; out this dtor issue or go ahead and we look then?
&gt;
&gt; best regards
&gt; marcus
&gt;
&gt; Monday, May 29, 2006, 11:40:15 AM, you wrote:
&gt;
&gt;&gt; Hi all,
&gt;
&gt;&gt; I've spent a fun weekend debugging TSRM and bits of ZE2, having finally
&gt;&gt; figured that the zend_compiler_globals dtor was the point of failure 
&gt;&gt; here.
&gt;
&gt;&gt; TSRM needs to mark resources as 'done' following a free and doesn't in 
&gt;&gt; most
&gt;&gt; cases, but that's actually not the main problem we have in PHP-GTK 
&gt;&gt; (although
&gt;&gt; fixing it may well solve everybody else's, I'll check that on my 
&gt;&gt; travels).
&gt;
&gt;&gt; Dmitry's "Optimized cleanup loops on request shutdown" commit(s) spanning
&gt;&gt; the 13th and 14th March broke Andrei's 'EG(full_tables_cleanup) = 1' ruse
&gt;&gt; (we needed user classes to be cleaned and internal classes to stay), but 
&gt;&gt; it
&gt;&gt; also broke TSRM shutdown completely for us. PHP-GTK classes are 
&gt;&gt; recognized
&gt;&gt; as being internal, but only the first one ever reaches the dtor - even 
&gt;&gt; when
&gt;&gt; there are no user-defined classes.
&gt;
&gt;&gt; zend_hash_reverse_apply() is called at that point, so I'm guessing 
&gt;&gt; there's a
&gt;&gt; reentrancy issue behind my access violation crash.
&gt;
&gt;&gt; I'll get back to this when I get some time, in the meantime if anyone
&gt;&gt; (Dmitry?) wants to play with this you need to know that I can't put the 
&gt;&gt; 5_2
&gt;&gt; compat stuff into CVS until Andrei OKs it, so PHP-GTK HEAD has to be 
&gt;&gt; built
&gt;&gt; against PHP_5_1 branch at present (anything after March 14th will do).
&gt;
&gt;&gt; - Steph
&gt;
&gt;
&gt;&gt;&gt; Under CLI ZTS build, when loading a PHP-GTK 2 .dll built against 
&gt;&gt;&gt; anything
&gt;&gt;&gt; this side of PHP 5.1.2 release, I'm seeing an 'access violation' crash 
&gt;&gt;&gt; on
&gt;&gt;&gt; reaching:
&gt;&gt;&gt;
&gt;&gt;&gt;      if (resource_types_table &amp;&amp; !resource_types_table[j].done &amp;&amp;
&gt;&gt;&gt; resource_types_table[j].dtor) {
&gt;&gt;&gt;          resource_types_table[j].dtor(p-&gt;storage[j], &amp;p-&gt;storage);
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt; Similar code is also used in:
&gt;&gt;&gt;
&gt;&gt;&gt; tsrm_free_interpreter_context()
&gt;&gt;&gt; ts_free_thread()
&gt;&gt;&gt; ts_free_worker_threads()
&gt;&gt;&gt; ts_free_id()
&gt;&gt;&gt;
&gt;&gt;&gt; I thought ts_free_thread() was crashing at that line too at first, but
&gt;&gt;&gt; that turned out to be because there's no 'done' check there, i.e. double
&gt;&gt;&gt; dtors are possible via some functions. It's still vaguely possible 
&gt;&gt;&gt; there's
&gt;&gt;&gt; a double flypast causing the crash I'm seeing, but I have everything I
&gt;&gt;&gt; know about protected now. (On my laptop that is.)
&gt;&gt;&gt;
&gt;&gt;&gt; Eventually I found the resource id for PHP-GTK - the only extension I'm
&gt;&gt;&gt; loading during runtime, via php.ini - is 32nd out of a possible 32.
&gt;&gt;&gt; "Eventually", because that means I can't use ts_free_id() to avoid the
&gt;&gt;&gt; crash as advised by Frank (and Tony, and Dmitry, and anyone else who 
&gt;&gt;&gt; ever
&gt;&gt;&gt; used that MSHUTDOWN workaround for CLI). Interesting too, because the
&gt;&gt;&gt; resource that causes the crash appears to be something completely other.
&gt;&gt;&gt; Tracking down resource id #5 - and that's all I know about it apart from
&gt;&gt;&gt; it crashes - is a barrel of laughs, I'll let y'all know if I ever find 
&gt;&gt;&gt; out
&gt;&gt;&gt; which of the many possible extensions/files in ext/standard or core it 
&gt;&gt;&gt; is.
&gt;&gt;&gt;
&gt;&gt;&gt; Short version: One line is problematic, and only in one function, and
&gt;&gt;&gt; presumably only under CLI SAPI. (CGI already doesn't call 
&gt;&gt;&gt; tsrm_shutdown(),
&gt;&gt;&gt; thanks to similar issues some 3 years ago).
&gt;&gt;&gt;
&gt;&gt;&gt; The question is whether to take 'the Zeev approach' and simply comment 
&gt;&gt;&gt; out
&gt;&gt;&gt; the tsrm_shutdown() call at the end of sapi/cli/php_cli.c, or whether to
&gt;&gt;&gt; spend time knitting up a fine-grained approach to prevent the one bad 
&gt;&gt;&gt; line
&gt;&gt;&gt; in the function from being called in single-threaded environments? I 
&gt;&gt;&gt; think
&gt;&gt;&gt; I've given up on the idea of actually resolving the bug now...
&gt;&gt;&gt;
&gt;&gt;&gt; Thoughts?
&gt;&gt;&gt;
&gt;&gt;&gt; - oh, and don't make one of them 'chicken-and-egg' - this is 
&gt;&gt;&gt; definitively
&gt;&gt;&gt; NOT related to the shutdown order in main.c!!!!!
&gt;&gt;&gt;
&gt;&gt;&gt; - Steph
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP Internals - PHP Runtime Development Mailing List
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Best regards,
&gt; Marcus
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060529213017</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-29 21:30:17-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: [PHP-DEV] Ides of March [WAS:  tsrm_shutdown() and the CLI SAPI]</subject><body>

Hi Dmitry,

Finally cracked it, and you're right it had nothing to do with the suspected 
optimizations. There was a win32 memory fix where you included the PHP win32 
config file in the Zend one, confusing heck out of TSRM's totally 
independent (until it meets Zend) alloca definition, which is some way 
before Zend meets PHP's. They all need to match.

Can you find some other way to fix #36568 pliz?

I'll take another look at those flags in TSRM itself for the work-aroundable 
shutdown issues when I've caught up with the weeklies...

- Steph

ps I knew it had to be you - nobody else did anything major in core that 
week ;)



&gt; Hi Steph,
&gt;
&gt; I have no idea what is wrong with optimized class/functions tables 
&gt; cleanup.
&gt; In case if EG(full_tables_cleanup) is set, the behavior should be exactly
&gt; the same as before patch.
&gt; PHP uses EG(full_table_cleanup) only for dl(), but I do't know how php-gtk
&gt; uses it.
&gt;
&gt; Thanks. Dmitry.
&gt;
&gt;&gt; -----Original Message-----
&gt;&gt; From: Steph Fox [mailto:steph@zend.com]
&gt;&gt; Sent: Monday, May 29, 2006 1:40 PM
&gt;&gt; To: internals
&gt;&gt; Cc: PHP-GTK dev; Dmitry Stogov
&gt;&gt; Subject: [PHP-DEV] Ides of March [WAS: tsrm_shutdown() and
&gt;&gt; the CLI SAPI]
&gt;&gt;
&gt;&gt;
&gt;&gt; Hi all,
&gt;&gt;
&gt;&gt; I've spent a fun weekend debugging TSRM and bits of ZE2,
&gt;&gt; having finally
&gt;&gt; figured that the zend_compiler_globals dtor was the point of
&gt;&gt; failure here.
&gt;&gt;
&gt;&gt; TSRM needs to mark resources as 'done' following a free and
&gt;&gt; doesn't in most
&gt;&gt; cases, but that's actually not the main problem we have in
&gt;&gt; PHP-GTK (although
&gt;&gt; fixing it may well solve everybody else's, I'll check that on
&gt;&gt; my travels).
&gt;&gt;
&gt;&gt; Dmitry's "Optimized cleanup loops on request shutdown"
&gt;&gt; commit(s) spanning
&gt;&gt; the 13th and 14th March broke Andrei's
&gt;&gt; 'EG(full_tables_cleanup) = 1' ruse
&gt;&gt; (we needed user classes to be cleaned and internal classes to
&gt;&gt; stay), but it
&gt;&gt; also broke TSRM shutdown completely for us. PHP-GTK classes
&gt;&gt; are recognized
&gt;&gt; as being internal, but only the first one ever reaches the
&gt;&gt; dtor - even when
&gt;&gt; there are no user-defined classes.
&gt;&gt;
&gt;&gt; zend_hash_reverse_apply() is called at that point, so I'm
&gt;&gt; guessing there's a
&gt;&gt; reentrancy issue behind my access violation crash.
&gt;&gt;
&gt;&gt; I'll get back to this when I get some time, in the meantime if anyone
&gt;&gt; (Dmitry?) wants to play with this you need to know that I
&gt;&gt; can't put the 5_2
&gt;&gt; compat stuff into CVS until Andrei OKs it, so PHP-GTK HEAD
&gt;&gt; has to be built
&gt;&gt; against PHP_5_1 branch at present (anything after March 14th will do).
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt;
&gt;&gt;
&gt;&gt; &gt; Under CLI ZTS build, when loading a PHP-GTK 2 .dll built against
&gt;&gt; &gt; anything
&gt;&gt; &gt; this side of PHP 5.1.2 release, I'm seeing an 'access
&gt;&gt; violation' crash on
&gt;&gt; &gt; reaching:
&gt;&gt; &gt;
&gt;&gt; &gt;      if (resource_types_table &amp;&amp; !resource_types_table[j].done &amp;&amp;
&gt;&gt; &gt; resource_types_table[j].dtor) {
&gt;&gt; &gt;          resource_types_table[j].dtor(p-&gt;storage[j], &amp;p-&gt;storage);
&gt;&gt; &gt;      }
&gt;&gt; &gt;
&gt;&gt; &gt; Similar code is also used in:
&gt;&gt; &gt;
&gt;&gt; &gt; tsrm_free_interpreter_context()
&gt;&gt; &gt; ts_free_thread()
&gt;&gt; &gt; ts_free_worker_threads()
&gt;&gt; &gt; ts_free_id()
&gt;&gt; &gt;
&gt;&gt; &gt; I thought ts_free_thread() was crashing at that line too at
&gt;&gt; first, but
&gt;&gt; &gt; that turned out to be because there's no 'done' check
&gt;&gt; there, i.e. double
&gt;&gt; &gt; dtors are possible via some functions. It's still vaguely
&gt;&gt; possible there's
&gt;&gt; &gt; a double flypast causing the crash I'm seeing, but I have
&gt;&gt; everything I
&gt;&gt; &gt; know about protected now. (On my laptop that is.)
&gt;&gt; &gt;
&gt;&gt; &gt; Eventually I found the resource id for PHP-GTK - the only extension
&gt;&gt; &gt; I'm
&gt;&gt; &gt; loading during runtime, via php.ini - is 32nd out of a possible 32.
&gt;&gt; &gt; "Eventually", because that means I can't use ts_free_id()
&gt;&gt; to avoid the
&gt;&gt; &gt; crash as advised by Frank (and Tony, and Dmitry, and anyone
&gt;&gt; else who ever
&gt;&gt; &gt; used that MSHUTDOWN workaround for CLI). Interesting too,
&gt;&gt; because the
&gt;&gt; &gt; resource that causes the crash appears to be something
&gt;&gt; completely other.
&gt;&gt; &gt; Tracking down resource id #5 - and that's all I know about
&gt;&gt; it apart from
&gt;&gt; &gt; it crashes - is a barrel of laughs, I'll let y'all know if
&gt;&gt; I ever find out
&gt;&gt; &gt; which of the many possible extensions/files in ext/standard
&gt;&gt; or core it is.
&gt;&gt; &gt;
&gt;&gt; &gt; Short version: One line is problematic, and only in one
&gt;&gt; function, and
&gt;&gt; &gt; presumably only under CLI SAPI. (CGI already doesn't call
&gt;&gt; tsrm_shutdown(),
&gt;&gt; &gt; thanks to similar issues some 3 years ago).
&gt;&gt; &gt;
&gt;&gt; &gt; The question is whether to take 'the Zeev approach' and
&gt;&gt; simply comment
&gt;&gt; &gt; out
&gt;&gt; &gt; the tsrm_shutdown() call at the end of sapi/cli/php_cli.c,
&gt;&gt; or whether to
&gt;&gt; &gt; spend time knitting up a fine-grained approach to prevent
&gt;&gt; the one bad line
&gt;&gt; &gt; in the function from being called in single-threaded
&gt;&gt; environments? I think
&gt;&gt; &gt; I've given up on the idea of actually resolving the bug now...
&gt;&gt; &gt;
&gt;&gt; &gt; Thoughts?
&gt;&gt; &gt;
&gt;&gt; &gt; - oh, and don't make one of them 'chicken-and-egg' - this is
&gt;&gt; &gt; definitively
&gt;&gt; &gt; NOT related to the shutdown order in main.c!!!!!
&gt;&gt; &gt;
&gt;&gt; &gt; - Steph
&gt;&gt; &gt;
&gt;&gt; &gt; --
&gt;&gt; &gt; PHP Internals - PHP Runtime Development Mailing List
&gt;&gt; &gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt; &gt;
&gt;&gt; &gt; This message was checked by NOD32 antivirus system.
&gt;&gt; &gt; http://www.eset.com
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP Internals - PHP Runtime Development Mailing List
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP Internals - PHP Runtime Development Mailing List
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060530033609</emailId><senderName>"Dmitry Stogov"</senderName><senderEmail>dmitry@zend.com</senderEmail><timestampReceived>2006-05-30 03:36:09-0400</timestampReceived><subject>[PHP-GTK-DEV] RE: [PHP-DEV] Ides of March [WAS:  tsrm_shutdown() and the CLI SAPI]</subject><body>

Hi Steph,

As I remember this patch modified "zend_config.w32.h". It made inclusion of
"main/config.w32.h" in the same way as on all other systems.
How it affects TSRM?
May be I forgot something.

Thanks. Dmitry.

&gt; -----Original Message-----
&gt; From: Steph Fox [mailto:steph@zend.com] 
&gt; Sent: Tuesday, May 30, 2006 1:30 AM
&gt; To: Dmitry Stogov
&gt; Cc: 'PHP-GTK dev'; 'internals'
&gt; Subject: Re: [PHP-DEV] Ides of March [WAS: tsrm_shutdown() 
&gt; and the CLI SAPI]
&gt; 
&gt; 
&gt; Hi Dmitry,
&gt; 
&gt; Finally cracked it, and you're right it had nothing to do 
&gt; with the suspected 
&gt; optimizations. There was a win32 memory fix where you 
&gt; included the PHP win32 
&gt; config file in the Zend one, confusing heck out of TSRM's totally 
&gt; independent (until it meets Zend) alloca definition, which is 
&gt; some way 
&gt; before Zend meets PHP's. They all need to match.
&gt; 
&gt; Can you find some other way to fix #36568 pliz?
&gt; 
&gt; I'll take another look at those flags in TSRM itself for the 
&gt; work-aroundable 
&gt; shutdown issues when I've caught up with the weeklies...
&gt; 
&gt; - Steph
&gt; 
&gt; ps I knew it had to be you - nobody else did anything major 
&gt; in core that 
&gt; week ;)
&gt; 
&gt; 
&gt; 
&gt; &gt; Hi Steph,
&gt; &gt;
&gt; &gt; I have no idea what is wrong with optimized class/functions tables
&gt; &gt; cleanup.
&gt; &gt; In case if EG(full_tables_cleanup) is set, the behavior 
&gt; should be exactly
&gt; &gt; the same as before patch.
&gt; &gt; PHP uses EG(full_table_cleanup) only for dl(), but I do't 
&gt; know how php-gtk
&gt; &gt; uses it.
&gt; &gt;
&gt; &gt; Thanks. Dmitry.
&gt; &gt;
&gt; &gt;&gt; -----Original Message-----
&gt; &gt;&gt; From: Steph Fox [mailto:steph@zend.com]
&gt; &gt;&gt; Sent: Monday, May 29, 2006 1:40 PM
&gt; &gt;&gt; To: internals
&gt; &gt;&gt; Cc: PHP-GTK dev; Dmitry Stogov
&gt; &gt;&gt; Subject: [PHP-DEV] Ides of March [WAS: tsrm_shutdown() and the CLI 
&gt; &gt;&gt; SAPI]
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; Hi all,
&gt; &gt;&gt;
&gt; &gt;&gt; I've spent a fun weekend debugging TSRM and bits of ZE2, having 
&gt; &gt;&gt; finally figured that the zend_compiler_globals dtor was 
&gt; the point of
&gt; &gt;&gt; failure here.
&gt; &gt;&gt;
&gt; &gt;&gt; TSRM needs to mark resources as 'done' following a free 
&gt; and doesn't 
&gt; &gt;&gt; in most cases, but that's actually not the main problem we have in
&gt; &gt;&gt; PHP-GTK (although
&gt; &gt;&gt; fixing it may well solve everybody else's, I'll check that on
&gt; &gt;&gt; my travels).
&gt; &gt;&gt;
&gt; &gt;&gt; Dmitry's "Optimized cleanup loops on request shutdown"
&gt; &gt;&gt; commit(s) spanning
&gt; &gt;&gt; the 13th and 14th March broke Andrei's
&gt; &gt;&gt; 'EG(full_tables_cleanup) = 1' ruse
&gt; &gt;&gt; (we needed user classes to be cleaned and internal classes 
&gt; to stay), 
&gt; &gt;&gt; but it also broke TSRM shutdown completely for us. PHP-GTK classes
&gt; &gt;&gt; are recognized
&gt; &gt;&gt; as being internal, but only the first one ever reaches the
&gt; &gt;&gt; dtor - even when
&gt; &gt;&gt; there are no user-defined classes.
&gt; &gt;&gt;
&gt; &gt;&gt; zend_hash_reverse_apply() is called at that point, so I'm guessing 
&gt; &gt;&gt; there's a reentrancy issue behind my access violation crash.
&gt; &gt;&gt;
&gt; &gt;&gt; I'll get back to this when I get some time, in the 
&gt; meantime if anyone
&gt; &gt;&gt; (Dmitry?) wants to play with this you need to know that I 
&gt; can't put 
&gt; &gt;&gt; the 5_2 compat stuff into CVS until Andrei OKs it, so PHP-GTK HEAD
&gt; &gt;&gt; has to be built
&gt; &gt;&gt; against PHP_5_1 branch at present (anything after March 
&gt; 14th will do).
&gt; &gt;&gt;
&gt; &gt;&gt; - Steph
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; &gt; Under CLI ZTS build, when loading a PHP-GTK 2 .dll built against 
&gt; &gt;&gt; &gt; anything this side of PHP 5.1.2 release, I'm seeing an 'access
&gt; &gt;&gt; violation' crash on
&gt; &gt;&gt; &gt; reaching:
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;      if (resource_types_table &amp;&amp; !resource_types_table[j].done &amp;&amp;
&gt; &gt;&gt; &gt; resource_types_table[j].dtor) {
&gt; &gt;&gt; &gt;          resource_types_table[j].dtor(p-&gt;storage[j], 
&gt; &amp;p-&gt;storage);
&gt; &gt;&gt; &gt;      }
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; Similar code is also used in:
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; tsrm_free_interpreter_context()
&gt; &gt;&gt; &gt; ts_free_thread()
&gt; &gt;&gt; &gt; ts_free_worker_threads()
&gt; &gt;&gt; &gt; ts_free_id()
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; I thought ts_free_thread() was crashing at that line too at
&gt; &gt;&gt; first, but
&gt; &gt;&gt; &gt; that turned out to be because there's no 'done' check
&gt; &gt;&gt; there, i.e. double
&gt; &gt;&gt; &gt; dtors are possible via some functions. It's still vaguely
&gt; &gt;&gt; possible there's
&gt; &gt;&gt; &gt; a double flypast causing the crash I'm seeing, but I have
&gt; &gt;&gt; everything I
&gt; &gt;&gt; &gt; know about protected now. (On my laptop that is.)
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; Eventually I found the resource id for PHP-GTK - the 
&gt; only extension 
&gt; &gt;&gt; &gt; I'm loading during runtime, via php.ini - is 32nd out of 
&gt; a possible 
&gt; &gt;&gt; &gt; 32. "Eventually", because that means I can't use ts_free_id()
&gt; &gt;&gt; to avoid the
&gt; &gt;&gt; &gt; crash as advised by Frank (and Tony, and Dmitry, and anyone
&gt; &gt;&gt; else who ever
&gt; &gt;&gt; &gt; used that MSHUTDOWN workaround for CLI). Interesting too,
&gt; &gt;&gt; because the
&gt; &gt;&gt; &gt; resource that causes the crash appears to be something
&gt; &gt;&gt; completely other.
&gt; &gt;&gt; &gt; Tracking down resource id #5 - and that's all I know about
&gt; &gt;&gt; it apart from
&gt; &gt;&gt; &gt; it crashes - is a barrel of laughs, I'll let y'all know if
&gt; &gt;&gt; I ever find out
&gt; &gt;&gt; &gt; which of the many possible extensions/files in ext/standard
&gt; &gt;&gt; or core it is.
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; Short version: One line is problematic, and only in one
&gt; &gt;&gt; function, and
&gt; &gt;&gt; &gt; presumably only under CLI SAPI. (CGI already doesn't call
&gt; &gt;&gt; tsrm_shutdown(),
&gt; &gt;&gt; &gt; thanks to similar issues some 3 years ago).
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; The question is whether to take 'the Zeev approach' and
&gt; &gt;&gt; simply comment
&gt; &gt;&gt; &gt; out
&gt; &gt;&gt; &gt; the tsrm_shutdown() call at the end of sapi/cli/php_cli.c,
&gt; &gt;&gt; or whether to
&gt; &gt;&gt; &gt; spend time knitting up a fine-grained approach to prevent
&gt; &gt;&gt; the one bad line
&gt; &gt;&gt; &gt; in the function from being called in single-threaded
&gt; &gt;&gt; environments? I think
&gt; &gt;&gt; &gt; I've given up on the idea of actually resolving the bug now...
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; Thoughts?
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; - oh, and don't make one of them 'chicken-and-egg' - this is 
&gt; &gt;&gt; &gt; definitively NOT related to the shutdown order in main.c!!!!!
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; - Steph
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; --
&gt; &gt;&gt; &gt; PHP Internals - PHP Runtime Development Mailing List
&gt; &gt;&gt; &gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; This message was checked by NOD32 antivirus system. 
&gt; &gt;&gt; &gt; http://www.eset.com
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;
&gt; &gt;&gt;
&gt; &gt;&gt; --
&gt; &gt;&gt; PHP Internals - PHP Runtime Development Mailing List
&gt; &gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;
&gt; &gt; --
&gt; &gt; PHP Internals - PHP Runtime Development Mailing List
&gt; &gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; &gt;
&gt; &gt;
&gt; &gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; &gt;
&gt; &gt; This message was checked by NOD32 antivirus system. 
&gt; &gt; http://www.eset.com
&gt; &gt;
&gt; &gt; 
&gt; 
&gt; -- 
&gt; PHP Internals - PHP Runtime Development Mailing List
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060525110307</emailId><senderName>Markus Fischer</senderName><senderEmail>markus@fischer.name</senderEmail><timestampReceived>2006-05-25 11:03:07-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-GNOME and the Summer of Code</subject><body>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi,

I'm not going into the depth of the SoC Proposel, however when I hear
"Gnome" I fear about the support for the Win32 platform.

In fact, the only reason for me and I'm sure for some others also, is
the availability on Win32. So my only fear with this direction is that
it widens the gap between PHP-GTKs future and Win32.

People in the past hacked up things for Gnome under Win32, but as seen,
there was nothing which still carries fruits ...

I know what is means to develop PHP-GTK itself, I've had my expirience
with the opengl bindings and others, but even I had to face it that
customers still don't run linux in reality.

So, just my 2c ..

- - Markus

Anant Narayanan wrote:
&gt; Hi all!
&gt; 
&gt; If you are not already aware, I had submitted a proposal as a part of
&gt; Google's Summer of Code to PHP, that concerned the development of PHP
&gt; bindings for GNOME.
&gt; 
&gt; http://www.kix.in/soc/php-gnome.pdf
&gt; 
&gt; (Erm, that document is a sub-set of my original proposal to GNOME and
&gt; hence you might be interested only in the deliverables section to see
&gt; which libraries I intend to wrap)
&gt; 
&gt; A bad combination of events, led to the rejection of that proposal by
&gt; me, although I did not intend to, in spite of the fact that Andrei was
&gt; prepared to mentor it. The project has therefore been shelved from
&gt; Google's program.
&gt; 
&gt; However, I would still very much like to work on it, in fact, that is
&gt; what I have been trying to do with my rampant extension making :)
&gt; 
&gt; Anyway, now that we have Andrei's approval, I can start work on it. Any
&gt; help in any form would be much appreciated: Comments, Suggestions,
&gt; Criticisms, Documentation or Development.
&gt; 
&gt; Do have a look at the proposal and let me know what you think. Once you
&gt; are convinced that we go ahead with this mini-project, we have to decide
&gt; on a technical issue:
&gt; 
&gt; Do we develop the extensions by simply adding directories to ext?
&gt; 
&gt; =OR=
&gt; 
&gt; Try and develop a method by which, the GNOME extensions can be made into
&gt; a separate package?
&gt; 
&gt; Oh, and if you're panicking: (Don't touch CVS now!) or (We haven't even
&gt; made an alpha yet!) or (What? Who's going to write the docs?!), stay
&gt; calm. No-one's doing anything yet, we will thoroughly discuss how to go
&gt; about this, before starting any concrete work.
&gt; 
&gt; Most probably, we would want to open a new branch in CVS for this, or,
&gt; host the project on sf.net or someplace similar. As mentioned before,
&gt; all your suggestions are most welcome.
&gt; 
&gt; Give it a thought and let me know.
&gt; 
&gt; Cheers,
&gt; 
&gt; - Anant
&gt; 
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.3 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFEdY7r1nS0RcInK9ARAjN7AJ0dhyziauV5V4Aqhf09zjnEFMHUmwCgm4oh
KSOszCfnBzhZs+5YfMl5XKY=
=lUkY
-----END PGP SIGNATURE-----

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060525145546</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-25 14:55:46-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-GNOME and the Summer of Code</subject><body>

Hi Anant,

Markus' point about win32 is obviously one I very much agree with; I have 
problems with the idea of introducing 'pure' gnomishness into the PHP-GTK 
project's CVS repository too. But Andrei seemed very much into the idea when 
your proposal came up, and basically PHP-GTK is his baby - so I think we 
need to wait for Andrei's return (and the alpha release!) before we come to 
any kind of decision about this.

- Steph


&gt; Hi all!
&gt;
&gt; If you are not already aware, I had submitted a proposal as a part of
&gt; Google's Summer of Code to PHP, that concerned the development of PHP
&gt; bindings for GNOME.
&gt;
&gt; http://www.kix.in/soc/php-gnome.pdf
&gt;
&gt; (Erm, that document is a sub-set of my original proposal to GNOME and
&gt; hence you might be interested only in the deliverables section to see
&gt; which libraries I intend to wrap)
&gt;
&gt; A bad combination of events, led to the rejection of that proposal by
&gt; me, although I did not intend to, in spite of the fact that Andrei was
&gt; prepared to mentor it. The project has therefore been shelved from
&gt; Google's program.
&gt;
&gt; However, I would still very much like to work on it, in fact, that is
&gt; what I have been trying to do with my rampant extension making :)
&gt;
&gt; Anyway, now that we have Andrei's approval, I can start work on it. Any
&gt; help in any form would be much appreciated: Comments, Suggestions,
&gt; Criticisms, Documentation or Development.
&gt;
&gt; Do have a look at the proposal and let me know what you think. Once you
&gt; are convinced that we go ahead with this mini-project, we have to decide
&gt; on a technical issue:
&gt;
&gt; Do we develop the extensions by simply adding directories to ext?
&gt;
&gt; =OR=
&gt;
&gt; Try and develop a method by which, the GNOME extensions can be made into
&gt; a separate package?
&gt;
&gt; Oh, and if you're panicking: (Don't touch CVS now!) or (We haven't even
&gt; made an alpha yet!) or (What? Who's going to write the docs?!), stay
&gt; calm. No-one's doing anything yet, we will thoroughly discuss how to go
&gt; about this, before starting any concrete work.
&gt;
&gt; Most probably, we would want to open a new branch in CVS for this, or,
&gt; host the project on sf.net or someplace similar. As mentioned before,
&gt; all your suggestions are most welcome.
&gt;
&gt; Give it a thought and let me know.
&gt;
&gt; Cheers,
&gt;
&gt; - Anant
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060526033950</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-05-26 03:39:50-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-GNOME and the Summer of Code</subject><body>

Hi Steph,

&gt; Markus' point about win32 is obviously one I very much agree with; I
&gt; have problems with the idea of introducing 'pure' gnomishness into the
&gt; PHP-GTK project's CVS repository too.

I do not deny the fact that adding support for GNOME will widen the gap
between PHP-GTK and Win32. But that is no reason for us not to do it,
the extension will only be used by those who need it, not affecting the
Win32 users in anyway at all.

Python is as much a cross-platform language as PHP and I am sure they
would have had the same issues. However, they did decide to go ahead and
make the GNOME extension. It has not affected the cross-platformness of
pyGTK in any way.

The reason I make that comparison is because I personally derive
inspiration from pyGTK and would like to see PHP-GTK reach that
position. It may not seem right to many, since PHP can hardly be
compared to Python on any plane. However, in the words of Scott:

&lt;quote&gt;
PHP-GTK is the Cinderella of the PHP world. Most people dismiss it as an
impractical curiosity trying to fit in where it doesn't belong..........
To all of these "Wicked Step-Sisters" I say, don't be so quick to judge.
Take a moment to look beneath the surface and glimpse at PHP-GTK's true
potential.
&lt;/quote&gt;

The conflict is at the root, a vision of what PHP should be. For many
it's still for the web, but I beg to differ. Anyway, just my $0.02,
don't take me too seriously :)

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060526045843</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-26 04:58:43-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-GNOME and the Summer of Code</subject><body>

Hey Anant,

I wasn't saying 'DON'T DO IT!' - more like 'is it really what we need?'

Anyway as I said before, Andrei seemed very much into the idea, put himself 
up as 'mentor' and encouraged everyone with access to vote for it. But he's 
not around to speak for himself this week.

- Steph

&gt; Hi Steph,
&gt;
&gt;&gt; Markus' point about win32 is obviously one I very much agree with; I
&gt;&gt; have problems with the idea of introducing 'pure' gnomishness into the
&gt;&gt; PHP-GTK project's CVS repository too.
&gt;
&gt; I do not deny the fact that adding support for GNOME will widen the gap
&gt; between PHP-GTK and Win32. But that is no reason for us not to do it,
&gt; the extension will only be used by those who need it, not affecting the
&gt; Win32 users in anyway at all.
&gt;
&gt; Python is as much a cross-platform language as PHP and I am sure they
&gt; would have had the same issues. However, they did decide to go ahead and
&gt; make the GNOME extension. It has not affected the cross-platformness of
&gt; pyGTK in any way.
&gt;
&gt; The reason I make that comparison is because I personally derive
&gt; inspiration from pyGTK and would like to see PHP-GTK reach that
&gt; position. It may not seem right to many, since PHP can hardly be
&gt; compared to Python on any plane. However, in the words of Scott:
&gt;
&gt; &lt;quote&gt;
&gt; PHP-GTK is the Cinderella of the PHP world. Most people dismiss it as an
&gt; impractical curiosity trying to fit in where it doesn't belong..........
&gt; To all of these "Wicked Step-Sisters" I say, don't be so quick to judge.
&gt; Take a moment to look beneath the surface and glimpse at PHP-GTK's true
&gt; potential.
&gt; &lt;/quote&gt;
&gt;
&gt; The conflict is at the root, a vision of what PHP should be. For many
&gt; it's still for the web, but I beg to differ. Anyway, just my $0.02,
&gt; don't take me too seriously :)
&gt;
&gt; - Anant
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060526071450</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-05-26 07:14:50-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-GNOME and the Summer of Code</subject><body>

I really don't believe that developing a set of Gnome extensions for  
PHP-GTK would "widen the gap" between it and Windows. People who run  
Gnome will be happy to use the extensions, and the apps developed  
with them will of course be restricted to Unix platforms, but so  
what? I don't think we should handicap PHP-GTK just because of Win32.

-Andrei

On May 25, 2006, at 3:03 PM, Markus Fischer wrote:

&gt; -----BEGIN PGP SIGNED MESSAGE-----
&gt; Hash: SHA1
&gt;
&gt; Hi,
&gt;
&gt; I'm not going into the depth of the SoC Proposel, however when I hear
&gt; "Gnome" I fear about the support for the Win32 platform.
&gt;
&gt; In fact, the only reason for me and I'm sure for some others also, is
&gt; the availability on Win32. So my only fear with this direction is that
&gt; it widens the gap between PHP-GTKs future and Win32.
&gt;
&gt; People in the past hacked up things for Gnome under Win32, but as  
&gt; seen,
&gt; there was nothing which still carries fruits ...
&gt;
&gt; I know what is means to develop PHP-GTK itself, I've had my expirience
&gt; with the opengl bindings and others, but even I had to face it that
&gt; customers still don't run linux in reality.
&gt;
&gt; So, just my 2c ..
&gt;
&gt; - - Markus
&gt;
&gt; Anant Narayanan wrote:
&gt;&gt; Hi all!
&gt;&gt;
&gt;&gt; If you are not already aware, I had submitted a proposal as a part of
&gt;&gt; Google's Summer of Code to PHP, that concerned the development of PHP
&gt;&gt; bindings for GNOME.
&gt;&gt;
&gt;&gt; http://www.kix.in/soc/php-gnome.pdf
&gt;&gt;
&gt;&gt; (Erm, that document is a sub-set of my original proposal to GNOME and
&gt;&gt; hence you might be interested only in the deliverables section to see
&gt;&gt; which libraries I intend to wrap)
&gt;&gt;
&gt;&gt; A bad combination of events, led to the rejection of that proposal by
&gt;&gt; me, although I did not intend to, in spite of the fact that Andrei  
&gt;&gt; was
&gt;&gt; prepared to mentor it. The project has therefore been shelved from
&gt;&gt; Google's program.
&gt;&gt;
&gt;&gt; However, I would still very much like to work on it, in fact, that is
&gt;&gt; what I have been trying to do with my rampant extension making :)
&gt;&gt;
&gt;&gt; Anyway, now that we have Andrei's approval, I can start work on  
&gt;&gt; it. Any
&gt;&gt; help in any form would be much appreciated: Comments, Suggestions,
&gt;&gt; Criticisms, Documentation or Development.
&gt;&gt;
&gt;&gt; Do have a look at the proposal and let me know what you think.  
&gt;&gt; Once you
&gt;&gt; are convinced that we go ahead with this mini-project, we have to  
&gt;&gt; decide
&gt;&gt; on a technical issue:
&gt;&gt;
&gt;&gt; Do we develop the extensions by simply adding directories to ext?
&gt;&gt;
&gt;&gt; =OR=
&gt;&gt;
&gt;&gt; Try and develop a method by which, the GNOME extensions can be  
&gt;&gt; made into
&gt;&gt; a separate package?
&gt;&gt;
&gt;&gt; Oh, and if you're panicking: (Don't touch CVS now!) or (We haven't  
&gt;&gt; even
&gt;&gt; made an alpha yet!) or (What? Who's going to write the docs?!), stay
&gt;&gt; calm. No-one's doing anything yet, we will thoroughly discuss how  
&gt;&gt; to go
&gt;&gt; about this, before starting any concrete work.
&gt;&gt;
&gt;&gt; Most probably, we would want to open a new branch in CVS for this,  
&gt;&gt; or,
&gt;&gt; host the project on sf.net or someplace similar. As mentioned before,
&gt;&gt; all your suggestions are most welcome.
&gt;&gt;
&gt;&gt; Give it a thought and let me know.
&gt;&gt;
&gt;&gt; Cheers,
&gt;&gt;
&gt;&gt; - Anant
&gt;&gt;
&gt; -----BEGIN PGP SIGNATURE-----
&gt; Version: GnuPG v1.4.3 (MingW32)
&gt; Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org
&gt;
&gt; iD8DBQFEdY7r1nS0RcInK9ARAjN7AJ0dhyziauV5V4Aqhf09zjnEFMHUmwCgm4oh
&gt; KSOszCfnBzhZs+5YfMl5XKY=
&gt; =lUkY
&gt; -----END PGP SIGNATURE-----
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060526071755</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-05-26 07:17:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-GNOME and the Summer of Code</subject><body>

Au contraire. I think Anant can start preliminary work, by which I  
mean putting together some sort of more detailed outline of work to  
be done and how he intends to get around certain issues (that might  
come up).

-Andrei


On May 26, 2006, at 8:58 AM, Steph Fox wrote:

&gt; Hey Anant,
&gt;
&gt; I wasn't saying 'DON'T DO IT!' - more like 'is it really what we  
&gt; need?'
&gt;
&gt; Anyway as I said before, Andrei seemed very much into the idea, put  
&gt; himself up as 'mentor' and encouraged everyone with access to vote  
&gt; for it. But he's not around to speak for himself this week.
&gt;
&gt; - Steph
&gt;
&gt;&gt; Hi Steph,
&gt;&gt;
&gt;&gt;&gt; Markus' point about win32 is obviously one I very much agree with; I
&gt;&gt;&gt; have problems with the idea of introducing 'pure' gnomishness  
&gt;&gt;&gt; into the
&gt;&gt;&gt; PHP-GTK project's CVS repository too.
&gt;&gt;
&gt;&gt; I do not deny the fact that adding support for GNOME will widen  
&gt;&gt; the gap
&gt;&gt; between PHP-GTK and Win32. But that is no reason for us not to do it,
&gt;&gt; the extension will only be used by those who need it, not  
&gt;&gt; affecting the
&gt;&gt; Win32 users in anyway at all.
&gt;&gt;
&gt;&gt; Python is as much a cross-platform language as PHP and I am sure they
&gt;&gt; would have had the same issues. However, they did decide to go  
&gt;&gt; ahead and
&gt;&gt; make the GNOME extension. It has not affected the cross- 
&gt;&gt; platformness of
&gt;&gt; pyGTK in any way.
&gt;&gt;
&gt;&gt; The reason I make that comparison is because I personally derive
&gt;&gt; inspiration from pyGTK and would like to see PHP-GTK reach that
&gt;&gt; position. It may not seem right to many, since PHP can hardly be
&gt;&gt; compared to Python on any plane. However, in the words of Scott:
&gt;&gt;
&gt;&gt; &lt;quote&gt;
&gt;&gt; PHP-GTK is the Cinderella of the PHP world. Most people dismiss it  
&gt;&gt; as an
&gt;&gt; impractical curiosity trying to fit in where it doesn't  
&gt;&gt; belong..........
&gt;&gt; To all of these "Wicked Step-Sisters" I say, don't be so quick to  
&gt;&gt; judge.
&gt;&gt; Take a moment to look beneath the surface and glimpse at PHP-GTK's  
&gt;&gt; true
&gt;&gt; potential.
&gt;&gt; &lt;/quote&gt;
&gt;&gt;
&gt;&gt; The conflict is at the root, a vision of what PHP should be. For many
&gt;&gt; it's still for the web, but I beg to differ. Anyway, just my $0.02,
&gt;&gt; don't take me too seriously :)
&gt;&gt;
&gt;&gt; - Anant
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060530190108</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-05-30 19:01:08-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkComboBox TODO2</subject><body>

I don't have the karma to update the TODO2 file so here is a patch with 
what I wanted to add:

Index: TODO2
===================================================================
RCS file: /repository/php-gtk/TODO2,v
retrieving revision 1.76
diff -u -r1.76 TODO2
--- TODO2       30 May 2006 07:37:12 -0000      1.76
+++ TODO2       30 May 2006 19:00:04 -0000
@@ -42,6 +42,8 @@
         method      GtkClipboard::wait_is_target_available: unknown 
type 'GdkAtom'
  * GtkComboBox
      Default constructor should get optional parameter, and 
new_with_model() be removed
+    method    GtkComboBox::set_row_separator_func: unknown type 
'GtkTreeViewRowSeparatorFunc'
+    method    GtkComboBox::get_row_separator_func: unknown type 
'GtkTreeViewRowSeparatorFunc'
  * GtkEntry
         GtkEntry objects can't be var_dumped, probably something missing
  * GdkGC

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060526091602</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-26 09:16:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-GNOME and the Summer of Code</subject><body>


Anant,


Couldn't the Gnome bindings be a PHP extension independent of PHP-Gtk?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060524132808</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-24 13:28:08-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] gtksourceview (win32)</subject><body>

Brilliant, could you please tell me where you got hold of the source?

I looked all over the net for _anything_ win32-related there! There weren't 
even makefiles for it, but then this was some weeks ago...

----- Original Message ----- 
From: "xxoes" &lt;xxoes@nw7.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Wednesday, May 24, 2006 8:28 AM
Subject: [PHP-GTK-DEV] gtksourceview (win32)


&gt; hi,
&gt; i have create a gtksourceview.lib and gtksourceview.dll from the 
&gt; gtksourceview-1.4.2 for win32.
&gt; I have changed many header files an the c source but now it works. (only 
&gt; printing support is not been implemented)
&gt; I can upload the source and lib/dll for php-gtk2.
&gt;
&gt; Now i can use gtksourceview under win32 with php-gtk2.
&gt; Here is the config.w32 i have the same problem with the 
&gt; phpg_sourceview_register_classes and phpg_sourceview_register_constants 
&gt; like mozembed:
&gt;
&gt; &gt; There is a bug in my config because the
&gt; phpg_gtkmozembed_register_classes and phpg_gtkmozembed_register_constants 
&gt; seems to be wrong. I changed this manualy to 
&gt; phpg_mozembed_register_classes and phpg_mozembed_register_constants. The 
&gt; define COMPILE_DL_MOZEMBED musst be COMPILE_DL_MOZEMBED2 in 
&gt; php_mozembed.c. Why???
&gt;
&gt; ARG_WITH("sourceview", "sourceview support", "no");
&gt;
&gt; if (PHP_GTK_SOURCEVIEW != "no" || PHP_GTK_ALL != "no") {
&gt;
&gt;        if (CHECK_LIB("gtksourceview.lib", "sourceview")) {
&gt;
&gt;                if (FSO.FileExists("win32\\temp.bat")) {
&gt;
&gt;                        var temp = FSO.OpenTextFile("win32\\temp.bat", 8);
&gt;
&gt;                        temp.WriteLine("php -q generator\\generator.php -l 
&gt; win32\\logs\\config_sourceview.log -o 
&gt; ext\\sourceview\\sourceview.overrides -p sourceview -r ext\\gtk+\\gtk.defs 
&gt; ext\\sourceview\\sourceview.defs &gt; ext\\sourceview\\gen_sourceview.c");
&gt;
&gt;                        temp.WriteLine('grep -h "^PHP_GTK_EXPORT_CE" 
&gt; ext\\sourceview\\gen_sourceview.c | sed -e "s/^/PHP_GTK_API extern /" &gt; 
&gt; ext\\sourceview\\gen_sourceview.h');
&gt;
&gt;                        temp.Close();
&gt;                }
&gt;
&gt;                ADD_FLAG("CFLAGS_SOURCEVIEW", "/I ext\\sourceview /I 
&gt; ..\\ext\\sourceview /D HAVE_SOURCEVIEW=1");
&gt;                EXTENSION("sourceview", "gen_sourceview.c 
&gt; php_sourceview.c", true); // always shared
&gt;                AC_DEFINE("HAVE_SOURCEVIEW", 1, "sourceview enabled");
&gt;
&gt;        } else {
&gt;
&gt;                WARNING("sourceview not enabled; libraries and headers not 
&gt; found");
&gt;        }
&gt;
&gt; }
&gt;
&gt;
&gt; How can I print with php-gtk2 gtksourceview? I have no method found that 
&gt; can print with sourceview in the php-gtk2 overrides.
&gt;
&gt; sorry for my english ;)
&gt;
&gt; mfg xxoes
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060524133132</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-24 13:31:32-0400</timestampReceived><subject>Fw: [PHP-GTK-DEV] gtksourceview (win32)</subject><body>

ps I wrote the PHP-GTK wrapper for it whenever it was I went a-hunting... 
(and you're right, we don't need the print support)

----- Original Message ----- 
From: "Steph Fox" &lt;steph@zend.com&gt;
To: "xxoes" &lt;xxoes@nw7.de&gt;; "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Wednesday, May 24, 2006 3:28 PM
Subject: Re: [PHP-GTK-DEV] gtksourceview (win32)


&gt; Brilliant, could you please tell me where you got hold of the source?
&gt;
&gt; I looked all over the net for _anything_ win32-related there! There 
&gt; weren't even makefiles for it, but then this was some weeks ago...
&gt;
&gt; ----- Original Message ----- 
&gt; From: "xxoes" &lt;xxoes@nw7.de&gt;
&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Wednesday, May 24, 2006 8:28 AM
&gt; Subject: [PHP-GTK-DEV] gtksourceview (win32)
&gt;
&gt;
&gt;&gt; hi,
&gt;&gt; i have create a gtksourceview.lib and gtksourceview.dll from the 
&gt;&gt; gtksourceview-1.4.2 for win32.
&gt;&gt; I have changed many header files an the c source but now it works. (only 
&gt;&gt; printing support is not been implemented)
&gt;&gt; I can upload the source and lib/dll for php-gtk2.
&gt;&gt;
&gt;&gt; Now i can use gtksourceview under win32 with php-gtk2.
&gt;&gt; Here is the config.w32 i have the same problem with the 
&gt;&gt; phpg_sourceview_register_classes and phpg_sourceview_register_constants 
&gt;&gt; like mozembed:
&gt;&gt;
&gt;&gt; &gt; There is a bug in my config because the
&gt;&gt; phpg_gtkmozembed_register_classes and phpg_gtkmozembed_register_constants 
&gt;&gt; seems to be wrong. I changed this manualy to 
&gt;&gt; phpg_mozembed_register_classes and phpg_mozembed_register_constants. The 
&gt;&gt; define COMPILE_DL_MOZEMBED musst be COMPILE_DL_MOZEMBED2 in 
&gt;&gt; php_mozembed.c. Why???
&gt;&gt;
&gt;&gt; ARG_WITH("sourceview", "sourceview support", "no");
&gt;&gt;
&gt;&gt; if (PHP_GTK_SOURCEVIEW != "no" || PHP_GTK_ALL != "no") {
&gt;&gt;
&gt;&gt;        if (CHECK_LIB("gtksourceview.lib", "sourceview")) {
&gt;&gt;
&gt;&gt;                if (FSO.FileExists("win32\\temp.bat")) {
&gt;&gt;
&gt;&gt;                        var temp = FSO.OpenTextFile("win32\\temp.bat", 8);
&gt;&gt;
&gt;&gt;                        temp.WriteLine("php -q generator\\generator.php -l 
&gt;&gt; win32\\logs\\config_sourceview.log -o 
&gt;&gt; ext\\sourceview\\sourceview.overrides -p sourceview -r 
&gt;&gt; ext\\gtk+\\gtk.defs ext\\sourceview\\sourceview.defs &gt; 
&gt;&gt; ext\\sourceview\\gen_sourceview.c");
&gt;&gt;
&gt;&gt;                        temp.WriteLine('grep -h "^PHP_GTK_EXPORT_CE" 
&gt;&gt; ext\\sourceview\\gen_sourceview.c | sed -e "s/^/PHP_GTK_API extern /" &gt; 
&gt;&gt; ext\\sourceview\\gen_sourceview.h');
&gt;&gt;
&gt;&gt;                        temp.Close();
&gt;&gt;                }
&gt;&gt;
&gt;&gt;                ADD_FLAG("CFLAGS_SOURCEVIEW", "/I ext\\sourceview /I 
&gt;&gt; ..\\ext\\sourceview /D HAVE_SOURCEVIEW=1");
&gt;&gt;                EXTENSION("sourceview", "gen_sourceview.c 
&gt;&gt; php_sourceview.c", true); // always shared
&gt;&gt;                AC_DEFINE("HAVE_SOURCEVIEW", 1, "sourceview enabled");
&gt;&gt;
&gt;&gt;        } else {
&gt;&gt;
&gt;&gt;                WARNING("sourceview not enabled; libraries and headers not 
&gt;&gt; found");
&gt;&gt;        }
&gt;&gt;
&gt;&gt; }
&gt;&gt;
&gt;&gt;
&gt;&gt; How can I print with php-gtk2 gtksourceview? I have no method found that 
&gt;&gt; can print with sourceview in the php-gtk2 overrides.
&gt;&gt;
&gt;&gt; sorry for my english ;)
&gt;&gt;
&gt;&gt; mfg xxoes
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060524134145</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-24 13:41:45-0400</timestampReceived><subject>Re: Fw: [PHP-GTK-DEV] gtksourceview (win32)</subject><body>


Hello all,

&gt; (and you're right, we don't need the print support)
Printer support isn't even possible until we have Gnome bindings for
PHP. The Sourceview print class constructor requires an object of gnome
print config class.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060524134750</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-24 13:47:50-0400</timestampReceived><subject>Re: Fw: [PHP-GTK-DEV] gtksourceview (win32)</subject><body>

Yes, I know.

----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Wednesday, May 24, 2006 3:41 PM
Subject: Re: Fw: [PHP-GTK-DEV] gtksourceview (win32)

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060524144510</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-24 14:45:10-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] gtksourceview (win32)</subject><body>

I didn't find the VS version - is that your own, or someone else's work?


&gt; Here is my source:
&gt; http://www.b0red.de/php-gtk2/gtksourceview/gtksourceview/ &lt;-- 
&gt; gtksourceviw Source files
&gt; http://www.b0red.de/php-gtk2/gtksourceview/gtksourceview-1.4.2/ &lt;-- VS 
&gt; Studio Project files
&gt;
&gt; i can not compile gtksource view with:
&gt; cygwin
&gt; ./configure
&gt; make

Heh, I wouldn't even have tried :)

&gt; There are many missing thinks.
&gt;
&gt; So i have put all files into a VisualStudio Project and i have try to 
&gt; compile.
&gt;
&gt; The tar.bz2 is a copy of the content 
&gt; (http://www.b0red.de/php-gtk2/gtksourceview/*).
&gt; gtksourceview-1.4.2.tar.gz is the original source you can look with diff 
&gt; to find the differents.

I already have the original source here, but I'll check it out anyway - it 
could be a different version by now.

&gt; I have add for every non static function GTKSOURCEVIEW_API.
&gt; gtksourceview-1.4.2/gtksourceview/x.php is the script who is generating 
&gt; changes to the code.

Uhuh... let me take a look into this over the (much lighter thanks to you) 
upcoming weekend...  You may need to offer your changes back to the original 
project before we can reasonably adopt it.

Thanks!

-- Steph

&gt;
&gt; mfg xxoes
&gt;
&gt; Steph Fox schrieb:
&gt;
&gt;&gt; Brilliant, could you please tell me where you got hold of the source?
&gt;&gt;
&gt;&gt; I looked all over the net for _anything_ win32-related there! There 
&gt;&gt; weren't even makefiles for it, but then this was some weeks ago...
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "xxoes" &lt;xxoes@nw7.de&gt;
&gt;&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt; Sent: Wednesday, May 24, 2006 8:28 AM
&gt;&gt; Subject: [PHP-GTK-DEV] gtksourceview (win32)
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; hi,
&gt;&gt;&gt; i have create a gtksourceview.lib and gtksourceview.dll from the 
&gt;&gt;&gt; gtksourceview-1.4.2 for win32.
&gt;&gt;&gt; I have changed many header files an the c source but now it works. (only 
&gt;&gt;&gt; printing support is not been implemented)
&gt;&gt;&gt; I can upload the source and lib/dll for php-gtk2.
&gt;&gt;&gt;
&gt;&gt;&gt; Now i can use gtksourceview under win32 with php-gtk2.
&gt;&gt;&gt; Here is the config.w32 i have the same problem with the 
&gt;&gt;&gt; phpg_sourceview_register_classes and phpg_sourceview_register_constants 
&gt;&gt;&gt; like mozembed:
&gt;&gt;&gt;
&gt;&gt;&gt; &gt; There is a bug in my config because the
&gt;&gt;&gt; phpg_gtkmozembed_register_classes and 
&gt;&gt;&gt; phpg_gtkmozembed_register_constants seems to be wrong. I changed this 
&gt;&gt;&gt; manualy to phpg_mozembed_register_classes and 
&gt;&gt;&gt; phpg_mozembed_register_constants. The define COMPILE_DL_MOZEMBED musst 
&gt;&gt;&gt; be COMPILE_DL_MOZEMBED2 in php_mozembed.c. Why???
&gt;&gt;&gt;
&gt;&gt;&gt; ARG_WITH("sourceview", "sourceview support", "no");
&gt;&gt;&gt;
&gt;&gt;&gt; if (PHP_GTK_SOURCEVIEW != "no" || PHP_GTK_ALL != "no") {
&gt;&gt;&gt;
&gt;&gt;&gt;        if (CHECK_LIB("gtksourceview.lib", "sourceview")) {
&gt;&gt;&gt;
&gt;&gt;&gt;                if (FSO.FileExists("win32\\temp.bat")) {
&gt;&gt;&gt;
&gt;&gt;&gt;                        var temp = FSO.OpenTextFile("win32\\temp.bat", 
&gt;&gt;&gt; 8);
&gt;&gt;&gt;
&gt;&gt;&gt;                        temp.WriteLine("php -q 
&gt;&gt;&gt; generator\\generator.php -l win32\\logs\\config_sourceview.log -o 
&gt;&gt;&gt; ext\\sourceview\\sourceview.overrides -p sourceview -r 
&gt;&gt;&gt; ext\\gtk+\\gtk.defs ext\\sourceview\\sourceview.defs &gt; 
&gt;&gt;&gt; ext\\sourceview\\gen_sourceview.c");
&gt;&gt;&gt;
&gt;&gt;&gt;                        temp.WriteLine('grep -h "^PHP_GTK_EXPORT_CE" 
&gt;&gt;&gt; ext\\sourceview\\gen_sourceview.c | sed -e "s/^/PHP_GTK_API extern /"
&gt;&gt;&gt; &gt; ext\\sourceview\\gen_sourceview.h');
&gt;&gt;&gt;
&gt;&gt;&gt;                        temp.Close();
&gt;&gt;&gt;                }
&gt;&gt;&gt;
&gt;&gt;&gt;                ADD_FLAG("CFLAGS_SOURCEVIEW", "/I ext\\sourceview /I 
&gt;&gt;&gt; ..\\ext\\sourceview /D HAVE_SOURCEVIEW=1");
&gt;&gt;&gt;                EXTENSION("sourceview", "gen_sourceview.c 
&gt;&gt;&gt; php_sourceview.c", true); // always shared
&gt;&gt;&gt;                AC_DEFINE("HAVE_SOURCEVIEW", 1, "sourceview enabled");
&gt;&gt;&gt;
&gt;&gt;&gt;        } else {
&gt;&gt;&gt;
&gt;&gt;&gt;                WARNING("sourceview not enabled; libraries and headers 
&gt;&gt;&gt; not found");
&gt;&gt;&gt;        }
&gt;&gt;&gt;
&gt;&gt;&gt; }
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; How can I print with php-gtk2 gtksourceview? I have no method found that 
&gt;&gt;&gt; can print with sourceview in the php-gtk2 overrides.
&gt;&gt;&gt;
&gt;&gt;&gt; sorry for my english ;)
&gt;&gt;&gt;
&gt;&gt;&gt; mfg xxoes
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060522173319</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-22 17:33:19-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] The win32 crash</subject><body>

Yes, I know.

I also get your debug crash with 5_2. Intending to look into both over next 
weekend.

----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, May 22, 2006 7:27 PM
Subject: [PHP-GTK-DEV] The win32 crash

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060522174303</emailId><senderName>"Frank M. Kromann"</senderName><senderEmail>frank@kromann.info</senderEmail><timestampReceived>2006-05-22 17:43:03-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] The win32 crash</subject><body>

Hi Steph,

Is it crashing with the CGI version too?

You could try to compile it with the non-ZTS version. That way you will
get rid of the portion of the code that crashes. There is no real need to
use the ZTS version with GTK and you are always running a single process.

- Frank

&gt; Yes, I know.
&gt; 
&gt; I also get your debug crash with 5_2. Intending to look into both over
next 
&gt; weekend.
&gt; 
&gt; ----- Original Message ----- 
&gt; From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Monday, May 22, 2006 7:27 PM
&gt; Subject: [PHP-GTK-DEV] The win32 crash
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060522175055</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-22 17:50:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] The win32 crash</subject><body>


Hello Frank,

&gt; You could try to compile it with the non-ZTS version. That way you will
&gt; get rid of the portion of the code that crashes. There is no real need to
&gt; use the ZTS version with GTK and you are always running a single process.
Does it still crash when using the default php win32 distribution from
php.net?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060522175226</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-22 17:52:26-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] The win32 crash</subject><body>

It's since Dmitry changed something in ZE last January - I've notes on 
fixing it somewhere. (That's the 'standard' crash not the 'debug' crash.) 
The debug crash is down to the ME changes.

----- Original Message ----- 
From: "Frank M. Kromann" &lt;frank@kromann.info&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "Christian Weiske" &lt;cweiske@cweiske.de&gt;; "PHP-GTK Dev list" 
&lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, May 22, 2006 7:43 PM
Subject: Re: [PHP-GTK-DEV] The win32 crash


&gt; Hi Steph,
&gt;
&gt; Is it crashing with the CGI version too?
&gt;
&gt; You could try to compile it with the non-ZTS version. That way you will
&gt; get rid of the portion of the code that crashes. There is no real need to
&gt; use the ZTS version with GTK and you are always running a single process.
&gt;
&gt; - Frank
&gt;
&gt;&gt; Yes, I know.
&gt;&gt;
&gt;&gt; I also get your debug crash with 5_2. Intending to look into both over
&gt; next
&gt;&gt; weekend.
&gt;&gt;
&gt;&gt; ----- Original Message ----- 
&gt;&gt; From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
&gt;&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt; Sent: Monday, May 22, 2006 7:27 PM
&gt;&gt; Subject: [PHP-GTK-DEV] The win32 crash
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060522182308</emailId><senderName>"Frank M. Kromann"</senderName><senderEmail>frank@kromann.info</senderEmail><timestampReceived>2006-05-22 18:23:08-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] The win32 crash</subject><body>

Hi Christian,

I have not tested this on GTK, but I have been looking at shutdown
problems with the ZTS build and found that there is a difference between
CLI and CGI versions of PHP. This causes PHP to call the shutdown finction
multiple times for extensions that register a special dtor (tidy and
printer just to mention a few).

When I get a new hard drive for my notebook (it crashed yesterday), and
reinstall my development tools I'll try to build GTK with both ZTS and non
ZTS versions of PHP.

- Frank

&gt; Hello Frank,
&gt; 
&gt; &gt; You could try to compile it with the non-ZTS version. That way you
will
&gt; &gt; get rid of the portion of the code that crashes. There is no real need
to
&gt; &gt; use the ZTS version with GTK and you are always running a single
process.
&gt; Does it still crash when using the default php win32 distribution from
&gt; php.net?
&gt; 
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060603190945</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-06-03 19:09:45-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] h2def.py has a bug</subject><body>

Just fix it if it works for you.

-Andrei


On May 22, 2006, at 8:00 AM, Christian Weiske wrote:

&gt; Hi all,
&gt;
&gt; on line #230 of generator/h2def.py:
&gt;&gt; args=arg_split_pat.split(args,', ')
&gt; which is wrong.
&gt; arg_split_pat is already a compiled pattern, so the second argument is
&gt; wrong. The line should read
&gt;&gt; args=arg_split_pat.split(args)
&gt;
&gt;
&gt; (I didn't commit this change as I'm not the python guru and I don't  
&gt; know
&gt; why it worked for someone. It doesn't work for me with python 2.4.2)
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060517162252</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-17 16:22:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] #37504 [NEW]: Patch for GtkTreeSortable::set_(default_)sort_func</subject><body>

If you put [PATCH] at the beginning of the subject line they're easy to 
search for and find. It's the unmarked mails with content like 'by the way, 
patch attached' that cause the problems :)

----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Thursday, May 18, 2006 6:15 PM
Subject: Re: [PHP-GTK-DEV] #37504 [NEW]: Patch for 
GtkTreeSortable::set_(default_)sort_func


&gt; Steph,
&gt;
&gt;&gt; Why are you putting these in as bug reports???
&gt; Because Andrei once told me that they are more visible in the bug
&gt; tracker. I don't want to apply them to cvs because my C isn't that good
&gt; and the patches probably need a review.
&gt; If you want, I just send plain mails to the list. Just don't know if
&gt; they get forgotten then.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060518160350</emailId><senderName>"cweiske () php ! net"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-05-18 16:03:50-0400</timestampReceived><subject>[PHP-GTK-DEV] #37504 [NEW]: Patch for GtkTreeSortable::set_(default_)sort_func</subject><body>

From:             cweiske@php.net
Operating system: any
PHP version:      5.1.4
PHP Bug Type:     PHP-GTK related
Bug description:  Patch for GtkTreeSortable::set_(default_)sort_func

Description:
------------
At
http://xml.cweiske.de/patches/gtktreeview.overrides.diff
is a patch that implements
GtkTreeSortable::set_sort_func
GtkTreeSortable::set_default_sort_func
and the marshaller.



-- 
Edit bug report at http://bugs.php.net/?id=37504&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=37504&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.2): http://bugs.php.net/fix.php?id=37504&amp;r=trysnapshot52
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=37504&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=37504&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=37504&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=37504&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=37504&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=37504&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=37504&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=37504&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=37504&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=37504&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=37504&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=37504&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=37504&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=37504&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=37504&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=37504&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=37504&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=37504&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060509104945</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-09 10:49:45-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] No news on the website for 3 months</subject><body>


Bump.


-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060516172458</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-16 17:24:58-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] No news on the website for 3 months</subject><body>

My problem is it needs far more than a couple of free hours at this end.

How about if I try to get everything I need to do out of the way before you 
get back? (nb I won't add anything to core PHP-GTK without your approval). 
That way we should be able to roll the alpha on your return.

- Steph

&gt; Yes, Steph said something about a Windows problem. I am ready to release 
&gt; alpha whenever. Just need a couple of hours of free time to do it. The 
&gt; matters are slightly complicated by the fact that I'm going on a trip to 
&gt; Russia for 11 days. I may try to do it from there, but that's uncertain.
&gt;
&gt; -Andrei
&gt;
&gt; On May 17, 2006, at 6:07 AM, Scott Mattocks wrote:
&gt;
&gt;&gt; Christian Weiske wrote:
&gt;&gt;&gt; Bump.
&gt;&gt;
&gt;&gt; Am I the only one with php-gtk-web karma?
&gt;&gt;
&gt;&gt; Anyway, what is there to report? We have a bunch of patches, a few PEAR 
&gt;&gt; packages and docs online. I can write something up on that.
&gt;&gt;
&gt;&gt; I think the best way to show that the project is still active is to 
&gt;&gt; release an alpha version (please not my not so subtle nagging). Where do 
&gt;&gt; we stand on that? The last thing I remember was that we were waiting on 
&gt;&gt; some Windows issues. All of the patches that were going to be applied 
&gt;&gt; have been applied and I sent a patch for the packaging system.
&gt;&gt;
&gt;&gt; I'll try to get something up today.
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; -- 
&gt;&gt; Scott Mattocks
&gt;&gt; Author of: Pro PHP-GTK
&gt;&gt; http://www.crisscott.com
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060517010802</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-17 01:08:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] No news on the website for 3 months</subject><body>

I know there's a crash bug at present.

I need to have time to sit down and figure that out, and also where any 
other issues might lie.

At present 'other issues' is limited to interface stuff (filechooser to be 
precise) but I really don't think that's a PHP-GTK specific issue, or even a 
win32 specific issue. I think it's a GTK 2.6 specific issue.

- given that I researched that already and that seems to be the case - 
should I even try to work around it? Or should I assume that the final 
PHP-GTK 2 release will be against GTK 2.8?


&gt; And what needs to be gotten out of the way exactly? Can we make an exact 
&gt; list and agree that once it's done we can release?
&gt;
&gt; I'll be checking my email while I'm there of course.
&gt;
&gt; -Andrei
&gt;
&gt; On May 16, 2006, at 10:24 AM, Steph Fox wrote:
&gt;
&gt;&gt; My problem is it needs far more than a couple of free hours at this end.
&gt;&gt;
&gt;&gt; How about if I try to get everything I need to do out of the way before 
&gt;&gt; you get back? (nb I won't add anything to core PHP-GTK without your 
&gt;&gt; approval). That way we should be able to roll the alpha on your return.
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060517021759</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-17 02:17:59-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] No news on the website for 3 months</subject><body>

Try 'every time php-gtk is enabled'.

&gt; How critical is this crash bug? Does it happen with any script or  
&gt; only in very specific circumstances? I don't think that we should  
&gt; delay the release because of a rarely occurring problem.
&gt; 
&gt; I am not sure if final PHP-GTK 2 release will be against 2.8.
&gt; 
&gt; -Andrei
&gt; 
&gt; 
&gt; On May 16, 2006, at 6:08 PM, Steph Fox wrote:
&gt; 
&gt;&gt; I know there's a crash bug at present.
&gt;&gt;
&gt;&gt; I need to have time to sit down and figure that out, and also where  
&gt;&gt; any other issues might lie.
&gt;&gt;
&gt;&gt; At present 'other issues' is limited to interface stuff  
&gt;&gt; (filechooser to be precise) but I really don't think that's a PHP- 
&gt;&gt; GTK specific issue, or even a win32 specific issue. I think it's a  
&gt;&gt; GTK 2.6 specific issue.
&gt;&gt;
&gt;&gt; - given that I researched that already and that seems to be the  
&gt;&gt; case - should I even try to work around it? Or should I assume that  
&gt;&gt; the final PHP-GTK 2 release will be against GTK 2.8?
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; And what needs to be gotten out of the way exactly? Can we make an  
&gt;&gt;&gt; exact list and agree that once it's done we can release?
&gt;&gt;&gt;
&gt;&gt;&gt; I'll be checking my email while I'm there of course.
&gt;&gt;&gt;
&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;
&gt;&gt;&gt; On May 16, 2006, at 10:24 AM, Steph Fox wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; My problem is it needs far more than a couple of free hours at  
&gt;&gt;&gt;&gt; this end.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; How about if I try to get everything I need to do out of the way  
&gt;&gt;&gt;&gt; before you get back? (nb I won't add anything to core PHP-GTK  
&gt;&gt;&gt;&gt; without your approval). That way we should be able to roll the  
&gt;&gt;&gt;&gt; alpha on your return.
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060517130701</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-05-17 13:07:01-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] No news on the website for 3 months</subject><body>

Christian Weiske wrote:
&gt; Bump.

Am I the only one with php-gtk-web karma?

Anyway, what is there to report? We have a bunch of patches, a few PEAR 
packages and docs online. I can write something up on that.

I think the best way to show that the project is still active is to 
release an alpha version (please not my not so subtle nagging). Where do 
we stand on that? The last thing I remember was that we were waiting on 
some Windows issues. All of the patches that were going to be applied 
have been applied and I sent a patch for the packaging system.

I'll try to get something up today.

Thanks,
-- 
Scott Mattocks
Author of: Pro PHP-GTK
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060517163824</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-05-17 16:38:24-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] No news on the website for 3 months</subject><body>

Yes, Steph said something about a Windows problem. I am ready to 
release alpha whenever. Just need a couple of hours of free time to do 
it. The matters are slightly complicated by the fact that I'm going on 
a trip to Russia for 11 days. I may try to do it from there, but that's 
uncertain.

-Andrei

On May 17, 2006, at 6:07 AM, Scott Mattocks wrote:

&gt; Christian Weiske wrote:
&gt;&gt; Bump.
&gt;
&gt; Am I the only one with php-gtk-web karma?
&gt;
&gt; Anyway, what is there to report? We have a bunch of patches, a few 
&gt; PEAR packages and docs online. I can write something up on that.
&gt;
&gt; I think the best way to show that the project is still active is to 
&gt; release an alpha version (please not my not so subtle nagging). Where 
&gt; do we stand on that? The last thing I remember was that we were 
&gt; waiting on some Windows issues. All of the patches that were going to 
&gt; be applied have been applied and I sent a patch for the packaging 
&gt; system.
&gt;
&gt; I'll try to get something up today.
&gt;
&gt; Thanks,
&gt; -- 
&gt; Scott Mattocks
&gt; Author of: Pro PHP-GTK
&gt; http://www.crisscott.com
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060517174618</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-17 17:46:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] No news on the website for 3 months</subject><body>


&gt; Yes, Steph said something about a Windows problem. I am ready to release
&gt; alpha whenever. Just need a couple of hours of free time to do it. The
We've waited five months for an alpha, so some weeks more or less don't
make a difference.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060517213701</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-05-17 21:37:01-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] No news on the website for 3 months</subject><body>

And what needs to be gotten out of the way exactly? Can we make an 
exact list and agree that once it's done we can release?

I'll be checking my email while I'm there of course.

-Andrei

On May 16, 2006, at 10:24 AM, Steph Fox wrote:

&gt; My problem is it needs far more than a couple of free hours at this 
&gt; end.
&gt;
&gt; How about if I try to get everything I need to do out of the way 
&gt; before you get back? (nb I won't add anything to core PHP-GTK without 
&gt; your approval). That way we should be able to roll the alpha on your 
&gt; return.


-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060516053512</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-16 05:35:12-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] E_STRICT and PHP-Gtk2</subject><body>


Hello all,


&gt;&gt;GtkMenu::set_accel_path(accel_path);
&gt;&gt;GtkWidget::set_accel_path(accel_path, GtkAccelGroup accel_group);
&gt; Here we should make the accel_group optional and call the gtkwidget one
&gt; if it's given.
&gt;&gt;GtkMenuItem::set_accel_path(accel_path);
&gt;&gt;GtkWidget::set_accel_path(accel_path, GtkAccelGroup accel_group);
&gt; Make the second optional.

I tried this and *still* get the warnings. Seems as if PHP doesn't care
if we have optional parameters.
If I remove the optionality reflection info of the second parameter, PHP
gets it and shuts up, at least for the two methods.



-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060509125825</emailId><senderName>"nsasf"</senderName><senderEmail>tsugc3518@redding.com</senderEmail><timestampReceived>2006-05-09 12:58:25-0400</timestampReceived><subject>[PHP-GTK-DEV] specs for this week [HOT NEWS Tuesday Contd it is]  kilometers becloud</subject><body>

GAPJ- GOLDEN APPLE OIL/GAS

Keep an Eye on this one

This weeks Pick, Company already has solid potential

Current Price: $ 0.55
5 Day Projected : $ 1.00

Golden Apple Oil and Gas, Inc. and Franklin Ross Securities Complete 
Private Placement

Golden Apple Oil and Gas, Inc. (GAPJ - News) is pleased to announce it 
has completed the initial private placement with Franklin Ross 
Securities of New Jersey.

The terms of the deal provide for Franklin Ross to purchase 181,818 
shares of Golden Apple Oil and Gas, Inc. restricted stock priced at 
10 per share.

The company is currently negotiating with several investor groups for 
the next phase of financing.

Headquartered in Phoenix, Arizona, Golden Apple is an independent oil 
and gas producer with a focus on North and South American properties. 
The Company applies advanced technologies to systematically explore and 
develop its oil and natural gas opportunities. Golden Apple focuses its 
activities where technology can be used effectively to maximize returns 
on invested capital by reducing drilling risk and enhancing its ability 
to cost-effectively grow reserves and production volumes.

Golden Apple Oil and Gas, Inc has opened a Canadian office in Toronto, 
Ontario to facilitate the management of its Canadian operations. All 
correspondence and communication will continue to be serviced by the 
company's head office staff in Phoenix Arizona.

This looks very lucrative in coming weeks, 

Get GAPJ First Thing TODAY

Get In Now don't regret later

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060509132331</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-09 13:23:31-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Spam on list ..</subject><body>

Hi Adrian,


&gt;I thought this list was a closed list ?

It is - all the php.net lists I subscribe to were hit too. Doesn't happen 
often, and hopefully it's been dealt with now.

- Steph

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060509143157</emailId><senderName>"Orson Victoria"</senderName><senderEmail>victoriaorson@rtm.com</senderEmail><timestampReceived>2006-05-09 14:31:57-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: the VtAGaRA</subject><body>

[Attachment #2 (multipart/alternative)]


web site &lt;http://ca.geocities.com/MuransHughehild/&gt; 
 
 
 
 
probably know, must be underground before dawn, or they go back to the
stuff of the mountains they are made of, and never move again. That is
what had happened to Bert and Tom and William. Excellent! said
Gandalf, as he stepped from behind a tree, and helped Bilbo to climb
down out of a thorn-bush. Then Bilbo understood. It was the wizards
voice that had kept the trolls bickering and quarrelling, until the
light came and made an end of them.
The next thing was to untie the sacks and let out the dwarves. They
were nearly suffocated, and very annoyed: they had not at all enjoyed
lying there listening to the trolls making plans for roasting them and
squashing them and mincing them. They had to hear Bilbos account of
what had happened to him twice over, before they were satisfied.
Silly time to go practising pinching and pocket-picking, said


[Attachment #5 (text/html)]

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"&gt;
&lt;HTML&gt;&lt;HEAD&gt;
&lt;META http-equiv=Content-Type content="text/html; charset=us-ascii"&gt;
&lt;META content="MSHTML 6.00.2800.1106" name=GENERATOR&gt;
&lt;STYLE&gt;&lt;/STYLE&gt;
&lt;/HEAD&gt;
&lt;BODY bgColor=#ffffff&gt;
&lt;DIV&gt;&lt;IMG src="cid:000101c67375$53906e20$e68fa8c0@pis41"&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;A href="http://ca.geocities.com/MuransHughehild/"&gt;web site&lt;/A&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;/DIV&gt;
&lt;DIV&gt;probably know, must be underground before dawn, or they go back to the&lt;BR&gt;
stuff of the mountains they are made of, and never move again. That is&lt;BR&gt;
what had happened to Bert and Tom and William. Excellent! said&lt;BR&gt;
Gandalf, as he stepped from behind a tree, and helped Bilbo to climb&lt;BR&gt;
down out of a thorn-bush. Then Bilbo understood. It was the wizards&lt;BR&gt;
voice that had kept the trolls bickering and quarrelling, until the&lt;BR&gt;
light came and made an end of them.&lt;BR&gt;
   The next thing was to untie the sacks and let out the dwarves. They&lt;BR&gt;
were nearly suffocated, and very annoyed: they had not at all enjoyed&lt;BR&gt;
lying there listening to the trolls making plans for roasting them and&lt;BR&gt;
squashing them and mincing them. They had to hear Bilbos account of&lt;BR&gt;
what had happened to him twice over, before they were satisfied.&lt;BR&gt;
   Silly time to go practising pinching and pocket-picking, said&lt;BR&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;

</body></email><email><emailId>20060516043247</emailId><senderName>"cweiske () php ! net"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-05-16 04:32:47-0400</timestampReceived><subject>[PHP-GTK-DEV] #37455 [NEW]: Patch for gtk_selection_data_set_uris/gtk_selection_data_get_uris</subject><body>

From:             cweiske@php.net
Operating system: Any
PHP version:      5.1.4
PHP Bug Type:     PHP-GTK related
Bug description:  Patch for gtk_selection_data_set_uris/gtk_selection_data_get_uris

Description:
------------
Attached is a patch for 
gtk_selection_data_set_uris/gtk_selection_data_get_uris. It can be found
at
http://xml.cweiske.de/selectiondata.diff

Reproduce code:
---------------
--- ext/gtk+/gtk.overrides2006-05-16 06:28:22.000000000 +0200
+++ ../gtk.overrides2006-05-16 06:28:03.000000000 +0200
@@ -750,6 +750,13 @@
 }
 
 %%
+add-arginfo GtkAboutDialog set_artists
+static
+ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
+    ZEND_ARG_INFO(0, artists)
+ZEND_END_ARG_INFO();
+
+%%
 override gtk_about_dialog_set_artists
 PHP_METHOD
 {
@@ -780,6 +787,13 @@
 }
 
 %%
+add-arginfo GtkAboutDialog set_authors
+static
+ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
+    ZEND_ARG_INFO(0, authors)
+ZEND_END_ARG_INFO();
+
+%%
 override gtk_about_dialog_set_authors
 PHP_METHOD
 {
@@ -810,6 +824,13 @@
 }
 
 %%
+add-arginfo GtkAboutDialog set_documenters
+static
+ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
+    ZEND_ARG_INFO(0, documenters)
+ZEND_END_ARG_INFO();
+
+%%
 override gtk_about_dialog_set_documenters
 PHP_METHOD
 {
@@ -2879,6 +2900,83 @@
 
 %% }}}
 
+
+%% {{{ GtkSelectionData
+
+%%
+override gtk_selection_data_get_uris
+PHP_METHOD
+{
+    gchar **ret;
+    gchar *cp_str;
+    gsize cp_len;
+    zend_bool free_cp_str;
+    GtkSelectionData *selection_data = NULL;
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
+        return;
+
+    selection_data = (GtkSelectionData *) PHPG_GBOXED(this_ptr);
+    ret = gtk_selection_data_get_uris(selection_data);
+    if (ret) {
+        array_init(return_value);
+        while (*ret) {
+            cp_str = phpg_from_utf8(*ret, strlen(*ret), &amp;cp_len,
&amp;free_cp_str TSRMLS_CC);
+            if (cp_str) {
+                add_next_index_stringl(return_value, cp_str, cp_len,
!free_cp_str);
+            } else {
+                zval_dtor(return_value);
+                RETURN_NULL();
+            }
+            *ret++;
+        }
+//        g_strfreev(*ret);
+    } else {
+        RETURN_NULL();
+    }
+}
+
+%%
+add-arginfo GtkSelectionData set_uris
+static
+ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
+    ZEND_ARG_INFO(0, uris)
+ZEND_END_ARG_INFO();
+
+%%
+override gtk_selection_data_set_uris
+PHP_METHOD
+{
+    gchar **uris;
+    zval *arr = NULL;
+    zval **data;
+    int i, arr_count;
+    GtkSelectionData *selection_data = NULL;
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
+        return;
+    }
+
+    arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
+    uris = safe_emalloc(arr_count+1, sizeof (gchar *), 0);
+
+    for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
+         zend_hash_get_current_data(Z_ARRVAL_P(arr), (void **)&amp;data) ==
SUCCESS;
+         zend_hash_move_forward(Z_ARRVAL_P(arr))) {
+
+        convert_to_string_ex(data);
+        uris[i++] = Z_STRVAL_PP(data);
+
+    }
+
+    uris[i] = NULL;
+    selection_data = (GtkSelectionData *) PHPG_GBOXED(this_ptr);
+    gtk_selection_data_set_uris(selection_data, (gchar **)uris);
+    efree(uris);
+}
+
+%% }}}
+
 %% {{{ GtkSpinButton
 
 %%


-- 
Edit bug report at http://bugs.php.net/?id=37455&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=37455&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.2): http://bugs.php.net/fix.php?id=37455&amp;r=trysnapshot52
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=37455&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=37455&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=37455&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=37455&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=37455&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=37455&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=37455&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=37455&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=37455&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=37455&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=37455&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=37455&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=37455&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=37455&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=37455&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=37455&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=37455&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=37455&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060516164207</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-05-16 16:42:07-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] E_STRICT and PHP-Gtk2</subject><body>

Then this question is for PHP internals list, no?

On May 15, 2006, at 10:35 PM, Christian Weiske wrote:

&gt; Hello all,
&gt;
&gt;
&gt;&gt;&gt; GtkMenu::set_accel_path(accel_path);
&gt;&gt;&gt; GtkWidget::set_accel_path(accel_path, GtkAccelGroup accel_group);
&gt;&gt; Here we should make the accel_group optional and call the gtkwidget 
&gt;&gt; one
&gt;&gt; if it's given.
&gt;&gt;&gt; GtkMenuItem::set_accel_path(accel_path);
&gt;&gt;&gt; GtkWidget::set_accel_path(accel_path, GtkAccelGroup accel_group);
&gt;&gt; Make the second optional.
&gt;
&gt; I tried this and *still* get the warnings. Seems as if PHP doesn't care
&gt; if we have optional parameters.
&gt; If I remove the optionality reflection info of the second parameter, 
&gt; PHP
&gt; gets it and shuts up, at least for the two methods.
&gt;
&gt;
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060518021830</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-05-18 02:18:30-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] No news on the website for 3 months</subject><body>

How critical is this crash bug? Does it happen with any script or  
only in very specific circumstances? I don't think that we should  
delay the release because of a rarely occurring problem.

I am not sure if final PHP-GTK 2 release will be against 2.8.

-Andrei


On May 16, 2006, at 6:08 PM, Steph Fox wrote:

&gt; I know there's a crash bug at present.
&gt;
&gt; I need to have time to sit down and figure that out, and also where  
&gt; any other issues might lie.
&gt;
&gt; At present 'other issues' is limited to interface stuff  
&gt; (filechooser to be precise) but I really don't think that's a PHP- 
&gt; GTK specific issue, or even a win32 specific issue. I think it's a  
&gt; GTK 2.6 specific issue.
&gt;
&gt; - given that I researched that already and that seems to be the  
&gt; case - should I even try to work around it? Or should I assume that  
&gt; the final PHP-GTK 2 release will be against GTK 2.8?
&gt;
&gt;
&gt;&gt; And what needs to be gotten out of the way exactly? Can we make an  
&gt;&gt; exact list and agree that once it's done we can release?
&gt;&gt;
&gt;&gt; I'll be checking my email while I'm there of course.
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt; On May 16, 2006, at 10:24 AM, Steph Fox wrote:
&gt;&gt;
&gt;&gt;&gt; My problem is it needs far more than a couple of free hours at  
&gt;&gt;&gt; this end.
&gt;&gt;&gt;
&gt;&gt;&gt; How about if I try to get everything I need to do out of the way  
&gt;&gt;&gt; before you get back? (nb I won't add anything to core PHP-GTK  
&gt;&gt;&gt; without your approval). That way we should be able to roll the  
&gt;&gt;&gt; alpha on your return.
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060518055139</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-18 05:51:39-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkMozembed / wrong functions</subject><body>


&gt; Shouldn't it be
&gt; instead of

Ignore this, my fault.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060518143211</emailId><senderName>"cweiske () php ! net"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-05-18 14:32:11-0400</timestampReceived><subject>[PHP-GTK-DEV] #37500 [NEW]: Patches for GtkContainer::get/set_focus_chain, GtkWindow::g/s_default_ic</subject><body>

From:             cweiske@php.net
Operating system: any
PHP version:      5.1.4
PHP Bug Type:     PHP-GTK related
Bug description:  Patches for GtkContainer::get/set_focus_chain, GtkWindow::g/s_default_icons

Description:
------------
Attached are patches for the following methods:
GtkContainer::get_focus_chain
GtkContainer::set_focus_chain
GtkWindow::get_icon_list
GtkWindow::set_icon_list
GtkWindow::get_default_icon_list
GtkWindow::set_default_icon_list
GtkIconTheme::list_icons

The patch files can be found at
http://xml.cweiske.de/patches/gtk.defs.diff
http://xml.cweiske.de/patches/gtkcontainer.overrides.diff
http://xml.cweiske.de/patches/gtk.overrides.diff


-- 
Edit bug report at http://bugs.php.net/?id=37500&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=37500&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.2): http://bugs.php.net/fix.php?id=37500&amp;r=trysnapshot52
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=37500&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=37500&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=37500&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=37500&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=37500&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=37500&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=37500&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=37500&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=37500&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=37500&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=37500&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=37500&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=37500&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=37500&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=37500&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=37500&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=37500&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=37500&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060518161533</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-18 16:15:33-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] #37504 [NEW]: Patch for GtkTreeSortable::set_(default_)sort_func</subject><body>

Steph,

&gt; Why are you putting these in as bug reports???
Because Andrei once told me that they are more visible in the bug
tracker. I don't want to apply them to cvs because my C isn't that good
and the patches probably need a review.
If you want, I just send plain mails to the list. Just don't know if
they get forgotten then.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060518183144</emailId><senderName>"cweiske () php ! net"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-05-18 18:31:44-0400</timestampReceived><subject>[PHP-GTK-DEV] #37504 [Opn]: Patch for GtkTreeSortable::set_(default_)sort_func</subject><body>

 ID:               37504
 User updated by:  cweiske@php.net
 Reported By:      cweiske@php.net
 Status:           Open
 Bug Type:         PHP-GTK related
 Operating System: any
 PHP Version:      5.1.4
 New Comment:

Forgot to mention that I had to modify gtk.defs to get the filter
constructor working.

http://xml.cweiske.de/patches/gtk.defs.diff


Previous Comments:
------------------------------------------------------------------------

[2006-05-18 18:30:52] cweiske@php.net

I added GtkTreeFilterModel constructor and set_visible_func (&amp;
GtkTreeModelFilterVisibleFunc marshaller) to the patches.

------------------------------------------------------------------------

[2006-05-18 16:03:50] cweiske@php.net

Description:
------------
At
http://xml.cweiske.de/patches/gtktreeview.overrides.diff
is a patch that implements
GtkTreeSortable::set_sort_func
GtkTreeSortable::set_default_sort_func
and the marshaller.




------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=37504&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060518235739</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-18 23:57:39-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkAllocation</subject><body>

Nope, I came across it too (as a 'thing that needs sorting out') but assumed 
it was just something Andrei didn't get around to yet..


----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Thursday, May 18, 2006 10:12 PM
Subject: [PHP-GTK-DEV] GtkAllocation

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060520165116</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-20 16:51:16-0400</timestampReceived><subject>[PHP-GTK-DEV] Error loading lib with php 5.1.4-debug and php-gtk2</subject><body>


Hi


I updated to php 5.1.4 without problems (php-gtk2 worked). When getting
a segfault I noted that I didn't activate the debug flag for php, so I
recompiled it and now the problems begin:
---------
PHP Warning:  PHP Startup: Unable to load dynamic library
'/data/cvs/php/php5install/lib/php/extensions/debug-non-zts-20050922/php_gtk2.so'
-
/data/cvs/php/php5install/lib/php/extensions/debug-non-zts-20050922/php_gtk2.so:
undefined symbol: _zval_ptr_dtor_wrapper in Unknown on line 0
---------

I'm using a totally fresh checkout of php-gtk2, but the problem exists
unless I switch to a non-debug php-5.1.4.

And ideas?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060521135043</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-21 13:50:43-0400</timestampReceived><subject>[PHP-GTK-DEV] [PATCH] GtkAboutDialog email/url hooks</subject><body>


Hi

at
http://xml.cweiske.de/patches/aboutdialog-gtk.overrides.diff
is a patch for the last two missing GtkAboutDialog methods,
GtkAboutDialog::set_email_hook(callback);
GtkAboutDialog::set_url_hook(callback);

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060522064405</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-22 06:44:05-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] [PATCH] GtkTextIter::get_tags, GtkTextIter::get_marks,</subject><body>


&gt; http://xml.cweiske.de/patches/gtktextview.overrides.diff

I added GtkTextTagTable::foreach($callback)

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060522150055</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-22 15:00:55-0400</timestampReceived><subject>[PHP-GTK-DEV] h2def.py has a bug</subject><body>


Hi all,

on line #230 of generator/h2def.py:
&gt; args=arg_split_pat.split(args,', ')
which is wrong.
arg_split_pat is already a compiled pattern, so the second argument is
wrong. The line should read
&gt; args=arg_split_pat.split(args)


(I didn't commit this change as I'm not the python guru and I don't know
why it worked for someone. It doesn't work for me with python 2.4.2)

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060522182946</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-22 18:29:46-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] The win32 crash</subject><body>

That's been true for a while...

Dmitry gave me notes on how to fix that (and another issue caused by the way 
PHP-GTK objects are created) in PHP-GTK core at the time. I still need to go 
in there and test his theories, I don't get that many days clear at present.

Christian, I know you're getting impatient with the various holdups, but 
please don't get involved over win32 crashes when you don't even have a 
windows box to test on. We already had this come up over the CLI SAPI on 
irc, and I already told you why Gnope still works on this list. There's no 
point in repeating the same things over and again, and I really don't have 
time for it.

- Steph

&gt; Hi Christian,
&gt;
&gt; I have not tested this on GTK, but I have been looking at shutdown
&gt; problems with the ZTS build and found that there is a difference between
&gt; CLI and CGI versions of PHP. This causes PHP to call the shutdown finction
&gt; multiple times for extensions that register a special dtor (tidy and
&gt; printer just to mention a few).
&gt;
&gt; When I get a new hard drive for my notebook (it crashed yesterday), and
&gt; reinstall my development tools I'll try to build GTK with both ZTS and non
&gt; ZTS versions of PHP.
&gt;
&gt; - Frank
&gt;
&gt;&gt; Hello Frank,
&gt;&gt;
&gt;&gt; &gt; You could try to compile it with the non-ZTS version. That way you
&gt; will
&gt;&gt; &gt; get rid of the portion of the code that crashes. There is no real need
&gt; to
&gt;&gt; &gt; use the ZTS version with GTK and you are always running a single
&gt; process.
&gt;&gt; Does it still crash when using the default php win32 distribution from
&gt;&gt; php.net?
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060522200818</emailId><senderName>"cweiske () php ! net"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-05-22 20:08:18-0400</timestampReceived><subject>[PHP-GTK-DEV] #37552 [NEW]: Crash when deleting list row in foreach() callback</subject><body>

From:             cweiske@php.net
Operating system: Any
PHP version:      5.1.4
PHP Bug Type:     PHP-GTK related
Bug description:  Crash when deleting list row in foreach() callback

Description:
------------
When removing an iterator from a liststore in the foreach() callback, php
crashes with
*** glibc detected *** double free or corruption (fasttop): 0x08d92758
***



Reproduce code:
---------------
&lt;?php
$ls = new GtkListStore(Gtk::TYPE_STRING);
$ls-&gt;append(array('test'));
$ls-&gt;foreach('foreachList');
function foreachList($ls, $path, $iter) {
    $ls-&gt;remove($iter);
}
?&gt;


-- 
Edit bug report at http://bugs.php.net/?id=37552&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=37552&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.2): http://bugs.php.net/fix.php?id=37552&amp;r=trysnapshot52
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=37552&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=37552&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=37552&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=37552&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=37552&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=37552&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=37552&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=37552&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=37552&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=37552&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=37552&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=37552&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=37552&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=37552&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=37552&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=37552&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=37552&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=37552&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060523144922</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-23 14:49:22-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] gtkmozembed (win32)</subject><body>

Hi xxoes,

Cool, these links are useful, thanks! I'll look into the '2' bug when I get 
time - that should just add on automatically as part of the build system 
these days, it obviously isn't doing so. Any idea about licensing, or is 
that on my 'Saturday list' too? :)

GtkSourceView is a bigger issue because there is no win32 port of the 
original source (and I don't have time to play with it + the three libraries 
it depends on). I hadn't looked into mozembed, but it's good to know it's 
do-able at least.

- Steph

&gt; The instructions how to build Mozilla can be found here:
&gt; http://developer.mozilla.org/en/docs/Windows_Build_Prerequisites
&gt; Further, look at http://severna.homeip.net/gtkmozwin32.php -
&gt; you will find a file http://severna.homeip.net/src-back.tar.gz which
&gt; contents need to replace the mozilla source files in
&gt; "mozilla-src\embedding\browser\gtk\src".
&gt; Now the Makefile needs to be changed, as it's likely to contain
&gt; wrong paths:
&gt;  topsrcdir = /cygdrive/c/mozilla/mozilla
&gt;  srcdir  = /cygdrive/c/mozilla/mozilla/embedding/browser/gtk/src
&gt;  VPATH  = /cygdrive/c/mozilla/mozilla/embedding/browser/gtk/src
&gt; (here the sources were on c:\mozilla\mozilla)
&gt; Now everything should be ready to compile the .dll and .lib after
&gt; the howto.
&gt; After this you can compile php-gtk2 with gtkmozembed.
&gt; Here my config.w32:
&gt;
&gt;
&gt; ARG_WITH("mozembed", "mozembed support", "no");
&gt;
&gt; if (PHP_GTK_MOZEMBED != "no" || PHP_GTK_ALL != "no") {
&gt;
&gt;        if (CHECK_LIB("gtkembedmoz.lib", "mozembed")) {
&gt;
&gt;                if (FSO.FileExists("win32\\temp.bat")) {
&gt;
&gt;                        var temp = FSO.OpenTextFile("win32\\temp.bat", 8);
&gt;
&gt;                        temp.WriteLine("php -q generator\\generator.php -l 
&gt; win32\\logs\\config_mozembed.log -o ext\\mozembed\\mozembed.overrides -p 
&gt; mozembed -r ext\\gtk+\\gtk.defs ext\\mozembed\\mozembed.defs &gt; 
&gt; ext\\mozembed\\gen_mozembed.c");
&gt;
&gt;                        temp.WriteLine('grep -h "^PHP_GTK_EXPORT_CE" 
&gt; ext\\mozembed\\gen_mozembed.c | sed -e "s/^/PHP_GTK_API extern /" &gt; 
&gt; ext\\mozembed\\gen_mozembed.h');
&gt;
&gt;                        temp.Close();
&gt;                }
&gt;
&gt;                ADD_FLAG("CFLAGS_MOZEMBED", "/I ext\\mozembed /I 
&gt; ..\\ext\\mozembed /D HAVE_MOZEMBED=1");
&gt;                EXTENSION("mozembed", "gen_mozembed.c php_mozembed.c", 
&gt; true); // always shared
&gt;                AC_DEFINE("HAVE_MOZEMBED", 1, "mozembed enabled");
&gt;
&gt;        } else {
&gt;
&gt;                WARNING("mozembed not enabled; libraries and headers not 
&gt; found");
&gt;        }
&gt;
&gt; }
&gt;
&gt; There is a bug in my config because the phpg_gtkmozembed_register_classes 
&gt; and phpg_gtkmozembed_register_constants seems to be wrong. I changed this 
&gt; manualy to phpg_mozembed_register_classes and 
&gt; phpg_mozembed_register_constants. The define COMPILE_DL_MOZEMBED musst be 
&gt; COMPILE_DL_MOZEMBED2 in php_mozembed.c. Why???
&gt;
&gt; Now you need to copy the *complete* compiled mozilla to C:\PHP-Gtk2
&gt; (if somebody finds out what files can be omitted, please tell us!)
&gt;
&gt;
&gt; Sorry for my english ;)
&gt;
&gt; mfg xxoes
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060525132905</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-05-25 13:29:05-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] gtksourceview (win32)</subject><body>

Thats my own, because i can not compile this with a other IDE/compiler.

mfg kita

Steph Fox schrieb:

&gt; I didn't find the VS version - is that your own, or someone else's work?
&gt;
&gt;
&gt;&gt; Here is my source:
&gt;&gt; http://www.b0red.de/php-gtk2/gtksourceview/gtksourceview/ &lt;-- 
&gt;&gt; gtksourceviw Source files
&gt;&gt; http://www.b0red.de/php-gtk2/gtksourceview/gtksourceview-1.4.2/ &lt;-- 
&gt;&gt; VS Studio Project files
&gt;&gt;
&gt;&gt; i can not compile gtksource view with:
&gt;&gt; cygwin
&gt;&gt; ./configure
&gt;&gt; make
&gt;
&gt;
&gt;
&gt; Heh, I wouldn't even have tried :)
&gt;
&gt;&gt; There are many missing thinks.
&gt;&gt;
&gt;&gt; So i have put all files into a VisualStudio Project and i have try to 
&gt;&gt; compile.
&gt;&gt;
&gt;&gt; The tar.bz2 is a copy of the content 
&gt;&gt; (http://www.b0red.de/php-gtk2/gtksourceview/*).
&gt;&gt; gtksourceview-1.4.2.tar.gz is the original source you can look with 
&gt;&gt; diff to find the differents.
&gt;
&gt;
&gt;
&gt; I already have the original source here, but I'll check it out anyway 
&gt; - it could be a different version by now.
&gt;
&gt;&gt; I have add for every non static function GTKSOURCEVIEW_API.
&gt;&gt; gtksourceview-1.4.2/gtksourceview/x.php is the script who is 
&gt;&gt; generating changes to the code.
&gt;
&gt;
&gt;
&gt; Uhuh... let me take a look into this over the (much lighter thanks to 
&gt; you) upcoming weekend...  You may need to offer your changes back to 
&gt; the original project before we can reasonably adopt it.
&gt;
&gt; Thanks!
&gt;
&gt; -- Steph
&gt;
&gt;&gt;
&gt;&gt; mfg xxoes
&gt;&gt;
&gt;&gt; Steph Fox schrieb:
&gt;&gt;
&gt;&gt;&gt; Brilliant, could you please tell me where you got hold of the source?
&gt;&gt;&gt;
&gt;&gt;&gt; I looked all over the net for _anything_ win32-related there! There 
&gt;&gt;&gt; weren't even makefiles for it, but then this was some weeks ago...
&gt;&gt;&gt;
&gt;&gt;&gt; ----- Original Message ----- From: "xxoes" &lt;xxoes@nw7.de&gt;
&gt;&gt;&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt;&gt; Sent: Wednesday, May 24, 2006 8:28 AM
&gt;&gt;&gt; Subject: [PHP-GTK-DEV] gtksourceview (win32)
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; hi,
&gt;&gt;&gt;&gt; i have create a gtksourceview.lib and gtksourceview.dll from the 
&gt;&gt;&gt;&gt; gtksourceview-1.4.2 for win32.
&gt;&gt;&gt;&gt; I have changed many header files an the c source but now it works. 
&gt;&gt;&gt;&gt; (only printing support is not been implemented)
&gt;&gt;&gt;&gt; I can upload the source and lib/dll for php-gtk2.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Now i can use gtksourceview under win32 with php-gtk2.
&gt;&gt;&gt;&gt; Here is the config.w32 i have the same problem with the 
&gt;&gt;&gt;&gt; phpg_sourceview_register_classes and 
&gt;&gt;&gt;&gt; phpg_sourceview_register_constants like mozembed:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; &gt; There is a bug in my config because the
&gt;&gt;&gt;&gt; phpg_gtkmozembed_register_classes and 
&gt;&gt;&gt;&gt; phpg_gtkmozembed_register_constants seems to be wrong. I changed 
&gt;&gt;&gt;&gt; this manualy to phpg_mozembed_register_classes and 
&gt;&gt;&gt;&gt; phpg_mozembed_register_constants. The define COMPILE_DL_MOZEMBED 
&gt;&gt;&gt;&gt; musst be COMPILE_DL_MOZEMBED2 in php_mozembed.c. Why???
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; ARG_WITH("sourceview", "sourceview support", "no");
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; if (PHP_GTK_SOURCEVIEW != "no" || PHP_GTK_ALL != "no") {
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;        if (CHECK_LIB("gtksourceview.lib", "sourceview")) {
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;                if (FSO.FileExists("win32\\temp.bat")) {
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;                        var temp = 
&gt;&gt;&gt;&gt; FSO.OpenTextFile("win32\\temp.bat", 8);
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;                        temp.WriteLine("php -q 
&gt;&gt;&gt;&gt; generator\\generator.php -l win32\\logs\\config_sourceview.log -o 
&gt;&gt;&gt;&gt; ext\\sourceview\\sourceview.overrides -p sourceview -r 
&gt;&gt;&gt;&gt; ext\\gtk+\\gtk.defs ext\\sourceview\\sourceview.defs &gt; 
&gt;&gt;&gt;&gt; ext\\sourceview\\gen_sourceview.c");
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;                        temp.WriteLine('grep -h "^PHP_GTK_EXPORT_CE" 
&gt;&gt;&gt;&gt; ext\\sourceview\\gen_sourceview.c | sed -e "s/^/PHP_GTK_API extern /"
&gt;&gt;&gt;&gt; &gt; ext\\sourceview\\gen_sourceview.h');
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;                        temp.Close();
&gt;&gt;&gt;&gt;                }
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;                ADD_FLAG("CFLAGS_SOURCEVIEW", "/I ext\\sourceview /I 
&gt;&gt;&gt;&gt; ..\\ext\\sourceview /D HAVE_SOURCEVIEW=1");
&gt;&gt;&gt;&gt;                EXTENSION("sourceview", "gen_sourceview.c 
&gt;&gt;&gt;&gt; php_sourceview.c", true); // always shared
&gt;&gt;&gt;&gt;                AC_DEFINE("HAVE_SOURCEVIEW", 1, "sourceview enabled");
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;        } else {
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;                WARNING("sourceview not enabled; libraries and 
&gt;&gt;&gt;&gt; headers not found");
&gt;&gt;&gt;&gt;        }
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; }
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; How can I print with php-gtk2 gtksourceview? I have no method found 
&gt;&gt;&gt;&gt; that can print with sourceview in the php-gtk2 overrides.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; sorry for my english ;)
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; mfg xxoes
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt;
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060526115540</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-05-26 11:55:40-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-GNOME and the Summer of Code</subject><body>

Well, it would be a PHP-GTK extension since I presume Anant intends  
to use all the infrastructure provided by it.

-Andrei


On May 26, 2006, at 1:16 PM, Christian Weiske wrote:

&gt; Anant,
&gt;
&gt;
&gt; Couldn't the Gnome bindings be a PHP extension independent of PHP-Gtk?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060526203305</emailId><senderName>"niels at quotar dot com"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-05-26 20:33:05-0400</timestampReceived><subject>[PHP-GTK-DEV] #37607 [NEW]: GtkTreeView::get_cursor()</subject><body>

From:             niels at quotar dot com
Operating system: win xp
PHP version:      5.1.4
PHP Bug Type:     PHP-GTK related
Bug description:  GtkTreeView::get_cursor()

Description:
------------
Hi, 
 I've got the following error... 
Call to undefined method GtkTreeView::get_cursor()

the set_cursor() function works fine...


jeez, you must realy hate bugs... 4th time now, truying to submit

br. 

Niels Berkers

Reproduce code:
---------------
&lt;?php

class foo{
function foo(){
/*
$this-&gt;element_properties = new GtkTreeView etc.
*/

$this-&gt;element_properties-&gt;connect("cursor-changed"	,array($this,"moved"),"cursor-changed");
}
function moved($sig){
   $m =$this-&gt;element_properties-&gt;get_cursor();
}
}
?&gt;

Expected result:
----------------
a digit 8-)

Actual result:
--------------
Call to undefined method GtkTreeView::get_cursor()

-- 
Edit bug report at http://bugs.php.net/?id=37607&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=37607&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.2): http://bugs.php.net/fix.php?id=37607&amp;r=trysnapshot52
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=37607&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=37607&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=37607&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=37607&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=37607&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=37607&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=37607&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=37607&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=37607&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=37607&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=37607&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=37607&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=37607&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=37607&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=37607&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=37607&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=37607&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=37607&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060526212341</emailId><senderName></senderName><senderEmail>cweiske</senderEmail><timestampReceived>2006-05-26 21:23:41-0400</timestampReceived><subject>[PHP-GTK-DEV] #37607 [Opn-&gt;Csd]: GtkTreeView::get_cursor()</subject><body>

 ID:               37607
 Updated by:       cweiske@php.net
 Reported By:      niels at quotar dot com
-Status:           Open
+Status:           Closed
 Bug Type:         PHP-GTK related
 Operating System: win xp
 PHP Version:      5.1.4
 New Comment:

This bug has been fixed in CVS.

Snapshots of the sources are packaged every three hours; this change
will be in the next snapshot. You can grab the snapshot at
http://snaps.php.net/.
 
Thank you for the report, and for helping us make PHP better.

This method is already implemented.
I don't know which php-gtk2.dll version you have, but it is in CVS.


Previous Comments:
------------------------------------------------------------------------

[2006-05-26 20:33:05] niels at quotar dot com

Description:
------------
Hi, 
 I've got the following error... 
Call to undefined method GtkTreeView::get_cursor()

the set_cursor() function works fine...


jeez, you must realy hate bugs... 4th time now, truying to submit

br. 

Niels Berkers

Reproduce code:
---------------
&lt;?php

class foo{
function foo(){
/*
$this-&gt;element_properties = new GtkTreeView etc.
*/

$this-&gt;element_properties-&gt;connect("cursor-changed"	,array($this,"moved"),"cursor-changed");
}
function moved($sig){
   $m =$this-&gt;element_properties-&gt;get_cursor();
}
}
?&gt;

Expected result:
----------------
a digit 8-)

Actual result:
--------------
Call to undefined method GtkTreeView::get_cursor()


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=37607&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060529094015</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-29 09:40:15-0400</timestampReceived><subject>[PHP-GTK-DEV] Ides of March [WAS:  tsrm_shutdown() and the CLI SAPI]</subject><body>

Hi all,

I've spent a fun weekend debugging TSRM and bits of ZE2, having finally 
figured that the zend_compiler_globals dtor was the point of failure here.

TSRM needs to mark resources as 'done' following a free and doesn't in most 
cases, but that's actually not the main problem we have in PHP-GTK (although 
fixing it may well solve everybody else's, I'll check that on my travels).

Dmitry's "Optimized cleanup loops on request shutdown" commit(s) spanning 
the 13th and 14th March broke Andrei's 'EG(full_tables_cleanup) = 1' ruse 
(we needed user classes to be cleaned and internal classes to stay), but it 
also broke TSRM shutdown completely for us. PHP-GTK classes are recognized 
as being internal, but only the first one ever reaches the dtor - even when 
there are no user-defined classes.

zend_hash_reverse_apply() is called at that point, so I'm guessing there's a 
reentrancy issue behind my access violation crash.

I'll get back to this when I get some time, in the meantime if anyone 
(Dmitry?) wants to play with this you need to know that I can't put the 5_2 
compat stuff into CVS until Andrei OKs it, so PHP-GTK HEAD has to be built 
against PHP_5_1 branch at present (anything after March 14th will do).

- Steph


&gt; Under CLI ZTS build, when loading a PHP-GTK 2 .dll built against anything 
&gt; this side of PHP 5.1.2 release, I'm seeing an 'access violation' crash on 
&gt; reaching:
&gt;
&gt;      if (resource_types_table &amp;&amp; !resource_types_table[j].done &amp;&amp; 
&gt; resource_types_table[j].dtor) {
&gt;          resource_types_table[j].dtor(p-&gt;storage[j], &amp;p-&gt;storage);
&gt;      }
&gt;
&gt; Similar code is also used in:
&gt;
&gt; tsrm_free_interpreter_context()
&gt; ts_free_thread()
&gt; ts_free_worker_threads()
&gt; ts_free_id()
&gt;
&gt; I thought ts_free_thread() was crashing at that line too at first, but 
&gt; that turned out to be because there's no 'done' check there, i.e. double 
&gt; dtors are possible via some functions. It's still vaguely possible there's 
&gt; a double flypast causing the crash I'm seeing, but I have everything I 
&gt; know about protected now. (On my laptop that is.)
&gt;
&gt; Eventually I found the resource id for PHP-GTK - the only extension I'm 
&gt; loading during runtime, via php.ini - is 32nd out of a possible 32. 
&gt; "Eventually", because that means I can't use ts_free_id() to avoid the 
&gt; crash as advised by Frank (and Tony, and Dmitry, and anyone else who ever 
&gt; used that MSHUTDOWN workaround for CLI). Interesting too, because the 
&gt; resource that causes the crash appears to be something completely other. 
&gt; Tracking down resource id #5 - and that's all I know about it apart from 
&gt; it crashes - is a barrel of laughs, I'll let y'all know if I ever find out 
&gt; which of the many possible extensions/files in ext/standard or core it is.
&gt;
&gt; Short version: One line is problematic, and only in one function, and 
&gt; presumably only under CLI SAPI. (CGI already doesn't call tsrm_shutdown(), 
&gt; thanks to similar issues some 3 years ago).
&gt;
&gt; The question is whether to take 'the Zeev approach' and simply comment out 
&gt; the tsrm_shutdown() call at the end of sapi/cli/php_cli.c, or whether to 
&gt; spend time knitting up a fine-grained approach to prevent the one bad line 
&gt; in the function from being called in single-threaded environments? I think 
&gt; I've given up on the idea of actually resolving the bug now...
&gt;
&gt; Thoughts?
&gt;
&gt; - oh, and don't make one of them 'chicken-and-egg' - this is definitively 
&gt; NOT related to the shutdown order in main.c!!!!!
&gt;
&gt; - Steph
&gt;
&gt; -- 
&gt; PHP Internals - PHP Runtime Development Mailing List
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060529142525</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-29 14:25:25-0400</timestampReceived><subject>[PHP-GTK-DEV] [PATCH] 5_2 compat stuff</subject><body>

Andrei, hi,

I didn't like to apply anything this clunky without your say-so... but it 
works fine. It's just clunky.

Still no closer to a solution for the shutdown crash tho' I'm afraid, unless 
we take 'the Zeev route'.

- Steph 

["php_gtk_5_2.txt" (text/plain)]

? ext/gtk+/weird_tsrm_stuff.txt
Index: ext/gtk+/gdk.overrides
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/gdk.overrides,v
retrieving revision 1.54
diff -u -r1.54 gdk.overrides
--- ext/gtk+/gdk.overrides	8 Apr 2006 19:17:27 -0000	1.54
+++ ext/gtk+/gdk.overrides	26 May 2006 19:28:55 -0000
@@ -247,7 +247,11 @@
 PHP_METHOD
 {
 	phpg_warn_deprecated("use GdkColormap::alloc_color()" TSRMLS_CC);
+#if ZEND_EXTENSION_API_NO &gt; 220051025
+    PHP_MN(GdkColormap_alloc_color)(INTERNAL_FUNCTION_PARAM_PASSTHRU);
+#else
     PHP_FN(GdkColormap_alloc_color)(INTERNAL_FUNCTION_PARAM_PASSTHRU);
+#endif
 }
 %% }}}
 
Index: ext/gtk+/gtk.overrides
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/gtk.overrides,v
retrieving revision 1.174
diff -u -r1.174 gtk.overrides
--- ext/gtk+/gtk.overrides	16 May 2006 19:54:48 -0000	1.174
+++ ext/gtk+/gtk.overrides	29 May 2006 13:50:19 -0000
@@ -2615,7 +2615,11 @@
 PHP_METHOD
 {
     phpg_warn_deprecated("use GtkRadioButton::get_group()" TSRMLS_CC);
+#if ZEND_EXTENSION_API_NO &gt; 220051025
+    PHP_MN(GtkRadioButton_get_group)(INTERNAL_FUNCTION_PARAM_PASSTHRU);
+#else
     PHP_FN(GtkRadioButton_get_group)(INTERNAL_FUNCTION_PARAM_PASSTHRU);
+#endif
 }
 
 %% }}}
Index: ext/gtk+/gtkcontainer.overrides
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/gtkcontainer.overrides,v
retrieving revision 1.1
diff -u -r1.1 gtkcontainer.overrides
--- ext/gtk+/gtkcontainer.overrides	18 Jun 2005 18:59:46 -0000	1.1
+++ ext/gtk+/gtkcontainer.overrides	26 May 2006 19:28:55 -0000
@@ -36,5 +36,9 @@
 PHP_METHOD
 {
 	phpg_warn_deprecated("use GtkContainer::get_children()" TSRMLS_CC);
+#if ZEND_EXTENSION_API_NO &gt; 220051025
+    PHP_MN(GtkContainer_get_children)(INTERNAL_FUNCTION_PARAM_PASSTHRU);
+#else
     PHP_FN(GtkContainer_get_children)(INTERNAL_FUNCTION_PARAM_PASSTHRU);
+#endif
 }
Index: ext/gtk+/php_gtk+.h
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/php_gtk+.h,v
retrieving revision 1.26
diff -u -r1.26 php_gtk+.h
--- ext/gtk+/php_gtk+.h	18 Feb 2006 19:49:34 -0000	1.26
+++ ext/gtk+/php_gtk+.h	29 May 2006 13:55:50 -0000
@@ -41,7 +41,13 @@
 
 int phpg_model_set_row(GtkTreeModel *model, GtkTreeIter *iter, zval *items \
TSRMLS_DC);  int phpg_model_remove_row(GtkTreeModel *model, GtkTreeIter *iter \
TSRMLS_DC); +
+#if ZEND_EXTENSION_API_NO &gt; 220051025
+zend_object_iterator* phpg_treemodel_get_iterator(zend_class_entry *ce, zval \
*object, int by_ref TSRMLS_DC); +#else
 zend_object_iterator* phpg_treemodel_get_iterator(zend_class_entry *ce, zval *object \
TSRMLS_DC); +#endif
+
 void phpg_modelrow_new(zval **zobj, GtkTreeModel *model, GtkTreeIter *iter \
TSRMLS_DC);  
 void phpg_atk_register_constants(const char *strip_prefix);
Index: ext/gtk+/php_gtk+_types.c
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/php_gtk+_types.c,v
retrieving revision 1.48
diff -u -r1.48 php_gtk+_types.c
--- ext/gtk+/php_gtk+_types.c	31 Mar 2006 18:10:22 -0000	1.48
+++ ext/gtk+/php_gtk+_types.c	29 May 2006 14:03:44 -0000
@@ -524,7 +524,11 @@
 }
 
 static zend_function_entry gtktreemodelrow_methods[] = {
+#if ZEND_EXTENSION_API_NO &gt; 220051025
+    PHP_ME_MAPPING(__construct, no_direct_constructor, NULL, 0)
+#else
     PHP_ME_MAPPING(__construct, no_direct_constructor, NULL)
+#endif
     PHP_ME(GtkTreeModelRow, children, NULL, ZEND_ACC_PUBLIC)
     { NULL, NULL, NULL }
 };
@@ -764,16 +768,21 @@
 	treemodelrow_iter_move_forward,
 	treemodelrow_iter_rewind,
 };
-
+#if ZEND_EXTENSION_API_NO &gt; 220051025
+zend_object_iterator* phpg_modelrowiter_get_iterator(zend_class_entry *ce, zval \
*object, int by_ref TSRMLS_DC) +#else
 zend_object_iterator* phpg_modelrowiter_get_iterator(zend_class_entry *ce, zval \
*object TSRMLS_DC) +#endif
 {
     phpg_modelrowiter_t *iter_obj;
 
-    /* TODO see if Marcus can do the by_ref stuff for PHP 5
+	/* TODO: Marcus believes it will be safer to use the SPL API here from 5_2 up */
+
+#if ZEND_EXTENSION_API_NO &gt; 220051025
 	if (by_ref) {
 		zend_error(E_ERROR, "An iterator cannot be used with foreach by reference");
 	}
-    */
+#endif
 
     iter_obj = (phpg_modelrowiter_t *) zend_object_store_get_object(object \
TSRMLS_CC);  
@@ -784,16 +793,20 @@
     return (zend_object_iterator *) &amp;iter_obj-&gt;ziter;
 }
 
+#if ZEND_EXTENSION_API_NO &gt; 220051025
+zend_object_iterator* phpg_treemodel_get_iterator(zend_class_entry *ce, zval \
*object, int by_ref TSRMLS_DC) +#else
 zend_object_iterator* phpg_treemodel_get_iterator(zend_class_entry *ce, zval *object \
TSRMLS_DC) +#endif
 {
     phpg_modelrowiter_t *iter_obj;
     zval *zobj = NULL;
 
-    /* TODO see if Marcus can do the by_ref stuff for PHP 5
+#if ZEND_EXTENSION_API_NO &gt; 220051025
 	if (by_ref) {
 		zend_error(E_ERROR, "An iterator cannot be used with foreach by reference");
 	}
-    */
+#endif
 
     phpg_modelrowiter_new(&amp;zobj, GTK_TREE_MODEL(PHPG_GOBJECT(object)), NULL \
                TSRMLS_CC);
     iter_obj = (phpg_modelrowiter_t *) zend_object_store_get_object(zobj TSRMLS_CC);
@@ -804,7 +817,6 @@
     return (zend_object_iterator *) &amp;iter_obj-&gt;ziter;
 }
 
-
 static zval* treemodelrow_read_dimension(zval *object, zval *offset, int type \
TSRMLS_DC)  {
     phpg_modelrow_t *row;
Index: generator/generator.php
===================================================================
RCS file: /repository/php-gtk/generator/generator.php,v
retrieving revision 1.112
diff -u -r1.112 generator.php
--- generator/generator.php	1 May 2006 18:30:56 -0000	1.112
+++ generator/generator.php	25 May 2006 17:31:54 -0000
@@ -429,7 +429,7 @@
                     // mark class as non-instantiable directly if we were trying
                     // to generate default constructor
                     if ($ctor_fe_name == '__construct') {
-                        $ctor_defs[] = sprintf(Templates::function_entry, \
$ctor_fe_name, 'no_direct_constructor'); +                        $ctor_defs[] = \
sprintf(Templates::function_entry, $ctor_fe_name, 'no_direct_constructor', \
$ctor_fe_name, 'no_direct_constructor');  }
                 }
                 $first = 0;
@@ -453,7 +453,7 @@
                 // GObject. For GObject's we let it chain up to GObject
                 // constructor
                 if ($object-&gt;def_type != 'object') {
-                    $ctor_defs[] = sprintf(Templates::function_entry, '__construct', \
'no_direct_constructor'); +                    $ctor_defs[] = \
sprintf(Templates::function_entry, '__construct', 'no_direct_constructor', \
'__construct', 'no_direct_constructor');  }
             }
         }
Index: generator/templates.php
===================================================================
RCS file: /repository/php-gtk/generator/templates.php,v
retrieving revision 1.49
diff -u -r1.49 templates.php
--- generator/templates.php	19 Feb 2006 21:53:44 -0000	1.49
+++ generator/templates.php	29 May 2006 04:26:03 -0000
@@ -192,7 +192,7 @@
 
 const method_entry = "\tPHP_ME(%s, %s, %s, %s)\n";
 const abs_method_entry = "\tZEND_ABSTRACT_ME(%s, %s, %s)\n";
-const function_entry = "\tPHP_ME_MAPPING(%s, %s, NULL)\n";
+const function_entry = "#if ZEND_EXTENSION_API_NO &gt; 220051025\n\tPHP_ME_MAPPING(%s, \
%s, NULL, 0)\n#else\n\tPHP_ME_MAPPING(%s, %s, NULL)\n#endif\n";  const alias_entry = \
"\tPHP_MALIAS(%s, %s, %s, %s, %s)\n";  const functions_decl = "
 static function_entry %s_methods[] = {
Index: main/php_gtk.c
===================================================================
RCS file: /repository/php-gtk/main/php_gtk.c,v
retrieving revision 1.52
diff -u -r1.52 php_gtk.c
--- main/php_gtk.c	19 Nov 2005 21:44:34 -0000	1.52
+++ main/php_gtk.c	29 May 2006 14:19:46 -0000
@@ -62,7 +62,7 @@
 	STANDARD_MODULE_PROPERTIES
 };
 
-ZEND_DECLARE_MODULE_GLOBALS(gtk)
+ZEND_DECLARE_MODULE_GLOBALS(gtk);
 
 #ifdef COMPILE_DL_PHP_GTK2
 ZEND_GET_MODULE(gtk)
@@ -70,7 +70,6 @@
 
 static void php_gtk_startup_shared_extensions(int module_number);
 
-
 static ZEND_INI_MH(OnUpdateCodepage)
 {
 	char **p;
Index: main/php_gtk.h
===================================================================
RCS file: /repository/php-gtk/main/php_gtk.h,v
retrieving revision 1.129
diff -u -r1.129 php_gtk.h
--- main/php_gtk.h	27 Mar 2006 04:25:50 -0000	1.129
+++ main/php_gtk.h	29 May 2006 14:18:16 -0000
@@ -35,6 +35,7 @@
 
 #include "zend_objects_API.h"
 #include "zend_exceptions.h"
+#include "zend_extensions.h"
 
 #define PHP_GTK_VERSION "2.0.0-dev"
 
Index: main/phpg_atom.c
===================================================================
RCS file: /repository/php-gtk/main/phpg_atom.c,v
retrieving revision 1.4
diff -u -r1.4 phpg_atom.c
--- main/phpg_atom.c	31 Mar 2006 18:10:22 -0000	1.4
+++ main/phpg_atom.c	29 May 2006 13:58:11 -0000
@@ -30,7 +30,11 @@
 static zend_object_handlers phpg_gdkatom_handlers;
 
 static function_entry gdkatom_methods[] = {
+#if ZEND_EXTENSION_API_NO &gt; 220051025
+    PHP_ME_MAPPING(__construct, no_direct_constructor, NULL, 0)
+#else
     PHP_ME_MAPPING(__construct, no_direct_constructor, NULL)
+#endif
     { NULL, NULL, NULL }
 };
 
@@ -61,6 +65,26 @@
 /* }}} */
 
 /* {{{ static phpg_gdkatom_cast_object() */
+#if ZEND_EXTENSION_API_NO &gt; 220051025
+static int phpg_gdkatom_cast_object(zval *readobj, zval *writeobj, int type \
TSRMLS_DC) +{
+    phpg_gdkatom_t *pobj;
+
+    if (type == IS_STRING) {
+        pobj = zend_object_store_get_object(readobj TSRMLS_CC);
+        if (!pobj-&gt;name) {
+            pobj-&gt;name = estrdup(gdk_atom_name(pobj-&gt;atom));
+        }
+        if (!pobj-&gt;name) {
+            /* TODO obtain representation from __toString() perhaps */
+        }
+        ZVAL_STRING(writeobj, pobj-&gt;name, 1);
+        return SUCCESS;
+    }
+
+    return FAILURE;
+}
+#else
 static int phpg_gdkatom_cast_object(zval *readobj, zval *writeobj, int type, int \
should_free TSRMLS_DC)  {
     phpg_gdkatom_t *pobj;
@@ -81,12 +105,12 @@
         if (should_free) {
             zval_dtor(&amp;free_obj);
         }
-
         return SUCCESS;
     }
 
     return FAILURE;
 }
+#endif
 /* }}} */
 
 /* {{{ PHP_GTK_API phpg_create_gdkatom() */
Index: main/phpg_exceptions.c
===================================================================
RCS file: /repository/php-gtk/main/phpg_exceptions.c,v
retrieving revision 1.5
diff -u -r1.5 phpg_exceptions.c
--- main/phpg_exceptions.c	2 Sep 2005 09:25:05 -0000	1.5
+++ main/phpg_exceptions.c	26 May 2006 19:27:55 -0000
@@ -33,7 +33,11 @@
 	TSRMLS_FETCH();
 
 	INIT_CLASS_ENTRY(ce, "PhpGtkException", NULL);
+#if ZEND_EXTENSION_API_NO &gt; 220051025
+	phpg_generic_exception = zend_register_internal_class_ex(&amp;ce, \
zend_exception_get_default(TSRMLS_C), NULL TSRMLS_CC); +#else
 	phpg_generic_exception = zend_register_internal_class_ex(&amp;ce, \
zend_exception_get_default(), NULL TSRMLS_CC); +#endif
 	phpg_generic_exception-&gt;ce_flags |= ZEND_ACC_FINAL;
 	phpg_generic_exception-&gt;constructor-&gt;common.fn_flags |= ZEND_ACC_PROTECTED;
 
Index: main/phpg_gpointer.c
===================================================================
RCS file: /repository/php-gtk/main/phpg_gpointer.c,v
retrieving revision 1.3
diff -u -r1.3 phpg_gpointer.c
--- main/phpg_gpointer.c	31 Mar 2006 18:10:22 -0000	1.3
+++ main/phpg_gpointer.c	26 May 2006 19:28:54 -0000
@@ -28,7 +28,11 @@
 PHP_GTK_EXPORT_CE(gpointer_ce) = NULL;
 
 static function_entry gpointer_methods[] = {
+#if ZEND_EXTENSION_API_NO &gt; 220051025
+    PHP_ME_MAPPING(__construct, no_direct_constructor, NULL, 0)
+#else
     PHP_ME_MAPPING(__construct, no_direct_constructor, NULL)
+#endif
     { NULL, NULL, NULL }
 };
 



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060530044136</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-30 04:41:36-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] #37636 [NEW]: GdkPixbuf::new_from_gd transfers</subject><body>


&gt; //image_graph multiple plots usage example
That example works with the latest cvs version only, as this only allows
to specify no ouput. Just copy the last method, done() into your
installation.

http://cvs.php.net/viewcvs.cgi/pear/Image_Graph/Graph.php?view=markup&amp;rev=1.59

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060530161505</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-05-30 16:15:05-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: [PHP-DEV] Ides of March [WAS:  tsrm_shutdown() and the CLI SAPI]</subject><body>

Short version:

zend_config.w32.h

 #define USE_ZEND_ALLOC 1
-#define HAVE_ALLOCA 1
-#define HAVE_LIMITS_H 1
+
+#include &lt;../main/config.w32.h&gt;

In theory that's OK because main/config.w32.h has '#define HAVE_ALLOCA 1' 
halfway down it.

In practice, the order actually matters.

- Steph

----- Original Message ----- 
From: "Dmitry Stogov" &lt;dmitry@zend.com&gt;
To: "'Steph Fox'" &lt;steph@zend.com&gt;
Cc: "'PHP-GTK dev'" &lt;php-gtk-dev@lists.php.net&gt;; "'internals'" 
&lt;internals@lists.php.net&gt;
Sent: Tuesday, May 30, 2006 5:36 AM
Subject: RE: [PHP-DEV] Ides of March [WAS: tsrm_shutdown() and the CLI SAPI]


&gt; Hi Steph,
&gt;
&gt; As I remember this patch modified "zend_config.w32.h". It made inclusion 
&gt; of
&gt; "main/config.w32.h" in the same way as on all other systems.
&gt; How it affects TSRM?
&gt; May be I forgot something.
&gt;
&gt; Thanks. Dmitry.
&gt;
&gt;&gt; -----Original Message-----
&gt;&gt; From: Steph Fox [mailto:steph@zend.com]
&gt;&gt; Sent: Tuesday, May 30, 2006 1:30 AM
&gt;&gt; To: Dmitry Stogov
&gt;&gt; Cc: 'PHP-GTK dev'; 'internals'
&gt;&gt; Subject: Re: [PHP-DEV] Ides of March [WAS: tsrm_shutdown()
&gt;&gt; and the CLI SAPI]
&gt;&gt;
&gt;&gt;
&gt;&gt; Hi Dmitry,
&gt;&gt;
&gt;&gt; Finally cracked it, and you're right it had nothing to do
&gt;&gt; with the suspected
&gt;&gt; optimizations. There was a win32 memory fix where you
&gt;&gt; included the PHP win32
&gt;&gt; config file in the Zend one, confusing heck out of TSRM's totally
&gt;&gt; independent (until it meets Zend) alloca definition, which is
&gt;&gt; some way
&gt;&gt; before Zend meets PHP's. They all need to match.
&gt;&gt;
&gt;&gt; Can you find some other way to fix #36568 pliz?
&gt;&gt;
&gt;&gt; I'll take another look at those flags in TSRM itself for the
&gt;&gt; work-aroundable
&gt;&gt; shutdown issues when I've caught up with the weeklies...
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt;
&gt;&gt; ps I knew it had to be you - nobody else did anything major
&gt;&gt; in core that
&gt;&gt; week ;)
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; &gt; Hi Steph,
&gt;&gt; &gt;
&gt;&gt; &gt; I have no idea what is wrong with optimized class/functions tables
&gt;&gt; &gt; cleanup.
&gt;&gt; &gt; In case if EG(full_tables_cleanup) is set, the behavior
&gt;&gt; should be exactly
&gt;&gt; &gt; the same as before patch.
&gt;&gt; &gt; PHP uses EG(full_table_cleanup) only for dl(), but I do't
&gt;&gt; know how php-gtk
&gt;&gt; &gt; uses it.
&gt;&gt; &gt;
&gt;&gt; &gt; Thanks. Dmitry.
&gt;&gt; &gt;
&gt;&gt; &gt;&gt; -----Original Message-----
&gt;&gt; &gt;&gt; From: Steph Fox [mailto:steph@zend.com]
&gt;&gt; &gt;&gt; Sent: Monday, May 29, 2006 1:40 PM
&gt;&gt; &gt;&gt; To: internals
&gt;&gt; &gt;&gt; Cc: PHP-GTK dev; Dmitry Stogov
&gt;&gt; &gt;&gt; Subject: [PHP-DEV] Ides of March [WAS: tsrm_shutdown() and the CLI
&gt;&gt; &gt;&gt; SAPI]
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; Hi all,
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; I've spent a fun weekend debugging TSRM and bits of ZE2, having
&gt;&gt; &gt;&gt; finally figured that the zend_compiler_globals dtor was
&gt;&gt; the point of
&gt;&gt; &gt;&gt; failure here.
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; TSRM needs to mark resources as 'done' following a free
&gt;&gt; and doesn't
&gt;&gt; &gt;&gt; in most cases, but that's actually not the main problem we have in
&gt;&gt; &gt;&gt; PHP-GTK (although
&gt;&gt; &gt;&gt; fixing it may well solve everybody else's, I'll check that on
&gt;&gt; &gt;&gt; my travels).
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; Dmitry's "Optimized cleanup loops on request shutdown"
&gt;&gt; &gt;&gt; commit(s) spanning
&gt;&gt; &gt;&gt; the 13th and 14th March broke Andrei's
&gt;&gt; &gt;&gt; 'EG(full_tables_cleanup) = 1' ruse
&gt;&gt; &gt;&gt; (we needed user classes to be cleaned and internal classes
&gt;&gt; to stay),
&gt;&gt; &gt;&gt; but it also broke TSRM shutdown completely for us. PHP-GTK classes
&gt;&gt; &gt;&gt; are recognized
&gt;&gt; &gt;&gt; as being internal, but only the first one ever reaches the
&gt;&gt; &gt;&gt; dtor - even when
&gt;&gt; &gt;&gt; there are no user-defined classes.
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; zend_hash_reverse_apply() is called at that point, so I'm guessing
&gt;&gt; &gt;&gt; there's a reentrancy issue behind my access violation crash.
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; I'll get back to this when I get some time, in the
&gt;&gt; meantime if anyone
&gt;&gt; &gt;&gt; (Dmitry?) wants to play with this you need to know that I
&gt;&gt; can't put
&gt;&gt; &gt;&gt; the 5_2 compat stuff into CVS until Andrei OKs it, so PHP-GTK HEAD
&gt;&gt; &gt;&gt; has to be built
&gt;&gt; &gt;&gt; against PHP_5_1 branch at present (anything after March
&gt;&gt; 14th will do).
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; - Steph
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; &gt; Under CLI ZTS build, when loading a PHP-GTK 2 .dll built against
&gt;&gt; &gt;&gt; &gt; anything this side of PHP 5.1.2 release, I'm seeing an 'access
&gt;&gt; &gt;&gt; violation' crash on
&gt;&gt; &gt;&gt; &gt; reaching:
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt;      if (resource_types_table &amp;&amp; !resource_types_table[j].done &amp;&amp;
&gt;&gt; &gt;&gt; &gt; resource_types_table[j].dtor) {
&gt;&gt; &gt;&gt; &gt;          resource_types_table[j].dtor(p-&gt;storage[j],
&gt;&gt; &amp;p-&gt;storage);
&gt;&gt; &gt;&gt; &gt;      }
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt; Similar code is also used in:
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt; tsrm_free_interpreter_context()
&gt;&gt; &gt;&gt; &gt; ts_free_thread()
&gt;&gt; &gt;&gt; &gt; ts_free_worker_threads()
&gt;&gt; &gt;&gt; &gt; ts_free_id()
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt; I thought ts_free_thread() was crashing at that line too at
&gt;&gt; &gt;&gt; first, but
&gt;&gt; &gt;&gt; &gt; that turned out to be because there's no 'done' check
&gt;&gt; &gt;&gt; there, i.e. double
&gt;&gt; &gt;&gt; &gt; dtors are possible via some functions. It's still vaguely
&gt;&gt; &gt;&gt; possible there's
&gt;&gt; &gt;&gt; &gt; a double flypast causing the crash I'm seeing, but I have
&gt;&gt; &gt;&gt; everything I
&gt;&gt; &gt;&gt; &gt; know about protected now. (On my laptop that is.)
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt; Eventually I found the resource id for PHP-GTK - the
&gt;&gt; only extension
&gt;&gt; &gt;&gt; &gt; I'm loading during runtime, via php.ini - is 32nd out of
&gt;&gt; a possible
&gt;&gt; &gt;&gt; &gt; 32. "Eventually", because that means I can't use ts_free_id()
&gt;&gt; &gt;&gt; to avoid the
&gt;&gt; &gt;&gt; &gt; crash as advised by Frank (and Tony, and Dmitry, and anyone
&gt;&gt; &gt;&gt; else who ever
&gt;&gt; &gt;&gt; &gt; used that MSHUTDOWN workaround for CLI). Interesting too,
&gt;&gt; &gt;&gt; because the
&gt;&gt; &gt;&gt; &gt; resource that causes the crash appears to be something
&gt;&gt; &gt;&gt; completely other.
&gt;&gt; &gt;&gt; &gt; Tracking down resource id #5 - and that's all I know about
&gt;&gt; &gt;&gt; it apart from
&gt;&gt; &gt;&gt; &gt; it crashes - is a barrel of laughs, I'll let y'all know if
&gt;&gt; &gt;&gt; I ever find out
&gt;&gt; &gt;&gt; &gt; which of the many possible extensions/files in ext/standard
&gt;&gt; &gt;&gt; or core it is.
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt; Short version: One line is problematic, and only in one
&gt;&gt; &gt;&gt; function, and
&gt;&gt; &gt;&gt; &gt; presumably only under CLI SAPI. (CGI already doesn't call
&gt;&gt; &gt;&gt; tsrm_shutdown(),
&gt;&gt; &gt;&gt; &gt; thanks to similar issues some 3 years ago).
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt; The question is whether to take 'the Zeev approach' and
&gt;&gt; &gt;&gt; simply comment
&gt;&gt; &gt;&gt; &gt; out
&gt;&gt; &gt;&gt; &gt; the tsrm_shutdown() call at the end of sapi/cli/php_cli.c,
&gt;&gt; &gt;&gt; or whether to
&gt;&gt; &gt;&gt; &gt; spend time knitting up a fine-grained approach to prevent
&gt;&gt; &gt;&gt; the one bad line
&gt;&gt; &gt;&gt; &gt; in the function from being called in single-threaded
&gt;&gt; &gt;&gt; environments? I think
&gt;&gt; &gt;&gt; &gt; I've given up on the idea of actually resolving the bug now...
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt; Thoughts?
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt; - oh, and don't make one of them 'chicken-and-egg' - this is
&gt;&gt; &gt;&gt; &gt; definitively NOT related to the shutdown order in main.c!!!!!
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt; - Steph
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt; --
&gt;&gt; &gt;&gt; &gt; PHP Internals - PHP Runtime Development Mailing List
&gt;&gt; &gt;&gt; &gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt; This message was checked by NOD32 antivirus system.
&gt;&gt; &gt;&gt; &gt; http://www.eset.com
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; --
&gt;&gt; &gt;&gt; PHP Internals - PHP Runtime Development Mailing List
&gt;&gt; &gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;
&gt;&gt; &gt; --
&gt;&gt; &gt; PHP Internals - PHP Runtime Development Mailing List
&gt;&gt; &gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt; &gt;
&gt;&gt; &gt; This message was checked by NOD32 antivirus system.
&gt;&gt; &gt; http://www.eset.com
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP Internals - PHP Runtime Development Mailing List
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060530202859</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-30 20:28:59-0400</timestampReceived><subject>[PHP-GTK-DEV] [PATCH] GtkComboBox/GtkTreeView::set_row_separator_func</subject><body>


Hi all,


The patch for GtkComboBox/GtkTreeView::set_row_separator_func can be
found at:
http://xml.cweiske.de/patches/rowseparator_gtk.overrides.diff
http://xml.cweiske.de/patches/rowseparator_gtktreeview.overrides.diff
-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060531172251</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-05-31 17:22:51-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkUIManager, GtkActionGroup and GtkAction</subject><body>


Hello all,


I finally found out how GtkUIManager, GtkActionGroup and GtkAction work
together and found some inconvenient things.

First, let's explain how they interact:
GtkUIManager creates Menu and Toolbar widgets out of a XML definition,
be it in a file or a string. Every of this items in the XML have both a
name (by which they are referenced) and an action attribute. The action
attribute refers to an action object defined in an GtkActionGroup object
that is attached to the uimanager.

Now you have to provide an action for every item in the xml definition,
or it will not be shown. You can define the actions by

a) creating an GtkAction object for every single action, connecting a
callback to the "activate" signal and adding it to the action group via
-&gt;add_action($action). The drawback is that you cannot just do
&gt; $group-&gt;add_action(new GtkAction("Name", "_Title",
&gt;    "Tooltip", Gtk::STOCK_NEW));
because you need to add the callback, too. Therefore I vote for adding a
fifth, optional parameter that represents a callback and is connected if
passed to the constructor.

b) by using the currently not implemented $group-&gt;add_actions(array of
GtkActionEntries). A GtkActionEntry is a struct that just contains the
same information as a GtkAction, just the plain text version - so it can
 be represented by an array in php:
&gt;$group-&gt;add_actions( array(
&gt;    array($name, $stock_id, $label, $accelerator, $tooltip),
&gt;    array($name2, $stock_id2, $label2, $accelerator2, $tooltip2)
&gt;);
I am wondering now if we should allow passing an array of GtkActions to
the method, not only arrays? I personally think it is useful in some
special cases only, but if you really want to customize your actions it
is useful. And the name also implies that you can add actions, not
arrays only.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060531174517</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-05-31 17:45:17-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Patches and the alpha</subject><body>

I am back now.

-Andrei

On May 31, 2006, at 10:27 AM, Christian Weiske wrote:

&gt; Hi all,
&gt;
&gt;
&gt; You might have noted that there are several patches waiting to be 
&gt; merged
&gt; into the sources.
&gt;
&gt; While I understand that tracking down the dnd segfault bugs might take 
&gt; a
&gt; long time and doesn't need to be done before the alpha is released, I
&gt; plead for including the patches before releasing the alpha.
&gt; We have been waiting a long time for the alpha and it really doesn't
&gt; matter if it's delayed another week. Further, people will have a better
&gt; experience if the API is more complete - even though it's an alpha.
&gt;
&gt; Andrei, are you back?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060531174612</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-05-31 17:46:12-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkComboBox TODO2</subject><body>

You have karma now.

On May 30, 2006, at 12:01 PM, Scott Mattocks wrote:

&gt; I don't have the karma to update the TODO2 file so here is a patch 
&gt; with what I wanted to add:
&gt;
&gt; Index: TODO2
&gt; ===================================================================
&gt; RCS file: /repository/php-gtk/TODO2,v
&gt; retrieving revision 1.76
&gt; diff -u -r1.76 TODO2
&gt; --- TODO2       30 May 2006 07:37:12 -0000      1.76
&gt; +++ TODO2       30 May 2006 19:00:04 -0000
&gt; @@ -42,6 +42,8 @@
&gt;         method      GtkClipboard::wait_is_target_available: unknown 
&gt; type 'GdkAtom'
&gt;  * GtkComboBox
&gt;      Default constructor should get optional parameter, and 
&gt; new_with_model() be removed
&gt; +    method    GtkComboBox::set_row_separator_func: unknown type 
&gt; 'GtkTreeViewRowSeparatorFunc'
&gt; +    method    GtkComboBox::get_row_separator_func: unknown type 
&gt; 'GtkTreeViewRowSeparatorFunc'
&gt;  * GtkEntry
&gt;         GtkEntry objects can't be var_dumped, probably something 
&gt; missing
&gt;  * GdkGC
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060403054912</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-03 05:49:12-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkPixbuf Trouble</subject><body>

You are not passing the right parameters in, then. If you look at the  
code;

     if (rowstride == -1) {
         rowstride = width * 3;
     }
     if (rgb_buf_len &lt; rowstride * (height-1) + width * 3) {
         php_error(E_WARNING, "RGB buffer is not large enough");
         return;
     }

Basically, your rowstride, width, and height parameters need to match  
up with the buffer length. And it also depends on whether you are  
using RGB or RGBA buffers.

-Andrei


On Mar 31, 2006, at 10:31 AM, Anant Narayanan wrote:

&gt; Christian,
&gt;
&gt;&gt;&gt; I made overrides for draw_rgb_image() and draw_rgb_32_image(). The
&gt;&gt;&gt; _dithalign versions are no more. Try it now.
&gt;&gt; Does that mean that the gdkpixbuf animation example should work now?
&gt;
&gt; I tried, and this is what I get instead:
&gt;
&gt; Warning: RGB buffer is not large enough in
&gt; /home/anant/php/php-gtk/test/bug_pixbuf-demo.php on line 78
&gt;
&gt; I tried with both the rgb and rgb_32 methods.
&gt;
&gt; Regards,
&gt; -- 
&gt; Anant
&gt;
&gt; Find Freedom, Go Open Source!
&gt; http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060408105306</emailId><senderName>gell6</senderName><senderEmail>spoongong@hotmail.com</senderEmail><timestampReceived>2006-04-08 10:53:06-0400</timestampReceived><subject>[PHP-GTK-DEV] Can't add new widget to GtkFixed inside class</subject><body>



Hi
I'm trying to add buttons to GtkFixed in realtime using a class method.
The code I'm posting is greatly simplified to isolate the problem. Basically
the ButtonClass class just makes a new button and uses put() to put the
button inside a GtkFixed, which is defined outside the class, in the main
body of the file.
Now, when $button1 is clicked it should invoke the class and make a new
button. It doesn't. 

However, when I add the line

MakeNewButton($fixed);

to the main body of the code, it invokes the class and makes the buttton ok!
Why doesn't the class work when called by connect_simple?

Here's the code:


&lt;?php

if (!class_exists('gtk')) {             //  standard gtk stuff
    die("Please load the php-gtk2 module in your php.ini\r\n");
}
$wnd = new GtkWindow();
$wnd-&gt;set_title('MyApp');
$wnd-&gt;connect_simple('destroy', array('gtk', 'main_quit'));


$fixed   = new GtkFixed ();
$button1 = new GtkButton("Button 1");

$fixed-&gt;put($button1, 10, 10);
$button1 -&gt; connect_simple ("clicked", "MakeNewButton", $fixed);

$wnd-&gt;add($fixed); $wnd-&gt;show_all();
Gtk::main();


function MakeNewButton ($fixed) {

    $a = new ButtonClass;
    $a -&gt; DoStuff ($fixed);
}

// --- class code ----

class ButtonClass {

	function DoStuff ($fixed) {

		$button2 = new GtkButton("Button 2");
		$fixed-&gt;put($button2, 30, 40);
	}
}


?&gt;



Thanks!
--
View this message in context: \
http://www.nabble.com/Can%27t-add-new-widget-to-GtkFixed-inside-class-t1416282.html#a3817074
 Sent from the Php - GTK - Dev forum at Nabble.com.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060408112818</emailId><senderName>gell6</senderName><senderEmail>spoongong@hotmail.com</senderEmail><timestampReceived>2006-04-08 11:28:18-0400</timestampReceived><subject>[PHP-GTK-DEV] problem solved</subject><body>


Arrrgggghhh!! Why is it that you can spend hours trying to fix a problem,
then at the point where you ask someone for help... you realise the answer,
and then how simple it is...!

i just add $wnd -&gt; show_all() inside the function and it works!
--
View this message in context: \
http://www.nabble.com/Can%27t-add-new-widget-to-GtkFixed-inside-class-t1416282.html#a3817264
 Sent from the Php - GTK - Dev forum at Nabble.com.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060410051706</emailId><senderName>Tom Rogers</senderName><senderEmail>trogers@kwikin.com</senderEmail><timestampReceived>2006-04-10 05:17:06-0400</timestampReceived><subject>Re[2]: [PHP-GTK-DEV] Code completion for PHP-GTK 2!</subject><body>

Hi,

Monday, April 10, 2006, 12:42:40 PM, you wrote:
SF&gt; I have a copy, but I suspect Tom's beautified it since then.

SF&gt; Tom, still lurking?


I sent him a copy some time ago, will send it again.

-- 
regards,
Tom

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060410011815</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-04-10 01:18:15-0400</timestampReceived><subject>[PHP-GTK-DEV] Code completion for PHP-GTK 2!</subject><body>

Hi All,

An explanation for my last few CVS commits:

The Scintilla extension now works fully. 304 methods are available (out
of 305) which makes this extension 99.7% complete.

Code Completion is now possible for the widget. Sample Code:

    http://www.kix.in/php-gtk2/codecomplete.phps

Try typing 'P' or 'G' and you'll see that it works.

Cheers,
--
Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060410140909</emailId><senderName>Tom Rogers</senderName><senderEmail>trogers@kwikin.com</senderEmail><timestampReceived>2006-04-10 14:09:09-0400</timestampReceived><subject>Re[4]: [PHP-GTK-DEV] Code completion for PHP-GTK 2!</subject><body>

Hi,

Monday, April 10, 2006, 3:30:48 PM, you wrote:
SF&gt; Hi Tom,

&gt;&gt; Monday, April 10, 2006, 12:42:40 PM, you wrote:
&gt;&gt; SF&gt; I have a copy, but I suspect Tom's beautified it since then.
&gt;&gt;
&gt;&gt; SF&gt; Tom, still lurking?
&gt;&gt;
&gt;&gt;
&gt;&gt; I sent him a copy some time ago, will send it again.
&gt;&gt;


SF&gt; Would you like to post a link to it somewhere everyone can see it?

SF&gt; We're going to have to come to some decision over these implementations now
SF&gt; we have two...

SF&gt; - Steph 

I have only done this for windows do far.

They can be got here:

main source http://kwiktemplates.com/scintilla/scintilla.zip
generator http://kwiktemplates.com/scintilla/sci_generator.ph_
(rename to sci_generator.php)
scintilla lib used (1.68) http://kwiktemplates.com/scintilla/Scintilla-static.lib
php extension http://kwiktemplates.com/scintilla/php_gtk_scintilla2.dll

---
regards,
Tom

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060410150441</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-04-10 15:04:41-0400</timestampReceived><subject>[PHP-GTK-DEV] Pango Classes</subject><body>

Hello,

I am fiddling with GtkLabel::set_attributes() and it requires a 
PangoAttrList. The contents of PangoAttrList should be a bunch of 
PangoAttr* classes like PangoAttrInt or PangoAttrString, but I can't 
seem to create them. Here is the script I am trying to run:

&lt;?php
$label = new GtkLabel('Label');
$list = new PangoAttrList();
$attr = new PangoAttrInt(Pango::ATTR_WEIGHT, Pango::WEIGHT_BOLD);
$list-&gt;insert($attr);
$label-&gt;set_attributes($list);
var_dump($label-&gt;get_attributes());
?&gt;

I am getting fatal errors about trying to construct a non-existent 
class, PangoAttrInt. Am I doing something wrong or are these classes 
just not implemented yet? All of the list stuff works fine. It is just 
creating the attribute that causes trouble.

Thanks,
-- 
Scott Mattocks
Author of the soon to be published: Pro PHP-GTK
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060414154711</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-14 15:47:11-0400</timestampReceived><subject>[PHP-GTK-DEV] keysyms</subject><body>

Hi Andrei,

I just wanted to check that the initial two entries in the keysyms are 
intended - I'm doccing these. Are they?

http://cvs.php.net/viewcvs.cgi/php-gtk/ext/gtk%2B/php_gdk.c?view=markup&amp;rev=1.6


- Steph 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060410193934</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-04-10 19:39:34-0400</timestampReceived><subject>[PHP-GTK-DEV] State of PHP-GTK 2</subject><body>

Hello everyone (mostly Andrei though),

What is the official state of PHP-GTK 2 at the moment? We have PHP-GTK 2 
docs online and although they are pretty slim they are getting filled 
in. I believe Christian is working on the search tool to finalize the 
docs section. We have several publicly available packages using PHP-GTK 
2 in its current state (PEAR/Gnope). There have also been several talks 
on the subject.

Can we make an official alpha release yet, or is there still more that 
needs to be done?

Thanks,
Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060414225435</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-04-14 22:54:35-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: GtkSourceView</subject><body>

Hi Steph,

&gt; 1) --enable-whatever is usually used when no external libs/headers are
&gt; needed. Given that I had to download three separate projects
&gt; (gtksourceview itself, libgnomeprint and libart_lgpl) to get anywhere at
&gt; all; it should really be --with-sourceview in this case.

Didn't know that! Will switch it to --with-sourceview. Likewise with the
 #include "php_gtk_api.h".

&gt; As far as the win32 thing goes, I got as far as failed links - in other
&gt; words, if I'd had a static libsourceview sitting there to link against
&gt; it would've worked. So I need to figure how to build that library.

Someone had already tried to do that, I think it was when they were
trying to port MonoDevelop to Windows. Don't know how far they got and
don't know if it'll help you though:

http://forge.novell.com/modules/xfref_library/detail.php?reference_id=616

&gt; I'm not sure the libgnomeprint part is 100% needed under win32, but I'll
&gt; have a go at building it that way anyway tomorrow and see where we go
&gt; from there. It'll most likely get ifdef'd out in the end - not least to
&gt; keep the number of files for download to a minimum!

It actually isn't needed. libgnomeprint is only required when someone is
trying to print out some content from the sourceview. It interfaces with
the GnomePrintConfig module (on the Gnome desktop environment of course)
to handle the printing part.

In fact, those print functions don't work currently on *nix too, not
until I commit the Bonobo and Gnome extensions atleast :)

I should probably remove those functions from the .defs file, what do
you say?

Regards,

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060415041235</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-04-15 04:12:35-0400</timestampReceived><subject>[PHP-GTK-DEV] The GtkSpell Extension</subject><body>

Hi All,

Maybe not the right time to introduce new extensions, but; the GtkSpell
extension is at:

http://www.kix.in/php-gtk2/gtkspell.tar.gz  (Tarball of the ext/spell
folder)
http://www.kix.in/php-gtk2/gtkspell.phps (Test script)
http://www.kix.in/php-gtk2/gtkspell.png (Screenshot)

Take a look (it's not perfect because GtkSpell doesn't have a GType - it
works though) and let me know if you'd like it committed. It shows
mis-spelled words with a red wavy line in a GtkTextView (consequently,
GtkSourceView too) and right clicking on that word gives a list of
suggested corrections.

It's based on the GtkSpell-2.0 library, which is pretty stable and
mature; unlike the trouble we faced with GtkScintilla.

But, if you're thinking "Oh no, not another extension please!", then
that's fine too, I'll wait until our Alpha release cycle is over :)

Cheers,

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060414172220</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-14 17:22:20-0400</timestampReceived><subject>[PHP-GTK-DEV] alpha release stuff</subject><body>

Even if you don't like the idea of doing a full-on release process for 
PHP-GTK 2 alpha...

1) We should probably wait until the PHP 5.1.3 release because there 
should've been a Zend API bump last week, and it hasn't gone in yet. It'd 
make sense to wait for that API change and then force a 5.1.3+ dependency - 
people will be able to use snaps then for other extensions and for PHP 
itself, or the 5.1.3 bundle of course.

2) We're apparently still in 5.1.3 RC 3!
 http://cvs.php.net/viewcvs.cgi/php-src/main/php_version.h?view=markup&amp;rev=1.112.2.30&amp;pathrev=PHP_5_1- \
Steph

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060419170407</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-04-19 17:04:07-0400</timestampReceived><subject>[PHP-GTK-DEV] implementing own cellrenderer</subject><body>


Hi all, especially Andrei,


I want to implement a Gtk2_IndexedComboBox based cell renderer. I
remember you said something that it's currently not possible, as some
marshallers are missing that translate the calls made by the C classes
into php calls.
Have you done anything in this direction, or do I have to wait?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060414173046</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-04-14 17:30:46-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] alpha release stuff</subject><body>

Steph Fox wrote:
&gt; 1) We should probably wait until the PHP 5.1.3 release because there 
&gt; should've been a Zend API bump last week, and it hasn't gone in yet. 
&gt; It'd make sense to wait for that API change and then force a 5.1.3+ 
&gt; dependency - people will be able to use snaps then for other extensions 
&gt; and for PHP itself, or the 5.1.3 bundle of course.

Please forgive my ignorance but what does waiting for 5.1.3 get us? Or I 
guess more specifically, what are the advantages of waiting for the Zend 
API bump and what are the consequences of not waiting?

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060408182632</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-04-08 18:26:32-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkAboutDialog</subject><body>

Testing GtkAboutDialog I got confused here:

set_website_label()
get_website_label()

get_website_label isn't returning the content defined by
set_website_label()

I thought set_website_label should define a caption for website URL, but
I didn't see that label anywhere on the screen...

Pablo

-- 
:: Pablo Dall'Oglio
:: www.dalloglio.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060427150153</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-04-27 15:01:53-0400</timestampReceived><subject>[PHP-GTK-DEV] Error compiling treeviewoverrides</subject><body>


Hi all,


I just updated the sources and tried to compile them, however I get the
following error:
-------------------
ext/gtk+/gtktreeview.overrides: In function `zif_GtkTreeModel_get':
ext/gtk+/gtktreeview.overrides:1273: error: `false' undeclared (first
use in this function)
ext/gtk+/gtktreeview.overrides:1273: error: (Each undeclared identifier
is reported only once
ext/gtk+/gtktreeview.overrides:1273: error: for each function it appears
in.)
ext/gtk+/gtktreeview.overrides:1280: error: `true' undeclared (first use
in this function)
ext/gtk+/gtktreeview.overrides:1298: warning: unused variable `column'
make: *** [ext/gtk+/gen_gtk.lo] Error 1
-------------------


When I replace the lines
&gt; zend_bool varargs = false;
&gt; varargs = false;
&gt; varargs = true;
with
&gt; zend_bool varargs = 0;
&gt; varargs = 0;
&gt; varargs = 1;
it works, but I don't know why false/true isn't recognized as zend_bool.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060427151627</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-04-27 15:16:27-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Error compiling treeviewoverrides</subject><body>

Christian Weiske wrote:
&gt; When I replace the lines
&gt;&gt; zend_bool varargs = false;
&gt;&gt; varargs = false;
&gt;&gt; varargs = true;
&gt; with
&gt;&gt; zend_bool varargs = 0;
&gt;&gt; varargs = 0;
&gt;&gt; varargs = 1;
&gt; it works, but I don't know why false/true isn't recognized as zend_bool.
&gt; 

I think they should really be FALSE and TRUE instead of false and true. 
After making that change it worked fine for me.

-- 
Scott Mattocks
Author of: Pro PHP-GTK
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060427203847</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-04-27 20:38:47-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Error compiling treeviewoverrides</subject><body>

Hi All,

Yes, I believe 'false' and 'true' should be replaced with 'FALSE' and
'TRUE', all the other zend_bool variables use it.

Also, the 'int column' declaration on line 1298 is not necessary, I get
a warning for "unused variable" anyway.

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060414174253</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-14 17:42:53-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] alpha release stuff</subject><body>

&gt; Steph Fox wrote:
&gt;&gt; 1) We should probably wait until the PHP 5.1.3 release because there 
&gt;&gt; should've been a Zend API bump last week, and it hasn't gone in yet. It'd 
&gt;&gt; make sense to wait for that API change and then force a 5.1.3+ 
&gt;&gt; dependency - people will be able to use snaps then for other extensions 
&gt;&gt; and for PHP itself, or the 5.1.3 bundle of course.
&gt;
&gt; Please forgive my ignorance but what does waiting for 5.1.3 get us? Or I 
&gt; guess more specifically, what are the advantages of waiting for the Zend 
&gt; API bump and what are the consequences of not waiting?

If we don't wait for the release, we won't have anything to point to and say 
'this is known to work' - it's not essential, just would be handy to have 
that rather than need to package PHP.

If we don't wait for the Zend API bump, anything the other side of it has a 
fair chance of not working with binaries from this side of it. API number 
changes aren't synched with releases, the last one was last September. 
Remember when all those people couldn't get their snaps binaries to work 
with my php-gtk2.dll last autumn? - that was why.

In any case, we're on RC 3 already there so it can't be long before the full 
release...

- Steph 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060414182243</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-14 18:22:43-0400</timestampReceived><subject>Fw: [PHP-GTK-DEV] alpha release stuff</subject><body>

Update: I just spoke with Ilia on irc.

The Zend API change has been held back until 5.2.0 now, so we're clear of 
that consideration.

I'd still prefer to wait for 5.1.3 if we can, purely because it means we can 
tie to a definite release. The good news is that the PHP release cycle's 
rolling in such a way as to give us some release process time of our own. 
i.e. we can roll a release candidate and do some testing/bugfixing.

5.1.3 RC 3's scheduled for release on Monday, which means (hopefully) the 
full release will be roughly a week later.

Andrei, does it make sense to you to keep in line there?

- Steph


&gt;&gt; Steph Fox wrote:
&gt;&gt;&gt; 1) We should probably wait until the PHP 5.1.3 release because there 
&gt;&gt;&gt; should've been a Zend API bump last week, and it hasn't gone in yet. 
&gt;&gt;&gt; It'd make sense to wait for that API change and then force a 5.1.3+ 
&gt;&gt;&gt; dependency - people will be able to use snaps then for other extensions 
&gt;&gt;&gt; and for PHP itself, or the 5.1.3 bundle of course.
&gt;&gt;
&gt;&gt; Please forgive my ignorance but what does waiting for 5.1.3 get us? Or I 
&gt;&gt; guess more specifically, what are the advantages of waiting for the Zend 
&gt;&gt; API bump and what are the consequences of not waiting?
&gt;
&gt; If we don't wait for the release, we won't have anything to point to and 
&gt; say 'this is known to work' - it's not essential, just would be handy to 
&gt; have that rather than need to package PHP.
&gt;
&gt; If we don't wait for the Zend API bump, anything the other side of it has 
&gt; a fair chance of not working with binaries from this side of it. API 
&gt; number changes aren't synched with releases, the last one was last 
&gt; September. Remember when all those people couldn't get their snaps 
&gt; binaries to work with my php-gtk2.dll last autumn? - that was why.
&gt;
&gt; In any case, we're on RC 3 already there so it can't be long before the 
&gt; full release...
&gt;
&gt; - Steph
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060417225155</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-17 22:51:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] alpha release stuff</subject><body>

On Apr 14, 2006, at 10:42 AM, Steph Fox wrote:

&gt; If we don't wait for the release, we won't have anything to point to 
&gt; and say 'this is known to work' - it's not essential, just would be 
&gt; handy to have that rather than need to package PHP.

Huh? PHP 5.1.1 works. Period.

&gt; If we don't wait for the Zend API bump, anything the other side of it 
&gt; has a fair chance of not working with binaries from this side of it. 
&gt; API number changes aren't synched with releases, the last one was last 
&gt; September. Remember when all those people couldn't get their snaps 
&gt; binaries to work with my php-gtk2.dll last autumn? - that was why.

PHP 5.1.1 works, again. It's a known target.

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060417225220</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-17 22:52:20-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] alpha release stuff</subject><body>

On Apr 14, 2006, at 11:22 AM, Steph Fox wrote:

&gt; Andrei, does it make sense to you to keep in line there?

No, I don't see why we need to be in line with 5.1.3.

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060429130053</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-04-29 13:00:53-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkWidget::is_visible()?</subject><body>


Hi all,


GtkWidgets don't have a method that returns the visibility. Could we add
is_visible()?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060429182122</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-29 18:21:22-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkWidget::is_visible()?</subject><body>

As opposed to checking a flag?

-Andrei


On Apr 29, 2006, at 6:00 AM, Christian Weiske wrote:

&gt; Hi all,
&gt;
&gt;
&gt; GtkWidgets don't have a method that returns the visibility. Could  
&gt; we add
&gt; is_visible()?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060429182735</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-04-29 18:27:35-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkWidget::is_visible()?</subject><body>


&gt; As opposed to checking a flag?
Yes.
&gt; $widget-&gt;is_visible()
is more intuitive than
&gt; $widgets-&gt;flags() &amp; Gtk::VISIBLE

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060418040524</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-18 04:05:24-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] alpha release stuff</subject><body>

That'll be primarily because you already knew something I didn't know until 
I asked. AKA, the API bump isn't happening until 5.2.0.

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, April 18, 2006 12:52 AM
Subject: Re: [PHP-GTK-DEV] alpha release stuff


&gt; On Apr 14, 2006, at 11:22 AM, Steph Fox wrote:
&gt;
&gt;&gt; Andrei, does it make sense to you to keep in line there?
&gt;
&gt; No, I don't see why we need to be in line with 5.1.3.
&gt;
&gt; -Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060418143514</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-04-18 14:35:14-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] alpha release stuff</subject><body>

OK. So where does this leave us regarding an alpha release?

Scott

Steph Fox wrote:
&gt; That'll be primarily because you already knew something I didn't know 
&gt; until I asked. AKA, the API bump isn't happening until 5.2.0.
&gt; 
&gt; ----- Original Message ----- From: "Andrei Zmievski" 
&gt; &lt;andrei@gravitonic.com&gt;
&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt; Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Tuesday, April 18, 2006 12:52 AM
&gt; Subject: Re: [PHP-GTK-DEV] alpha release stuff
&gt; 
&gt; 
&gt;&gt; On Apr 14, 2006, at 11:22 AM, Steph Fox wrote:
&gt;&gt;
&gt;&gt;&gt; Andrei, does it make sense to you to keep in line there?
&gt;&gt;
&gt;&gt; No, I don't see why we need to be in line with 5.1.3.
&gt;&gt;
&gt;&gt; -Andrei
&gt; 

-- 
Scott Mattocks
Author of the soon to be published: Pro PHP-GTK
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060418162504</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-18 16:25:04-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] alpha release stuff</subject><body>

It has nothing to do with API bump. Why would it?

-Andrei

On Apr 17, 2006, at 10:05 PM, Steph Fox wrote:

&gt; That'll be primarily because you already knew something I didn't know 
&gt; until I asked. AKA, the API bump isn't happening until 5.2.0.
&gt;
&gt; ----- Original Message ----- From: "Andrei Zmievski" 
&gt; &lt;andrei@gravitonic.com&gt;
&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt; Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Tuesday, April 18, 2006 12:52 AM
&gt; Subject: Re: [PHP-GTK-DEV] alpha release stuff
&gt;
&gt;
&gt;&gt; On Apr 14, 2006, at 11:22 AM, Steph Fox wrote:
&gt;&gt;
&gt;&gt;&gt; Andrei, does it make sense to you to keep in line there?
&gt;&gt;
&gt;&gt; No, I don't see why we need to be in line with 5.1.3.
&gt;&gt;
&gt;&gt; -Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060418162641</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-18 16:26:41-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] alpha release stuff</subject><body>

Well, basically on my end I need to take a look at all the patches in 
the queue and see whether we want to apply any of them before making 
the release. I also need to fiddle with the packaging script so that it 
packages the gen_* files instead of making people generate them 
themselves.

Steph, what about Win32 stuff?

-Andrei

On Apr 18, 2006, at 7:35 AM, Scott Mattocks wrote:

&gt; OK. So where does this leave us regarding an alpha release?
&gt;
&gt; Scott
&gt;
&gt; Steph Fox wrote:
&gt;&gt; That'll be primarily because you already knew something I didn't know 
&gt;&gt; until I asked. AKA, the API bump isn't happening until 5.2.0.
&gt;&gt; ----- Original Message ----- From: "Andrei Zmievski" 
&gt;&gt; &lt;andrei@gravitonic.com&gt;
&gt;&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt;&gt; Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt; Sent: Tuesday, April 18, 2006 12:52 AM
&gt;&gt; Subject: Re: [PHP-GTK-DEV] alpha release stuff
&gt;&gt;&gt; On Apr 14, 2006, at 11:22 AM, Steph Fox wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Andrei, does it make sense to you to keep in line there?
&gt;&gt;&gt;
&gt;&gt;&gt; No, I don't see why we need to be in line with 5.1.3.
&gt;&gt;&gt;
&gt;&gt;&gt; -Andrei
&gt;
&gt; -- 
&gt; Scott Mattocks
&gt; Author of the soon to be published: Pro PHP-GTK
&gt; http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060418170740</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-18 17:07:40-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] alpha release stuff</subject><body>

I'm about where you are - patches, and FileChooser has bugginess I need to 
look into, and I still want to port the GtkSourceView lib to win32 (this 
being the original - the PHP-GTK wrapper looks like it will 'just work'). 
Apart from that all I need to do is check that _all_ the libs used in the 
PHP 5 build are up to date.

I'm still waiting for you (or anyone else) to look into the Scintilla 
options. Scott, it would be good to get some feedback over those from you 
too, in between the nagging :)

- Steph

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Scott Mattocks" &lt;scott@crisscott.com&gt;
Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;; "Steph Fox" &lt;steph@zend.com&gt;
Sent: Tuesday, April 18, 2006 6:26 PM
Subject: Re: [PHP-GTK-DEV] alpha release stuff


&gt; Well, basically on my end I need to take a look at all the patches in the 
&gt; queue and see whether we want to apply any of them before making the 
&gt; release. I also need to fiddle with the packaging script so that it 
&gt; packages the gen_* files instead of making people generate them 
&gt; themselves.
&gt;
&gt; Steph, what about Win32 stuff?
&gt;
&gt; -Andrei
&gt;
&gt; On Apr 18, 2006, at 7:35 AM, Scott Mattocks wrote:
&gt;
&gt;&gt; OK. So where does this leave us regarding an alpha release?
&gt;&gt;
&gt;&gt; Scott
&gt;&gt;
&gt;&gt; Steph Fox wrote:
&gt;&gt;&gt; That'll be primarily because you already knew something I didn't know 
&gt;&gt;&gt; until I asked. AKA, the API bump isn't happening until 5.2.0.
&gt;&gt;&gt; ----- Original Message ----- From: "Andrei Zmievski" 
&gt;&gt;&gt; &lt;andrei@gravitonic.com&gt;
&gt;&gt;&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt;&gt;&gt; Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt;&gt; Sent: Tuesday, April 18, 2006 12:52 AM
&gt;&gt;&gt; Subject: Re: [PHP-GTK-DEV] alpha release stuff
&gt;&gt;&gt;&gt; On Apr 14, 2006, at 11:22 AM, Steph Fox wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Andrei, does it make sense to you to keep in line there?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; No, I don't see why we need to be in line with 5.1.3.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Scott Mattocks
&gt;&gt; Author of the soon to be published: Pro PHP-GTK
&gt;&gt; http://www.crisscott.com
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060418172747</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-18 17:27:47-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] alpha release stuff</subject><body>

Andrei,

The last Zend API bump came unannounced, and prevented any extension the 
other side of it working with the unofficial binary I'd rolled three days 
prior to it.

This one will prevent several extensions (com_dotnet, date, dom, mysqli, 
reflection, simplexml, spl, sqlite, tidy, xmlreader, xmlwriter and xsl, to 
name those affected in the core distro) from working with anything built 
against PHP prior to the API change. That poses a real problem for win32 
users, because PECL binaries are available _either_ with a PHP release 
download OR from pecl4win, which carries the latest snaps for each branch.

In other words, there wasn't a way for users to pick up a copy of the PECL 
bundle that would work with my unofficial binary last time around, unless 
they went back to an earlier PHP release - and that in turn meant several 
PHP bug fixes were missing.

So darn right it has something to do with the API bump! It was news to me 
that there should've been a midpoint release last September, and I had 
visions of the same mess happening again. In fact it will - the difference 
is that, thanks to the insistence on a midpoint release, we can tell people 
to ONLY use PECL extensions dating from the 5.1 series with this alpha, and 
presumably to ONLY use PECL extensions dating from the 5.2 series with our 
full release.

- Steph


&gt; It has nothing to do with API bump. Why would it?
&gt;
&gt; -Andrei
&gt;
&gt; On Apr 17, 2006, at 10:05 PM, Steph Fox wrote:
&gt;
&gt;&gt; That'll be primarily because you already knew something I didn't know 
&gt;&gt; until I asked. AKA, the API bump isn't happening until 5.2.0.
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "Andrei Zmievski" 
&gt;&gt; &lt;andrei@gravitonic.com&gt;
&gt;&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt;&gt; Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt; Sent: Tuesday, April 18, 2006 12:52 AM
&gt;&gt; Subject: Re: [PHP-GTK-DEV] alpha release stuff
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; On Apr 14, 2006, at 11:22 AM, Steph Fox wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Andrei, does it make sense to you to keep in line there?
&gt;&gt;&gt;
&gt;&gt;&gt; No, I don't see why we need to be in line with 5.1.3.
&gt;&gt;&gt;
&gt;&gt;&gt; -Andrei
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060418173252</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-04-18 17:32:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] alpha release stuff</subject><body>

Steph Fox wrote:
&gt; I'm still waiting for you (or anyone else) to look into the Scintilla 
&gt; options. Scott, it would be good to get some feedback over those from 
&gt; you too, in between the nagging :)

But nagging is what I am best at :) To be honest, I don't really 
understand the differences between the two Scintiallas. I know that 
Anant's compiles without any issues, but I haven't given Tom's a shot 
yet.  I will look at Tom's today and see if I can tell any difference.

Thanks,
Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060418175940</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-18 17:59:40-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] alpha release stuff</subject><body>

What I meant to say is: the source code of PHP-GTK has nothing to do 
with this API bump. It has only to do with Win32 binaries that we 
"choose" to distribute to users. In that case, you can make available a 
version of PHP-GTK built against PHP 5.1 and then the same version 
built against PHP 5.2.

-Andrei

On Apr 18, 2006, at 11:27 AM, Steph Fox wrote:

&gt; Andrei,
&gt;
&gt; The last Zend API bump came unannounced, and prevented any extension 
&gt; the other side of it working with the unofficial binary I'd rolled 
&gt; three days prior to it.
&gt;
&gt; This one will prevent several extensions (com_dotnet, date, dom, 
&gt; mysqli, reflection, simplexml, spl, sqlite, tidy, xmlreader, xmlwriter 
&gt; and xsl, to name those affected in the core distro) from working with 
&gt; anything built against PHP prior to the API change. That poses a real 
&gt; problem for win32 users, because PECL binaries are available _either_ 
&gt; with a PHP release download OR from pecl4win, which carries the latest 
&gt; snaps for each branch.
&gt;
&gt; In other words, there wasn't a way for users to pick up a copy of the 
&gt; PECL bundle that would work with my unofficial binary last time 
&gt; around, unless they went back to an earlier PHP release - and that in 
&gt; turn meant several PHP bug fixes were missing.
&gt;
&gt; So darn right it has something to do with the API bump! It was news to 
&gt; me that there should've been a midpoint release last September, and I 
&gt; had visions of the same mess happening again. In fact it will - the 
&gt; difference is that, thanks to the insistence on a midpoint release, we 
&gt; can tell people to ONLY use PECL extensions dating from the 5.1 series 
&gt; with this alpha, and presumably to ONLY use PECL extensions dating 
&gt; from the 5.2 series with our full release.
&gt;
&gt; - Steph
&gt;
&gt;
&gt;&gt; It has nothing to do with API bump. Why would it?
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt; On Apr 17, 2006, at 10:05 PM, Steph Fox wrote:
&gt;&gt;
&gt;&gt;&gt; That'll be primarily because you already knew something I didn't 
&gt;&gt;&gt; know until I asked. AKA, the API bump isn't happening until 5.2.0.
&gt;&gt;&gt;
&gt;&gt;&gt; ----- Original Message ----- From: "Andrei Zmievski" 
&gt;&gt;&gt; &lt;andrei@gravitonic.com&gt;
&gt;&gt;&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt;&gt;&gt; Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt;&gt; Sent: Tuesday, April 18, 2006 12:52 AM
&gt;&gt;&gt; Subject: Re: [PHP-GTK-DEV] alpha release stuff
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; On Apr 14, 2006, at 11:22 AM, Steph Fox wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Andrei, does it make sense to you to keep in line there?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; No, I don't see why we need to be in line with 5.1.3.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060418181220</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-18 18:12:20-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] alpha release stuff</subject><body>

Agreed, but it's other extensions that are the issue here. Particularly 
given that ext/date is one of those affected!

Anyway the reason it came up at all is because that API change originally 
went into PHP_5_1 branch, and I expected it to be part of the PHP 5.1.3 
release. Ilia caught it, and it's now been ifdef'd out until the PHP_5_2 
branch comes into being, so we don't have the problem to the extent I was 
anticipating. We just need to release this alpha against PHP 5.5.1 - 5.1.3, 
and roll the next release against PHP 5.2. (It'll be too confusing to have 
two versions in the way you're suggesting here. These are Windows users...)


&gt; What I meant to say is: the source code of PHP-GTK has nothing to do with 
&gt; this API bump. It has only to do with Win32 binaries that we "choose" to 
&gt; distribute to users. In that case, you can make available a version of 
&gt; PHP-GTK built against PHP 5.1 and then the same version built against PHP 
&gt; 5.2.
&gt;
&gt; -Andrei
&gt;
&gt; On Apr 18, 2006, at 11:27 AM, Steph Fox wrote:
&gt;
&gt;&gt; Andrei,
&gt;&gt;
&gt;&gt; The last Zend API bump came unannounced, and prevented any extension the 
&gt;&gt; other side of it working with the unofficial binary I'd rolled three days 
&gt;&gt; prior to it.
&gt;&gt;
&gt;&gt; This one will prevent several extensions (com_dotnet, date, dom, mysqli, 
&gt;&gt; reflection, simplexml, spl, sqlite, tidy, xmlreader, xmlwriter and xsl, 
&gt;&gt; to name those affected in the core distro) from working with anything 
&gt;&gt; built against PHP prior to the API change. That poses a real problem for 
&gt;&gt; win32 users, because PECL binaries are available _either_ with a PHP 
&gt;&gt; release download OR from pecl4win, which carries the latest snaps for 
&gt;&gt; each branch.
&gt;&gt;
&gt;&gt; In other words, there wasn't a way for users to pick up a copy of the 
&gt;&gt; PECL bundle that would work with my unofficial binary last time around, 
&gt;&gt; unless they went back to an earlier PHP release - and that in turn meant 
&gt;&gt; several PHP bug fixes were missing.
&gt;&gt;
&gt;&gt; So darn right it has something to do with the API bump! It was news to me 
&gt;&gt; that there should've been a midpoint release last September, and I had 
&gt;&gt; visions of the same mess happening again. In fact it will - the 
&gt;&gt; difference is that, thanks to the insistence on a midpoint release, we 
&gt;&gt; can tell people to ONLY use PECL extensions dating from the 5.1 series 
&gt;&gt; with this alpha, and presumably to ONLY use PECL extensions dating from 
&gt;&gt; the 5.2 series with our full release.
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; It has nothing to do with API bump. Why would it?
&gt;&gt;&gt;
&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;
&gt;&gt;&gt; On Apr 17, 2006, at 10:05 PM, Steph Fox wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; That'll be primarily because you already knew something I didn't know 
&gt;&gt;&gt;&gt; until I asked. AKA, the API bump isn't happening until 5.2.0.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; ----- Original Message ----- From: "Andrei Zmievski" 
&gt;&gt;&gt;&gt; &lt;andrei@gravitonic.com&gt;
&gt;&gt;&gt;&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt;&gt;&gt;&gt; Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt;&gt;&gt; Sent: Tuesday, April 18, 2006 12:52 AM
&gt;&gt;&gt;&gt; Subject: Re: [PHP-GTK-DEV] alpha release stuff
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; On Apr 14, 2006, at 11:22 AM, Steph Fox wrote:
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; Andrei, does it make sense to you to keep in line there?
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; No, I don't see why we need to be in line with 5.1.3.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060415041805</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-15 04:18:05-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] The GtkSpell Extension</subject><body>

Oh no, not another extension please!

-Andrei

On Apr 14, 2006, at 9:00 PM, Anant Narayanan wrote:
&gt; But, if you're thinking "Oh no, not another extension please!", then
&gt; that's fine too, I'll wait until our Alpha release cycle is over :)

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060410200644</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-10 20:06:44-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] State of PHP-GTK 2</subject><body>

All,

I haven't had time to sort out win32 _at all_ in ages, between work and the 
docs build setup. I need to look into that and also to make as many of the 
extensions as will build there, do so. Also we still need to have the Battle 
of the Scintillas - both implementations are available online, as of today, 
and we need to come to some decision there (one, the other, both?).

Finally, I keep coming across functions where C syntax is used (i.e. the 
return value is passed as a parameter), but this _may_ be because I'm behind 
the times. I want to run tests and see how solid we are that way before 
anything else.

I'm wondering if it'd be a good idea at this point to date the start of an 
alpha release cycle from the point when the search mechanism's known to be 
working and generating on the site.

To me that'd mean:

1) freeze new development (no more new extensions, no more new function 
wrappers)
2) test what we have there (we probably need to decide exactly which areas 
we're going to consider critical here)
3) fix the bugs we find
4) roll a release candidate
5) repeat as necessary

Andrei? what say you?

- Steph

----- Original Message ----- 
From: "Scott Mattocks" &lt;scott@crisscott.com&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, April 10, 2006 9:39 PM
Subject: [PHP-GTK-DEV] State of PHP-GTK 2


&gt; Hello everyone (mostly Andrei though),
&gt;
&gt; What is the official state of PHP-GTK 2 at the moment? We have PHP-GTK 2 
&gt; docs online and although they are pretty slim they are getting filled in. 
&gt; I believe Christian is working on the search tool to finalize the docs 
&gt; section. We have several publicly available packages using PHP-GTK 2 in 
&gt; its current state (PEAR/Gnope). There have also been several talks on the 
&gt; subject.
&gt;
&gt; Can we make an official alpha release yet, or is there still more that 
&gt; needs to be done?
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060414170513</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-14 17:05:13-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] State of PHP-GTK 2</subject><body>

All right, so we have docs online and even docs search is working. We 
still need to fix the docs downloads page, though.

I am open to making an alpha release, but I am not sure what the state 
of Win32 packages is.. will someone on Win32 be able to build an alpha 
release package?

-Andrei

On Apr 10, 2006, at 12:39 PM, Scott Mattocks wrote:

&gt; Hello everyone (mostly Andrei though),
&gt;
&gt; What is the official state of PHP-GTK 2 at the moment? We have PHP-GTK 
&gt; 2 docs online and although they are pretty slim they are getting 
&gt; filled in. I believe Christian is working on the search tool to 
&gt; finalize the docs section. We have several publicly available packages 
&gt; using PHP-GTK 2 in its current state (PEAR/Gnope). There have also 
&gt; been several talks on the subject.
&gt;
&gt; Can we make an official alpha release yet, or is there still more that 
&gt; needs to be done?
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060414170930</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-14 17:09:30-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] State of PHP-GTK 2</subject><body>

Yes, I'm actually in the middle of looking at it now :)

You didn't respond to my 'release draft' - I guess it was a busy week on the 
list. Same thread as this, forwarding.


----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Scott Mattocks" &lt;scott@crisscott.com&gt;
Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Friday, April 14, 2006 7:05 PM
Subject: Re: [PHP-GTK-DEV] State of PHP-GTK 2


&gt; All right, so we have docs online and even docs search is working. We 
&gt; still need to fix the docs downloads page, though.
&gt;
&gt; I am open to making an alpha release, but I am not sure what the state of 
&gt; Win32 packages is.. will someone on Win32 be able to build an alpha 
&gt; release package?
&gt;
&gt; -Andrei
&gt;
&gt; On Apr 10, 2006, at 12:39 PM, Scott Mattocks wrote:
&gt;
&gt;&gt; Hello everyone (mostly Andrei though),
&gt;&gt;
&gt;&gt; What is the official state of PHP-GTK 2 at the moment? We have PHP-GTK 2 
&gt;&gt; docs online and although they are pretty slim they are getting filled in. 
&gt;&gt; I believe Christian is working on the search tool to finalize the docs 
&gt;&gt; section. We have several publicly available packages using PHP-GTK 2 in 
&gt;&gt; its current state (PEAR/Gnope). There have also been several talks on the 
&gt;&gt; subject.
&gt;&gt;
&gt;&gt; Can we make an official alpha release yet, or is there still more that 
&gt;&gt; needs to be done?
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Scott
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060414161221</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-14 16:12:21-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] keysyms</subject><body>

No, you can kill them, since they also occur later in the list.

-Andrei

On Apr 14, 2006, at 8:47 AM, Steph Fox wrote:

&gt; Hi Andrei,
&gt;
&gt; I just wanted to check that the initial two entries in the keysyms are  
&gt; intended - I'm doccing these. Are they?
&gt;
&gt; http://cvs.php.net/viewcvs.cgi/php-gtk/ext/gtk%2B/php_gdk.c? 
&gt; view=markup&amp;rev=1.6
&gt;
&gt;
&gt; - Steph
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060410012835</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-04-10 01:28:35-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Code completion for PHP-GTK 2!</subject><body>

Where can I download the same GtkScintilla sources that you use ?

Pablo

Em Seg, 2006-04-10  s 06:36 +0530, Anant Narayanan escreveu:
&gt; Hi All,
&gt; 
&gt; An explanation for my last few CVS commits:
&gt; 
&gt; The Scintilla extension now works fully. 304 methods are available (out
&gt; of 305) which makes this extension 99.7% complete.
&gt; 
&gt; Code Completion is now possible for the widget. Sample Code:
&gt; 
&gt;     http://www.kix.in/php-gtk2/codecomplete.phps
&gt; 
&gt; Try typing 'P' or 'G' and you'll see that it works.
&gt; 
&gt; Cheers,
&gt; --
&gt; Anant
&gt; 
-- 
:: Pablo Dall'Oglio
:: www.dalloglio.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060410013932</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-04-10 01:39:32-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Code completion for PHP-GTK 2!</subject><body>

Em Seg, 2006-04-10  s 07:02 +0530, Anant Narayanan escreveu:
&gt; Pablo,
&gt; 
&gt; &gt; Where can I download the same GtkScintilla sources that you use ?
&gt; 
&gt; I just sent them to you with instructions on how to use it.
&gt; 
&gt; And what do you mean by the GtkScintilla source that I use? I hope there
&gt; is only one version of GtkScintilla(2) out there! If you know otherwise,
&gt; please let me know ASAP.


Thanks Anant, I've just received. I searched a bit on the net (probably
in the wrong place), and just found GtkScintilla2-0.0.6. So the it
didn't compile. But hope it works now. But I keep asking, what's the
official site for the GtkScintilla project ?

PS: I've downloaded from here
(http://sourceforge.net/project/showfiles.php?group_id=31426)

regards
Pablo


&gt; 
&gt; Cheers,
-- 
:: Pablo Dall'Oglio
:: www.dalloglio.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060410014052</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-10 01:40:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Code completion for PHP-GTK 2!</subject><body>

That's one reason the other implementation uses straight Scintilla.... 
(apart from it's faster)

Anant, be a bit wary about this for now, eh? There's still nothing official, 
either way.


&gt; Em Seg, 2006-04-10  s 07:02 +0530, Anant Narayanan escreveu:
&gt;&gt; Pablo,
&gt;&gt;
&gt;&gt; &gt; Where can I download the same GtkScintilla sources that you use ?
&gt;&gt;
&gt;&gt; I just sent them to you with instructions on how to use it.
&gt;&gt;
&gt;&gt; And what do you mean by the GtkScintilla source that I use? I hope there
&gt;&gt; is only one version of GtkScintilla(2) out there! If you know otherwise,
&gt;&gt; please let me know ASAP.
&gt;
&gt;
&gt; Thanks Anant, I've just received. I searched a bit on the net (probably
&gt; in the wrong place), and just found GtkScintilla2-0.0.6. So the it
&gt; didn't compile. But hope it works now. But I keep asking, what's the
&gt; official site for the GtkScintilla project ?
&gt;
&gt; PS: I've downloaded from here
&gt; (http://sourceforge.net/project/showfiles.php?group_id=31426)
&gt;
&gt; regards
&gt; Pablo
&gt;
&gt;
&gt;&gt;
&gt;&gt; Cheers,
&gt; -- 
&gt; :: Pablo Dall'Oglio
&gt; :: www.dalloglio.net
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060410014434</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-04-10 01:44:34-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Code completion for PHP-GTK 2!</subject><body>

Pablo,

&gt; Where can I download the same GtkScintilla sources that you use ?

I just sent them to you with instructions on how to use it.

And what do you mean by the GtkScintilla source that I use? I hope there
is only one version of GtkScintilla(2) out there! If you know otherwise,
please let me know ASAP.

Cheers,
-- 
Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060410024030</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-04-10 02:40:30-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Code completion for PHP-GTK 2!</subject><body>

Steph,

&gt; Anant, be a bit wary about this for now, eh? There's still nothing
&gt; official, either way.

Roger that. Where is the other implementation kept BTW? It'll be a lot
helpful if I could have a look at it.

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060410024240</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-10 02:42:40-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Code completion for PHP-GTK 2!</subject><body>

I have a copy, but I suspect Tom's beautified it since then.

Tom, still lurking?

----- Original Message ----- 
From: "Anant Narayanan" &lt;anant@kix.in&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "[PHP-GTK-DEV]" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, April 10, 2006 4:28 AM
Subject: Re: [PHP-GTK-DEV] Code completion for PHP-GTK 2!


&gt; Steph,
&gt; 
&gt;&gt; Anant, be a bit wary about this for now, eh? There's still nothing
&gt;&gt; official, either way.
&gt; 
&gt; Roger that. Where is the other implementation kept BTW? It'll be a lot
&gt; helpful if I could have a look at it.
&gt; 
&gt; - Anant
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060408111302</emailId><senderName>gell6</senderName><senderEmail>spoongong@hotmail.com</senderEmail><timestampReceived>2006-04-08 11:13:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Can't add new widget to GtkFixed inside function</subject><body>


Just realised that if I take out the class and just use a plain old function,
the problem remains the same:
(again adding the line  
  MakeNewButton ($fixed);
in the main body will make the button appear, but still connect_simple won't
do it)


&lt;?php

if (!class_exists('gtk')) {             //  standard gtk stuff
    die("Please load the php-gtk2 module in your php.ini\r\n");
}
$wnd = new GtkWindow();
$wnd-&gt;set_title('MyApp');
$wnd-&gt;connect_simple('destroy', array('gtk', 'main_quit'));

$fixed   = new GtkFixed ();
$button1 = new GtkButton("Button 1");

$fixed  -&gt; put($button1, 10, 10);
$button1 -&gt; connect_simple ("clicked", "MakeNewButton", $fixed);

function MakeNewButton ($fixed) {

    $button2 = new GtkButton("Button 2");
    $fixed-&gt;put($button2, 30, 40);
}

$wnd-&gt;add($fixed); $wnd-&gt;show_all();
Gtk::main();

?&gt;
--
View this message in context: \
http://www.nabble.com/Can%27t-add-new-widget-to-GtkFixed-inside-class-t1416282.html#a3817188
 Sent from the Php - GTK - Dev forum at Nabble.com.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060405211019</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-05 21:10:19-0400</timestampReceived><subject>Re: Fw: [PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test bug_gtkfilechooserbutton_actionselectfold</subject><body>

We're not talking about php-gtk ;-) and I've yet to find that channel named 
#configurescriptfromlastweek

Seriously, you don't have to take this. You could just go with the 
php-gtk-general list and live in peace :)



&gt; Dear Scott and Steph.
&gt;
&gt; Have you hear or IRC .. interent relay chat
&gt;
&gt; there's even a roon set up in irc.freenode.net named #php-gtk ;-)
&gt;
&gt; might be helpful and save a lot of web traffic ;-)
&gt;
&gt; regards
&gt;
&gt; Pete
&gt;
&gt; Scott Mattocks wrote:
&gt;&gt; Steph Fox wrote:
&gt;&gt;&gt; When I'm saying 'I'll fix it', I'm going on the basis that the 
&gt;&gt;&gt; GtkFileChooserDialog works for you, give or take the parent thing - is 
&gt;&gt;&gt; that correct? (and also on the basis that GTK will allow me to add one, 
&gt;&gt;&gt; at this stage).
&gt;&gt;
&gt;&gt; Yes. I can create a GtkFileChooserDialog without errors using:
&gt;&gt; $file = new GtkFileChooserDialog('Test', null, 
&gt;&gt; Gtk::FILE_CHOOSER_ACTION_SELECT_FOLDER);
&gt;&gt;
&gt;&gt; Thanks for taking the time to look into this.
&gt;&gt;
&gt;&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060405233155</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-05 23:31:55-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: [PHP-GTK] Keypad issues</subject><body>

Well blow me...!

OK Madeleine,

C:\php5&gt;php minitest.php
65505
65407
48      0
49      1
50      2
51      3
52      4
53      5
54      6
55      7
56      8
57      9
65450   *
65451   +
65453   -
65455   /

- they w6r2 6n 0y b6x -/

They even work on my box. You wanted me to build a v1 version anyway, didn't 
you? I'll test with that when I get time, but 2's okay here at least.

&gt; You should.  Pressing 'numlock' (might be a multi-key chord like Fn+F11)
&gt; on your laptop should turn your right-hand keys into a "keypad"...
&gt;
&gt; Steph Fox wrote:
&gt;&gt; Oh wait, you're talking about these?
&gt;&gt;
&gt;&gt; #define GDK_KP_Multiply 0xFFAA
&gt;&gt; #define GDK_KP_Add 0xFFAB
&gt;&gt; #define GDK_KP_Separator 0xFFAC
&gt;&gt; #define GDK_KP_Subtract 0xFFAD
&gt;&gt;
&gt;&gt; - I can't comment in that case, I don't have a keypad here :(

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060406043524</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-06 04:35:24-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Request for GtkWidget::set_visible(boolean) method</subject><body>

On Mar 28, 2006, at 6:36 AM, Scott Mattocks wrote:

&gt; I have attached a patch that doesn't work. I don't know why it  
&gt; doesn't work but it doesn't. If anyone could point me in the right  
&gt; direction for making it work, I would appreciate it. Everything  
&gt; compiles, and the method is callable and I added a return value to  
&gt; verify that the values passed in are correct. It just doesn't hide  
&gt; the widget when I call it.
&gt;
&gt; Thanks,
&gt; +
&gt; +%%
&gt; +add GtkWidget set_visible
&gt; +PHP_METHOD
&gt; +{
&gt; +    gboolean visible, all = TRUE;

That was really puzzling, until I realized that you declared the  
variables as 'gboolean'. The php_gtk_parse_args() expects the boolean  
vars to be of type 'zend_bool'. gboolean is actually a gint, and  
zend_bool is an unsigned char. So when you pass a pointer to visible  
to the function, it casts it as (zend_bool*) and then fills in only  
the lower byte. The upper ones are filled with garbage and the result  
always comes out to be true.

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060406062028</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-06 06:20:28-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] More Patches: GtkAboutDialog</subject><body>

Thanks, committed (with small changes).

-Andrei


On Mar 23, 2006, at 9:07 AM, Anant Narayanan wrote:

&gt; Andrei,
&gt;
&gt; I just realised that by ".txt" attachment you might have meant: "not a
&gt; diff", and so I'm attaching a plain txt attachment just in case.
&gt;
&gt; Regards,
&gt; --  
&gt; Anant
&gt;
&gt; Find Freedom, Go Open Source!
&gt; http://www.kix.in/
&gt; %% {{{ GtkAboutDialog
&gt;
&gt; %%
&gt; override gtk_about_dialog_get_artists
&gt; PHP_METHOD
&gt; {
&gt;     gchar **artists;
&gt;
&gt;     NOT_STATIC_METHOD();
&gt;
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
&gt;         return;
&gt;
&gt;     artists = (gchar **)gtk_about_dialog_get_artists 
&gt; (GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr)));
&gt;
&gt;     if (artists) {
&gt;         array_init(return_value);
&gt;         while (*artists) {
&gt;             add_next_index_string(return_value, *artists, 1);
&gt;             *artists++;
&gt;         }
&gt;     } else {
&gt;         RETURN_NULL();
&gt;     }
&gt; }
&gt;
&gt; %%
&gt; override gtk_about_dialog_get_authors
&gt; PHP_METHOD
&gt; {
&gt;     gchar **authors;
&gt;
&gt;     NOT_STATIC_METHOD();
&gt;
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
&gt;         return;
&gt;
&gt;     authors = (gchar **)gtk_about_dialog_get_authors 
&gt; (GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr)));
&gt;
&gt;     if (authors) {
&gt;         array_init(return_value);
&gt;         while (*authors) {
&gt;             add_next_index_string(return_value, *authors, 1);
&gt;             *authors++;
&gt;         }
&gt;     } else {
&gt;         RETURN_NULL();
&gt;     }
&gt; }
&gt;
&gt; %%
&gt; override gtk_about_dialog_get_documenters
&gt; PHP_METHOD
&gt; {
&gt;     gchar **doccers;
&gt;
&gt;     NOT_STATIC_METHOD();
&gt;
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
&gt;         return;
&gt;
&gt;     doccers = (gchar **)gtk_about_dialog_get_documenters 
&gt; (GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr)));
&gt;
&gt;     if (doccers) {
&gt;         array_init(return_value);
&gt;         while (*doccers) {
&gt;             add_next_index_string(return_value, *doccers, 1);
&gt;             *doccers++;
&gt;         }
&gt;     } else {
&gt;         RETURN_NULL();
&gt;     }
&gt; }
&gt;
&gt; %%
&gt; override gtk_about_dialog_set_artists
&gt; PHP_METHOD
&gt; {
&gt;     gchar **artists;
&gt;     zval *arr = NULL;
&gt;     zval **data;
&gt;     int i, arr_count;
&gt;
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
&gt;         return;
&gt;     }
&gt;
&gt;     if (arr) {
&gt;         arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
&gt; 	    artists = safe_emalloc(arr_count+1, sizeof (gchar *), 0);
&gt; 	
&gt;         for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
&gt;              zend_hash_get_current_data(Z_ARRVAL_P(arr), (void **) 
&gt; &amp;data) == SUCCESS;
&gt;              zend_hash_move_forward(Z_ARRVAL_P(arr))) {
&gt;
&gt;                 convert_to_string_ex(data);
&gt;                 artists[i++] = Z_STRVAL_PP(data);
&gt;
&gt;         }
&gt;
&gt;         artists[i] = NULL;
&gt;         gtk_about_dialog_set_artists(GTK_ABOUT_DIALOG(PHPG_GOBJECT 
&gt; (this_ptr)), (const gchar **)artists);
&gt;         efree(artists);
&gt; 	
&gt;     } else {
&gt;         RETURN_NULL();
&gt;     }
&gt; }
&gt;
&gt; %%
&gt; override gtk_about_dialog_set_authors
&gt; PHP_METHOD
&gt; {
&gt;     gchar **authors;
&gt;     zval *arr = NULL;
&gt;     zval **data;
&gt;     int i, arr_count;
&gt;
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
&gt;         return;
&gt;     }
&gt;
&gt;     if (arr) {
&gt;         arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
&gt; 	    authors = safe_emalloc(arr_count+1, sizeof (gchar *), 0);
&gt; 	
&gt;         for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
&gt;              zend_hash_get_current_data(Z_ARRVAL_P(arr), (void **) 
&gt; &amp;data) == SUCCESS;
&gt;              zend_hash_move_forward(Z_ARRVAL_P(arr))) {
&gt;
&gt;                 convert_to_string_ex(data);
&gt;                 authors[i++] = Z_STRVAL_PP(data);
&gt;
&gt;         }
&gt;
&gt;         authors[i] = NULL;
&gt;         gtk_about_dialog_set_authors(GTK_ABOUT_DIALOG(PHPG_GOBJECT 
&gt; (this_ptr)), (const gchar **)authors);
&gt;         efree(authors);
&gt; 	
&gt;     } else {
&gt;         RETURN_NULL();
&gt;     }
&gt; }
&gt;
&gt; %%
&gt; override gtk_about_dialog_set_documenters
&gt; PHP_METHOD
&gt; {
&gt;     gchar **doccers;
&gt;     zval *arr = NULL;
&gt;     zval **data;
&gt;     int i, arr_count;
&gt;
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
&gt;         return;
&gt;     }
&gt;
&gt;     if (arr) {
&gt;         arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
&gt; 	    doccers = safe_emalloc(arr_count+1, sizeof (gchar *), 0);
&gt; 	
&gt;         for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
&gt;              zend_hash_get_current_data(Z_ARRVAL_P(arr), (void **) 
&gt; &amp;data) == SUCCESS;
&gt;              zend_hash_move_forward(Z_ARRVAL_P(arr))) {
&gt;
&gt;                 convert_to_string_ex(data);
&gt;                 doccers[i++] = Z_STRVAL_PP(data);
&gt;
&gt;         }
&gt;
&gt;         doccers[i] = NULL;
&gt;         gtk_about_dialog_set_documenters(GTK_ABOUT_DIALOG 
&gt; (PHPG_GOBJECT(this_ptr)), (const gchar **)doccers);
&gt;         efree(doccers);
&gt; 	
&gt;     } else {
&gt;         RETURN_NULL();
&gt;     }
&gt; }
&gt;
&gt; %% }}}
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060408112947</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-08 11:29:47-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Can't add new widget to GtkFixed inside function</subject><body>

 function DoStuff($fixed) {
  $button2 = new GtkButton("Button 2");
  $fixed-&gt;put($button2, 30, 40);
  $fixed-&gt;show_all();
 }

----- Original Message ----- 
From: "gell6" &lt;spoongong@hotmail.com&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Saturday, April 08, 2006 1:13 PM
Subject: Re: [PHP-GTK-DEV] Can't add new widget to GtkFixed inside function


&gt;
&gt; Just realised that if I take out the class and just use a plain old 
&gt; function,
&gt; the problem remains the same:
&gt; (again adding the line
&gt;  MakeNewButton ($fixed);
&gt; in the main body will make the button appear, but still connect_simple 
&gt; won't
&gt; do it)
&gt;
&gt;
&gt; &lt;?php
&gt;
&gt; if (!class_exists('gtk')) {             //  standard gtk stuff
&gt;    die("Please load the php-gtk2 module in your php.ini\r\n");
&gt; }
&gt; $wnd = new GtkWindow();
&gt; $wnd-&gt;set_title('MyApp');
&gt; $wnd-&gt;connect_simple('destroy', array('gtk', 'main_quit'));
&gt;
&gt; $fixed   = new GtkFixed ();
&gt; $button1 = new GtkButton("Button 1");
&gt;
&gt; $fixed  -&gt; put($button1, 10, 10);
&gt; $button1 -&gt; connect_simple ("clicked", "MakeNewButton", $fixed);
&gt;
&gt; function MakeNewButton ($fixed) {
&gt;
&gt;    $button2 = new GtkButton("Button 2");
&gt;    $fixed-&gt;put($button2, 30, 40);
&gt; }
&gt;
&gt; $wnd-&gt;add($fixed); $wnd-&gt;show_all();
&gt; Gtk::main();
&gt;
&gt; ?&gt;
&gt; --
&gt; View this message in context: 
&gt; http://www.nabble.com/Can%27t-add-new-widget-to-GtkFixed-inside-class-t1416282.html#a3817188
&gt; Sent from the Php - GTK - Dev forum at Nabble.com.
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060408113033</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-08 11:30:33-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] problem solved</subject><body>

:)

Well done.

----- Original Message ----- 
From: "gell6" &lt;spoongong@hotmail.com&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Saturday, April 08, 2006 1:28 PM
Subject: [PHP-GTK-DEV] problem solved


&gt;
&gt; Arrrgggghhh!! Why is it that you can spend hours trying to fix a problem,
&gt; then at the point where you ask someone for help... you realise the 
&gt; answer,
&gt; and then how simple it is...!
&gt;
&gt; i just add $wnd -&gt; show_all() inside the function and it works!
&gt; --
&gt; View this message in context: 
&gt; http://www.nabble.com/Can%27t-add-new-widget-to-GtkFixed-inside-class-t1416282.html#a3817264
&gt; Sent from the Php - GTK - Dev forum at Nabble.com.
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060408182611</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-08 18:26:11-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] waiting patches</subject><body>

Applied. I tried to figure out your area coordinate calculations, but  
gave up. :)

-Andrei


On Mar 21, 2006, at 11:03 PM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;&gt; - GdkPixbuf::get_pixel, put_pixel, fill_area:  
&gt;&gt; &lt;44070445.9050103@cweiske.de&gt;
&gt; That one is there:
&gt; http://marc.theaimsgroup.com/?l=php-gtk-dev&amp;m=114131050920648&amp;w=2
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060408203519</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-04-08 20:35:19-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkRadioButton::get_group Patch</subject><body>

Andrei,

Attached is the patch for GtkRadioButton::get_group/group for review.

Regards,
-- 
Anant

["patch.txt" (text/plain)]

--- php-gtk/ext/gtk+/gtk.overrides	2006-04-06 14:17:38.000000000 +0530
+++ php-gtk-src/ext/gtk+/gtk.overrides	2006-04-09 01:49:35.000000000 +0530
@@ -2546,9 +2546,11 @@
         add_next_index_zval(return_value, item);
     }
 }
-/* }}} */
+
+%% }}}
 
 %% {{{ GtkRadioButton
+
 %%
 add-arginfo GtkRadioButton __construct
 static
@@ -2601,6 +2603,36 @@
     phpg_gobject_set_wrapper(this_ptr, wrapped_obj TSRMLS_CC);
 }
 
+%%
+override gtk_radio_button_get_group
+PHP_METHOD
+{
+    GSList *group, *current;
+    zval *item;
+
+    NOT_STATIC_METHOD();
+    
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
+        return;
+
+    group = gtk_radio_button_get_group(GTK_RADIO_BUTTON(PHPG_GOBJECT(this_ptr)));
+
+    array_init(return_value);
+    for (current = group; current; current = current-&gt;next) {
+        MAKE_STD_ZVAL(item);
+        phpg_gobject_new(&amp;item, G_OBJECT(current-&gt;data) TSRMLS_CC);
+        add_next_index_zval(return_value, item);
+    }
+}
+
+%%
+override gtk_radio_button_group
+PHP_METHOD
+{
+    phpg_warn_deprecated("use GtkRadioButton::get_group()" TSRMLS_CC);
+    PHP_FN(GtkRadioButton_get_group)(INTERNAL_FUNCTION_PARAM_PASSTHRU);
+}
+
 %% }}}
 
 %% {{{ GtkRadioToolButton



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060410053048</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-10 05:30:48-0400</timestampReceived><subject>Re: Re[2]: [PHP-GTK-DEV] Code completion for PHP-GTK 2!</subject><body>

Hi Tom,

&gt; Monday, April 10, 2006, 12:42:40 PM, you wrote:
&gt; SF&gt; I have a copy, but I suspect Tom's beautified it since then.
&gt;
&gt; SF&gt; Tom, still lurking?
&gt;
&gt;
&gt; I sent him a copy some time ago, will send it again.
&gt;


Would you like to post a link to it somewhere everyone can see it?

We're going to have to come to some decision over these implementations now 
we have two...

- Steph 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060410055350</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-04-10 05:53:50-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Code completion for PHP-GTK 2!</subject><body>

Dear Tom,

&gt; I sent him a copy some time ago, will send it again.

I haven't received any copy from you. I had received an email from you
on this topic sometime ago, but there were no attachments or links in
it. Most probably the mailing list would have filtered the attachment out.

Like Steph says, it is probably best to host the file somewhere and post
the link.

Thanks!

- Anant

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060410142306</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-10 14:23:06-0400</timestampReceived><subject>Re: Re[4]: [PHP-GTK-DEV] Code completion for PHP-GTK 2!</subject><body>

Thanks!


&gt; Hi,
&gt;
&gt; Monday, April 10, 2006, 3:30:48 PM, you wrote:
&gt; SF&gt; Hi Tom,
&gt;
&gt;&gt;&gt; Monday, April 10, 2006, 12:42:40 PM, you wrote:
&gt;&gt;&gt; SF&gt; I have a copy, but I suspect Tom's beautified it since then.
&gt;&gt;&gt;
&gt;&gt;&gt; SF&gt; Tom, still lurking?
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; I sent him a copy some time ago, will send it again.
&gt;&gt;&gt;
&gt;
&gt;
&gt; SF&gt; Would you like to post a link to it somewhere everyone can see it?
&gt;
&gt; SF&gt; We're going to have to come to some decision over these 
&gt; implementations now
&gt; SF&gt; we have two...
&gt;
&gt; SF&gt; - Steph
&gt;
&gt; I have only done this for windows do far.
&gt;
&gt; They can be got here:
&gt;
&gt; main source http://kwiktemplates.com/scintilla/scintilla.zip
&gt; generator http://kwiktemplates.com/scintilla/sci_generator.ph_
&gt; (rename to sci_generator.php)
&gt; scintilla lib used (1.68) 
&gt; http://kwiktemplates.com/scintilla/Scintilla-static.lib
&gt; php extension http://kwiktemplates.com/scintilla/php_gtk_scintilla2.dll
&gt;
&gt; ---
&gt; regards,
&gt; Tom
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060410161135</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-10 16:11:35-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Pango Classes</subject><body>

Yeah, Pango stuff needs some work..

-Andrei


On Apr 10, 2006, at 8:04 AM, Scott Mattocks wrote:

&gt; Hello,
&gt;
&gt; I am fiddling with GtkLabel::set_attributes() and it requires a  
&gt; PangoAttrList. The contents of PangoAttrList should be a bunch of  
&gt; PangoAttr* classes like PangoAttrInt or PangoAttrString, but I  
&gt; can't seem to create them. Here is the script I am trying to run:
&gt;
&gt; &lt;?php
&gt; $label = new GtkLabel('Label');
&gt; $list = new PangoAttrList();
&gt; $attr = new PangoAttrInt(Pango::ATTR_WEIGHT, Pango::WEIGHT_BOLD);
&gt; $list-&gt;insert($attr);
&gt; $label-&gt;set_attributes($list);
&gt; var_dump($label-&gt;get_attributes());
&gt; ?&gt;
&gt;
&gt; I am getting fatal errors about trying to construct a non-existent  
&gt; class, PangoAttrInt. Am I doing something wrong or are these  
&gt; classes just not implemented yet? All of the list stuff works fine.  
&gt; It is just creating the attribute that causes trouble.
&gt;
&gt; Thanks,
&gt; -- 
&gt; Scott Mattocks
&gt; Author of the soon to be published: Pro PHP-GTK
&gt; http://www.crisscott.com
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060414161903</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-14 16:19:03-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] keysyms</subject><body>

Erm, no they don't :) But I'll kill them anyway, I think they're a hangover 
from PHP-GTK 1 somehow.

&gt; No, you can kill them, since they also occur later in the list.
&gt;
&gt; -Andrei
&gt;
&gt; On Apr 14, 2006, at 8:47 AM, Steph Fox wrote:
&gt;
&gt;&gt; Hi Andrei,
&gt;&gt;
&gt;&gt; I just wanted to check that the initial two entries in the keysyms are 
&gt;&gt; intended - I'm doccing these. Are they?
&gt;&gt;
&gt;&gt; http://cvs.php.net/viewcvs.cgi/php-gtk/ext/gtk%2B/php_gdk.c? 
&gt;&gt; view=markup&amp;rev=1.6
&gt;&gt;
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060414170934</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-14 17:09:34-0400</timestampReceived><subject>Fw: [PHP-GTK-DEV] State of PHP-GTK 2</subject><body>

Seems longer than a week ago...

----- Original Message ----- 
From: "Steph Fox" &lt;steph@zend.com&gt;
To: "Scott Mattocks" &lt;scott@crisscott.com&gt;; "PHP-GTK Dev list" 
&lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, April 10, 2006 10:06 PM
Subject: Re: [PHP-GTK-DEV] State of PHP-GTK 2


&gt; All,
&gt;
&gt; I haven't had time to sort out win32 _at all_ in ages, between work and 
&gt; the docs build setup. I need to look into that and also to make as many of 
&gt; the extensions as will build there, do so. Also we still need to have the 
&gt; Battle of the Scintillas - both implementations are available online, as 
&gt; of today, and we need to come to some decision there (one, the other, 
&gt; both?).
&gt;
&gt; Finally, I keep coming across functions where C syntax is used (i.e. the 
&gt; return value is passed as a parameter), but this _may_ be because I'm 
&gt; behind the times. I want to run tests and see how solid we are that way 
&gt; before anything else.
&gt;
&gt; I'm wondering if it'd be a good idea at this point to date the start of an 
&gt; alpha release cycle from the point when the search mechanism's known to be 
&gt; working and generating on the site.
&gt;
&gt; To me that'd mean:
&gt;
&gt; 1) freeze new development (no more new extensions, no more new function 
&gt; wrappers)
&gt; 2) test what we have there (we probably need to decide exactly which areas 
&gt; we're going to consider critical here)
&gt; 3) fix the bugs we find
&gt; 4) roll a release candidate
&gt; 5) repeat as necessary
&gt;
&gt; Andrei? what say you?
&gt;
&gt; - Steph
&gt;
&gt; ----- Original Message ----- 
&gt; From: "Scott Mattocks" &lt;scott@crisscott.com&gt;
&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Monday, April 10, 2006 9:39 PM
&gt; Subject: [PHP-GTK-DEV] State of PHP-GTK 2
&gt;
&gt;
&gt;&gt; Hello everyone (mostly Andrei though),
&gt;&gt;
&gt;&gt; What is the official state of PHP-GTK 2 at the moment? We have PHP-GTK 2 
&gt;&gt; docs online and although they are pretty slim they are getting filled in. 
&gt;&gt; I believe Christian is working on the search tool to finalize the docs 
&gt;&gt; section. We have several publicly available packages using PHP-GTK 2 in 
&gt;&gt; its current state (PEAR/Gnope). There have also been several talks on the 
&gt;&gt; subject.
&gt;&gt;
&gt;&gt; Can we make an official alpha release yet, or is there still more that 
&gt;&gt; needs to be done?
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Scott
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060414220529</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-14 22:05:29-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkSourceView</subject><body>

Hi Anant,

I had a try at porting the GtkSourceView extension to win32 tonight.

Two comments:

1) --enable-whatever is usually used when no external libs/headers are 
needed. Given that I had to download three separate projects (gtksourceview 
itself, libgnomeprint and libart_lgpl) to get anywhere at all; it should 
really be --with-sourceview in this case.

2) You don't need that modifyGenerated.php file. All you need is the line

#include "php_gtk_api.h"

at the end of your include list, and you'll have access to all the classes 
you need from ext/gtk+.

As far as the win32 thing goes, I got as far as failed links - in other 
words, if I'd had a static libsourceview sitting there to link against it 
would've worked. So I need to figure how to build that library.

I'm not sure the libgnomeprint part is 100% needed under win32, but I'll 
have a go at building it that way anyway tomorrow and see where we go from 
there. It'll most likely get ifdef'd out in the end - not least to keep the 
number of files for download to a minimum!

Cheers,

- Steph

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060415031752</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-15 03:17:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: GtkSourceView</subject><body>

&gt; Someone had already tried to do that, I think it was when they were
&gt; trying to port MonoDevelop to Windows. Don't know how far they got and
&gt; don't know if it'll help you though:
&gt;
&gt; http://forge.novell.com/modules/xfref_library/detail.php?reference_id=616

Yeah, I found that. It's not greatly helpful because it isn't a native port.

&gt;&gt; I'm not sure the libgnomeprint part is 100% needed under win32, but I'll
&gt;&gt; have a go at building it that way anyway tomorrow and see where we go
&gt;&gt; from there. It'll most likely get ifdef'd out in the end - not least to
&gt;&gt; keep the number of files for download to a minimum!
&gt;
&gt; It actually isn't needed. libgnomeprint is only required when someone is
&gt; trying to print out some content from the sourceview. It interfaces with
&gt; the GnomePrintConfig module (on the Gnome desktop environment of course)
&gt; to handle the printing part.

libgnomeprint is actually ported to win32 already, that's the only reason 
I'm keeping my options open with it :)

I'd expect it to be unnecessary under doze tho', truthfully. There are other 
ways here.

&gt; In fact, those print functions don't work currently on *nix too, not
&gt; until I commit the Bonobo and Gnome extensions atleast :)

I remember being young and thinking Bonobo was a wonderful idea - how far 
did it get?

&gt; I should probably remove those functions from the .defs file, what do
&gt; you say?

I say, let me build/test first, and let me ifdef if they don't pan out under 
doze.  Unless they really won't work under *nix, leastways, in which case 
ifdef 'em out for everything until HAVE_BONOBO.

- Steph

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060415042422</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-15 04:24:22-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] The GtkSpell Extension</subject><body>

Oh no, not another extension, please!

&gt; Hi All,
&gt; 
&gt; Maybe not the right time to introduce new extensions, but; the GtkSpell
&gt; extension is at:
&gt; 
&gt; http://www.kix.in/php-gtk2/gtkspell.tar.gz  (Tarball of the ext/spell
&gt; folder)
&gt; http://www.kix.in/php-gtk2/gtkspell.phps (Test script)
&gt; http://www.kix.in/php-gtk2/gtkspell.png (Screenshot)
&gt; 
&gt; Take a look (it's not perfect because GtkSpell doesn't have a GType - it
&gt; works though) and let me know if you'd like it committed. It shows
&gt; mis-spelled words with a red wavy line in a GtkTextView (consequently,
&gt; GtkSourceView too) and right clicking on that word gives a list of
&gt; suggested corrections.
&gt; 
&gt; It's based on the GtkSpell-2.0 library, which is pretty stable and
&gt; mature; unlike the trouble we faced with GtkScintilla.
&gt; 
&gt; But, if you're thinking "Oh no, not another extension please!", then
&gt; that's fine too, I'll wait until our Alpha release cycle is over :)
&gt; 
&gt; Cheers,
&gt; 
&gt; - Anant
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060418142444</emailId><senderName></senderName><senderEmail>steinm</senderEmail><timestampReceived>2006-04-18 14:24:44-0400</timestampReceived><subject>[PHP-GTK-DEV] #26679 [NoF-&gt;Opn]: php error messages in c files</subject><body>

 ID:               26679
 Updated by:       steinm@php.net
-Reported By:      vpupkin at comcast dot net
+Reported By:      steinm@php.net
-Status:           No Feedback
+Status:           Open
 Bug Type:         PHP-GTK related
 Operating System: Linux
-PHP Version:      Irrelevant
+PHP Version:      4.4.2
 New Comment:

This bug seems to be still there with php-gtk 1.0.2 and php 4.4.2-1+b1.
The line number just has changed. It's now 612.

  Uwe


Previous Comments:
------------------------------------------------------------------------

[2005-04-07 01:00:04] php-gtk-dev at lists dot php dot net

No feedback was provided for this bug for over a week, so it is
being suspended automatically. If you are able to provide the
information that was originally requested, please do so and change
the status of the bug back to "Open".

------------------------------------------------------------------------

[2005-03-30 08:57:57] sniper@php.net

Does this happen still..?


------------------------------------------------------------------------

[2004-08-13 09:39:37] gbp at reddleman dot org

I have the same problem and it looks like it might be a bug in Pear's
Getopt.

The problem is with calling PHP in this fashion

php -f file.php -- -o opt_value argument

The '--' is not interpreted as the end of PHP arguments, but rather as
the first script argument. The solution is, after configure, to replace
all occurences with a line in this style:

php -q file.php -o opt_value argument

i.e., replace -f with -q and remove the --

After that, run

make clean
find -name "gen_*" -exec rm {} \;
make

That did it for me.

------------------------------------------------------------------------

[2003-12-19 23:45:24] steinm@php.net

Description:
------------
to reproduce (php-gtk-1.0.0)

$./buildconf
$./configure
...
./configure: line 3665: syntax error near unexpected token `debug,'
./configure: line 3665: `PHP_GTK_ARG_ENABLE(debug, whether to include
debugging symbols,'

$aclocal
$./buildconf
$./configure
$make

files:
/ext/gtk+/gen_gtk.c contains (it's inside the file):
br /&gt;
&lt;b&gt;Warning&lt;/b&gt;:  fopen(--): failed to open stream: No such file or
directory in &lt;b&gt;/dev/php-gtk/generator/scheme.php&lt;/b&gt; on line
&lt;b&gt;110&lt;/b&gt;&lt;br /&gt;
&lt;br /&gt;
&lt;b&gt;Warning&lt;/b&gt;:  fgets(): supplied argument is not a valid stream
resource in &lt;b&gt;/dev/php-gtk/generator/scheme.php&lt;/b&gt; on line
&lt;b&gt;34&lt;/b&gt;&lt;br /&gt;

/ext/gtk+/get_gdk.c contains:
&lt;br /&gt;
&lt;b&gt;Warning&lt;/b&gt;:  filemtime(): Stat failed for -- (errno=2 - No such
file or directory) in &lt;b&gt;/dev/php-gtk/generator/scheme.php&lt;/b&gt; on line
&lt;b&gt;101&lt;/b&gt;&lt;br /&gt;

you can remove those line from the files and do "make" (it will go a
bit farther) again, but then you receive the folliwing:

/dev/php-gtk/main/php_gtk_object.c: In function
`php_gtk_arg_from_value':
/dev/php-gtk/main/php_gtk_object.c:615: error: `gtk_object_ce'
undeclared (first use in this function)
/dev/php-gtk/main/php_gtk_object.c:615: error: (Each undeclared
identifier is reported only once
/dev/php-gtk/main/php_gtk_object.c:615: error: for each function it
appears in.)
/dev/php-gtk/main/php_gtk_object.c: In function
`php_gtk_ret_from_value':
/dev/php-gtk/main/php_gtk_object.c:892: error: `gtk_object_ce'
undeclared (first use in this function)
make: *** [main/php_gtk_object.lo] Error 1

Hope it helps. Thanks

Alexander Kabanov



------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=26679&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060418181816</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-04-18 18:18:16-0400</timestampReceived><subject>Fw: [PHP-GTK-DEV] alpha release stuff</subject><body>

PS If we link our releases with a given PHP release we can also provide a 
link to the PHP museum for the relevant PHP download and PECL bundle...

----- Original Message ----- 
From: "Steph Fox" &lt;steph@zend.com&gt;
To: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, April 18, 2006 9:11 PM
Subject: Re: [PHP-GTK-DEV] alpha release stuff


&gt; Agreed, but it's other extensions that are the issue here. Particularly 
&gt; given that ext/date is one of those affected!
&gt;
&gt; Anyway the reason it came up at all is because that API change originally 
&gt; went into PHP_5_1 branch, and I expected it to be part of the PHP 5.1.3 
&gt; release. Ilia caught it, and it's now been ifdef'd out until the PHP_5_2 
&gt; branch comes into being, so we don't have the problem to the extent I was 
&gt; anticipating. We just need to release this alpha against PHP 5.5.1 - 
&gt; 5.1.3, and roll the next release against PHP 5.2. (It'll be too confusing 
&gt; to have two versions in the way you're suggesting here. These are Windows 
&gt; users...)
&gt;
&gt;
&gt;&gt; What I meant to say is: the source code of PHP-GTK has nothing to do with 
&gt;&gt; this API bump. It has only to do with Win32 binaries that we "choose" to 
&gt;&gt; distribute to users. In that case, you can make available a version of 
&gt;&gt; PHP-GTK built against PHP 5.1 and then the same version built against PHP 
&gt;&gt; 5.2.
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt; On Apr 18, 2006, at 11:27 AM, Steph Fox wrote:
&gt;&gt;
&gt;&gt;&gt; Andrei,
&gt;&gt;&gt;
&gt;&gt;&gt; The last Zend API bump came unannounced, and prevented any extension the 
&gt;&gt;&gt; other side of it working with the unofficial binary I'd rolled three 
&gt;&gt;&gt; days prior to it.
&gt;&gt;&gt;
&gt;&gt;&gt; This one will prevent several extensions (com_dotnet, date, dom, mysqli, 
&gt;&gt;&gt; reflection, simplexml, spl, sqlite, tidy, xmlreader, xmlwriter and xsl, 
&gt;&gt;&gt; to name those affected in the core distro) from working with anything 
&gt;&gt;&gt; built against PHP prior to the API change. That poses a real problem for 
&gt;&gt;&gt; win32 users, because PECL binaries are available _either_ with a PHP 
&gt;&gt;&gt; release download OR from pecl4win, which carries the latest snaps for 
&gt;&gt;&gt; each branch.
&gt;&gt;&gt;
&gt;&gt;&gt; In other words, there wasn't a way for users to pick up a copy of the 
&gt;&gt;&gt; PECL bundle that would work with my unofficial binary last time around, 
&gt;&gt;&gt; unless they went back to an earlier PHP release - and that in turn meant 
&gt;&gt;&gt; several PHP bug fixes were missing.
&gt;&gt;&gt;
&gt;&gt;&gt; So darn right it has something to do with the API bump! It was news to 
&gt;&gt;&gt; me that there should've been a midpoint release last September, and I 
&gt;&gt;&gt; had visions of the same mess happening again. In fact it will - the 
&gt;&gt;&gt; difference is that, thanks to the insistence on a midpoint release, we 
&gt;&gt;&gt; can tell people to ONLY use PECL extensions dating from the 5.1 series 
&gt;&gt;&gt; with this alpha, and presumably to ONLY use PECL extensions dating from 
&gt;&gt;&gt; the 5.2 series with our full release.
&gt;&gt;&gt;
&gt;&gt;&gt; - Steph
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; It has nothing to do with API bump. Why would it?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; On Apr 17, 2006, at 10:05 PM, Steph Fox wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; That'll be primarily because you already knew something I didn't know 
&gt;&gt;&gt;&gt;&gt; until I asked. AKA, the API bump isn't happening until 5.2.0.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; ----- Original Message ----- From: "Andrei Zmievski" 
&gt;&gt;&gt;&gt;&gt; &lt;andrei@gravitonic.com&gt;
&gt;&gt;&gt;&gt;&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt;&gt;&gt;&gt;&gt; Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt;&gt;&gt;&gt; Sent: Tuesday, April 18, 2006 12:52 AM
&gt;&gt;&gt;&gt;&gt; Subject: Re: [PHP-GTK-DEV] alpha release stuff
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; On Apr 14, 2006, at 11:22 AM, Steph Fox wrote:
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; Andrei, does it make sense to you to keep in line there?
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; No, I don't see why we need to be in line with 5.1.3.
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060419192037</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-19 19:20:37-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] implementing own cellrenderer</subject><body>

Yep, you have to wait. It's a pretty complicated topic.

-Andrei

On Apr 19, 2006, at 10:04 AM, Christian Weiske wrote:

&gt; Hi all, especially Andrei,
&gt;
&gt;
&gt; I want to implement a Gtk2_IndexedComboBox based cell renderer. I
&gt; remember you said something that it's currently not possible, as some
&gt; marshallers are missing that translate the calls made by the C classes
&gt; into php calls.
&gt; Have you done anything in this direction, or do I have to wait?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060424022130</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-24 02:21:30-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkAboutDialog</subject><body>

That's because the label isn't really set if the URL hook function is  
not defined. I won't have time to implement URL and email hook  
marshallers before alpha, so it'll have to wait.

-Andrei


On Apr 8, 2006, at 11:26 AM, Pablo Dall'Oglio wrote:

&gt; Testing GtkAboutDialog I got confused here:
&gt;
&gt; set_website_label()
&gt; get_website_label()
&gt;
&gt; get_website_label isn't returning the content defined by
&gt; set_website_label()
&gt;
&gt; I thought set_website_label should define a caption for website  
&gt; URL, but
&gt; I didn't see that label anywhere on the screen...
&gt;
&gt; Pablo
&gt;
&gt; -- 
&gt; :: Pablo Dall'Oglio
&gt; :: www.dalloglio.net
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060426211255</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-26 21:12:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Patches for alpha release</subject><body>

On Apr 20, 2006, at 3:06 AM, Andrei Zmievski wrote:

&gt; This is the list of patches I hope to get into PHP-GTK before alpha  
&gt; release. If you have any objections or additions (not too many),  
&gt; let me know.
&gt;
&gt; 1. PangoAttribute support.

Won't happen in alpha, too much work.

&gt; 2. GtkRadioButton::get_group (and maybe related ones).

Done.

&gt; 3. GtkAboutDialog::get/set_website_label

Not applicable, see my reply to Pablo.

&gt; 4. GtkPlug/GtkSocket

Done.

&gt; 5. Scintilla extension.

TBD.

&gt; 6. GtkTreeModel::iter_parent, iter_n_children and any additional  
&gt; ones that are easy to implement.

Done (as far as I can tell).

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060428134904</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-28 13:49:04-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Error compiling treeviewoverrides</subject><body>

Fixed, but next time, just fix it. It's simple enough. :)

-Andrei


On Apr 27, 2006, at 11:01 AM, Christian Weiske wrote:

&gt; Hi all,
&gt;
&gt;
&gt; I just updated the sources and tried to compile them, however I get  
&gt; the
&gt; following error:
&gt; -------------------
&gt; ext/gtk+/gtktreeview.overrides: In function `zif_GtkTreeModel_get':
&gt; ext/gtk+/gtktreeview.overrides:1273: error: `false' undeclared (first
&gt; use in this function)
&gt; ext/gtk+/gtktreeview.overrides:1273: error: (Each undeclared  
&gt; identifier
&gt; is reported only once
&gt; ext/gtk+/gtktreeview.overrides:1273: error: for each function it  
&gt; appears
&gt; in.)
&gt; ext/gtk+/gtktreeview.overrides:1280: error: `true' undeclared  
&gt; (first use
&gt; in this function)
&gt; ext/gtk+/gtktreeview.overrides:1298: warning: unused variable `column'
&gt; make: *** [ext/gtk+/gen_gtk.lo] Error 1
&gt; -------------------
&gt;
&gt;
&gt; When I replace the lines
&gt;&gt; zend_bool varargs = false;
&gt;&gt; varargs = false;
&gt;&gt; varargs = true;
&gt; with
&gt;&gt; zend_bool varargs = 0;
&gt;&gt; varargs = 0;
&gt;&gt; varargs = 1;
&gt; it works, but I don't know why false/true isn't recognized as  
&gt; zend_bool.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060430000841</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-04-30 00:08:41-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkWidget::is_visible()?</subject><body>

Go ahead and implement it.

-Andrei


On Apr 29, 2006, at 11:27 AM, Christian Weiske wrote:

&gt;&gt; As opposed to checking a flag?
&gt; Yes.
&gt;&gt; $widget-&gt;is_visible()
&gt; is more intuitive than
&gt;&gt; $widgets-&gt;flags() &amp; Gtk::VISIBLE
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310114352</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-03-10 11:43:52-0400</timestampReceived><subject>[PHP-GTK-DEV] gdk*_ce exporting question.</subject><body>

I'm writing an extension for me, but i have problems with the gdk*_ce 
exports, gtk*_ce works fine but not gdk

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "O", &amp;pixbuf, gdkpixbuf_ce)) {
        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkInvisible);
    }

The compiler say's:
gen_test.obj : error LNK2019: unresolved external symbol  
__imp__gdkpixbuf_ce referenced in function _zif_test_test

with gtkwindow_ce it works fine.


How can i get a GdkPixbuf aobject as an argument to my method?


mfg xxoes

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060311200917</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-11 20:09:17-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] My Roadmap</subject><body>

Anant,

Please can you hold back on scintilla? We now have two versions of it, yours 
and Tom's, and Tom's version is very different from yours (not to mention 
more up to date). We need to evaluate both implementations and decide which 
to 'bless'.

- Steph


----- Original Message ----- 
From: "Anant Narayanan" &lt;anant@kix.in&gt;
To: "PHP-GTK-DEV" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Saturday, March 11, 2006 10:01 PM
Subject: [PHP-GTK-DEV] My Roadmap


&gt; Hello all,
&gt;
&gt; Just thought I'll share with everyone what I plan to do over the next
&gt; few weeks: I plan to update the .defs and also write some overrides
&gt; (wherever applicable) for the sourceview, scintilla and mozembed 
&gt; extensions.
&gt;
&gt; Although I just committed the defs for sourceview, I'd just like to
&gt; confirm if this is OK.
&gt;
&gt; Also, it goes without saying, any help would be much appreciated :)
&gt;
&gt; Cheers!
&gt; -- 
&gt; Anant
&gt;
&gt; Find Freedom, Go Open Source!
&gt; http://www.kix.in/
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060303074817</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-03-03 07:48:17-0400</timestampReceived><subject>[PHP-GTK-DEV] overrid for GdkPixbuf::save()</subject><body>

I have write an overrid for GtkCalendar::get_date()

%%
override gtk_calendar_get_date
PHP_METHOD
{
    guint year;
    guint month;
    guint day;
    zval *zyear;
    zval *zmonth;
    zval *zday;


    NOT_STATIC_METHOD();

    
gtk_calendar_get_date(GTK_CALENDAR(PHPG_GOBJECT(this_ptr)),&amp;year,&amp;month,&amp;day);

    if (ZEND_NUM_ARGS() == 3) {
        if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "zzz", 
&amp;zyear, &amp;zmonth, &amp;zday) == FAILURE) {
            return;
        }
        zval_add_ref(&amp;zyear);
        zval_add_ref(&amp;zmonth);
        zval_add_ref(&amp;zday);
        ZVAL_LONG(zyear, year);
        ZVAL_LONG(zmonth, month);
        ZVAL_LONG(zday, day);
    }
    else {
        if(!php_gtk_parse_args(ZEND_NUM_ARGS(), "")) {
            return;
        }
    }
    array_init(return_value);

    add_next_index_long(return_value, year);
    add_next_index_long(return_value, month);
    add_next_index_long(return_value, day);
}


mfg xxoes

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060309074943</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-09 07:49:43-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>


Hello all,

Here is the override for gtkfilechooser::get_filenames() and get_uris()
I'm not sure if the values need to be converted from utf-8 to php.


--------------
%% {{{ GtkFileChooser

%%
override gtk_file_chooser_get_filenames
PHP_METHOD
{
    GSList *files;

    NOT_STATIC_METHOD();

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
        return;

    array_init(return_value);
    for (files =
gtk_file_chooser_get_filenames(GTK_FILE_CHOOSER(PHPG_GOBJECT(this_ptr)));
files; files = files-&gt;next) {
        add_next_index_string(return_value, (char *) files-&gt;data, 1);
        g_free(files-&gt;data);
    }
    g_slist_free(files);
}

%%
override gtk_file_chooser_get_uris
PHP_METHOD
{
    GSList *files;

    NOT_STATIC_METHOD();

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
        return;

    array_init(return_value);
    for (files =
gtk_file_chooser_get_uris(GTK_FILE_CHOOSER(PHPG_GOBJECT(this_ptr)));
files; files = files-&gt;next) {
        add_next_index_string(return_value, (char *) files-&gt;data, 1);
        g_free(files-&gt;data);
    }
    g_slist_free(files);
}

%% }}}
--------------



Simple test script:
&lt;?php
$fc = new GtkFileChooserWidget(Gtk::FILE_CHOOSER_ACTION_OPEN);
$fc-&gt;set_select_multiple(true);
$wnd = new GtkWindow();
$wnd-&gt;connect_simple('destroy', array('Gtk', 'main_quit'));


function printFilename($fc) {
    echo $fc-&gt;get_filename() . "\r\n";
}
function printFilenames($fc) {
    var_dump($fc-&gt;get_filenames());
}

$btn = new GtkButton('get_filename', false);
$btn-&gt;connect_simple('clicked', 'printFilename', $fc);
$btn2 = new GtkButton('get_filenames', false);
$btn2-&gt;connect_simple('clicked', 'printFilenames', $fc);

$vbox = new GtkVBox();
$vbox-&gt;pack_start($fc);
$vbox-&gt;pack_start($btn, false, false);
$vbox-&gt;pack_start($btn2, false, false);

$wnd-&gt;add($vbox);
$wnd-&gt;show_all();
Gtk::main();
?&gt;

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060315090557</emailId><senderName>Tom Rogers</senderName><senderEmail>trogers@kwikin.com</senderEmail><timestampReceived>2006-03-15 09:05:57-0400</timestampReceived><subject>Re[2]: [PHP-GTK-DEV] GtkCalendar::get_date()</subject><body>

Hi,

Wednesday, March 15, 2006, 6:05:22 PM, you wrote:
&gt;&gt; Oh, I guess I forgot to commit. :)
CW&gt; Again?


Did you ever look at the version I submitted?

-- 
regards,
Tom

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060314042254</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-14 04:22:54-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkCalendar::get_date()</subject><body>

I've committed override for it. I know there was talk in the past of  
returning a timestamp as the fourth element in the array, but I don't  
think it should be done, because there are many ways to convert the  
year/month/day triplet into timestamp (mktime() with and without DST,  
gmmktime()).

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060210183541</emailId><senderName>Jp</senderName><senderEmail>jp@jp-corner.uni.cc</senderEmail><timestampReceived>2006-02-10 18:35:41-0400</timestampReceived><subject>[PHP-GTK-DEV] PHP-style in GtkComboBox constructor</subject><body>


Hi all, just wondering if it wouldn't be more PHP'ish for the
GtkComboBox() constructor to accept an optional GtkTreeModel as an
argument, instead of using GtkComboBox::new_with_model() for this job.
Right now, supplying an argument to GtkComboBox() returns:

Warning: GtkComboBox::__construct() requires exactly 0 arguments (...)

Cheers,
Jp



["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060315161659</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-15 16:16:59-0400</timestampReceived><subject>[PHP-GTK-DEV] Exceptions disappear when thrown in callback</subject><body>


Hello all,


There is a real big problem with Exceptions and callbacks:
If an exception is thrown while you are in a callback (e.g. when a
button has been clicked), the php code stops executing, but no exception
is shown (dumped to the console).

That is really annoying, because you never know when an exception has
been thrown unless you catch it before the callback returns. I had
several bang-head-against-desk situations because I absolutely didn't
know *where* the exception occured, and the code just hang.

IMO the callback handler in php-gtk should stop the main loop and dump
the exception as it's done in php itself.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060318091607</emailId><senderName>Tom Rogers</senderName><senderEmail>trogers@kwikin.com</senderEmail><timestampReceived>2006-03-18 09:16:07-0400</timestampReceived><subject>[PHP-GTK-DEV] crash on exit</subject><body>

Hi

Using the latest php-gtk2 I get a crash as php5 exits.
It is trashing the stack so making it hard to debug.
Seems to be tied in with this in zend.c

if (compiler_globals-&gt;class_table != GLOBAL_CLASS_TABLE) {
  zend_hash_destroy(compiler_globals-&gt;class_table);
  free(compiler_globals-&gt;class_table);
}

this is on windows2000 and PHP 5.1.2

crash does not occur if php-gtk2 is not loaded.
-- 

Tom                          

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060318084443</emailId><senderName>Tom Rogers</senderName><senderEmail>trogers@kwikin.com</senderEmail><timestampReceived>2006-03-18 08:44:43-0400</timestampReceived><subject>[PHP-GTK-DEV] compile problems in win32</subject><body>

Hi

Some compile problems in windows, here are the fixes:-


Index: ext/gtk+/gdk.overrides
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/gdk.overrides,v
retrieving revision 1.47
diff -u -w -b -r1.47 gdk.overrides
--- ext/gtk+/gdk.overrides      10 Mar 2006 05:27:22 -0000      1.47
+++ ext/gtk+/gdk.overrides      17 Mar 2006 06:38:50 -0000
@@ -1265,7 +1265,7 @@
             if (!strcmp(key, "foreground")) {
                 GdkColor *c;
 
-                if (!phpg_object_isa(*value, gdkcolor_ce)) {
+                if (!phpg_object_isa(*value, gdkcolor_ce TSRMLS_CC)) {
                     php_error(E_WARNING, "foreground value has to be a GdkColor");
                     return;
                 }
@@ -1278,7 +1278,7 @@
             } else if (!strcmp(key, "background")) {
                 GdkColor *c;
 
-                if (!phpg_object_isa(*value, gdkcolor_ce)) {
+                if (!phpg_object_isa(*value, gdkcolor_ce TSRMLS_CC)) {
                     php_error(E_WARNING, "background value has to be a GdkColor");
                     return;
                 }
@@ -1289,7 +1289,7 @@
                 values.background.blue         = c-&gt;blue;
                 values.background.pixel = c-&gt;pixel;
             } else if (!strcmp(key, "font")) {
-                if (!phpg_object_isa(*value, gdkfont_ce)) {
+                if (!phpg_object_isa(*value, gdkfont_ce TSRMLS_CC)) {
                     php_error(E_WARNING, "font value has to be a GdkFont");
                     return;
                 }
@@ -1310,21 +1310,21 @@
                 mask |= GDK_GC_FILL;
                 values.fill = Z_LVAL_PP(value);
             } else if (!strcmp(key, "tile")) {
-                if (!phpg_object_isa(*value, gdkpixmap_ce)) {
+                if (!phpg_object_isa(*value, gdkpixmap_ce TSRMLS_CC)) {
                     php_error(E_WARNING, "tile value has to be a GdkPixmap");
                     return;
                 }
                 mask |= GDK_GC_TILE;
                 values.tile = GDK_PIXMAP(PHPG_GOBJECT(*value));
             } else if (!strcmp(key, "stipple")) {
-                if (!phpg_object_isa(*value, gdkpixmap_ce)) {
+                if (!phpg_object_isa(*value, gdkpixmap_ce TSRMLS_CC)) {
                     php_error(E_WARNING, "stipple value has to be a GdkPixmap");
                     return;
                 }
                 mask |= GDK_GC_STIPPLE;
                 values.stipple = GDK_PIXMAP(PHPG_GOBJECT(*value));
             } else if (!strcmp(key, "clip_mask")) {
-                if (!phpg_object_isa(*value, gdkpixmap_ce)) {
+                if (!phpg_object_isa(*value, gdkpixmap_ce TSRMLS_CC)) {
                     php_error(E_WARNING, "clip_mask value has to be a GdkPixmap");
                     return;
                 }


-- 

Tom                          

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060320002005</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-20 00:20:05-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkPlug and Socket</subject><body>

Hello All (esp. Andrei),

I meekly submit my first overrides ever: GtkPlug::get_id(),
GtkSocket::get_id(), add_id(). Please forgive me if they are total crap.

I also wrote the override for GtkPlug's constructor, but before
submitting it, I would like to ask which behavior should be preferred by
default:

Case 1 - GtkPlug takes no arguments:

$socket = new GtkSocket();
$plug = new GtkPlug();
$id = $plug-&gt;get_id();
$socket-&gt;add_id($id);

OR

Case 2 - GtkPlug takes the socket's ID as parameter:

$socket = new GtkSocket();
$id = $socket-&gt;get_id();
$plug = new GtkPlug($id);

I personally prefer the second method; although in an ideal situation we
should allow both the ways.

Best Regards,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

["gtk.overrides.diff" (text/plain)]

--- ../php-gtk/ext/gtk+/gtk.overrides	2006-03-19 01:59:39.000000000 +0530
+++ ext/gtk+/gtk.overrides	2006-03-20 05:21:35.000000000 +0530
@@ -2212,6 +2212,23 @@
 
 %% }}}
 
+%% {{{ GtkPlug
+
+%%
+override gtk_plug_get_id
+PHP_METHOD
+{
+    gint id;
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
+        return;
+
+    id = gtk_plug_get_id(GTK_PLUG(PHPG_GOBJECT(this_ptr)));
+    php_gtk_build_value(&amp;return_value, "i", id);
+}
+
+%% }}}
+
 %% {{{ GtkProgressBar
 
 %%
@@ -2526,6 +2543,35 @@
 
 %% }}}
 
+%% {{{ GtkSocket
+
+%%
+override gtk_socket_get_id
+PHP_METHOD
+{
+    gint id;
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
+        return;
+
+    id = gtk_socket_get_id(GTK_SOCKET(PHPG_GOBJECT(this_ptr)));
+    php_gtk_build_value(&amp;return_value, "i", id);
+}
+
+%%
+override gtk_socket_add_id
+PHP_METHOD
+{
+    gint id;
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "i", &amp;id))
+        return;
+
+    gtk_socket_add_id(GTK_SOCKET(PHPG_GOBJECT(this_ptr)), id);
+}
+
+%% }}}
+
 %% {{{ GtkSpinButton
 
 %%



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060322062902</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-22 06:29:02-0400</timestampReceived><subject>[PHP-GTK-DEV] compilation error: dkPixbuf_read_pixel_array</subject><body>


Am I the only one getting this?

ext/gtk+/gen_gdk.c: In function `phpg_GdkPixbuf_read_pixel_array':
ext/gtk+/gen_gdk.c:6636: error: dereferencing pointer to incomplete type
make: *** [ext/gtk+/gen_gdk.lo] Error 1

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060323025157</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-23 02:51:57-0400</timestampReceived><subject>[PHP-GTK-DEV] More Patches: GtkAboutDialog</subject><body>

Hi All,

With a little help from Sara Golemon's wonderful tutorial on Zend :), I
was finally able to write some meaningful overrides:

GtkAboutDialog::get_artists, get_authors, get_documenters, set_artists,
set_authors, and set_documenters.

I am attaching these overrides and would also like to gently remind that
the previous set of patches are also pending (GtkPort/Socket).

Cheers!
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

["gtk.overrides.diff" (text/plain)]

--- php-gtk-src/ext/gtk+/gtk.overrides	2006-03-23 08:13:45.000000000 +0530
+++ php-gtk/ext/gtk+/gtk.overrides	2006-03-19 01:59:39.000000000 +0530
@@ -679,7 +679,6 @@
         return;
     }
 }
-
 %% }}}
 
 %% {{{ GtkAdjustment
@@ -726,7 +725,7 @@
 
 %% }}}
 
-%% {{{ GtkAlignment
+%% {{{ GtkAdjustment
 
 %%
 override gtk_alignment_get_padding
@@ -746,187 +745,6 @@
 
 %% }}}
 
-%% {{{ GtkAboutDialog
-
-%%
-override gtk_about_dialog_get_artists
-PHP_METHOD
-{
-    gchar **artists;
-    
-    NOT_STATIC_METHOD();
-
-    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
-        return;
-
-    artists = (gchar \
                **)gtk_about_dialog_get_artists(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr)));
                
-    
-    if (artists) {
-        array_init(return_value);
-        while (*artists) {
-            add_next_index_string(return_value, *artists, 1);
-            *artists++;
-        }
-    } else {
-        RETURN_NULL();
-    }
-}
-
-%%
-override gtk_about_dialog_get_authors
-PHP_METHOD
-{
-    gchar **authors;
-    
-    NOT_STATIC_METHOD();
-
-    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
-        return;
-
-    authors = (gchar \
                **)gtk_about_dialog_get_authors(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr)));
                
-    
-    if (authors) {
-        array_init(return_value);
-        while (*authors) {
-            add_next_index_string(return_value, *authors, 1);
-            *authors++;
-        }
-    } else {
-        RETURN_NULL();
-    }
-}
-
-%%
-override gtk_about_dialog_get_documenters
-PHP_METHOD
-{
-    gchar **doccers;
-    
-    NOT_STATIC_METHOD();
-
-    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
-        return;
-
-    doccers = (gchar \
                **)gtk_about_dialog_get_documenters(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr)));
                
-    
-    if (doccers) {
-        array_init(return_value);
-        while (*doccers) {
-            add_next_index_string(return_value, *doccers, 1);
-            *doccers++;
-        }
-    } else {
-        RETURN_NULL();
-    }
-}
-
-%%
-override gtk_about_dialog_set_artists
-PHP_METHOD
-{
-    gchar **artists;
-    zval *arr = NULL;
-    zval **data;
-    int i, arr_count;
-
-    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
-        return;
-    }
-
-    if (arr) {
-        arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
-	    artists = safe_emalloc(arr_count+1, sizeof (gchar *), 0);
-	
-        for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
-             zend_hash_get_current_data(Z_ARRVAL_P(arr), (void **)&amp;data) == SUCCESS;
-             zend_hash_move_forward(Z_ARRVAL_P(arr))) {
-             
-                convert_to_string_ex(data);
-                artists[i++] = Z_STRVAL_PP(data);
-
-        }
-        
-        artists[i] = NULL;
-        gtk_about_dialog_set_artists(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr)), \
                (const gchar **)artists);
-        efree(artists);
-	
-    } else {
-        RETURN_NULL();
-    }
-}
-
-%%
-override gtk_about_dialog_set_authors
-PHP_METHOD
-{
-    gchar **authors;
-    zval *arr = NULL;
-    zval **data;
-    int i, arr_count;
-
-    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
-        return;
-    }
-
-    if (arr) {
-        arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
-	    authors = safe_emalloc(arr_count+1, sizeof (gchar *), 0);
-	
-        for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
-             zend_hash_get_current_data(Z_ARRVAL_P(arr), (void **)&amp;data) == SUCCESS;
-             zend_hash_move_forward(Z_ARRVAL_P(arr))) {
-             
-                convert_to_string_ex(data);
-                authors[i++] = Z_STRVAL_PP(data);
-
-        }
-        
-        authors[i] = NULL;
-        gtk_about_dialog_set_authors(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr)), \
                (const gchar **)authors);
-        efree(authors);
-	
-    } else {
-        RETURN_NULL();
-    }
-}
-
-%%
-override gtk_about_dialog_set_documenters
-PHP_METHOD
-{
-    gchar **doccers;
-    zval *arr = NULL;
-    zval **data;
-    int i, arr_count;
-
-    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
-        return;
-    }
-
-    if (arr) {
-        arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
-	    doccers = safe_emalloc(arr_count+1, sizeof (gchar *), 0);
-	
-        for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
-             zend_hash_get_current_data(Z_ARRVAL_P(arr), (void **)&amp;data) == SUCCESS;
-             zend_hash_move_forward(Z_ARRVAL_P(arr))) {
-             
-                convert_to_string_ex(data);
-                doccers[i++] = Z_STRVAL_PP(data);
-
-        }
-        
-        doccers[i] = NULL;
-        gtk_about_dialog_set_documenters(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr)), \
                (const gchar **)doccers);
-        efree(doccers);
-	
-    } else {
-        RETURN_NULL();
-    }
-}
-
-%% }}}
-
 %% {{{ GtkButton
 
 %%



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060323071439</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-23 07:14:39-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkMenu::popup() parameters?</subject><body>


Hello all,


Could somebody explain the popup() paramters of GtkMenu to me?
I would expect passing X and Y, but that's not the case - it wants some
widgets I don't understand.


That's the override code:
    if (ZEND_NUM_ARGS() &gt; 5) {
        if (!php_gtk_parse_varargs(ZEND_NUM_ARGS(), 5, &amp;user_args,
"NNVii", &amp;php_pms, gtkwidget_ce, &amp;php_pmi, gtkwidget_ce, &amp;callback,
&amp;button, &amp;time)) {
            return;
        }
    } else {
        if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|NNVii", &amp;php_pms,
gtkwidget_ce, &amp;php_pmi, gtkwidget_ce, &amp;callback, &amp;button, &amp;time)) {
            return;
        }
    }


I have no idea what php_pmi and php_pms actually are (the are
gtkwidgets, but what do they and why do I need them?).

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060313170530</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-13 17:05:30-0400</timestampReceived><subject>[PHP-GTK-DEV] waiting patches</subject><body>


Hello all and Andrei,


There are several patches waiting to be reviewed and included into cvs:
- get_filenames and get_uris: &lt;44112912.80504@cweiske.de&gt;
- GdkPixbuf::get_pixel, put_pixel, fill_area: &lt;44070445.9050103@cweiske.de&gt;
- GtkCalendar::get_date(): &lt;4407F982.9060402@nw7.de&gt;
- GdkPixbuf::save: &lt;44054765.8030707@nw7.de&gt;

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060322070318</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-22 07:03:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] waiting patches</subject><body>


Andrei,

&gt; - GdkPixbuf::get_pixel, put_pixel, fill_area: &lt;44070445.9050103@cweiske.de&gt;
That one is there:
http://marc.theaimsgroup.com/?l=php-gtk-dev&amp;m=114131050920648&amp;w=2

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060323075519</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-23 07:55:19-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkMenu::popup() parameters?</subject><body>

Check out Gtk+ docs for gtk_menu_popup.

-Andrei


On Mar 22, 2006, at 11:14 PM, Christian Weiske wrote:

&gt; Hello all,
&gt;
&gt;
&gt; Could somebody explain the popup() paramters of GtkMenu to me?
&gt; I would expect passing X and Y, but that's not the case - it wants  
&gt; some
&gt; widgets I don't understand.
&gt;
&gt;
&gt; That's the override code:
&gt;     if (ZEND_NUM_ARGS() &gt; 5) {
&gt;         if (!php_gtk_parse_varargs(ZEND_NUM_ARGS(), 5, &amp;user_args,
&gt; "NNVii", &amp;php_pms, gtkwidget_ce, &amp;php_pmi, gtkwidget_ce, &amp;callback,
&gt; &amp;button, &amp;time)) {
&gt;             return;
&gt;         }
&gt;     } else {
&gt;         if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|NNVii", &amp;php_pms,
&gt; gtkwidget_ce, &amp;php_pmi, gtkwidget_ce, &amp;callback, &amp;button, &amp;time)) {
&gt;             return;
&gt;         }
&gt;     }
&gt;
&gt;
&gt; I have no idea what php_pmi and php_pms actually are (the are
&gt; gtkwidgets, but what do they and why do I need them?).
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060323080046</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-23 08:00:46-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkMenu::popup() parameters?</subject><body>

You could even check out the docs for PHP-GTK 1 - I vividly remember writing 
them! The behaviour hasn't changed wildly, it's just that everything's 
optional now. http://gtk.php.net/manual/en/gtk.gtkmenu.method.popup.php


&gt; Check out Gtk+ docs for gtk_menu_popup.
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Mar 22, 2006, at 11:14 PM, Christian Weiske wrote:
&gt;
&gt;&gt; Hello all,
&gt;&gt;
&gt;&gt;
&gt;&gt; Could somebody explain the popup() paramters of GtkMenu to me?
&gt;&gt; I would expect passing X and Y, but that's not the case - it wants  some
&gt;&gt; widgets I don't understand.
&gt;&gt;
&gt;&gt;
&gt;&gt; That's the override code:
&gt;&gt;     if (ZEND_NUM_ARGS() &gt; 5) {
&gt;&gt;         if (!php_gtk_parse_varargs(ZEND_NUM_ARGS(), 5, &amp;user_args,
&gt;&gt; "NNVii", &amp;php_pms, gtkwidget_ce, &amp;php_pmi, gtkwidget_ce, &amp;callback,
&gt;&gt; &amp;button, &amp;time)) {
&gt;&gt;             return;
&gt;&gt;         }
&gt;&gt;     } else {
&gt;&gt;         if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|NNVii", &amp;php_pms,
&gt;&gt; gtkwidget_ce, &amp;php_pmi, gtkwidget_ce, &amp;callback, &amp;button, &amp;time)) {
&gt;&gt;             return;
&gt;&gt;         }
&gt;&gt;     }
&gt;&gt;
&gt;&gt;
&gt;&gt; I have no idea what php_pmi and php_pms actually are (the are
&gt;&gt; gtkwidgets, but what do they and why do I need them?).
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060323165459</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-23 16:54:59-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] More Patches: GtkAboutDialog</subject><body>

Hi Andrei,

&gt; Try again. Your patch is removing stuff instead of adding. And send it
&gt; as .txt attachment.

Sorry about that, seems like I interchanged the 2 files while diff'ing.
I am attaching the proper diff as a .txt attachment with this email.

Thanks!
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

["gtk.overrides.txt" (text/plain)]

--- php-gtk/ext/gtk+/gtk.overrides	2006-03-19 01:59:39.000000000 +0530
+++ php-gtk-src/ext/gtk+/gtk.overrides	2006-03-23 08:13:45.000000000 +0530
@@ -679,6 +679,7 @@
         return;
     }
 }
+
 %% }}}
 
 %% {{{ GtkAdjustment
@@ -725,7 +726,7 @@
 
 %% }}}
 
-%% {{{ GtkAdjustment
+%% {{{ GtkAlignment
 
 %%
 override gtk_alignment_get_padding
@@ -745,6 +746,187 @@
 
 %% }}}
 
+%% {{{ GtkAboutDialog
+
+%%
+override gtk_about_dialog_get_artists
+PHP_METHOD
+{
+    gchar **artists;
+    
+    NOT_STATIC_METHOD();
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
+        return;
+
+    artists = (gchar \
**)gtk_about_dialog_get_artists(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr))); +    
+    if (artists) {
+        array_init(return_value);
+        while (*artists) {
+            add_next_index_string(return_value, *artists, 1);
+            *artists++;
+        }
+    } else {
+        RETURN_NULL();
+    }
+}
+
+%%
+override gtk_about_dialog_get_authors
+PHP_METHOD
+{
+    gchar **authors;
+    
+    NOT_STATIC_METHOD();
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
+        return;
+
+    authors = (gchar \
**)gtk_about_dialog_get_authors(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr))); +    
+    if (authors) {
+        array_init(return_value);
+        while (*authors) {
+            add_next_index_string(return_value, *authors, 1);
+            *authors++;
+        }
+    } else {
+        RETURN_NULL();
+    }
+}
+
+%%
+override gtk_about_dialog_get_documenters
+PHP_METHOD
+{
+    gchar **doccers;
+    
+    NOT_STATIC_METHOD();
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
+        return;
+
+    doccers = (gchar \
**)gtk_about_dialog_get_documenters(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr))); +    
+    if (doccers) {
+        array_init(return_value);
+        while (*doccers) {
+            add_next_index_string(return_value, *doccers, 1);
+            *doccers++;
+        }
+    } else {
+        RETURN_NULL();
+    }
+}
+
+%%
+override gtk_about_dialog_set_artists
+PHP_METHOD
+{
+    gchar **artists;
+    zval *arr = NULL;
+    zval **data;
+    int i, arr_count;
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
+        return;
+    }
+
+    if (arr) {
+        arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
+	    artists = safe_emalloc(arr_count+1, sizeof (gchar *), 0);
+	
+        for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
+             zend_hash_get_current_data(Z_ARRVAL_P(arr), (void **)&amp;data) == SUCCESS;
+             zend_hash_move_forward(Z_ARRVAL_P(arr))) {
+             
+                convert_to_string_ex(data);
+                artists[i++] = Z_STRVAL_PP(data);
+
+        }
+        
+        artists[i] = NULL;
+        gtk_about_dialog_set_artists(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr)), \
(const gchar **)artists); +        efree(artists);
+	
+    } else {
+        RETURN_NULL();
+    }
+}
+
+%%
+override gtk_about_dialog_set_authors
+PHP_METHOD
+{
+    gchar **authors;
+    zval *arr = NULL;
+    zval **data;
+    int i, arr_count;
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
+        return;
+    }
+
+    if (arr) {
+        arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
+	    authors = safe_emalloc(arr_count+1, sizeof (gchar *), 0);
+	
+        for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
+             zend_hash_get_current_data(Z_ARRVAL_P(arr), (void **)&amp;data) == SUCCESS;
+             zend_hash_move_forward(Z_ARRVAL_P(arr))) {
+             
+                convert_to_string_ex(data);
+                authors[i++] = Z_STRVAL_PP(data);
+
+        }
+        
+        authors[i] = NULL;
+        gtk_about_dialog_set_authors(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr)), \
(const gchar **)authors); +        efree(authors);
+	
+    } else {
+        RETURN_NULL();
+    }
+}
+
+%%
+override gtk_about_dialog_set_documenters
+PHP_METHOD
+{
+    gchar **doccers;
+    zval *arr = NULL;
+    zval **data;
+    int i, arr_count;
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
+        return;
+    }
+
+    if (arr) {
+        arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
+	    doccers = safe_emalloc(arr_count+1, sizeof (gchar *), 0);
+	
+        for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
+             zend_hash_get_current_data(Z_ARRVAL_P(arr), (void **)&amp;data) == SUCCESS;
+             zend_hash_move_forward(Z_ARRVAL_P(arr))) {
+             
+                convert_to_string_ex(data);
+                doccers[i++] = Z_STRVAL_PP(data);
+
+        }
+        
+        doccers[i] = NULL;
+        gtk_about_dialog_set_documenters(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr)), \
(const gchar **)doccers); +        efree(doccers);
+	
+    } else {
+        RETURN_NULL();
+    }
+}
+
+%% }}}
+
 %% {{{ GtkButton
 
 %%



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060323171935</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-23 17:19:35-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] More Patches: GtkAboutDialog</subject><body>

Andrei,

I just realised that by ".txt" attachment you might have meant: "not a
diff", and so I'm attaching a plain txt attachment just in case.

Regards,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

["patch.txt" (text/plain)]

%% {{{ GtkAboutDialog

%%
override gtk_about_dialog_get_artists
PHP_METHOD
{
    gchar **artists;
    
    NOT_STATIC_METHOD();

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
        return;

    artists = (gchar \
**)gtk_about_dialog_get_artists(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr)));  
    if (artists) {
        array_init(return_value);
        while (*artists) {
            add_next_index_string(return_value, *artists, 1);
            *artists++;
        }
    } else {
        RETURN_NULL();
    }
}

%%
override gtk_about_dialog_get_authors
PHP_METHOD
{
    gchar **authors;
    
    NOT_STATIC_METHOD();

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
        return;

    authors = (gchar \
**)gtk_about_dialog_get_authors(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr)));  
    if (authors) {
        array_init(return_value);
        while (*authors) {
            add_next_index_string(return_value, *authors, 1);
            *authors++;
        }
    } else {
        RETURN_NULL();
    }
}

%%
override gtk_about_dialog_get_documenters
PHP_METHOD
{
    gchar **doccers;
    
    NOT_STATIC_METHOD();

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
        return;

    doccers = (gchar \
**)gtk_about_dialog_get_documenters(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr)));  
    if (doccers) {
        array_init(return_value);
        while (*doccers) {
            add_next_index_string(return_value, *doccers, 1);
            *doccers++;
        }
    } else {
        RETURN_NULL();
    }
}

%%
override gtk_about_dialog_set_artists
PHP_METHOD
{
    gchar **artists;
    zval *arr = NULL;
    zval **data;
    int i, arr_count;

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
        return;
    }

    if (arr) {
        arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
	    artists = safe_emalloc(arr_count+1, sizeof (gchar *), 0);
	
        for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
             zend_hash_get_current_data(Z_ARRVAL_P(arr), (void **)&amp;data) == SUCCESS;
             zend_hash_move_forward(Z_ARRVAL_P(arr))) {
             
                convert_to_string_ex(data);
                artists[i++] = Z_STRVAL_PP(data);

        }
        
        artists[i] = NULL;
        gtk_about_dialog_set_artists(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr)), (const \
gchar **)artists);  efree(artists);
	
    } else {
        RETURN_NULL();
    }
}

%%
override gtk_about_dialog_set_authors
PHP_METHOD
{
    gchar **authors;
    zval *arr = NULL;
    zval **data;
    int i, arr_count;

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
        return;
    }

    if (arr) {
        arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
	    authors = safe_emalloc(arr_count+1, sizeof (gchar *), 0);
	
        for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
             zend_hash_get_current_data(Z_ARRVAL_P(arr), (void **)&amp;data) == SUCCESS;
             zend_hash_move_forward(Z_ARRVAL_P(arr))) {
             
                convert_to_string_ex(data);
                authors[i++] = Z_STRVAL_PP(data);

        }
        
        authors[i] = NULL;
        gtk_about_dialog_set_authors(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr)), (const \
gchar **)authors);  efree(authors);
	
    } else {
        RETURN_NULL();
    }
}

%%
override gtk_about_dialog_set_documenters
PHP_METHOD
{
    gchar **doccers;
    zval *arr = NULL;
    zval **data;
    int i, arr_count;

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
        return;
    }

    if (arr) {
        arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
	    doccers = safe_emalloc(arr_count+1, sizeof (gchar *), 0);
	
        for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
             zend_hash_get_current_data(Z_ARRVAL_P(arr), (void **)&amp;data) == SUCCESS;
             zend_hash_move_forward(Z_ARRVAL_P(arr))) {
             
                convert_to_string_ex(data);
                doccers[i++] = Z_STRVAL_PP(data);

        }
        
        doccers[i] = NULL;
        gtk_about_dialog_set_documenters(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr)), \
(const gchar **)doccers);  efree(doccers);
	
    } else {
        RETURN_NULL();
    }
}

%% }}}



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060322063928</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-22 06:39:28-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] compilation error: dkPixbuf_read_pixel_array</subject><body>


Christian,

&gt; ext/gtk+/gen_gdk.c: In function `phpg_GdkPixbuf_read_pixel_array':
&gt; ext/gtk+/gen_gdk.c:6636: error: dereferencing pointer to incomplete type
&gt; make: *** [ext/gtk+/gen_gdk.lo] Error 1
That's due to the cvs commit removing the pixel_array property.
Make all clean and don't forget to remove the gdk.defs.cache file.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060327192941</emailId><senderName>"Madeleine D."</senderName><senderEmail>mmdrake@bctonline.com</senderEmail><timestampReceived>2006-03-27 19:29:41-0400</timestampReceived><subject>[PHP-GTK-DEV] PHP-Gtk1 version</subject><body>


I realize everybody's buried up to wherever in the new release, but I 
need to ask this one anyway.

Is there any way to get hold of a PHP-Gtk1 for Windows compiled with php 
4.4.2?  I want to file a bug report on my Win98 exit hang, and I'm 
afraid php.net won't talk to me w/o having tested it on the latest and 
greatest.  The current binary we have available is 4.4.1.

Since I'm looking at a complete rewrite on my app, this problem is going 
to go away for me anytime soon.

thanks
Madeleine D.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060320223423</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-20 22:34:23-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkPlug and Socket</subject><body>

Hi Florian,

&gt; Why do you think that a GtkSocket should add a GtkPlug in the first, but
&gt; the GtkPlug add the GtkSocket in the second example?

Because that's how Gtk+ behaves.
(http://developer.gnome.org/doc/API/2.0/gtk/GtkSocket.html#gtk-socket-add-id)

And, we're not "adding" the socket to the plug in the second case, but
creating a plug that gets itself added to the socket identified by the
ID passed to the plug's constructor.

Regards,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060318101912</emailId><senderName>Tom Rogers</senderName><senderEmail>trogers@kwikin.com</senderEmail><timestampReceived>2006-03-18 10:19:12-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] crash on exit</subject><body>

Hi,

Saturday, March 18, 2006, 7:16:07 PM, you wrote:
TR&gt; Hi

TR&gt; Using the latest php-gtk2 I get a crash as php5 exits.
TR&gt; It is trashing the stack so making it hard to debug.
TR&gt; Seems to be tied in with this in zend.c

TR&gt; if (compiler_globals-&gt;class_table != GLOBAL_CLASS_TABLE) {
TR&gt;   zend_hash_destroy(compiler_globals-&gt;class_table);
TR&gt;   free(compiler_globals-&gt;class_table);
TR&gt; }

TR&gt; this is on windows2000 and PHP 5.1.2

TR&gt; crash does not occur if php-gtk2 is not loaded.
TR&gt; -- 

TR&gt; Tom                          


Just to add a note, the debug version does not crash.

-- 
regards,
Tom

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060318102131</emailId><senderName>Tom Rogers</senderName><senderEmail>trogers@kwikin.com</senderEmail><timestampReceived>2006-03-18 10:21:31-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] crash on exit</subject><body>

Hi,

Saturday, March 18, 2006, 7:16:07 PM, you wrote:
TR&gt; Hi

TR&gt; Using the latest php-gtk2 I get a crash as php5 exits.
TR&gt; It is trashing the stack so making it hard to debug.
TR&gt; Seems to be tied in with this in zend.c

TR&gt; if (compiler_globals-&gt;class_table != GLOBAL_CLASS_TABLE) {
TR&gt;   zend_hash_destroy(compiler_globals-&gt;class_table);
TR&gt;   free(compiler_globals-&gt;class_table);
TR&gt; }

TR&gt; this is on windows2000 and PHP 5.1.2

TR&gt; crash does not occur if php-gtk2 is not loaded.
TR&gt; -- 

TR&gt; Tom                          


Another note, php -v is enough to show the crash

-- 
regards,
Tom

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060315162310</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-03-15 16:23:10-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Exceptions disappear when thrown in callback</subject><body>

Christian Weiske wrote:
&gt; 
&gt; There is a real big problem with Exceptions and callbacks:
&gt; If an exception is thrown while you are in a callback (e.g. when a
&gt; button has been clicked), the php code stops executing, but no exception
&gt; is shown (dumped to the console).

Have you tried set_exception_handler()? You should be able to catch the 
exceptions that way and then stop the loop yourself.

-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060315162906</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-15 16:29:06-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Exceptions disappear when thrown in callback</subject><body>


Scott,

&gt; Have you tried set_exception_handler()? You should be able to catch the
&gt; exceptions that way and then stop the loop yourself.
That is possible, but requires hand work every time. A generic solution
should be built into php-gtk2.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060315185604</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-15 18:56:04-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Exceptions disappear when thrown in callback</subject><body>


Scott,

&gt; Have you tried set_exception_handler()? You should be able to catch the
&gt; exceptions that way and then stop the loop yourself.
I tried that now, but the exceptions are *not* caught - seems they got
stuck in the callback handler.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060315190324</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-15 19:03:24-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Exceptions disappear when thrown in callback</subject><body>

Thanks. I'll take a look.. can you make a short example and commit it 
to CVS under test/bug_*?

-Andrei

On Mar 15, 2006, at 8:16 AM, Christian Weiske wrote:

&gt; Hello all,
&gt;
&gt;
&gt; There is a real big problem with Exceptions and callbacks:
&gt; If an exception is thrown while you are in a callback (e.g. when a
&gt; button has been clicked), the php code stops executing, but no 
&gt; exception
&gt; is shown (dumped to the console).
&gt;
&gt; That is really annoying, because you never know when an exception has
&gt; been thrown unless you catch it before the callback returns. I had
&gt; several bang-head-against-desk situations because I absolutely didn't
&gt; know *where* the exception occured, and the code just hang.
&gt;
&gt; IMO the callback handler in php-gtk should stop the main loop and dump
&gt; the exception as it's done in php itself.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060315193339</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-15 19:33:39-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Exceptions disappear when thrown in callback</subject><body>


Andrei,

&gt; Thanks. I'll take a look.. can you make a short example and commit it to
&gt; CVS under test/bug_*?
test/bug_callbackexception.php is the file.
Strangely, the thing just segfaults.
And I think after it doesn't segfault any more, you will see the
original problem.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060316060417</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-16 06:04:17-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Exceptions disappear when thrown in callback</subject><body>

I can make it work (show exception in the console), but before I do  
that.. what are you trying to achieve by throwing an exception in the  
callback? Where are you going to catch it? Or do you just want to  
terminate the program?

-Andrei


On Mar 15, 2006, at 8:16 AM, Christian Weiske wrote:

&gt; Hello all,
&gt;
&gt;
&gt; There is a real big problem with Exceptions and callbacks:
&gt; If an exception is thrown while you are in a callback (e.g. when a
&gt; button has been clicked), the php code stops executing, but no  
&gt; exception
&gt; is shown (dumped to the console).
&gt;
&gt; That is really annoying, because you never know when an exception has
&gt; been thrown unless you catch it before the callback returns. I had
&gt; several bang-head-against-desk situations because I absolutely didn't
&gt; know *where* the exception occured, and the code just hang.
&gt;
&gt; IMO the callback handler in php-gtk should stop the main loop and dump
&gt; the exception as it's done in php itself.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060316062103</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-16 06:21:03-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Exceptions disappear when thrown in callback</subject><body>


Andrei,

&gt; I can make it work (show exception in the console), but before I do 
&gt; that.. what are you trying to achieve by throwing an exception in the 
&gt; callback? Where are you going to catch it? Or do you just want to 
&gt; terminate the program?
I use the exception as a way to tell that an (mostly unfixable) error
occured. So either, it should just terminate the program unless catched.
The catch should IMO be around the Gtk::main() command, as that's the
only position where it's working.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060316071257</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-16 07:12:57-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Exceptions disappear when thrown in callback</subject><body>

Correct, you can only catch exceptions if you place catch() { .. }  
around Gtk::main(). Alternatively, I could possibly allow you to use  
set_exception_handler() to provide custom handler..

-Andrei


On Mar 15, 2006, at 10:21 PM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;&gt; I can make it work (show exception in the console), but before I do
&gt;&gt; that.. what are you trying to achieve by throwing an exception in the
&gt;&gt; callback? Where are you going to catch it? Or do you just want to
&gt;&gt; terminate the program?
&gt; I use the exception as a way to tell that an (mostly unfixable) error
&gt; occured. So either, it should just terminate the program unless  
&gt; catched.
&gt; The catch should IMO be around the Gtk::main() command, as that's the
&gt; only position where it's working.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske


-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060316191826</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-16 19:18:26-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Exceptions disappear when thrown in callback</subject><body>


Andrei,


&gt; Correct, you can only catch exceptions if you place catch() { .. } 
&gt; around Gtk::main(). Alternatively, I could possibly allow you to use 
&gt; set_exception_handler() to provide custom handler..
As far as I understood: All we need is to quit the main loop when an
exception occurs in a handler. Then PHP can continue with the right things.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060316223904</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-16 22:39:04-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Exceptions disappear when thrown in callback</subject><body>

Yes, we could do that too. Unless there are nested main loops 
happening..

-Andrei

On Mar 16, 2006, at 11:18 AM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;
&gt;&gt; Correct, you can only catch exceptions if you place catch() { .. }
&gt;&gt; around Gtk::main(). Alternatively, I could possibly allow you to use
&gt;&gt; set_exception_handler() to provide custom handler..
&gt; As far as I understood: All we need is to quit the main loop when an
&gt; exception occurs in a handler. Then PHP can continue with the right 
&gt; things.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060317041313</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-17 04:13:13-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Exceptions disappear when thrown in callback</subject><body>

Okay, unless someone has a better idea, I'm going to go with  
Christian's suggestion here. Votes?

-Andrei


On Mar 16, 2006, at 2:39 PM, Andrei Zmievski wrote:

&gt; Yes, we could do that too. Unless there are nested main loops  
&gt; happening..
&gt;
&gt; -Andrei
&gt;
&gt; On Mar 16, 2006, at 11:18 AM, Christian Weiske wrote:
&gt;
&gt;&gt; Andrei,
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; Correct, you can only catch exceptions if you place catch() { .. }
&gt;&gt;&gt; around Gtk::main(). Alternatively, I could possibly allow you to use
&gt;&gt;&gt; set_exception_handler() to provide custom handler..
&gt;&gt; As far as I understood: All we need is to quit the main loop when an
&gt;&gt; exception occurs in a handler. Then PHP can continue with the  
&gt;&gt; right things.
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060317080729</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-17 08:07:29-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Exceptions disappear when thrown in callback</subject><body>


Andrei,


&gt; Okay, unless someone has a better idea, I'm going to go with 
&gt; Christian's suggestion here. Votes?
The nested main loops are a problem. E.g. GtkDialogs have the run()
method that opens its own loop, so a situation with multiple loop levels
can occur very often.
The best would be to quit all levels, calling main_quit() as long as
main_level() is &gt; 0 (or &gt; -1?).


-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060317140432</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-03-17 14:04:32-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Exceptions disappear when thrown in callback</subject><body>

Christian Weiske wrote:
&gt; 
&gt;&gt; Okay, unless someone has a better idea, I'm going to go with 
&gt;&gt; Christian's suggestion here. Votes?
&gt; The nested main loops are a problem. E.g. GtkDialogs have the run()
&gt; method that opens its own loop, so a situation with multiple loop levels
&gt; can occur very often.

No, I don't have a better idea but just killing the main loop seems kind 
of harsh to me. Do you really want the entire program to crash because 
there was an uncaught exception in a callback? What about all of the 
signal handlers attached to destroy? How will they be called? An 
application will not be able to shut down cleanly. That could lead to 
some serious trouble (files not closed properly, connections abruptly 
terminated, data loss...). If the callback passed to 
set_exception_handler() could be used before the loop is terminated, I 
think that would at least give the application the chance to shut down 
properly.

-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060317154838</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-17 15:48:38-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Exceptions disappear when thrown in callback</subject><body>


Scott,


&gt; No, I don't have a better idea but just killing the main loop seems kind
&gt; of harsh to me.
Throwing an unhandled exception is harsh itself. The programmer is
responsible to take care of that, and if there was no main loop, the
program would crash, too.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060317165910</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-17 16:59:10-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Exceptions disappear when thrown in callback</subject><body>

Hi all,

&gt;&gt; No, I don't have a better idea but just killing the main loop seems kind
&gt;&gt; of harsh to me.
&gt; Throwing an unhandled exception is harsh itself. The programmer is
&gt; responsible to take care of that, and if there was no main loop, the
&gt; program would crash, too.

But we do have a main loop, and if we can do something about it, why
not? I still think that Scott's idea of connecting a callback to the
set_exception_handler() to atleast give a chance for the developer to
quit the application cleanly in case an unhandled exception is
encountered is reasonable enough to implement.

Thanks and Regards,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060317170520</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-03-17 17:05:20-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Exceptions disappear when thrown in callback</subject><body>

Christian Weiske wrote:
&gt; Throwing an unhandled exception is harsh itself. The programmer is
&gt; responsible to take care of that, and if there was no main loop, the
&gt; program would crash, too.
&gt; 

I agree that you shouldn't throw an unhandled exception and if you do
you deserve to have your application crash, but I am more concerned
about not realizing that you need to catch an exception. If I use some
other package that throws an exception that I didn't know about, my app
will crash miserably. For example, the current implementation of
PEAR::Net_LDAP has a bug that makes it always throw a PEAR_Exception if
a connection cannot be made. I know we shouldn't change PHP-GTK 2 to
compensate for other people's bugs but there are cases where an
exception may be thrown when you don't expect it.

http://pear.php.net/bugs/bug.php?id=4975

Killing the main loop is still better than letting the application hang
so any kind of fix is fine by me. It should probably just be noted in
the connect* docs exactly what will happen when an uncaught exception
occurs during a callback.

By the way, callbacks and exceptions are not unique to PHP-GTK. What
happens if an uncaught exception is thrown in a callback to
register_tick_function() or some other function call that can't be
wrapped in a try/catch block like __wakeup or __destruct?

-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060317214951</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-17 21:49:51-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Exceptions disappear when thrown in callback</subject><body>

Hmm, I can see this being useful though:

try {
    $dialog-&gt;run();
} catch (Exception $e) {
   ...
}

-Andrei


On Mar 17, 2006, at 12:07 AM, Christian Weiske wrote:
&gt; The nested main loops are a problem. E.g. GtkDialogs have the run()
&gt; method that opens its own loop, so a situation with multiple loop  
&gt; levels
&gt; can occur very often.
&gt; The best would be to quit all levels, calling main_quit() as long as
&gt; main_level() is &gt; 0 (or &gt; -1?).
&gt;
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060317220220</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-17 22:02:20-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Exceptions disappear when thrown in callback</subject><body>

First of all, using the word "crash" is not correct. PHP would exit  
cleanly on uncaught exception, shutting down all open resources. All  
of the signal handlers attached to 'destroy' signals will be called  
also.

-Andrei


On Mar 17, 2006, at 6:04 AM, Scott Mattocks wrote:

&gt; No, I don't have a better idea but just killing the main loop seems  
&gt; kind of harsh to me. Do you really want the entire program to crash  
&gt; because there was an uncaught exception in a callback? What about  
&gt; all of the signal handlers attached to destroy? How will they be  
&gt; called? An application will not be able to shut down cleanly. That  
&gt; could lead to some serious trouble (files not closed properly,  
&gt; connections abruptly terminated, data loss...). If the callback  
&gt; passed to set_exception_handler() could be used before the loop is  
&gt; terminated, I think that would at least give the application the  
&gt; chance to shut down properly.
&gt;
&gt; -- 
&gt; Scott Mattocks
&gt; http://www.crisscott.com
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060122210737</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-22 21:07:37-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Overrides for GtkUIManager and GtkCalendar</subject><body>


&gt; Here is a combined UiManager and GtkCalendar patch for gtk2

Bump. What's with the patch - accepted or not, and what does get_date()
return now? A timestamp?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060316062238</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-16 06:22:38-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Overrides for GtkUIManager and GtkCalendar</subject><body>

I've already pointed out that timestamp depends on DST and timezone  
and so on.. I am not against returning 'YYYY-MM-DD' style string as  
the fourth element in the array. If you think it's okay, I will  
commit Tom's patch.

-Andrei


On Dec 20, 2005, at 8:51 AM, Scott Mattocks wrote:

&gt; Christian Weiske wrote:
&gt;&gt; Oh holy Steph,
&gt;&gt;&gt; Tom wants to make GtkCalendar::get_date() return something that  
&gt;&gt;&gt; can be
&gt;&gt;&gt; used with PHP's strtotime() function, e.g.'2005-12-10'.  This to  
&gt;&gt;&gt; be the
&gt;&gt;&gt; fourth element in what is currently a three-element array.
&gt;&gt;&gt; Speak now or forever hold your peace!
&gt;&gt; I'd even vote for a timestamp - you can use date() with it.
&gt;
&gt; I agree, a timestamp would be better. That way the date can be  
&gt; turned into whatever kind of string is needed.
&gt;
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060316062653</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-16 06:26:53-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Overrides for GtkUIManager and GtkCalendar</subject><body>


Andrei,

&gt; I am not against returning 'YYYY-MM-DD' style string as  the
&gt; fourth element in the array.
That's not necessary IMO. A simple implode will achieve the same if one
needs that.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060316061705</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-16 06:17:05-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-style in GtkComboBox constructor</subject><body>

On Feb 12, 2006, at 4:37 AM, Christian Weiske wrote:

&gt;
&gt; I would go a step further and do the following:
&gt; - new GtkComboBox()
&gt;  -&gt; automatically create the text model from new_with_text

I don't understand. What new_with_text() are you talking about?

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060316062852</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-16 06:28:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-style in GtkComboBox constructor</subject><body>


Andrei,

&gt;&gt; I would go a step further and do the following:
&gt;&gt; - new GtkComboBox()
&gt;&gt;  -&gt; automatically create the text model from new_with_text
&gt; I don't understand. What new_with_text() are you talking about?
GtkComboBox has a static method "new_with_text" that creates a text
model as store automatically.

But I don't know if that's really necessary - in the meantime I think
that new_with_text is ok, just new_with_model should be merged in the
combo constructor

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060316071156</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-16 07:11:56-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-style in GtkComboBox constructor</subject><body>

Where did you find this? The only 'new_with_method' I see in gtk.defs  
is for GtkCellView.

-Andrei


On Mar 15, 2006, at 10:28 PM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;&gt;&gt; I would go a step further and do the following:
&gt;&gt;&gt; - new GtkComboBox()
&gt;&gt;&gt;  -&gt; automatically create the text model from new_with_text
&gt;&gt; I don't understand. What new_with_text() are you talking about?
&gt; GtkComboBox has a static method "new_with_text" that creates a text
&gt; model as store automatically.
&gt;
&gt; But I don't know if that's really necessary - in the meantime I think
&gt; that new_with_text is ok, just new_with_model should be merged in the
&gt; combo constructor
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060316135254</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-03-16 13:52:54-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-style in GtkComboBox constructor</subject><body>

Andrei Zmievski wrote:
&gt; Where did you find this? The only 'new_with_method' I see in gtk.defs is 
&gt; for GtkCellView.

It's actually GtkComboBox::new_text()
http://developer.gnome.org/doc/API/2.0/gtk/GtkComboBox.html#gtk-combo-box-new-text

-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060314082537</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-14 08:25:37-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkCalendar::get_date()</subject><body>


Andrei,

&gt; I've committed override for it.
I don't see any mail in the -cvs list.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060314171341</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-14 17:13:41-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkCalendar::get_date()</subject><body>

Oh, I guess I forgot to commit. :)

On Mar 14, 2006, at 12:25 AM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;&gt; I've committed override for it.
&gt; I don't see any mail in the -cvs list.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060315080522</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-15 08:05:22-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkCalendar::get_date()</subject><body>


&gt; Oh, I guess I forgot to commit. :)
Again?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060315113148</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-15 11:31:48-0400</timestampReceived><subject>Re: Re[2]: [PHP-GTK-DEV] GtkCalendar::get_date()</subject><body>

Hi Tom,

Yep, we discussed it at some length - don't you remember? - and in fact this 
is still part of the same discussion. It just sorta went into hibernation 
for a while there.

I was looking at an implementation that uses a BC wrapper named 
php_mktime().... something had changed (e.g. ext/date) to make it useable 
for returning a timestamp in PHP 5_1 API.  And then Christmas interfered 
with the creative process and everyone (okay, I) forgot all about it :-( 
Now Andrei's saying there are too many ways to convert the ymd triplet to a 
timestamp, but I don't know about that... that wrapper covers all the 
possibilities he mentioned.

PHPAPI void php_mktime(INTERNAL_FUNCTION_PARAMETERS, int gmt);

 if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "|lllllll", &amp;hou, 
&amp;min, &amp;sec, &amp;mon, &amp;day, &amp;yea, &amp;dst) == FAILURE) {
  RETURN_FALSE;
 }

Basically we'd need a GST (UTC these days?) flag to determine whether we're 
asking for mktime() - I think that would be the default - or gmmktime(), and 
another flag to allow PHP-GTK users to switch off DST. Although that DST 
parameter throws an E_STRICT at present, I can see that function potentially 
changing in future to override the parameter and fully use the timezone 
information available to it; currently it ignores the existence of DST when 
it's calculating, so we _have_ to use it if we want to reflect local time. 
If that's not altogether clear, take a look at this:

C:\php5&gt;php -r "echo ini_get('date.timezone');"
Europe/London
C:\php5&gt;php -r "echo date('M d Y', mktime(0, 0, 0, 1, 15, 06));"
Jan 15 2006
C:\php5&gt;php -r "echo date('M d Y', mktime(0, 0, 0, 6, 15, 06));"
Jun 15 2006
C:\php5&gt;php -r "echo date('M d Y', mktime(0, 0, 0, 1, 15, 06, 1));"
Strict Standards: mktime(): The is_dst parameter is deprecated in Command 
line code on line 1
Jan 14 2006
C:\php5&gt;php -r "echo date('M d Y', mktime(0, 0, 0, 6, 15, 06, 1));"
Strict Standards: mktime(): The is_dst parameter is deprecated in Command 
line code on line 1
Jun 15 2006

I switched to London because I'm not entirely sure what the DST situation is 
in Jerusalem this (or any other) year, but London's fairly predictable :)

- Steph

----- Original Message ----- 
From: "Tom Rogers" &lt;trogers@kwikin.com&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Wednesday, March 15, 2006 11:05 AM
Subject: Re[2]: [PHP-GTK-DEV] GtkCalendar::get_date()


&gt; Hi,
&gt;
&gt; Wednesday, March 15, 2006, 6:05:22 PM, you wrote:
&gt;&gt;&gt; Oh, I guess I forgot to commit. :)
&gt; CW&gt; Again?
&gt;
&gt;
&gt; Did you ever look at the version I submitted?
&gt;
&gt; -- 
&gt; regards,
&gt; Tom
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060309080254</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-09 08:02:54-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>


&gt; I'm not sure if the values need to be converted from utf-8 to php.
They have to be converted. I tried the following, which doesn't work
unfortunately:

%%
override gtk_file_chooser_get_filenames
PHP_METHOD
{
    GSList *files;
    gchar *cp_ret;
    gsize cp_len;
    zend_bool free_result;

    NOT_STATIC_METHOD();

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
        return;

    array_init(return_value);
    for (files =
gtk_file_chooser_get_filenames(GTK_FILE_CHOOSER(PHPG_GOBJECT(this_ptr)));
files; files = files-&gt;next) {
        if (files-&gt;data) {
            cp_ret = phpg_from_utf8(files-&gt;data, strlen(files-&gt;data),
&amp;cp_len, &amp;free_result TSRMLS_CC);
            if (cp_ret) {
                add_next_index_string(return_value, (char *)cp_ret, 1);
            } else {
                php_error(E_WARNING, "%s::%s(): could not convert return
value from UTF-8", get_active_class_name(NULL TSRMLS_CC),
get_active_function_name(TSRMLS_C));
            }
            if (free_result)
                g_free(cp_ret);
        }
        g_free(files-&gt;data);
    }
    g_slist_free(files);
}

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060309110803</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-09 11:08:03-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>


&gt; They have to be converted. I tried the following, which doesn't work
&gt; unfortunately:
&gt;             cp_ret = phpg_from_utf8(files-&gt;data, strlen(files-&gt;data),

This can't work, as it isn't real utf-8:
-----------------
This means that while you can pass the result of
gtk_file_chooser_get_filename() to open(2) or fopen(3), you may not be
able to directly set it as the text of a GtkLabel widget unless you
convert it first to UTF-8, which all GTK+ widgets expect. You should use
g_filename_to_utf8() to convert filenames into strings that can be
passed to GTK+ widgets.
-----------------

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060309121731</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-09 12:17:31-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>


Here is a working version that converts to and from utf8:

--------------
%%
override gtk_file_chooser_get_filenames
PHP_METHOD
{
    GSList *files;
    gchar *cp = NULL;
    gchar *fn = NULL;
    gsize cp_len = 0;
    zend_bool free_cp = FALSE;

    NOT_STATIC_METHOD();

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
        return;

    array_init(return_value);
    for (files =
gtk_file_chooser_get_filenames(GTK_FILE_CHOOSER(PHPG_GOBJECT(this_ptr)));
files; files = files-&gt;next) {
        if (files-&gt;data) {
            fn = g_filename_to_utf8(files-&gt;data, strlen(files-&gt;data),
NULL, NULL, NULL);
            cp = phpg_from_utf8(fn, strlen(fn), &amp;cp_len, &amp;free_cp
TSRMLS_CC);
            if (cp) {
                add_next_index_string(return_value, (char *)cp, 1);
            } else {
                php_error(E_WARNING, "%s::%s(): could not convert return
value from UTF-8", get_active_class_name(NULL TSRMLS_CC),
get_active_function_name(TSRMLS_C));
            }
            if (free_cp)
                g_free(cp);
        }
        g_free(files-&gt;data);
    }
    g_slist_free(files);
}
--------------


get_uris shouldn't be converted as they can be used with php's
urldecode() method IMO.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060309122115</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-09 12:21:15-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>


get_filename also needs to convert the filename to utf-8 first, too:


%%
override gtk_file_chooser_get_filename
PHP_METHOD
{
    gchar *php_retval, *cp_ret, *fn;
    gsize cp_len;
    zend_bool free_result;

    NOT_STATIC_METHOD();

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
        return;

    php_retval =
gtk_file_chooser_get_filename(GTK_FILE_CHOOSER(PHPG_GOBJECT(this_ptr)));
    if (php_retval) {
        fn = g_filename_to_utf8(php_retval, strlen(php_retval), NULL,
NULL, NULL);
        cp_ret = phpg_from_utf8(fn, strlen(fn), &amp;cp_len, &amp;free_result
TSRMLS_CC);
        if (cp_ret) {
            RETVAL_STRINGL((char *)cp_ret, cp_len, 1);
        } else {
            php_error(E_WARNING, "%s::%s(): could not convert return
value from UTF-8", get_active_class_name(NULL TSRMLS_CC),
get_active_function_name(TSRMLS_C));
        }
        g_free(php_retval);
        if (free_result)
            g_free(cp_ret);
    } else
        RETVAL_NULL();
}


-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060310041029</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-10 04:10:29-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>

And that's the problem really. What if you want to both use the  
filename in the widget _and_ pass it to fopen()? If you convert it to  
the php_gtk.codepage encoding you may have trouble using fopen(). If  
you don't convert anything at all, your fopen() will work but your Gtk 
+ widgets might not be able to display the filename. Perhaps we need  
an extra parameter to these functions to indicate the intended usage  
of the result so that it knows whether to do the conversion or not.

-Andrei


On Mar 9, 2006, at 3:08 AM, Christian Weiske wrote:

&gt;&gt; They have to be converted. I tried the following, which doesn't work
&gt;&gt; unfortunately:
&gt;&gt;             cp_ret = phpg_from_utf8(files-&gt;data, strlen(files-&gt;data),
&gt;
&gt; This can't work, as it isn't real utf-8:
&gt; -----------------
&gt; This means that while you can pass the result of
&gt; gtk_file_chooser_get_filename() to open(2) or fopen(3), you may not be
&gt; able to directly set it as the text of a GtkLabel widget unless you
&gt; convert it first to UTF-8, which all GTK+ widgets expect. You  
&gt; should use
&gt; g_filename_to_utf8() to convert filenames into strings that can be
&gt; passed to GTK+ widgets.
&gt; -----------------
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310065018</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-10 06:50:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>


Andrei,

&gt; And that's the problem really. What if you want to both use the 
&gt; filename in the widget _and_ pass it to fopen()? If you convert it to 
&gt; the php_gtk.codepage encoding you may have trouble using fopen(). If 
So if I hard-code a filename in my own encoding and use fopen with it,
it may fail? I think it doesn't matter - it's even better - if the
encoding is in the same as the php file. PHP itself should take care
about the fopen filename conversion.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060310065926</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-10 06:59:26-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>

Yes, if the encoding of the filename string is different from the  
encoding of the filename in the filesystem, it will fail. Tough luck.  
And PHP won't know anything about it, at least until PHP 6.

-Andrei


On Mar 9, 2006, at 10:50 PM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;&gt; And that's the problem really. What if you want to both use the
&gt;&gt; filename in the widget _and_ pass it to fopen()? If you convert it to
&gt;&gt; the php_gtk.codepage encoding you may have trouble using fopen(). If
&gt; So if I hard-code a filename in my own encoding and use fopen with it,
&gt; it may fail? I think it doesn't matter - it's even better - if the
&gt; encoding is in the same as the php file. PHP itself should take care
&gt; about the fopen filename conversion.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310065951</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-10 06:59:51-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>


- So if I hard-code a filename in my own encoding and use fopen with it,
+ So if I hard-code a filename in a file of my own encoding
+ and use fopen with it,


fopen() works for me with the file names converted to php-gtk cp
setting. It also works with unconverted file names.


-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060310070559</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-10 07:05:59-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>

Christian, we're using PHP_5_1 here - it doesn't take care of any kind of 
conversion.

----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Friday, March 10, 2006 8:50 AM
Subject: Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310072154</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-10 07:21:54-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>


&gt; widgets might not be able to display the filename. Perhaps we need  an
&gt; extra parameter to these functions to indicate the intended usage  of
Here is the code:
(strangely it doesn't matter if I pass the parameter or not, I always
get output with my umlauts . And I am sure that I get to the right if
branch)

------------
%%
add-arginfo GtkFileChooser get_filename
static
ZEND_BEGIN_ARG_INFO_EX(ARGINFO_NAME, 0, 0, 0)
    ZEND_ARG_INFO(0, convert)
ZEND_END_ARG_INFO();

%%
override gtk_file_chooser_get_filename
PHP_METHOD
{
    gchar *php_retval, *cp_ret, *fn;
    gsize cp_len;
    zend_bool free_result;
    zend_bool convert = 1;

    NOT_STATIC_METHOD();

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|b", &amp;convert))
        return;

    php_retval =
gtk_file_chooser_get_filename(GTK_FILE_CHOOSER(PHPG_GOBJECT(this_ptr)));
    if (php_retval) {
        if (convert) {
            fn = g_filename_to_utf8(php_retval, strlen(php_retval),
NULL, NULL, NULL);
            cp_ret = phpg_from_utf8(fn, strlen(fn), &amp;cp_len,
&amp;free_result TSRMLS_CC);
            if (cp_ret) {
                RETVAL_STRINGL((char *)cp_ret, cp_len, 1);
            } else {
                php_error(E_WARNING, "%s::%s(): could not convert return
value from UTF-8", get_active_class_name(NULL TSRMLS_CC),
get_active_function_name(TSRMLS_C));
            }
        } else {
            RETVAL_STRINGL((char *)php_retval, strlen(php_retval), 1);
        }
        g_free(php_retval);
        if (free_result)
            g_free(cp_ret);
    } else
        RETVAL_NULL();
}


%%
add-arginfo GtkFileChooser get_filenames
static
ZEND_BEGIN_ARG_INFO_EX(ARGINFO_NAME, 0, 0, 0)
    ZEND_ARG_INFO(0, convert)
ZEND_END_ARG_INFO();

%%
override gtk_file_chooser_get_filenames
PHP_METHOD
{
    GSList *files;
    gchar *cp = NULL;
    gchar *fn = NULL;
    gsize cp_len = 0;
    zend_bool free_cp = FALSE;
    zend_bool convert = 1;

    NOT_STATIC_METHOD();

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|b", &amp;convert))
        return;

    array_init(return_value);
    for (files =
gtk_file_chooser_get_filenames(GTK_FILE_CHOOSER(PHPG_GOBJECT(this_ptr)));
files; files = files-&gt;next) {
        if (convert) {
            if (files-&gt;data) {
                fn = g_filename_to_utf8(files-&gt;data,
strlen(files-&gt;data), NULL, NULL, NULL);
                cp = phpg_from_utf8(fn, strlen(fn), &amp;cp_len, &amp;free_cp
TSRMLS_CC);
                if (cp) {
                    add_next_index_string(return_value, (char *)cp, 1);
                } else {
                    php_error(E_WARNING, "%s::%s(): could not convert
return value from UTF-8", get_active_class_name(NULL TSRMLS_CC),
get_active_function_name(TSRMLS_C));
                }
                if (free_cp)
                    g_free(cp);
            }
        } else {
            add_next_index_string(return_value, (char *)files-&gt;data, 1);
        }
        g_free(files-&gt;data);
    }
    g_slist_free(files);
}
------------


-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060310072754</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-10 07:27:54-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>

--- because you're using it on a system that supports the use of umlauts....


----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Friday, March 10, 2006 9:21 AM
Subject: Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310073119</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-10 07:31:19-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>


Steph,

&gt; --- because you're using it on a system that supports the use of
&gt; umlauts....
Yesterday, it didn't :) But perhaps I had a different kernel there - who
knows.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060310174403</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-10 17:44:03-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>

Correct. My question still stands.. do we want an extra parameter to 
get_filename() and similar methods to indicate whether encoding 
conversion should be performed?

-Andrei

On Mar 9, 2006, at 11:05 PM, Steph Fox wrote:

&gt; Christian, we're using PHP_5_1 here - it doesn't take care of any kind 
&gt; of conversion.
&gt;
&gt; ----- Original Message ----- From: "Christian Weiske" 
&gt; &lt;cweiske@cweiske.de&gt;
&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Friday, March 10, 2006 8:50 AM
&gt; Subject: Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris 
&gt; override
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310174506</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-10 17:45:06-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>


Andrei,

&gt; Correct. My question still stands.. do we want an extra parameter to
&gt; get_filename() and similar methods to indicate whether encoding
&gt; conversion should be performed?
Yes, and I already sent a mail to the list with them implemented:
Message-ID: &lt;44112912.80504@cweiske.de&gt;
-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060310175943</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-10 17:59:43-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>

&gt; Correct. My question still stands.. do we want an extra parameter to 
&gt; get_filename() and similar methods to indicate whether encoding conversion 
&gt; should be performed?

This way you'd need to flag a filename as needing encoding conversion for 
GTK but pass the raw version to PHP to actually do anything with it (n.b. 
non-iso88059-1 filenames have a history of being problematic under PHP/win32 
anyway).

Isn't there any way to do this internally? i.e. automatically pass the raw, 
unconverted string to fopen() and friends? (e.g. by caching it, or by 
converting it back to the codepage version?)

I'd think it's safe to assume that the codepage setting in the .ini reflects 
what is used by the system, is this a wrong assumption?

&gt;&gt; Christian, we're using PHP_5_1 here - it doesn't take care of any kind of 
&gt;&gt; conversion.
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310182544</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-10 18:25:44-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>


On Mar 10, 2006, at 9:59 AM, Steph Fox wrote:

&gt;
&gt; This way you'd need to flag a filename as needing encoding conversion 
&gt; for GTK but pass the raw version to PHP to actually do anything with 
&gt; it (n.b. non-iso88059-1 filenames have a history of being problematic 
&gt; under PHP/win32 anyway).
&gt;
&gt; Isn't there any way to do this internally? i.e. automatically pass the 
&gt; raw, unconverted string to fopen() and friends? (e.g. by caching it, 
&gt; or by converting it back to the codepage version?)

No.

&gt; I'd think it's safe to assume that the codepage setting in the .ini 
&gt; reflects what is used by the system, is this a wrong assumption?

Yes.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310185018</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-10 18:50:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>

&gt;&gt; This way you'd need to flag a filename as needing encoding conversion for 
&gt;&gt; GTK but pass the raw version to PHP to actually do anything with it (n.b. 
&gt;&gt; non-iso88059-1 filenames have a history of being problematic under 
&gt;&gt; PHP/win32 anyway).
&gt;&gt;
&gt;&gt; Isn't there any way to do this internally? i.e. automatically pass the 
&gt;&gt; raw, unconverted string to fopen() and friends? (e.g. by caching it, or 
&gt;&gt; by converting it back to the codepage version?)
&gt;
&gt; No.

Hm. I think my instinct would be to force an explicit conversion for display 
purposes only and make it the user's problem. Otherwise they'll need to call 
the thing twice anyway.

I looked at Christian's patch now (sorry Chris but because I'm lazy and all 
your list messages come through as attachments I usually wait until 
someone's answered you before I start to read them!) and think the default 
should be 0 if it's going to be applied at all. Having it as 1 will lend a 
'wtf' factor when the PHP file functions suddenly stop working; having 
gobbledegook display in a widget is more likely to make people realize it's 
a GTK+ issue and look at the manual.

&gt;&gt; I'd think it's safe to assume that the codepage setting in the .ini 
&gt;&gt; reflects what is used by the system, is this a wrong assumption?
&gt;
&gt; Yes.

Mmkay, I realized after I posted why that might be the case.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060314041112</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-14 04:11:12-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>

Make 'convert' parameter optional please. It is okay to default it to  
1. The same thing needs to be done to GtkFileSelection::get_selections 
(). Go ahead and commit once you're done and let me know so that I  
can test.

-Andrei


On Mar 9, 2006, at 11:21 PM, Christian Weiske wrote:

&gt;&gt; widgets might not be able to display the filename. Perhaps we  
&gt;&gt; need  an
&gt;&gt; extra parameter to these functions to indicate the intended usage  of
&gt; Here is the code:
&gt; (strangely it doesn't matter if I pass the parameter or not, I always
&gt; get output with my umlauts . And I am sure that I get to the  
&gt; right if
&gt; branch)
&gt;
&gt; ------------
&gt; %%
&gt; add-arginfo GtkFileChooser get_filename
&gt; static
&gt; ZEND_BEGIN_ARG_INFO_EX(ARGINFO_NAME, 0, 0, 0)
&gt;     ZEND_ARG_INFO(0, convert)
&gt; ZEND_END_ARG_INFO();
&gt;
&gt; %%
&gt; override gtk_file_chooser_get_filename
&gt; PHP_METHOD
&gt; {
&gt;     gchar *php_retval, *cp_ret, *fn;
&gt;     gsize cp_len;
&gt;     zend_bool free_result;
&gt;     zend_bool convert = 1;
&gt;
&gt;     NOT_STATIC_METHOD();
&gt;
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|b", &amp;convert))
&gt;         return;
&gt;
&gt;     php_retval =
&gt; gtk_file_chooser_get_filename(GTK_FILE_CHOOSER(PHPG_GOBJECT 
&gt; (this_ptr)));
&gt;     if (php_retval) {
&gt;         if (convert) {
&gt;             fn = g_filename_to_utf8(php_retval, strlen(php_retval),
&gt; NULL, NULL, NULL);
&gt;             cp_ret = phpg_from_utf8(fn, strlen(fn), &amp;cp_len,
&gt; &amp;free_result TSRMLS_CC);
&gt;             if (cp_ret) {
&gt;                 RETVAL_STRINGL((char *)cp_ret, cp_len, 1);
&gt;             } else {
&gt;                 php_error(E_WARNING, "%s::%s(): could not convert  
&gt; return
&gt; value from UTF-8", get_active_class_name(NULL TSRMLS_CC),
&gt; get_active_function_name(TSRMLS_C));
&gt;             }
&gt;         } else {
&gt;             RETVAL_STRINGL((char *)php_retval, strlen(php_retval), 1);
&gt;         }
&gt;         g_free(php_retval);
&gt;         if (free_result)
&gt;             g_free(cp_ret);
&gt;     } else
&gt;         RETVAL_NULL();
&gt; }
&gt;
&gt;
&gt; %%
&gt; add-arginfo GtkFileChooser get_filenames
&gt; static
&gt; ZEND_BEGIN_ARG_INFO_EX(ARGINFO_NAME, 0, 0, 0)
&gt;     ZEND_ARG_INFO(0, convert)
&gt; ZEND_END_ARG_INFO();
&gt;
&gt; %%
&gt; override gtk_file_chooser_get_filenames
&gt; PHP_METHOD
&gt; {
&gt;     GSList *files;
&gt;     gchar *cp = NULL;
&gt;     gchar *fn = NULL;
&gt;     gsize cp_len = 0;
&gt;     zend_bool free_cp = FALSE;
&gt;     zend_bool convert = 1;
&gt;
&gt;     NOT_STATIC_METHOD();
&gt;
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|b", &amp;convert))
&gt;         return;
&gt;
&gt;     array_init(return_value);
&gt;     for (files =
&gt; gtk_file_chooser_get_filenames(GTK_FILE_CHOOSER(PHPG_GOBJECT 
&gt; (this_ptr)));
&gt; files; files = files-&gt;next) {
&gt;         if (convert) {
&gt;             if (files-&gt;data) {
&gt;                 fn = g_filename_to_utf8(files-&gt;data,
&gt; strlen(files-&gt;data), NULL, NULL, NULL);
&gt;                 cp = phpg_from_utf8(fn, strlen(fn), &amp;cp_len, &amp;free_cp
&gt; TSRMLS_CC);
&gt;                 if (cp) {
&gt;                     add_next_index_string(return_value, (char *)cp,  
&gt; 1);
&gt;                 } else {
&gt;                     php_error(E_WARNING, "%s::%s(): could not convert
&gt; return value from UTF-8", get_active_class_name(NULL TSRMLS_CC),
&gt; get_active_function_name(TSRMLS_C));
&gt;                 }
&gt;                 if (free_cp)
&gt;                     g_free(cp);
&gt;             }
&gt;         } else {
&gt;             add_next_index_string(return_value, (char *)files- 
&gt; &gt;data, 1);
&gt;         }
&gt;         g_free(files-&gt;data);
&gt;     }
&gt;     g_slist_free(files);
&gt; }
&gt; ------------
&gt;
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060314041220</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-14 04:12:20-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>

&gt; Hm. I think my instinct would be to force an explicit conversion  
&gt; for display purposes only and make it the user's problem. Otherwise  
&gt; they'll need to call the thing twice anyway.

Unless we return an array with two elements, a converted filename and  
an un-converted one. :)

&gt;
&gt; I looked at Christian's patch now (sorry Chris but because I'm lazy  
&gt; and all your list messages come through as attachments I usually  
&gt; wait until someone's answered you before I start to read them!) and  
&gt; think the default should be 0 if it's going to be applied at all.  
&gt; Having it as 1 will lend a 'wtf' factor when the PHP file functions  
&gt; suddenly stop working; having gobbledegook display in a widget is  
&gt; more likely to make people realize it's a GTK+ issue and look at  
&gt; the manual.

Hmm, okay.. Anyone else feel that it should not convert by default?

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060314084956</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-14 08:49:56-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>


Andrei,

&gt;&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|b", &amp;convert))
&gt; Make 'convert' parameter optional please.
It is optional.

&gt; 1. The same thing needs to be done to GtkFileSelection::get_selections
The gtk manual doesn't say anything regarding this. And in php-gtk1, the
widget was there and there was no conversion IMO. So converting the
filenames in GtkFileChooser is correct, but not in GtkFileSelection.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060314085911</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-14 08:59:11-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>

Chris,

The GTK+ manual doesn't say anything about it because it's primarily for/by 
*nix users, who have UTF-8 on their systems by default.

In PHP-GTK 1 we had all kinds of problems over conversion, especially among 
win32 users. As far as dir/file names go, we've had a history of similar 
problems under Windows.

So - screw history.  Basically :)  The more important question is whether 
it's necessary (or even possible) to use converted names in a FileSelection. 
If it is, it'd be nice to offer it.  If it isn't, we shouldn't.  And if it 
would be useful to have but is actually impossible, we should mention that 
in the manual.

- Steph


----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, March 14, 2006 10:49 AM
Subject: Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060314090244</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-14 09:02:44-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>


&gt; The gtk manual doesn't say anything regarding this. And in php-gtk1, the
&gt; widget was there and there was no conversion IMO. So converting the
&gt; filenames in GtkFileChooser is correct, but not in GtkFileSelection.
Maybe because Gtk1 wasn't utf-8. So it could have to be done there, too.


Funny thing:
When using get_filename(false) on a filechooser with a non-ascii
filename selected, dumping the filename several times to the console
(~10x) and then scrolling the filechooser, I get a segfault.
That happens only when I don't convert the filename and only after
echoing the filename multiple times.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060314090908</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-14 09:09:08-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>

&gt; The gtk manual doesn't say anything regarding this. And in php-gtk1, the
&gt; widget was there and there was no conversion IMO. So converting the
&gt; filenames in GtkFileChooser is correct, but not in GtkFileSelection.
Maybe because Gtk1 wasn't utf-8. So it could have to be done there, too.

GTK 1 _was_ UTF-8 internally.  We just didn't have a generic way of working 
around that at the time - but we do now.

Funny thing:
When using get_filename(false) on a filechooser with a non-ascii
filename selected, dumping the filename several times to the console
(~10x) and then scrolling the filechooser, I get a segfault.
That happens only when I don't convert the filename and only after
echoing the filename multiple times.


Bug it?

- Steph 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060314093107</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-14 09:31:07-0400</timestampReceived><subject>Re: Fw: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>


Steph,

&gt; Erm, did that crash used to happen before you made your original
&gt; get_filename/s() change?
The original version was generated automatically and tried to convert
the filename from utf-8. That didn't work because the filenames with
non-ascii chars aren't real utf-8, and the only message was "couldn't
convert string from utf-8". So you didn't even come to echoing the
filename, because the method failed before returning something.

-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060314041621</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-14 04:16:21-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] overrid for GdkPixbuf::save()</subject><body>

Hi xxoes,

I have to ask that you please learn to program PHP extensions first..  
This is definitely not the correct way to return data in PHP.

-Andrei


On Mar 2, 2006, at 11:48 PM, xxoes wrote:

&gt; I have write an overrid for GtkCalendar::get_date()
&gt;
&gt; %%
&gt; override gtk_calendar_get_date
&gt; PHP_METHOD
&gt; {
&gt;    guint year;
&gt;    guint month;
&gt;    guint day;
&gt;    zval *zyear;
&gt;    zval *zmonth;
&gt;    zval *zday;
&gt;
&gt;
&gt;    NOT_STATIC_METHOD();
&gt;
&gt;    gtk_calendar_get_date(GTK_CALENDAR(PHPG_GOBJECT 
&gt; (this_ptr)),&amp;year,&amp;month,&amp;day);
&gt;
&gt;    if (ZEND_NUM_ARGS() == 3) {
&gt;        if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "zzz",  
&gt; &amp;zyear, &amp;zmonth, &amp;zday) == FAILURE) {
&gt;            return;
&gt;        }
&gt;        zval_add_ref(&amp;zyear);
&gt;        zval_add_ref(&amp;zmonth);
&gt;        zval_add_ref(&amp;zday);
&gt;        ZVAL_LONG(zyear, year);
&gt;        ZVAL_LONG(zmonth, month);
&gt;        ZVAL_LONG(zday, day);
&gt;    }
&gt;    else {
&gt;        if(!php_gtk_parse_args(ZEND_NUM_ARGS(), "")) {
&gt;            return;
&gt;        }
&gt;    }
&gt;    array_init(return_value);
&gt;
&gt;    add_next_index_long(return_value, year);
&gt;    add_next_index_long(return_value, month);
&gt;    add_next_index_long(return_value, day);
&gt; }
&gt;
&gt;
&gt; mfg xxoes
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060314093019</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-14 09:30:19-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] overrid for GdkPixbuf::save()</subject><body>


&gt; This is definitely not the correct way to return data in PHP.
&gt;&gt;    array_init(return_value);
&gt;&gt;    add_next_index_long(return_value, year);
&gt;&gt;    add_next_index_long(return_value, month);
&gt;&gt;    add_next_index_long(return_value, day);

The correct way would be to build a return value with "(iii)" as parameter.

&gt; php_gtk_build_value(&amp;return_value, "(iii)", year, month, day);


-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060311201310</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-11 20:13:10-0400</timestampReceived><subject>[PHP-GTK-DEV] My Roadmap</subject><body>

Hello all,

Just thought I'll share with everyone what I plan to do over the next
few weeks: I plan to update the .defs and also write some overrides
(wherever applicable) for the sourceview, scintilla and mozembed extensions.

Although I just committed the defs for sourceview, I'd just like to
confirm if this is OK.

Also, it goes without saying, any help would be much appreciated :)

Cheers!
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060312011226</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-12 01:12:26-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] My Roadmap</subject><body>

Steph,

&gt; Please can you hold back on scintilla? We now have two versions of it,
&gt; yours and Tom's, and Tom's version is very different from yours (not to
&gt; mention more up to date). We need to evaluate both implementations and
&gt; decide which to 'bless'.

Roger that :)

Regards,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310140018</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-03-10 14:00:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] gdk*_ce exporting question.</subject><body>

I have a solution.:

static
ZEND_BEGIN_ARG_INFO(arginfo_....., 0)
    ZEND_ARG_OBJ_INFO(0, pixbuf, GdkPixbuf, 1)
ZEND_END_ARG_INFO();

and

if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "z", &amp;pixbuf)) {
       return;
}

now it works fine for me.

mfg xxoes

xxoes schrieb:

&gt; I'm writing an extension for me, but i have problems with the gdk*_ce 
&gt; exports, gtk*_ce works fine but not gdk
&gt;
&gt;    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "O", &amp;pixbuf, 
&gt; gdkpixbuf_ce)) {
&gt;        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkInvisible);
&gt;    }
&gt;
&gt; The compiler say's:
&gt; gen_test.obj : error LNK2019: unresolved external symbol  
&gt; __imp__gdkpixbuf_ce referenced in function _zif_test_test
&gt;
&gt; with gtkwindow_ce it works fine.
&gt;
&gt;
&gt; How can i get a GdkPixbuf aobject as an argument to my method?
&gt;
&gt;
&gt; mfg xxoes
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310164818</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-10 16:48:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] gdk*_ce exporting question.</subject><body>

This is wrong. You need to check for the class of the object. Can 
someone on Win32 help him please?

On Mar 10, 2006, at 6:00 AM, xxoes wrote:

&gt; I have a solution.:
&gt;
&gt; static
&gt; ZEND_BEGIN_ARG_INFO(arginfo_....., 0)
&gt;    ZEND_ARG_OBJ_INFO(0, pixbuf, GdkPixbuf, 1)
&gt; ZEND_END_ARG_INFO();
&gt;
&gt; and
&gt;
&gt; if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "z", &amp;pixbuf)) {
&gt;       return;
&gt; }
&gt;
&gt; now it works fine for me.
&gt;
&gt; mfg xxoes
&gt;
&gt; xxoes schrieb:
&gt;
&gt;&gt; I'm writing an extension for me, but i have problems with the gdk*_ce 
&gt;&gt; exports, gtk*_ce works fine but not gdk
&gt;&gt;
&gt;&gt;    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "O", &amp;pixbuf, 
&gt;&gt; gdkpixbuf_ce)) {
&gt;&gt;        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkInvisible);
&gt;&gt;    }
&gt;&gt;
&gt;&gt; The compiler say's:
&gt;&gt; gen_test.obj : error LNK2019: unresolved external symbol  
&gt;&gt; __imp__gdkpixbuf_ce referenced in function _zif_test_test
&gt;&gt;
&gt;&gt; with gtkwindow_ce it works fine.
&gt;&gt;
&gt;&gt;
&gt;&gt; How can i get a GdkPixbuf aobject as an argument to my method?
&gt;&gt;
&gt;&gt;
&gt;&gt; mfg xxoes
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060310183305</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-03-10 18:33:05-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] gdk*_ce exporting question.</subject><body>

but gdkpixbuf_ce didn't work.
i have test it on libglade extension

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "O", &amp;widget, gtkwidget_ce))

replaced with:

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "O", &amp;widget, gdkpixbuf_ce))

and there are the same problem he can resolv gdkpixbuf.




With this code i can check if this is a GdkPixbuf object:


    if(Z_TYPE_P(pixbuf) == IS_OBJECT) {
        char *class_name = 0;
        zend_uint class_name_len;

        zend_get_object_classname(pixbuf,&amp;class_name,&amp;class_name_len 
TSRMLS_CC);
        if(strcmp("GdkPixbuf",class_name)) {
            php_error(E_WARNING, "%s::%s(): expects argument 1 to be 
GdkPixbuf, %s given", get_active_class_name(NULL TSRMLS_CC), 
get_active_function_name(TSRMLS_C),class_name);
            return;
        }
    }
    else {
        php_error(E_WARNING, "%s::%s(): expects argument 1 to be 
GdkPixbuf, non-object given", get_active_class_name(NULL TSRMLS_CC), 
get_active_function_name(TSRMLS_C));
        return;
    }



mfg xxoes
(sorry for my english ;))


Andrei Zmievski schrieb:

&gt; This is wrong. You need to check for the class of the object. Can 
&gt; someone on Win32 help him please?
&gt;
&gt; On Mar 10, 2006, at 6:00 AM, xxoes wrote:
&gt;
&gt;&gt; I have a solution.:
&gt;&gt;
&gt;&gt; static
&gt;&gt; ZEND_BEGIN_ARG_INFO(arginfo_....., 0)
&gt;&gt;    ZEND_ARG_OBJ_INFO(0, pixbuf, GdkPixbuf, 1)
&gt;&gt; ZEND_END_ARG_INFO();
&gt;&gt;
&gt;&gt; and
&gt;&gt;
&gt;&gt; if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "z", &amp;pixbuf)) {
&gt;&gt;       return;
&gt;&gt; }
&gt;&gt;
&gt;&gt; now it works fine for me.
&gt;&gt;
&gt;&gt; mfg xxoes
&gt;&gt;
&gt;&gt; xxoes schrieb:
&gt;&gt;
&gt;&gt;&gt; I'm writing an extension for me, but i have problems with the 
&gt;&gt;&gt; gdk*_ce exports, gtk*_ce works fine but not gdk
&gt;&gt;&gt;
&gt;&gt;&gt;    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "O", &amp;pixbuf, 
&gt;&gt;&gt; gdkpixbuf_ce)) {
&gt;&gt;&gt;        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkInvisible);
&gt;&gt;&gt;    }
&gt;&gt;&gt;
&gt;&gt;&gt; The compiler say's:
&gt;&gt;&gt; gen_test.obj : error LNK2019: unresolved external symbol  
&gt;&gt;&gt; __imp__gdkpixbuf_ce referenced in function _zif_test_test
&gt;&gt;&gt;
&gt;&gt;&gt; with gtkwindow_ce it works fine.
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; How can i get a GdkPixbuf aobject as an argument to my method?
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; mfg xxoes
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060312040013</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-12 04:00:13-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] My Roadmap</subject><body>

&gt;&gt; Please can you hold back on scintilla? We now have two versions of it,
&gt;&gt; yours and Tom's, and Tom's version is very different from yours (not to
&gt;&gt; mention more up to date). We need to evaluate both implementations and
&gt;&gt; decide which to 'bless'.
&gt; 
&gt; Roger that :)
 
Anant -- Thanks...!

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060314171308</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-14 17:13:08-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] overrid for GdkPixbuf::save()</subject><body>

Doing it the long way is still acceptable..

On Mar 14, 2006, at 1:30 AM, Christian Weiske wrote:

&gt;&gt; This is definitely not the correct way to return data in PHP.
&gt;&gt;&gt;    array_init(return_value);
&gt;&gt;&gt;    add_next_index_long(return_value, year);
&gt;&gt;&gt;    add_next_index_long(return_value, month);
&gt;&gt;&gt;    add_next_index_long(return_value, day);
&gt;
&gt; The correct way would be to build a return value with "(iii)" as 
&gt; parameter.
&gt;
&gt;&gt; php_gtk_build_value(&amp;return_value, "(iii)", year, month, day);
&gt;
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060314171506</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-14 17:15:06-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkFileChooser::get_filenames / get_uris override</subject><body>

Can you make a reproducible simple bug script?

On Mar 14, 2006, at 1:02 AM, Christian Weiske wrote:

&gt;&gt; The gtk manual doesn't say anything regarding this. And in php-gtk1, 
&gt;&gt; the
&gt;&gt; widget was there and there was no conversion IMO. So converting the
&gt;&gt; filenames in GtkFileChooser is correct, but not in GtkFileSelection.
&gt; Maybe because Gtk1 wasn't utf-8. So it could have to be done there, 
&gt; too.
&gt;
&gt;
&gt; Funny thing:
&gt; When using get_filename(false) on a filechooser with a non-ascii
&gt; filename selected, dumping the filename several times to the console
&gt; (~10x) and then scrolling the filechooser, I get a segfault.
&gt; That happens only when I don't convert the filename and only after
&gt; echoing the filename multiple times.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060315171710</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-15 17:17:10-0400</timestampReceived><subject>Re: Re[2]: [PHP-GTK-DEV] GtkCalendar::get_date()</subject><body>

Are you suggesting adding 1 or 2 flags to get_date() to control this?

-Andrei


On Mar 15, 2006, at 3:31 AM, Steph Fox wrote:

&gt; Hi Tom,
&gt;
&gt; Yep, we discussed it at some length - don't you remember? - and in  
&gt; fact this is still part of the same discussion. It just sorta went  
&gt; into hibernation for a while there.
&gt;
&gt; I was looking at an implementation that uses a BC wrapper named  
&gt; php_mktime().... something had changed (e.g. ext/date) to make it  
&gt; useable for returning a timestamp in PHP 5_1 API.  And then  
&gt; Christmas interfered with the creative process and everyone (okay,  
&gt; I) forgot all about it :-( Now Andrei's saying there are too many  
&gt; ways to convert the ymd triplet to a timestamp, but I don't know  
&gt; about that... that wrapper covers all the possibilities he mentioned.
&gt;
&gt; PHPAPI void php_mktime(INTERNAL_FUNCTION_PARAMETERS, int gmt);
&gt;
&gt; if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "|lllllll",  
&gt; &amp;hou, &amp;min, &amp;sec, &amp;mon, &amp;day, &amp;yea, &amp;dst) == FAILURE) {
&gt;  RETURN_FALSE;
&gt; }
&gt;
&gt; Basically we'd need a GST (UTC these days?) flag to determine  
&gt; whether we're asking for mktime() - I think that would be the  
&gt; default - or gmmktime(), and another flag to allow PHP-GTK users to  
&gt; switch off DST. Although that DST parameter throws an E_STRICT at  
&gt; present, I can see that function potentially changing in future to  
&gt; override the parameter and fully use the timezone information  
&gt; available to it; currently it ignores the existence of DST when  
&gt; it's calculating, so we _have_ to use it if we want to reflect  
&gt; local time. If that's not altogether clear, take a look at this:
&gt;
&gt; C:\php5&gt;php -r "echo ini_get('date.timezone');"
&gt; Europe/London
&gt; C:\php5&gt;php -r "echo date('M d Y', mktime(0, 0, 0, 1, 15, 06));"
&gt; Jan 15 2006
&gt; C:\php5&gt;php -r "echo date('M d Y', mktime(0, 0, 0, 6, 15, 06));"
&gt; Jun 15 2006
&gt; C:\php5&gt;php -r "echo date('M d Y', mktime(0, 0, 0, 1, 15, 06, 1));"
&gt; Strict Standards: mktime(): The is_dst parameter is deprecated in  
&gt; Command line code on line 1
&gt; Jan 14 2006
&gt; C:\php5&gt;php -r "echo date('M d Y', mktime(0, 0, 0, 6, 15, 06, 1));"
&gt; Strict Standards: mktime(): The is_dst parameter is deprecated in  
&gt; Command line code on line 1
&gt; Jun 15 2006
&gt;
&gt; I switched to London because I'm not entirely sure what the DST  
&gt; situation is in Jerusalem this (or any other) year, but London's  
&gt; fairly predictable :)
&gt;
&gt; - Steph
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060315172143</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-15 17:21:43-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkCalendar::get_date()</subject><body>


Andrei,

&gt; Are you suggesting adding 1 or 2 flags to get_date() to control this?
get_date just returns a date. No time! So until we're not returning a
y/m/d array any more, there is no need for a flag.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060316061453</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-16 06:14:53-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PangoFontDescription::set_size</subject><body>

Tom, any thoughts on this?

-Andrei


On Feb 9, 2006, at 7:46 PM, Andrei Zmievski wrote:

&gt; The SCALE constants will be exported anyway. Do you still think  
&gt; it's useful to have set_size() do automatic scaling? How about  
&gt; set_absolute_size()?
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Dec 18, 2005, at 6:48 PM, Tom Rogers wrote:
&gt;
&gt;&gt; Hi,
&gt;&gt;
&gt;&gt; Sunday, December 11, 2005, 6:26:08 PM, you wrote:
&gt;&gt; TR&gt; Hi
&gt;&gt;
&gt;&gt; TR&gt; Been playing with pango and suggest a small change to
&gt;&gt; TR&gt; PangoFontDescription::set_size();
&gt;&gt;
&gt;&gt; TR&gt; Pango is expecting the size in pango_units.
&gt;&gt;
&gt;&gt; TR&gt; You can put in the constructor string:
&gt;&gt;
&gt;&gt; TR&gt; $fontdescription = new PangoFontDescription("Ariel 30");
&gt;&gt;
&gt;&gt; TR&gt; when you use $fontdescription-&gt;set_size(30);  the resulting  
&gt;&gt; font size
&gt;&gt; TR&gt; is 0.29296875
&gt;&gt;
&gt;&gt; TR&gt; The patch to pango.overriodes will multiply the size by  
&gt;&gt; PANGO_SCALE
&gt;&gt; TR&gt; making the 2 methods match.
&gt;&gt;
&gt;&gt; TR&gt; I hope that makes sense :)
&gt;&gt;
&gt;&gt; TR&gt; I still haven't worked out how to make it find the Ariel font but
&gt;&gt; TR&gt; thats another story.
&gt;&gt;
&gt;&gt; Another option would be to make the constant Gtk::PANGO_SCALE   
&gt;&gt; available.
&gt;&gt; Then the function could be used as advertised.
&gt;&gt;
&gt;&gt; $fontdescription-&gt;set_size(30 * Gtk::PANGO_SCALE);
&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; regards,
&gt;&gt; Tom
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060316082206</emailId><senderName>Tom Rogers</senderName><senderEmail>trogers@kwikin.com</senderEmail><timestampReceived>2006-03-16 08:22:06-0400</timestampReceived><subject>Re[2]: [PHP-GTK-DEV] PangoFontDescription::set_size</subject><body>

Hi,

Thursday, March 16, 2006, 4:14:53 PM, you wrote:
AZ&gt; Tom, any thoughts on this?

AZ&gt; -Andrei

As all the functions around this area deal in Pango units it would tie in better with \
the gtk docs to just make sure that the SCALE is exported and php-gtk docs reflect \
that it is needed and not do any magic conversion.


-- 
regards,
Tom

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060317050544</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-17 05:05:44-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-style in GtkComboBox constructor</subject><body>

Ok, GtkComboBox() constructor overriden.. so is GtkIconView().

-Andrei


On Mar 15, 2006, at 10:28 PM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;&gt;&gt; I would go a step further and do the following:
&gt;&gt;&gt; - new GtkComboBox()
&gt;&gt;&gt;  -&gt; automatically create the text model from new_with_text
&gt;&gt; I don't understand. What new_with_text() are you talking about?
&gt; GtkComboBox has a static method "new_with_text" that creates a text
&gt; model as store automatically.
&gt;
&gt; But I don't know if that's really necessary - in the meantime I think
&gt; that new_with_text is ok, just new_with_model should be merged in the
&gt; combo constructor
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060317055134</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-17 05:51:34-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Overrides for GtkUIManager and GtkCalendar</subject><body>

Committed, with some changes.

-Andrei


On Dec 9, 2005, at 9:28 PM, Tom Rogers wrote:

&gt; Hi
&gt;
&gt; Here is a combined UiManager and GtkCalendar patch for gtk2
&gt; I have added a fourth value to the array returned by
&gt; GtkCalendar::get_date() which is a string suitable for use in the php
&gt; strtotime() function (ie. '2005-12-10')
&gt;
&gt; The month I have left in the 0-11 format to match the rest of the
&gt; calendar functions.
&gt;
&gt; The UiMangager functions I provided before were missing   
&gt; NOT_STATIC_METHOD();
&gt;
&gt; Hope this helps.
&gt;
&gt; -- 
&gt;
&gt; Tom
&gt; &lt;gtkdiffs.txt&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060317220405</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-17 22:04:05-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Exceptions disappear when thrown in callback</subject><body>

Why do you keep saying "crash miserably"? If you use PEAR::Net_LDAP,  
you would still be able to catch exceptions inside your callback. The  
only issue here is uncaught exceptions and for those we would simply  
quit the current main loop, so you could put try/catch block around  
gtk::main() and still catch them.

-Andrei


On Mar 17, 2006, at 9:05 AM, Scott Mattocks wrote:

&gt; Christian Weiske wrote:
&gt;&gt; Throwing an unhandled exception is harsh itself. The programmer is
&gt;&gt; responsible to take care of that, and if there was no main loop, the
&gt;&gt; program would crash, too.
&gt;
&gt; I agree that you shouldn't throw an unhandled exception and if you do
&gt; you deserve to have your application crash, but I am more concerned
&gt; about not realizing that you need to catch an exception. If I use some
&gt; other package that throws an exception that I didn't know about, my  
&gt; app
&gt; will crash miserably. For example, the current implementation of
&gt; PEAR::Net_LDAP has a bug that makes it always throw a  
&gt; PEAR_Exception if
&gt; a connection cannot be made. I know we shouldn't change PHP-GTK 2 to
&gt; compensate for other people's bugs but there are cases where an
&gt; exception may be thrown when you don't expect it.
&gt;
&gt; http://pear.php.net/bugs/bug.php?id=4975
&gt;
&gt; Killing the main loop is still better than letting the application  
&gt; hang
&gt; so any kind of fix is fine by me. It should probably just be noted in
&gt; the connect* docs exactly what will happen when an uncaught exception
&gt; occurs during a callback.
&gt;
&gt; By the way, callbacks and exceptions are not unique to PHP-GTK. What
&gt; happens if an uncaught exception is thrown in a callback to
&gt; register_tick_function() or some other function call that can't be
&gt; wrapped in a try/catch block like __wakeup or __destruct?
&gt;
&gt; -- 
&gt; Scott Mattocks
&gt; http://www.crisscott.com
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060318105759</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-18 10:57:59-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] crash on exit</subject><body>

Tom, hi,

Thanks for the report(s), I'll look into it when the new manual's live. 
Busy fixing all the little buglets in there while waiting for systems@ to 
regenerate the old build into its new home...

- Steph

----- Original Message ----- 
From: "Tom Rogers" &lt;trogers@kwikin.com&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Saturday, March 18, 2006 11:16 AM
Subject: [PHP-GTK-DEV] crash on exit


&gt; Hi
&gt;
&gt; Using the latest php-gtk2 I get a crash as php5 exits.
&gt; It is trashing the stack so making it hard to debug.
&gt; Seems to be tied in with this in zend.c
&gt;
&gt; if (compiler_globals-&gt;class_table != GLOBAL_CLASS_TABLE) {
&gt;  zend_hash_destroy(compiler_globals-&gt;class_table);
&gt;  free(compiler_globals-&gt;class_table);
&gt; }
&gt;
&gt; this is on windows2000 and PHP 5.1.2
&gt;
&gt; crash does not occur if php-gtk2 is not loaded.
&gt; -- 
&gt;
&gt; Tom
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060318190821</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-18 19:08:21-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] compile problems in win32</subject><body>

Thanks, applied. Can you send patches as attachments in the future?

-Andrei


On Mar 18, 2006, at 12:44 AM, Tom Rogers wrote:

&gt; Hi
&gt;
&gt; Some compile problems in windows, here are the fixes:-
&gt;
&gt;
&gt; Index: ext/gtk+/gdk.overrides
&gt; ===================================================================
&gt; RCS file: /repository/php-gtk/ext/gtk+/gdk.overrides,v
&gt; retrieving revision 1.47
&gt; diff -u -w -b -r1.47 gdk.overrides
&gt; --- ext/gtk+/gdk.overrides      10 Mar 2006 05:27:22 -0000      1.47
&gt; +++ ext/gtk+/gdk.overrides      17 Mar 2006 06:38:50 -0000
&gt; @@ -1265,7 +1265,7 @@
&gt;              if (!strcmp(key, "foreground")) {
&gt;                  GdkColor *c;
&gt;
&gt; -                if (!phpg_object_isa(*value, gdkcolor_ce)) {
&gt; +                if (!phpg_object_isa(*value, gdkcolor_ce  
&gt; TSRMLS_CC)) {
&gt;                      php_error(E_WARNING, "foreground value has to  
&gt; be a GdkColor");
&gt;                      return;
&gt;                  }
&gt; @@ -1278,7 +1278,7 @@
&gt;              } else if (!strcmp(key, "background")) {
&gt;                  GdkColor *c;
&gt;
&gt; -                if (!phpg_object_isa(*value, gdkcolor_ce)) {
&gt; +                if (!phpg_object_isa(*value, gdkcolor_ce  
&gt; TSRMLS_CC)) {
&gt;                      php_error(E_WARNING, "background value has to  
&gt; be a GdkColor");
&gt;                      return;
&gt;                  }
&gt; @@ -1289,7 +1289,7 @@
&gt;                  values.background.blue         = c-&gt;blue;
&gt;                  values.background.pixel = c-&gt;pixel;
&gt;              } else if (!strcmp(key, "font")) {
&gt; -                if (!phpg_object_isa(*value, gdkfont_ce)) {
&gt; +                if (!phpg_object_isa(*value, gdkfont_ce TSRMLS_CC)) {
&gt;                      php_error(E_WARNING, "font value has to be a  
&gt; GdkFont");
&gt;                      return;
&gt;                  }
&gt; @@ -1310,21 +1310,21 @@
&gt;                  mask |= GDK_GC_FILL;
&gt;                  values.fill = Z_LVAL_PP(value);
&gt;              } else if (!strcmp(key, "tile")) {
&gt; -                if (!phpg_object_isa(*value, gdkpixmap_ce)) {
&gt; +                if (!phpg_object_isa(*value, gdkpixmap_ce  
&gt; TSRMLS_CC)) {
&gt;                      php_error(E_WARNING, "tile value has to be a  
&gt; GdkPixmap");
&gt;                      return;
&gt;                  }
&gt;                  mask |= GDK_GC_TILE;
&gt;                  values.tile = GDK_PIXMAP(PHPG_GOBJECT(*value));
&gt;              } else if (!strcmp(key, "stipple")) {
&gt; -                if (!phpg_object_isa(*value, gdkpixmap_ce)) {
&gt; +                if (!phpg_object_isa(*value, gdkpixmap_ce  
&gt; TSRMLS_CC)) {
&gt;                      php_error(E_WARNING, "stipple value has to be  
&gt; a GdkPixmap");
&gt;                      return;
&gt;                  }
&gt;                  mask |= GDK_GC_STIPPLE;
&gt;                  values.stipple = GDK_PIXMAP(PHPG_GOBJECT(*value));
&gt;              } else if (!strcmp(key, "clip_mask")) {
&gt; -                if (!phpg_object_isa(*value, gdkpixmap_ce)) {
&gt; +                if (!phpg_object_isa(*value, gdkpixmap_ce  
&gt; TSRMLS_CC)) {
&gt;                      php_error(E_WARNING, "clip_mask value has to  
&gt; be a GdkPixmap");
&gt;                      return;
&gt;                  }
&gt;
&gt;
&gt; -- 
&gt;
&gt; Tom
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060319025112</emailId><senderName></senderName><senderEmail>andrei</senderEmail><timestampReceived>2006-03-19 02:51:12-0400</timestampReceived><subject>[PHP-GTK-DEV] #35966 [Opn-&gt;Csd]: missing GdkPixbuf::new_from_xpm_data</subject><body>

 ID:               35966
 Updated by:       andrei@php.net
 Reported By:      joseph dot cohen at gmail dot com
-Status:           Open
+Status:           Closed
 Bug Type:         PHP-GTK related
 Operating System: Gentoo Linux 2005.1-r1
 PHP Version:      2.0.0-beta
 New Comment:

This bug has been fixed in CVS.

Snapshots of the sources are packaged every three hours; this change
will be in the next snapshot. You can grab the snapshot at
http://snaps.php.net/.
 
Thank you for the report, and for helping us make PHP better.




Previous Comments:
------------------------------------------------------------------------

[2006-01-18 22:52:13] joseph dot cohen at gmail dot com

Is anyone going to take care of this?

------------------------------------------------------------------------

[2006-01-11 03:06:52] joseph dot cohen at gmail dot com

Description:
------------
missing method to import xpm array string into a GdkPixbuf
(GdkPixbuf::new_from_xpm_data or something.) Should be easy to
implement but I don't know how to modify the php-gtk source since I
suck at C and don't understand the code. Can someone please implement
this asap. This function is Different from the "new_from_inline"
function which takes C source code.

Here is a ref:
http://gtk2-perl.sourceforge.net/doc/pod/Gtk2/Gdk/Pixbuf.html#pixbuf_Gtk2_Gdk_Pixb2



------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=35966&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060319043812</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-19 04:38:12-0400</timestampReceived><subject>[PHP-GTK-DEV] Changes to the Sourceview/Mozembed extensions</subject><body>

Hello All,

This is an email to explain my last few CVS commits.

The Sourceview and Mozembed extensions where previously "shadowing"
methods of widgets that it was dependent on. This was because I has
re-written the defs for those widgets in the scheme of these extensions
to avoid the "gtkcontainer_ce" or "gtkbin_ce not defined" errors. As a
result, previously working methods such as GdkPixBuf::new_from_file()
and GtkFrame::set_shadow_type() didn't work with the extensions enabled.

This was stupid, of course, and I'm sorry.

The good thing is that I realised this before anyone else did, and hence
have the opportunity to correct it. The solution that I propose is to
add PHP_GTK_EXPORT_CE()'s to the gen_*.c files for the extension. So I
made a script that adds these lines after the generator does its work.

It's clumsy, yes; But still better than creating a new generator for the
extension. Any suggestions/criticisms/comments are most welcome :)

Anyone who had these extensions enabled, may please update from CVS and
recompile, it should work fine now. A lot more methods have also been
implemented for both methods, (in fact, mozembed is close to 100%).
Feedback is greatly appreciated.

Thanks and Regards,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060319045423</emailId><senderName>Tom Rogers</senderName><senderEmail>trogers@kwikin.com</senderEmail><timestampReceived>2006-03-19 04:54:23-0400</timestampReceived><subject>Re[2]: [PHP-GTK-DEV] crash on exit</subject><body>

Hi,

Saturday, March 18, 2006, 8:57:59 PM, you wrote:
SF&gt; Tom, hi,

SF&gt; Thanks for the report(s), I'll look into it when the new manual's live. 
SF&gt; Busy fixing all the little buglets in there while waiting for systems@ to 
SF&gt; regenerate the old build into its new home...

SF&gt; - Steph

Just to let you know, after updating to latest  cvs crash has disappeared.

-- 
regards,
Tom

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060321181945</emailId><senderName>Florian Breit</senderName><senderEmail>florian@phpws.org</senderEmail><timestampReceived>2006-03-21 18:19:45-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkPlug and Socket</subject><body>



Anant Narayanan schrieb:
&gt; And, we're not "adding" the socket to the plug in the second case, but
&gt; creating a plug that gets itself added to the socket identified by the
&gt; ID passed to the plug's constructor.
Ah, ok. Wasn't sure about this point, but looks useful to me now.
So, both ways should be possible as they are possible in the Gtk/C 
functions, I guess.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060322070846</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-22 07:08:46-0400</timestampReceived><subject>[PHP-GTK-DEV] temp.bat contains /* */ style comment</subject><body>


Hi all,


The win32/buildconf.js generates the temp.bat with a C-style comment
instead of using "rem"

temp.WriteLine("/* usage: php generator.php [-l logfile] [-o
overridesfile] [-p prefix] [-c functionclass ] [-r typesfile] [-f
savefile] defsfile */");

Is that intention?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060322184528</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-22 18:45:28-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] compilation error: dkPixbuf_read_pixel_array</subject><body>

Did you cvs update your gdk-types.defs file? It shouldn't have 
pixel_array field anymore.

On Mar 21, 2006, at 10:29 PM, Christian Weiske wrote:

&gt; Am I the only one getting this?
&gt;
&gt; ext/gtk+/gen_gdk.c: In function `phpg_GdkPixbuf_read_pixel_array':
&gt; ext/gtk+/gen_gdk.c:6636: error: dereferencing pointer to incomplete 
&gt; type
&gt; make: *** [ext/gtk+/gen_gdk.lo] Error 1
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060323180628</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-23 18:06:28-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] More Patches: GtkAboutDialog</subject><body>

No, I meant, patch.diff.txt, so that mailing list software lets it  
through.

-Andrei

On Mar 23, 2006, at 9:07 AM, Anant Narayanan wrote:

&gt; Andrei,
&gt;
&gt; I just realised that by ".txt" attachment you might have meant: "not a
&gt; diff", and so I'm attaching a plain txt attachment just in case.
&gt;
&gt; Regards,
&gt; --  
&gt; Anant
&gt;
&gt; Find Freedom, Go Open Source!
&gt; http://www.kix.in/
&gt; %% {{{ GtkAboutDialog
&gt;
&gt; %%
&gt; override gtk_about_dialog_get_artists
&gt; PHP_METHOD
&gt; {
&gt;     gchar **artists;
&gt;
&gt;     NOT_STATIC_METHOD();
&gt;
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
&gt;         return;
&gt;
&gt;     artists = (gchar  
&gt; **)gtk_about_dialog_get_artists(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr) 
&gt; ));
&gt;
&gt;     if (artists) {
&gt;         array_init(return_value);
&gt;         while (*artists) {
&gt;             add_next_index_string(return_value, *artists, 1);
&gt;             *artists++;
&gt;         }
&gt;     } else {
&gt;         RETURN_NULL();
&gt;     }
&gt; }
&gt;
&gt; %%
&gt; override gtk_about_dialog_get_authors
&gt; PHP_METHOD
&gt; {
&gt;     gchar **authors;
&gt;
&gt;     NOT_STATIC_METHOD();
&gt;
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
&gt;         return;
&gt;
&gt;     authors = (gchar  
&gt; **)gtk_about_dialog_get_authors(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr) 
&gt; ));
&gt;
&gt;     if (authors) {
&gt;         array_init(return_value);
&gt;         while (*authors) {
&gt;             add_next_index_string(return_value, *authors, 1);
&gt;             *authors++;
&gt;         }
&gt;     } else {
&gt;         RETURN_NULL();
&gt;     }
&gt; }
&gt;
&gt; %%
&gt; override gtk_about_dialog_get_documenters
&gt; PHP_METHOD
&gt; {
&gt;     gchar **doccers;
&gt;
&gt;     NOT_STATIC_METHOD();
&gt;
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
&gt;         return;
&gt;
&gt;     doccers = (gchar  
&gt; **)gtk_about_dialog_get_documenters(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ 
&gt; ptr)));
&gt;
&gt;     if (doccers) {
&gt;         array_init(return_value);
&gt;         while (*doccers) {
&gt;             add_next_index_string(return_value, *doccers, 1);
&gt;             *doccers++;
&gt;         }
&gt;     } else {
&gt;         RETURN_NULL();
&gt;     }
&gt; }
&gt;
&gt; %%
&gt; override gtk_about_dialog_set_artists
&gt; PHP_METHOD
&gt; {
&gt;     gchar **artists;
&gt;     zval *arr = NULL;
&gt;     zval **data;
&gt;     int i, arr_count;
&gt;
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
&gt;         return;
&gt;     }
&gt;
&gt;     if (arr) {
&gt;         arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
&gt; 	    artists = safe_emalloc(arr_count+1, sizeof (gchar *), 0);
&gt; 	
&gt;         for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
&gt;              zend_hash_get_current_data(Z_ARRVAL_P(arr), (void  
&gt; **)&amp;data) == SUCCESS;
&gt;              zend_hash_move_forward(Z_ARRVAL_P(arr))) {
&gt;
&gt;                 convert_to_string_ex(data);
&gt;                 artists[i++] = Z_STRVAL_PP(data);
&gt;
&gt;         }
&gt;
&gt;         artists[i] = NULL;
&gt;          
&gt; gtk_about_dialog_set_artists(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr)),  
&gt; (const gchar **)artists);
&gt;         efree(artists);
&gt; 	
&gt;     } else {
&gt;         RETURN_NULL();
&gt;     }
&gt; }
&gt;
&gt; %%
&gt; override gtk_about_dialog_set_authors
&gt; PHP_METHOD
&gt; {
&gt;     gchar **authors;
&gt;     zval *arr = NULL;
&gt;     zval **data;
&gt;     int i, arr_count;
&gt;
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
&gt;         return;
&gt;     }
&gt;
&gt;     if (arr) {
&gt;         arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
&gt; 	    authors = safe_emalloc(arr_count+1, sizeof (gchar *), 0);
&gt; 	
&gt;         for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
&gt;              zend_hash_get_current_data(Z_ARRVAL_P(arr), (void  
&gt; **)&amp;data) == SUCCESS;
&gt;              zend_hash_move_forward(Z_ARRVAL_P(arr))) {
&gt;
&gt;                 convert_to_string_ex(data);
&gt;                 authors[i++] = Z_STRVAL_PP(data);
&gt;
&gt;         }
&gt;
&gt;         authors[i] = NULL;
&gt;          
&gt; gtk_about_dialog_set_authors(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr)),  
&gt; (const gchar **)authors);
&gt;         efree(authors);
&gt; 	
&gt;     } else {
&gt;         RETURN_NULL();
&gt;     }
&gt; }
&gt;
&gt; %%
&gt; override gtk_about_dialog_set_documenters
&gt; PHP_METHOD
&gt; {
&gt;     gchar **doccers;
&gt;     zval *arr = NULL;
&gt;     zval **data;
&gt;     int i, arr_count;
&gt;
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;arr)) {
&gt;         return;
&gt;     }
&gt;
&gt;     if (arr) {
&gt;         arr_count = zend_hash_num_elements(Z_ARRVAL_P(arr));
&gt; 	    doccers = safe_emalloc(arr_count+1, sizeof (gchar *), 0);
&gt; 	
&gt;         for (i=0, zend_hash_internal_pointer_reset(Z_ARRVAL_P(arr));
&gt;              zend_hash_get_current_data(Z_ARRVAL_P(arr), (void  
&gt; **)&amp;data) == SUCCESS;
&gt;              zend_hash_move_forward(Z_ARRVAL_P(arr))) {
&gt;
&gt;                 convert_to_string_ex(data);
&gt;                 doccers[i++] = Z_STRVAL_PP(data);
&gt;
&gt;         }
&gt;
&gt;         doccers[i] = NULL;
&gt;          
&gt; gtk_about_dialog_set_documenters(GTK_ABOUT_DIALOG(PHPG_GOBJECT(this_ptr 
&gt; )), (const gchar **)doccers);
&gt;         efree(doccers);
&gt; 	
&gt;     } else {
&gt;         RETURN_NULL();
&gt;     }
&gt; }
&gt;
&gt; %% }}}
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060323180655</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-23 18:06:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkMenu::popup() parameters?</subject><body>

It's optional only if you don't pass user args.

On Mar 23, 2006, at 12:00 AM, Steph Fox wrote:

&gt; You could even check out the docs for PHP-GTK 1 - I vividly remember 
&gt; writing them! The behaviour hasn't changed wildly, it's just that 
&gt; everything's optional now. 
&gt; http://gtk.php.net/manual/en/gtk.gtkmenu.method.popup.php
&gt;
&gt;
&gt;&gt; Check out Gtk+ docs for gtk_menu_popup.
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; On Mar 22, 2006, at 11:14 PM, Christian Weiske wrote:
&gt;&gt;
&gt;&gt;&gt; Hello all,
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Could somebody explain the popup() paramters of GtkMenu to me?
&gt;&gt;&gt; I would expect passing X and Y, but that's not the case - it wants  
&gt;&gt;&gt; some
&gt;&gt;&gt; widgets I don't understand.
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; That's the override code:
&gt;&gt;&gt;     if (ZEND_NUM_ARGS() &gt; 5) {
&gt;&gt;&gt;         if (!php_gtk_parse_varargs(ZEND_NUM_ARGS(), 5, &amp;user_args,
&gt;&gt;&gt; "NNVii", &amp;php_pms, gtkwidget_ce, &amp;php_pmi, gtkwidget_ce, &amp;callback,
&gt;&gt;&gt; &amp;button, &amp;time)) {
&gt;&gt;&gt;             return;
&gt;&gt;&gt;         }
&gt;&gt;&gt;     } else {
&gt;&gt;&gt;         if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|NNVii", &amp;php_pms,
&gt;&gt;&gt; gtkwidget_ce, &amp;php_pmi, gtkwidget_ce, &amp;callback, &amp;button, &amp;time)) {
&gt;&gt;&gt;             return;
&gt;&gt;&gt;         }
&gt;&gt;&gt;     }
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; I have no idea what php_pmi and php_pms actually are (the are
&gt;&gt;&gt; gtkwidgets, but what do they and why do I need them?).
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt; Christian Weiske
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060323181750</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-03-23 18:17:50-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: [PHP-GTK] Load Error</subject><body>

Eddie Hixson wrote:
&gt; Thank you for the reply.  I really don't know.  PHP installation is by
&gt; RedHat RPM's.  Is there an easy way to determine this.  Sorry for the
&gt; questions, but this development arena is new to me.

There are a few ways to check if GD is available. First you can try 
running $&gt; php -m  This lists the modules/extensions that are loaded. If 
you see gd in the list then you have it. You can also see what PHP was 
configured with by checking the php info. Try running $&gt; php -i | grep 
config  If you see --with-gd in there then gd was enabled. If you don't 
see it in either of those places then you may have to recompile PHP.

Its probably best to wait for a more authoritative answer/solution first 
though. Compilation errors are not my strong point.

&gt; 
&gt; By the way, I will be sure to pick up your new book when it comes out.

Thanks,
-- 
Scott Mattocks
Author of the soon to be published: Pro PHP-GTK
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060323235641</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-23 23:56:41-0400</timestampReceived><subject>[PHP-GTK-DEV] Source Code Highlighting</subject><body>

Hi Everyone,

Just to keep you informed (and also explain my last CVS commit :)),
Source code highlighting is now functional for the GtkSourceView widget.

Here's a quick snippet as to how you can do it:

$lm = new GtkSourceLanguagesManager();
$la = $lm-&gt;get_language_from_mime_type("text/x-php-source");
$buffer = GtkSourceBuffer::new_with_language($la);
$buffer-&gt;set_highlight(true);
$view = GtkSourceView::new_with_buffer($buffer);

Voila, The colours begin to appear! You can replace the mime type with
anything else sourceview supports too, like "text/xml", "text/x-diff",
and even "text/x-makefile". It currently supports around 40 "languages".
(And I plan to add a language definition for PHP-Gtk soon).

Cheers,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060327182738</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-27 18:27:38-0400</timestampReceived><subject>[PHP-GTK-DEV] Waiting Patches</subject><body>

Hello All (Andrei),

Friendly reminder of patches waiting for approval:

GtkPlug: get_id(), GtkSocket: get_id(), add_id()
&lt;441DF265.3060706@kix.in&gt;
(http://marc.theaimsgroup.com/?l=php-gtk-dev&amp;m=114313229807983)

GtkAboutDialog: get/set_artists, authors, documenters
&lt;4422D013.5000502@kix.in&gt;
(http://marc.theaimsgroup.com/?l=php-gtk-dev&amp;m=114281331226608)

Regards,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060328105520</emailId><senderName></senderName><senderEmail>mike</senderEmail><timestampReceived>2006-03-28 10:55:20-0400</timestampReceived><subject>[PHP-GTK-DEV] #36487 [Opn]: object === same object mismatch</subject><body>

 ID:               36487
 Updated by:       mike@php.net
 Reported By:      xxoes at nw7 dot de
 Status:           Open
-Bug Type:         *General Issues
+Bug Type:         PHP-GTK related
 Operating System: windows &amp; linux
 PHP Version:      5.1.2
 New Comment:

So this is GTK related then, isn't it?


Previous Comments:
------------------------------------------------------------------------

[2006-02-23 10:16:37] cweiske@php.net

As far as I see that, the objects *are* identical.
They equal === as long as they are not in the process of being
destroyed - but as soon as the destroying process is begun, they don't
equal any more although they are still equal

------------------------------------------------------------------------

[2006-02-23 08:05:56] xxoes at nw7 dot de

Sorry but i don't understand!

Thats are the same objects and the same instances, and === doesn't
matched!

It works fine if a call $obj-&gt;__destruct === is true, but not if this
function is called by php on exit.

------------------------------------------------------------------------

[2006-02-22 16:42:39] iliaa@php.net

Thank you for taking the time to write to us, but this is not
a bug. Please double-check the documentation available at
http://www.php.net/manual/ and the instructions on how to report
a bug at http://bugs.php.net/how-to-report.php

For === to return true on object comparison both objects must be
instances of the same class and refer to the exact same internal
object.

------------------------------------------------------------------------

[2006-02-22 15:04:40] xxoes at nw7 dot de

This is not PHP-GTK related.
If you replace GtkObject with DOMElement you get the same result.

------------------------------------------------------------------------

[2006-02-22 14:33:03] xxoes at nw7 dot de

Description:
------------
Although the objects have the same object id after destruction, "==="
doesn't equal them any more.

I try:
   $abc = new abc();
   $obj = new bla();
and:
   $abc = new abc();
   $obj = new bla();

both the same result.

This does not happen when you remove "extends GtkObject" from the class
signature.

Reproduce code:
---------------
&lt;?PHP
   class bla extends GtkObject {
      public $xparent;

      function __construct() {
      }

      function __destruct() {
         echo "bla::__destruct()\r\n";
         $this-&gt;xparent-&gt;remove($this);
      }
   }

   class abc {
      function __destruct() {
         echo "abc::__destruct()\r\n";
      }

      function put($obj) {
         $this-&gt;obj = $obj;
         $obj-&gt;xparent = $this;
      }

      function remove($obj) {
         echo "Object matched?: ".($this-&gt;obj === $obj)."\r\n";
         echo $this-&gt;obj." ".$obj."\r\n";
      }
   }

   $abc = new abc();
   $obj = new bla();
   $abc-&gt;put($obj);
?&gt;

Expected result:
----------------
That the operation $this-&gt;obj === $obj is true.

Actual result:
--------------
$this-&gt;obj and $obj mismatch.


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=36487&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060328095849</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-03-28 09:58:49-0400</timestampReceived><subject>[PHP-GTK-DEV] Request for GtkWidget::set_visible(boolean) method</subject><body>


Hello all,


Currently, the only way to show/hide a widget in gtk2 is to use the
show() or hide() method. It is not possible to call a method with a
boolean parameter (as in e.g. set_sensitive(boolean)) to dynamically
modify the visibility of the widget.

I have the case that I need to show/hide some menu items dynamically
depending on a liststore value, but I need to make an if block to call
the right method:

if ($model-&gt;get_value($iter, 10)) {
	$item-&gt;hide();
} else {
	$item-&gt;show();
}


With set_sensitive, it's easy:
$item-&gt;set_sensitive($model-&gt;get_value($iter, 10));

Can we add a set_visible() method to the GtkWidget class?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060328140452</emailId><senderName>Cory Christison</senderName><senderEmail>cory@lavacube.com</senderEmail><timestampReceived>2006-03-28 14:04:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Request for GtkWidget::set_visible(boolean) method</subject><body>

[long time reader, first time writer]

What about:


&lt;?php

    $show_hide = ( $model-&gt;get_value($iter, 10) ? 'hide' : 'show' );  // should it be \
get_value($item, 10) ???  $item-&gt;$show_hide();

?&gt;

I've never really done anything like this, but to my knowledge it should work?


 - Cory Christison



Christian Weiske wrote:
&gt; Hello all,
&gt; 
&gt; 
&gt; Currently, the only way to show/hide a widget in gtk2 is to use the
&gt; show() or hide() method. It is not possible to call a method with a
&gt; boolean parameter (as in e.g. set_sensitive(boolean)) to dynamically
&gt; modify the visibility of the widget.
&gt; 
&gt; I have the case that I need to show/hide some menu items dynamically
&gt; depending on a liststore value, but I need to make an if block to call
&gt; the right method:
&gt; 
&gt; if ($model-&gt;get_value($iter, 10)) {
&gt; 	$item-&gt;hide();
&gt; } else {
&gt; 	$item-&gt;show();
&gt; }
&gt; 
&gt; 
&gt; With set_sensitive, it's easy:
&gt; $item-&gt;set_sensitive($model-&gt;get_value($iter, 10));
&gt; 
&gt; Can we add a set_visible() method to the GtkWidget class?
&gt; 
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060328143634</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-03-28 14:36:34-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Request for GtkWidget::set_visible(boolean) method</subject><body>

Christian Weiske wrote:

&gt; Currently, the only way to show/hide a widget in gtk2 is to use the
&gt; show() or hide() method. It is not possible to call a method with a
&gt; boolean parameter (as in e.g. set_sensitive(boolean)) to dynamically
&gt; modify the visibility of the widget.

I think this is a good idea, but I would add a second optional boolean 
parameter that determines if the method should call hide/show or 
hide_all/show_all.

I have attached a patch that doesn't work. I don't know why it doesn't 
work but it doesn't. If anyone could point me in the right direction for 
making it work, I would appreciate it. Everything compiles, and the 
method is callable and I added a return value to verify that the values 
passed in are correct. It just doesn't hide the widget when I call it.

Thanks,
-- 
Scott Mattocks
Author of the soon to be published: Pro PHP-GTK
http://www.crisscott.com

["gtk.overrides.set_visible.patch.txt" (text/plain)]

Index: ext/gtk+/gtk.overrides
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/gtk.overrides,v
retrieving revision 1.165
diff -u -u -w -r1.165 gtk.overrides
--- ext/gtk+/gtk.overrides	27 Mar 2006 04:25:50 -0000	1.165
+++ ext/gtk+/gtk.overrides	28 Mar 2006 14:32:42 -0000
@@ -2957,6 +2957,36 @@
     php_gtk_build_value(&amp;return_value, "(ii)", width, height);
 
 }
+
+%%
+add GtkWidget set_visible
+PHP_METHOD
+{
+    gboolean visible, all = TRUE;
+
+	NOT_STATIC_METHOD();
+
+	if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "b|b", &amp;visible, &amp;all)) {
+        return;
+    }
+
+	if (visible) {
+        if (all) {
+            gtk_widget_show_all(GTK_WIDGET(PHPG_GOBJECT(this_ptr)));
+        } else {
+            gtk_widget_show(GTK_WIDGET(PHPG_GOBJECT(this_ptr)));
+        }
+    } else {
+        if (all) {
+            gtk_widget_hide_all(GTK_WIDGET(PHPG_GOBJECT(this_ptr)));
+        } else {
+            gtk_widget_hide(GTK_WIDGET(PHPG_GOBJECT(this_ptr)));
+        }
+    }
+
+    php_gtk_build_value(&amp;return_value, "b", visible);
+}
+
 %% }}}
 
 %% include gtkcontainer.overrides



-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060328003547</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-03-28 00:35:47-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-Gtk1 version</subject><body>

Hassle me and I'll make you one, but I suspect the bug report will get short 
shrift anyway...


----- Original Message ----- 
From: "Madeleine D." &lt;mmdrake@bctonline.com&gt;
To: "Dev PHP-Gtk" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, March 27, 2006 9:29 PM
Subject: [PHP-GTK-DEV] PHP-Gtk1 version


&gt;
&gt; I realize everybody's buried up to wherever in the new release, but I need 
&gt; to ask this one anyway.
&gt;
&gt; Is there any way to get hold of a PHP-Gtk1 for Windows compiled with php 
&gt; 4.4.2?  I want to file a bug report on my Win98 exit hang, and I'm afraid 
&gt; php.net won't talk to me w/o having tested it on the latest and greatest. 
&gt; The current binary we have available is 4.4.1.
&gt;
&gt; Since I'm looking at a complete rewrite on my app, this problem is going 
&gt; to go away for me anytime soon.
&gt;
&gt; thanks
&gt; Madeleine D.
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060328121411</emailId><senderName>"xxoes at nw7 dot de"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-03-28 12:14:11-0400</timestampReceived><subject>[PHP-GTK-DEV] #36487 [Opn]: object === same object mismatch</subject><body>

 ID:               36487
 User updated by:  xxoes at nw7 dot de
 Reported By:      xxoes at nw7 dot de
 Status:           Open
 Bug Type:         PHP-GTK related
 Operating System: windows &amp; linux
 PHP Version:      5.1.2
 New Comment:

No isn't php-gtk related. Is a general problem because DOMElement and
GtkObject have the same result.


Previous Comments:
------------------------------------------------------------------------

[2006-03-28 12:55:19] mike@php.net

So this is GTK related then, isn't it?

------------------------------------------------------------------------

[2006-02-23 10:16:37] cweiske@php.net

As far as I see that, the objects *are* identical.
They equal === as long as they are not in the process of being
destroyed - but as soon as the destroying process is begun, they don't
equal any more although they are still equal

------------------------------------------------------------------------

[2006-02-23 08:05:56] xxoes at nw7 dot de

Sorry but i don't understand!

Thats are the same objects and the same instances, and === doesn't
matched!

It works fine if a call $obj-&gt;__destruct === is true, but not if this
function is called by php on exit.

------------------------------------------------------------------------

[2006-02-22 16:42:39] iliaa@php.net

Thank you for taking the time to write to us, but this is not
a bug. Please double-check the documentation available at
http://www.php.net/manual/ and the instructions on how to report
a bug at http://bugs.php.net/how-to-report.php

For === to return true on object comparison both objects must be
instances of the same class and refer to the exact same internal
object.

------------------------------------------------------------------------

[2006-02-22 15:04:40] xxoes at nw7 dot de

This is not PHP-GTK related.
If you replace GtkObject with DOMElement you get the same result.

------------------------------------------------------------------------

The remainder of the comments for this report are too long. To view
the rest of the comments, please view the bug report online at
    http://bugs.php.net/36487

-- 
Edit this bug report at http://bugs.php.net/?id=36487&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060328175647</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-03-28 17:56:47-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Request for GtkWidget::set_visible(boolean) method</subject><body>

I am kind of wary of adding our own methods to Gtk+ widgets.. We could 
implement all kinds of nice stuff to make API easier, but where do we 
draw the line?

-Andrei

On Mar 28, 2006, at 1:58 AM, Christian Weiske wrote:

&gt; Hello all,
&gt;
&gt;
&gt; Currently, the only way to show/hide a widget in gtk2 is to use the
&gt; show() or hide() method. It is not possible to call a method with a
&gt; boolean parameter (as in e.g. set_sensitive(boolean)) to dynamically
&gt; modify the visibility of the widget.
&gt;
&gt; I have the case that I need to show/hide some menu items dynamically
&gt; depending on a liststore value, but I need to make an if block to call
&gt; the right method:
&gt;
&gt; if ($model-&gt;get_value($iter, 10)) {
&gt; 	$item-&gt;hide();
&gt; } else {
&gt; 	$item-&gt;show();
&gt; }
&gt;
&gt;
&gt; With set_sensitive, it's easy:
&gt; $item-&gt;set_sensitive($model-&gt;get_value($iter, 10));
&gt;
&gt; Can we add a set_visible() method to the GtkWidget class?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060331145756</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-03-31 14:57:56-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: [php-gtk-cvs] cvs: php-gtk /test bug_gtkfilechooserbutton_actionselectfolder.phpw</subject><body>

Scott Mattocks wrote:
&gt; scottmattocks		Fri Mar 31 14:52:46 2006 UTC
&gt; 
&gt;   Added files:                 
&gt;     /php-gtk/test	bug_gtkfilechooserbutton_actionselectfolder.phpw 
&gt;   Log:
&gt;   Gtk+ errors on GtkFileChooserButton construction with Gtk::FILE_CHOOSER_ACTION_SELECT_FOLDER action.

When creating a GtkFileChooserButton with 
Gtk::FILE_CHOOSER_ACTION_SELECT_FOLDER, I get a bunch of Gtk-CRITICAL 
error messages. It talks about gtk_file_system_get_volume_for_path: path 
!= null and some other assertions. It happens on construction so I don't 
have the chance to set the path.

Thanks,
-- 
Scott Mattocks
Author of the soon to be published: Pro PHP-GTK
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060331184340</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-03-31 18:43:40-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkPixbuf Trouble</subject><body>

Christian,

&gt;&gt; I made overrides for draw_rgb_image() and draw_rgb_32_image(). The 
&gt;&gt; _dithalign versions are no more. Try it now.
&gt; Does that mean that the gdkpixbuf animation example should work now?

I tried, and this is what I get instead:

Warning: RGB buffer is not large enough in
/home/anant/php/php-gtk/test/bug_pixbuf-demo.php on line 78

I tried with both the rgb and rgb_32 methods.

Regards,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060207001601</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-02-07 00:16:01-0400</timestampReceived><subject>[PHP-GTK-DEV] UTF8 problems...</subject><body>

This code below, gives me:
(teste.php:8970): Pango-WARNING **: Invalid UTF-8 string passed to
pango_layout_set_text()

Everytime I pass the mouse cursor over accented characters
Besides showing nothing besides the accented character in the list...

I know that using utf8_encode() solves the problem. But is there another
workaround ?

&lt;?php
$window = new GtkWindow;
$window-&gt;set_default_size(200,200);
$window-&gt;set_position(GTK::WIN_POS_CENTER);

$list = new GtkTreeView;

$model = new GtkListStore(Gtk::TYPE_STRING);
$list-&gt;set_model($model);

$column1 = new GtkTreeViewColumn();

$cell_renderer1 = new GtkCellRendererText();
$column1-&gt;pack_start($cell_renderer1, true);

$column1-&gt;set_attributes($cell_renderer1, 'text', 0);

$list-&gt;append_column($column1);

$data[] = array('Pedro');
$data[] = array('Maria');
$data[] = array('Jos');
$data[] = array('Automvel');
$data[] = array('Joo');

foreach ($data as $copa)
{
    $iter = $model-&gt;append($copa);
}

$window-&gt;add($list);
$window-&gt;show_all();
Gtk::Main();
?&gt;
-- 
:: Pablo Dall'Oglio
:: www.dalloglio.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060208034246</emailId><senderName></senderName><senderEmail>andrei</senderEmail><timestampReceived>2006-02-08 03:42:46-0400</timestampReceived><subject>[PHP-GTK-DEV] #36313 [Opn]: Pango-WARNING **: Invalid UTF-8 string passed to pango_layout_set_text(</subject><body>

 ID:               36313
 Updated by:       andrei@php.net
 Reported By:      pablo@php.net
 Status:           Open
 Bug Type:         PHP-GTK related
 Operating System: linux ubuntu breezy
 PHP Version:      5.1.2
 New Comment:

What is your php-gtk.codepage setting? What encoding is the script in?


Previous Comments:
------------------------------------------------------------------------

[2006-02-07 04:28:58] pablo@php.net

Description:
------------
GtkTreeView component complains about UTF-8 encoding when using
accented characters. It also doesn't show the part of the string after
the accented character.

Reproduce code:
---------------
&lt;?php
$window = new GtkWindow;
$window-&gt;set_default_size(200,200);
$window-&gt;set_position(GTK::WIN_POS_CENTER);

$list = new GtkTreeView;

$model = new GtkListStore(Gtk::TYPE_STRING);
$list-&gt;set_model($model);

$column1 = new GtkTreeViewColumn();

$cell_renderer1 = new GtkCellRendererText();
$column1-&gt;pack_start($cell_renderer1, true);

$column1-&gt;set_attributes($cell_renderer1, 'text', 0);

$list-&gt;append_column($column1);

$data[] = array('Pedro');
$data[] = array('Maria');
$data[] = array('Jos');
$data[] = array('Automvel');
$data[] = array('Joo');

foreach ($data as $copa)
{
    $iter = $model-&gt;append($copa);
}

$window-&gt;add($list);
$window-&gt;show_all();
Gtk::Main();
?&gt;

Expected result:
----------------
no warnings, show the right string on GtkTreeView

Actual result:
--------------
warnings, do not show the appropriated string with accented characters.


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=36313&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060207174301</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-07 17:43:01-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSheet</subject><body>


&gt; I am searching examples with a GtkSheet.
GtkSheet isn't available in PHP-Gtk2 yet.

And please start a new thread if you start a new topic.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060123061719</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-23 06:17:19-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkCTreeNode boxed or not?</subject><body>


Hi readers,

in PHP-Gtk1, GtkCTreeNode is registered as boxed type in
generator/arg_types.php. In the current php-gtk2 cvs, it's commented
out, making 55 methods (GtkCTree/CList) unavailable. Is there a reason
for that, is GtkCTreeNode not boxed any more?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060207062356</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-07 06:23:56-0400</timestampReceived><subject>[PHP-GTK-DEV] Quick question</subject><body>

Quick show of hands:

$filter = $store-&gt;filter_new($root);

or

$filter = new GtkTreeModelFilter($store, $root);

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060209094804</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-09 09:48:04-0400</timestampReceived><subject>[PHP-GTK-DEV] problem compiling win32 version</subject><body>


Hi


A user in the php-gtk channel can't compile the current cvs version.
He gets the following error:
-----------
ext\gtk+\gen_gtk.c(16378) : error C2065: 'tsrm_ls' : nichtdeklarierter
Bezeichne
r
ext\gtk+\gen_gtk.c(16378) : warning C4022: 'get_active_class_name' :
Zeigertyp f
r bergebenen Parameter 2 stimmt nicht mit dem deklarierten Zeigertyp
berein
ext\gtk+\gen_gtk.c(16378) : warning C4022: 'get_active_function_name' :
Zeigerty
p fr bergebenen Parameter 1 stimmt nicht mit dem deklarierten
Zeigertyp berei
n
NMAKE : fataler Fehler U1077: 'cl' : Rueckgabe-Code '0x2'
Stop.
-----------

When uncommenting the following line in gen_gtk.c
(phpg_parse_target_entries), it compiles:
-------
php_error(E_WARNING, "%s::%s() was unable to parse target #%d in the
list of targets", get_active_class_name(NULL TSRMLS_CC),
get_active_function_name(TSRMLS_C), n+1);
-------

-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060210034549</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-02-10 03:45:49-0400</timestampReceived><subject>[PHP-GTK-DEV] stock-browser.php</subject><body>

Andrei,

Thanks for the UTF8 patch, solves all my problems regarding accented
characters in GtkTreeView's.

The only problem that I saw now, it's about stock-browser.php sample.
In the second column (label), the words are coming "over-econded" :-)
(don't know if it's the right word). But, It seems that was applied
utf8_encode twice...

Take a look at:
Gtk::stock_lookup($id);

I know it's hard to figure out these things because english as no
accented characters. But Gtk::STOCK_INFO that in brazilian portuguese is
"Informao", in stock-browser.php is shown as "Informa  o". But it's
the only place I've seen this problem.

It doesn't happen when I use GtkButton::new_from_stock(). In this case,
the name of the buttons (even the accented ones) are fine.

Pablo

-- 
:: Pablo Dall'Oglio
:: www.dalloglio.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060211052037</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-02-11 05:20:37-0400</timestampReceived><subject>[PHP-GTK-DEV] any idea ?</subject><body>

Didn't realize how GtkCellRendererCombo works...

&lt;?php
$window = new GtkWindow;
$window-&gt;connect_simple('destroy', array('gtk', 'main_quit'));
$window-&gt;set_default_size(480,240);
$window-&gt;set_position(GTK::WIN_POS_CENTER);

$list = new GtkTreeView;
$window-&gt;add($list);

$model = new GtkListStore(Gtk::TYPE_STRING, Gtk::TYPE_STRING);
$list-&gt;set_model($model);


$column1 = new GtkTreeViewColumn();
$column2 = new GtkTreeViewColumn();

$cell_renderer1 = new GtkCellRendererText();
$cell_renderer2 = new GtkCellRendererCombo();

$model_ = new GtkListStore(Gtk::TYPE_STRING);
$model_-&gt;append(array('ssss'));

$column1-&gt;pack_start($cell_renderer1, true);
$column2-&gt;pack_start($cell_renderer2, true);

$column1-&gt;set_attributes($cell_renderer1, 'text', 0);
$column2-&gt;set_attributes($cell_renderer2, 'text', 1);
$column2-&gt;set_attributes($cell_renderer2, 'model', $model_);
$column2-&gt;set_attributes($cell_renderer2, 'text-column', 0);

$list-&gt;append_column($column1);
$list-&gt;append_column($column2);

$iter = $model-&gt;append(array('a', 'b'));
$iter = $model-&gt;append(array('a', 'b'));

$window-&gt;show_all();

Gtk::Main();
?&gt;

-- 
:: Pablo Dall'Oglio
:: www.dalloglio.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060213014500</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-02-13 01:45:00-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkTreeViewColumn constructor</subject><body>

When using accented chars in GtkTreeViewColumn constructor:
$column1 = new GtkTreeViewColumn('Ao');
$column2 = new GtkTreeViewColumn('Ttttt');

Results:
Pango-WARNING **: Invalid UTF-8 string passed to pango_layout_set_text()



-- 
:: Pablo Dall'Oglio
:: www.dalloglio.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060214034217</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-14 03:42:17-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] That GtkTreePath-as-boxed patch</subject><body>

All right, I reviewed. Basically, if you make GtkTreePath into a  
boxed object, then we have two ways of representing GtkTreePath when  
it's passed to functions: as a string and as a boxed object. There  
needs to be additional code to check for this and do the right thing,  
and that code will need to be generated (so more hacking in  
argtypes.php I think). If you're really sure that it will be useful,  
I'll hack it.

-Andrei


On Nov 2, 2005, at 1:10 PM, Steph Fox wrote:

&gt; Andrei, hi,
&gt;
&gt; This is a much smaller patch now.  Please review when you get a  
&gt; minute?
&gt;
&gt; - Steph
&gt; &lt;treepath.txt&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060219151304</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-19 15:13:04-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: [PHP-GTK] New GtkTreeModel functionality</subject><body>

Andrei,

&gt; what can be done. There may be a bug or two there to  chase down, and
&gt; maybe a couple of small things to add, but so far it  is pretty stable
It seems to have influenced gtktreeselection.
Whenever calling (in the changed-callback of Dev_Inspector)
&gt; $selection-&gt;get_selected();
I get a segfault:
Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 16384 (LWP 13581)]
0xb75a7f7a in phpg_gobject_new (zobj=0xbf9913e4, obj=0x8d9eac8)
    at /data/cvs/phpgtk2/php-gtk/main/phpg_gobject.c:204
204             if (pobj-&gt;is_owned) {


I'll try to make a bug script



-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060222133320</emailId><senderName>"xxoes at nw7 dot de"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-02-22 13:33:20-0400</timestampReceived><subject>[PHP-GTK-DEV] #36487 [NEW]: object === same object mismatch</subject><body>

From:             xxoes at nw7 dot de
Operating system: windows &amp; linux
PHP version:      5.1.2
PHP Bug Type:     PHP-GTK related
Bug description:  object === same object mismatch

Description:
------------
Although the objects have the same object id after destruction, "==="
doesn't equal them any more.

I try:
   $abc = new abc();
   $obj = new bla();
and:
   $abc = new abc();
   $obj = new bla();

both the same result.

This does not happen when you remove "extends GtkObject" from the class
signature.

Reproduce code:
---------------
&lt;?PHP
   class bla extends GtkObject {
      public $xparent;

      function __construct() {
      }

      function __destruct() {
         echo "bla::__destruct()\r\n";
         $this-&gt;xparent-&gt;remove($this);
      }
   }

   class abc {
      function __destruct() {
         echo "abc::__destruct()\r\n";
      }

      function put($obj) {
         $this-&gt;obj = $obj;
         $obj-&gt;xparent = $this;
      }

      function remove($obj) {
         echo "Object matched?: ".($this-&gt;obj === $obj)."\r\n";
         echo $this-&gt;obj." ".$obj."\r\n";
      }
   }

   $abc = new abc();
   $obj = new bla();
   $abc-&gt;put($obj);
?&gt;

Expected result:
----------------
That the operation $this-&gt;obj === $obj is true.

Actual result:
--------------
$this-&gt;obj and $obj mismatch.

-- 
Edit bug report at http://bugs.php.net/?id=36487&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=36487&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.1): http://bugs.php.net/fix.php?id=36487&amp;r=trysnapshot51
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=36487&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=36487&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=36487&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=36487&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=36487&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=36487&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=36487&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=36487&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=36487&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=36487&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=36487&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=36487&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=36487&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=36487&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=36487&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=36487&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=36487&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=36487&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060216214427</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-02-16 21:44:27-0400</timestampReceived><subject>[PHP-GTK-DEV] something wrong</subject><body>

something wrong with 
	textbuffer-&gt;get_iter_at_mark

it should expect a mark as first parameter, but it's given me:

Argument 1 passed to GtkTextBuffer::get_iter_at_mark() must be an
instance of GtkTextIter

-- 
:: Pablo Dall'Oglio
:: www.dalloglio.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060213075519</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-02-13 07:55:19-0400</timestampReceived><subject>[PHP-GTK-DEV] php-gtk2 ends with an error under linux</subject><body>

This application run perfect under win2k || winXP but not linux

The Application is a little bit complex,
the error happened on $this-&gt;pixmaps-&gt;draw_rectangle
and the message is:

This probably reflects a bug in the program.
The error was 'BadMatch (invalid parameter attributes)'.
  (Details: serial 173 error_code 8 request_code 70 minor_code 0)
  (Note to programmers: normally, X errors are reported asynchronously;
   that is, you will receive the error a while after causing it.
   To debug your program, run it with the --sync command line
   option to change this behavior. You can then get a meaningful
   backtrace from your debugger if you break on the gdk_x_error() function.)

When i comment out "$this-&gt;pixmaps-&gt;draw_rectangle" the app is working a 
time long.

The first part is only for debuging:

&lt;?PHP
   dl("php_gtk2.so");
   error_reporting(E_ALL);
   set_time_limit(0);
   ob_implicit_flush(1);

   function ticks() {
      $res = debug_backtrace();
      if(@isset($res[1]))
         $cur = $res[1];
      else
         $cur = $res[0];
      if(!@isset($cur["file"]) || !@isset($cur["line"])) {
         $cur["file"] = "??? ".$res[0]["file"];
         $cur["line"] = "??? ".$res[0]["line"];
      }
      else {
         $cur["line"] .= " =&gt; ".$res[0]["line"];
      }
      echo $cur["file"]."(".$cur["line"].")";
      if(@isset($cur["class"])) {
         echo $cur["class"].$cur["type"].$cur["function"]."(";
         $args = "";
         for($i=0;$i&lt;count($cur["args"]);$i++) {
            if($args != "") $args .= ",";
            if(is_string($cur["args"][$i]))
               $args .= "\"".addslashes($cur["args"][$i])."\"";
            else if(is_object($cur["args"][$i]))
                $args .= "(object)".get_class($cur["args"][$i]);
            else
               $args .= $cur["args"][$i];
         }
         echo $args.")";
      }
      else if($cur["function"] != "ticks") {
         echo $cur["function"];
      }
      while(gtk::events_pending()) {gtk::main_iteration_do(1);}
      echo "\r\n";

/*
      for($i=0;$i&lt;count($res);$i++) {
         unset($res[$i]["object"]);
         unset($res[$i]["args"]);
      }
      print_r($res);
*/
   }
   register_tick_function("ticks");
   declare(ticks=1);
?&gt;

Thats the application:

&lt;?PHP
   error_reporting(E_ALL | E_STRICT);

   $break_loop = 0;
   $tex_data = array();

   class Fun extends GtkWindow {
      protected $da;
      protected $pixmap;
      protected $pixmaps;
      protected $gc;
      protected $cmap;

      protected $width;
      protected $height;

      protected $mx;
      protected $my;
      protected $mx_free;
      protected $my_free;
      protected $done;

      protected $zoom = 2;

      public $tex_data;

      function __construct($parent = null) {
         parent::__construct();
         $this-&gt;width  = (int)(gdk::screen_width()/$this-&gt;zoom);
         $this-&gt;height = (int)(gdk::screen_height()/$this-&gt;zoom);

         $this-&gt;connect_simple('destroy', array(&amp;$this, 'quit'));

         $this-&gt;set_title("Fun");
         $this-&gt;set_position(Gtk::WIN_POS_NONE);
         $this-&gt;set_default_size($this-&gt;width*$this-&gt;zoom, 
$this-&gt;height*$this-&gt;zoom);
         $this-&gt;set_border_width(0);
         $this-&gt;set_resizable(0);
         $this-&gt;set_decorated(0);
         $this-&gt;set_skip_taskbar_hint(1);
         $this-&gt;set_skip_pager_hint(1);
         $this-&gt;set_modal(1);

         $this-&gt;__create_da();

         $this-&gt;show_all();

         $this-&gt;set_keep_above(1);
         $this-&gt;set_uposition(0,0);

         mt_srand((double)microtime());

         $this-&gt;TexReset();
//         gtk::timeout_add(1,array(&amp;$this,"timer"));
      }

      function __create_da() {
         $this-&gt;da = new GtkDrawingArea();
         $this-&gt;da-&gt;set_size_request($this-&gt;width*$this-&gt;zoom, 
$this-&gt;height*$this-&gt;zoom);
         $this-&gt;add($this-&gt;da);
         $this-&gt;da-&gt;realize();
         $this-&gt;da-&gt;connect('configure-event', array(&amp;$this, 
'configure_event'));
         $this-&gt;da-&gt;connect('expose-event',    array(&amp;$this,'draw_it'));
         $this-&gt;da-&gt;add_events(Gdk::POINTER_MOTION_MASK);
         $this-&gt;da-&gt;connect('motion-notify-event', array(&amp;$this, 
'motion_notify_event'));
      }

      function gen_shape() {
//         $this-&gt;shape_combine_mask($this-&gt;pixmaps,0,0);
      }

      function motion_notify_event($widget, $event) {
         static $mouse = 0;
         $mouse++;
         if($mouse &gt;= 2) {
            global $break_loop;
//            $break_loop = 1;
         }
         $max = 10;
         $window  = $event-&gt;window;
         $x = (int)((int)$event-&gt;x_root/2)*2;
         $y = (int)($event-&gt;y_root/2)*2;
         $x = (int)($x/$this-&gt;zoom);
         $y = (int)($y/$this-&gt;zoom);
         $change = 0;

         for($xi=$x-$max;$xi&lt;$x+$max;$xi++) {
            if($xi &lt; 0 || $xi &gt;= $this-&gt;width) continue;
            for($yi=$y-$max;$yi&lt;$y+$max;$yi++) {
               if($yi &lt; 0 || $yi &gt;= $this-&gt;height) continue;
               if(@isset($this-&gt;tex_data[$xi][$yi])) {
                  unset($this-&gt;tex_data[$xi][$yi]);
                  $this-&gt;pixmap-&gt;draw_rectangle($this-&gt;style-&gt;white_gc,
                                                true, $xi*$this-&gt;zoom, 
$yi*$this-&gt;zoom,
                                                $this-&gt;zoom,
                                                $this-&gt;zoom);
// Here is an BUG ????
                  $this-&gt;pixmaps-&gt;draw_rectangle($this-&gt;style-&gt;black_gc,
                                                 true, $xi*$this-&gt;zoom, 
$yi*$this-&gt;zoom,
                                                 $this-&gt;zoom,
                                                 $this-&gt;zoom);
                  $change++;
               }
            }
         }
         if($change) {
            $this-&gt;da-&gt;queue_draw_area($x-$max, $y-$max, $max*2, $max*2);
            $this-&gt;gen_shape();
         }
         return(true);
      }


      function quit() {
         global $break_loop;
         echo "destroy &lt;br /&gt;\r\n";
         $this-&gt;destroy();
         $break_loop = 1;
         gtk::main_quit();
      }

      function configure_event($widget, $event) {
         $this-&gt;pixmap = new GdkPixmap($widget-&gt;window,
                                       $this-&gt;width*$this-&gt;zoom,
                                       $this-&gt;height*$this-&gt;zoom,
                                       -1);
         $this-&gt;pixmaps = new GdkPixmap($widget-&gt;window,
                                        $this-&gt;width*$this-&gt;zoom,
                                        $this-&gt;height*$this-&gt;zoom,
                                        1);
         $this-&gt;pixmap-&gt;draw_rectangle($widget-&gt;style-&gt;white_gc,
                                       true, 0, 0,
                                       $this-&gt;width*$this-&gt;zoom,
                                       $this-&gt;height*$this-&gt;zoom);
         $this-&gt;gc      = new GdkGc($this-&gt;da-&gt;window);
         $this-&gt;cmap    = $this-&gt;da-&gt;get_colormap();
         return true;
      }

      function draw_it($widget, $event) {
         $gc = new GdkGC($widget-&gt;window);
// BUG ???? PHP crashed with $widget-&gt;style-&gt;fg_gc
//       
$widget-&gt;window-&gt;draw_drawable($widget-&gt;style-&gt;fg_gc[$widget-&gt;state],
         $widget-&gt;window-&gt;draw_drawable($gc,
                                        $this-&gt;pixmap,
                                        $event-&gt;area-&gt;x, $event-&gt;area-&gt;y,
                                        $event-&gt;area-&gt;x, $event-&gt;area-&gt;y,
                                        $event-&gt;area-&gt;width, 
$event-&gt;area-&gt;height);
        return false;
      }

      function do_loop() {
//         while(gtk::events_pending()) {gtk::main_iteration_do(0);}
      }

      function TexReset() {
         global $tex_data;
         $width  = $this-&gt;width;
         $height = $this-&gt;height;

         $this-&gt;mx=(int)(rand()%($width/2))*2;                  // Pick 
A New Random X Position
         $this-&gt;my=(int)(rand()%($height/2))*2;                 // Pick 
A New Random Y Position

         $this-&gt;pixmap-&gt;draw_rectangle($this-&gt;style-&gt;white_gc,
                                       true, 0, 0,
                                       $this-&gt;width*$this-&gt;zoom,
                                       $this-&gt;height*$this-&gt;zoom);
// Here is an BUG ????
         $this-&gt;pixmaps-&gt;draw_rectangle($this-&gt;style-&gt;black_gc,
                                        true, 0, 0,
                                        $this-&gt;width*$this-&gt;zoom,
                                        $this-&gt;height*$this-&gt;zoom);
         if(count($tex_data) &gt; 0) {
            reset($tex_data);
            while(list($key_x) = each($tex_data)) {
               if($key_x &gt;= $width) continue;
               ksort($tex_data[$key_x]);
               reset($tex_data[$key_x]);
               while(list($key_y) = each($tex_data[$key_x])) {
                  if($key_y &gt;= $height) continue;
                  $this-&gt;TexUpdate($key_x,$key_y);
               }
               $this-&gt;gen_shape();
               $this-&gt;do_loop();
            }
            $this-&gt;gen_shape();
            $this-&gt;do_loop();
         }
         else {
            $this-&gt;tex_data = array();
         }
         $this-&gt;done = false;
      }

      function TexUpdate($dmx,$dmy) {                           // 
Update Pixel dmx, dmy On The Texture
         $dmx = (int)$dmx;
         $dmy = (int)$dmy;
         if($dmx &gt;= $this-&gt;width || $dmy &gt;= $this-&gt;height) return;

         $this-&gt;tex($dmx,$dmy,255);      // Set Red Pixel To Full Bright

         $dmx = $dmx*$this-&gt;zoom;
         $dmy = $dmy*$this-&gt;zoom;
         static $i_color = 0;
         $i_color++;
         if($i_color &gt;= 256) $i_color = 0;
         $i_color = mt_rand(0,255);
         $color = $i_color*$i_color*$i_color;

         $r = $color
         $g = ($color&amp;65280)&gt;&gt;8;
         $b = ($color&amp;16711680)&gt;&gt;16;

//         $gc = $this-&gt;style-&gt;black_gc;
         $this-&gt;gc-&gt;set_foreground($this-&gt;cmap-&gt;alloc_color($r*256, 
$g*256, $b*256));
         $gc = $this-&gt;gc;

         $this-&gt;pixmap-&gt;draw_rectangle($gc,
                                       true, $dmx, $dmy,
                                       $this-&gt;zoom,
                                       $this-&gt;zoom);
// Here is an BUG ????
         $this-&gt;pixmaps-&gt;draw_rectangle($this-&gt;style-&gt;white_gc,
                                        true, $dmx, $dmy,
                                        $this-&gt;zoom,
                                        $this-&gt;zoom);
         $this-&gt;da-&gt;queue_draw_area($dmx, $dmy, $dmx+5, $dmy+5);
      }

      function tex($dmx,$dmy,$val = -1) {
         if($val != -1) {
            $this-&gt;tex_data[$dmx][$dmy]=$val;
         }
         if(@isset($this-&gt;tex_data[$dmx][$dmy]))
            return($this-&gt;tex_data[$dmx][$dmy]);
         else
            return(0);
      }

      function TexMake() {
         global $break_loop;
         $width  = $this-&gt;width;
         $height = $this-&gt;height;
         $mx = &amp;$this-&gt;mx;
         $my = &amp;$this-&gt;my;
         $tex_data = &amp;$this-&gt;tex_data;


         if($this-&gt;done) {
            $this-&gt;TexReset();
         }

         // Check To Make Sure We Are Not Trapped (Nowhere Else To Move)
         /*
         if((($mx&gt;($width-4) || $this-&gt;tex($mx+2,$my)==255)) &amp;&amp;
            (($mx&lt;2 || $this-&gt;tex($mx-2,$my)==255)) &amp;&amp;
            (($my&gt;($height-4) || $this-&gt;tex($mx,$my+2)==255)) &amp;&amp;
            (($my&lt;2 || $this-&gt;tex($mx,$my-2)==255))) {
            do {                                                  // If 
We Are Trapped
               $mx=(int)(rand()%($width/2))*2;                    // 
Pick A New Random X Position
               $my=(int)(rand()%($height/2))*2;                   // 
Pick A New Random Y Position
               $this-&gt;do_loop();
            } while(!$break_loop &amp;&amp; $this-&gt;tex($mx,$my)==0);      // 
Keep Picking A Random Position Until We Find
         }                                                        // One 
That Has Already Been Tagged (Safe Starting Point)
         */

         static $no_found = 0;
         {

            $dir=(int)mt_rand(1,8)%4;                             // 
Pick A Random Direction
            if(($dir==0) &amp;&amp; ($mx&lt;=($width-4))) {                  // If 
The Direction Is 0 (Right) And We Are Not At The Far Right
               if($this-&gt;tex($mx+2,$my)==0) {                     // And 
If The Room To The Right Has Not Already Been Visited
                  $this-&gt;TexUpdate($mx+1,$my);                    // 
Update The Texture To Show Path Cut Out Between Rooms
                  $mx+=2;                                         // 
Move To The Right (Room To The Right)
                  $no_found = 0;
               }
               else {
                  $no_found++;
               }
            }
            else if(($dir==1) &amp;&amp; ($my&lt;=($height-4))) {            // If 
The Direction Is 1 (Down) And We Are Not At The Bottom
               if($this-&gt;tex($mx,$my+2)==0) {                     // And 
If The Room Below Has Not Already Been Visited
                  $this-&gt;TexUpdate($mx,$my+1);                    // 
Update The Texture To Show Path Cut Out Between Rooms
                  $my+=2;                                         // 
Move Down (Room Below)
                  $no_found = 0;
               }
               else {
                  $no_found++;
               }
            }
            else if(($dir==2) &amp;&amp; ($mx&gt;=2)) {                      // If 
The Direction Is 2 (Left) And We Are Not At The Far Left
               if($this-&gt;tex($mx-2,$my)==0) {                     // And 
If The Room To The Left Has Not Already Been Visited
                  $this-&gt;TexUpdate($mx-1,$my);                    // 
Update The Texture To Show Path Cut Out Between Rooms
                  $mx-=2;                                         // 
Move To The Left (Room To The Left)
                  $no_found = 0;
               }
               else {
                  $no_found++;
               }
            }
            else if(($dir==3) &amp;&amp; ($my&gt;=2)) {                      // If 
The Direction Is 3 (Up) And We Are Not At The Top
               if($this-&gt;tex($mx,$my-2)==0) {                     // And 
If The Room Above Has Not Already Been Visited
                  $this-&gt;TexUpdate($mx,$my-1);                    // 
Update The Texture To Show Path Cut Out Between Rooms
                  $my-=2;                                         // 
Move Up (Room Above)
                  $no_found = 0;
               }
               else {
                  $no_found++;
               }
            }
            if($no_found &gt;= 20) {
               $i = 0;
               $no_found = 0;
               while(!$break_loop &amp;&amp; $this-&gt;tex($mx,$my)==255) 
{                                               // If We Are Trapped
                  $i++;
/*
                  $mx=(int)(rand()%($width/2))*2;                 // 
Pick A New Random X Position
                  $my=(int)(rand()%($height/2))*2;                // 
Pick A New Random Y Position
*/
                  if($i &gt; 100 &amp;&amp; !($i%1000)) {
                     if(!($i%1000)) {
                        if($this-&gt;get_done()) {
                           return;
                        }
                        $this-&gt;mx = $this-&gt;mx_free;
                        $this-&gt;my = $this-&gt;my_free;
                        break;
                     }
                  }
               };                   // Keep Picking A Random Position 
Until We Find
            }
         }


         $this-&gt;TexUpdate($mx,$my);
         $this-&gt;gen_shape();
      }

      function get_done_A() {
         for($x=$this-&gt;mx;$x&lt;$this-&gt;width;$x+=2) {                   // 
Loop Through All The Rooms
            for($y=$this-&gt;my;$y&lt;$this-&gt;height;$y+=2) {               // 
On X And Y Axis
               if($this-&gt;tex($x,$y)==0) {                            // 
If Current Texture Pixel (Room) Is Blank
                  $this-&gt;mx_free = $x;
                  $this-&gt;my_free = $y;
                  return(false);                                     // 
We Have To Set done To False (Not Finished Yet)
               }
            }
         }
         return(true);
      }

      function get_done_B() {
         for($x=$this-&gt;mx-2;$x&gt;=0;$x-=2) {                           // 
Loop Through All The Rooms
            for($y=$this-&gt;my-2;$y&gt;=0;$y-=2) {                        // 
On X And Y Axis
               if($this-&gt;tex($x,$y)==0) {                            // 
If Current Texture Pixel (Room) Is Blank
                  $this-&gt;mx_free = $x;
                  $this-&gt;my_free = $y;
                  return(false);                                     // 
We Have To Set done To False (Not Finished Yet)
               }
            }
         }
         return(true);
      }

      function get_done_C() {
         for($x=0;$x&lt;$this-&gt;width;$x+=2) {                           // 
Loop Through All The Rooms
            for($y=0;$y&lt;$this-&gt;height;$y+=2) {                       // 
On X And Y Axis
               if($this-&gt;tex($x,$y)==0) {                            // 
If Current Texture Pixel (Room) Is Blank
                  $this-&gt;mx_free = $x;
                  $this-&gt;my_free = $y;
                  return(false);                                     // 
We Have To Set done To False (Not Finished Yet)
               }
            }
         }
         return(true);
      }

      function get_done() {
         static $c = 0;
         if(!$c) {
            $c = 1;
            if($this-&gt;get_done_A() &amp;&amp; $this-&gt;get_done_B() &amp;&amp; 
$this-&gt;get_done_C()) {
               $this-&gt;done = true;
               return(true);
            }
         }
         else {
            $c = 0;
            if($this-&gt;get_done_B() &amp;&amp; $this-&gt;get_done_A() &amp;&amp; 
$this-&gt;get_done_C()) {
               $this-&gt;done = true;
               return(true);
            }
         }
         return(false);
      }
   };

   $fun = new Fun();

   while(!$break_loop) {
      $fun-&gt;do_loop();
      if(!$break_loop) {
         $fun-&gt;TexMake();
      }
   }
?&gt;


(sorry for my english ;))
mfg xxoes

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060220075923</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-20 07:59:23-0400</timestampReceived><subject>[PHP-GTK-DEV] win32 compilation failure</subject><body>

Hello all,

The win32 build is broken again:
--------
ext\gtk+\php_gtk+_types.c(404) : error C2082: Neudefinition des formalen
Parameters "tsrm_ls"
ext\gtk+\php_gtk+_types.c(501) : error C2061: Syntaxfehler : Bezeichner
'int32_t'
ext\gtk+\php_gtk+_types.c(504) : error C2059: Syntaxfehler : '}'
--------

That would be in english:
Redefinition of the formal parameter "tsrm_ls"
syntax error: identifier int32_t
syntax error: }


It's in that code:
-----------
/* {{{ GtkTreeModel */

int phpg_model_set_row(GtkTreeModel *model, GtkTreeIter *iter, zval
*items TSRMLS_DC)
{
    gint n_cols, i;
    GtkTreeModel *child;
    GtkTreeIter child_iter;
    zval **item;
    TSRMLS_FETCH();
-----------
the last one is line 404

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060221061741</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-21 06:17:41-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] win32 compilation failure</subject><body>

should be fixed

-Andrei


On Feb 19, 2006, at 11:59 PM, Christian Weiske wrote:

&gt; Hello all,
&gt;
&gt; The win32 build is broken again:
&gt; --------
&gt; ext\gtk+\php_gtk+_types.c(404) : error C2082: Neudefinition des  
&gt; formalen
&gt; Parameters "tsrm_ls"
&gt; ext\gtk+\php_gtk+_types.c(501) : error C2061: Syntaxfehler :  
&gt; Bezeichner
&gt; 'int32_t'
&gt; ext\gtk+\php_gtk+_types.c(504) : error C2059: Syntaxfehler : '}'
&gt; --------
&gt;
&gt; That would be in english:
&gt; Redefinition of the formal parameter "tsrm_ls"
&gt; syntax error: identifier int32_t
&gt; syntax error: }
&gt;
&gt;
&gt; It's in that code:
&gt; -----------
&gt; /* {{{ GtkTreeModel */
&gt;
&gt; int phpg_model_set_row(GtkTreeModel *model, GtkTreeIter *iter, zval
&gt; *items TSRMLS_DC)
&gt; {
&gt;     gint n_cols, i;
&gt;     GtkTreeModel *child;
&gt;     GtkTreeIter child_iter;
&gt;     zval **item;
&gt;     TSRMLS_FETCH();
&gt; -----------
&gt; the last one is line 404
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060221072438</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-02-21 07:24:38-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] win32 compilation failure</subject><body>

Next error:

ext\gtk+\php_gtk+_types.c(500) : error C2061: syntax error : identifier 
'int32_t'
ext\gtk+\php_gtk+_types.c(503) : error C2059: syntax error : '}'
ext\gtk+\php_gtk+_types.c(515) : error C2275: "phpg_modelrow_t" : 
illegal use of this type as an expression
        ext\gtk+\php_gtk+_types.c(492) : see declaration of  
'phpg_modelrow_t'
ext\gtk+\php_gtk+_types.c(515) : error C2065: 'row' :  undeclared identifier
ext\gtk+\php_gtk+_types.c(521) : warning C4047: '=' : 'int' differs in 
levels of indirection from 'void *'
ext\gtk+\php_gtk+_types.c(522) : error C2223: left of '-&gt;model' must 
point to struct/union
ext\gtk+\php_gtk+_types.c(522) : error C2223: left of '-&gt;iter' must 
point to struct/union
...

It's in that code:
-----------
/* {{{ GtkTreeModelRow and GtkTreeModelRowIter */

typedef struct {
    PHPG_OBJ_HEADER
    GtkTreeModel *model;
    GtkTreeIter iter;
} phpg_modelrow_t;

typedef struct {
    PHPG_OBJ_HEADER
    GtkTreeModel *model;
    GtkTreeIter iter;
    GtkTreeIter *parent_iter;
    gboolean is_valid;
    int32_t index;
    zval *current;
    zend_object_iterator ziter;
} phpg_modelrowiter_t;

PHP_GTK_API PHP_GTK_EXPORT_CE(gtktreemodelrow_ce) = NULL;
PHP_GTK_API PHP_GTK_EXPORT_CE(gtktreemodelrowiter_ce) = NULL;

static zend_object_handlers gtktreemodelrow_handlers;
-----------

"int32_t index" is line 500


mfg xxoes

Andrei Zmievski schrieb:

&gt; should be fixed
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Feb 19, 2006, at 11:59 PM, Christian Weiske wrote:
&gt;
&gt;&gt; Hello all,
&gt;&gt;
&gt;&gt; The win32 build is broken again:
&gt;&gt; --------
&gt;&gt; ext\gtk+\php_gtk+_types.c(404) : error C2082: Neudefinition des  
&gt;&gt; formalen
&gt;&gt; Parameters "tsrm_ls"
&gt;&gt; ext\gtk+\php_gtk+_types.c(501) : error C2061: Syntaxfehler :  Bezeichner
&gt;&gt; 'int32_t'
&gt;&gt; ext\gtk+\php_gtk+_types.c(504) : error C2059: Syntaxfehler : '}'
&gt;&gt; --------
&gt;&gt;
&gt;&gt; That would be in english:
&gt;&gt; Redefinition of the formal parameter "tsrm_ls"
&gt;&gt; syntax error: identifier int32_t
&gt;&gt; syntax error: }
&gt;&gt;
&gt;&gt;
&gt;&gt; It's in that code:
&gt;&gt; -----------
&gt;&gt; /* {{{ GtkTreeModel */
&gt;&gt;
&gt;&gt; int phpg_model_set_row(GtkTreeModel *model, GtkTreeIter *iter, zval
&gt;&gt; *items TSRMLS_DC)
&gt;&gt; {
&gt;&gt;     gint n_cols, i;
&gt;&gt;     GtkTreeModel *child;
&gt;&gt;     GtkTreeIter child_iter;
&gt;&gt;     zval **item;
&gt;&gt;     TSRMLS_FETCH();
&gt;&gt; -----------
&gt;&gt; the last one is line 404
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060224050310</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-24 05:03:10-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] win32 compilation failure</subject><body>

I committed a patch. Do you still get this error?

-Andrei


On Feb 20, 2006, at 11:24 PM, xxoes wrote:

&gt; Next error:
&gt;
&gt; ext\gtk+\php_gtk+_types.c(500) : error C2061: syntax error :  
&gt; identifier 'int32_t'
&gt; ext\gtk+\php_gtk+_types.c(503) : error C2059: syntax error : '}'
&gt; ext\gtk+\php_gtk+_types.c(515) : error C2275: "phpg_modelrow_t" :  
&gt; illegal use of this type as an expression
&gt;        ext\gtk+\php_gtk+_types.c(492) : see declaration of   
&gt; 'phpg_modelrow_t'
&gt; ext\gtk+\php_gtk+_types.c(515) : error C2065: 'row' :  undeclared  
&gt; identifier
&gt; ext\gtk+\php_gtk+_types.c(521) : warning C4047: '=' : 'int' differs  
&gt; in levels of indirection from 'void *'
&gt; ext\gtk+\php_gtk+_types.c(522) : error C2223: left of '-&gt;model'  
&gt; must point to struct/union
&gt; ext\gtk+\php_gtk+_types.c(522) : error C2223: left of '-&gt;iter' must  
&gt; point to struct/union
&gt; ...
&gt;
&gt; It's in that code:
&gt; -----------
&gt; /* {{{ GtkTreeModelRow and GtkTreeModelRowIter */
&gt;
&gt; typedef struct {
&gt;    PHPG_OBJ_HEADER
&gt;    GtkTreeModel *model;
&gt;    GtkTreeIter iter;
&gt; } phpg_modelrow_t;
&gt;
&gt; typedef struct {
&gt;    PHPG_OBJ_HEADER
&gt;    GtkTreeModel *model;
&gt;    GtkTreeIter iter;
&gt;    GtkTreeIter *parent_iter;
&gt;    gboolean is_valid;
&gt;    int32_t index;
&gt;    zval *current;
&gt;    zend_object_iterator ziter;
&gt; } phpg_modelrowiter_t;
&gt;
&gt; PHP_GTK_API PHP_GTK_EXPORT_CE(gtktreemodelrow_ce) = NULL;
&gt; PHP_GTK_API PHP_GTK_EXPORT_CE(gtktreemodelrowiter_ce) = NULL;
&gt;
&gt; static zend_object_handlers gtktreemodelrow_handlers;
&gt; -----------
&gt;
&gt; "int32_t index" is line 500
&gt;
&gt;
&gt; mfg xxoes
&gt;
&gt; Andrei Zmievski schrieb:
&gt;
&gt;&gt; should be fixed
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; On Feb 19, 2006, at 11:59 PM, Christian Weiske wrote:
&gt;&gt;
&gt;&gt;&gt; Hello all,
&gt;&gt;&gt;
&gt;&gt;&gt; The win32 build is broken again:
&gt;&gt;&gt; --------
&gt;&gt;&gt; ext\gtk+\php_gtk+_types.c(404) : error C2082: Neudefinition des   
&gt;&gt;&gt; formalen
&gt;&gt;&gt; Parameters "tsrm_ls"
&gt;&gt;&gt; ext\gtk+\php_gtk+_types.c(501) : error C2061: Syntaxfehler :   
&gt;&gt;&gt; Bezeichner
&gt;&gt;&gt; 'int32_t'
&gt;&gt;&gt; ext\gtk+\php_gtk+_types.c(504) : error C2059: Syntaxfehler : '}'
&gt;&gt;&gt; --------
&gt;&gt;&gt;
&gt;&gt;&gt; That would be in english:
&gt;&gt;&gt; Redefinition of the formal parameter "tsrm_ls"
&gt;&gt;&gt; syntax error: identifier int32_t
&gt;&gt;&gt; syntax error: }
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; It's in that code:
&gt;&gt;&gt; -----------
&gt;&gt;&gt; /* {{{ GtkTreeModel */
&gt;&gt;&gt;
&gt;&gt;&gt; int phpg_model_set_row(GtkTreeModel *model, GtkTreeIter *iter, zval
&gt;&gt;&gt; *items TSRMLS_DC)
&gt;&gt;&gt; {
&gt;&gt;&gt;     gint n_cols, i;
&gt;&gt;&gt;     GtkTreeModel *child;
&gt;&gt;&gt;     GtkTreeIter child_iter;
&gt;&gt;&gt;     zval **item;
&gt;&gt;&gt;     TSRMLS_FETCH();
&gt;&gt;&gt; -----------
&gt;&gt;&gt; the last one is line 404
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt; Christian Weiske
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060224091259</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-02-24 09:12:59-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] win32 compilation failure</subject><body>

No,
but now there is a new error:

php_gtk+_types.c
ext\gtk+\php_gtk+_types.c(515) : error C2275: "phpg_modelrow_t" : 
illegal use of this type as an expression
        ext\gtk+\php_gtk+_types.c(492) : see declaration of 
'phpg_modelrow_t'
ext\gtk+\php_gtk+_types.c(515) : error C2065: 'row' : undeclared identifier
ext\gtk+\php_gtk+_types.c(521) : warning C4047: '=' : 'int' differs in 
levels of indirection from 'void *'
ext\gtk+\php_gtk+_types.c(522) : error C2223: left of '-&gt;model' must 
point to struct/union
ext\gtk+\php_gtk+_types.c(522) : error C2223: left of '-&gt;iter' must 
point to struct/union
ext\gtk+\php_gtk+_types.c(522) : warning C4047: 'Funktion' : 
'GtkTreeModel *' differs in levels of indirection from 'void ***  '
ext\gtk+\php_gtk+_types.c(522) : error C2198: 'phpg_modelrowiter_new' : 
too few actual parameters
NMAKE : fataler Fehler U1077: 'cl' : Rueckgabe-Code '0x2'



It's in that code:
-------------
static void phpg_modelrowiter_new(zval **zobj, GtkTreeModel *model, 
GtkTreeIter *parent_iter TSRMLS_DC);

static PHP_METHOD(GtkTreeModelRow, children)
{
    NOT_STATIC_METHOD();
    phpg_modelrow_t *row;

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "")) {
        return;
    }

    row = zend_object_store_get_object(this_ptr TSRMLS_CC);
    phpg_modelrowiter_new(&amp;return_value, row-&gt;model, &amp;row-&gt;iter TSRMLS_CC);
}
-------------

"phpg_modelrow_t *row;" is line 515



mfg xxoes


Andrei Zmievski schrieb:

&gt; I committed a patch. Do you still get this error?
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Feb 20, 2006, at 11:24 PM, xxoes wrote:
&gt;
&gt;&gt; Next error:
&gt;&gt;
&gt;&gt; ext\gtk+\php_gtk+_types.c(500) : error C2061: syntax error :  
&gt;&gt; identifier 'int32_t'
&gt;&gt; ext\gtk+\php_gtk+_types.c(503) : error C2059: syntax error : '}'
&gt;&gt; ext\gtk+\php_gtk+_types.c(515) : error C2275: "phpg_modelrow_t" :  
&gt;&gt; illegal use of this type as an expression
&gt;&gt;        ext\gtk+\php_gtk+_types.c(492) : see declaration of   
&gt;&gt; 'phpg_modelrow_t'
&gt;&gt; ext\gtk+\php_gtk+_types.c(515) : error C2065: 'row' :  undeclared  
&gt;&gt; identifier
&gt;&gt; ext\gtk+\php_gtk+_types.c(521) : warning C4047: '=' : 'int' differs  
&gt;&gt; in levels of indirection from 'void *'
&gt;&gt; ext\gtk+\php_gtk+_types.c(522) : error C2223: left of '-&gt;model'  must 
&gt;&gt; point to struct/union
&gt;&gt; ext\gtk+\php_gtk+_types.c(522) : error C2223: left of '-&gt;iter' must  
&gt;&gt; point to struct/union
&gt;&gt; ...
&gt;&gt;
&gt;&gt; It's in that code:
&gt;&gt; -----------
&gt;&gt; /* {{{ GtkTreeModelRow and GtkTreeModelRowIter */
&gt;&gt;
&gt;&gt; typedef struct {
&gt;&gt;    PHPG_OBJ_HEADER
&gt;&gt;    GtkTreeModel *model;
&gt;&gt;    GtkTreeIter iter;
&gt;&gt; } phpg_modelrow_t;
&gt;&gt;
&gt;&gt; typedef struct {
&gt;&gt;    PHPG_OBJ_HEADER
&gt;&gt;    GtkTreeModel *model;
&gt;&gt;    GtkTreeIter iter;
&gt;&gt;    GtkTreeIter *parent_iter;
&gt;&gt;    gboolean is_valid;
&gt;&gt;    int32_t index;
&gt;&gt;    zval *current;
&gt;&gt;    zend_object_iterator ziter;
&gt;&gt; } phpg_modelrowiter_t;
&gt;&gt;
&gt;&gt; PHP_GTK_API PHP_GTK_EXPORT_CE(gtktreemodelrow_ce) = NULL;
&gt;&gt; PHP_GTK_API PHP_GTK_EXPORT_CE(gtktreemodelrowiter_ce) = NULL;
&gt;&gt;
&gt;&gt; static zend_object_handlers gtktreemodelrow_handlers;
&gt;&gt; -----------
&gt;&gt;
&gt;&gt; "int32_t index" is line 500
&gt;&gt;
&gt;&gt;
&gt;&gt; mfg xxoes
&gt;&gt;
&gt;&gt; Andrei Zmievski schrieb:
&gt;&gt;
&gt;&gt;&gt; should be fixed
&gt;&gt;&gt;
&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Feb 19, 2006, at 11:59 PM, Christian Weiske wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Hello all,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; The win32 build is broken again:
&gt;&gt;&gt;&gt; --------
&gt;&gt;&gt;&gt; ext\gtk+\php_gtk+_types.c(404) : error C2082: Neudefinition des   
&gt;&gt;&gt;&gt; formalen
&gt;&gt;&gt;&gt; Parameters "tsrm_ls"
&gt;&gt;&gt;&gt; ext\gtk+\php_gtk+_types.c(501) : error C2061: Syntaxfehler :   
&gt;&gt;&gt;&gt; Bezeichner
&gt;&gt;&gt;&gt; 'int32_t'
&gt;&gt;&gt;&gt; ext\gtk+\php_gtk+_types.c(504) : error C2059: Syntaxfehler : '}'
&gt;&gt;&gt;&gt; --------
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; That would be in english:
&gt;&gt;&gt;&gt; Redefinition of the formal parameter "tsrm_ls"
&gt;&gt;&gt;&gt; syntax error: identifier int32_t
&gt;&gt;&gt;&gt; syntax error: }
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; It's in that code:
&gt;&gt;&gt;&gt; -----------
&gt;&gt;&gt;&gt; /* {{{ GtkTreeModel */
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; int phpg_model_set_row(GtkTreeModel *model, GtkTreeIter *iter, zval
&gt;&gt;&gt;&gt; *items TSRMLS_DC)
&gt;&gt;&gt;&gt; {
&gt;&gt;&gt;&gt;     gint n_cols, i;
&gt;&gt;&gt;&gt;     GtkTreeModel *child;
&gt;&gt;&gt;&gt;     GtkTreeIter child_iter;
&gt;&gt;&gt;&gt;     zval **item;
&gt;&gt;&gt;&gt;     TSRMLS_FETCH();
&gt;&gt;&gt;&gt; -----------
&gt;&gt;&gt;&gt; the last one is line 404
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt;&gt; Christian Weiske
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060214031844</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-14 03:18:44-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] php-gtk2 ends with an error under linux</subject><body>

The bug seems to be triggered by the call to gtk_events_pending(). I  
have no idea what's causing it. Besides, your program is really long.  
Try cutting it down to the minimum possible one that still reproduces  
the error and then we'll talk.

-Andrei


On Feb 12, 2006, at 11:55 PM, xxoes wrote:

&gt; This application run perfect under win2k || winXP but not linux
&gt;
&gt; The Application is a little bit complex,
&gt; the error happened on $this-&gt;pixmaps-&gt;draw_rectangle
&gt; and the message is:
&gt;
&gt; This probably reflects a bug in the program.
&gt; The error was 'BadMatch (invalid parameter attributes)'.
&gt;  (Details: serial 173 error_code 8 request_code 70 minor_code 0)
&gt;  (Note to programmers: normally, X errors are reported asynchronously;
&gt;   that is, you will receive the error a while after causing it.
&gt;   To debug your program, run it with the --sync command line
&gt;   option to change this behavior. You can then get a meaningful
&gt;   backtrace from your debugger if you break on the gdk_x_error()  
&gt; function.)
&gt;
&gt; When i comment out "$this-&gt;pixmaps-&gt;draw_rectangle" the app is  
&gt; working a time long.
&gt;
&gt; The first part is only for debuging:
&gt;
&gt; &lt;?PHP
&gt;   dl("php_gtk2.so");
&gt;   error_reporting(E_ALL);
&gt;   set_time_limit(0);
&gt;   ob_implicit_flush(1);
&gt;
&gt;   function ticks() {
&gt;      $res = debug_backtrace();
&gt;      if(@isset($res[1]))
&gt;         $cur = $res[1];
&gt;      else
&gt;         $cur = $res[0];
&gt;      if(!@isset($cur["file"]) || !@isset($cur["line"])) {
&gt;         $cur["file"] = "??? ".$res[0]["file"];
&gt;         $cur["line"] = "??? ".$res[0]["line"];
&gt;      }
&gt;      else {
&gt;         $cur["line"] .= " =&gt; ".$res[0]["line"];
&gt;      }
&gt;      echo $cur["file"]."(".$cur["line"].")";
&gt;      if(@isset($cur["class"])) {
&gt;         echo $cur["class"].$cur["type"].$cur["function"]."(";
&gt;         $args = "";
&gt;         for($i=0;$i&lt;count($cur["args"]);$i++) {
&gt;            if($args != "") $args .= ",";
&gt;            if(is_string($cur["args"][$i]))
&gt;               $args .= "\"".addslashes($cur["args"][$i])."\"";
&gt;            else if(is_object($cur["args"][$i]))
&gt;                $args .= "(object)".get_class($cur["args"][$i]);
&gt;            else
&gt;               $args .= $cur["args"][$i];
&gt;         }
&gt;         echo $args.")";
&gt;      }
&gt;      else if($cur["function"] != "ticks") {
&gt;         echo $cur["function"];
&gt;      }
&gt;      while(gtk::events_pending()) {gtk::main_iteration_do(1);}
&gt;      echo "\r\n";
&gt;
&gt; /*
&gt;      for($i=0;$i&lt;count($res);$i++) {
&gt;         unset($res[$i]["object"]);
&gt;         unset($res[$i]["args"]);
&gt;      }
&gt;      print_r($res);
&gt; */
&gt;   }
&gt;   register_tick_function("ticks");
&gt;   declare(ticks=1);
&gt; ?&gt;
&gt;
&gt; Thats the application:
&gt;
&gt; &lt;?PHP
&gt;   error_reporting(E_ALL | E_STRICT);
&gt;
&gt;   $break_loop = 0;
&gt;   $tex_data = array();
&gt;
&gt;   class Fun extends GtkWindow {
&gt;      protected $da;
&gt;      protected $pixmap;
&gt;      protected $pixmaps;
&gt;      protected $gc;
&gt;      protected $cmap;
&gt;
&gt;      protected $width;
&gt;      protected $height;
&gt;
&gt;      protected $mx;
&gt;      protected $my;
&gt;      protected $mx_free;
&gt;      protected $my_free;
&gt;      protected $done;
&gt;
&gt;      protected $zoom = 2;
&gt;
&gt;      public $tex_data;
&gt;
&gt;      function __construct($parent = null) {
&gt;         parent::__construct();
&gt;         $this-&gt;width  = (int)(gdk::screen_width()/$this-&gt;zoom);
&gt;         $this-&gt;height = (int)(gdk::screen_height()/$this-&gt;zoom);
&gt;
&gt;         $this-&gt;connect_simple('destroy', array(&amp;$this, 'quit'));
&gt;
&gt;         $this-&gt;set_title("Fun");
&gt;         $this-&gt;set_position(Gtk::WIN_POS_NONE);
&gt;         $this-&gt;set_default_size($this-&gt;width*$this-&gt;zoom, $this- 
&gt; &gt;height*$this-&gt;zoom);
&gt;         $this-&gt;set_border_width(0);
&gt;         $this-&gt;set_resizable(0);
&gt;         $this-&gt;set_decorated(0);
&gt;         $this-&gt;set_skip_taskbar_hint(1);
&gt;         $this-&gt;set_skip_pager_hint(1);
&gt;         $this-&gt;set_modal(1);
&gt;
&gt;         $this-&gt;__create_da();
&gt;
&gt;         $this-&gt;show_all();
&gt;
&gt;         $this-&gt;set_keep_above(1);
&gt;         $this-&gt;set_uposition(0,0);
&gt;
&gt;         mt_srand((double)microtime());
&gt;
&gt;         $this-&gt;TexReset();
&gt; //         gtk::timeout_add(1,array(&amp;$this,"timer"));
&gt;      }
&gt;
&gt;      function __create_da() {
&gt;         $this-&gt;da = new GtkDrawingArea();
&gt;         $this-&gt;da-&gt;set_size_request($this-&gt;width*$this-&gt;zoom, $this- 
&gt; &gt;height*$this-&gt;zoom);
&gt;         $this-&gt;add($this-&gt;da);
&gt;         $this-&gt;da-&gt;realize();
&gt;         $this-&gt;da-&gt;connect('configure-event', array(&amp;$this,  
&gt; 'configure_event'));
&gt;         $this-&gt;da-&gt;connect('expose-event',    array(&amp; 
&gt; $this,'draw_it'));
&gt;         $this-&gt;da-&gt;add_events(Gdk::POINTER_MOTION_MASK);
&gt;         $this-&gt;da-&gt;connect('motion-notify-event', array(&amp;$this,  
&gt; 'motion_notify_event'));
&gt;      }
&gt;
&gt;      function gen_shape() {
&gt; //         $this-&gt;shape_combine_mask($this-&gt;pixmaps,0,0);
&gt;      }
&gt;
&gt;      function motion_notify_event($widget, $event) {
&gt;         static $mouse = 0;
&gt;         $mouse++;
&gt;         if($mouse &gt;= 2) {
&gt;            global $break_loop;
&gt; //            $break_loop = 1;
&gt;         }
&gt;         $max = 10;
&gt;         $window  = $event-&gt;window;
&gt;         $x = (int)((int)$event-&gt;x_root/2)*2;
&gt;         $y = (int)($event-&gt;y_root/2)*2;
&gt;         $x = (int)($x/$this-&gt;zoom);
&gt;         $y = (int)($y/$this-&gt;zoom);
&gt;         $change = 0;
&gt;
&gt;         for($xi=$x-$max;$xi&lt;$x+$max;$xi++) {
&gt;            if($xi &lt; 0 || $xi &gt;= $this-&gt;width) continue;
&gt;            for($yi=$y-$max;$yi&lt;$y+$max;$yi++) {
&gt;               if($yi &lt; 0 || $yi &gt;= $this-&gt;height) continue;
&gt;               if(@isset($this-&gt;tex_data[$xi][$yi])) {
&gt;                  unset($this-&gt;tex_data[$xi][$yi]);
&gt;                  $this-&gt;pixmap-&gt;draw_rectangle($this-&gt;style-&gt;white_gc,
&gt;                                                true, $xi*$this- 
&gt; &gt;zoom, $yi*$this-&gt;zoom,
&gt;                                                $this-&gt;zoom,
&gt;                                                $this-&gt;zoom);
&gt; // Here is an BUG ????
&gt;                  $this-&gt;pixmaps-&gt;draw_rectangle($this-&gt;style- 
&gt; &gt;black_gc,
&gt;                                                 true, $xi*$this- 
&gt; &gt;zoom, $yi*$this-&gt;zoom,
&gt;                                                 $this-&gt;zoom,
&gt;                                                 $this-&gt;zoom);
&gt;                  $change++;
&gt;               }
&gt;            }
&gt;         }
&gt;         if($change) {
&gt;            $this-&gt;da-&gt;queue_draw_area($x-$max, $y-$max, $max*2,  
&gt; $max*2);
&gt;            $this-&gt;gen_shape();
&gt;         }
&gt;         return(true);
&gt;      }
&gt;
&gt;
&gt;      function quit() {
&gt;         global $break_loop;
&gt;         echo "destroy &lt;br /&gt;\r\n";
&gt;         $this-&gt;destroy();
&gt;         $break_loop = 1;
&gt;         gtk::main_quit();
&gt;      }
&gt;
&gt;      function configure_event($widget, $event) {
&gt;         $this-&gt;pixmap = new GdkPixmap($widget-&gt;window,
&gt;                                       $this-&gt;width*$this-&gt;zoom,
&gt;                                       $this-&gt;height*$this-&gt;zoom,
&gt;                                       -1);
&gt;         $this-&gt;pixmaps = new GdkPixmap($widget-&gt;window,
&gt;                                        $this-&gt;width*$this-&gt;zoom,
&gt;                                        $this-&gt;height*$this-&gt;zoom,
&gt;                                        1);
&gt;         $this-&gt;pixmap-&gt;draw_rectangle($widget-&gt;style-&gt;white_gc,
&gt;                                       true, 0, 0,
&gt;                                       $this-&gt;width*$this-&gt;zoom,
&gt;                                       $this-&gt;height*$this-&gt;zoom);
&gt;         $this-&gt;gc      = new GdkGc($this-&gt;da-&gt;window);
&gt;         $this-&gt;cmap    = $this-&gt;da-&gt;get_colormap();
&gt;         return true;
&gt;      }
&gt;
&gt;      function draw_it($widget, $event) {
&gt;         $gc = new GdkGC($widget-&gt;window);
&gt; // BUG ???? PHP crashed with $widget-&gt;style-&gt;fg_gc
&gt; //       $widget-&gt;window-&gt;draw_drawable($widget-&gt;style-&gt;fg_gc 
&gt; [$widget-&gt;state],
&gt;         $widget-&gt;window-&gt;draw_drawable($gc,
&gt;                                        $this-&gt;pixmap,
&gt;                                        $event-&gt;area-&gt;x, $event- 
&gt; &gt;area-&gt;y,
&gt;                                        $event-&gt;area-&gt;x, $event- 
&gt; &gt;area-&gt;y,
&gt;                                        $event-&gt;area-&gt;width, $event- 
&gt; &gt;area-&gt;height);
&gt;        return false;
&gt;      }
&gt;
&gt;      function do_loop() {
&gt; //         while(gtk::events_pending()) {gtk::main_iteration_do(0);}
&gt;      }
&gt;
&gt;      function TexReset() {
&gt;         global $tex_data;
&gt;         $width  = $this-&gt;width;
&gt;         $height = $this-&gt;height;
&gt;
&gt;         $this-&gt;mx=(int)(rand()%($width/2))*2;                  //  
&gt; Pick A New Random X Position
&gt;         $this-&gt;my=(int)(rand()%($height/2))*2;                 //  
&gt; Pick A New Random Y Position
&gt;
&gt;         $this-&gt;pixmap-&gt;draw_rectangle($this-&gt;style-&gt;white_gc,
&gt;                                       true, 0, 0,
&gt;                                       $this-&gt;width*$this-&gt;zoom,
&gt;                                       $this-&gt;height*$this-&gt;zoom);
&gt; // Here is an BUG ????
&gt;         $this-&gt;pixmaps-&gt;draw_rectangle($this-&gt;style-&gt;black_gc,
&gt;                                        true, 0, 0,
&gt;                                        $this-&gt;width*$this-&gt;zoom,
&gt;                                        $this-&gt;height*$this-&gt;zoom);
&gt;         if(count($tex_data) &gt; 0) {
&gt;            reset($tex_data);
&gt;            while(list($key_x) = each($tex_data)) {
&gt;               if($key_x &gt;= $width) continue;
&gt;               ksort($tex_data[$key_x]);
&gt;               reset($tex_data[$key_x]);
&gt;               while(list($key_y) = each($tex_data[$key_x])) {
&gt;                  if($key_y &gt;= $height) continue;
&gt;                  $this-&gt;TexUpdate($key_x,$key_y);
&gt;               }
&gt;               $this-&gt;gen_shape();
&gt;               $this-&gt;do_loop();
&gt;            }
&gt;            $this-&gt;gen_shape();
&gt;            $this-&gt;do_loop();
&gt;         }
&gt;         else {
&gt;            $this-&gt;tex_data = array();
&gt;         }
&gt;         $this-&gt;done = false;
&gt;      }
&gt;
&gt;      function TexUpdate($dmx,$dmy) {                           //  
&gt; Update Pixel dmx, dmy On The Texture
&gt;         $dmx = (int)$dmx;
&gt;         $dmy = (int)$dmy;
&gt;         if($dmx &gt;= $this-&gt;width || $dmy &gt;= $this-&gt;height) return;
&gt;
&gt;         $this-&gt;tex($dmx,$dmy,255);      // Set Red Pixel To Full  
&gt; Bright
&gt;
&gt;         $dmx = $dmx*$this-&gt;zoom;
&gt;         $dmy = $dmy*$this-&gt;zoom;
&gt;         static $i_color = 0;
&gt;         $i_color++;
&gt;         if($i_color &gt;= 256) $i_color = 0;
&gt;         $i_color = mt_rand(0,255);
&gt;         $color = $i_color*$i_color*$i_color;
&gt;
&gt;         $r = $color
&gt;         $g = ($color&amp;65280)&gt;&gt;8;
&gt;         $b = ($color&amp;16711680)&gt;&gt;16;
&gt;
&gt; //         $gc = $this-&gt;style-&gt;black_gc;
&gt;         $this-&gt;gc-&gt;set_foreground($this-&gt;cmap-&gt;alloc_color($r*256,  
&gt; $g*256, $b*256));
&gt;         $gc = $this-&gt;gc;
&gt;
&gt;         $this-&gt;pixmap-&gt;draw_rectangle($gc,
&gt;                                       true, $dmx, $dmy,
&gt;                                       $this-&gt;zoom,
&gt;                                       $this-&gt;zoom);
&gt; // Here is an BUG ????
&gt;         $this-&gt;pixmaps-&gt;draw_rectangle($this-&gt;style-&gt;white_gc,
&gt;                                        true, $dmx, $dmy,
&gt;                                        $this-&gt;zoom,
&gt;                                        $this-&gt;zoom);
&gt;         $this-&gt;da-&gt;queue_draw_area($dmx, $dmy, $dmx+5, $dmy+5);
&gt;      }
&gt;
&gt;      function tex($dmx,$dmy,$val = -1) {
&gt;         if($val != -1) {
&gt;            $this-&gt;tex_data[$dmx][$dmy]=$val;
&gt;         }
&gt;         if(@isset($this-&gt;tex_data[$dmx][$dmy]))
&gt;            return($this-&gt;tex_data[$dmx][$dmy]);
&gt;         else
&gt;            return(0);
&gt;      }
&gt;
&gt;      function TexMake() {
&gt;         global $break_loop;
&gt;         $width  = $this-&gt;width;
&gt;         $height = $this-&gt;height;
&gt;         $mx = &amp;$this-&gt;mx;
&gt;         $my = &amp;$this-&gt;my;
&gt;         $tex_data = &amp;$this-&gt;tex_data;
&gt;
&gt;
&gt;         if($this-&gt;done) {
&gt;            $this-&gt;TexReset();
&gt;         }
&gt;
&gt;         // Check To Make Sure We Are Not Trapped (Nowhere Else To  
&gt; Move)
&gt;         /*
&gt;         if((($mx&gt;($width-4) || $this-&gt;tex($mx+2,$my)==255)) &amp;&amp;
&gt;            (($mx&lt;2 || $this-&gt;tex($mx-2,$my)==255)) &amp;&amp;
&gt;            (($my&gt;($height-4) || $this-&gt;tex($mx,$my+2)==255)) &amp;&amp;
&gt;            (($my&lt;2 || $this-&gt;tex($mx,$my-2)==255))) {
&gt;            do {                                                  //  
&gt; If We Are Trapped
&gt;               $mx=(int)(rand()%($width/2))*2;                    //  
&gt; Pick A New Random X Position
&gt;               $my=(int)(rand()%($height/2))*2;                   //  
&gt; Pick A New Random Y Position
&gt;               $this-&gt;do_loop();
&gt;            } while(!$break_loop &amp;&amp; $this-&gt;tex($mx,$my)==0);      //  
&gt; Keep Picking A Random Position Until We Find
&gt;         }                                                        //  
&gt; One That Has Already Been Tagged (Safe Starting Point)
&gt;         */
&gt;
&gt;         static $no_found = 0;
&gt;         {
&gt;
&gt;            $dir=(int)mt_rand(1,8)%4;                             //  
&gt; Pick A Random Direction
&gt;            if(($dir==0) &amp;&amp; ($mx&lt;=($width-4))) {                  //  
&gt; If The Direction Is 0 (Right) And We Are Not At The Far Right
&gt;               if($this-&gt;tex($mx+2,$my)==0) {                     //  
&gt; And If The Room To The Right Has Not Already Been Visited
&gt;                  $this-&gt;TexUpdate($mx+1,$my);                    //  
&gt; Update The Texture To Show Path Cut Out Between Rooms
&gt;                  $mx+=2;                                         //  
&gt; Move To The Right (Room To The Right)
&gt;                  $no_found = 0;
&gt;               }
&gt;               else {
&gt;                  $no_found++;
&gt;               }
&gt;            }
&gt;            else if(($dir==1) &amp;&amp; ($my&lt;=($height-4))) {            //  
&gt; If The Direction Is 1 (Down) And We Are Not At The Bottom
&gt;               if($this-&gt;tex($mx,$my+2)==0) {                     //  
&gt; And If The Room Below Has Not Already Been Visited
&gt;                  $this-&gt;TexUpdate($mx,$my+1);                    //  
&gt; Update The Texture To Show Path Cut Out Between Rooms
&gt;                  $my+=2;                                         //  
&gt; Move Down (Room Below)
&gt;                  $no_found = 0;
&gt;               }
&gt;               else {
&gt;                  $no_found++;
&gt;               }
&gt;            }
&gt;            else if(($dir==2) &amp;&amp; ($mx&gt;=2)) {                      //  
&gt; If The Direction Is 2 (Left) And We Are Not At The Far Left
&gt;               if($this-&gt;tex($mx-2,$my)==0) {                     //  
&gt; And If The Room To The Left Has Not Already Been Visited
&gt;                  $this-&gt;TexUpdate($mx-1,$my);                    //  
&gt; Update The Texture To Show Path Cut Out Between Rooms
&gt;                  $mx-=2;                                         //  
&gt; Move To The Left (Room To The Left)
&gt;                  $no_found = 0;
&gt;               }
&gt;               else {
&gt;                  $no_found++;
&gt;               }
&gt;            }
&gt;            else if(($dir==3) &amp;&amp; ($my&gt;=2)) {                      //  
&gt; If The Direction Is 3 (Up) And We Are Not At The Top
&gt;               if($this-&gt;tex($mx,$my-2)==0) {                     //  
&gt; And If The Room Above Has Not Already Been Visited
&gt;                  $this-&gt;TexUpdate($mx,$my-1);                    //  
&gt; Update The Texture To Show Path Cut Out Between Rooms
&gt;                  $my-=2;                                         //  
&gt; Move Up (Room Above)
&gt;                  $no_found = 0;
&gt;               }
&gt;               else {
&gt;                  $no_found++;
&gt;               }
&gt;            }
&gt;            if($no_found &gt;= 20) {
&gt;               $i = 0;
&gt;               $no_found = 0;
&gt;               while(!$break_loop &amp;&amp; $this-&gt;tex($mx,$my)==255)  
&gt; {                                               // If We Are Trapped
&gt;                  $i++;
&gt; /*
&gt;                  $mx=(int)(rand()%($width/2))*2;                 //  
&gt; Pick A New Random X Position
&gt;                  $my=(int)(rand()%($height/2))*2;                //  
&gt; Pick A New Random Y Position
&gt; */
&gt;                  if($i &gt; 100 &amp;&amp; !($i%1000)) {
&gt;                     if(!($i%1000)) {
&gt;                        if($this-&gt;get_done()) {
&gt;                           return;
&gt;                        }
&gt;                        $this-&gt;mx = $this-&gt;mx_free;
&gt;                        $this-&gt;my = $this-&gt;my_free;
&gt;                        break;
&gt;                     }
&gt;                  }
&gt;               };                   // Keep Picking A Random  
&gt; Position Until We Find
&gt;            }
&gt;         }
&gt;
&gt;
&gt;         $this-&gt;TexUpdate($mx,$my);
&gt;         $this-&gt;gen_shape();
&gt;      }
&gt;
&gt;      function get_done_A() {
&gt;         for($x=$this-&gt;mx;$x&lt;$this-&gt;width;$x+=2)  
&gt; {                   // Loop Through All The Rooms
&gt;            for($y=$this-&gt;my;$y&lt;$this-&gt;height;$y+=2)  
&gt; {               // On X And Y Axis
&gt;               if($this-&gt;tex($x,$y)==0)  
&gt; {                            // If Current Texture Pixel (Room) Is  
&gt; Blank
&gt;                  $this-&gt;mx_free = $x;
&gt;                  $this-&gt;my_free = $y;
&gt;                  return 
&gt; (false);                                     // We Have To Set done  
&gt; To False (Not Finished Yet)
&gt;               }
&gt;            }
&gt;         }
&gt;         return(true);
&gt;      }
&gt;
&gt;      function get_done_B() {
&gt;         for($x=$this-&gt;mx-2;$x&gt;=0;$x-=2)  
&gt; {                           // Loop Through All The Rooms
&gt;            for($y=$this-&gt;my-2;$y&gt;=0;$y-=2)  
&gt; {                        // On X And Y Axis
&gt;               if($this-&gt;tex($x,$y)==0)  
&gt; {                            // If Current Texture Pixel (Room) Is  
&gt; Blank
&gt;                  $this-&gt;mx_free = $x;
&gt;                  $this-&gt;my_free = $y;
&gt;                  return 
&gt; (false);                                     // We Have To Set done  
&gt; To False (Not Finished Yet)
&gt;               }
&gt;            }
&gt;         }
&gt;         return(true);
&gt;      }
&gt;
&gt;      function get_done_C() {
&gt;         for($x=0;$x&lt;$this-&gt;width;$x+=2)  
&gt; {                           // Loop Through All The Rooms
&gt;            for($y=0;$y&lt;$this-&gt;height;$y+=2)  
&gt; {                       // On X And Y Axis
&gt;               if($this-&gt;tex($x,$y)==0)  
&gt; {                            // If Current Texture Pixel (Room) Is  
&gt; Blank
&gt;                  $this-&gt;mx_free = $x;
&gt;                  $this-&gt;my_free = $y;
&gt;                  return 
&gt; (false);                                     // We Have To Set done  
&gt; To False (Not Finished Yet)
&gt;               }
&gt;            }
&gt;         }
&gt;         return(true);
&gt;      }
&gt;
&gt;      function get_done() {
&gt;         static $c = 0;
&gt;         if(!$c) {
&gt;            $c = 1;
&gt;            if($this-&gt;get_done_A() &amp;&amp; $this-&gt;get_done_B() &amp;&amp; $this- 
&gt; &gt;get_done_C()) {
&gt;               $this-&gt;done = true;
&gt;               return(true);
&gt;            }
&gt;         }
&gt;         else {
&gt;            $c = 0;
&gt;            if($this-&gt;get_done_B() &amp;&amp; $this-&gt;get_done_A() &amp;&amp; $this- 
&gt; &gt;get_done_C()) {
&gt;               $this-&gt;done = true;
&gt;               return(true);
&gt;            }
&gt;         }
&gt;         return(false);
&gt;      }
&gt;   };
&gt;
&gt;   $fun = new Fun();
&gt;
&gt;   while(!$break_loop) {
&gt;      $fun-&gt;do_loop();
&gt;      if(!$break_loop) {
&gt;         $fun-&gt;TexMake();
&gt;      }
&gt;   }
&gt; ?&gt;
&gt;
&gt;
&gt; (sorry for my english ;))
&gt; mfg xxoes
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060207070000</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-07 07:00:00-0400</timestampReceived><subject>[PHP-GTK-DEV] Some help needed</subject><body>

Okay, I need some help. I found something weird in Gtk+ internals and  
I need one of you to post a question to the Gtk+ mailing list and see  
what they say. I'd do it myself, but I don't have the time to sign up  
and monitor the list, so I am delegating.

The question is: why doesn't gtk_tree_model_filter_finalize() invoke  
the filter-&gt;priv-&gt;visible_destroy in order to clean up the user data?  
How is the user data supposed to be cleaned up at all?

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060207071358</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-07 07:13:58-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Some help needed</subject><body>


Andrei,

&gt; what they say. I'd do it myself, but I don't have the time to sign up 
&gt; and monitor the list, so I am delegating.
I'll do that.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060224125129</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-24 12:51:29-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Some help needed</subject><body>

Andrei,

&gt; The question is: why doesn't gtk_tree_model_filter_finalize() invoke 
&gt; the filter-&gt;priv-&gt;visible_destroy in order to clean up the user data? 
&gt; How is the user data supposed to be cleaned up at all?
I sent the question twice, but nobody has answered yet.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060227162026</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-27 16:20:26-0400</timestampReceived><subject>[PHP-GTK-DEV] UTF-8 - how does the conversion work?</subject><body>


Hello readers, especiall Andrei,


How does the utf8 conversion work? All I know is that it should be done
automatically. How does php-gtk detect which charset the data are?
Does it try the php code file encoding?

What if I have values from database in iso-8859-14, but my code is utf-8?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060214073338</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-02-14 07:33:38-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] php-gtk2 ends with an error under linux</subject><body>

This is a short version.
if i set the depth of $this-&gt;pixmaps to 1, php-gtk crash/ends.
I require depth 1 because i willl use shape_combine_mask for transparent 
background.
I have test it with "gtk::events_pending" and with "gtk::main()", both 
have the same result.

&lt;?PHP
   dl("php_gtk2.so");
   error_reporting(E_ALL | E_STRICT);
   set_time_limit(0);
   ob_implicit_flush(1);

   function ticks() {
      $res = debug_backtrace();
      if(@isset($res[1]))
         $cur = $res[1];
      else
         $cur = $res[0];
      if(!@isset($cur["file"]) || !@isset($cur["line"])) {
         $cur["file"] = "??? ".$res[0]["file"];
         $cur["line"] = "??? ".$res[0]["line"];
      }
      else {
         $cur["line"] .= " =&gt; ".$res[0]["line"];
      }
      echo $cur["file"]."(".$cur["line"].")";
      if(@isset($cur["class"])) {
         echo $cur["class"].$cur["type"].$cur["function"]."(";
         $args = "";
         for($i=0;$i&lt;count($cur["args"]);$i++) {
            if($args != "") $args .= ",";
            if(is_string($cur["args"][$i]))
               $args .= "\"".addslashes($cur["args"][$i])."\"";
            else if(is_object($cur["args"][$i]))
                $args .= "(object)".get_class($cur["args"][$i]);
            else
               $args .= $cur["args"][$i];
         }
         echo $args.")";
      }
      else if($cur["function"] != "ticks") {
         echo $cur["function"];
      }
//      while(gtk::events_pending()) {gtk::main_iteration_do(1);}
      echo "\r\n";
   }

   register_tick_function("ticks");
   declare(ticks=1);

   $break_loop = 0;

   class Fun extends GtkWindow {
      protected $da;
      protected $pixmap;
      protected $pixmaps;

      protected $width;
      protected $height;

      function __construct($parent = null) {
         parent::__construct();
         $this-&gt;width  = (int)(gdk::screen_width()/4);
         $this-&gt;height = (int)(gdk::screen_height()/4);

         $this-&gt;connect_simple('destroy', array(&amp;$this, 'quit'));
         $this-&gt;set_default_size($this-&gt;width, $this-&gt;height);

         $this-&gt;__create_da();
         $this-&gt;show_all();

         mt_srand((double)microtime());
         gtk::timeout_add(1,array($this,"TexUpdate"));
      }

      function __create_da() {
         $this-&gt;da = new GtkDrawingArea();
         $this-&gt;da-&gt;set_size_request($this-&gt;width, $this-&gt;height);
         $this-&gt;add($this-&gt;da);
         $this-&gt;da-&gt;realize();
         $this-&gt;da-&gt;connect('configure-event', array(&amp;$this, 
'configure_event'));
      }

      function quit() {
         global $break_loop;
         echo "destroy &lt;br /&gt;\r\n";
         $this-&gt;destroy();
         $break_loop = 1;
         gtk::main_quit();
      }

      function configure_event($widget, $event) {
// Only depth == 1
         $this-&gt;pixmaps = new GdkPixmap($widget-&gt;window,
                                        $this-&gt;width,
                                        $this-&gt;height,
                                        1);
         return true;
      }

      function do_loop() {
         if(!function_exists("ticks"));
            while(gtk::events_pending()) {gtk::main_iteration_do(0);}
      }

      function TexUpdate() {
// Here is an BUG ????
         $this-&gt;pixmaps-&gt;draw_rectangle($this-&gt;style-&gt;white_gc,
                                        true, 10, 10,
                                        2,
                                        2);
      }
   };

   $fun = new Fun();

   gtk::main();

/*
   while(!$break_loop) {
      $fun-&gt;do_loop();
      if(!$break_loop) {
         $fun-&gt;TexUpdate(100,100);
      }
   }
*/
?&gt;

mfg xxoes


Andrei Zmievski schrieb:

&gt; The bug seems to be triggered by the call to gtk_events_pending(). I  
&gt; have no idea what's causing it. Besides, your program is really long.  
&gt; Try cutting it down to the minimum possible one that still reproduces  
&gt; the error and then we'll talk.
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Feb 12, 2006, at 11:55 PM, xxoes wrote:
&gt;
&gt;&gt; This application run perfect under win2k || winXP but not linux
&gt;&gt;
&gt;&gt; The Application is a little bit complex,
&gt;&gt; the error happened on $this-&gt;pixmaps-&gt;draw_rectangle
&gt;&gt; and the message is:
&gt;&gt;
&gt;&gt; This probably reflects a bug in the program.
&gt;&gt; The error was 'BadMatch (invalid parameter attributes)'.
&gt;&gt;  (Details: serial 173 error_code 8 request_code 70 minor_code 0)
&gt;&gt;  (Note to programmers: normally, X errors are reported asynchronously;
&gt;&gt;   that is, you will receive the error a while after causing it.
&gt;&gt;   To debug your program, run it with the --sync command line
&gt;&gt;   option to change this behavior. You can then get a meaningful
&gt;&gt;   backtrace from your debugger if you break on the gdk_x_error()  
&gt;&gt; function.)
&gt;&gt;
&gt;&gt; When i comment out "$this-&gt;pixmaps-&gt;draw_rectangle" the app is  
&gt;&gt; working a time long.
&gt;&gt;
&gt;&gt; The first part is only for debuging:
&gt;&gt;
&gt;&gt; &lt;?PHP
&gt;&gt;   dl("php_gtk2.so");
&gt;&gt;   error_reporting(E_ALL);
&gt;&gt;   set_time_limit(0);
&gt;&gt;   ob_implicit_flush(1);
&gt;&gt;
&gt;&gt;   function ticks() {
&gt;&gt;      $res = debug_backtrace();
&gt;&gt;      if(@isset($res[1]))
&gt;&gt;         $cur = $res[1];
&gt;&gt;      else
&gt;&gt;         $cur = $res[0];
&gt;&gt;      if(!@isset($cur["file"]) || !@isset($cur["line"])) {
&gt;&gt;         $cur["file"] = "??? ".$res[0]["file"];
&gt;&gt;         $cur["line"] = "??? ".$res[0]["line"];
&gt;&gt;      }
&gt;&gt;      else {
&gt;&gt;         $cur["line"] .= " =&gt; ".$res[0]["line"];
&gt;&gt;      }
&gt;&gt;      echo $cur["file"]."(".$cur["line"].")";
&gt;&gt;      if(@isset($cur["class"])) {
&gt;&gt;         echo $cur["class"].$cur["type"].$cur["function"]."(";
&gt;&gt;         $args = "";
&gt;&gt;         for($i=0;$i&lt;count($cur["args"]);$i++) {
&gt;&gt;            if($args != "") $args .= ",";
&gt;&gt;            if(is_string($cur["args"][$i]))
&gt;&gt;               $args .= "\"".addslashes($cur["args"][$i])."\"";
&gt;&gt;            else if(is_object($cur["args"][$i]))
&gt;&gt;                $args .= "(object)".get_class($cur["args"][$i]);
&gt;&gt;            else
&gt;&gt;               $args .= $cur["args"][$i];
&gt;&gt;         }
&gt;&gt;         echo $args.")";
&gt;&gt;      }
&gt;&gt;      else if($cur["function"] != "ticks") {
&gt;&gt;         echo $cur["function"];
&gt;&gt;      }
&gt;&gt;      while(gtk::events_pending()) {gtk::main_iteration_do(1);}
&gt;&gt;      echo "\r\n";
&gt;&gt;
&gt;&gt; /*
&gt;&gt;      for($i=0;$i&lt;count($res);$i++) {
&gt;&gt;         unset($res[$i]["object"]);
&gt;&gt;         unset($res[$i]["args"]);
&gt;&gt;      }
&gt;&gt;      print_r($res);
&gt;&gt; */
&gt;&gt;   }
&gt;&gt;   register_tick_function("ticks");
&gt;&gt;   declare(ticks=1);
&gt;&gt; ?&gt;
&gt;&gt;
&gt;&gt; Thats the application:
&gt;&gt;
&gt;&gt; &lt;?PHP
&gt;&gt;   error_reporting(E_ALL | E_STRICT);
&gt;&gt;
&gt;&gt;   $break_loop = 0;
&gt;&gt;   $tex_data = array();
&gt;&gt;
&gt;&gt;   class Fun extends GtkWindow {
&gt;&gt;      protected $da;
&gt;&gt;      protected $pixmap;
&gt;&gt;      protected $pixmaps;
&gt;&gt;      protected $gc;
&gt;&gt;      protected $cmap;
&gt;&gt;
&gt;&gt;      protected $width;
&gt;&gt;      protected $height;
&gt;&gt;
&gt;&gt;      protected $mx;
&gt;&gt;      protected $my;
&gt;&gt;      protected $mx_free;
&gt;&gt;      protected $my_free;
&gt;&gt;      protected $done;
&gt;&gt;
&gt;&gt;      protected $zoom = 2;
&gt;&gt;
&gt;&gt;      public $tex_data;
&gt;&gt;
&gt;&gt;      function __construct($parent = null) {
&gt;&gt;         parent::__construct();
&gt;&gt;         $this-&gt;width  = (int)(gdk::screen_width()/$this-&gt;zoom);
&gt;&gt;         $this-&gt;height = (int)(gdk::screen_height()/$this-&gt;zoom);
&gt;&gt;
&gt;&gt;         $this-&gt;connect_simple('destroy', array(&amp;$this, 'quit'));
&gt;&gt;
&gt;&gt;         $this-&gt;set_title("Fun");
&gt;&gt;         $this-&gt;set_position(Gtk::WIN_POS_NONE);
&gt;&gt;         $this-&gt;set_default_size($this-&gt;width*$this-&gt;zoom, $this- 
&gt;&gt; &gt;height*$this-&gt;zoom);
&gt;&gt;         $this-&gt;set_border_width(0);
&gt;&gt;         $this-&gt;set_resizable(0);
&gt;&gt;         $this-&gt;set_decorated(0);
&gt;&gt;         $this-&gt;set_skip_taskbar_hint(1);
&gt;&gt;         $this-&gt;set_skip_pager_hint(1);
&gt;&gt;         $this-&gt;set_modal(1);
&gt;&gt;
&gt;&gt;         $this-&gt;__create_da();
&gt;&gt;
&gt;&gt;         $this-&gt;show_all();
&gt;&gt;
&gt;&gt;         $this-&gt;set_keep_above(1);
&gt;&gt;         $this-&gt;set_uposition(0,0);
&gt;&gt;
&gt;&gt;         mt_srand((double)microtime());
&gt;&gt;
&gt;&gt;         $this-&gt;TexReset();
&gt;&gt; //         gtk::timeout_add(1,array(&amp;$this,"timer"));
&gt;&gt;      }
&gt;&gt;
&gt;&gt;      function __create_da() {
&gt;&gt;         $this-&gt;da = new GtkDrawingArea();
&gt;&gt;         $this-&gt;da-&gt;set_size_request($this-&gt;width*$this-&gt;zoom, $this- 
&gt;&gt; &gt;height*$this-&gt;zoom);
&gt;&gt;         $this-&gt;add($this-&gt;da);
&gt;&gt;         $this-&gt;da-&gt;realize();
&gt;&gt;         $this-&gt;da-&gt;connect('configure-event', array(&amp;$this,  
&gt;&gt; 'configure_event'));
&gt;&gt;         $this-&gt;da-&gt;connect('expose-event',    array(&amp; $this,'draw_it'));
&gt;&gt;         $this-&gt;da-&gt;add_events(Gdk::POINTER_MOTION_MASK);
&gt;&gt;         $this-&gt;da-&gt;connect('motion-notify-event', array(&amp;$this,  
&gt;&gt; 'motion_notify_event'));
&gt;&gt;      }
&gt;&gt;
&gt;&gt;      function gen_shape() {
&gt;&gt; //         $this-&gt;shape_combine_mask($this-&gt;pixmaps,0,0);
&gt;&gt;      }
&gt;&gt;
&gt;&gt;      function motion_notify_event($widget, $event) {
&gt;&gt;         static $mouse = 0;
&gt;&gt;         $mouse++;
&gt;&gt;         if($mouse &gt;= 2) {
&gt;&gt;            global $break_loop;
&gt;&gt; //            $break_loop = 1;
&gt;&gt;         }
&gt;&gt;         $max = 10;
&gt;&gt;         $window  = $event-&gt;window;
&gt;&gt;         $x = (int)((int)$event-&gt;x_root/2)*2;
&gt;&gt;         $y = (int)($event-&gt;y_root/2)*2;
&gt;&gt;         $x = (int)($x/$this-&gt;zoom);
&gt;&gt;         $y = (int)($y/$this-&gt;zoom);
&gt;&gt;         $change = 0;
&gt;&gt;
&gt;&gt;         for($xi=$x-$max;$xi&lt;$x+$max;$xi++) {
&gt;&gt;            if($xi &lt; 0 || $xi &gt;= $this-&gt;width) continue;
&gt;&gt;            for($yi=$y-$max;$yi&lt;$y+$max;$yi++) {
&gt;&gt;               if($yi &lt; 0 || $yi &gt;= $this-&gt;height) continue;
&gt;&gt;               if(@isset($this-&gt;tex_data[$xi][$yi])) {
&gt;&gt;                  unset($this-&gt;tex_data[$xi][$yi]);
&gt;&gt;                  $this-&gt;pixmap-&gt;draw_rectangle($this-&gt;style-&gt;white_gc,
&gt;&gt;                                                true, $xi*$this- 
&gt;&gt; &gt;zoom, $yi*$this-&gt;zoom,
&gt;&gt;                                                $this-&gt;zoom,
&gt;&gt;                                                $this-&gt;zoom);
&gt;&gt; // Here is an BUG ????
&gt;&gt;                  $this-&gt;pixmaps-&gt;draw_rectangle($this-&gt;style- &gt;black_gc,
&gt;&gt;                                                 true, $xi*$this- 
&gt;&gt; &gt;zoom, $yi*$this-&gt;zoom,
&gt;&gt;                                                 $this-&gt;zoom,
&gt;&gt;                                                 $this-&gt;zoom);
&gt;&gt;                  $change++;
&gt;&gt;               }
&gt;&gt;            }
&gt;&gt;         }
&gt;&gt;         if($change) {
&gt;&gt;            $this-&gt;da-&gt;queue_draw_area($x-$max, $y-$max, $max*2,  
&gt;&gt; $max*2);
&gt;&gt;            $this-&gt;gen_shape();
&gt;&gt;         }
&gt;&gt;         return(true);
&gt;&gt;      }
&gt;&gt;
&gt;&gt;
&gt;&gt;      function quit() {
&gt;&gt;         global $break_loop;
&gt;&gt;         echo "destroy &lt;br /&gt;\r\n";
&gt;&gt;         $this-&gt;destroy();
&gt;&gt;         $break_loop = 1;
&gt;&gt;         gtk::main_quit();
&gt;&gt;      }
&gt;&gt;
&gt;&gt;      function configure_event($widget, $event) {
&gt;&gt;         $this-&gt;pixmap = new GdkPixmap($widget-&gt;window,
&gt;&gt;                                       $this-&gt;width*$this-&gt;zoom,
&gt;&gt;                                       $this-&gt;height*$this-&gt;zoom,
&gt;&gt;                                       -1);
&gt;&gt;         $this-&gt;pixmaps = new GdkPixmap($widget-&gt;window,
&gt;&gt;                                        $this-&gt;width*$this-&gt;zoom,
&gt;&gt;                                        $this-&gt;height*$this-&gt;zoom,
&gt;&gt;                                        1);
&gt;&gt;         $this-&gt;pixmap-&gt;draw_rectangle($widget-&gt;style-&gt;white_gc,
&gt;&gt;                                       true, 0, 0,
&gt;&gt;                                       $this-&gt;width*$this-&gt;zoom,
&gt;&gt;                                       $this-&gt;height*$this-&gt;zoom);
&gt;&gt;         $this-&gt;gc      = new GdkGc($this-&gt;da-&gt;window);
&gt;&gt;         $this-&gt;cmap    = $this-&gt;da-&gt;get_colormap();
&gt;&gt;         return true;
&gt;&gt;      }
&gt;&gt;
&gt;&gt;      function draw_it($widget, $event) {
&gt;&gt;         $gc = new GdkGC($widget-&gt;window);
&gt;&gt; // BUG ???? PHP crashed with $widget-&gt;style-&gt;fg_gc
&gt;&gt; //       $widget-&gt;window-&gt;draw_drawable($widget-&gt;style-&gt;fg_gc 
&gt;&gt; [$widget-&gt;state],
&gt;&gt;         $widget-&gt;window-&gt;draw_drawable($gc,
&gt;&gt;                                        $this-&gt;pixmap,
&gt;&gt;                                        $event-&gt;area-&gt;x, $event- 
&gt;&gt; &gt;area-&gt;y,
&gt;&gt;                                        $event-&gt;area-&gt;x, $event- 
&gt;&gt; &gt;area-&gt;y,
&gt;&gt;                                        $event-&gt;area-&gt;width, $event- 
&gt;&gt; &gt;area-&gt;height);
&gt;&gt;        return false;
&gt;&gt;      }
&gt;&gt;
&gt;&gt;      function do_loop() {
&gt;&gt; //         while(gtk::events_pending()) {gtk::main_iteration_do(0);}
&gt;&gt;      }
&gt;&gt;
&gt;&gt;      function TexReset() {
&gt;&gt;         global $tex_data;
&gt;&gt;         $width  = $this-&gt;width;
&gt;&gt;         $height = $this-&gt;height;
&gt;&gt;
&gt;&gt;         $this-&gt;mx=(int)(rand()%($width/2))*2;                  //  
&gt;&gt; Pick A New Random X Position
&gt;&gt;         $this-&gt;my=(int)(rand()%($height/2))*2;                 //  
&gt;&gt; Pick A New Random Y Position
&gt;&gt;
&gt;&gt;         $this-&gt;pixmap-&gt;draw_rectangle($this-&gt;style-&gt;white_gc,
&gt;&gt;                                       true, 0, 0,
&gt;&gt;                                       $this-&gt;width*$this-&gt;zoom,
&gt;&gt;                                       $this-&gt;height*$this-&gt;zoom);
&gt;&gt; // Here is an BUG ????
&gt;&gt;         $this-&gt;pixmaps-&gt;draw_rectangle($this-&gt;style-&gt;black_gc,
&gt;&gt;                                        true, 0, 0,
&gt;&gt;                                        $this-&gt;width*$this-&gt;zoom,
&gt;&gt;                                        $this-&gt;height*$this-&gt;zoom);
&gt;&gt;         if(count($tex_data) &gt; 0) {
&gt;&gt;            reset($tex_data);
&gt;&gt;            while(list($key_x) = each($tex_data)) {
&gt;&gt;               if($key_x &gt;= $width) continue;
&gt;&gt;               ksort($tex_data[$key_x]);
&gt;&gt;               reset($tex_data[$key_x]);
&gt;&gt;               while(list($key_y) = each($tex_data[$key_x])) {
&gt;&gt;                  if($key_y &gt;= $height) continue;
&gt;&gt;                  $this-&gt;TexUpdate($key_x,$key_y);
&gt;&gt;               }
&gt;&gt;               $this-&gt;gen_shape();
&gt;&gt;               $this-&gt;do_loop();
&gt;&gt;            }
&gt;&gt;            $this-&gt;gen_shape();
&gt;&gt;            $this-&gt;do_loop();
&gt;&gt;         }
&gt;&gt;         else {
&gt;&gt;            $this-&gt;tex_data = array();
&gt;&gt;         }
&gt;&gt;         $this-&gt;done = false;
&gt;&gt;      }
&gt;&gt;
&gt;&gt;      function TexUpdate($dmx,$dmy) {                           //  
&gt;&gt; Update Pixel dmx, dmy On The Texture
&gt;&gt;         $dmx = (int)$dmx;
&gt;&gt;         $dmy = (int)$dmy;
&gt;&gt;         if($dmx &gt;= $this-&gt;width || $dmy &gt;= $this-&gt;height) return;
&gt;&gt;
&gt;&gt;         $this-&gt;tex($dmx,$dmy,255);      // Set Red Pixel To Full  Bright
&gt;&gt;
&gt;&gt;         $dmx = $dmx*$this-&gt;zoom;
&gt;&gt;         $dmy = $dmy*$this-&gt;zoom;
&gt;&gt;         static $i_color = 0;
&gt;&gt;         $i_color++;
&gt;&gt;         if($i_color &gt;= 256) $i_color = 0;
&gt;&gt;         $i_color = mt_rand(0,255);
&gt;&gt;         $color = $i_color*$i_color*$i_color;
&gt;&gt;
&gt;&gt;         $r = $color
&gt;&gt;         $g = ($color&amp;65280)&gt;&gt;8;
&gt;&gt;         $b = ($color&amp;16711680)&gt;&gt;16;
&gt;&gt;
&gt;&gt; //         $gc = $this-&gt;style-&gt;black_gc;
&gt;&gt;         $this-&gt;gc-&gt;set_foreground($this-&gt;cmap-&gt;alloc_color($r*256,  
&gt;&gt; $g*256, $b*256));
&gt;&gt;         $gc = $this-&gt;gc;
&gt;&gt;
&gt;&gt;         $this-&gt;pixmap-&gt;draw_rectangle($gc,
&gt;&gt;                                       true, $dmx, $dmy,
&gt;&gt;                                       $this-&gt;zoom,
&gt;&gt;                                       $this-&gt;zoom);
&gt;&gt; // Here is an BUG ????
&gt;&gt;         $this-&gt;pixmaps-&gt;draw_rectangle($this-&gt;style-&gt;white_gc,
&gt;&gt;                                        true, $dmx, $dmy,
&gt;&gt;                                        $this-&gt;zoom,
&gt;&gt;                                        $this-&gt;zoom);
&gt;&gt;         $this-&gt;da-&gt;queue_draw_area($dmx, $dmy, $dmx+5, $dmy+5);
&gt;&gt;      }
&gt;&gt;
&gt;&gt;      function tex($dmx,$dmy,$val = -1) {
&gt;&gt;         if($val != -1) {
&gt;&gt;            $this-&gt;tex_data[$dmx][$dmy]=$val;
&gt;&gt;         }
&gt;&gt;         if(@isset($this-&gt;tex_data[$dmx][$dmy]))
&gt;&gt;            return($this-&gt;tex_data[$dmx][$dmy]);
&gt;&gt;         else
&gt;&gt;            return(0);
&gt;&gt;      }
&gt;&gt;
&gt;&gt;      function TexMake() {
&gt;&gt;         global $break_loop;
&gt;&gt;         $width  = $this-&gt;width;
&gt;&gt;         $height = $this-&gt;height;
&gt;&gt;         $mx = &amp;$this-&gt;mx;
&gt;&gt;         $my = &amp;$this-&gt;my;
&gt;&gt;         $tex_data = &amp;$this-&gt;tex_data;
&gt;&gt;
&gt;&gt;
&gt;&gt;         if($this-&gt;done) {
&gt;&gt;            $this-&gt;TexReset();
&gt;&gt;         }
&gt;&gt;
&gt;&gt;         // Check To Make Sure We Are Not Trapped (Nowhere Else To  Move)
&gt;&gt;         /*
&gt;&gt;         if((($mx&gt;($width-4) || $this-&gt;tex($mx+2,$my)==255)) &amp;&amp;
&gt;&gt;            (($mx&lt;2 || $this-&gt;tex($mx-2,$my)==255)) &amp;&amp;
&gt;&gt;            (($my&gt;($height-4) || $this-&gt;tex($mx,$my+2)==255)) &amp;&amp;
&gt;&gt;            (($my&lt;2 || $this-&gt;tex($mx,$my-2)==255))) {
&gt;&gt;            do {                                                  //  
&gt;&gt; If We Are Trapped
&gt;&gt;               $mx=(int)(rand()%($width/2))*2;                    //  
&gt;&gt; Pick A New Random X Position
&gt;&gt;               $my=(int)(rand()%($height/2))*2;                   //  
&gt;&gt; Pick A New Random Y Position
&gt;&gt;               $this-&gt;do_loop();
&gt;&gt;            } while(!$break_loop &amp;&amp; $this-&gt;tex($mx,$my)==0);      //  
&gt;&gt; Keep Picking A Random Position Until We Find
&gt;&gt;         }                                                        //  
&gt;&gt; One That Has Already Been Tagged (Safe Starting Point)
&gt;&gt;         */
&gt;&gt;
&gt;&gt;         static $no_found = 0;
&gt;&gt;         {
&gt;&gt;
&gt;&gt;            $dir=(int)mt_rand(1,8)%4;                             //  
&gt;&gt; Pick A Random Direction
&gt;&gt;            if(($dir==0) &amp;&amp; ($mx&lt;=($width-4))) {                  //  
&gt;&gt; If The Direction Is 0 (Right) And We Are Not At The Far Right
&gt;&gt;               if($this-&gt;tex($mx+2,$my)==0) {                     //  
&gt;&gt; And If The Room To The Right Has Not Already Been Visited
&gt;&gt;                  $this-&gt;TexUpdate($mx+1,$my);                    //  
&gt;&gt; Update The Texture To Show Path Cut Out Between Rooms
&gt;&gt;                  $mx+=2;                                         //  
&gt;&gt; Move To The Right (Room To The Right)
&gt;&gt;                  $no_found = 0;
&gt;&gt;               }
&gt;&gt;               else {
&gt;&gt;                  $no_found++;
&gt;&gt;               }
&gt;&gt;            }
&gt;&gt;            else if(($dir==1) &amp;&amp; ($my&lt;=($height-4))) {            //  
&gt;&gt; If The Direction Is 1 (Down) And We Are Not At The Bottom
&gt;&gt;               if($this-&gt;tex($mx,$my+2)==0) {                     //  
&gt;&gt; And If The Room Below Has Not Already Been Visited
&gt;&gt;                  $this-&gt;TexUpdate($mx,$my+1);                    //  
&gt;&gt; Update The Texture To Show Path Cut Out Between Rooms
&gt;&gt;                  $my+=2;                                         //  
&gt;&gt; Move Down (Room Below)
&gt;&gt;                  $no_found = 0;
&gt;&gt;               }
&gt;&gt;               else {
&gt;&gt;                  $no_found++;
&gt;&gt;               }
&gt;&gt;            }
&gt;&gt;            else if(($dir==2) &amp;&amp; ($mx&gt;=2)) {                      //  
&gt;&gt; If The Direction Is 2 (Left) And We Are Not At The Far Left
&gt;&gt;               if($this-&gt;tex($mx-2,$my)==0) {                     //  
&gt;&gt; And If The Room To The Left Has Not Already Been Visited
&gt;&gt;                  $this-&gt;TexUpdate($mx-1,$my);                    //  
&gt;&gt; Update The Texture To Show Path Cut Out Between Rooms
&gt;&gt;                  $mx-=2;                                         //  
&gt;&gt; Move To The Left (Room To The Left)
&gt;&gt;                  $no_found = 0;
&gt;&gt;               }
&gt;&gt;               else {
&gt;&gt;                  $no_found++;
&gt;&gt;               }
&gt;&gt;            }
&gt;&gt;            else if(($dir==3) &amp;&amp; ($my&gt;=2)) {                      //  
&gt;&gt; If The Direction Is 3 (Up) And We Are Not At The Top
&gt;&gt;               if($this-&gt;tex($mx,$my-2)==0) {                     //  
&gt;&gt; And If The Room Above Has Not Already Been Visited
&gt;&gt;                  $this-&gt;TexUpdate($mx,$my-1);                    //  
&gt;&gt; Update The Texture To Show Path Cut Out Between Rooms
&gt;&gt;                  $my-=2;                                         //  
&gt;&gt; Move Up (Room Above)
&gt;&gt;                  $no_found = 0;
&gt;&gt;               }
&gt;&gt;               else {
&gt;&gt;                  $no_found++;
&gt;&gt;               }
&gt;&gt;            }
&gt;&gt;            if($no_found &gt;= 20) {
&gt;&gt;               $i = 0;
&gt;&gt;               $no_found = 0;
&gt;&gt;               while(!$break_loop &amp;&amp; $this-&gt;tex($mx,$my)==255)  
&gt;&gt; {                                               // If We Are Trapped
&gt;&gt;                  $i++;
&gt;&gt; /*
&gt;&gt;                  $mx=(int)(rand()%($width/2))*2;                 //  
&gt;&gt; Pick A New Random X Position
&gt;&gt;                  $my=(int)(rand()%($height/2))*2;                //  
&gt;&gt; Pick A New Random Y Position
&gt;&gt; */
&gt;&gt;                  if($i &gt; 100 &amp;&amp; !($i%1000)) {
&gt;&gt;                     if(!($i%1000)) {
&gt;&gt;                        if($this-&gt;get_done()) {
&gt;&gt;                           return;
&gt;&gt;                        }
&gt;&gt;                        $this-&gt;mx = $this-&gt;mx_free;
&gt;&gt;                        $this-&gt;my = $this-&gt;my_free;
&gt;&gt;                        break;
&gt;&gt;                     }
&gt;&gt;                  }
&gt;&gt;               };                   // Keep Picking A Random  Position 
&gt;&gt; Until We Find
&gt;&gt;            }
&gt;&gt;         }
&gt;&gt;
&gt;&gt;
&gt;&gt;         $this-&gt;TexUpdate($mx,$my);
&gt;&gt;         $this-&gt;gen_shape();
&gt;&gt;      }
&gt;&gt;
&gt;&gt;      function get_done_A() {
&gt;&gt;         for($x=$this-&gt;mx;$x&lt;$this-&gt;width;$x+=2)  {                   
&gt;&gt; // Loop Through All The Rooms
&gt;&gt;            for($y=$this-&gt;my;$y&lt;$this-&gt;height;$y+=2)  {               
&gt;&gt; // On X And Y Axis
&gt;&gt;               if($this-&gt;tex($x,$y)==0)  {                            
&gt;&gt; // If Current Texture Pixel (Room) Is  Blank
&gt;&gt;                  $this-&gt;mx_free = $x;
&gt;&gt;                  $this-&gt;my_free = $y;
&gt;&gt;                  return (false);                                     
&gt;&gt; // We Have To Set done  To False (Not Finished Yet)
&gt;&gt;               }
&gt;&gt;            }
&gt;&gt;         }
&gt;&gt;         return(true);
&gt;&gt;      }
&gt;&gt;
&gt;&gt;      function get_done_B() {
&gt;&gt;         for($x=$this-&gt;mx-2;$x&gt;=0;$x-=2)  {                           
&gt;&gt; // Loop Through All The Rooms
&gt;&gt;            for($y=$this-&gt;my-2;$y&gt;=0;$y-=2)  {                        
&gt;&gt; // On X And Y Axis
&gt;&gt;               if($this-&gt;tex($x,$y)==0)  {                            
&gt;&gt; // If Current Texture Pixel (Room) Is  Blank
&gt;&gt;                  $this-&gt;mx_free = $x;
&gt;&gt;                  $this-&gt;my_free = $y;
&gt;&gt;                  return (false);                                     
&gt;&gt; // We Have To Set done  To False (Not Finished Yet)
&gt;&gt;               }
&gt;&gt;            }
&gt;&gt;         }
&gt;&gt;         return(true);
&gt;&gt;      }
&gt;&gt;
&gt;&gt;      function get_done_C() {
&gt;&gt;         for($x=0;$x&lt;$this-&gt;width;$x+=2)  {                           
&gt;&gt; // Loop Through All The Rooms
&gt;&gt;            for($y=0;$y&lt;$this-&gt;height;$y+=2)  {                       
&gt;&gt; // On X And Y Axis
&gt;&gt;               if($this-&gt;tex($x,$y)==0)  {                            
&gt;&gt; // If Current Texture Pixel (Room) Is  Blank
&gt;&gt;                  $this-&gt;mx_free = $x;
&gt;&gt;                  $this-&gt;my_free = $y;
&gt;&gt;                  return (false);                                     
&gt;&gt; // We Have To Set done  To False (Not Finished Yet)
&gt;&gt;               }
&gt;&gt;            }
&gt;&gt;         }
&gt;&gt;         return(true);
&gt;&gt;      }
&gt;&gt;
&gt;&gt;      function get_done() {
&gt;&gt;         static $c = 0;
&gt;&gt;         if(!$c) {
&gt;&gt;            $c = 1;
&gt;&gt;            if($this-&gt;get_done_A() &amp;&amp; $this-&gt;get_done_B() &amp;&amp; $this- 
&gt;&gt; &gt;get_done_C()) {
&gt;&gt;               $this-&gt;done = true;
&gt;&gt;               return(true);
&gt;&gt;            }
&gt;&gt;         }
&gt;&gt;         else {
&gt;&gt;            $c = 0;
&gt;&gt;            if($this-&gt;get_done_B() &amp;&amp; $this-&gt;get_done_A() &amp;&amp; $this- 
&gt;&gt; &gt;get_done_C()) {
&gt;&gt;               $this-&gt;done = true;
&gt;&gt;               return(true);
&gt;&gt;            }
&gt;&gt;         }
&gt;&gt;         return(false);
&gt;&gt;      }
&gt;&gt;   };
&gt;&gt;
&gt;&gt;   $fun = new Fun();
&gt;&gt;
&gt;&gt;   while(!$break_loop) {
&gt;&gt;      $fun-&gt;do_loop();
&gt;&gt;      if(!$break_loop) {
&gt;&gt;         $fun-&gt;TexMake();
&gt;&gt;      }
&gt;&gt;   }
&gt;&gt; ?&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; (sorry for my english ;))
&gt;&gt; mfg xxoes
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060214165642</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-14 16:56:42-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] php-gtk2 ends with an error under linux</subject><body>

Have you tried not using ticks?

-Andrei


On Feb 13, 2006, at 11:33 PM, xxoes wrote:

&gt; This is a short version.
&gt; if i set the depth of $this-&gt;pixmaps to 1, php-gtk crash/ends.
&gt; I require depth 1 because i willl use shape_combine_mask for  
&gt; transparent background.
&gt; I have test it with "gtk::events_pending" and with "gtk::main()",  
&gt; both have the same result.
&gt;
&gt; &lt;?PHP
&gt;   dl("php_gtk2.so");
&gt;   error_reporting(E_ALL | E_STRICT);
&gt;   set_time_limit(0);
&gt;   ob_implicit_flush(1);
&gt;
&gt;   function ticks() {
&gt;      $res = debug_backtrace();
&gt;      if(@isset($res[1]))
&gt;         $cur = $res[1];
&gt;      else
&gt;         $cur = $res[0];
&gt;      if(!@isset($cur["file"]) || !@isset($cur["line"])) {
&gt;         $cur["file"] = "??? ".$res[0]["file"];
&gt;         $cur["line"] = "??? ".$res[0]["line"];
&gt;      }
&gt;      else {
&gt;         $cur["line"] .= " =&gt; ".$res[0]["line"];
&gt;      }
&gt;      echo $cur["file"]."(".$cur["line"].")";
&gt;      if(@isset($cur["class"])) {
&gt;         echo $cur["class"].$cur["type"].$cur["function"]."(";
&gt;         $args = "";
&gt;         for($i=0;$i&lt;count($cur["args"]);$i++) {
&gt;            if($args != "") $args .= ",";
&gt;            if(is_string($cur["args"][$i]))
&gt;               $args .= "\"".addslashes($cur["args"][$i])."\"";
&gt;            else if(is_object($cur["args"][$i]))
&gt;                $args .= "(object)".get_class($cur["args"][$i]);
&gt;            else
&gt;               $args .= $cur["args"][$i];
&gt;         }
&gt;         echo $args.")";
&gt;      }
&gt;      else if($cur["function"] != "ticks") {
&gt;         echo $cur["function"];
&gt;      }
&gt; //      while(gtk::events_pending()) {gtk::main_iteration_do(1);}
&gt;      echo "\r\n";
&gt;   }
&gt;
&gt;   register_tick_function("ticks");
&gt;   declare(ticks=1);
&gt;
&gt;   $break_loop = 0;
&gt;
&gt;   class Fun extends GtkWindow {
&gt;      protected $da;
&gt;      protected $pixmap;
&gt;      protected $pixmaps;
&gt;
&gt;      protected $width;
&gt;      protected $height;
&gt;
&gt;      function __construct($parent = null) {
&gt;         parent::__construct();
&gt;         $this-&gt;width  = (int)(gdk::screen_width()/4);
&gt;         $this-&gt;height = (int)(gdk::screen_height()/4);
&gt;
&gt;         $this-&gt;connect_simple('destroy', array(&amp;$this, 'quit'));
&gt;         $this-&gt;set_default_size($this-&gt;width, $this-&gt;height);
&gt;
&gt;         $this-&gt;__create_da();
&gt;         $this-&gt;show_all();
&gt;
&gt;         mt_srand((double)microtime());
&gt;         gtk::timeout_add(1,array($this,"TexUpdate"));
&gt;      }
&gt;
&gt;      function __create_da() {
&gt;         $this-&gt;da = new GtkDrawingArea();
&gt;         $this-&gt;da-&gt;set_size_request($this-&gt;width, $this-&gt;height);
&gt;         $this-&gt;add($this-&gt;da);
&gt;         $this-&gt;da-&gt;realize();
&gt;         $this-&gt;da-&gt;connect('configure-event', array(&amp;$this,  
&gt; 'configure_event'));
&gt;      }
&gt;
&gt;      function quit() {
&gt;         global $break_loop;
&gt;         echo "destroy &lt;br /&gt;\r\n";
&gt;         $this-&gt;destroy();
&gt;         $break_loop = 1;
&gt;         gtk::main_quit();
&gt;      }
&gt;
&gt;      function configure_event($widget, $event) {
&gt; // Only depth == 1
&gt;         $this-&gt;pixmaps = new GdkPixmap($widget-&gt;window,
&gt;                                        $this-&gt;width,
&gt;                                        $this-&gt;height,
&gt;                                        1);
&gt;         return true;
&gt;      }
&gt;
&gt;      function do_loop() {
&gt;         if(!function_exists("ticks"));
&gt;            while(gtk::events_pending()) {gtk::main_iteration_do(0);}
&gt;      }
&gt;
&gt;      function TexUpdate() {
&gt; // Here is an BUG ????
&gt;         $this-&gt;pixmaps-&gt;draw_rectangle($this-&gt;style-&gt;white_gc,
&gt;                                        true, 10, 10,
&gt;                                        2,
&gt;                                        2);
&gt;      }
&gt;   };
&gt;
&gt;   $fun = new Fun();
&gt;
&gt;   gtk::main();
&gt;
&gt; /*
&gt;   while(!$break_loop) {
&gt;      $fun-&gt;do_loop();
&gt;      if(!$break_loop) {
&gt;         $fun-&gt;TexUpdate(100,100);
&gt;      }
&gt;   }
&gt; */
&gt; ?&gt;
&gt;
&gt; mfg xxoes
&gt;
&gt;
&gt; Andrei Zmievski schrieb:
&gt;
&gt;&gt; The bug seems to be triggered by the call to gtk_events_pending().  
&gt;&gt; I  have no idea what's causing it. Besides, your program is really  
&gt;&gt; long.  Try cutting it down to the minimum possible one that still  
&gt;&gt; reproduces  the error and then we'll talk.
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; On Feb 12, 2006, at 11:55 PM, xxoes wrote:
&gt;&gt;
&gt;&gt;&gt; This application run perfect under win2k || winXP but not linux
&gt;&gt;&gt;
&gt;&gt;&gt; The Application is a little bit complex,
&gt;&gt;&gt; the error happened on $this-&gt;pixmaps-&gt;draw_rectangle
&gt;&gt;&gt; and the message is:
&gt;&gt;&gt;
&gt;&gt;&gt; This probably reflects a bug in the program.
&gt;&gt;&gt; The error was 'BadMatch (invalid parameter attributes)'.
&gt;&gt;&gt;  (Details: serial 173 error_code 8 request_code 70 minor_code 0)
&gt;&gt;&gt;  (Note to programmers: normally, X errors are reported  
&gt;&gt;&gt; asynchronously;
&gt;&gt;&gt;   that is, you will receive the error a while after causing it.
&gt;&gt;&gt;   To debug your program, run it with the --sync command line
&gt;&gt;&gt;   option to change this behavior. You can then get a meaningful
&gt;&gt;&gt;   backtrace from your debugger if you break on the gdk_x_error()   
&gt;&gt;&gt; function.)
&gt;&gt;&gt;
&gt;&gt;&gt; When i comment out "$this-&gt;pixmaps-&gt;draw_rectangle" the app is   
&gt;&gt;&gt; working a time long.
&gt;&gt;&gt;
&gt;&gt;&gt; The first part is only for debuging:
&gt;&gt;&gt;
&gt;&gt;&gt; &lt;?PHP
&gt;&gt;&gt;   dl("php_gtk2.so");
&gt;&gt;&gt;   error_reporting(E_ALL);
&gt;&gt;&gt;   set_time_limit(0);
&gt;&gt;&gt;   ob_implicit_flush(1);
&gt;&gt;&gt;
&gt;&gt;&gt;   function ticks() {
&gt;&gt;&gt;      $res = debug_backtrace();
&gt;&gt;&gt;      if(@isset($res[1]))
&gt;&gt;&gt;         $cur = $res[1];
&gt;&gt;&gt;      else
&gt;&gt;&gt;         $cur = $res[0];
&gt;&gt;&gt;      if(!@isset($cur["file"]) || !@isset($cur["line"])) {
&gt;&gt;&gt;         $cur["file"] = "??? ".$res[0]["file"];
&gt;&gt;&gt;         $cur["line"] = "??? ".$res[0]["line"];
&gt;&gt;&gt;      }
&gt;&gt;&gt;      else {
&gt;&gt;&gt;         $cur["line"] .= " =&gt; ".$res[0]["line"];
&gt;&gt;&gt;      }
&gt;&gt;&gt;      echo $cur["file"]."(".$cur["line"].")";
&gt;&gt;&gt;      if(@isset($cur["class"])) {
&gt;&gt;&gt;         echo $cur["class"].$cur["type"].$cur["function"]."(";
&gt;&gt;&gt;         $args = "";
&gt;&gt;&gt;         for($i=0;$i&lt;count($cur["args"]);$i++) {
&gt;&gt;&gt;            if($args != "") $args .= ",";
&gt;&gt;&gt;            if(is_string($cur["args"][$i]))
&gt;&gt;&gt;               $args .= "\"".addslashes($cur["args"][$i])."\"";
&gt;&gt;&gt;            else if(is_object($cur["args"][$i]))
&gt;&gt;&gt;                $args .= "(object)".get_class($cur["args"][$i]);
&gt;&gt;&gt;            else
&gt;&gt;&gt;               $args .= $cur["args"][$i];
&gt;&gt;&gt;         }
&gt;&gt;&gt;         echo $args.")";
&gt;&gt;&gt;      }
&gt;&gt;&gt;      else if($cur["function"] != "ticks") {
&gt;&gt;&gt;         echo $cur["function"];
&gt;&gt;&gt;      }
&gt;&gt;&gt;      while(gtk::events_pending()) {gtk::main_iteration_do(1);}
&gt;&gt;&gt;      echo "\r\n";
&gt;&gt;&gt;
&gt;&gt;&gt; /*
&gt;&gt;&gt;      for($i=0;$i&lt;count($res);$i++) {
&gt;&gt;&gt;         unset($res[$i]["object"]);
&gt;&gt;&gt;         unset($res[$i]["args"]);
&gt;&gt;&gt;      }
&gt;&gt;&gt;      print_r($res);
&gt;&gt;&gt; */
&gt;&gt;&gt;   }
&gt;&gt;&gt;   register_tick_function("ticks");
&gt;&gt;&gt;   declare(ticks=1);
&gt;&gt;&gt; ?&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Thats the application:
&gt;&gt;&gt;
&gt;&gt;&gt; &lt;?PHP
&gt;&gt;&gt;   error_reporting(E_ALL | E_STRICT);
&gt;&gt;&gt;
&gt;&gt;&gt;   $break_loop = 0;
&gt;&gt;&gt;   $tex_data = array();
&gt;&gt;&gt;
&gt;&gt;&gt;   class Fun extends GtkWindow {
&gt;&gt;&gt;      protected $da;
&gt;&gt;&gt;      protected $pixmap;
&gt;&gt;&gt;      protected $pixmaps;
&gt;&gt;&gt;      protected $gc;
&gt;&gt;&gt;      protected $cmap;
&gt;&gt;&gt;
&gt;&gt;&gt;      protected $width;
&gt;&gt;&gt;      protected $height;
&gt;&gt;&gt;
&gt;&gt;&gt;      protected $mx;
&gt;&gt;&gt;      protected $my;
&gt;&gt;&gt;      protected $mx_free;
&gt;&gt;&gt;      protected $my_free;
&gt;&gt;&gt;      protected $done;
&gt;&gt;&gt;
&gt;&gt;&gt;      protected $zoom = 2;
&gt;&gt;&gt;
&gt;&gt;&gt;      public $tex_data;
&gt;&gt;&gt;
&gt;&gt;&gt;      function __construct($parent = null) {
&gt;&gt;&gt;         parent::__construct();
&gt;&gt;&gt;         $this-&gt;width  = (int)(gdk::screen_width()/$this-&gt;zoom);
&gt;&gt;&gt;         $this-&gt;height = (int)(gdk::screen_height()/$this-&gt;zoom);
&gt;&gt;&gt;
&gt;&gt;&gt;         $this-&gt;connect_simple('destroy', array(&amp;$this, 'quit'));
&gt;&gt;&gt;
&gt;&gt;&gt;         $this-&gt;set_title("Fun");
&gt;&gt;&gt;         $this-&gt;set_position(Gtk::WIN_POS_NONE);
&gt;&gt;&gt;         $this-&gt;set_default_size($this-&gt;width*$this-&gt;zoom, $this-  
&gt;&gt;&gt; &gt;height*$this-&gt;zoom);
&gt;&gt;&gt;         $this-&gt;set_border_width(0);
&gt;&gt;&gt;         $this-&gt;set_resizable(0);
&gt;&gt;&gt;         $this-&gt;set_decorated(0);
&gt;&gt;&gt;         $this-&gt;set_skip_taskbar_hint(1);
&gt;&gt;&gt;         $this-&gt;set_skip_pager_hint(1);
&gt;&gt;&gt;         $this-&gt;set_modal(1);
&gt;&gt;&gt;
&gt;&gt;&gt;         $this-&gt;__create_da();
&gt;&gt;&gt;
&gt;&gt;&gt;         $this-&gt;show_all();
&gt;&gt;&gt;
&gt;&gt;&gt;         $this-&gt;set_keep_above(1);
&gt;&gt;&gt;         $this-&gt;set_uposition(0,0);
&gt;&gt;&gt;
&gt;&gt;&gt;         mt_srand((double)microtime());
&gt;&gt;&gt;
&gt;&gt;&gt;         $this-&gt;TexReset();
&gt;&gt;&gt; //         gtk::timeout_add(1,array(&amp;$this,"timer"));
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function __create_da() {
&gt;&gt;&gt;         $this-&gt;da = new GtkDrawingArea();
&gt;&gt;&gt;         $this-&gt;da-&gt;set_size_request($this-&gt;width*$this-&gt;zoom,  
&gt;&gt;&gt; $this- &gt;height*$this-&gt;zoom);
&gt;&gt;&gt;         $this-&gt;add($this-&gt;da);
&gt;&gt;&gt;         $this-&gt;da-&gt;realize();
&gt;&gt;&gt;         $this-&gt;da-&gt;connect('configure-event', array(&amp;$this,   
&gt;&gt;&gt; 'configure_event'));
&gt;&gt;&gt;         $this-&gt;da-&gt;connect('expose-event',    array(&amp;  
&gt;&gt;&gt; $this,'draw_it'));
&gt;&gt;&gt;         $this-&gt;da-&gt;add_events(Gdk::POINTER_MOTION_MASK);
&gt;&gt;&gt;         $this-&gt;da-&gt;connect('motion-notify-event', array(&amp;$this,   
&gt;&gt;&gt; 'motion_notify_event'));
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function gen_shape() {
&gt;&gt;&gt; //         $this-&gt;shape_combine_mask($this-&gt;pixmaps,0,0);
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function motion_notify_event($widget, $event) {
&gt;&gt;&gt;         static $mouse = 0;
&gt;&gt;&gt;         $mouse++;
&gt;&gt;&gt;         if($mouse &gt;= 2) {
&gt;&gt;&gt;            global $break_loop;
&gt;&gt;&gt; //            $break_loop = 1;
&gt;&gt;&gt;         }
&gt;&gt;&gt;         $max = 10;
&gt;&gt;&gt;         $window  = $event-&gt;window;
&gt;&gt;&gt;         $x = (int)((int)$event-&gt;x_root/2)*2;
&gt;&gt;&gt;         $y = (int)($event-&gt;y_root/2)*2;
&gt;&gt;&gt;         $x = (int)($x/$this-&gt;zoom);
&gt;&gt;&gt;         $y = (int)($y/$this-&gt;zoom);
&gt;&gt;&gt;         $change = 0;
&gt;&gt;&gt;
&gt;&gt;&gt;         for($xi=$x-$max;$xi&lt;$x+$max;$xi++) {
&gt;&gt;&gt;            if($xi &lt; 0 || $xi &gt;= $this-&gt;width) continue;
&gt;&gt;&gt;            for($yi=$y-$max;$yi&lt;$y+$max;$yi++) {
&gt;&gt;&gt;               if($yi &lt; 0 || $yi &gt;= $this-&gt;height) continue;
&gt;&gt;&gt;               if(@isset($this-&gt;tex_data[$xi][$yi])) {
&gt;&gt;&gt;                  unset($this-&gt;tex_data[$xi][$yi]);
&gt;&gt;&gt;                  $this-&gt;pixmap-&gt;draw_rectangle($this-&gt;style- 
&gt;&gt;&gt; &gt;white_gc,
&gt;&gt;&gt;                                                true, $xi*$this-  
&gt;&gt;&gt; &gt;zoom, $yi*$this-&gt;zoom,
&gt;&gt;&gt;                                                $this-&gt;zoom,
&gt;&gt;&gt;                                                $this-&gt;zoom);
&gt;&gt;&gt; // Here is an BUG ????
&gt;&gt;&gt;                  $this-&gt;pixmaps-&gt;draw_rectangle($this-&gt;style-  
&gt;&gt;&gt; &gt;black_gc,
&gt;&gt;&gt;                                                 true, $xi*$this-  
&gt;&gt;&gt; &gt;zoom, $yi*$this-&gt;zoom,
&gt;&gt;&gt;                                                 $this-&gt;zoom,
&gt;&gt;&gt;                                                 $this-&gt;zoom);
&gt;&gt;&gt;                  $change++;
&gt;&gt;&gt;               }
&gt;&gt;&gt;            }
&gt;&gt;&gt;         }
&gt;&gt;&gt;         if($change) {
&gt;&gt;&gt;            $this-&gt;da-&gt;queue_draw_area($x-$max, $y-$max, $max*2,   
&gt;&gt;&gt; $max*2);
&gt;&gt;&gt;            $this-&gt;gen_shape();
&gt;&gt;&gt;         }
&gt;&gt;&gt;         return(true);
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;      function quit() {
&gt;&gt;&gt;         global $break_loop;
&gt;&gt;&gt;         echo "destroy &lt;br /&gt;\r\n";
&gt;&gt;&gt;         $this-&gt;destroy();
&gt;&gt;&gt;         $break_loop = 1;
&gt;&gt;&gt;         gtk::main_quit();
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function configure_event($widget, $event) {
&gt;&gt;&gt;         $this-&gt;pixmap = new GdkPixmap($widget-&gt;window,
&gt;&gt;&gt;                                       $this-&gt;width*$this-&gt;zoom,
&gt;&gt;&gt;                                       $this-&gt;height*$this-&gt;zoom,
&gt;&gt;&gt;                                       -1);
&gt;&gt;&gt;         $this-&gt;pixmaps = new GdkPixmap($widget-&gt;window,
&gt;&gt;&gt;                                        $this-&gt;width*$this-&gt;zoom,
&gt;&gt;&gt;                                        $this-&gt;height*$this-&gt;zoom,
&gt;&gt;&gt;                                        1);
&gt;&gt;&gt;         $this-&gt;pixmap-&gt;draw_rectangle($widget-&gt;style-&gt;white_gc,
&gt;&gt;&gt;                                       true, 0, 0,
&gt;&gt;&gt;                                       $this-&gt;width*$this-&gt;zoom,
&gt;&gt;&gt;                                       $this-&gt;height*$this-&gt;zoom);
&gt;&gt;&gt;         $this-&gt;gc      = new GdkGc($this-&gt;da-&gt;window);
&gt;&gt;&gt;         $this-&gt;cmap    = $this-&gt;da-&gt;get_colormap();
&gt;&gt;&gt;         return true;
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function draw_it($widget, $event) {
&gt;&gt;&gt;         $gc = new GdkGC($widget-&gt;window);
&gt;&gt;&gt; // BUG ???? PHP crashed with $widget-&gt;style-&gt;fg_gc
&gt;&gt;&gt; //       $widget-&gt;window-&gt;draw_drawable($widget-&gt;style-&gt;fg_gc  
&gt;&gt;&gt; [$widget-&gt;state],
&gt;&gt;&gt;         $widget-&gt;window-&gt;draw_drawable($gc,
&gt;&gt;&gt;                                        $this-&gt;pixmap,
&gt;&gt;&gt;                                        $event-&gt;area-&gt;x, $event-  
&gt;&gt;&gt; &gt;area-&gt;y,
&gt;&gt;&gt;                                        $event-&gt;area-&gt;x, $event-  
&gt;&gt;&gt; &gt;area-&gt;y,
&gt;&gt;&gt;                                        $event-&gt;area-&gt;width,  
&gt;&gt;&gt; $event- &gt;area-&gt;height);
&gt;&gt;&gt;        return false;
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function do_loop() {
&gt;&gt;&gt; //         while(gtk::events_pending()) {gtk::main_iteration_do(0);}
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function TexReset() {
&gt;&gt;&gt;         global $tex_data;
&gt;&gt;&gt;         $width  = $this-&gt;width;
&gt;&gt;&gt;         $height = $this-&gt;height;
&gt;&gt;&gt;
&gt;&gt;&gt;         $this-&gt;mx=(int)(rand()%($width/2)) 
&gt;&gt;&gt; *2;                  //  Pick A New Random X Position
&gt;&gt;&gt;         $this-&gt;my=(int)(rand()%($height/2)) 
&gt;&gt;&gt; *2;                 //  Pick A New Random Y Position
&gt;&gt;&gt;
&gt;&gt;&gt;         $this-&gt;pixmap-&gt;draw_rectangle($this-&gt;style-&gt;white_gc,
&gt;&gt;&gt;                                       true, 0, 0,
&gt;&gt;&gt;                                       $this-&gt;width*$this-&gt;zoom,
&gt;&gt;&gt;                                       $this-&gt;height*$this-&gt;zoom);
&gt;&gt;&gt; // Here is an BUG ????
&gt;&gt;&gt;         $this-&gt;pixmaps-&gt;draw_rectangle($this-&gt;style-&gt;black_gc,
&gt;&gt;&gt;                                        true, 0, 0,
&gt;&gt;&gt;                                        $this-&gt;width*$this-&gt;zoom,
&gt;&gt;&gt;                                        $this-&gt;height*$this-&gt;zoom);
&gt;&gt;&gt;         if(count($tex_data) &gt; 0) {
&gt;&gt;&gt;            reset($tex_data);
&gt;&gt;&gt;            while(list($key_x) = each($tex_data)) {
&gt;&gt;&gt;               if($key_x &gt;= $width) continue;
&gt;&gt;&gt;               ksort($tex_data[$key_x]);
&gt;&gt;&gt;               reset($tex_data[$key_x]);
&gt;&gt;&gt;               while(list($key_y) = each($tex_data[$key_x])) {
&gt;&gt;&gt;                  if($key_y &gt;= $height) continue;
&gt;&gt;&gt;                  $this-&gt;TexUpdate($key_x,$key_y);
&gt;&gt;&gt;               }
&gt;&gt;&gt;               $this-&gt;gen_shape();
&gt;&gt;&gt;               $this-&gt;do_loop();
&gt;&gt;&gt;            }
&gt;&gt;&gt;            $this-&gt;gen_shape();
&gt;&gt;&gt;            $this-&gt;do_loop();
&gt;&gt;&gt;         }
&gt;&gt;&gt;         else {
&gt;&gt;&gt;            $this-&gt;tex_data = array();
&gt;&gt;&gt;         }
&gt;&gt;&gt;         $this-&gt;done = false;
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function TexUpdate($dmx,$dmy)  
&gt;&gt;&gt; {                           //  Update Pixel dmx, dmy On The Texture
&gt;&gt;&gt;         $dmx = (int)$dmx;
&gt;&gt;&gt;         $dmy = (int)$dmy;
&gt;&gt;&gt;         if($dmx &gt;= $this-&gt;width || $dmy &gt;= $this-&gt;height) return;
&gt;&gt;&gt;
&gt;&gt;&gt;         $this-&gt;tex($dmx,$dmy,255);      // Set Red Pixel To Full   
&gt;&gt;&gt; Bright
&gt;&gt;&gt;
&gt;&gt;&gt;         $dmx = $dmx*$this-&gt;zoom;
&gt;&gt;&gt;         $dmy = $dmy*$this-&gt;zoom;
&gt;&gt;&gt;         static $i_color = 0;
&gt;&gt;&gt;         $i_color++;
&gt;&gt;&gt;         if($i_color &gt;= 256) $i_color = 0;
&gt;&gt;&gt;         $i_color = mt_rand(0,255);
&gt;&gt;&gt;         $color = $i_color*$i_color*$i_color;
&gt;&gt;&gt;
&gt;&gt;&gt;         $r = $color
&gt;&gt;&gt;         $g = ($color&amp;65280)&gt;&gt;8;
&gt;&gt;&gt;         $b = ($color&amp;16711680)&gt;&gt;16;
&gt;&gt;&gt;
&gt;&gt;&gt; //         $gc = $this-&gt;style-&gt;black_gc;
&gt;&gt;&gt;         $this-&gt;gc-&gt;set_foreground($this-&gt;cmap-&gt;alloc_color 
&gt;&gt;&gt; ($r*256,  $g*256, $b*256));
&gt;&gt;&gt;         $gc = $this-&gt;gc;
&gt;&gt;&gt;
&gt;&gt;&gt;         $this-&gt;pixmap-&gt;draw_rectangle($gc,
&gt;&gt;&gt;                                       true, $dmx, $dmy,
&gt;&gt;&gt;                                       $this-&gt;zoom,
&gt;&gt;&gt;                                       $this-&gt;zoom);
&gt;&gt;&gt; // Here is an BUG ????
&gt;&gt;&gt;         $this-&gt;pixmaps-&gt;draw_rectangle($this-&gt;style-&gt;white_gc,
&gt;&gt;&gt;                                        true, $dmx, $dmy,
&gt;&gt;&gt;                                        $this-&gt;zoom,
&gt;&gt;&gt;                                        $this-&gt;zoom);
&gt;&gt;&gt;         $this-&gt;da-&gt;queue_draw_area($dmx, $dmy, $dmx+5, $dmy+5);
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function tex($dmx,$dmy,$val = -1) {
&gt;&gt;&gt;         if($val != -1) {
&gt;&gt;&gt;            $this-&gt;tex_data[$dmx][$dmy]=$val;
&gt;&gt;&gt;         }
&gt;&gt;&gt;         if(@isset($this-&gt;tex_data[$dmx][$dmy]))
&gt;&gt;&gt;            return($this-&gt;tex_data[$dmx][$dmy]);
&gt;&gt;&gt;         else
&gt;&gt;&gt;            return(0);
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function TexMake() {
&gt;&gt;&gt;         global $break_loop;
&gt;&gt;&gt;         $width  = $this-&gt;width;
&gt;&gt;&gt;         $height = $this-&gt;height;
&gt;&gt;&gt;         $mx = &amp;$this-&gt;mx;
&gt;&gt;&gt;         $my = &amp;$this-&gt;my;
&gt;&gt;&gt;         $tex_data = &amp;$this-&gt;tex_data;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;         if($this-&gt;done) {
&gt;&gt;&gt;            $this-&gt;TexReset();
&gt;&gt;&gt;         }
&gt;&gt;&gt;
&gt;&gt;&gt;         // Check To Make Sure We Are Not Trapped (Nowhere Else  
&gt;&gt;&gt; To  Move)
&gt;&gt;&gt;         /*
&gt;&gt;&gt;         if((($mx&gt;($width-4) || $this-&gt;tex($mx+2,$my)==255)) &amp;&amp;
&gt;&gt;&gt;            (($mx&lt;2 || $this-&gt;tex($mx-2,$my)==255)) &amp;&amp;
&gt;&gt;&gt;            (($my&gt;($height-4) || $this-&gt;tex($mx,$my+2)==255)) &amp;&amp;
&gt;&gt;&gt;            (($my&lt;2 || $this-&gt;tex($mx,$my-2)==255))) {
&gt;&gt;&gt;            do  
&gt;&gt;&gt; {                                                  //  If We Are  
&gt;&gt;&gt; Trapped
&gt;&gt;&gt;               $mx=(int)(rand()%($width/2)) 
&gt;&gt;&gt; *2;                    //  Pick A New Random X Position
&gt;&gt;&gt;               $my=(int)(rand()%($height/2)) 
&gt;&gt;&gt; *2;                   //  Pick A New Random Y Position
&gt;&gt;&gt;               $this-&gt;do_loop();
&gt;&gt;&gt;            } while(!$break_loop &amp;&amp; $this-&gt;tex($mx,$my) 
&gt;&gt;&gt; ==0);      //  Keep Picking A Random Position Until We Find
&gt;&gt;&gt;         }                                                        //  
&gt;&gt;&gt;  One That Has Already Been Tagged (Safe Starting Point)
&gt;&gt;&gt;         */
&gt;&gt;&gt;
&gt;&gt;&gt;         static $no_found = 0;
&gt;&gt;&gt;         {
&gt;&gt;&gt;
&gt;&gt;&gt;            $dir=(int)mt_rand(1,8)% 
&gt;&gt;&gt; 4;                             //  Pick A Random Direction
&gt;&gt;&gt;            if(($dir==0) &amp;&amp; ($mx&lt;=($width-4)))  
&gt;&gt;&gt; {                  //  If The Direction Is 0 (Right) And We Are  
&gt;&gt;&gt; Not At The Far Right
&gt;&gt;&gt;               if($this-&gt;tex($mx+2,$my)==0)  
&gt;&gt;&gt; {                     //  And If The Room To The Right Has Not  
&gt;&gt;&gt; Already Been Visited
&gt;&gt;&gt;                  $this-&gt;TexUpdate($mx+1, 
&gt;&gt;&gt; $my);                    //  Update The Texture To Show Path Cut  
&gt;&gt;&gt; Out Between Rooms
&gt;&gt;&gt;                  $mx 
&gt;&gt;&gt; +=2;                                         //  Move To The  
&gt;&gt;&gt; Right (Room To The Right)
&gt;&gt;&gt;                  $no_found = 0;
&gt;&gt;&gt;               }
&gt;&gt;&gt;               else {
&gt;&gt;&gt;                  $no_found++;
&gt;&gt;&gt;               }
&gt;&gt;&gt;            }
&gt;&gt;&gt;            else if(($dir==1) &amp;&amp; ($my&lt;=($height-4)))  
&gt;&gt;&gt; {            //  If The Direction Is 1 (Down) And We Are Not At  
&gt;&gt;&gt; The Bottom
&gt;&gt;&gt;               if($this-&gt;tex($mx,$my+2)==0)  
&gt;&gt;&gt; {                     //  And If The Room Below Has Not Already  
&gt;&gt;&gt; Been Visited
&gt;&gt;&gt;                  $this-&gt;TexUpdate($mx,$my 
&gt;&gt;&gt; +1);                    //  Update The Texture To Show Path Cut  
&gt;&gt;&gt; Out Between Rooms
&gt;&gt;&gt;                  $my 
&gt;&gt;&gt; +=2;                                         //  Move Down (Room  
&gt;&gt;&gt; Below)
&gt;&gt;&gt;                  $no_found = 0;
&gt;&gt;&gt;               }
&gt;&gt;&gt;               else {
&gt;&gt;&gt;                  $no_found++;
&gt;&gt;&gt;               }
&gt;&gt;&gt;            }
&gt;&gt;&gt;            else if(($dir==2) &amp;&amp; ($mx&gt;=2))  
&gt;&gt;&gt; {                      //  If The Direction Is 2 (Left) And We  
&gt;&gt;&gt; Are Not At The Far Left
&gt;&gt;&gt;               if($this-&gt;tex($mx-2,$my)==0)  
&gt;&gt;&gt; {                     //  And If The Room To The Left Has Not  
&gt;&gt;&gt; Already Been Visited
&gt;&gt;&gt;                  $this-&gt;TexUpdate($mx-1, 
&gt;&gt;&gt; $my);                    //  Update The Texture To Show Path Cut  
&gt;&gt;&gt; Out Between Rooms
&gt;&gt;&gt;                  $mx- 
&gt;&gt;&gt; =2;                                         //  Move To The Left  
&gt;&gt;&gt; (Room To The Left)
&gt;&gt;&gt;                  $no_found = 0;
&gt;&gt;&gt;               }
&gt;&gt;&gt;               else {
&gt;&gt;&gt;                  $no_found++;
&gt;&gt;&gt;               }
&gt;&gt;&gt;            }
&gt;&gt;&gt;            else if(($dir==3) &amp;&amp; ($my&gt;=2))  
&gt;&gt;&gt; {                      //  If The Direction Is 3 (Up) And We Are  
&gt;&gt;&gt; Not At The Top
&gt;&gt;&gt;               if($this-&gt;tex($mx,$my-2)==0)  
&gt;&gt;&gt; {                     //  And If The Room Above Has Not Already  
&gt;&gt;&gt; Been Visited
&gt;&gt;&gt;                  $this-&gt;TexUpdate($mx, 
&gt;&gt;&gt; $my-1);                    //  Update The Texture To Show Path  
&gt;&gt;&gt; Cut Out Between Rooms
&gt;&gt;&gt;                  $my- 
&gt;&gt;&gt; =2;                                         //  Move Up (Room Above)
&gt;&gt;&gt;                  $no_found = 0;
&gt;&gt;&gt;               }
&gt;&gt;&gt;               else {
&gt;&gt;&gt;                  $no_found++;
&gt;&gt;&gt;               }
&gt;&gt;&gt;            }
&gt;&gt;&gt;            if($no_found &gt;= 20) {
&gt;&gt;&gt;               $i = 0;
&gt;&gt;&gt;               $no_found = 0;
&gt;&gt;&gt;               while(!$break_loop &amp;&amp; $this-&gt;tex($mx,$my)==255)   
&gt;&gt;&gt; {                                               // If We Are Trapped
&gt;&gt;&gt;                  $i++;
&gt;&gt;&gt; /*
&gt;&gt;&gt;                  $mx=(int)(rand()%($width/2)) 
&gt;&gt;&gt; *2;                 //  Pick A New Random X Position
&gt;&gt;&gt;                  $my=(int)(rand()%($height/2)) 
&gt;&gt;&gt; *2;                //  Pick A New Random Y Position
&gt;&gt;&gt; */
&gt;&gt;&gt;                  if($i &gt; 100 &amp;&amp; !($i%1000)) {
&gt;&gt;&gt;                     if(!($i%1000)) {
&gt;&gt;&gt;                        if($this-&gt;get_done()) {
&gt;&gt;&gt;                           return;
&gt;&gt;&gt;                        }
&gt;&gt;&gt;                        $this-&gt;mx = $this-&gt;mx_free;
&gt;&gt;&gt;                        $this-&gt;my = $this-&gt;my_free;
&gt;&gt;&gt;                        break;
&gt;&gt;&gt;                     }
&gt;&gt;&gt;                  }
&gt;&gt;&gt;               };                   // Keep Picking A Random   
&gt;&gt;&gt; Position Until We Find
&gt;&gt;&gt;            }
&gt;&gt;&gt;         }
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;         $this-&gt;TexUpdate($mx,$my);
&gt;&gt;&gt;         $this-&gt;gen_shape();
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function get_done_A() {
&gt;&gt;&gt;         for($x=$this-&gt;mx;$x&lt;$this-&gt;width;$x+=2)   
&gt;&gt;&gt; {                   // Loop Through All The Rooms
&gt;&gt;&gt;            for($y=$this-&gt;my;$y&lt;$this-&gt;height;$y+=2)   
&gt;&gt;&gt; {               // On X And Y Axis
&gt;&gt;&gt;               if($this-&gt;tex($x,$y)==0)   
&gt;&gt;&gt; {                            // If Current Texture Pixel (Room)  
&gt;&gt;&gt; Is  Blank
&gt;&gt;&gt;                  $this-&gt;mx_free = $x;
&gt;&gt;&gt;                  $this-&gt;my_free = $y;
&gt;&gt;&gt;                  return  
&gt;&gt;&gt; (false);                                     // We Have To Set  
&gt;&gt;&gt; done  To False (Not Finished Yet)
&gt;&gt;&gt;               }
&gt;&gt;&gt;            }
&gt;&gt;&gt;         }
&gt;&gt;&gt;         return(true);
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function get_done_B() {
&gt;&gt;&gt;         for($x=$this-&gt;mx-2;$x&gt;=0;$x-=2)   
&gt;&gt;&gt; {                           // Loop Through All The Rooms
&gt;&gt;&gt;            for($y=$this-&gt;my-2;$y&gt;=0;$y-=2)   
&gt;&gt;&gt; {                        // On X And Y Axis
&gt;&gt;&gt;               if($this-&gt;tex($x,$y)==0)   
&gt;&gt;&gt; {                            // If Current Texture Pixel (Room)  
&gt;&gt;&gt; Is  Blank
&gt;&gt;&gt;                  $this-&gt;mx_free = $x;
&gt;&gt;&gt;                  $this-&gt;my_free = $y;
&gt;&gt;&gt;                  return  
&gt;&gt;&gt; (false);                                     // We Have To Set  
&gt;&gt;&gt; done  To False (Not Finished Yet)
&gt;&gt;&gt;               }
&gt;&gt;&gt;            }
&gt;&gt;&gt;         }
&gt;&gt;&gt;         return(true);
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function get_done_C() {
&gt;&gt;&gt;         for($x=0;$x&lt;$this-&gt;width;$x+=2)   
&gt;&gt;&gt; {                           // Loop Through All The Rooms
&gt;&gt;&gt;            for($y=0;$y&lt;$this-&gt;height;$y+=2)   
&gt;&gt;&gt; {                       // On X And Y Axis
&gt;&gt;&gt;               if($this-&gt;tex($x,$y)==0)   
&gt;&gt;&gt; {                            // If Current Texture Pixel (Room)  
&gt;&gt;&gt; Is  Blank
&gt;&gt;&gt;                  $this-&gt;mx_free = $x;
&gt;&gt;&gt;                  $this-&gt;my_free = $y;
&gt;&gt;&gt;                  return  
&gt;&gt;&gt; (false);                                     // We Have To Set  
&gt;&gt;&gt; done  To False (Not Finished Yet)
&gt;&gt;&gt;               }
&gt;&gt;&gt;            }
&gt;&gt;&gt;         }
&gt;&gt;&gt;         return(true);
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function get_done() {
&gt;&gt;&gt;         static $c = 0;
&gt;&gt;&gt;         if(!$c) {
&gt;&gt;&gt;            $c = 1;
&gt;&gt;&gt;            if($this-&gt;get_done_A() &amp;&amp; $this-&gt;get_done_B() &amp;&amp;  
&gt;&gt;&gt; $this- &gt;get_done_C()) {
&gt;&gt;&gt;               $this-&gt;done = true;
&gt;&gt;&gt;               return(true);
&gt;&gt;&gt;            }
&gt;&gt;&gt;         }
&gt;&gt;&gt;         else {
&gt;&gt;&gt;            $c = 0;
&gt;&gt;&gt;            if($this-&gt;get_done_B() &amp;&amp; $this-&gt;get_done_A() &amp;&amp;  
&gt;&gt;&gt; $this- &gt;get_done_C()) {
&gt;&gt;&gt;               $this-&gt;done = true;
&gt;&gt;&gt;               return(true);
&gt;&gt;&gt;            }
&gt;&gt;&gt;         }
&gt;&gt;&gt;         return(false);
&gt;&gt;&gt;      }
&gt;&gt;&gt;   };
&gt;&gt;&gt;
&gt;&gt;&gt;   $fun = new Fun();
&gt;&gt;&gt;
&gt;&gt;&gt;   while(!$break_loop) {
&gt;&gt;&gt;      $fun-&gt;do_loop();
&gt;&gt;&gt;      if(!$break_loop) {
&gt;&gt;&gt;         $fun-&gt;TexMake();
&gt;&gt;&gt;      }
&gt;&gt;&gt;   }
&gt;&gt;&gt; ?&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; (sorry for my english ;))
&gt;&gt;&gt; mfg xxoes
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060215065721</emailId><senderName>xxoes</senderName><senderEmail>xxoes@nw7.de</senderEmail><timestampReceived>2006-02-15 06:57:21-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] php-gtk2 ends with an error under linux</subject><body>

Yes, this was only for debuging.

To disable:
// register_tick_function("ticks");
// declare(ticks=1);

mfg xxoes


Andrei Zmievski schrieb:

&gt; Have you tried not using ticks?
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Feb 13, 2006, at 11:33 PM, xxoes wrote:
&gt;
&gt;&gt; This is a short version.
&gt;&gt; if i set the depth of $this-&gt;pixmaps to 1, php-gtk crash/ends.
&gt;&gt; I require depth 1 because i willl use shape_combine_mask for  
&gt;&gt; transparent background.
&gt;&gt; I have test it with "gtk::events_pending" and with "gtk::main()",  
&gt;&gt; both have the same result.
&gt;&gt;
&gt;&gt; &lt;?PHP
&gt;&gt;   dl("php_gtk2.so");
&gt;&gt;   error_reporting(E_ALL | E_STRICT);
&gt;&gt;   set_time_limit(0);
&gt;&gt;   ob_implicit_flush(1);
&gt;&gt;
&gt;&gt;   function ticks() {
&gt;&gt;      $res = debug_backtrace();
&gt;&gt;      if(@isset($res[1]))
&gt;&gt;         $cur = $res[1];
&gt;&gt;      else
&gt;&gt;         $cur = $res[0];
&gt;&gt;      if(!@isset($cur["file"]) || !@isset($cur["line"])) {
&gt;&gt;         $cur["file"] = "??? ".$res[0]["file"];
&gt;&gt;         $cur["line"] = "??? ".$res[0]["line"];
&gt;&gt;      }
&gt;&gt;      else {
&gt;&gt;         $cur["line"] .= " =&gt; ".$res[0]["line"];
&gt;&gt;      }
&gt;&gt;      echo $cur["file"]."(".$cur["line"].")";
&gt;&gt;      if(@isset($cur["class"])) {
&gt;&gt;         echo $cur["class"].$cur["type"].$cur["function"]."(";
&gt;&gt;         $args = "";
&gt;&gt;         for($i=0;$i&lt;count($cur["args"]);$i++) {
&gt;&gt;            if($args != "") $args .= ",";
&gt;&gt;            if(is_string($cur["args"][$i]))
&gt;&gt;               $args .= "\"".addslashes($cur["args"][$i])."\"";
&gt;&gt;            else if(is_object($cur["args"][$i]))
&gt;&gt;                $args .= "(object)".get_class($cur["args"][$i]);
&gt;&gt;            else
&gt;&gt;               $args .= $cur["args"][$i];
&gt;&gt;         }
&gt;&gt;         echo $args.")";
&gt;&gt;      }
&gt;&gt;      else if($cur["function"] != "ticks") {
&gt;&gt;         echo $cur["function"];
&gt;&gt;      }
&gt;&gt; //      while(gtk::events_pending()) {gtk::main_iteration_do(1);}
&gt;&gt;      echo "\r\n";
&gt;&gt;   }
&gt;&gt;
&gt;&gt;   register_tick_function("ticks");
&gt;&gt;   declare(ticks=1);
&gt;&gt;
&gt;&gt;   $break_loop = 0;
&gt;&gt;
&gt;&gt;   class Fun extends GtkWindow {
&gt;&gt;      protected $da;
&gt;&gt;      protected $pixmap;
&gt;&gt;      protected $pixmaps;
&gt;&gt;
&gt;&gt;      protected $width;
&gt;&gt;      protected $height;
&gt;&gt;
&gt;&gt;      function __construct($parent = null) {
&gt;&gt;         parent::__construct();
&gt;&gt;         $this-&gt;width  = (int)(gdk::screen_width()/4);
&gt;&gt;         $this-&gt;height = (int)(gdk::screen_height()/4);
&gt;&gt;
&gt;&gt;         $this-&gt;connect_simple('destroy', array(&amp;$this, 'quit'));
&gt;&gt;         $this-&gt;set_default_size($this-&gt;width, $this-&gt;height);
&gt;&gt;
&gt;&gt;         $this-&gt;__create_da();
&gt;&gt;         $this-&gt;show_all();
&gt;&gt;
&gt;&gt;         mt_srand((double)microtime());
&gt;&gt;         gtk::timeout_add(1,array($this,"TexUpdate"));
&gt;&gt;      }
&gt;&gt;
&gt;&gt;      function __create_da() {
&gt;&gt;         $this-&gt;da = new GtkDrawingArea();
&gt;&gt;         $this-&gt;da-&gt;set_size_request($this-&gt;width, $this-&gt;height);
&gt;&gt;         $this-&gt;add($this-&gt;da);
&gt;&gt;         $this-&gt;da-&gt;realize();
&gt;&gt;         $this-&gt;da-&gt;connect('configure-event', array(&amp;$this,  
&gt;&gt; 'configure_event'));
&gt;&gt;      }
&gt;&gt;
&gt;&gt;      function quit() {
&gt;&gt;         global $break_loop;
&gt;&gt;         echo "destroy &lt;br /&gt;\r\n";
&gt;&gt;         $this-&gt;destroy();
&gt;&gt;         $break_loop = 1;
&gt;&gt;         gtk::main_quit();
&gt;&gt;      }
&gt;&gt;
&gt;&gt;      function configure_event($widget, $event) {
&gt;&gt; // Only depth == 1
&gt;&gt;         $this-&gt;pixmaps = new GdkPixmap($widget-&gt;window,
&gt;&gt;                                        $this-&gt;width,
&gt;&gt;                                        $this-&gt;height,
&gt;&gt;                                        1);
&gt;&gt;         return true;
&gt;&gt;      }
&gt;&gt;
&gt;&gt;      function do_loop() {
&gt;&gt;         if(!function_exists("ticks"));
&gt;&gt;            while(gtk::events_pending()) {gtk::main_iteration_do(0);}
&gt;&gt;      }
&gt;&gt;
&gt;&gt;      function TexUpdate() {
&gt;&gt; // Here is an BUG ????
&gt;&gt;         $this-&gt;pixmaps-&gt;draw_rectangle($this-&gt;style-&gt;white_gc,
&gt;&gt;                                        true, 10, 10,
&gt;&gt;                                        2,
&gt;&gt;                                        2);
&gt;&gt;      }
&gt;&gt;   };
&gt;&gt;
&gt;&gt;   $fun = new Fun();
&gt;&gt;
&gt;&gt;   gtk::main();
&gt;&gt;
&gt;&gt; /*
&gt;&gt;   while(!$break_loop) {
&gt;&gt;      $fun-&gt;do_loop();
&gt;&gt;      if(!$break_loop) {
&gt;&gt;         $fun-&gt;TexUpdate(100,100);
&gt;&gt;      }
&gt;&gt;   }
&gt;&gt; */
&gt;&gt; ?&gt;
&gt;&gt;
&gt;&gt; mfg xxoes
&gt;&gt;
&gt;&gt;
&gt;&gt; Andrei Zmievski schrieb:
&gt;&gt;
&gt;&gt;&gt; The bug seems to be triggered by the call to gtk_events_pending().  
&gt;&gt;&gt; I  have no idea what's causing it. Besides, your program is really  
&gt;&gt;&gt; long.  Try cutting it down to the minimum possible one that still  
&gt;&gt;&gt; reproduces  the error and then we'll talk.
&gt;&gt;&gt;
&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Feb 12, 2006, at 11:55 PM, xxoes wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; This application run perfect under win2k || winXP but not linux
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; The Application is a little bit complex,
&gt;&gt;&gt;&gt; the error happened on $this-&gt;pixmaps-&gt;draw_rectangle
&gt;&gt;&gt;&gt; and the message is:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; This probably reflects a bug in the program.
&gt;&gt;&gt;&gt; The error was 'BadMatch (invalid parameter attributes)'.
&gt;&gt;&gt;&gt;  (Details: serial 173 error_code 8 request_code 70 minor_code 0)
&gt;&gt;&gt;&gt;  (Note to programmers: normally, X errors are reported  
&gt;&gt;&gt;&gt; asynchronously;
&gt;&gt;&gt;&gt;   that is, you will receive the error a while after causing it.
&gt;&gt;&gt;&gt;   To debug your program, run it with the --sync command line
&gt;&gt;&gt;&gt;   option to change this behavior. You can then get a meaningful
&gt;&gt;&gt;&gt;   backtrace from your debugger if you break on the gdk_x_error()   
&gt;&gt;&gt;&gt; function.)
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; When i comment out "$this-&gt;pixmaps-&gt;draw_rectangle" the app is   
&gt;&gt;&gt;&gt; working a time long.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; The first part is only for debuging:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; &lt;?PHP
&gt;&gt;&gt;&gt;   dl("php_gtk2.so");
&gt;&gt;&gt;&gt;   error_reporting(E_ALL);
&gt;&gt;&gt;&gt;   set_time_limit(0);
&gt;&gt;&gt;&gt;   ob_implicit_flush(1);
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;   function ticks() {
&gt;&gt;&gt;&gt;      $res = debug_backtrace();
&gt;&gt;&gt;&gt;      if(@isset($res[1]))
&gt;&gt;&gt;&gt;         $cur = $res[1];
&gt;&gt;&gt;&gt;      else
&gt;&gt;&gt;&gt;         $cur = $res[0];
&gt;&gt;&gt;&gt;      if(!@isset($cur["file"]) || !@isset($cur["line"])) {
&gt;&gt;&gt;&gt;         $cur["file"] = "??? ".$res[0]["file"];
&gt;&gt;&gt;&gt;         $cur["line"] = "??? ".$res[0]["line"];
&gt;&gt;&gt;&gt;      }
&gt;&gt;&gt;&gt;      else {
&gt;&gt;&gt;&gt;         $cur["line"] .= " =&gt; ".$res[0]["line"];
&gt;&gt;&gt;&gt;      }
&gt;&gt;&gt;&gt;      echo $cur["file"]."(".$cur["line"].")";
&gt;&gt;&gt;&gt;      if(@isset($cur["class"])) {
&gt;&gt;&gt;&gt;         echo $cur["class"].$cur["type"].$cur["function"]."(";
&gt;&gt;&gt;&gt;         $args = "";
&gt;&gt;&gt;&gt;         for($i=0;$i&lt;count($cur["args"]);$i++) {
&gt;&gt;&gt;&gt;            if($args != "") $args .= ",";
&gt;&gt;&gt;&gt;            if(is_string($cur["args"][$i]))
&gt;&gt;&gt;&gt;               $args .= "\"".addslashes($cur["args"][$i])."\"";
&gt;&gt;&gt;&gt;            else if(is_object($cur["args"][$i]))
&gt;&gt;&gt;&gt;                $args .= "(object)".get_class($cur["args"][$i]);
&gt;&gt;&gt;&gt;            else
&gt;&gt;&gt;&gt;               $args .= $cur["args"][$i];
&gt;&gt;&gt;&gt;         }
&gt;&gt;&gt;&gt;         echo $args.")";
&gt;&gt;&gt;&gt;      }
&gt;&gt;&gt;&gt;      else if($cur["function"] != "ticks") {
&gt;&gt;&gt;&gt;         echo $cur["function"];
&gt;&gt;&gt;&gt;      }
&gt;&gt;&gt;&gt;      while(gtk::events_pending()) {gtk::main_iteration_do(1);}
&gt;&gt;&gt;&gt;      echo "\r\n";
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; /*
&gt;&gt;&gt;&gt;      for($i=0;$i&lt;count($res);$i++) {
&gt;&gt;&gt;&gt;         unset($res[$i]["object"]);
&gt;&gt;&gt;&gt;         unset($res[$i]["args"]);
&gt;&gt;&gt;&gt;      }
&gt;&gt;&gt;&gt;      print_r($res);
&gt;&gt;&gt;&gt; */
&gt;&gt;&gt;&gt;   }
&gt;&gt;&gt;&gt;   register_tick_function("ticks");
&gt;&gt;&gt;&gt;   declare(ticks=1);
&gt;&gt;&gt;&gt; ?&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Thats the application:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; &lt;?PHP
&gt;&gt;&gt;&gt;   error_reporting(E_ALL | E_STRICT);
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;   $break_loop = 0;
&gt;&gt;&gt;&gt;   $tex_data = array();
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;   class Fun extends GtkWindow {
&gt;&gt;&gt;&gt;      protected $da;
&gt;&gt;&gt;&gt;      protected $pixmap;
&gt;&gt;&gt;&gt;      protected $pixmaps;
&gt;&gt;&gt;&gt;      protected $gc;
&gt;&gt;&gt;&gt;      protected $cmap;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;      protected $width;
&gt;&gt;&gt;&gt;      protected $height;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;      protected $mx;
&gt;&gt;&gt;&gt;      protected $my;
&gt;&gt;&gt;&gt;      protected $mx_free;
&gt;&gt;&gt;&gt;      protected $my_free;
&gt;&gt;&gt;&gt;      protected $done;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;      protected $zoom = 2;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;      public $tex_data;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;      function __construct($parent = null) {
&gt;&gt;&gt;&gt;         parent::__construct();
&gt;&gt;&gt;&gt;         $this-&gt;width  = (int)(gdk::screen_width()/$this-&gt;zoom);
&gt;&gt;&gt;&gt;         $this-&gt;height = (int)(gdk::screen_height()/$this-&gt;zoom);
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;         $this-&gt;connect_simple('destroy', array(&amp;$this, 'quit'));
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;         $this-&gt;set_title("Fun");
&gt;&gt;&gt;&gt;         $this-&gt;set_position(Gtk::WIN_POS_NONE);
&gt;&gt;&gt;&gt;         $this-&gt;set_default_size($this-&gt;width*$this-&gt;zoom, $this-  
&gt;&gt;&gt;&gt; &gt;height*$this-&gt;zoom);
&gt;&gt;&gt;&gt;         $this-&gt;set_border_width(0);
&gt;&gt;&gt;&gt;         $this-&gt;set_resizable(0);
&gt;&gt;&gt;&gt;         $this-&gt;set_decorated(0);
&gt;&gt;&gt;&gt;         $this-&gt;set_skip_taskbar_hint(1);
&gt;&gt;&gt;&gt;         $this-&gt;set_skip_pager_hint(1);
&gt;&gt;&gt;&gt;         $this-&gt;set_modal(1);
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;         $this-&gt;__create_da();
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;         $this-&gt;show_all();
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;         $this-&gt;set_keep_above(1);
&gt;&gt;&gt;&gt;         $this-&gt;set_uposition(0,0);
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;         mt_srand((double)microtime());
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;         $this-&gt;TexReset();
&gt;&gt;&gt;&gt; //         gtk::timeout_add(1,array(&amp;$this,"timer"));
&gt;&gt;&gt;&gt;      }
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;      function __create_da() {
&gt;&gt;&gt;&gt;         $this-&gt;da = new GtkDrawingArea();
&gt;&gt;&gt;&gt;         $this-&gt;da-&gt;set_size_request($this-&gt;width*$this-&gt;zoom,  
&gt;&gt;&gt;&gt; $this- &gt;height*$this-&gt;zoom);
&gt;&gt;&gt;&gt;         $this-&gt;add($this-&gt;da);
&gt;&gt;&gt;&gt;         $this-&gt;da-&gt;realize();
&gt;&gt;&gt;&gt;         $this-&gt;da-&gt;connect('configure-event', array(&amp;$this,   
&gt;&gt;&gt;&gt; 'configure_event'));
&gt;&gt;&gt;&gt;         $this-&gt;da-&gt;connect('expose-event',    array(&amp;  
&gt;&gt;&gt;&gt; $this,'draw_it'));
&gt;&gt;&gt;&gt;         $this-&gt;da-&gt;add_events(Gdk::POINTER_MOTION_MASK);
&gt;&gt;&gt;&gt;         $this-&gt;da-&gt;connect('motion-notify-event', array(&amp;$this,   
&gt;&gt;&gt;&gt; 'motion_notify_event'));
&gt;&gt;&gt;&gt;      }
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;      function gen_shape() {
&gt;&gt;&gt;&gt; //         $this-&gt;shape_combine_mask($this-&gt;pixmaps,0,0);
&gt;&gt;&gt;&gt;      }
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;      function motion_notify_event($widget, $event) {
&gt;&gt;&gt;&gt;         static $mouse = 0;
&gt;&gt;&gt;&gt;         $mouse++;
&gt;&gt;&gt;&gt;         if($mouse &gt;= 2) {
&gt;&gt;&gt;&gt;            global $break_loop;
&gt;&gt;&gt;&gt; //            $break_loop = 1;
&gt;&gt;&gt;&gt;         }
&gt;&gt;&gt;&gt;         $max = 10;
&gt;&gt;&gt;&gt;         $window  = $event-&gt;window;
&gt;&gt;&gt;&gt;         $x = (int)((int)$event-&gt;x_root/2)*2;
&gt;&gt;&gt;&gt;         $y = (int)($event-&gt;y_root/2)*2;
&gt;&gt;&gt;&gt;         $x = (int)($x/$this-&gt;zoom);
&gt;&gt;&gt;&gt;         $y = (int)($y/$this-&gt;zoom);
&gt;&gt;&gt;&gt;         $change = 0;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;         for($xi=$x-$max;$xi&lt;$x+$max;$xi++) {
&gt;&gt;&gt;&gt;            if($xi &lt; 0 || $xi &gt;= $this-&gt;width) continue;
&gt;&gt;&gt;&gt;            for($yi=$y-$max;$yi&lt;$y+$max;$yi++) {
&gt;&gt;&gt;&gt;               if($yi &lt; 0 || $yi &gt;= $this-&gt;height) continue;
&gt;&gt;&gt;&gt;               if(@isset($this-&gt;tex_data[$xi][$yi])) {
&gt;&gt;&gt;&gt;                  unset($this-&gt;tex_data[$xi][$yi]);
&gt;&gt;&gt;&gt;                  $this-&gt;pixmap-&gt;draw_rectangle($this-&gt;style- 
&gt;&gt;&gt;&gt; &gt;white_gc,
&gt;&gt;&gt;&gt;                                                true, $xi*$this-  
&gt;&gt;&gt;&gt; &gt;zoom, $yi*$this-&gt;zoom,
&gt;&gt;&gt;&gt;                                                $this-&gt;zoom,
&gt;&gt;&gt;&gt;                                                $this-&gt;zoom);
&gt;&gt;&gt;&gt; // Here is an BUG ????
&gt;&gt;&gt;&gt;                  $this-&gt;pixmaps-&gt;draw_rectangle($this-&gt;style-  
&gt;&gt;&gt;&gt; &gt;black_gc,
&gt;&gt;&gt;&gt;                                                 true, $xi*$this-  
&gt;&gt;&gt;&gt; &gt;zoom, $yi*$this-&gt;zoom,
&gt;&gt;&gt;&gt;                                                 $this-&gt;zoom,
&gt;&gt;&gt;&gt;                                                 $this-&gt;zoom);
&gt;&gt;&gt;&gt;                  $change++;
&gt;&gt;&gt;&gt;               }
&gt;&gt;&gt;&gt;            }
&gt;&gt;&gt;&gt;         }
&gt;&gt;&gt;&gt;         if($change) {
&gt;&gt;&gt;&gt;            $this-&gt;da-&gt;queue_draw_area($x-$max, $y-$max, $max*2,   
&gt;&gt;&gt;&gt; $max*2);
&gt;&gt;&gt;&gt;            $this-&gt;gen_shape();
&gt;&gt;&gt;&gt;         }
&gt;&gt;&gt;&gt;         return(true);
&gt;&gt;&gt;&gt;      }
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;      function quit() {
&gt;&gt;&gt;&gt;         global $break_loop;
&gt;&gt;&gt;&gt;         echo "destroy &lt;br /&gt;\r\n";
&gt;&gt;&gt;&gt;         $this-&gt;destroy();
&gt;&gt;&gt;&gt;         $break_loop = 1;
&gt;&gt;&gt;&gt;         gtk::main_quit();
&gt;&gt;&gt;&gt;      }
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;      function configure_event($widget, $event) {
&gt;&gt;&gt;&gt;         $this-&gt;pixmap = new GdkPixmap($widget-&gt;window,
&gt;&gt;&gt;&gt;                                       $this-&gt;width*$this-&gt;zoom,
&gt;&gt;&gt;&gt;                                       $this-&gt;height*$this-&gt;zoom,
&gt;&gt;&gt;&gt;                                       -1);
&gt;&gt;&gt;&gt;         $this-&gt;pixmaps = new GdkPixmap($widget-&gt;window,
&gt;&gt;&gt;&gt;                                        $this-&gt;width*$this-&gt;zoom,
&gt;&gt;&gt;&gt;                                        $this-&gt;height*$this-&gt;zoom,
&gt;&gt;&gt;&gt;                                        1);
&gt;&gt;&gt;&gt;         $this-&gt;pixmap-&gt;draw_rectangle($widget-&gt;style-&gt;white_gc,
&gt;&gt;&gt;&gt;                                       true, 0, 0,
&gt;&gt;&gt;&gt;                                       $this-&gt;width*$this-&gt;zoom,
&gt;&gt;&gt;&gt;                                       $this-&gt;height*$this-&gt;zoom);
&gt;&gt;&gt;&gt;         $this-&gt;gc      = new GdkGc($this-&gt;da-&gt;window);
&gt;&gt;&gt;&gt;         $this-&gt;cmap    = $this-&gt;da-&gt;get_colormap();
&gt;&gt;&gt;&gt;         return true;
&gt;&gt;&gt;&gt;      }
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;      function draw_it($widget, $event) {
&gt;&gt;&gt;&gt;         $gc = new GdkGC($widget-&gt;window);
&gt;&gt;&gt;&gt; // BUG ???? PHP crashed with $widget-&gt;style-&gt;fg_gc
&gt;&gt;&gt;&gt; //       $widget-&gt;window-&gt;draw_drawable($widget-&gt;style-&gt;fg_gc  
&gt;&gt;&gt;&gt; [$widget-&gt;state],
&gt;&gt;&gt;&gt;         $widget-&gt;window-&gt;draw_drawable($gc,
&gt;&gt;&gt;&gt;                                        $this-&gt;pixmap,
&gt;&gt;&gt;&gt;                                        $event-&gt;area-&gt;x, $event-  
&gt;&gt;&gt;&gt; &gt;area-&gt;y,
&gt;&gt;&gt;&gt;                                        $event-&gt;area-&gt;x, $event-  
&gt;&gt;&gt;&gt; &gt;area-&gt;y,
&gt;&gt;&gt;&gt;                                        $event-&gt;area-&gt;width,  
&gt;&gt;&gt;&gt; $event- &gt;area-&gt;height);
&gt;&gt;&gt;&gt;        return false;
&gt;&gt;&gt;&gt;      }
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;      function do_loop() {
&gt;&gt;&gt;&gt; //         while(gtk::events_pending()) {gtk::main_iteration_do(0);}
&gt;&gt;&gt;&gt;      }
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;      function TexReset() {
&gt;&gt;&gt;&gt;         global $tex_data;
&gt;&gt;&gt;&gt;         $width  = $this-&gt;width;
&gt;&gt;&gt;&gt;         $height = $this-&gt;height;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;         $this-&gt;mx=(int)(rand()%($width/2)) *2;                  //  
&gt;&gt;&gt;&gt; Pick A New Random X Position
&gt;&gt;&gt;&gt;         $this-&gt;my=(int)(rand()%($height/2)) *2;                 //  
&gt;&gt;&gt;&gt; Pick A New Random Y Position
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;         $this-&gt;pixmap-&gt;draw_rectangle($this-&gt;style-&gt;white_gc,
&gt;&gt;&gt;&gt;                                       true, 0, 0,
&gt;&gt;&gt;&gt;                                       $this-&gt;width*$this-&gt;zoom,
&gt;&gt;&gt;&gt;                                       $this-&gt;height*$this-&gt;zoom);
&gt;&gt;&gt;&gt; // Here is an BUG ????
&gt;&gt;&gt;&gt;         $this-&gt;pixmaps-&gt;draw_rectangle($this-&gt;style-&gt;black_gc,
&gt;&gt;&gt;&gt;                                        true, 0, 0,
&gt;&gt;&gt;&gt;                                        $this-&gt;width*$this-&gt;zoom,
&gt;&gt;&gt;&gt;                                        $this-&gt;height*$this-&gt;zoom);
&gt;&gt;&gt;&gt;         if(count($tex_data) &gt; 0) {
&gt;&gt;&gt;&gt;            reset($tex_data);
&gt;&gt;&gt;&gt;            while(list($key_x) = each($tex_data)) {
&gt;&gt;&gt;&gt;               if($key_x &gt;= $width) continue;
&gt;&gt;&gt;&gt;               ksort($tex_data[$key_x]);
&gt;&gt;&gt;&gt;               reset($tex_data[$key_x]);
&gt;&gt;&gt;&gt;               while(list($key_y) = each($tex_data[$key_x])) {
&gt;&gt;&gt;&gt;                  if($key_y &gt;= $height) continue;
&gt;&gt;&gt;&gt;                  $this-&gt;TexUpdate($key_x,$key_y);
&gt;&gt;&gt;&gt;               }
&gt;&gt;&gt;&gt;               $this-&gt;gen_shape();
&gt;&gt;&gt;&gt;               $this-&gt;do_loop();
&gt;&gt;&gt;&gt;            }
&gt;&gt;&gt;&gt;            $this-&gt;gen_shape();
&gt;&gt;&gt;&gt;            $this-&gt;do_loop();
&gt;&gt;&gt;&gt;         }
&gt;&gt;&gt;&gt;         else {
&gt;&gt;&gt;&gt;            $this-&gt;tex_data = array();
&gt;&gt;&gt;&gt;         }
&gt;&gt;&gt;&gt;         $this-&gt;done = false;
&gt;&gt;&gt;&gt;      }
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;      function TexUpdate($dmx,$dmy)  {                           //  
&gt;&gt;&gt;&gt; Update Pixel dmx, dmy On The Texture
&gt;&gt;&gt;&gt;         $dmx = (int)$dmx;
&gt;&gt;&gt;&gt;         $dmy = (int)$dmy;
&gt;&gt;&gt;&gt;         if($dmx &gt;= $this-&gt;width || $dmy &gt;= $this-&gt;height) return;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;         $this-&gt;tex($dmx,$dmy,255);      // Set Red Pixel To Full   
&gt;&gt;&gt;&gt; Bright
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;         $dmx = $dmx*$this-&gt;zoom;
&gt;&gt;&gt;&gt;         $dmy = $dmy*$this-&gt;zoom;
&gt;&gt;&gt;&gt;         static $i_color = 0;
&gt;&gt;&gt;&gt;         $i_color++;
&gt;&gt;&gt;&gt;         if($i_color &gt;= 256) $i_color = 0;
&gt;&gt;&gt;&gt;         $i_color = mt_rand(0,255);
&gt;&gt;&gt;&gt;         $color = $i_color*$i_color*$i_color;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;         $r = $color
&gt;&gt;&gt;&gt;         $g = ($color&amp;65280)&gt;&gt;8;
&gt;&gt;&gt;&gt;         $b = ($color&amp;16711680)&gt;&gt;16;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; //         $gc = $this-&gt;style-&gt;black_gc;
&gt;&gt;&gt;&gt;         $this-&gt;gc-&gt;set_foreground($this-&gt;cmap-&gt;alloc_color 
&gt;&gt;&gt;&gt; ($r*256,  $g*256, $b*256));
&gt;&gt;&gt;&gt;         $gc = $this-&gt;gc;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;         $this-&gt;pixmap-&gt;draw_rectangle($gc,
&gt;&gt;&gt;&gt;                                       true, $dmx, $dmy,
&gt;&gt;&gt;&gt;                                       $this-&gt;zoom,
&gt;&gt;&gt;&gt;                                       $this-&gt;zoom);
&gt;&gt;&gt;&gt; // Here is an BUG ????
&gt;&gt;&gt;&gt;         $this-&gt;pixmaps-&gt;draw_rectangle($this-&gt;style-&gt;white_gc,
&gt;&gt;&gt;&gt;                                        true, $dmx, $dmy,
&gt;&gt;&gt;&gt;                                        $this-&gt;zoom,
&gt;&gt;&gt;&gt;                                        $this-&gt;zoom);
&gt;&gt;&gt;&gt;         $this-&gt;da-&gt;queue_draw_area($dmx, $dmy, $dmx+5, $dmy+5);
&gt;&gt;&gt;&gt;      }
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;      function tex($dmx,$dmy,$val = -1) {
&gt;&gt;&gt;&gt;         if($val != -1) {
&gt;&gt;&gt;&gt;            $this-&gt;tex_data[$dmx][$dmy]=$val;
&gt;&gt;&gt;&gt;         }
&gt;&gt;&gt;&gt;         if(@isset($this-&gt;tex_data[$dmx][$dmy]))
&gt;&gt;&gt;&gt;            return($this-&gt;tex_data[$dmx][$dmy]);
&gt;&gt;&gt;&gt;         else
&gt;&gt;&gt;&gt;            return(0);
&gt;&gt;&gt;&gt;      }
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;      function TexMake() {
&gt;&gt;&gt;&gt;         global $break_loop;
&gt;&gt;&gt;&gt;         $width  = $this-&gt;width;
&gt;&gt;&gt;&gt;         $height = $this-&gt;height;
&gt;&gt;&gt;&gt;         $mx = &amp;$this-&gt;mx;
&gt;&gt;&gt;&gt;         $my = &amp;$this-&gt;my;
&gt;&gt;&gt;&gt;         $tex_data = &amp;$this-&gt;tex_data;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;         if($this-&gt;done) {
&gt;&gt;&gt;&gt;            $this-&gt;TexReset();
&gt;&gt;&gt;&gt;         }
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;         // Check To Make Sure We Are Not Trapped (Nowhere Else  To  
&gt;&gt;&gt;&gt; Move)
&gt;&gt;&gt;&gt;         /*
&gt;&gt;&gt;&gt;         if((($mx&gt;($width-4) || $this-&gt;tex($mx+2,$my)==255)) &amp;&amp;
&gt;&gt;&gt;&gt;            (($mx&lt;2 || $this-&gt;tex($mx-2,$my)==255)) &amp;&amp;
&gt;&gt;&gt;&gt;            (($my&gt;($height-4) || $this-&gt;tex($mx,$my+2)==255)) &amp;&amp;
&gt;&gt;&gt;&gt;            (($my&lt;2 || $this-&gt;tex($mx,$my-2)==255))) {
&gt;&gt;&gt;&gt;            do  {                                                  
&gt;&gt;&gt;&gt; //  If We Are  Trapped
&gt;&gt;&gt;&gt;               $mx=(int)(rand()%($width/2)) *2;                    
&gt;&gt;&gt;&gt; //  Pick A New Random X Position
&gt;&gt;&gt;&gt;               $my=(int)(rand()%($height/2)) *2;                   
&gt;&gt;&gt;&gt; //  Pick A New Random Y Position
&gt;&gt;&gt;&gt;               $this-&gt;do_loop();
&gt;&gt;&gt;&gt;            } while(!$break_loop &amp;&amp; $this-&gt;tex($mx,$my) ==0);      
&gt;&gt;&gt;&gt; //  Keep Picking A Random Position Until We Find
&gt;&gt;&gt;&gt;         }                                                        
&gt;&gt;&gt;&gt; //   One That Has Already Been Tagged (Safe Starting Point)
&gt;&gt;&gt;&gt;         */
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;         static $no_found = 0;
&gt;&gt;&gt;&gt;         {
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;            $dir=(int)mt_rand(1,8)% 4;                             
&gt;&gt;&gt;&gt; //  Pick A Random Direction
&gt;&gt;&gt;&gt;            if(($dir==0) &amp;&amp; ($mx&lt;=($width-4)))  {                  
&gt;&gt;&gt;&gt; //  If The Direction Is 0 (Right) And We Are  Not At The Far Right
&gt;&gt;&gt;&gt;               if($this-&gt;tex($mx+2,$my)==0)  {                     
&gt;&gt;&gt;&gt; //  And If The Room To The Right Has Not  Already Been Visited
&gt;&gt;&gt;&gt;                  $this-&gt;TexUpdate($mx+1, $my);                    
&gt;&gt;&gt;&gt; //  Update The Texture To Show Path Cut  Out Between Rooms
&gt;&gt;&gt;&gt;                  $mx +=2;                                         
&gt;&gt;&gt;&gt; //  Move To The  Right (Room To The Right)
&gt;&gt;&gt;&gt;                  $no_found = 0;
&gt;&gt;&gt;&gt;               }
&gt;&gt;&gt;&gt;               else {
&gt;&gt;&gt;&gt;                  $no_found++;
&gt;&gt;&gt;&gt;               }
&gt;&gt;&gt;&gt;            }
&gt;&gt;&gt;&gt;            else if(($dir==1) &amp;&amp; ($my&lt;=($height-4)))  {            
&gt;&gt;&gt;&gt; //  If The Direction Is 1 (Down) And We Are Not At  The Bottom
&gt;&gt;&gt;&gt;               if($this-&gt;tex($mx,$my+2)==0)  {                     
&gt;&gt;&gt;&gt; //  And If The Room Below Has Not Already  Been Visited
&gt;&gt;&gt;&gt;                  $this-&gt;TexUpdate($mx,$my +1);                    
&gt;&gt;&gt;&gt; //  Update The Texture To Show Path Cut  Out Between Rooms
&gt;&gt;&gt;&gt;                  $my +=2;                                         
&gt;&gt;&gt;&gt; //  Move Down (Room  Below)
&gt;&gt;&gt;&gt;                  $no_found = 0;
&gt;&gt;&gt;&gt;               }
&gt;&gt;&gt;&gt;               else {
&gt;&gt;&gt;&gt;                  $no_found++;
&gt;&gt;&gt;&gt;               }
&gt;&gt;&gt;&gt;            }
&gt;&gt;&gt;&gt;            else if(($dir==2) &amp;&amp; ($mx&gt;=2))  {                      
&gt;&gt;&gt;&gt; //  If The Direction Is 2 (Left) And We  Are Not At The Far Left
&gt;&gt;&gt;&gt;               if($this-&gt;tex($mx-2,$my)==0)  {                     
&gt;&gt;&gt;&gt; //  And If The Room To The Left Has Not  Already Been Visited
&gt;&gt;&gt;&gt;                  $this-&gt;TexUpdate($mx-1, $my);                    
&gt;&gt;&gt;&gt; //  Update The Texture To Show Path Cut  Out Between Rooms
&gt;&gt;&gt;&gt;                  $mx- =2;                                         
&gt;&gt;&gt;&gt; //  Move To The Left  (Room To The Left)
&gt;&gt;&gt;&gt;                  $no_found = 0;
&gt;&gt;&gt;&gt;               }
&gt;&gt;&gt;&gt;               else {
&gt;&gt;&gt;&gt;                  $no_found++;
&gt;&gt;&gt;&gt;               }
&gt;&gt;&gt;&gt;            }
&gt;&gt;&gt;&gt;            else if(($dir==3) &amp;&amp; ($my&gt;=2))  {                      
&gt;&gt;&gt;&gt; //  If The Direction Is 3 (Up) And We Are  Not At The Top
&gt;&gt;&gt;&gt;               if($this-&gt;tex($mx,$my-2)==0)  {                     
&gt;&gt;&gt;&gt; //  And If The Room Above Has Not Already  Been Visited
&gt;&gt;&gt;&gt;                  $this-&gt;TexUpdate($mx, $my-1);                    
&gt;&gt;&gt;&gt; //  Update The Texture To Show Path  Cut Out Between Rooms
&gt;&gt;&gt;&gt;                  $my- =2;                                         
&gt;&gt;&gt;&gt; //  Move Up (Room Above)
&gt;&gt;&gt;&gt;                  $no_found = 0;
&gt;&gt;&gt;&gt;               }
&gt;&gt;&gt;&gt;               else {
&gt;&gt;&gt;&gt;                  $no_found++;
&gt;&gt;&gt;&gt;               }
&gt;&gt;&gt;&gt;            }
&gt;&gt;&gt;&gt;            if($no_found &gt;= 20) {
&gt;&gt;&gt;&gt;               $i = 0;
&gt;&gt;&gt;&gt;               $no_found = 0;
&gt;&gt;&gt;&gt;               while(!$break_loop &amp;&amp; $this-&gt;tex($mx,$my)==255)   
&gt;&gt;&gt;&gt; {                                               // If We Are Trapped
&gt;&gt;&gt;&gt;                  $i++;
&gt;&gt;&gt;&gt; /*
&gt;&gt;&gt;&gt;                  $mx=(int)(rand()%($width/2)) *2;                 
&gt;&gt;&gt;&gt; //  Pick A New Random X Position
&gt;&gt;&gt;&gt;                  $my=(int)(rand()%($height/2)) *2;                
&gt;&gt;&gt;&gt; //  Pick A New Random Y Position
&gt;&gt;&gt;&gt; */
&gt;&gt;&gt;&gt;                  if($i &gt; 100 &amp;&amp; !($i%1000)) {
&gt;&gt;&gt;&gt;                     if(!($i%1000)) {
&gt;&gt;&gt;&gt;                        if($this-&gt;get_done()) {
&gt;&gt;&gt;&gt;                           return;
&gt;&gt;&gt;&gt;                        }
&gt;&gt;&gt;&gt;                        $this-&gt;mx = $this-&gt;mx_free;
&gt;&gt;&gt;&gt;                        $this-&gt;my = $this-&gt;my_free;
&gt;&gt;&gt;&gt;                        break;
&gt;&gt;&gt;&gt;                     }
&gt;&gt;&gt;&gt;                  }
&gt;&gt;&gt;&gt;               };                   // Keep Picking A Random   
&gt;&gt;&gt;&gt; Position Until We Find
&gt;&gt;&gt;&gt;            }
&gt;&gt;&gt;&gt;         }
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;         $this-&gt;TexUpdate($mx,$my);
&gt;&gt;&gt;&gt;         $this-&gt;gen_shape();
&gt;&gt;&gt;&gt;      }
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;      function get_done_A() {
&gt;&gt;&gt;&gt;         for($x=$this-&gt;mx;$x&lt;$this-&gt;width;$x+=2)   
&gt;&gt;&gt;&gt; {                   // Loop Through All The Rooms
&gt;&gt;&gt;&gt;            for($y=$this-&gt;my;$y&lt;$this-&gt;height;$y+=2)   
&gt;&gt;&gt;&gt; {               // On X And Y Axis
&gt;&gt;&gt;&gt;               if($this-&gt;tex($x,$y)==0)   
&gt;&gt;&gt;&gt; {                            // If Current Texture Pixel (Room)  
&gt;&gt;&gt;&gt; Is  Blank
&gt;&gt;&gt;&gt;                  $this-&gt;mx_free = $x;
&gt;&gt;&gt;&gt;                  $this-&gt;my_free = $y;
&gt;&gt;&gt;&gt;                  return  
&gt;&gt;&gt;&gt; (false);                                     // We Have To Set  
&gt;&gt;&gt;&gt; done  To False (Not Finished Yet)
&gt;&gt;&gt;&gt;               }
&gt;&gt;&gt;&gt;            }
&gt;&gt;&gt;&gt;         }
&gt;&gt;&gt;&gt;         return(true);
&gt;&gt;&gt;&gt;      }
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;      function get_done_B() {
&gt;&gt;&gt;&gt;         for($x=$this-&gt;mx-2;$x&gt;=0;$x-=2)   
&gt;&gt;&gt;&gt; {                           // Loop Through All The Rooms
&gt;&gt;&gt;&gt;            for($y=$this-&gt;my-2;$y&gt;=0;$y-=2)   
&gt;&gt;&gt;&gt; {                        // On X And Y Axis
&gt;&gt;&gt;&gt;               if($this-&gt;tex($x,$y)==0)   
&gt;&gt;&gt;&gt; {                            // If Current Texture Pixel (Room)  
&gt;&gt;&gt;&gt; Is  Blank
&gt;&gt;&gt;&gt;                  $this-&gt;mx_free = $x;
&gt;&gt;&gt;&gt;                  $this-&gt;my_free = $y;
&gt;&gt;&gt;&gt;                  return  
&gt;&gt;&gt;&gt; (false);                                     // We Have To Set  
&gt;&gt;&gt;&gt; done  To False (Not Finished Yet)
&gt;&gt;&gt;&gt;               }
&gt;&gt;&gt;&gt;            }
&gt;&gt;&gt;&gt;         }
&gt;&gt;&gt;&gt;         return(true);
&gt;&gt;&gt;&gt;      }
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;      function get_done_C() {
&gt;&gt;&gt;&gt;         for($x=0;$x&lt;$this-&gt;width;$x+=2)   
&gt;&gt;&gt;&gt; {                           // Loop Through All The Rooms
&gt;&gt;&gt;&gt;            for($y=0;$y&lt;$this-&gt;height;$y+=2)   
&gt;&gt;&gt;&gt; {                       // On X And Y Axis
&gt;&gt;&gt;&gt;               if($this-&gt;tex($x,$y)==0)   
&gt;&gt;&gt;&gt; {                            // If Current Texture Pixel (Room)  
&gt;&gt;&gt;&gt; Is  Blank
&gt;&gt;&gt;&gt;                  $this-&gt;mx_free = $x;
&gt;&gt;&gt;&gt;                  $this-&gt;my_free = $y;
&gt;&gt;&gt;&gt;                  return  
&gt;&gt;&gt;&gt; (false);                                     // We Have To Set  
&gt;&gt;&gt;&gt; done  To False (Not Finished Yet)
&gt;&gt;&gt;&gt;               }
&gt;&gt;&gt;&gt;            }
&gt;&gt;&gt;&gt;         }
&gt;&gt;&gt;&gt;         return(true);
&gt;&gt;&gt;&gt;      }
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;      function get_done() {
&gt;&gt;&gt;&gt;         static $c = 0;
&gt;&gt;&gt;&gt;         if(!$c) {
&gt;&gt;&gt;&gt;            $c = 1;
&gt;&gt;&gt;&gt;            if($this-&gt;get_done_A() &amp;&amp; $this-&gt;get_done_B() &amp;&amp;  $this- 
&gt;&gt;&gt;&gt; &gt;get_done_C()) {
&gt;&gt;&gt;&gt;               $this-&gt;done = true;
&gt;&gt;&gt;&gt;               return(true);
&gt;&gt;&gt;&gt;            }
&gt;&gt;&gt;&gt;         }
&gt;&gt;&gt;&gt;         else {
&gt;&gt;&gt;&gt;            $c = 0;
&gt;&gt;&gt;&gt;            if($this-&gt;get_done_B() &amp;&amp; $this-&gt;get_done_A() &amp;&amp;  $this- 
&gt;&gt;&gt;&gt; &gt;get_done_C()) {
&gt;&gt;&gt;&gt;               $this-&gt;done = true;
&gt;&gt;&gt;&gt;               return(true);
&gt;&gt;&gt;&gt;            }
&gt;&gt;&gt;&gt;         }
&gt;&gt;&gt;&gt;         return(false);
&gt;&gt;&gt;&gt;      }
&gt;&gt;&gt;&gt;   };
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;   $fun = new Fun();
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;   while(!$break_loop) {
&gt;&gt;&gt;&gt;      $fun-&gt;do_loop();
&gt;&gt;&gt;&gt;      if(!$break_loop) {
&gt;&gt;&gt;&gt;         $fun-&gt;TexMake();
&gt;&gt;&gt;&gt;      }
&gt;&gt;&gt;&gt;   }
&gt;&gt;&gt;&gt; ?&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; (sorry for my english ;))
&gt;&gt;&gt;&gt; mfg xxoes
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060219171002</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-19 17:10:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [PHP-GTK] New GtkTreeModel functionality</subject><body>

&gt; I'll try to make a bug script
Ok, I committed that to CVS (test/bug_inspector.phpw). Seems as if it
isn't the tree selection only, but could affect other methods as well.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060214045109</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-14 04:51:09-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] That GtkTreePath-as-boxed patch</subject><body>

I already did, didn't I?

(I know I thought I had in the original patch anyway).

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, February 14, 2006 5:42 AM
Subject: Re: [PHP-GTK-DEV] That GtkTreePath-as-boxed patch


&gt; All right, I reviewed. Basically, if you make GtkTreePath into a  
&gt; boxed object, then we have two ways of representing GtkTreePath when  
&gt; it's passed to functions: as a string and as a boxed object. There  
&gt; needs to be additional code to check for this and do the right thing,  
&gt; and that code will need to be generated (so more hacking in  
&gt; argtypes.php I think). If you're really sure that it will be useful,  
&gt; I'll hack it.
&gt; 
&gt; -Andrei
&gt; 
&gt; 
&gt; On Nov 2, 2005, at 1:10 PM, Steph Fox wrote:
&gt; 
&gt;&gt; Andrei, hi,
&gt;&gt;
&gt;&gt; This is a much smaller patch now.  Please review when you get a  
&gt;&gt; minute?
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt; &lt;treepath.txt&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060214045925</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-14 04:59:25-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] That GtkTreePath-as-boxed patch</subject><body>

Ah wait, memory's flooding back now.

You're right, I did a test drive with a single function that calls it.

It's useful because it's an iterator in its own right, and having it exposed 
means you can traverse a tree 'from the inside' if you see what I mean.

----- Original Message ----- 
From: "Steph Fox" &lt;steph@zend.com&gt;
To: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, February 14, 2006 6:51 AM
Subject: Re: [PHP-GTK-DEV] That GtkTreePath-as-boxed patch


&gt;I already did, didn't I?
&gt;
&gt; (I know I thought I had in the original patch anyway).
&gt;
&gt; ----- Original Message ----- 
&gt; From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt; Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Tuesday, February 14, 2006 5:42 AM
&gt; Subject: Re: [PHP-GTK-DEV] That GtkTreePath-as-boxed patch
&gt;
&gt;
&gt;&gt; All right, I reviewed. Basically, if you make GtkTreePath into a  boxed 
&gt;&gt; object, then we have two ways of representing GtkTreePath when  it's 
&gt;&gt; passed to functions: as a string and as a boxed object. There  needs to 
&gt;&gt; be additional code to check for this and do the right thing,  and that 
&gt;&gt; code will need to be generated (so more hacking in  argtypes.php I 
&gt;&gt; think). If you're really sure that it will be useful,  I'll hack it.
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; On Nov 2, 2005, at 1:10 PM, Steph Fox wrote:
&gt;&gt;
&gt;&gt;&gt; Andrei, hi,
&gt;&gt;&gt;
&gt;&gt;&gt; This is a much smaller patch now.  Please review when you get a  minute?
&gt;&gt;&gt;
&gt;&gt;&gt; - Steph
&gt;&gt;&gt; &lt;treepath.txt&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060214062135</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-14 06:21:35-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] That GtkTreePath-as-boxed patch</subject><body>

No, you're not really traversing the tree with GtkTreePath. You still  
need to call get_iter($path) each time you want to get ahold of the  
iterator referring to the GtkTreePath. I am working on a better way.  
Perhaps, we should wait and see until it's ready and then decide  
whether we still want GtkTreePath as a boxed object.

-Andrei


On Feb 13, 2006, at 8:59 PM, Steph Fox wrote:

&gt; Ah wait, memory's flooding back now.
&gt;
&gt; You're right, I did a test drive with a single function that calls it.
&gt;
&gt; It's useful because it's an iterator in its own right, and having  
&gt; it exposed means you can traverse a tree 'from the inside' if you  
&gt; see what I mean.
&gt;
&gt; ----- Original Message ----- From: "Steph Fox" &lt;steph@zend.com&gt;
&gt; To: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
&gt; Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Tuesday, February 14, 2006 6:51 AM
&gt; Subject: Re: [PHP-GTK-DEV] That GtkTreePath-as-boxed patch
&gt;
&gt;
&gt;&gt; I already did, didn't I?
&gt;&gt;
&gt;&gt; (I know I thought I had in the original patch anyway).
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "Andrei Zmievski"  
&gt;&gt; &lt;andrei@gravitonic.com&gt;
&gt;&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt;&gt; Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt; Sent: Tuesday, February 14, 2006 5:42 AM
&gt;&gt; Subject: Re: [PHP-GTK-DEV] That GtkTreePath-as-boxed patch
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; All right, I reviewed. Basically, if you make GtkTreePath into a   
&gt;&gt;&gt; boxed object, then we have two ways of representing GtkTreePath  
&gt;&gt;&gt; when  it's passed to functions: as a string and as a boxed  
&gt;&gt;&gt; object. There  needs to be additional code to check for this and  
&gt;&gt;&gt; do the right thing,  and that code will need to be generated (so  
&gt;&gt;&gt; more hacking in  argtypes.php I think). If you're really sure  
&gt;&gt;&gt; that it will be useful,  I'll hack it.
&gt;&gt;&gt;
&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Nov 2, 2005, at 1:10 PM, Steph Fox wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Andrei, hi,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; This is a much smaller patch now.  Please review when you get a   
&gt;&gt;&gt;&gt; minute?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; - Steph
&gt;&gt;&gt;&gt; &lt;treepath.txt&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060214151207</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-14 15:12:07-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] That GtkTreePath-as-boxed patch</subject><body>

Hm, the reason I made it that way in the first place was that the array it 
is/was at the time simply fails, or did. No idea now, it's a long time since 
I looked into it. If the path is a boxed object you can have (and my test 
script does have) $filter = $model-&gt;filter_new($path).

More to the point, in a single column with 3 entries:

$iter = $store-&gt;get_iter_first();
$path = $store-&gt;get_path($iter);
echo $path-&gt;to_string()."\n"; //  1
$path-&gt;next();                     //  2
$path-&gt;prev();                     //  1
$path-&gt;up();                       //  NULL (this is the parent branch, no 
possibility of going any further)
$path-&gt;down();                   //  0 (no sub-branches, but integer because 
sub-branches can be created)
$newiter = $store-&gt;get_iter($path);

worked in my test script following the change. If the path exists (ie it's 
not 0 or NULL) then $path alters its value as it 'moves around', so calling 
get_iter($path) when $path = 2 will return the appropriate iter so that you 
can do something with that cell. It makes it very simple to check exactly 
where you are, and it also makes it very simple to get to the next/previous 
cell or branch. You don't need the iter object in order to move around; you 
just call it when you need to access a cell. Because you have access to the 
value of the path itself, via to_string(), it's very straightforward to 
manipulate it programmatically.

NB I've a feeling the way iter_next() works has changed since I wrote this 
in October. $store-&gt;iter_next($iter); used to change the iter value directly 
rather than return it.

What kind of 'better way'?



&gt; No, you're not really traversing the tree with GtkTreePath. You still 
&gt; need to call get_iter($path) each time you want to get ahold of the 
&gt; iterator referring to the GtkTreePath. I am working on a better way. 
&gt; Perhaps, we should wait and see until it's ready and then decide  whether 
&gt; we still want GtkTreePath as a boxed object.
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Feb 13, 2006, at 8:59 PM, Steph Fox wrote:
&gt;
&gt;&gt; Ah wait, memory's flooding back now.
&gt;&gt;
&gt;&gt; You're right, I did a test drive with a single function that calls it.
&gt;&gt;
&gt;&gt; It's useful because it's an iterator in its own right, and having  it 
&gt;&gt; exposed means you can traverse a tree 'from the inside' if you  see what 
&gt;&gt; I mean.
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "Steph Fox" &lt;steph@zend.com&gt;
&gt;&gt; To: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
&gt;&gt; Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt; Sent: Tuesday, February 14, 2006 6:51 AM
&gt;&gt; Subject: Re: [PHP-GTK-DEV] That GtkTreePath-as-boxed patch
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; I already did, didn't I?
&gt;&gt;&gt;
&gt;&gt;&gt; (I know I thought I had in the original patch anyway).
&gt;&gt;&gt;
&gt;&gt;&gt; ----- Original Message ----- From: "Andrei Zmievski" 
&gt;&gt;&gt; &lt;andrei@gravitonic.com&gt;
&gt;&gt;&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt;&gt;&gt; Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt;&gt; Sent: Tuesday, February 14, 2006 5:42 AM
&gt;&gt;&gt; Subject: Re: [PHP-GTK-DEV] That GtkTreePath-as-boxed patch
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; All right, I reviewed. Basically, if you make GtkTreePath into a 
&gt;&gt;&gt;&gt; boxed object, then we have two ways of representing GtkTreePath  when 
&gt;&gt;&gt;&gt; it's passed to functions: as a string and as a boxed  object. There 
&gt;&gt;&gt;&gt; needs to be additional code to check for this and  do the right thing, 
&gt;&gt;&gt;&gt; and that code will need to be generated (so  more hacking in 
&gt;&gt;&gt;&gt; argtypes.php I think). If you're really sure  that it will be useful, 
&gt;&gt;&gt;&gt; I'll hack it.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; On Nov 2, 2005, at 1:10 PM, Steph Fox wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Andrei, hi,
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; This is a much smaller patch now.  Please review when you get a 
&gt;&gt;&gt;&gt;&gt; minute?
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; - Steph
&gt;&gt;&gt;&gt;&gt; &lt;treepath.txt&gt;
&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060212211447</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-12 21:14:47-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] any idea ?</subject><body>

This doesn't work for me. I get an error on the line where you are  
trying to set 'model' attribute.

-Andrei


On Feb 10, 2006, at 9:20 PM, Pablo Dall'Oglio wrote:

&gt; Didn't realize how GtkCellRendererCombo works...
&gt;
&gt; &lt;?php
&gt; $window = new GtkWindow;
&gt; $window-&gt;connect_simple('destroy', array('gtk', 'main_quit'));
&gt; $window-&gt;set_default_size(480,240);
&gt; $window-&gt;set_position(GTK::WIN_POS_CENTER);
&gt;
&gt; $list = new GtkTreeView;
&gt; $window-&gt;add($list);
&gt;
&gt; $model = new GtkListStore(Gtk::TYPE_STRING, Gtk::TYPE_STRING);
&gt; $list-&gt;set_model($model);
&gt;
&gt;
&gt; $column1 = new GtkTreeViewColumn();
&gt; $column2 = new GtkTreeViewColumn();
&gt;
&gt; $cell_renderer1 = new GtkCellRendererText();
&gt; $cell_renderer2 = new GtkCellRendererCombo();
&gt;
&gt; $model_ = new GtkListStore(Gtk::TYPE_STRING);
&gt; $model_-&gt;append(array('ssss'));
&gt;
&gt; $column1-&gt;pack_start($cell_renderer1, true);
&gt; $column2-&gt;pack_start($cell_renderer2, true);
&gt;
&gt; $column1-&gt;set_attributes($cell_renderer1, 'text', 0);
&gt; $column2-&gt;set_attributes($cell_renderer2, 'text', 1);
&gt; $column2-&gt;set_attributes($cell_renderer2, 'model', $model_);
&gt; $column2-&gt;set_attributes($cell_renderer2, 'text-column', 0);
&gt;
&gt; $list-&gt;append_column($column1);
&gt; $list-&gt;append_column($column2);
&gt;
&gt; $iter = $model-&gt;append(array('a', 'b'));
&gt; $iter = $model-&gt;append(array('a', 'b'));
&gt;
&gt; $window-&gt;show_all();
&gt;
&gt; Gtk::Main();
&gt; ?&gt;
&gt;
&gt; -- 
&gt; :: Pablo Dall'Oglio
&gt; :: www.dalloglio.net
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060211000423</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-11 00:04:23-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] stock-browser.php</subject><body>

Andrei, I think this might be because you overwrote the workaround I had in 
place.



----- Original Message ----- 
From: "Pablo Dall'Oglio" &lt;pablo@dalloglio.net&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Friday, February 10, 2006 5:45 AM
Subject: [PHP-GTK-DEV] stock-browser.php


&gt; Andrei,
&gt;
&gt; Thanks for the UTF8 patch, solves all my problems regarding accented
&gt; characters in GtkTreeView's.
&gt;
&gt; The only problem that I saw now, it's about stock-browser.php sample.
&gt; In the second column (label), the words are coming "over-econded" :-)
&gt; (don't know if it's the right word). But, It seems that was applied
&gt; utf8_encode twice...
&gt;
&gt; Take a look at:
&gt; Gtk::stock_lookup($id);
&gt;
&gt; I know it's hard to figure out these things because english as no
&gt; accented characters. But Gtk::STOCK_INFO that in brazilian portuguese is
&gt; "Informao", in stock-browser.php is shown as "Informa  o". But 
&gt; it's
&gt; the only place I've seen this problem.
&gt;
&gt; It doesn't happen when I use GtkButton::new_from_stock(). In this case,
&gt; the name of the buttons (even the accented ones) are fine.
&gt;
&gt; Pablo
&gt;
&gt; -- 
&gt; :: Pablo Dall'Oglio
&gt; :: www.dalloglio.net
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060211194421</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-11 19:44:21-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] stock-browser.php</subject><body>

what workaround?

-Andrei


On Feb 10, 2006, at 4:04 PM, Steph Fox wrote:

&gt; Andrei, I think this might be because you overwrote the workaround  
&gt; I had in place.
&gt;
&gt;
&gt;
&gt; ----- Original Message ----- From: "Pablo Dall'Oglio"  
&gt; &lt;pablo@dalloglio.net&gt;
&gt; To: &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Friday, February 10, 2006 5:45 AM
&gt; Subject: [PHP-GTK-DEV] stock-browser.php
&gt;
&gt;
&gt;&gt; Andrei,
&gt;&gt;
&gt;&gt; Thanks for the UTF8 patch, solves all my problems regarding accented
&gt;&gt; characters in GtkTreeView's.
&gt;&gt;
&gt;&gt; The only problem that I saw now, it's about stock-browser.php sample.
&gt;&gt; In the second column (label), the words are coming "over-econded" :-)
&gt;&gt; (don't know if it's the right word). But, It seems that was applied
&gt;&gt; utf8_encode twice...
&gt;&gt;
&gt;&gt; Take a look at:
&gt;&gt; Gtk::stock_lookup($id);
&gt;&gt;
&gt;&gt; I know it's hard to figure out these things because english as no
&gt;&gt; accented characters. But Gtk::STOCK_INFO that in brazilian  
&gt;&gt; portuguese is
&gt;&gt; "Informao", in stock-browser.php is shown as "Informa   
&gt;&gt; o". But it's
&gt;&gt; the only place I've seen this problem.
&gt;&gt;
&gt;&gt; It doesn't happen when I use GtkButton::new_from_stock(). In this  
&gt;&gt; case,
&gt;&gt; the name of the buttons (even the accented ones) are fine.
&gt;&gt;
&gt;&gt; Pablo
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; :: Pablo Dall'Oglio
&gt;&gt; :: www.dalloglio.net
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060211195555</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-11 19:55:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] stock-browser.php</subject><body>

_when_ this wretched CVS issue of mine finally allows me to checkout the 
php-gtk module, I'll look into the issue with Hebrew chars and check whether 
I'm talking rubbish before I answer that :)

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "Pablo Dall'Oglio" &lt;pablo@dalloglio.net&gt;; &lt;php-gtk-dev@lists.php.net&gt;
Sent: Saturday, February 11, 2006 9:44 PM
Subject: Re: [PHP-GTK-DEV] stock-browser.php


what workaround?

-Andrei


On Feb 10, 2006, at 4:04 PM, Steph Fox wrote:

&gt; Andrei, I think this might be because you overwrote the workaround  I had 
&gt; in place.
&gt;
&gt;
&gt;
&gt; ----- Original Message ----- From: "Pablo Dall'Oglio" 
&gt; &lt;pablo@dalloglio.net&gt;
&gt; To: &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Friday, February 10, 2006 5:45 AM
&gt; Subject: [PHP-GTK-DEV] stock-browser.php
&gt;
&gt;
&gt;&gt; Andrei,
&gt;&gt;
&gt;&gt; Thanks for the UTF8 patch, solves all my problems regarding accented
&gt;&gt; characters in GtkTreeView's.
&gt;&gt;
&gt;&gt; The only problem that I saw now, it's about stock-browser.php sample.
&gt;&gt; In the second column (label), the words are coming "over-econded" :-)
&gt;&gt; (don't know if it's the right word). But, It seems that was applied
&gt;&gt; utf8_encode twice...
&gt;&gt;
&gt;&gt; Take a look at:
&gt;&gt; Gtk::stock_lookup($id);
&gt;&gt;
&gt;&gt; I know it's hard to figure out these things because english as no
&gt;&gt; accented characters. But Gtk::STOCK_INFO that in brazilian  portuguese is
&gt;&gt; "Informao", in stock-browser.php is shown as "Informa   o". But 
&gt;&gt; it's
&gt;&gt; the only place I've seen this problem.
&gt;&gt;
&gt;&gt; It doesn't happen when I use GtkButton::new_from_stock(). In this  case,
&gt;&gt; the name of the buttons (even the accented ones) are fine.
&gt;&gt;
&gt;&gt; Pablo
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; :: Pablo Dall'Oglio
&gt;&gt; :: www.dalloglio.net
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php


__________ NOD32 1.1380 (20060125) Information __________

This message was checked by NOD32 antivirus system.
http://www.eset.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060209170839</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-09 17:08:39-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] problem compiling win32 version</subject><body>

You're gonna have to translate that from German.

-Andrei

On Feb 9, 2006, at 1:48 AM, Christian Weiske wrote:

&gt; Hi
&gt;
&gt;
&gt; A user in the php-gtk channel can't compile the current cvs version.
&gt; He gets the following error:
&gt; -----------
&gt; ext\gtk+\gen_gtk.c(16378) : error C2065: 'tsrm_ls' : nichtdeklarierter
&gt; Bezeichne
&gt; r
&gt; ext\gtk+\gen_gtk.c(16378) : warning C4022: 'get_active_class_name' :
&gt; Zeigertyp f
&gt; r bergebenen Parameter 2 stimmt nicht mit dem deklarierten Zeigertyp
&gt; berein
&gt; ext\gtk+\gen_gtk.c(16378) : warning C4022: 'get_active_function_name' :
&gt; Zeigerty
&gt; p fr bergebenen Parameter 1 stimmt nicht mit dem deklarierten
&gt; Zeigertyp berei
&gt; n
&gt; NMAKE : fataler Fehler U1077: 'cl' : Rueckgabe-Code '0x2'
&gt; Stop.
&gt; -----------
&gt;
&gt; When uncommenting the following line in gen_gtk.c
&gt; (phpg_parse_target_entries), it compiles:
&gt; -------
&gt; php_error(E_WARNING, "%s::%s() was unable to parse target #%d in the
&gt; list of targets", get_active_class_name(NULL TSRMLS_CC),
&gt; get_active_function_name(TSRMLS_C), n+1);
&gt; -------
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060209171223</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-09 17:12:23-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] problem compiling win32 version</subject><body>


&gt; You're gonna have to translate that from German.
I don't know the exact terms, but I'll try:

&gt;&gt; ext\gtk+\gen_gtk.c(16378) : error C2065: 'tsrm_ls' : nichtdeklarierter
&gt;&gt; Bezeichne
&gt;&gt; r
undeclared identifier

&gt;&gt; ext\gtk+\gen_gtk.c(16378) : warning C4022: 'get_active_class_name' :
&gt;&gt; Zeigertyp f
&gt;&gt; r bergebenen Parameter 2 stimmt nicht mit dem deklarierten Zeigertyp
&gt;&gt; berein
pointer type of passed parameter 2 doesn't match the declared pointer type

&gt;&gt; ext\gtk+\gen_gtk.c(16378) : warning C4022: 'get_active_function_name' :
&gt;&gt; Zeigerty
&gt;&gt; p fr bergebenen Parameter 1 stimmt nicht mit dem deklarierten
&gt;&gt; Zeigertyp berei
pointer type of passed parameter 1 doesn't match the declared pointer type

&gt;&gt; n
&gt;&gt; NMAKE : fataler Fehler U1077: 'cl' : Rueckgabe-Code '0x2'
fatal error U1077 : return code 0x2


-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060209171818</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-09 17:18:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] problem compiling win32 version</subject><body>

grr wrong button

----- Original Message ----- 
From: "Steph Fox" &lt;steph@zend.com&gt;
To: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
Sent: Thursday, February 09, 2006 7:17 PM
Subject: Re: [PHP-GTK-DEV] problem compiling win32 version


&gt; It's a windows box.  And I speak enough German to figure it out, just need 
&gt; to get home to do that. (and be sober.)
&gt;
&gt; ----- Original Message ----- 
&gt; From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
&gt; To: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
&gt; Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Thursday, February 09, 2006 7:08 PM
&gt; Subject: Re: [PHP-GTK-DEV] problem compiling win32 version
&gt;
&gt;
&gt; You're gonna have to translate that from German.
&gt;
&gt; -Andrei
&gt;
&gt; On Feb 9, 2006, at 1:48 AM, Christian Weiske wrote:
&gt;
&gt;&gt; Hi
&gt;&gt;
&gt;&gt;
&gt;&gt; A user in the php-gtk channel can't compile the current cvs version.
&gt;&gt; He gets the following error:
&gt;&gt; -----------
&gt;&gt; ext\gtk+\gen_gtk.c(16378) : error C2065: 'tsrm_ls' : nichtdeklarierter
&gt;&gt; Bezeichne
&gt;&gt; r
&gt;&gt; ext\gtk+\gen_gtk.c(16378) : warning C4022: 'get_active_class_name' :
&gt;&gt; Zeigertyp f
&gt;&gt; r bergebenen Parameter 2 stimmt nicht mit dem deklarierten Zeigertyp
&gt;&gt; berein
&gt;&gt; ext\gtk+\gen_gtk.c(16378) : warning C4022: 'get_active_function_name' :
&gt;&gt; Zeigerty
&gt;&gt; p fr bergebenen Parameter 1 stimmt nicht mit dem deklarierten
&gt;&gt; Zeigertyp berei
&gt;&gt; n
&gt;&gt; NMAKE : fataler Fehler U1077: 'cl' : Rueckgabe-Code '0x2'
&gt;&gt; Stop.
&gt;&gt; -----------
&gt;&gt;
&gt;&gt; When uncommenting the following line in gen_gtk.c
&gt;&gt; (phpg_parse_target_entries), it compiles:
&gt;&gt; -------
&gt;&gt; php_error(E_WARNING, "%s::%s() was unable to parse target #%d in the
&gt;&gt; list of targets", get_active_class_name(NULL TSRMLS_CC),
&gt;&gt; get_active_function_name(TSRMLS_C), n+1);
&gt;&gt; -------
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060209210502</emailId><senderName>Markus Fischer</senderName><senderEmail>markus@fischer.name</senderEmail><timestampReceived>2006-02-09 21:05:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] problem compiling win32 version</subject><body>

Hi,

not sure, but it looks like TSRMLS_FETCH() is missing?

HTH

Andrei Zmievski wrote:
&gt; You're gonna have to translate that from German.
&gt; 
&gt; -Andrei
&gt; 
&gt; On Feb 9, 2006, at 1:48 AM, Christian Weiske wrote:
&gt; 
&gt;&gt; Hi
&gt;&gt;
&gt;&gt;
&gt;&gt; A user in the php-gtk channel can't compile the current cvs version.
&gt;&gt; He gets the following error:
&gt;&gt; -----------
&gt;&gt; ext\gtk+\gen_gtk.c(16378) : error C2065: 'tsrm_ls' : nichtdeklarierter
&gt;&gt; Bezeichne
&gt;&gt; r
&gt;&gt; ext\gtk+\gen_gtk.c(16378) : warning C4022: 'get_active_class_name' :
&gt;&gt; Zeigertyp f
&gt;&gt; r bergebenen Parameter 2 stimmt nicht mit dem deklarierten Zeigertyp
&gt;&gt; berein
&gt;&gt; ext\gtk+\gen_gtk.c(16378) : warning C4022: 'get_active_function_name' :
&gt;&gt; Zeigerty
&gt;&gt; p fr bergebenen Parameter 1 stimmt nicht mit dem deklarierten
&gt;&gt; Zeigertyp berei
&gt;&gt; n
&gt;&gt; NMAKE : fataler Fehler U1077: 'cl' : Rueckgabe-Code '0x2'
&gt;&gt; Stop.
&gt;&gt; -----------
&gt;&gt;
&gt;&gt; When uncommenting the following line in gen_gtk.c
&gt;&gt; (phpg_parse_target_entries), it compiles:
&gt;&gt; -------
&gt;&gt; php_error(E_WARNING, "%s::%s() was unable to parse target #%d in the
&gt;&gt; list of targets", get_active_class_name(NULL TSRMLS_CC),
&gt;&gt; get_active_function_name(TSRMLS_C), n+1);
&gt;&gt; -------
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt;&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060207065502</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-07 06:55:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Quick question</subject><body>


Andrei,

&gt; $filter = $store-&gt;filter_new($root);
&gt; $filter = new GtkTreeModelFilter($store, $root);

Both create a new tree model, using $root as new root node.

IMO there could be a difference:
&gt; $filter = $store-&gt;filter_new($root);
(definitely, I tried it) uses $root as (invisible) root, so that the
first level below $root is visible in the tree.

&gt; $filter = new GtkTreeModelFilter($store, $root);
That should IMO use $root (being visible itself) as first level entry.
Would that make sense? I don't know.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060207070052</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-07 07:00:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Quick question</subject><body>

No, they should be one and the same. I was just asking about  
stylistic preference.

-Andrei


On Feb 6, 2006, at 10:55 PM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;&gt; $filter = $store-&gt;filter_new($root);
&gt;&gt; $filter = new GtkTreeModelFilter($store, $root);
&gt;
&gt; Both create a new tree model, using $root as new root node.
&gt;
&gt; IMO there could be a difference:
&gt;&gt; $filter = $store-&gt;filter_new($root);
&gt; (definitely, I tried it) uses $root as (invisible) root, so that the
&gt; first level below $root is visible in the tree.
&gt;
&gt;&gt; $filter = new GtkTreeModelFilter($store, $root);
&gt; That should IMO use $root (being visible itself) as first level entry.
&gt; Would that make sense? I don't know.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060207071219</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-07 07:12:19-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Quick question</subject><body>


Andrei,

&gt; No, they should be one and the same. I was just asking about  stylistic
&gt; preference.
&gt; $filter = $store-&gt;filter_new($root);
That one makes clear that you derive the new model from the old one.

&gt; $filter = new GtkTreeModelFilter($store, $root);
This one does the same, but you don't see the direct connection. So I
would prefer the other one.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060207115952</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-07 11:59:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Quick question</subject><body>

Good question. 'what would py do?'

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, February 07, 2006 8:23 AM
Subject: [PHP-GTK-DEV] Quick question


&gt; Quick show of hands:
&gt; 
&gt; $filter = $store-&gt;filter_new($root);
&gt; 
&gt; or
&gt; 
&gt; $filter = new GtkTreeModelFilter($store, $root);
&gt; 
&gt; -Andrei
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060207134530</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-02-07 13:45:30-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Quick question</subject><body>

Andrei Zmievski wrote:
&gt; Quick show of hands:
&gt; 
&gt; $filter = $store-&gt;filter_new($root);
&gt; 
&gt; or
&gt; 
&gt; $filter = new GtkTreeModelFilter($store, $root);

Sort models are built using the new operator right?

I think we should stick with consistency and got with new 
GtkTreeModelFilter($store, $root)


Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060207173240</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-07 17:32:40-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Quick question</subject><body>

PyGtk uses filter_new().

-Andrei

On Feb 7, 2006, at 3:59 AM, Steph Fox wrote:

&gt; Good question. 'what would py do?'
&gt;
&gt; ----- Original Message ----- From: "Andrei Zmievski" 
&gt; &lt;andrei@gravitonic.com&gt;
&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Tuesday, February 07, 2006 8:23 AM
&gt; Subject: [PHP-GTK-DEV] Quick question
&gt;
&gt;
&gt;&gt; Quick show of hands:
&gt;&gt; $filter = $store-&gt;filter_new($root);
&gt;&gt; or
&gt;&gt; $filter = new GtkTreeModelFilter($store, $root);
&gt;&gt; -Andrei
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060123112742</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-23 11:27:42-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkCTreeNode boxed or not?</subject><body>

It's not commented out, it's been defined as a pointer for almost as long as 
we've had pointer support.  This is confusing to me too, because it was on 
my own 'prior to beta TODO' to implement it (as boxed) for the same reason - 
it's preventing a huge chunk of methods being auto-generated.

I wrote to Andrei asking about this decision (and the current 
implementation) some several weeks ago and am still awaiting a response, but 
he probably missed that email in the dev list noise.

Thank you for confirming that it doesn't work under *nix either :)

- Steph


----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, January 23, 2006 8:17 AM
Subject: [PHP-GTK-DEV] GtkCTreeNode boxed or not?

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060123113438</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-23 11:34:38-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkCTreeNode boxed or not?</subject><body>

Steph,

&gt; Thank you for confirming that it doesn't work under *nix either :)
I can't work because the methods aren't generated because the relevant
line in arg_types.php is commented out. Just enabling it doesn't work:
--------------
ext/gtk+/gen_gtk.c: In function `zif_GtkCTree_collapse':
ext/gtk+/gen_gtk.c:42858: error: `gtk_ctree_node' undeclared (first use
in this function)
--------------


-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060123114002</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-23 11:40:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkCTreeNode boxed or not?</subject><body>

That's absolutely not why :)


----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, January 23, 2006 1:34 PM
Subject: Re: [PHP-GTK-DEV] GtkCTreeNode boxed or not?


&gt; Steph,
&gt; 
&gt;&gt; Thank you for confirming that it doesn't work under *nix either :)
&gt; I can't work because the methods aren't generated because the relevant
&gt; line in arg_types.php is commented out. Just enabling it doesn't work:
&gt; --------------
&gt; ext/gtk+/gen_gtk.c: In function `zif_GtkCTree_collapse':
&gt; ext/gtk+/gen_gtk.c:42858: error: `gtk_ctree_node' undeclared (first use
&gt; in this function)
&gt; --------------
&gt; 
&gt; 
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt; 
&gt; __________ NOD32 1.1373 (20060120) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060123115412</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-23 11:54:12-0400</timestampReceived><subject>Fw: [PHP-GTK-DEV] GtkCTreeNode boxed or not?</subject><body>

Sorry that was terse, it'll explain more if you find the original email I 
sent on the subject (December 28th if that helps any).

If GtkCTreeNode is defined as boxed most of the missing methods generate 
perfectly, so the problem isn't the out-commented line dating back to the 
days when boxed 'objects' were treated as unique types.  The problem is that 
a) GtkCTreeNode is currently defined as a pointer, and b) the generator 
script for it hasn't been written yet. My questions to Andrei are:

a) why?
b) assuming the current definition stands, when can we expect to see the 
generator written for it?
c) is the generator code going to be generic?

- Steph


----- Original Message ----- 
From: "Steph Fox" &lt;steph@zend.com&gt;
To: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, January 23, 2006 1:40 PM
Subject: Re: [PHP-GTK-DEV] GtkCTreeNode boxed or not?


&gt; That's absolutely not why :)
&gt;
&gt;
&gt; ----- Original Message ----- 
&gt; From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt; Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Monday, January 23, 2006 1:34 PM
&gt; Subject: Re: [PHP-GTK-DEV] GtkCTreeNode boxed or not?
&gt;
&gt;
&gt;&gt; Steph,
&gt;&gt;
&gt;&gt;&gt; Thank you for confirming that it doesn't work under *nix either :)
&gt;&gt; I can't work because the methods aren't generated because the relevant
&gt;&gt; line in arg_types.php is commented out. Just enabling it doesn't work:
&gt;&gt; --------------
&gt;&gt; ext/gtk+/gen_gtk.c: In function `zif_GtkCTree_collapse':
&gt;&gt; ext/gtk+/gen_gtk.c:42858: error: `gtk_ctree_node' undeclared (first use
&gt;&gt; in this function)
&gt;&gt; --------------
&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; Regards/MfG,
&gt;&gt; Christian Weiske
&gt;&gt;
&gt;&gt; __________ NOD32 1.1373 (20060120) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1373 (20060120) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060123120227</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-23 12:02:27-0400</timestampReceived><subject>Re: Fw: [PHP-GTK-DEV] GtkCTreeNode boxed or not?</subject><body>


&gt; I sent on the subject (December 28th if that helps any).
It was 2005-12-17 with
Message-ID: &lt;000f01c603e9$ad646920$6402a8c0@foxbox&gt;

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060208035111</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-08 03:51:11-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkCTreeNode boxed or not?</subject><body>

Regarding GtkCTreeNode: since it's deprecated, why do we want it to  
have all these methods? PHP-GTK 1 didn't have those.

-Andrei


On Jan 23, 2006, at 3:54 AM, Steph Fox wrote:

&gt; Sorry that was terse, it'll explain more if you find the original  
&gt; email I sent on the subject (December 28th if that helps any).
&gt;
&gt; If GtkCTreeNode is defined as boxed most of the missing methods  
&gt; generate perfectly, so the problem isn't the out-commented line  
&gt; dating back to the days when boxed 'objects' were treated as unique  
&gt; types.  The problem is that a) GtkCTreeNode is currently defined as  
&gt; a pointer, and b) the generator script for it hasn't been written  
&gt; yet. My questions to Andrei are:
&gt;
&gt; a) why?
&gt; b) assuming the current definition stands, when can we expect to  
&gt; see the generator written for it?
&gt; c) is the generator code going to be generic?
&gt;
&gt; - Steph
&gt;
&gt;
&gt; ----- Original Message ----- From: "Steph Fox" &lt;steph@zend.com&gt;
&gt; To: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
&gt; Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Monday, January 23, 2006 1:40 PM
&gt; Subject: Re: [PHP-GTK-DEV] GtkCTreeNode boxed or not?
&gt;
&gt;
&gt;&gt; That's absolutely not why :)
&gt;&gt;
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "Christian Weiske"  
&gt;&gt; &lt;cweiske@cweiske.de&gt;
&gt;&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt;&gt; Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt; Sent: Monday, January 23, 2006 1:34 PM
&gt;&gt; Subject: Re: [PHP-GTK-DEV] GtkCTreeNode boxed or not?
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; Steph,
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Thank you for confirming that it doesn't work under *nix either :)
&gt;&gt;&gt; I can't work because the methods aren't generated because the  
&gt;&gt;&gt; relevant
&gt;&gt;&gt; line in arg_types.php is commented out. Just enabling it doesn't  
&gt;&gt;&gt; work:
&gt;&gt;&gt; --------------
&gt;&gt;&gt; ext/gtk+/gen_gtk.c: In function `zif_GtkCTree_collapse':
&gt;&gt;&gt; ext/gtk+/gen_gtk.c:42858: error: `gtk_ctree_node' undeclared  
&gt;&gt;&gt; (first use
&gt;&gt;&gt; in this function)
&gt;&gt;&gt; --------------
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt; Christian Weiske
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1373 (20060120) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1373 (20060120) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060208102713</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-08 10:27:13-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkCTreeNode boxed or not?</subject><body>


Andrei,

&gt; Regarding GtkCTreeNode: since it's deprecated, why do we want it to 
&gt; have all these methods? PHP-GTK 1 didn't have those.
If the generator is capable of creating some additional 50 methods
throuh a few lines of fixed code, it's worth it. Some %% more on the way
to 100%.

-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060208154141</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-08 15:41:41-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkCTreeNode boxed or not?</subject><body>

Well, if you aren't going to implement the GtkCTreeNode methods because the 
thing's deprecated, why bother implementing GtkCTree at all?

- that argument doesn't make a lot of sense to me -

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "Christian Weiske" &lt;cweiske@cweiske.de&gt;; "PHP-GTK dev" 
&lt;php-gtk-dev@lists.php.net&gt;
Sent: Wednesday, February 08, 2006 5:51 AM
Subject: Re: [PHP-GTK-DEV] GtkCTreeNode boxed or not?


&gt; Regarding GtkCTreeNode: since it's deprecated, why do we want it to  have 
&gt; all these methods? PHP-GTK 1 didn't have those.
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Jan 23, 2006, at 3:54 AM, Steph Fox wrote:
&gt;
&gt;&gt; Sorry that was terse, it'll explain more if you find the original  email 
&gt;&gt; I sent on the subject (December 28th if that helps any).
&gt;&gt;
&gt;&gt; If GtkCTreeNode is defined as boxed most of the missing methods  generate 
&gt;&gt; perfectly, so the problem isn't the out-commented line  dating back to 
&gt;&gt; the days when boxed 'objects' were treated as unique  types.  The problem 
&gt;&gt; is that a) GtkCTreeNode is currently defined as  a pointer, and b) the 
&gt;&gt; generator script for it hasn't been written  yet. My questions to Andrei 
&gt;&gt; are:
&gt;&gt;
&gt;&gt; a) why?
&gt;&gt; b) assuming the current definition stands, when can we expect to  see the 
&gt;&gt; generator written for it?
&gt;&gt; c) is the generator code going to be generic?
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt;
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "Steph Fox" &lt;steph@zend.com&gt;
&gt;&gt; To: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
&gt;&gt; Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt; Sent: Monday, January 23, 2006 1:40 PM
&gt;&gt; Subject: Re: [PHP-GTK-DEV] GtkCTreeNode boxed or not?
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; That's absolutely not why :)
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; ----- Original Message ----- From: "Christian Weiske" 
&gt;&gt;&gt; &lt;cweiske@cweiske.de&gt;
&gt;&gt;&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt;&gt;&gt; Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt;&gt; Sent: Monday, January 23, 2006 1:34 PM
&gt;&gt;&gt; Subject: Re: [PHP-GTK-DEV] GtkCTreeNode boxed or not?
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Steph,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Thank you for confirming that it doesn't work under *nix either :)
&gt;&gt;&gt;&gt; I can't work because the methods aren't generated because the  relevant
&gt;&gt;&gt;&gt; line in arg_types.php is commented out. Just enabling it doesn't  work:
&gt;&gt;&gt;&gt; --------------
&gt;&gt;&gt;&gt; ext/gtk+/gen_gtk.c: In function `zif_GtkCTree_collapse':
&gt;&gt;&gt;&gt; ext/gtk+/gen_gtk.c:42858: error: `gtk_ctree_node' undeclared  (first 
&gt;&gt;&gt;&gt; use
&gt;&gt;&gt;&gt; in this function)
&gt;&gt;&gt;&gt; --------------
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt;&gt; Christian Weiske
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; __________ NOD32 1.1373 (20060120) Information __________
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1373 (20060120) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060207174312</emailId><senderName>Breizh Micro Services</senderName><senderEmail>francois@bms-guer.com</senderEmail><timestampReceived>2006-02-07 17:43:12-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkSheet</subject><body>

I am searching examples with a GtkSheet. Does someone know where I can 
found some ?
Thanks.

Franois Le Gal - Breizh Micro Services

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060208151008</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-08 15:10:08-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSheet</subject><body>

S/he did start a new thread :) but more to the point - this is a PHP-GTK 
general question, not a development question.

GtkSheet exists in PHP-GTK 1 only. There _were_ some bits and pieces about 
it on Alan Knowles' site, don't know if there still are... akbkhome.com?

----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, February 07, 2006 7:43 PM
Subject: Re: [PHP-GTK-DEV] GtkSheet

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060208155556</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-08 15:55:56-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSheet</subject><body>

&gt; S/he did start a new thread :) but more to the point - this is a PHP-GTK
&gt; general question, not a development question.
No.
S/he answered to the "UTF8-Problems" mail and changed the subject.
Mail programs that show mails threaded will show that mail in the old
thread.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060207001820</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-02-07 00:18:20-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] UTF8 problems...</subject><body>

Em Seg, 2006-02-06  s 22:16 -0200, Pablo Dall'Oglio escreveu:
&gt; This code below, gives me:
&gt; (teste.php:8970): Pango-WARNING **: Invalid UTF-8 string passed to
&gt; pango_layout_set_text()
&gt; 
&gt; Everytime I pass the mouse cursor over accented characters
&gt; Besides showing nothing besides the accented character in the list...

Besides showing nothing after...

&gt; 
&gt; I know that using utf8_encode() solves the problem. But is there another
&gt; workaround ?
&gt; 
&gt; &lt;?php
&gt; $window = new GtkWindow;
&gt; $window-&gt;set_default_size(200,200);
&gt; $window-&gt;set_position(GTK::WIN_POS_CENTER);
&gt; 
&gt; $list = new GtkTreeView;
&gt; 
&gt; $model = new GtkListStore(Gtk::TYPE_STRING);
&gt; $list-&gt;set_model($model);
&gt; 
&gt; $column1 = new GtkTreeViewColumn();
&gt; 
&gt; $cell_renderer1 = new GtkCellRendererText();
&gt; $column1-&gt;pack_start($cell_renderer1, true);
&gt; 
&gt; $column1-&gt;set_attributes($cell_renderer1, 'text', 0);
&gt; 
&gt; $list-&gt;append_column($column1);
&gt; 
&gt; $data[] = array('Pedro');
&gt; $data[] = array('Maria');
&gt; $data[] = array('Jos');
&gt; $data[] = array('Automvel');
&gt; $data[] = array('Joo');
&gt; 
&gt; foreach ($data as $copa)
&gt; {
&gt;     $iter = $model-&gt;append($copa);
&gt; }
&gt; 
&gt; $window-&gt;add($list);
&gt; $window-&gt;show_all();
&gt; Gtk::Main();
&gt; ?&gt;
&gt; -- 
&gt; :: Pablo Dall'Oglio
&gt; :: www.dalloglio.net
&gt; 
-- 
:: Pablo Dall'Oglio
:: www.dalloglio.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060207030450</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-07 03:04:50-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] UTF8 problems...</subject><body>

Pablo: could you please make a short test script for this and submit it as a 
bug report?

(http://bugs.php.net)

----- Original Message ----- 
From: "Pablo Dall'Oglio" &lt;pablo@dalloglio.net&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, February 07, 2006 2:18 AM
Subject: Re: [PHP-GTK-DEV] UTF8 problems...


&gt; Em Seg, 2006-02-06  s 22:16 -0200, Pablo Dall'Oglio escreveu:
&gt;&gt; This code below, gives me:
&gt;&gt; (teste.php:8970): Pango-WARNING **: Invalid UTF-8 string passed to
&gt;&gt; pango_layout_set_text()
&gt;&gt;
&gt;&gt; Everytime I pass the mouse cursor over accented characters
&gt;&gt; Besides showing nothing besides the accented character in the list...
&gt;
&gt; Besides showing nothing after...
&gt;
&gt;&gt;
&gt;&gt; I know that using utf8_encode() solves the problem. But is there another
&gt;&gt; workaround ?
&gt;&gt;
&gt;&gt; &lt;?php
&gt;&gt; $window = new GtkWindow;
&gt;&gt; $window-&gt;set_default_size(200,200);
&gt;&gt; $window-&gt;set_position(GTK::WIN_POS_CENTER);
&gt;&gt;
&gt;&gt; $list = new GtkTreeView;
&gt;&gt;
&gt;&gt; $model = new GtkListStore(Gtk::TYPE_STRING);
&gt;&gt; $list-&gt;set_model($model);
&gt;&gt;
&gt;&gt; $column1 = new GtkTreeViewColumn();
&gt;&gt;
&gt;&gt; $cell_renderer1 = new GtkCellRendererText();
&gt;&gt; $column1-&gt;pack_start($cell_renderer1, true);
&gt;&gt;
&gt;&gt; $column1-&gt;set_attributes($cell_renderer1, 'text', 0);
&gt;&gt;
&gt;&gt; $list-&gt;append_column($column1);
&gt;&gt;
&gt;&gt; $data[] = array('Pedro');
&gt;&gt; $data[] = array('Maria');
&gt;&gt; $data[] = array('Jos');
&gt;&gt; $data[] = array('Automvel');
&gt;&gt; $data[] = array('Joo');
&gt;&gt;
&gt;&gt; foreach ($data as $copa)
&gt;&gt; {
&gt;&gt;     $iter = $model-&gt;append($copa);
&gt;&gt; }
&gt;&gt;
&gt;&gt; $window-&gt;add($list);
&gt;&gt; $window-&gt;show_all();
&gt;&gt; Gtk::Main();
&gt;&gt; ?&gt;
&gt;&gt; -- 
&gt;&gt; :: Pablo Dall'Oglio
&gt;&gt; :: www.dalloglio.net
&gt;&gt;
&gt; -- 
&gt; :: Pablo Dall'Oglio
&gt; :: www.dalloglio.net
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060207032556</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-02-07 03:25:56-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] UTF8 problems...</subject><body>

Of course, I haven't done this yet because I didn't know it was a really
bug or the standard Gtk behavior :-)

Pablo

Em Ter, 2006-02-07  s 05:04 +0200, Steph Fox escreveu:
&gt; Pablo: could you please make a short test script for this and submit it as a 
&gt; bug report?
&gt; 
&gt; (http://bugs.php.net)
&gt; 
&gt; ----- Original Message ----- 
&gt; From: "Pablo Dall'Oglio" &lt;pablo@dalloglio.net&gt;
&gt; To: &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Tuesday, February 07, 2006 2:18 AM
&gt; Subject: Re: [PHP-GTK-DEV] UTF8 problems...
&gt; 
&gt; 
&gt; &gt; Em Seg, 2006-02-06  s 22:16 -0200, Pablo Dall'Oglio escreveu:
&gt; &gt;&gt; This code below, gives me:
&gt; &gt;&gt; (teste.php:8970): Pango-WARNING **: Invalid UTF-8 string passed to
&gt; &gt;&gt; pango_layout_set_text()
&gt; &gt;&gt;
&gt; &gt;&gt; Everytime I pass the mouse cursor over accented characters
&gt; &gt;&gt; Besides showing nothing besides the accented character in the list...
&gt; &gt;
&gt; &gt; Besides showing nothing after...
&gt; &gt;
&gt; &gt;&gt;
&gt; &gt;&gt; I know that using utf8_encode() solves the problem. But is there another
&gt; &gt;&gt; workaround ?
&gt; &gt;&gt;
&gt; &gt;&gt; &lt;?php
&gt; &gt;&gt; $window = new GtkWindow;
&gt; &gt;&gt; $window-&gt;set_default_size(200,200);
&gt; &gt;&gt; $window-&gt;set_position(GTK::WIN_POS_CENTER);
&gt; &gt;&gt;
&gt; &gt;&gt; $list = new GtkTreeView;
&gt; &gt;&gt;
&gt; &gt;&gt; $model = new GtkListStore(Gtk::TYPE_STRING);
&gt; &gt;&gt; $list-&gt;set_model($model);
&gt; &gt;&gt;
&gt; &gt;&gt; $column1 = new GtkTreeViewColumn();
&gt; &gt;&gt;
&gt; &gt;&gt; $cell_renderer1 = new GtkCellRendererText();
&gt; &gt;&gt; $column1-&gt;pack_start($cell_renderer1, true);
&gt; &gt;&gt;
&gt; &gt;&gt; $column1-&gt;set_attributes($cell_renderer1, 'text', 0);
&gt; &gt;&gt;
&gt; &gt;&gt; $list-&gt;append_column($column1);
&gt; &gt;&gt;
&gt; &gt;&gt; $data[] = array('Pedro');
&gt; &gt;&gt; $data[] = array('Maria');
&gt; &gt;&gt; $data[] = array('Jos ');
&gt; &gt;&gt; $data[] = array('Autom vel');
&gt; &gt;&gt; $data[] = array('Jo o');
&gt; &gt;&gt;
&gt; &gt;&gt; foreach ($data as $copa)
&gt; &gt;&gt; {
&gt; &gt;&gt;     $iter = $model-&gt;append($copa);
&gt; &gt;&gt; }
&gt; &gt;&gt;
&gt; &gt;&gt; $window-&gt;add($list);
&gt; &gt;&gt; $window-&gt;show_all();
&gt; &gt;&gt; Gtk::Main();
&gt; &gt;&gt; ?&gt;
&gt; &gt;&gt; -- 
&gt; &gt;&gt; :: Pablo Dall'Oglio
&gt; &gt;&gt; :: www.dalloglio.net
&gt; &gt;&gt;
&gt; &gt; -- 
&gt; &gt; :: Pablo Dall'Oglio
&gt; &gt; :: www.dalloglio.net
&gt; &gt;
&gt; &gt; -- 
&gt; &gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; &gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; &gt;
&gt; &gt;
&gt; &gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; &gt;
&gt; &gt; This message was checked by NOD32 antivirus system.
&gt; &gt; http://www.eset.com
&gt; &gt;
&gt; &gt; 
&gt; 
-- 
:: Pablo Dall'Oglio
:: www.dalloglio.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060207033103</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-07 03:31:03-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] UTF8 problems...</subject><body>

hm, but if you didn't 'bug' it nobody would investigate to find out ;)

----- Original Message ----- 
From: "Pablo Dall'Oglio" &lt;pablo@dalloglio.net&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, February 07, 2006 5:25 AM
Subject: Re: [PHP-GTK-DEV] UTF8 problems...


&gt; Of course, I haven't done this yet because I didn't know it was a really
&gt; bug or the standard Gtk behavior :-)
&gt;
&gt; Pablo
&gt;
&gt; Em Ter, 2006-02-07  s 05:04 +0200, Steph Fox escreveu:
&gt;&gt; Pablo: could you please make a short test script for this and submit it 
&gt;&gt; as a
&gt;&gt; bug report?
&gt;&gt;
&gt;&gt; (http://bugs.php.net)
&gt;&gt;
&gt;&gt; ----- Original Message ----- 
&gt;&gt; From: "Pablo Dall'Oglio" &lt;pablo@dalloglio.net&gt;
&gt;&gt; To: &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt; Sent: Tuesday, February 07, 2006 2:18 AM
&gt;&gt; Subject: Re: [PHP-GTK-DEV] UTF8 problems...
&gt;&gt;
&gt;&gt;
&gt;&gt; &gt; Em Seg, 2006-02-06  s 22:16 -0200, Pablo Dall'Oglio escreveu:
&gt;&gt; &gt;&gt; This code below, gives me:
&gt;&gt; &gt;&gt; (teste.php:8970): Pango-WARNING **: Invalid UTF-8 string passed to
&gt;&gt; &gt;&gt; pango_layout_set_text()
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; Everytime I pass the mouse cursor over accented characters
&gt;&gt; &gt;&gt; Besides showing nothing besides the accented character in the list...
&gt;&gt; &gt;
&gt;&gt; &gt; Besides showing nothing after...
&gt;&gt; &gt;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; I know that using utf8_encode() solves the problem. But is there 
&gt;&gt; &gt;&gt; another
&gt;&gt; &gt;&gt; workaround ?
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; &lt;?php
&gt;&gt; &gt;&gt; $window = new GtkWindow;
&gt;&gt; &gt;&gt; $window-&gt;set_default_size(200,200);
&gt;&gt; &gt;&gt; $window-&gt;set_position(GTK::WIN_POS_CENTER);
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; $list = new GtkTreeView;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; $model = new GtkListStore(Gtk::TYPE_STRING);
&gt;&gt; &gt;&gt; $list-&gt;set_model($model);
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; $column1 = new GtkTreeViewColumn();
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; $cell_renderer1 = new GtkCellRendererText();
&gt;&gt; &gt;&gt; $column1-&gt;pack_start($cell_renderer1, true);
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; $column1-&gt;set_attributes($cell_renderer1, 'text', 0);
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; $list-&gt;append_column($column1);
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; $data[] = array('Pedro');
&gt;&gt; &gt;&gt; $data[] = array('Maria');
&gt;&gt; &gt;&gt; $data[] = array('Jos ');
&gt;&gt; &gt;&gt; $data[] = array('Autom vel');
&gt;&gt; &gt;&gt; $data[] = array('Jo o');
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; foreach ($data as $copa)
&gt;&gt; &gt;&gt; {
&gt;&gt; &gt;&gt;     $iter = $model-&gt;append($copa);
&gt;&gt; &gt;&gt; }
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; $window-&gt;add($list);
&gt;&gt; &gt;&gt; $window-&gt;show_all();
&gt;&gt; &gt;&gt; Gtk::Main();
&gt;&gt; &gt;&gt; ?&gt;
&gt;&gt; &gt;&gt; -- 
&gt;&gt; &gt;&gt; :: Pablo Dall'Oglio
&gt;&gt; &gt;&gt; :: www.dalloglio.net
&gt;&gt; &gt;&gt;
&gt;&gt; &gt; -- 
&gt;&gt; &gt; :: Pablo Dall'Oglio
&gt;&gt; &gt; :: www.dalloglio.net
&gt;&gt; &gt;
&gt;&gt; &gt; -- 
&gt;&gt; &gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; &gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt; &gt;
&gt;&gt; &gt; This message was checked by NOD32 antivirus system.
&gt;&gt; &gt; http://www.eset.com
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt;
&gt; -- 
&gt; :: Pablo Dall'Oglio
&gt; :: www.dalloglio.net
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060207120626</emailId><senderName>Ivan Rodriguez</senderName><senderEmail>epplestun@gmail.com</senderEmail><timestampReceived>2006-02-07 12:06:26-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] UTF8 problems...</subject><body>

[Attachment #2 (text/plain)]

Hi Pablo,

I run your script and I dont have any problem, the names shows well

You can view here:

epplestun@epplestun:~/Proyectos$ more test.php
&lt;?php
$window = new GtkWindow;
$window-&gt;set_default_size(200,200);
$window-&gt;set_position(GTK::WIN_POS_CENTER);

$list = new GtkTreeView;

$model = new GtkListStore(Gtk::TYPE_STRING);
$list-&gt;set_model($model);

$column1 = new GtkTreeViewColumn();

$cell_renderer1 = new GtkCellRendererText();
$column1-&gt;pack_start($cell_renderer1, true);

$column1-&gt;set_attributes($cell_renderer1, 'text', 0);

$list-&gt;append_column($column1);

$data[] = array('Pedro');
$data[] = array('Maria');
$data[] = array('Jos');
$data[] = array('Automvel');
$data[] = array('Joo');

foreach ($data as $copa)
{
   $iter = $model-&gt;append($copa);
}

$window-&gt;add($list);
$window-&gt;show_all();
Gtk::Main();
?&gt;
epplestun@epplestun:~/Proyectos$ php5 test.php

epplestun@epplestun:~/Proyectos$


I have this version of PHP
epplestun@epplestun:~/Proyectos$ php5 -v
PHP 5.1.3-dev (cli) (built: Jan 26 2006 18:37:47)
Copyright (c) 1997-2006 The PHP Group
Zend Engine v2.1.0, Copyright (c) 1998-2006 Zend Technologies

And the version f php-gtk is 2.0.0-dev

For me is not a bug :-(


On 2/7/06, Steph Fox &lt;steph@zend.com&gt; wrote:
&gt;
&gt; hm, but if you didn't 'bug' it nobody would investigate to find out ;)
&gt;
&gt; ----- Original Message -----
&gt; From: "Pablo Dall'Oglio" &lt;pablo@dalloglio.net&gt;
&gt; To: "Steph Fox" &lt; steph@zend.com&gt;
&gt; Cc: &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Tuesday, February 07, 2006 5:25 AM
&gt; Subject: Re: [PHP-GTK-DEV] UTF8 problems...
&gt;
&gt;
&gt; &gt; Of course, I haven't done this yet because I didn't know it was a really
&gt; &gt; bug or the standard Gtk behavior :-)
&gt; &gt;
&gt; &gt; Pablo
&gt; &gt;
&gt; &gt; Em Ter, 2006-02-07  s 05:04 +0200, Steph Fox escreveu:
&gt; &gt;&gt; Pablo: could you please make a short test script for this and submit it
&gt; &gt;&gt; as a
&gt; &gt;&gt; bug report?
&gt; &gt;&gt;
&gt; &gt;&gt; (http://bugs.php.net)
&gt; &gt;&gt;
&gt; &gt;&gt; ----- Original Message -----
&gt; &gt;&gt; From: "Pablo Dall'Oglio" &lt;pablo@dalloglio.net&gt;
&gt; &gt;&gt; To: &lt;php-gtk-dev@lists.php.net &gt;
&gt; &gt;&gt; Sent: Tuesday, February 07, 2006 2:18 AM
&gt; &gt;&gt; Subject: Re: [PHP-GTK-DEV] UTF8 problems...
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; &gt; Em Seg, 2006-02-06  s 22:16 -0200, Pablo Dall'Oglio escreveu:
&gt; &gt;&gt; &gt;&gt; This code below, gives me:
&gt; &gt;&gt; &gt;&gt; (teste.php:8970): Pango-WARNING **: Invalid UTF-8 string passed to
&gt; &gt;&gt; &gt;&gt; pango_layout_set_text()
&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; Everytime I pass the mouse cursor over accented characters
&gt; &gt;&gt; &gt;&gt; Besides showing nothing besides the accented character in the
&gt; list...
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; Besides showing nothing after...
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; I know that using utf8_encode() solves the problem. But is there
&gt; &gt;&gt; &gt;&gt; another
&gt; &gt;&gt; &gt;&gt; workaround ?
&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; &lt;?php
&gt; &gt;&gt; &gt;&gt; $window = new GtkWindow;
&gt; &gt;&gt; &gt;&gt; $window-&gt;set_default_size(200,200);
&gt; &gt;&gt; &gt;&gt; $window-&gt;set_position(GTK::WIN_POS_CENTER);
&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; $list = new GtkTreeView;
&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; $model = new GtkListStore(Gtk::TYPE_STRING);
&gt; &gt;&gt; &gt;&gt; $list-&gt;set_model($model);
&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; $column1 = new GtkTreeViewColumn();
&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; $cell_renderer1 = new GtkCellRendererText();
&gt; &gt;&gt; &gt;&gt; $column1-&gt;pack_start($cell_renderer1, true);
&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; $column1-&gt;set_attributes($cell_renderer1, 'text', 0);
&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; $list-&gt;append_column($column1);
&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; $data[] = array('Pedro');
&gt; &gt;&gt; &gt;&gt; $data[] = array('Maria');
&gt; &gt;&gt; &gt;&gt; $data[] = array('Jos (c)');
&gt; &gt;&gt; &gt;&gt; $data[] = array('Autom vel');
&gt; &gt;&gt; &gt;&gt; $data[] = array('Jo o');
&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; foreach ($data as $copa)
&gt; &gt;&gt; &gt;&gt; {
&gt; &gt;&gt; &gt;&gt;     $iter = $model-&gt;append($copa);
&gt; &gt;&gt; &gt;&gt; }
&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt;&gt; $window-&gt;add($list);
&gt; &gt;&gt; &gt;&gt; $window-&gt;show_all();
&gt; &gt;&gt; &gt;&gt; Gtk::Main();
&gt; &gt;&gt; &gt;&gt; ?&gt;
&gt; &gt;&gt; &gt;&gt; --
&gt; &gt;&gt; &gt;&gt; :: Pablo Dall'Oglio
&gt; &gt;&gt; &gt;&gt; :: www.dalloglio.net
&gt; &gt;&gt; &gt;&gt;
&gt; &gt;&gt; &gt; --
&gt; &gt;&gt; &gt; :: Pablo Dall'Oglio
&gt; &gt;&gt; &gt; :: www.dalloglio.net
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; --
&gt; &gt;&gt; &gt; PHP-GTK Development Mailing List ( http://gtk.php.net/)
&gt; &gt;&gt; &gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; This message was checked by NOD32 antivirus system.
&gt; &gt;&gt; &gt; http://www.eset.com
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;
&gt; &gt;&gt;
&gt; &gt; --
&gt; &gt; :: Pablo Dall'Oglio
&gt; &gt; :: www.dalloglio.net
&gt; &gt;
&gt; &gt; --
&gt; &gt; PHP-GTK Development Mailing List (http://gtk.php.net/ )
&gt; &gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; &gt;
&gt; &gt;
&gt; &gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; &gt;
&gt; &gt; This message was checked by NOD32 antivirus system.
&gt; &gt; http://www.eset.com
&gt; &gt;
&gt; &gt;
&gt;
&gt; --
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;


</body></email><email><emailId>20060207122201</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-07 12:22:01-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] UTF8 problems...</subject><body>

I see exactly what Pablo's reporting... that's why I asked him to 'bug it'.

If your system is UTF-8 based you won't have a problem. It's just when you 
need to convert everything to UTF-8 from whatever your codepage is.

- Steph


&gt; Hi Pablo,
&gt;
&gt; I run your script and I dont have any problem, the names shows well
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060207145105</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-07 14:51:05-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] UTF8 problems...</subject><body>

I think he wants me to fix it internally :)  but thanks anyway.

----- Original Message ----- 
From: "Breizh Micro Services" &lt;francois@bms-guer.com&gt;
Cc: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, February 07, 2006 4:53 PM
Subject: Re: [PHP-GTK-DEV] UTF8 problems...


&gt; I've got the same problem but i resolve it by using utf8_encode($value) 
&gt; function. I suggest you to write :
&gt;
&gt; foreach ($data as $copa)
&gt; {
&gt;   $copa = utf8_encode($copa);
&gt;   $iter = $model-&gt;append($copa);
&gt; }
&gt;
&gt; I think it will solve your problem.
&gt;
&gt; Franois Le Gal - Breizh Micro Services
&gt;
&gt;
&gt; Steph Fox a crit :
&gt;
&gt;&gt; I see exactly what Pablo's reporting... that's why I asked him to 'bug 
&gt;&gt; it'.
&gt;&gt;
&gt;&gt; If your system is UTF-8 based you won't have a problem. It's just when 
&gt;&gt; you need to convert everything to UTF-8 from whatever your codepage is.
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; Hi Pablo,
&gt;&gt;&gt;
&gt;&gt;&gt; I run your script and I dont have any problem, the names shows well
&gt;&gt;&gt;
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060207145314</emailId><senderName>Breizh Micro Services</senderName><senderEmail>francois@bms-guer.com</senderEmail><timestampReceived>2006-02-07 14:53:14-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] UTF8 problems...</subject><body>

I've got the same problem but i resolve it by using utf8_encode($value) 
function. I suggest you to write :

foreach ($data as $copa)
{
   $copa = utf8_encode($copa);
   $iter = $model-&gt;append($copa);
}

I think it will solve your problem.

Franois Le Gal - Breizh Micro Services


Steph Fox a crit :

&gt; I see exactly what Pablo's reporting... that's why I asked him to 'bug 
&gt; it'.
&gt;
&gt; If your system is UTF-8 based you won't have a problem. It's just when 
&gt; you need to convert everything to UTF-8 from whatever your codepage is.
&gt;
&gt; - Steph
&gt;
&gt;
&gt;&gt; Hi Pablo,
&gt;&gt;
&gt;&gt; I run your script and I dont have any problem, the names shows well
&gt;&gt;
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060208153930</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-08 15:39:30-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] #36313 [Opn]: Pango-WARNING **: Invalid UTF-8 string passed to pango_layout_set_te</subject><body>

Anything but UTF-8 :)

Sorry I should've updated the report - I see the same issue using CP1250.

----- Original Message ----- 
From: &lt;andrei@php.net&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Wednesday, February 08, 2006 5:42 AM
Subject: [PHP-GTK-DEV] #36313 [Opn]: Pango-WARNING **: Invalid UTF-8 string 
passed to pango_layout_set_text(


&gt; ID:               36313
&gt; Updated by:       andrei@php.net
&gt; Reported By:      pablo@php.net
&gt; Status:           Open
&gt; Bug Type:         PHP-GTK related
&gt; Operating System: linux ubuntu breezy
&gt; PHP Version:      5.1.2
&gt; New Comment:
&gt;
&gt; What is your php-gtk.codepage setting? What encoding is the script in?
&gt;
&gt;
&gt; Previous Comments:
&gt; ------------------------------------------------------------------------
&gt;
&gt; [2006-02-07 04:28:58] pablo@php.net
&gt;
&gt; Description:
&gt; ------------
&gt; GtkTreeView component complains about UTF-8 encoding when using
&gt; accented characters. It also doesn't show the part of the string after
&gt; the accented character.
&gt;
&gt; Reproduce code:
&gt; ---------------
&gt; &lt;?php
&gt; $window = new GtkWindow;
&gt; $window-&gt;set_default_size(200,200);
&gt; $window-&gt;set_position(GTK::WIN_POS_CENTER);
&gt;
&gt; $list = new GtkTreeView;
&gt;
&gt; $model = new GtkListStore(Gtk::TYPE_STRING);
&gt; $list-&gt;set_model($model);
&gt;
&gt; $column1 = new GtkTreeViewColumn();
&gt;
&gt; $cell_renderer1 = new GtkCellRendererText();
&gt; $column1-&gt;pack_start($cell_renderer1, true);
&gt;
&gt; $column1-&gt;set_attributes($cell_renderer1, 'text', 0);
&gt;
&gt; $list-&gt;append_column($column1);
&gt;
&gt; $data[] = array('Pedro');
&gt; $data[] = array('Maria');
&gt; $data[] = array('Jos');
&gt; $data[] = array('Automvel');
&gt; $data[] = array('Joo');
&gt;
&gt; foreach ($data as $copa)
&gt; {
&gt;    $iter = $model-&gt;append($copa);
&gt; }
&gt;
&gt; $window-&gt;add($list);
&gt; $window-&gt;show_all();
&gt; Gtk::Main();
&gt; ?&gt;
&gt;
&gt; Expected result:
&gt; ----------------
&gt; no warnings, show the right string on GtkTreeView
&gt;
&gt; Actual result:
&gt; --------------
&gt; warnings, do not show the appropriated string with accented characters.
&gt;
&gt;
&gt; ------------------------------------------------------------------------
&gt;
&gt;
&gt; -- 
&gt; Edit this bug report at http://bugs.php.net/?id=36313&amp;edit=1
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060208161915</emailId><senderName>Breizh Micro Services</senderName><senderEmail>francois@bms-guer.com</senderEmail><timestampReceived>2006-02-08 16:19:15-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkSheet</subject><body>


he, not she ! :)
Sorry about this bad thread !

Christian Weiske a crit :

&gt;&gt;S/he did start a new thread :) but more to the point - this is a PHP-GTK
&gt;&gt;general question, not a development question.
&gt;&gt;    
&gt;&gt;
&gt;No.
&gt;S/he answered to the "UTF8-Problems" mail and changed the subject.
&gt;Mail programs that show mails threaded will show that mail in the old
&gt;thread.
&gt;
&gt;  
&gt;



</body></email><email><emailId>20060208172611</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-08 17:26:11-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkCTreeNode boxed or not?</subject><body>

Because GtkCTree _was_ implemented in PHP-GTK 1, and GtkCTreeNode's 
methods were not. Why add functionality to a deprecated class?

-Andrei

On Feb 8, 2006, at 7:41 AM, Steph Fox wrote:

&gt; Well, if you aren't going to implement the GtkCTreeNode methods 
&gt; because the thing's deprecated, why bother implementing GtkCTree at 
&gt; all?
&gt;
&gt; - that argument doesn't make a lot of sense to me -
&gt;
&gt; ----- Original Message ----- From: "Andrei Zmievski" 
&gt; &lt;andrei@gravitonic.com&gt;
&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt; Cc: "Christian Weiske" &lt;cweiske@cweiske.de&gt;; "PHP-GTK dev" 
&gt; &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Wednesday, February 08, 2006 5:51 AM
&gt; Subject: Re: [PHP-GTK-DEV] GtkCTreeNode boxed or not?
&gt;
&gt;
&gt;&gt; Regarding GtkCTreeNode: since it's deprecated, why do we want it to  
&gt;&gt; have all these methods? PHP-GTK 1 didn't have those.
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; On Jan 23, 2006, at 3:54 AM, Steph Fox wrote:
&gt;&gt;
&gt;&gt;&gt; Sorry that was terse, it'll explain more if you find the original  
&gt;&gt;&gt; email I sent on the subject (December 28th if that helps any).
&gt;&gt;&gt;
&gt;&gt;&gt; If GtkCTreeNode is defined as boxed most of the missing methods  
&gt;&gt;&gt; generate perfectly, so the problem isn't the out-commented line  
&gt;&gt;&gt; dating back to the days when boxed 'objects' were treated as unique  
&gt;&gt;&gt; types.  The problem is that a) GtkCTreeNode is currently defined as  
&gt;&gt;&gt; a pointer, and b) the generator script for it hasn't been written  
&gt;&gt;&gt; yet. My questions to Andrei are:
&gt;&gt;&gt;
&gt;&gt;&gt; a) why?
&gt;&gt;&gt; b) assuming the current definition stands, when can we expect to  
&gt;&gt;&gt; see the generator written for it?
&gt;&gt;&gt; c) is the generator code going to be generic?
&gt;&gt;&gt;
&gt;&gt;&gt; - Steph
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; ----- Original Message ----- From: "Steph Fox" &lt;steph@zend.com&gt;
&gt;&gt;&gt; To: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
&gt;&gt;&gt; Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt;&gt; Sent: Monday, January 23, 2006 1:40 PM
&gt;&gt;&gt; Subject: Re: [PHP-GTK-DEV] GtkCTreeNode boxed or not?
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; That's absolutely not why :)
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; ----- Original Message ----- From: "Christian Weiske" 
&gt;&gt;&gt;&gt; &lt;cweiske@cweiske.de&gt;
&gt;&gt;&gt;&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt;&gt;&gt;&gt; Cc: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt;&gt;&gt; Sent: Monday, January 23, 2006 1:34 PM
&gt;&gt;&gt;&gt; Subject: Re: [PHP-GTK-DEV] GtkCTreeNode boxed or not?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Steph,
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; Thank you for confirming that it doesn't work under *nix either :)
&gt;&gt;&gt;&gt;&gt; I can't work because the methods aren't generated because the  
&gt;&gt;&gt;&gt;&gt; relevant
&gt;&gt;&gt;&gt;&gt; line in arg_types.php is commented out. Just enabling it doesn't  
&gt;&gt;&gt;&gt;&gt; work:
&gt;&gt;&gt;&gt;&gt; --------------
&gt;&gt;&gt;&gt;&gt; ext/gtk+/gen_gtk.c: In function `zif_GtkCTree_collapse':
&gt;&gt;&gt;&gt;&gt; ext/gtk+/gen_gtk.c:42858: error: `gtk_ctree_node' undeclared  
&gt;&gt;&gt;&gt;&gt; (first use
&gt;&gt;&gt;&gt;&gt; in this function)
&gt;&gt;&gt;&gt;&gt; --------------
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt;&gt;&gt; Christian Weiske
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; __________ NOD32 1.1373 (20060120) Information __________
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; __________ NOD32 1.1373 (20060120) Information __________
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060209084804</emailId><senderName></senderName><senderEmail>andrei</senderEmail><timestampReceived>2006-02-09 08:48:04-0400</timestampReceived><subject>[PHP-GTK-DEV] #36313 [Opn-&gt;Csd]: Pango-WARNING **: Invalid UTF-8 string passed to pango_layout_set_t</subject><body>

 ID:               36313
 Updated by:       andrei@php.net
 Reported By:      pablo@php.net
-Status:           Open
+Status:           Closed
 Bug Type:         PHP-GTK related
 Operating System: linux ubuntu breezy
 PHP Version:      5.1.2
 New Comment:

This bug has been fixed in CVS.

Snapshots of the sources are packaged every three hours; this change
will be in the next snapshot. You can grab the snapshot at
http://snaps.php.net/.
 
Thank you for the report, and for helping us make PHP better.


Previous Comments:
------------------------------------------------------------------------

[2006-02-08 04:42:45] andrei@php.net

What is your php-gtk.codepage setting? What encoding is the script in?

------------------------------------------------------------------------

[2006-02-07 04:28:58] pablo@php.net

Description:
------------
GtkTreeView component complains about UTF-8 encoding when using
accented characters. It also doesn't show the part of the string after
the accented character.

Reproduce code:
---------------
&lt;?php
$window = new GtkWindow;
$window-&gt;set_default_size(200,200);
$window-&gt;set_position(GTK::WIN_POS_CENTER);

$list = new GtkTreeView;

$model = new GtkListStore(Gtk::TYPE_STRING);
$list-&gt;set_model($model);

$column1 = new GtkTreeViewColumn();

$cell_renderer1 = new GtkCellRendererText();
$column1-&gt;pack_start($cell_renderer1, true);

$column1-&gt;set_attributes($cell_renderer1, 'text', 0);

$list-&gt;append_column($column1);

$data[] = array('Pedro');
$data[] = array('Maria');
$data[] = array('Jos');
$data[] = array('Automvel');
$data[] = array('Joo');

foreach ($data as $copa)
{
    $iter = $model-&gt;append($copa);
}

$window-&gt;add($list);
$window-&gt;show_all();
Gtk::Main();
?&gt;

Expected result:
----------------
no warnings, show the right string on GtkTreeView

Actual result:
--------------
warnings, do not show the appropriated string with accented characters.


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=36313&amp;edit=1


-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060209154031</emailId><senderName>Jeremy Johnstone</senderName><senderEmail>phpdev@gmail.com</senderEmail><timestampReceived>2006-02-09 15:40:31-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Quick question</subject><body>


On 2/6/06, Andrei Zmievski &lt;andrei@gravitonic.com&gt; wrote:
&gt;
&gt; $filter =3D new GtkTreeModelFilter($store, $root);


+1 (we aren't Python)

--
---------------------------
Jeremy Johnstone
http://www.jeremyjohnstone.com
jsjohnst@php.net


</body></email><email><emailId>20060209214141</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-09 21:41:41-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] problem compiling win32 version</subject><body>

Should be fixed now.

On Feb 9, 2006, at 1:05 PM, Markus Fischer wrote:

&gt; Hi,
&gt;
&gt; not sure, but it looks like TSRMLS_FETCH() is missing?
&gt;
&gt; HTH
&gt;
&gt; Andrei Zmievski wrote:
&gt;&gt; You're gonna have to translate that from German.
&gt;&gt; -Andrei
&gt;&gt; On Feb 9, 2006, at 1:48 AM, Christian Weiske wrote:
&gt;&gt;&gt; Hi
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; A user in the php-gtk channel can't compile the current cvs version.
&gt;&gt;&gt; He gets the following error:
&gt;&gt;&gt; -----------
&gt;&gt;&gt; ext\gtk+\gen_gtk.c(16378) : error C2065: 'tsrm_ls' : 
&gt;&gt;&gt; nichtdeklarierter
&gt;&gt;&gt; Bezeichne
&gt;&gt;&gt; r
&gt;&gt;&gt; ext\gtk+\gen_gtk.c(16378) : warning C4022: 'get_active_class_name' :
&gt;&gt;&gt; Zeigertyp f
&gt;&gt;&gt; r bergebenen Parameter 2 stimmt nicht mit dem deklarierten 
&gt;&gt;&gt; Zeigertyp
&gt;&gt;&gt; berein
&gt;&gt;&gt; ext\gtk+\gen_gtk.c(16378) : warning C4022: 
&gt;&gt;&gt; 'get_active_function_name' :
&gt;&gt;&gt; Zeigerty
&gt;&gt;&gt; p fr bergebenen Parameter 1 stimmt nicht mit dem deklarierten
&gt;&gt;&gt; Zeigertyp berei
&gt;&gt;&gt; n
&gt;&gt;&gt; NMAKE : fataler Fehler U1077: 'cl' : Rueckgabe-Code '0x2'
&gt;&gt;&gt; Stop.
&gt;&gt;&gt; -----------
&gt;&gt;&gt;
&gt;&gt;&gt; When uncommenting the following line in gen_gtk.c
&gt;&gt;&gt; (phpg_parse_target_entries), it compiles:
&gt;&gt;&gt; -------
&gt;&gt;&gt; php_error(E_WARNING, "%s::%s() was unable to parse target #%d in the
&gt;&gt;&gt; list of targets", get_active_class_name(NULL TSRMLS_CC),
&gt;&gt;&gt; get_active_function_name(TSRMLS_C), n+1);
&gt;&gt;&gt; -------
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt; Christian Weiske
&gt;&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060210005827</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-02-10 00:58:27-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkStatusIcon</subject><body>

This class is cool :-)

http://docs.linux.cz/programming/gnome/developer.gnome.org/doc/API/2.0/gtk/gtk-GtkStatusIcon.html


-- 
:: Pablo Dall'Oglio
:: www.dalloglio.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060210034626</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-10 03:46:26-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PangoFontDescription::set_size</subject><body>

The SCALE constants will be exported anyway. Do you still think it's  
useful to have set_size() do automatic scaling? How about  
set_absolute_size()?

-Andrei


On Dec 18, 2005, at 6:48 PM, Tom Rogers wrote:

&gt; Hi,
&gt;
&gt; Sunday, December 11, 2005, 6:26:08 PM, you wrote:
&gt; TR&gt; Hi
&gt;
&gt; TR&gt; Been playing with pango and suggest a small change to
&gt; TR&gt; PangoFontDescription::set_size();
&gt;
&gt; TR&gt; Pango is expecting the size in pango_units.
&gt;
&gt; TR&gt; You can put in the constructor string:
&gt;
&gt; TR&gt; $fontdescription = new PangoFontDescription("Ariel 30");
&gt;
&gt; TR&gt; when you use $fontdescription-&gt;set_size(30);  the resulting  
&gt; font size
&gt; TR&gt; is 0.29296875
&gt;
&gt; TR&gt; The patch to pango.overriodes will multiply the size by  
&gt; PANGO_SCALE
&gt; TR&gt; making the 2 methods match.
&gt;
&gt; TR&gt; I hope that makes sense :)
&gt;
&gt; TR&gt; I still haven't worked out how to make it find the Ariel font but
&gt; TR&gt; thats another story.
&gt;
&gt; Another option would be to make the constant Gtk::PANGO_SCALE   
&gt; available.
&gt; Then the function could be used as advertised.
&gt;
&gt; $fontdescription-&gt;set_size(30 * Gtk::PANGO_SCALE);
&gt;
&gt;
&gt; -- 
&gt; regards,
&gt; Tom
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060211000637</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-11 00:06:37-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkCList, GtkCTree and memleaks</subject><body>

If it's not in the CVS records obviously I didn't.

If it is you can probably take it I did.

(heck it was 7 very busy weeks ago!)

Did you ever look at treepath yet?

----- Original Message ----- 
From: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;
Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Friday, February 10, 2006 5:42 AM
Subject: Re: [PHP-GTK-DEV] GtkCList, GtkCTree and memleaks


&gt; Did you ever commit this?
&gt; 
&gt; -Andrei
&gt; 
&gt; 
&gt; On Dec 18, 2005, at 12:34 PM, Steph Fox wrote:
&gt; 
&gt;&gt; OK, I took advice on this now (thanks Tony) and the memleaks are  
&gt;&gt; finally dead.  Need to test clist, will commit tomorrow (I don't  
&gt;&gt; think there's anything contentious here - it's more or less the  
&gt;&gt; same behaviour we had before).
&gt;&gt;
&gt;&gt; - Steph (gorn)
&gt;&gt;
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "Steph Fox" &lt;steph@zend.com&gt;
&gt;&gt; To: "Andrei" &lt;andrei@gravitonic.com&gt;
&gt;&gt; Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt; Sent: Saturday, December 17, 2005 10:05 PM
&gt;&gt; Subject: [PHP-GTK-DEV] GtkCList, GtkCTree and memleaks
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; Andrei,
&gt;&gt;&gt;
&gt;&gt;&gt; Looking into GtkCList and GtkCTree constructors, both of which need
&gt;&gt;&gt; overrides to avoid the '_with_titles' variant and to get some i18n  
&gt;&gt;&gt; support.
&gt;&gt;&gt; The first bit of code below comes directly from the php-gtk1  
&gt;&gt;&gt; overrides and
&gt;&gt;&gt; suffers from memory leaks:
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;        target_hash = HASH_OF(php_titles);
&gt;&gt;&gt;        titles = emalloc(sizeof(gchar *) * columns);
&gt;&gt;&gt;        zend_hash_internal_pointer_reset(target_hash);
&gt;&gt;&gt;
&gt;&gt;&gt;        while (zend_hash_get_current_data(target_hash, (void **) 
&gt;&gt;&gt; &amp;temp_title)
&gt;&gt;&gt; == SUCCESS) {
&gt;&gt;&gt;            convert_to_string_ex(temp_title);
&gt;&gt;&gt;            titles[i++] = estrndup(Z_STRVAL_PP(temp_title),
&gt;&gt;&gt; Z_STRLEN_PP(temp_title)); /* this leaks 1 byte per title char (+  
&gt;&gt;&gt; 1)  */
&gt;&gt;&gt;            zend_hash_move_forward(target_hash);
&gt;&gt;&gt;        }
&gt;&gt;&gt;
&gt;&gt;&gt; The second bit of code is a much-reduced version of what I  
&gt;&gt;&gt; currently have:
&gt;&gt;&gt;
&gt;&gt;&gt;        titles = emalloc(sizeof(gchar *) * columns);
&gt;&gt;&gt;        zend_hash_internal_pointer_reset(Z_ARRVAL_P(php_titles));
&gt;&gt;&gt;
&gt;&gt;&gt;        while (zend_hash_get_current_data(Z_ARRVAL_P(php_titles),  
&gt;&gt;&gt; (void
&gt;&gt;&gt; **)&amp;temp_title) == SUCCESS) {
&gt;&gt;&gt;            convert_to_string_ex(temp_title);
&gt;&gt;&gt;            titles[i++] = Z_STRVAL_PP(temp_title); /* this doesn't  
&gt;&gt;&gt; leak at
&gt;&gt;&gt; all, but it doesn't feel too safe either... */
&gt;&gt;&gt;            zend_hash_move_forward(Z_ARRVAL_P(php_titles));
&gt;&gt;&gt;        }
&gt;&gt;&gt;
&gt;&gt;&gt; Is it better to live with the leaks in this situation?  Either way  
&gt;&gt;&gt; works,
&gt;&gt;&gt; for practical purposes... or is there a third way I didn't fall  
&gt;&gt;&gt; across yet?
&gt;&gt;&gt;
&gt;&gt;&gt; - Steph
&gt;&gt;&gt;
&gt;&gt;&gt; (ISP's been broken all day following stormy weather here - sorry,  
&gt;&gt;&gt; you'll be
&gt;&gt;&gt; getting everything at once from me :-\)
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060211075740</emailId><senderName>Tom Rogers</senderName><senderEmail>trogers@kwikin.com</senderEmail><timestampReceived>2006-02-11 07:57:40-0400</timestampReceived><subject>[PHP-GTK-DEV] latest cvs php-gtk2 - gtkdrag.overrides</subject><body>

Hi

A small change needed in gtkdrag.overrides

change:

static GtkTargetEntry* phpg_parse_target_entries(zval *php_targets, int *n_targets);

to:

static GtkTargetEntry* phpg_parse_target_entries(zval *php_targets, int *n_targets TSRMLS_DC);

-- 

Tom                          

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060211134218</emailId><senderName>dottedquad</senderName><senderEmail>dottedquad@gmail.com</senderEmail><timestampReceived>2006-02-11 13:42:18-0400</timestampReceived><subject>[PHP-GTK-DEV] Class 'GladeXML' not found</subject><body>


error: Fatal error: Class 'GladeXML' not found

Do I need to add an option to the ./configure in order to use GladeXML or
just setup a class?

-Thanks
--
View this message in context: http://www.nabble.com/Class-%27GladeXML%27-not-found-t1104480.html#a2885308
Sent from the Php - GTK - Dev forum at Nabble.com.

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060212123721</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-12 12:37:21-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-style in GtkComboBox constructor</subject><body>


Hello Jp,


&gt; GtkComboBox() constructor to accept an optional GtkTreeModel as an
&gt; argument, instead of using GtkComboBox::new_with_model() for this job.

I would go a step further and do the following:
- new GtkComboBox()
 -&gt; automatically create the text model from new_with_text
- new GtkComboBox($model)
 -&gt; new_with_model behavior
- new GtkComboBox(null)
 -&gt; default behavior, set no model

I think the new_with_text is the type of constructor that's used mostly,
so it should be the default one (with no parameters).

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060227232230</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-27 23:22:30-0400</timestampReceived><subject>[PHP-GTK-DEV] utf8 conversion on gtkliststore?</subject><body>


Hello all and Andrei,


I need to display some rows from the database, the text fields are in
spanish. I fetch them from mysql via pear db and display them in two
ways: entry field and tree view.
When displaying them in the entry, all accented spanish characters are
shown fine. When the data gets displayed in the store, they are cut of
at that place where the accented characters appear.
I use the set() method to put the data from my variables into the list
store.
Could it be that the set() method doesn't do utf8 conversion?


-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060228040839</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-28 04:08:39-0400</timestampReceived><subject>[PHP-GTK-DEV] GdkGC constructor</subject><body>

How should we implement GdkGC constructor? Leave it bare, so you just  
pass the GdkDrawable and set all the properties via set_* functions  
or directly via -&gt;property? Or make it possible to pass some  
properties in the constructor, as version 1 did? And if so, should it  
be just a long list of parameters or just an associative array? I  
guess what I'm asking is which of these 3 choices is more appealing:

Choice1

   $gc = new GdkGC($window);
   $gc-&gt;set_foreground(...);
   $gc-&gt;set_background(...);
   $gc-&gt;set_line_attributes(...);

or

   $gc = new GdkGC($window);
   $gc-&gt;foreground = ...;
   $gc-&gt;background = ...;
   $gc-&gt;line_width = ...;

Choice 2

   $gc = new GdkGC($window, $foreground, $background, $font,  
$function, ...);

Choice 3

   $gc = new GdkGC($window, array('background' =&gt; $background,  
'line_width' =&gt; $width));

Note that choice 2 or 3 don't preclude changing the properties later  
as shows in choice 1.

I guess we could also have choice 4.

$gc = $window-&gt;new_gc(... values ..);

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060212205115</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-12 20:51:15-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] stock-browser.php</subject><body>

Should be fixed in CVS now. Basically, any functions that return  
strings to PHP should decode them from UTF-8 so stock_lookup() needed  
to be fixed. I'm sure we'll find others.

-Andrei


On Feb 9, 2006, at 7:45 PM, Pablo Dall'Oglio wrote:

&gt; Andrei,
&gt;
&gt; Thanks for the UTF8 patch, solves all my problems regarding accented
&gt; characters in GtkTreeView's.
&gt;
&gt; The only problem that I saw now, it's about stock-browser.php sample.
&gt; In the second column (label), the words are coming "over-econded" :-)
&gt; (don't know if it's the right word). But, It seems that was applied
&gt; utf8_encode twice...
&gt;
&gt; Take a look at:
&gt; Gtk::stock_lookup($id);
&gt;
&gt; I know it's hard to figure out these things because english as no
&gt; accented characters. But Gtk::STOCK_INFO that in brazilian  
&gt; portuguese is
&gt; "Informao", in stock-browser.php is shown as "Informao". But  
&gt; it's
&gt; the only place I've seen this problem.
&gt;
&gt; It doesn't happen when I use GtkButton::new_from_stock(). In this  
&gt; case,
&gt; the name of the buttons (even the accented ones) are fine.
&gt;
&gt; Pablo
&gt;
&gt; -- 
&gt; :: Pablo Dall'Oglio
&gt; :: www.dalloglio.net
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060213013241</emailId><senderName>"Pablo Dall'Oglio"</senderName><senderEmail>pablo@dalloglio.net</senderEmail><timestampReceived>2006-02-13 01:32:41-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] any idea ?</subject><body>

gah, I'm getting old too... this works now...
I was using set_attributes() of ViewColumn instead of set_property()
from RendererCombo...

&lt;?php
$window = new GtkWindow;
$window-&gt;connect_simple('destroy', array('gtk', 'main_quit'));
$window-&gt;set_default_size(480,240);
$window-&gt;set_position(GTK::WIN_POS_CENTER);

$list = new GtkTreeView;
$window-&gt;add($list);

$model = new GtkListStore(Gtk::TYPE_STRING, Gtk::TYPE_STRING);
$list-&gt;set_model($model);


$column1 = new GtkTreeViewColumn();
$column2 = new GtkTreeViewColumn();

$cell_renderer1 = new GtkCellRendererText();
$cell_renderer2 = new GtkCellRendererCombo();

$model_ = new GtkListStore(Gtk::TYPE_STRING);
$model_-&gt;append(array('ssss'));
$column1-&gt;pack_start($cell_renderer1, true);
$column2-&gt;pack_start($cell_renderer2, true);

$column1-&gt;set_attributes($cell_renderer1, 'text', 0);
$column2-&gt;set_attributes($cell_renderer2, 'text', 1);
$cell_renderer2-&gt;set_property('model', $model_);
$cell_renderer2-&gt;set_property('text-column', 0);
$cell_renderer2-&gt;set_property('editable', true);

$list-&gt;append_column($column1);
$list-&gt;append_column($column2);

$iter = $model-&gt;append(array('a', 'b'));
$iter = $model-&gt;append(array('a', 'b'));

$window-&gt;show_all();

Gtk::Main();
?&gt;


Em Dom, 2006-02-12  s 13:14 -0800, Andrei Zmievski escreveu:
&gt; This doesn't work for me. I get an error on the line where you are  
&gt; trying to set 'model' attribute.
&gt; 
&gt; -Andrei
&gt; 
&gt; 
&gt; On Feb 10, 2006, at 9:20 PM, Pablo Dall'Oglio wrote:
&gt; 
&gt; &gt; Didn't realize how GtkCellRendererCombo works...
&gt; &gt;
&gt; &gt; &lt;?php
&gt; &gt; $window = new GtkWindow;
&gt; &gt; $window-&gt;connect_simple('destroy', array('gtk', 'main_quit'));
&gt; &gt; $window-&gt;set_default_size(480,240);
&gt; &gt; $window-&gt;set_position(GTK::WIN_POS_CENTER);
&gt; &gt;
&gt; &gt; $list = new GtkTreeView;
&gt; &gt; $window-&gt;add($list);
&gt; &gt;
&gt; &gt; $model = new GtkListStore(Gtk::TYPE_STRING, Gtk::TYPE_STRING);
&gt; &gt; $list-&gt;set_model($model);
&gt; &gt;
&gt; &gt;
&gt; &gt; $column1 = new GtkTreeViewColumn();
&gt; &gt; $column2 = new GtkTreeViewColumn();
&gt; &gt;
&gt; &gt; $cell_renderer1 = new GtkCellRendererText();
&gt; &gt; $cell_renderer2 = new GtkCellRendererCombo();
&gt; &gt;
&gt; &gt; $model_ = new GtkListStore(Gtk::TYPE_STRING);
&gt; &gt; $model_-&gt;append(array('ssss'));
&gt; &gt;
&gt; &gt; $column1-&gt;pack_start($cell_renderer1, true);
&gt; &gt; $column2-&gt;pack_start($cell_renderer2, true);
&gt; &gt;
&gt; &gt; $column1-&gt;set_attributes($cell_renderer1, 'text', 0);
&gt; &gt; $column2-&gt;set_attributes($cell_renderer2, 'text', 1);
&gt; &gt; $column2-&gt;set_attributes($cell_renderer2, 'model', $model_);
&gt; &gt; $column2-&gt;set_attributes($cell_renderer2, 'text-column', 0);
&gt; &gt;
&gt; &gt; $list-&gt;append_column($column1);
&gt; &gt; $list-&gt;append_column($column2);
&gt; &gt;
&gt; &gt; $iter = $model-&gt;append(array('a', 'b'));
&gt; &gt; $iter = $model-&gt;append(array('a', 'b'));
&gt; &gt;
&gt; &gt; $window-&gt;show_all();
&gt; &gt;
&gt; &gt; Gtk::Main();
&gt; &gt; ?&gt;
&gt; &gt;
&gt; &gt; -- 
&gt; &gt; :: Pablo Dall'Oglio
&gt; &gt; :: www.dalloglio.net
&gt; &gt;
&gt; &gt; -- 
&gt; &gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; &gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
-- 
:: Pablo Dall'Oglio
:: www.dalloglio.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060228190116</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-02-28 19:01:16-0400</timestampReceived><subject>[PHP-GTK-DEV] PHP-GTK 2 Unit Testing</subject><body>

Is there any value in creating a batch of unit test for the PHP-GTK 2 
classes? Using a slightly modified version of 
PEAR::PHPUnit2_Util_Skeleton and a very simple script I can create unit 
test skeletons for all of the classes defined by PHP-GTK 2. We would 
have to do is implement the tests for each method. Its a task along the 
same lines as the documentation. Not that we need any more work to do 
right now but I think it would make development and bug fixes easier 
down the road.

-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060214165746</emailId><senderName>Adam Lebsack</senderName><senderEmail>adam@ruffdogs.com</senderEmail><timestampReceived>2006-02-14 16:57:46-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkTreeView get_cursor patch</subject><body>

Hey guys,

've been doing some development with php-gtk2 and I needed a function  
implemented, so I uhhh...  implemented it.  It's  
GtkTreeView::get_cursor.

I've included the patch.  Could we get this override into the CVS  
tree?  Thanks!

Adam Lebsack


--- php-gtk/ext/gtk+/gtktreeview.overrides	2006-02-13  
20:09:54.000000000 -0700
+++ php-gtk.patched/ext/gtk+/gtktreeview.overrides	2006-02-10  
16:39:30.000000000 -0700
@@ -1020,6 +1020,32 @@
}
%%
+override gtk_tree_view_get_cursor
+PHP_METHOD
+{
+        GtkTreePath *path = NULL;
+        GtkTreeViewColumn *column = NULL;
+        zval *php_path = NULL, *php_column = NULL;
+
+        NOT_STATIC_METHOD();
+        gtk_tree_view_get_cursor(GTK_TREE_VIEW(PHPG_GOBJECT 
(this_ptr)), &amp;path, &amp;column);
+
+        array_init(return_value);
+        if (path) {
+                phpg_tree_path_to_zval(path, &amp;php_path TSRMLS_CC);
+                phpg_gobject_new(&amp;php_column, (GObject*)column  
TSRMLS_CC);
+
+                array_init(return_value);
+                add_next_index_zval(return_value, php_path);
+                add_next_index_zval(return_value, php_column);
+        } else {
+                RETURN_FALSE;
+                //MAKE_STD_ZVAL(php_path);
+                //MAKE_STD_ZVAL(php_column);
+        }
+}
+
+%%
add-arginfo GtkTreeView get_path_at_pos
static
ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)





-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060224050044</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-24 05:00:44-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkTreeView get_cursor patch</subject><body>

Applied, with some modifications.

-Andrei


On Feb 14, 2006, at 8:57 AM, Adam Lebsack wrote:

&gt; Hey guys,
&gt;
&gt; 've been doing some development with php-gtk2 and I needed a  
&gt; function implemented, so I uhhh...  implemented it.  It's  
&gt; GtkTreeView::get_cursor.
&gt;
&gt; I've included the patch.  Could we get this override into the CVS  
&gt; tree?  Thanks!
&gt;
&gt; Adam Lebsack
&gt;
&gt; --- php-gtk/ext/gtk+/gtktreeview.overrides	2006-02-13  
&gt; 20:09:54.000000000 -0700
&gt; +++ php-gtk.patched/ext/gtk+/gtktreeview.overrides	2006-02-10  
&gt; 16:39:30.000000000 -0700
&gt; @@ -1020,6 +1020,32 @@
&gt; }
&gt; %%
&gt; +override gtk_tree_view_get_cursor
&gt; +PHP_METHOD
&gt; +{
&gt; +        GtkTreePath *path = NULL;
&gt; +        GtkTreeViewColumn *column = NULL;
&gt; +        zval *php_path = NULL, *php_column = NULL;
&gt; +
&gt; +        NOT_STATIC_METHOD();
&gt; +        gtk_tree_view_get_cursor(GTK_TREE_VIEW(PHPG_GOBJECT 
&gt; (this_ptr)), &amp;path, &amp;column);
&gt; +
&gt; +        array_init(return_value);
&gt; +        if (path) {
&gt; +                phpg_tree_path_to_zval(path, &amp;php_path TSRMLS_CC);
&gt; +                phpg_gobject_new(&amp;php_column, (GObject*)column  
&gt; TSRMLS_CC);
&gt; +
&gt; +                array_init(return_value);
&gt; +                add_next_index_zval(return_value, php_path);
&gt; +                add_next_index_zval(return_value, php_column);
&gt; +        } else {
&gt; +                RETURN_FALSE;
&gt; +                //MAKE_STD_ZVAL(php_path);
&gt; +                //MAKE_STD_ZVAL(php_column);
&gt; +        }
&gt; +}
&gt; +
&gt; +%%
&gt; add-arginfo GtkTreeView get_path_at_pos
&gt; static
&gt; ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
&gt;
&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060227161327</emailId><senderName>Adam Lebsack</senderName><senderEmail>adam@ruffdogs.com</senderEmail><timestampReceived>2006-02-27 16:13:27-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkTreeView get_cursor patch</subject><body>

Andrei,

That function is casing a segfault now....  After calling it a couple  
times, it just crashes the program.  My version didn't do this, and I  
struggled to figure out why, but couldn't.  That's probably why my  
code was a bit ugly.  :)

Got any ideas?

Thanks,
Adam

On Feb 23, 2006, at 10:00 PM, Andrei Zmievski wrote:

&gt; Applied, with some modifications.
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Feb 14, 2006, at 8:57 AM, Adam Lebsack wrote:
&gt;
&gt;&gt; Hey guys,
&gt;&gt;
&gt;&gt; 've been doing some development with php-gtk2 and I needed a  
&gt;&gt; function implemented, so I uhhh...  implemented it.  It's  
&gt;&gt; GtkTreeView::get_cursor.
&gt;&gt;
&gt;&gt; I've included the patch.  Could we get this override into the CVS  
&gt;&gt; tree?  Thanks!
&gt;&gt;
&gt;&gt; Adam Lebsack
&gt;&gt;
&gt;&gt; --- php-gtk/ext/gtk+/gtktreeview.overrides	2006-02-13  
&gt;&gt; 20:09:54.000000000 -0700
&gt;&gt; +++ php-gtk.patched/ext/gtk+/gtktreeview.overrides	2006-02-10  
&gt;&gt; 16:39:30.000000000 -0700
&gt;&gt; @@ -1020,6 +1020,32 @@
&gt;&gt; }
&gt;&gt; %%
&gt;&gt; +override gtk_tree_view_get_cursor
&gt;&gt; +PHP_METHOD
&gt;&gt; +{
&gt;&gt; +        GtkTreePath *path = NULL;
&gt;&gt; +        GtkTreeViewColumn *column = NULL;
&gt;&gt; +        zval *php_path = NULL, *php_column = NULL;
&gt;&gt; +
&gt;&gt; +        NOT_STATIC_METHOD();
&gt;&gt; +        gtk_tree_view_get_cursor(GTK_TREE_VIEW(PHPG_GOBJECT 
&gt;&gt; (this_ptr)), &amp;path, &amp;column);
&gt;&gt; +
&gt;&gt; +        array_init(return_value);
&gt;&gt; +        if (path) {
&gt;&gt; +                phpg_tree_path_to_zval(path, &amp;php_path TSRMLS_CC);
&gt;&gt; +                phpg_gobject_new(&amp;php_column, (GObject*)column  
&gt;&gt; TSRMLS_CC);
&gt;&gt; +
&gt;&gt; +                array_init(return_value);
&gt;&gt; +                add_next_index_zval(return_value, php_path);
&gt;&gt; +                add_next_index_zval(return_value, php_column);
&gt;&gt; +        } else {
&gt;&gt; +                RETURN_FALSE;
&gt;&gt; +                //MAKE_STD_ZVAL(php_path);
&gt;&gt; +                //MAKE_STD_ZVAL(php_column);
&gt;&gt; +        }
&gt;&gt; +}
&gt;&gt; +
&gt;&gt; +%%
&gt;&gt; add-arginfo GtkTreeView get_path_at_pos
&gt;&gt; static
&gt;&gt; ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060227162506</emailId><senderName>"Ivan Rodriguez"</senderName><senderEmail>epplestun@gmail.com</senderEmail><timestampReceived>2006-02-27 16:25:06-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkTreeView get_cursor patch</subject><body>


Adam try to run the script with gdb and view the backtrace (bt command)

On 2/27/06, Adam Lebsack &lt;adam@ruffdogs.com&gt; wrote:
&gt;
&gt; Andrei,
&gt;
&gt; That function is casing a segfault now....  After calling it a couple
&gt; times, it just crashes the program.  My version didn't do this, and I
&gt; struggled to figure out why, but couldn't.  That's probably why my
&gt; code was a bit ugly.  :)
&gt;
&gt; Got any ideas?
&gt;
&gt; Thanks,
&gt; Adam
&gt;
&gt; On Feb 23, 2006, at 10:00 PM, Andrei Zmievski wrote:
&gt;
&gt; &gt; Applied, with some modifications.
&gt; &gt;
&gt; &gt; -Andrei
&gt; &gt;
&gt; &gt;
&gt; &gt; On Feb 14, 2006, at 8:57 AM, Adam Lebsack wrote:
&gt; &gt;
&gt; &gt;&gt; Hey guys,
&gt; &gt;&gt;
&gt; &gt;&gt; 've been doing some development with php-gtk2 and I needed a
&gt; &gt;&gt; function implemented, so I uhhh...  implemented it.  It's
&gt; &gt;&gt; GtkTreeView::get_cursor.
&gt; &gt;&gt;
&gt; &gt;&gt; I've included the patch.  Could we get this override into the CVS
&gt; &gt;&gt; tree?  Thanks!
&gt; &gt;&gt;
&gt; &gt;&gt; Adam Lebsack
&gt; &gt;&gt;
&gt; &gt;&gt; --- php-gtk/ext/gtk+/gtktreeview.overrides   2006-02-13
&gt; &gt;&gt; 20:09:54.000000000 -0700
&gt; &gt;&gt; +++ php-gtk.patched/ext/gtk+/gtktreeview.overrides   2006-02-10
&gt; &gt;&gt; 16:39:30.000000000 -0700
&gt; &gt;&gt; @@ -1020,6 +1020,32 @@
&gt; &gt;&gt; }
&gt; &gt;&gt; %%
&gt; &gt;&gt; +override gtk_tree_view_get_cursor
&gt; &gt;&gt; +PHP_METHOD
&gt; &gt;&gt; +{
&gt; &gt;&gt; +        GtkTreePath *path = NULL;
&gt; &gt;&gt; +        GtkTreeViewColumn *column = NULL;
&gt; &gt;&gt; +        zval *php_path = NULL, *php_column = NULL;
&gt; &gt;&gt; +
&gt; &gt;&gt; +        NOT_STATIC_METHOD();
&gt; &gt;&gt; +        gtk_tree_view_get_cursor(GTK_TREE_VIEW(PHPG_GOBJECT
&gt; &gt;&gt; (this_ptr)), &amp;path, &amp;column);
&gt; &gt;&gt; +
&gt; &gt;&gt; +        array_init(return_value);
&gt; &gt;&gt; +        if (path) {
&gt; &gt;&gt; +                phpg_tree_path_to_zval(path, &amp;php_path TSRMLS_CC);
&gt; &gt;&gt; +                phpg_gobject_new(&amp;php_column, (GObject*)column
&gt; &gt;&gt; TSRMLS_CC);
&gt; &gt;&gt; +
&gt; &gt;&gt; +                array_init(return_value);
&gt; &gt;&gt; +                add_next_index_zval(return_value, php_path);
&gt; &gt;&gt; +                add_next_index_zval(return_value, php_column);
&gt; &gt;&gt; +        } else {
&gt; &gt;&gt; +                RETURN_FALSE;
&gt; &gt;&gt; +                //MAKE_STD_ZVAL(php_path);
&gt; &gt;&gt; +                //MAKE_STD_ZVAL(php_column);
&gt; &gt;&gt; +        }
&gt; &gt;&gt; +}
&gt; &gt;&gt; +
&gt; &gt;&gt; +%%
&gt; &gt;&gt; add-arginfo GtkTreeView get_path_at_pos
&gt; &gt;&gt; static
&gt; &gt;&gt; ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; --
&gt; &gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; &gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; &gt;
&gt; &gt; --
&gt; &gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; &gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; &gt;
&gt;
&gt; --
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;


</body></email><email><emailId>20060228032437</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-28 03:24:37-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkTreeView get_cursor patch</subject><body>

Can you please provide a small script reproducing the problem? I  
tried calling the function several times and it works.

-Andrei


On Feb 27, 2006, at 8:13 AM, Adam Lebsack wrote:

&gt; Andrei,
&gt;
&gt; That function is casing a segfault now....  After calling it a  
&gt; couple times, it just crashes the program.  My version didn't do  
&gt; this, and I struggled to figure out why, but couldn't.  That's  
&gt; probably why my code was a bit ugly.  :)
&gt;
&gt; Got any ideas?
&gt;
&gt; Thanks,
&gt; Adam
&gt;
&gt; On Feb 23, 2006, at 10:00 PM, Andrei Zmievski wrote:
&gt;
&gt;&gt; Applied, with some modifications.
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; On Feb 14, 2006, at 8:57 AM, Adam Lebsack wrote:
&gt;&gt;
&gt;&gt;&gt; Hey guys,
&gt;&gt;&gt;
&gt;&gt;&gt; 've been doing some development with php-gtk2 and I needed a  
&gt;&gt;&gt; function implemented, so I uhhh...  implemented it.  It's  
&gt;&gt;&gt; GtkTreeView::get_cursor.
&gt;&gt;&gt;
&gt;&gt;&gt; I've included the patch.  Could we get this override into the CVS  
&gt;&gt;&gt; tree?  Thanks!
&gt;&gt;&gt;
&gt;&gt;&gt; Adam Lebsack
&gt;&gt;&gt;
&gt;&gt;&gt; --- php-gtk/ext/gtk+/gtktreeview.overrides	2006-02-13  
&gt;&gt;&gt; 20:09:54.000000000 -0700
&gt;&gt;&gt; +++ php-gtk.patched/ext/gtk+/gtktreeview.overrides	2006-02-10  
&gt;&gt;&gt; 16:39:30.000000000 -0700
&gt;&gt;&gt; @@ -1020,6 +1020,32 @@
&gt;&gt;&gt; }
&gt;&gt;&gt; %%
&gt;&gt;&gt; +override gtk_tree_view_get_cursor
&gt;&gt;&gt; +PHP_METHOD
&gt;&gt;&gt; +{
&gt;&gt;&gt; +        GtkTreePath *path = NULL;
&gt;&gt;&gt; +        GtkTreeViewColumn *column = NULL;
&gt;&gt;&gt; +        zval *php_path = NULL, *php_column = NULL;
&gt;&gt;&gt; +
&gt;&gt;&gt; +        NOT_STATIC_METHOD();
&gt;&gt;&gt; +        gtk_tree_view_get_cursor(GTK_TREE_VIEW(PHPG_GOBJECT 
&gt;&gt;&gt; (this_ptr)), &amp;path, &amp;column);
&gt;&gt;&gt; +
&gt;&gt;&gt; +        array_init(return_value);
&gt;&gt;&gt; +        if (path) {
&gt;&gt;&gt; +                phpg_tree_path_to_zval(path, &amp;php_path TSRMLS_CC);
&gt;&gt;&gt; +                phpg_gobject_new(&amp;php_column, (GObject*)column  
&gt;&gt;&gt; TSRMLS_CC);
&gt;&gt;&gt; +
&gt;&gt;&gt; +                array_init(return_value);
&gt;&gt;&gt; +                add_next_index_zval(return_value, php_path);
&gt;&gt;&gt; +                add_next_index_zval(return_value, php_column);
&gt;&gt;&gt; +        } else {
&gt;&gt;&gt; +                RETURN_FALSE;
&gt;&gt;&gt; +                //MAKE_STD_ZVAL(php_path);
&gt;&gt;&gt; +                //MAKE_STD_ZVAL(php_column);
&gt;&gt;&gt; +        }
&gt;&gt;&gt; +}
&gt;&gt;&gt; +
&gt;&gt;&gt; +%%
&gt;&gt;&gt; add-arginfo GtkTreeView get_path_at_pos
&gt;&gt;&gt; static
&gt;&gt;&gt; ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060228190551</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-28 19:05:51-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-GTK 2 Unit Testing</subject><body>


Scott,


&gt; Is there any value in creating a batch of unit test for the PHP-GTK 2
&gt; classes? Using a slightly modified version of
As the gtk methods themselves should work, I don't see the need to test
them.

The only thing where I see use for them is when actually bugs are
discovered, and the tests help to make sure that they are really fixed.
I doubt the use of 3000 unit tests that need to be created by hand for
trivial methods such as GtkWindow::get_type().


-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060228190915</emailId><senderName>Pedro</senderName><senderEmail>ogame@phelios.org</senderEmail><timestampReceived>2006-02-28 19:09:15-0400</timestampReceived><subject>[PHP-GTK-DEV] GTK2 and ffi module</subject><body>

Hello guys

I would like to ask the PHP dev gurus ( you ) about one thing.
I'm using ( I hope ) the current release from PHP5 ( for windows at the 
ftp at the PHP-GTK site ) and would like to load the ffi extension module.
I would like to know more about this error:

Warning: dl(): : Unable to initialize module
Module compiled with module API=20041030, debug=0, thread-safety=1
PHP    compiled with module API=20050922, debug=0, thread-safety=1
These options need to match


I'm using dl() altough i'm aware i should not to dl() but when loaded 
with php.ini it does the same.

The ffi module is the latest from

http://pecl4win.php.net/ext.php/php_ffi.dll

and the PHP version of my PHP is the one from the FTP at emini

Thank you for your help

Regards
Pedro Heliodoro

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060228191614</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-28 19:16:14-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GTK2 and ffi module</subject><body>


&gt; ftp at the PHP-GTK site ) and would like to load the ffi extension module.
&gt; I would like to know more about this error:
The PHP-Gtk page on gtk.php.net has only PHP4 versions of PHP-Gtk
(Gtk1). There is no official PHP-Gtk2 version on gtk.php.net.

And what's the connection to php-gtk if you have problems loading ffi?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060228225501</emailId><senderName>Pedro</senderName><senderEmail>ogame@phelios.org</senderEmail><timestampReceived>2006-02-28 22:55:01-0400</timestampReceived><subject>[PHP-GTK-DEV] GTK2 and ffi module</subject><body>


Hello

Yes i'm aware that there is no official version of PHP-gtk2. I was just 
letting you know the troubles i've been running into. This is not we're 
at this mailing list supposed to be doing?
I don't want to distract you or anyone for the task of releasing the 
version of php-gtk2. I would like ony to post this issue when other 
developers who would eventually use the ffi also.

Doesn't php-gtk2 should allow to load modules as php 5 would?

With php-gtk (PHP4) i can load the w32api with no problems but at this 
time the ffi module is not usable by my php-gtk2's php.exe.

I will download the latest version of php 5 and overwrite the one wich 
has gtk and try to contact the ffi module author to figure this one out.

Thanks :)
Pedro Heliodoro

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060228225917</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-28 22:59:17-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GTK2 and ffi module</subject><body>


Pedro,

&gt; Doesn't php-gtk2 should allow to load modules as php 5 would?

Stop - do I understand correctly:
- You can load the ffi module without problems if you don't load the
php-gtk2 module
- You run into problems loading ffi when php-gtk2 is loaded?

Which module is the one causing problems? php-gtk or ffi? Does it help
if you switch the loading order? (load php-gtk first, or ffi first?)

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060228191711</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-02-28 19:17:11-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-GTK 2 Unit Testing</subject><body>

Christian Weiske wrote:
&gt;&gt; Is there any value in creating a batch of unit test for the PHP-GTK 2
&gt;&gt; classes? Using a slightly modified version of
&gt; As the gtk methods themselves should work, I don't see the need to test
&gt; them.

If everything worked as it was supposed to, bugs wouldn't exist. 
Unfortunately that isn't the case. You have to do some sort of testing 
to verify that everything works. What I am proposing is a more 
structured set of tests.

&gt; 
&gt; The only thing where I see use for them is when actually bugs are
&gt; discovered, and the tests help to make sure that they are really fixed.
&gt; I doubt the use of 3000 unit tests that need to be created by hand for
&gt; trivial methods such as GtkWindow::get_type().

It is nice to know that when you make a change to GtkWindow that nothing 
else broke. By running the suite of tests after making a change you can 
be sure that get_type() still functions as it should. If you only write 
tests for bugs that have been found, you will always be a step behind. 
If you write tests first you will find the bugs before they get into 
production.

Unit tests can also be used to drive development. Writing the test now 
for yet to be developed methods makes sure that what you write works the 
way it should. It reduces the number of bugs that make it to the end user.

-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060228192322</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-28 19:23:22-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-GTK 2 Unit Testing</subject><body>


Scott,

&gt; It is nice to know that when you make a change to GtkWindow that nothing
&gt; else broke. By running the suite of tests after making a change you can
&gt; be sure that get_type() still functions as it should. If you only write
&gt; tests for bugs that have been found, you will always be a step behind.
&gt; If you write tests first you will find the bugs before they get into
&gt; production.
I know the principle behind unit tests and that one should write before
programming the code itself.

So who's gonna write the 3000+ tests?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060228193122</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-02-28 19:31:22-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-GTK 2 Unit Testing</subject><body>

Christian Weiske wrote:

&gt; So who's gonna write the 3000+ tests?
&gt; 

It's only 2507 right now. And I figured you and I would write them :) 
Honestly, I don't know if they would ever get done or if most of the 
methods can even be tested (how do you test that something shows up in 
the correct font with a unit test?). I am sure at some point somebody 
asked "Who is going to document 3000+ methods?" I am just asking if it 
will ever be worth the effort not who wants to get started (yet).

-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060228193507</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-02-28 19:35:07-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-GTK 2 Unit Testing</subject><body>

Hi All,

&gt; If everything worked as it was supposed to, bugs wouldn't exist.
&gt; Unfortunately that isn't the case. You have to do some sort of testing
&gt; to verify that everything works. What I am proposing is a more
&gt; structured set of tests.

While I do agree that Unit testing will definitely keep some tab on the
quality of methods (especially in the development phase, where they are
changed ever so often), what we have to look into is whether the effort
would be really worth it.

&gt; It is nice to know that when you make a change to GtkWindow that nothing
&gt; else broke. By running the suite of tests after making a change you can
&gt; be sure that get_type() still functions as it should. If you only write
&gt; tests for bugs that have been found, you will always be a step behind.
&gt; If you write tests first you will find the bugs before they get into
&gt; production.

That's a good point. Maybe you could just mail the list the script that
you wrote, and interested people can have a look at it, and that way we
can move it forward.

&gt; Unit tests can also be used to drive development. Writing the test now
&gt; for yet to be developed methods makes sure that what you write works the
&gt; way it should. It reduces the number of bugs that make it to the end user.

Agreed!

Cheers,
-- 
Anant

Find Freedom, Go Open Source!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060228193952</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-02-28 19:39:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-GTK 2 Unit Testing</subject><body>

Anant Narayanan wrote:
&gt; That's a good point. Maybe you could just mail the list the script that
&gt; you wrote, and interested people can have a look at it, and that way we
&gt; can move it forward.

For the PHPUnit2_Util_Skeleton patch see the bug report: 
http://pear.php.net/bugs/bug.php?id=6965

Here is the script I used (part of it should look familiar):

&lt;?php
// Use PHPUnit2 to create the skeletons.
require_once 'PHPUnit2/Util/Skeleton.php';

// Get all of the classes in PHP-GTK 2.
/* Get all classes and filter out Gtk classes only */
// Taken from Anant's updater script.
$classes = array();
$allClasses = get_declared_classes();

$extensions = array('Gtk', 'Gdk', 'Atk', 'Pango');
foreach ($extensions as $extension) {
     foreach($allClasses as $oneClass) {
         if(strpos($oneClass, $extension) === 0) {
             $classes[] = $oneClass;
         }
     }
}

sort($classes);

foreach ($classes as $class) {
     // Create a skeleton for the class.
     $skeleton = new PHPUnit2_Util_Skeleton($class);

     // Write the test.
     $skeleton-&gt;write();
}
?&gt;

-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060214031014</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-14 03:10:14-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkTreeViewColumn constructor</subject><body>

Fixed.

-Andrei


On Feb 12, 2006, at 5:45 PM, Pablo Dall'Oglio wrote:

&gt; When using accented chars in GtkTreeViewColumn constructor:
&gt; $column1 = new GtkTreeViewColumn('Ao');
&gt; $column2 = new GtkTreeViewColumn('Ttttt');
&gt;
&gt; Results:
&gt; Pango-WARNING **: Invalid UTF-8 string passed to  
&gt; pango_layout_set_text()
&gt;
&gt;
&gt;
&gt; -- 
&gt; :: Pablo Dall'Oglio
&gt; :: www.dalloglio.net
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060214165550</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-14 16:55:50-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] That GtkTreePath-as-boxed patch</subject><body>

You'll see.

-Andrei


On Feb 14, 2006, at 7:12 AM, Steph Fox wrote:

&gt; Hm, the reason I made it that way in the first place was that the  
&gt; array it is/was at the time simply fails, or did. No idea now, it's  
&gt; a long time since I looked into it. If the path is a boxed object  
&gt; you can have (and my test script does have) $filter = $model- 
&gt; &gt;filter_new($path).
&gt;
&gt; More to the point, in a single column with 3 entries:
&gt;
&gt; $iter = $store-&gt;get_iter_first();
&gt; $path = $store-&gt;get_path($iter);
&gt; echo $path-&gt;to_string()."\n"; //  1
&gt; $path-&gt;next();                     //  2
&gt; $path-&gt;prev();                     //  1
&gt; $path-&gt;up();                       //  NULL (this is the parent  
&gt; branch, no possibility of going any further)
&gt; $path-&gt;down();                   //  0 (no sub-branches, but  
&gt; integer because sub-branches can be created)
&gt; $newiter = $store-&gt;get_iter($path);
&gt;
&gt; worked in my test script following the change. If the path exists  
&gt; (ie it's not 0 or NULL) then $path alters its value as it 'moves  
&gt; around', so calling get_iter($path) when $path = 2 will return the  
&gt; appropriate iter so that you can do something with that cell. It  
&gt; makes it very simple to check exactly where you are, and it also  
&gt; makes it very simple to get to the next/previous cell or branch.  
&gt; You don't need the iter object in order to move around; you just  
&gt; call it when you need to access a cell. Because you have access to  
&gt; the value of the path itself, via to_string(), it's very  
&gt; straightforward to manipulate it programmatically.
&gt;
&gt; NB I've a feeling the way iter_next() works has changed since I  
&gt; wrote this in October. $store-&gt;iter_next($iter); used to change the  
&gt; iter value directly rather than return it.
&gt;
&gt; What kind of 'better way'?
&gt;
&gt;
&gt;
&gt;&gt; No, you're not really traversing the tree with GtkTreePath. You  
&gt;&gt; still need to call get_iter($path) each time you want to get ahold  
&gt;&gt; of the iterator referring to the GtkTreePath. I am working on a  
&gt;&gt; better way. Perhaps, we should wait and see until it's ready and  
&gt;&gt; then decide  whether we still want GtkTreePath as a boxed object.
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; On Feb 13, 2006, at 8:59 PM, Steph Fox wrote:
&gt;&gt;
&gt;&gt;&gt; Ah wait, memory's flooding back now.
&gt;&gt;&gt;
&gt;&gt;&gt; You're right, I did a test drive with a single function that  
&gt;&gt;&gt; calls it.
&gt;&gt;&gt;
&gt;&gt;&gt; It's useful because it's an iterator in its own right, and  
&gt;&gt;&gt; having  it exposed means you can traverse a tree 'from the  
&gt;&gt;&gt; inside' if you  see what I mean.
&gt;&gt;&gt;
&gt;&gt;&gt; ----- Original Message ----- From: "Steph Fox" &lt;steph@zend.com&gt;
&gt;&gt;&gt; To: "Andrei Zmievski" &lt;andrei@gravitonic.com&gt;
&gt;&gt;&gt; Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt;&gt; Sent: Tuesday, February 14, 2006 6:51 AM
&gt;&gt;&gt; Subject: Re: [PHP-GTK-DEV] That GtkTreePath-as-boxed patch
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I already did, didn't I?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; (I know I thought I had in the original patch anyway).
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; ----- Original Message ----- From: "Andrei Zmievski"  
&gt;&gt;&gt;&gt; &lt;andrei@gravitonic.com&gt;
&gt;&gt;&gt;&gt; To: "Steph Fox" &lt;steph@zend.com&gt;
&gt;&gt;&gt;&gt; Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt;&gt;&gt; Sent: Tuesday, February 14, 2006 5:42 AM
&gt;&gt;&gt;&gt; Subject: Re: [PHP-GTK-DEV] That GtkTreePath-as-boxed patch
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; All right, I reviewed. Basically, if you make GtkTreePath into  
&gt;&gt;&gt;&gt;&gt; a boxed object, then we have two ways of representing  
&gt;&gt;&gt;&gt;&gt; GtkTreePath  when it's passed to functions: as a string and as  
&gt;&gt;&gt;&gt;&gt; a boxed  object. There needs to be additional code to check for  
&gt;&gt;&gt;&gt;&gt; this and  do the right thing, and that code will need to be  
&gt;&gt;&gt;&gt;&gt; generated (so  more hacking in argtypes.php I think). If you're  
&gt;&gt;&gt;&gt;&gt; really sure  that it will be useful, I'll hack it.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; On Nov 2, 2005, at 1:10 PM, Steph Fox wrote:
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; Andrei, hi,
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; This is a much smaller patch now.  Please review when you get  
&gt;&gt;&gt;&gt;&gt;&gt; a minute?
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; - Steph
&gt;&gt;&gt;&gt;&gt;&gt; &lt;treepath.txt&gt;
&gt;&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060219215725</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-19 21:57:25-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Re: [PHP-GTK] New GtkTreeModel functionality</subject><body>

Should be fixed now.

-Andrei


On Feb 19, 2006, at 9:10 AM, Christian Weiske wrote:

&gt;&gt; I'll try to make a bug script
&gt; Ok, I committed that to CVS (test/bug_inspector.phpw). Seems as if it
&gt; isn't the tree selection only, but could affect other methods as well.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060222134820</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-02-22 13:48:20-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] #36487 [NEW]: object === same object mismatch</subject><body>

xxoes at nw7 dot de wrote:
&gt; From:             xxoes at nw7 dot de
&gt; Operating system: windows &amp; linux
&gt; PHP version:      5.1.2
&gt; PHP Bug Type:     PHP-GTK related
&gt; Bug description:  object === same object mismatch
&gt; 
&gt; Description:
&gt; ------------
&gt; This does not happen when you remove "extends GtkObject" from the class
&gt; signature.

I don't think this is PHP-GTK related. If you replace GtkObject with 
DOMElement you get the same result. Double check the general PHP bugs 
and if it hasn't been reported yet, you should switch this over to a 
regular PHP bug.

-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060224041626</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-24 04:16:26-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] something wrong</subject><body>

Fixed.

-Andrei


On Feb 16, 2006, at 1:44 PM, Pablo Dall'Oglio wrote:

&gt; something wrong with
&gt; 	textbuffer-&gt;get_iter_at_mark
&gt;
&gt; it should expect a mark as first parameter, but it's given me:
&gt;
&gt; Argument 1 passed to GtkTextBuffer::get_iter_at_mark() must be an
&gt; instance of GtkTextIter
&gt;
&gt; -- 
&gt; :: Pablo Dall'Oglio
&gt; :: www.dalloglio.net
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060224045244</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-24 04:52:44-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] php-gtk2 ends with an error under linux</subject><body>

I don't think this is a PHP-GTK specific problem. The issue seems to  
be in your usage of $widget-&gt;style-&gt;white_gc. Somehow, it is  
incompatible with the drawable. I think you have to create a GdkGC via:

$gc = new GdkGC($this-&gt;pixmaps);

Then fill in its values and use it.

-Andrei


On Feb 13, 2006, at 11:33 PM, xxoes wrote:

&gt; This is a short version.
&gt; if i set the depth of $this-&gt;pixmaps to 1, php-gtk crash/ends.
&gt; I require depth 1 because i willl use shape_combine_mask for  
&gt; transparent background.
&gt; I have test it with "gtk::events_pending" and with "gtk::main()",  
&gt; both have the same result.
&gt;
&gt; &lt;?PHP
&gt;   dl("php_gtk2.so");
&gt;   error_reporting(E_ALL | E_STRICT);
&gt;   set_time_limit(0);
&gt;   ob_implicit_flush(1);
&gt;
&gt;   function ticks() {
&gt;      $res = debug_backtrace();
&gt;      if(@isset($res[1]))
&gt;         $cur = $res[1];
&gt;      else
&gt;         $cur = $res[0];
&gt;      if(!@isset($cur["file"]) || !@isset($cur["line"])) {
&gt;         $cur["file"] = "??? ".$res[0]["file"];
&gt;         $cur["line"] = "??? ".$res[0]["line"];
&gt;      }
&gt;      else {
&gt;         $cur["line"] .= " =&gt; ".$res[0]["line"];
&gt;      }
&gt;      echo $cur["file"]."(".$cur["line"].")";
&gt;      if(@isset($cur["class"])) {
&gt;         echo $cur["class"].$cur["type"].$cur["function"]."(";
&gt;         $args = "";
&gt;         for($i=0;$i&lt;count($cur["args"]);$i++) {
&gt;            if($args != "") $args .= ",";
&gt;            if(is_string($cur["args"][$i]))
&gt;               $args .= "\"".addslashes($cur["args"][$i])."\"";
&gt;            else if(is_object($cur["args"][$i]))
&gt;                $args .= "(object)".get_class($cur["args"][$i]);
&gt;            else
&gt;               $args .= $cur["args"][$i];
&gt;         }
&gt;         echo $args.")";
&gt;      }
&gt;      else if($cur["function"] != "ticks") {
&gt;         echo $cur["function"];
&gt;      }
&gt; //      while(gtk::events_pending()) {gtk::main_iteration_do(1);}
&gt;      echo "\r\n";
&gt;   }
&gt;
&gt;   register_tick_function("ticks");
&gt;   declare(ticks=1);
&gt;
&gt;   $break_loop = 0;
&gt;
&gt;   class Fun extends GtkWindow {
&gt;      protected $da;
&gt;      protected $pixmap;
&gt;      protected $pixmaps;
&gt;
&gt;      protected $width;
&gt;      protected $height;
&gt;
&gt;      function __construct($parent = null) {
&gt;         parent::__construct();
&gt;         $this-&gt;width  = (int)(gdk::screen_width()/4);
&gt;         $this-&gt;height = (int)(gdk::screen_height()/4);
&gt;
&gt;         $this-&gt;connect_simple('destroy', array(&amp;$this, 'quit'));
&gt;         $this-&gt;set_default_size($this-&gt;width, $this-&gt;height);
&gt;
&gt;         $this-&gt;__create_da();
&gt;         $this-&gt;show_all();
&gt;
&gt;         mt_srand((double)microtime());
&gt;         gtk::timeout_add(1,array($this,"TexUpdate"));
&gt;      }
&gt;
&gt;      function __create_da() {
&gt;         $this-&gt;da = new GtkDrawingArea();
&gt;         $this-&gt;da-&gt;set_size_request($this-&gt;width, $this-&gt;height);
&gt;         $this-&gt;add($this-&gt;da);
&gt;         $this-&gt;da-&gt;realize();
&gt;         $this-&gt;da-&gt;connect('configure-event', array(&amp;$this,  
&gt; 'configure_event'));
&gt;      }
&gt;
&gt;      function quit() {
&gt;         global $break_loop;
&gt;         echo "destroy &lt;br /&gt;\r\n";
&gt;         $this-&gt;destroy();
&gt;         $break_loop = 1;
&gt;         gtk::main_quit();
&gt;      }
&gt;
&gt;      function configure_event($widget, $event) {
&gt; // Only depth == 1
&gt;         $this-&gt;pixmaps = new GdkPixmap($widget-&gt;window,
&gt;                                        $this-&gt;width,
&gt;                                        $this-&gt;height,
&gt;                                        1);
&gt;         return true;
&gt;      }
&gt;
&gt;      function do_loop() {
&gt;         if(!function_exists("ticks"));
&gt;            while(gtk::events_pending()) {gtk::main_iteration_do(0);}
&gt;      }
&gt;
&gt;      function TexUpdate() {
&gt; // Here is an BUG ????
&gt;         $this-&gt;pixmaps-&gt;draw_rectangle($this-&gt;style-&gt;white_gc,
&gt;                                        true, 10, 10,
&gt;                                        2,
&gt;                                        2);
&gt;      }
&gt;   };
&gt;
&gt;   $fun = new Fun();
&gt;
&gt;   gtk::main();
&gt;
&gt; /*
&gt;   while(!$break_loop) {
&gt;      $fun-&gt;do_loop();
&gt;      if(!$break_loop) {
&gt;         $fun-&gt;TexUpdate(100,100);
&gt;      }
&gt;   }
&gt; */
&gt; ?&gt;
&gt;
&gt; mfg xxoes
&gt;
&gt;
&gt; Andrei Zmievski schrieb:
&gt;
&gt;&gt; The bug seems to be triggered by the call to gtk_events_pending().  
&gt;&gt; I  have no idea what's causing it. Besides, your program is really  
&gt;&gt; long.  Try cutting it down to the minimum possible one that still  
&gt;&gt; reproduces  the error and then we'll talk.
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; On Feb 12, 2006, at 11:55 PM, xxoes wrote:
&gt;&gt;
&gt;&gt;&gt; This application run perfect under win2k || winXP but not linux
&gt;&gt;&gt;
&gt;&gt;&gt; The Application is a little bit complex,
&gt;&gt;&gt; the error happened on $this-&gt;pixmaps-&gt;draw_rectangle
&gt;&gt;&gt; and the message is:
&gt;&gt;&gt;
&gt;&gt;&gt; This probably reflects a bug in the program.
&gt;&gt;&gt; The error was 'BadMatch (invalid parameter attributes)'.
&gt;&gt;&gt;  (Details: serial 173 error_code 8 request_code 70 minor_code 0)
&gt;&gt;&gt;  (Note to programmers: normally, X errors are reported  
&gt;&gt;&gt; asynchronously;
&gt;&gt;&gt;   that is, you will receive the error a while after causing it.
&gt;&gt;&gt;   To debug your program, run it with the --sync command line
&gt;&gt;&gt;   option to change this behavior. You can then get a meaningful
&gt;&gt;&gt;   backtrace from your debugger if you break on the gdk_x_error()   
&gt;&gt;&gt; function.)
&gt;&gt;&gt;
&gt;&gt;&gt; When i comment out "$this-&gt;pixmaps-&gt;draw_rectangle" the app is   
&gt;&gt;&gt; working a time long.
&gt;&gt;&gt;
&gt;&gt;&gt; The first part is only for debuging:
&gt;&gt;&gt;
&gt;&gt;&gt; &lt;?PHP
&gt;&gt;&gt;   dl("php_gtk2.so");
&gt;&gt;&gt;   error_reporting(E_ALL);
&gt;&gt;&gt;   set_time_limit(0);
&gt;&gt;&gt;   ob_implicit_flush(1);
&gt;&gt;&gt;
&gt;&gt;&gt;   function ticks() {
&gt;&gt;&gt;      $res = debug_backtrace();
&gt;&gt;&gt;      if(@isset($res[1]))
&gt;&gt;&gt;         $cur = $res[1];
&gt;&gt;&gt;      else
&gt;&gt;&gt;         $cur = $res[0];
&gt;&gt;&gt;      if(!@isset($cur["file"]) || !@isset($cur["line"])) {
&gt;&gt;&gt;         $cur["file"] = "??? ".$res[0]["file"];
&gt;&gt;&gt;         $cur["line"] = "??? ".$res[0]["line"];
&gt;&gt;&gt;      }
&gt;&gt;&gt;      else {
&gt;&gt;&gt;         $cur["line"] .= " =&gt; ".$res[0]["line"];
&gt;&gt;&gt;      }
&gt;&gt;&gt;      echo $cur["file"]."(".$cur["line"].")";
&gt;&gt;&gt;      if(@isset($cur["class"])) {
&gt;&gt;&gt;         echo $cur["class"].$cur["type"].$cur["function"]."(";
&gt;&gt;&gt;         $args = "";
&gt;&gt;&gt;         for($i=0;$i&lt;count($cur["args"]);$i++) {
&gt;&gt;&gt;            if($args != "") $args .= ",";
&gt;&gt;&gt;            if(is_string($cur["args"][$i]))
&gt;&gt;&gt;               $args .= "\"".addslashes($cur["args"][$i])."\"";
&gt;&gt;&gt;            else if(is_object($cur["args"][$i]))
&gt;&gt;&gt;                $args .= "(object)".get_class($cur["args"][$i]);
&gt;&gt;&gt;            else
&gt;&gt;&gt;               $args .= $cur["args"][$i];
&gt;&gt;&gt;         }
&gt;&gt;&gt;         echo $args.")";
&gt;&gt;&gt;      }
&gt;&gt;&gt;      else if($cur["function"] != "ticks") {
&gt;&gt;&gt;         echo $cur["function"];
&gt;&gt;&gt;      }
&gt;&gt;&gt;      while(gtk::events_pending()) {gtk::main_iteration_do(1);}
&gt;&gt;&gt;      echo "\r\n";
&gt;&gt;&gt;
&gt;&gt;&gt; /*
&gt;&gt;&gt;      for($i=0;$i&lt;count($res);$i++) {
&gt;&gt;&gt;         unset($res[$i]["object"]);
&gt;&gt;&gt;         unset($res[$i]["args"]);
&gt;&gt;&gt;      }
&gt;&gt;&gt;      print_r($res);
&gt;&gt;&gt; */
&gt;&gt;&gt;   }
&gt;&gt;&gt;   register_tick_function("ticks");
&gt;&gt;&gt;   declare(ticks=1);
&gt;&gt;&gt; ?&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Thats the application:
&gt;&gt;&gt;
&gt;&gt;&gt; &lt;?PHP
&gt;&gt;&gt;   error_reporting(E_ALL | E_STRICT);
&gt;&gt;&gt;
&gt;&gt;&gt;   $break_loop = 0;
&gt;&gt;&gt;   $tex_data = array();
&gt;&gt;&gt;
&gt;&gt;&gt;   class Fun extends GtkWindow {
&gt;&gt;&gt;      protected $da;
&gt;&gt;&gt;      protected $pixmap;
&gt;&gt;&gt;      protected $pixmaps;
&gt;&gt;&gt;      protected $gc;
&gt;&gt;&gt;      protected $cmap;
&gt;&gt;&gt;
&gt;&gt;&gt;      protected $width;
&gt;&gt;&gt;      protected $height;
&gt;&gt;&gt;
&gt;&gt;&gt;      protected $mx;
&gt;&gt;&gt;      protected $my;
&gt;&gt;&gt;      protected $mx_free;
&gt;&gt;&gt;      protected $my_free;
&gt;&gt;&gt;      protected $done;
&gt;&gt;&gt;
&gt;&gt;&gt;      protected $zoom = 2;
&gt;&gt;&gt;
&gt;&gt;&gt;      public $tex_data;
&gt;&gt;&gt;
&gt;&gt;&gt;      function __construct($parent = null) {
&gt;&gt;&gt;         parent::__construct();
&gt;&gt;&gt;         $this-&gt;width  = (int)(gdk::screen_width()/$this-&gt;zoom);
&gt;&gt;&gt;         $this-&gt;height = (int)(gdk::screen_height()/$this-&gt;zoom);
&gt;&gt;&gt;
&gt;&gt;&gt;         $this-&gt;connect_simple('destroy', array(&amp;$this, 'quit'));
&gt;&gt;&gt;
&gt;&gt;&gt;         $this-&gt;set_title("Fun");
&gt;&gt;&gt;         $this-&gt;set_position(Gtk::WIN_POS_NONE);
&gt;&gt;&gt;         $this-&gt;set_default_size($this-&gt;width*$this-&gt;zoom, $this-  
&gt;&gt;&gt; &gt;height*$this-&gt;zoom);
&gt;&gt;&gt;         $this-&gt;set_border_width(0);
&gt;&gt;&gt;         $this-&gt;set_resizable(0);
&gt;&gt;&gt;         $this-&gt;set_decorated(0);
&gt;&gt;&gt;         $this-&gt;set_skip_taskbar_hint(1);
&gt;&gt;&gt;         $this-&gt;set_skip_pager_hint(1);
&gt;&gt;&gt;         $this-&gt;set_modal(1);
&gt;&gt;&gt;
&gt;&gt;&gt;         $this-&gt;__create_da();
&gt;&gt;&gt;
&gt;&gt;&gt;         $this-&gt;show_all();
&gt;&gt;&gt;
&gt;&gt;&gt;         $this-&gt;set_keep_above(1);
&gt;&gt;&gt;         $this-&gt;set_uposition(0,0);
&gt;&gt;&gt;
&gt;&gt;&gt;         mt_srand((double)microtime());
&gt;&gt;&gt;
&gt;&gt;&gt;         $this-&gt;TexReset();
&gt;&gt;&gt; //         gtk::timeout_add(1,array(&amp;$this,"timer"));
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function __create_da() {
&gt;&gt;&gt;         $this-&gt;da = new GtkDrawingArea();
&gt;&gt;&gt;         $this-&gt;da-&gt;set_size_request($this-&gt;width*$this-&gt;zoom,  
&gt;&gt;&gt; $this- &gt;height*$this-&gt;zoom);
&gt;&gt;&gt;         $this-&gt;add($this-&gt;da);
&gt;&gt;&gt;         $this-&gt;da-&gt;realize();
&gt;&gt;&gt;         $this-&gt;da-&gt;connect('configure-event', array(&amp;$this,   
&gt;&gt;&gt; 'configure_event'));
&gt;&gt;&gt;         $this-&gt;da-&gt;connect('expose-event',    array(&amp;  
&gt;&gt;&gt; $this,'draw_it'));
&gt;&gt;&gt;         $this-&gt;da-&gt;add_events(Gdk::POINTER_MOTION_MASK);
&gt;&gt;&gt;         $this-&gt;da-&gt;connect('motion-notify-event', array(&amp;$this,   
&gt;&gt;&gt; 'motion_notify_event'));
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function gen_shape() {
&gt;&gt;&gt; //         $this-&gt;shape_combine_mask($this-&gt;pixmaps,0,0);
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function motion_notify_event($widget, $event) {
&gt;&gt;&gt;         static $mouse = 0;
&gt;&gt;&gt;         $mouse++;
&gt;&gt;&gt;         if($mouse &gt;= 2) {
&gt;&gt;&gt;            global $break_loop;
&gt;&gt;&gt; //            $break_loop = 1;
&gt;&gt;&gt;         }
&gt;&gt;&gt;         $max = 10;
&gt;&gt;&gt;         $window  = $event-&gt;window;
&gt;&gt;&gt;         $x = (int)((int)$event-&gt;x_root/2)*2;
&gt;&gt;&gt;         $y = (int)($event-&gt;y_root/2)*2;
&gt;&gt;&gt;         $x = (int)($x/$this-&gt;zoom);
&gt;&gt;&gt;         $y = (int)($y/$this-&gt;zoom);
&gt;&gt;&gt;         $change = 0;
&gt;&gt;&gt;
&gt;&gt;&gt;         for($xi=$x-$max;$xi&lt;$x+$max;$xi++) {
&gt;&gt;&gt;            if($xi &lt; 0 || $xi &gt;= $this-&gt;width) continue;
&gt;&gt;&gt;            for($yi=$y-$max;$yi&lt;$y+$max;$yi++) {
&gt;&gt;&gt;               if($yi &lt; 0 || $yi &gt;= $this-&gt;height) continue;
&gt;&gt;&gt;               if(@isset($this-&gt;tex_data[$xi][$yi])) {
&gt;&gt;&gt;                  unset($this-&gt;tex_data[$xi][$yi]);
&gt;&gt;&gt;                  $this-&gt;pixmap-&gt;draw_rectangle($this-&gt;style- 
&gt;&gt;&gt; &gt;white_gc,
&gt;&gt;&gt;                                                true, $xi*$this-  
&gt;&gt;&gt; &gt;zoom, $yi*$this-&gt;zoom,
&gt;&gt;&gt;                                                $this-&gt;zoom,
&gt;&gt;&gt;                                                $this-&gt;zoom);
&gt;&gt;&gt; // Here is an BUG ????
&gt;&gt;&gt;                  $this-&gt;pixmaps-&gt;draw_rectangle($this-&gt;style-  
&gt;&gt;&gt; &gt;black_gc,
&gt;&gt;&gt;                                                 true, $xi*$this-  
&gt;&gt;&gt; &gt;zoom, $yi*$this-&gt;zoom,
&gt;&gt;&gt;                                                 $this-&gt;zoom,
&gt;&gt;&gt;                                                 $this-&gt;zoom);
&gt;&gt;&gt;                  $change++;
&gt;&gt;&gt;               }
&gt;&gt;&gt;            }
&gt;&gt;&gt;         }
&gt;&gt;&gt;         if($change) {
&gt;&gt;&gt;            $this-&gt;da-&gt;queue_draw_area($x-$max, $y-$max, $max*2,   
&gt;&gt;&gt; $max*2);
&gt;&gt;&gt;            $this-&gt;gen_shape();
&gt;&gt;&gt;         }
&gt;&gt;&gt;         return(true);
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;      function quit() {
&gt;&gt;&gt;         global $break_loop;
&gt;&gt;&gt;         echo "destroy &lt;br /&gt;\r\n";
&gt;&gt;&gt;         $this-&gt;destroy();
&gt;&gt;&gt;         $break_loop = 1;
&gt;&gt;&gt;         gtk::main_quit();
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function configure_event($widget, $event) {
&gt;&gt;&gt;         $this-&gt;pixmap = new GdkPixmap($widget-&gt;window,
&gt;&gt;&gt;                                       $this-&gt;width*$this-&gt;zoom,
&gt;&gt;&gt;                                       $this-&gt;height*$this-&gt;zoom,
&gt;&gt;&gt;                                       -1);
&gt;&gt;&gt;         $this-&gt;pixmaps = new GdkPixmap($widget-&gt;window,
&gt;&gt;&gt;                                        $this-&gt;width*$this-&gt;zoom,
&gt;&gt;&gt;                                        $this-&gt;height*$this-&gt;zoom,
&gt;&gt;&gt;                                        1);
&gt;&gt;&gt;         $this-&gt;pixmap-&gt;draw_rectangle($widget-&gt;style-&gt;white_gc,
&gt;&gt;&gt;                                       true, 0, 0,
&gt;&gt;&gt;                                       $this-&gt;width*$this-&gt;zoom,
&gt;&gt;&gt;                                       $this-&gt;height*$this-&gt;zoom);
&gt;&gt;&gt;         $this-&gt;gc      = new GdkGc($this-&gt;da-&gt;window);
&gt;&gt;&gt;         $this-&gt;cmap    = $this-&gt;da-&gt;get_colormap();
&gt;&gt;&gt;         return true;
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function draw_it($widget, $event) {
&gt;&gt;&gt;         $gc = new GdkGC($widget-&gt;window);
&gt;&gt;&gt; // BUG ???? PHP crashed with $widget-&gt;style-&gt;fg_gc
&gt;&gt;&gt; //       $widget-&gt;window-&gt;draw_drawable($widget-&gt;style-&gt;fg_gc  
&gt;&gt;&gt; [$widget-&gt;state],
&gt;&gt;&gt;         $widget-&gt;window-&gt;draw_drawable($gc,
&gt;&gt;&gt;                                        $this-&gt;pixmap,
&gt;&gt;&gt;                                        $event-&gt;area-&gt;x, $event-  
&gt;&gt;&gt; &gt;area-&gt;y,
&gt;&gt;&gt;                                        $event-&gt;area-&gt;x, $event-  
&gt;&gt;&gt; &gt;area-&gt;y,
&gt;&gt;&gt;                                        $event-&gt;area-&gt;width,  
&gt;&gt;&gt; $event- &gt;area-&gt;height);
&gt;&gt;&gt;        return false;
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function do_loop() {
&gt;&gt;&gt; //         while(gtk::events_pending()) {gtk::main_iteration_do(0);}
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function TexReset() {
&gt;&gt;&gt;         global $tex_data;
&gt;&gt;&gt;         $width  = $this-&gt;width;
&gt;&gt;&gt;         $height = $this-&gt;height;
&gt;&gt;&gt;
&gt;&gt;&gt;         $this-&gt;mx=(int)(rand()%($width/2)) 
&gt;&gt;&gt; *2;                  //  Pick A New Random X Position
&gt;&gt;&gt;         $this-&gt;my=(int)(rand()%($height/2)) 
&gt;&gt;&gt; *2;                 //  Pick A New Random Y Position
&gt;&gt;&gt;
&gt;&gt;&gt;         $this-&gt;pixmap-&gt;draw_rectangle($this-&gt;style-&gt;white_gc,
&gt;&gt;&gt;                                       true, 0, 0,
&gt;&gt;&gt;                                       $this-&gt;width*$this-&gt;zoom,
&gt;&gt;&gt;                                       $this-&gt;height*$this-&gt;zoom);
&gt;&gt;&gt; // Here is an BUG ????
&gt;&gt;&gt;         $this-&gt;pixmaps-&gt;draw_rectangle($this-&gt;style-&gt;black_gc,
&gt;&gt;&gt;                                        true, 0, 0,
&gt;&gt;&gt;                                        $this-&gt;width*$this-&gt;zoom,
&gt;&gt;&gt;                                        $this-&gt;height*$this-&gt;zoom);
&gt;&gt;&gt;         if(count($tex_data) &gt; 0) {
&gt;&gt;&gt;            reset($tex_data);
&gt;&gt;&gt;            while(list($key_x) = each($tex_data)) {
&gt;&gt;&gt;               if($key_x &gt;= $width) continue;
&gt;&gt;&gt;               ksort($tex_data[$key_x]);
&gt;&gt;&gt;               reset($tex_data[$key_x]);
&gt;&gt;&gt;               while(list($key_y) = each($tex_data[$key_x])) {
&gt;&gt;&gt;                  if($key_y &gt;= $height) continue;
&gt;&gt;&gt;                  $this-&gt;TexUpdate($key_x,$key_y);
&gt;&gt;&gt;               }
&gt;&gt;&gt;               $this-&gt;gen_shape();
&gt;&gt;&gt;               $this-&gt;do_loop();
&gt;&gt;&gt;            }
&gt;&gt;&gt;            $this-&gt;gen_shape();
&gt;&gt;&gt;            $this-&gt;do_loop();
&gt;&gt;&gt;         }
&gt;&gt;&gt;         else {
&gt;&gt;&gt;            $this-&gt;tex_data = array();
&gt;&gt;&gt;         }
&gt;&gt;&gt;         $this-&gt;done = false;
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function TexUpdate($dmx,$dmy)  
&gt;&gt;&gt; {                           //  Update Pixel dmx, dmy On The Texture
&gt;&gt;&gt;         $dmx = (int)$dmx;
&gt;&gt;&gt;         $dmy = (int)$dmy;
&gt;&gt;&gt;         if($dmx &gt;= $this-&gt;width || $dmy &gt;= $this-&gt;height) return;
&gt;&gt;&gt;
&gt;&gt;&gt;         $this-&gt;tex($dmx,$dmy,255);      // Set Red Pixel To Full   
&gt;&gt;&gt; Bright
&gt;&gt;&gt;
&gt;&gt;&gt;         $dmx = $dmx*$this-&gt;zoom;
&gt;&gt;&gt;         $dmy = $dmy*$this-&gt;zoom;
&gt;&gt;&gt;         static $i_color = 0;
&gt;&gt;&gt;         $i_color++;
&gt;&gt;&gt;         if($i_color &gt;= 256) $i_color = 0;
&gt;&gt;&gt;         $i_color = mt_rand(0,255);
&gt;&gt;&gt;         $color = $i_color*$i_color*$i_color;
&gt;&gt;&gt;
&gt;&gt;&gt;         $r = $color
&gt;&gt;&gt;         $g = ($color&amp;65280)&gt;&gt;8;
&gt;&gt;&gt;         $b = ($color&amp;16711680)&gt;&gt;16;
&gt;&gt;&gt;
&gt;&gt;&gt; //         $gc = $this-&gt;style-&gt;black_gc;
&gt;&gt;&gt;         $this-&gt;gc-&gt;set_foreground($this-&gt;cmap-&gt;alloc_color 
&gt;&gt;&gt; ($r*256,  $g*256, $b*256));
&gt;&gt;&gt;         $gc = $this-&gt;gc;
&gt;&gt;&gt;
&gt;&gt;&gt;         $this-&gt;pixmap-&gt;draw_rectangle($gc,
&gt;&gt;&gt;                                       true, $dmx, $dmy,
&gt;&gt;&gt;                                       $this-&gt;zoom,
&gt;&gt;&gt;                                       $this-&gt;zoom);
&gt;&gt;&gt; // Here is an BUG ????
&gt;&gt;&gt;         $this-&gt;pixmaps-&gt;draw_rectangle($this-&gt;style-&gt;white_gc,
&gt;&gt;&gt;                                        true, $dmx, $dmy,
&gt;&gt;&gt;                                        $this-&gt;zoom,
&gt;&gt;&gt;                                        $this-&gt;zoom);
&gt;&gt;&gt;         $this-&gt;da-&gt;queue_draw_area($dmx, $dmy, $dmx+5, $dmy+5);
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function tex($dmx,$dmy,$val = -1) {
&gt;&gt;&gt;         if($val != -1) {
&gt;&gt;&gt;            $this-&gt;tex_data[$dmx][$dmy]=$val;
&gt;&gt;&gt;         }
&gt;&gt;&gt;         if(@isset($this-&gt;tex_data[$dmx][$dmy]))
&gt;&gt;&gt;            return($this-&gt;tex_data[$dmx][$dmy]);
&gt;&gt;&gt;         else
&gt;&gt;&gt;            return(0);
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function TexMake() {
&gt;&gt;&gt;         global $break_loop;
&gt;&gt;&gt;         $width  = $this-&gt;width;
&gt;&gt;&gt;         $height = $this-&gt;height;
&gt;&gt;&gt;         $mx = &amp;$this-&gt;mx;
&gt;&gt;&gt;         $my = &amp;$this-&gt;my;
&gt;&gt;&gt;         $tex_data = &amp;$this-&gt;tex_data;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;         if($this-&gt;done) {
&gt;&gt;&gt;            $this-&gt;TexReset();
&gt;&gt;&gt;         }
&gt;&gt;&gt;
&gt;&gt;&gt;         // Check To Make Sure We Are Not Trapped (Nowhere Else  
&gt;&gt;&gt; To  Move)
&gt;&gt;&gt;         /*
&gt;&gt;&gt;         if((($mx&gt;($width-4) || $this-&gt;tex($mx+2,$my)==255)) &amp;&amp;
&gt;&gt;&gt;            (($mx&lt;2 || $this-&gt;tex($mx-2,$my)==255)) &amp;&amp;
&gt;&gt;&gt;            (($my&gt;($height-4) || $this-&gt;tex($mx,$my+2)==255)) &amp;&amp;
&gt;&gt;&gt;            (($my&lt;2 || $this-&gt;tex($mx,$my-2)==255))) {
&gt;&gt;&gt;            do  
&gt;&gt;&gt; {                                                  //  If We Are  
&gt;&gt;&gt; Trapped
&gt;&gt;&gt;               $mx=(int)(rand()%($width/2)) 
&gt;&gt;&gt; *2;                    //  Pick A New Random X Position
&gt;&gt;&gt;               $my=(int)(rand()%($height/2)) 
&gt;&gt;&gt; *2;                   //  Pick A New Random Y Position
&gt;&gt;&gt;               $this-&gt;do_loop();
&gt;&gt;&gt;            } while(!$break_loop &amp;&amp; $this-&gt;tex($mx,$my) 
&gt;&gt;&gt; ==0);      //  Keep Picking A Random Position Until We Find
&gt;&gt;&gt;         }                                                        //  
&gt;&gt;&gt;  One That Has Already Been Tagged (Safe Starting Point)
&gt;&gt;&gt;         */
&gt;&gt;&gt;
&gt;&gt;&gt;         static $no_found = 0;
&gt;&gt;&gt;         {
&gt;&gt;&gt;
&gt;&gt;&gt;            $dir=(int)mt_rand(1,8)% 
&gt;&gt;&gt; 4;                             //  Pick A Random Direction
&gt;&gt;&gt;            if(($dir==0) &amp;&amp; ($mx&lt;=($width-4)))  
&gt;&gt;&gt; {                  //  If The Direction Is 0 (Right) And We Are  
&gt;&gt;&gt; Not At The Far Right
&gt;&gt;&gt;               if($this-&gt;tex($mx+2,$my)==0)  
&gt;&gt;&gt; {                     //  And If The Room To The Right Has Not  
&gt;&gt;&gt; Already Been Visited
&gt;&gt;&gt;                  $this-&gt;TexUpdate($mx+1, 
&gt;&gt;&gt; $my);                    //  Update The Texture To Show Path Cut  
&gt;&gt;&gt; Out Between Rooms
&gt;&gt;&gt;                  $mx 
&gt;&gt;&gt; +=2;                                         //  Move To The  
&gt;&gt;&gt; Right (Room To The Right)
&gt;&gt;&gt;                  $no_found = 0;
&gt;&gt;&gt;               }
&gt;&gt;&gt;               else {
&gt;&gt;&gt;                  $no_found++;
&gt;&gt;&gt;               }
&gt;&gt;&gt;            }
&gt;&gt;&gt;            else if(($dir==1) &amp;&amp; ($my&lt;=($height-4)))  
&gt;&gt;&gt; {            //  If The Direction Is 1 (Down) And We Are Not At  
&gt;&gt;&gt; The Bottom
&gt;&gt;&gt;               if($this-&gt;tex($mx,$my+2)==0)  
&gt;&gt;&gt; {                     //  And If The Room Below Has Not Already  
&gt;&gt;&gt; Been Visited
&gt;&gt;&gt;                  $this-&gt;TexUpdate($mx,$my 
&gt;&gt;&gt; +1);                    //  Update The Texture To Show Path Cut  
&gt;&gt;&gt; Out Between Rooms
&gt;&gt;&gt;                  $my 
&gt;&gt;&gt; +=2;                                         //  Move Down (Room  
&gt;&gt;&gt; Below)
&gt;&gt;&gt;                  $no_found = 0;
&gt;&gt;&gt;               }
&gt;&gt;&gt;               else {
&gt;&gt;&gt;                  $no_found++;
&gt;&gt;&gt;               }
&gt;&gt;&gt;            }
&gt;&gt;&gt;            else if(($dir==2) &amp;&amp; ($mx&gt;=2))  
&gt;&gt;&gt; {                      //  If The Direction Is 2 (Left) And We  
&gt;&gt;&gt; Are Not At The Far Left
&gt;&gt;&gt;               if($this-&gt;tex($mx-2,$my)==0)  
&gt;&gt;&gt; {                     //  And If The Room To The Left Has Not  
&gt;&gt;&gt; Already Been Visited
&gt;&gt;&gt;                  $this-&gt;TexUpdate($mx-1, 
&gt;&gt;&gt; $my);                    //  Update The Texture To Show Path Cut  
&gt;&gt;&gt; Out Between Rooms
&gt;&gt;&gt;                  $mx- 
&gt;&gt;&gt; =2;                                         //  Move To The Left  
&gt;&gt;&gt; (Room To The Left)
&gt;&gt;&gt;                  $no_found = 0;
&gt;&gt;&gt;               }
&gt;&gt;&gt;               else {
&gt;&gt;&gt;                  $no_found++;
&gt;&gt;&gt;               }
&gt;&gt;&gt;            }
&gt;&gt;&gt;            else if(($dir==3) &amp;&amp; ($my&gt;=2))  
&gt;&gt;&gt; {                      //  If The Direction Is 3 (Up) And We Are  
&gt;&gt;&gt; Not At The Top
&gt;&gt;&gt;               if($this-&gt;tex($mx,$my-2)==0)  
&gt;&gt;&gt; {                     //  And If The Room Above Has Not Already  
&gt;&gt;&gt; Been Visited
&gt;&gt;&gt;                  $this-&gt;TexUpdate($mx, 
&gt;&gt;&gt; $my-1);                    //  Update The Texture To Show Path  
&gt;&gt;&gt; Cut Out Between Rooms
&gt;&gt;&gt;                  $my- 
&gt;&gt;&gt; =2;                                         //  Move Up (Room Above)
&gt;&gt;&gt;                  $no_found = 0;
&gt;&gt;&gt;               }
&gt;&gt;&gt;               else {
&gt;&gt;&gt;                  $no_found++;
&gt;&gt;&gt;               }
&gt;&gt;&gt;            }
&gt;&gt;&gt;            if($no_found &gt;= 20) {
&gt;&gt;&gt;               $i = 0;
&gt;&gt;&gt;               $no_found = 0;
&gt;&gt;&gt;               while(!$break_loop &amp;&amp; $this-&gt;tex($mx,$my)==255)   
&gt;&gt;&gt; {                                               // If We Are Trapped
&gt;&gt;&gt;                  $i++;
&gt;&gt;&gt; /*
&gt;&gt;&gt;                  $mx=(int)(rand()%($width/2)) 
&gt;&gt;&gt; *2;                 //  Pick A New Random X Position
&gt;&gt;&gt;                  $my=(int)(rand()%($height/2)) 
&gt;&gt;&gt; *2;                //  Pick A New Random Y Position
&gt;&gt;&gt; */
&gt;&gt;&gt;                  if($i &gt; 100 &amp;&amp; !($i%1000)) {
&gt;&gt;&gt;                     if(!($i%1000)) {
&gt;&gt;&gt;                        if($this-&gt;get_done()) {
&gt;&gt;&gt;                           return;
&gt;&gt;&gt;                        }
&gt;&gt;&gt;                        $this-&gt;mx = $this-&gt;mx_free;
&gt;&gt;&gt;                        $this-&gt;my = $this-&gt;my_free;
&gt;&gt;&gt;                        break;
&gt;&gt;&gt;                     }
&gt;&gt;&gt;                  }
&gt;&gt;&gt;               };                   // Keep Picking A Random   
&gt;&gt;&gt; Position Until We Find
&gt;&gt;&gt;            }
&gt;&gt;&gt;         }
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;         $this-&gt;TexUpdate($mx,$my);
&gt;&gt;&gt;         $this-&gt;gen_shape();
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function get_done_A() {
&gt;&gt;&gt;         for($x=$this-&gt;mx;$x&lt;$this-&gt;width;$x+=2)   
&gt;&gt;&gt; {                   // Loop Through All The Rooms
&gt;&gt;&gt;            for($y=$this-&gt;my;$y&lt;$this-&gt;height;$y+=2)   
&gt;&gt;&gt; {               // On X And Y Axis
&gt;&gt;&gt;               if($this-&gt;tex($x,$y)==0)   
&gt;&gt;&gt; {                            // If Current Texture Pixel (Room)  
&gt;&gt;&gt; Is  Blank
&gt;&gt;&gt;                  $this-&gt;mx_free = $x;
&gt;&gt;&gt;                  $this-&gt;my_free = $y;
&gt;&gt;&gt;                  return  
&gt;&gt;&gt; (false);                                     // We Have To Set  
&gt;&gt;&gt; done  To False (Not Finished Yet)
&gt;&gt;&gt;               }
&gt;&gt;&gt;            }
&gt;&gt;&gt;         }
&gt;&gt;&gt;         return(true);
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function get_done_B() {
&gt;&gt;&gt;         for($x=$this-&gt;mx-2;$x&gt;=0;$x-=2)   
&gt;&gt;&gt; {                           // Loop Through All The Rooms
&gt;&gt;&gt;            for($y=$this-&gt;my-2;$y&gt;=0;$y-=2)   
&gt;&gt;&gt; {                        // On X And Y Axis
&gt;&gt;&gt;               if($this-&gt;tex($x,$y)==0)   
&gt;&gt;&gt; {                            // If Current Texture Pixel (Room)  
&gt;&gt;&gt; Is  Blank
&gt;&gt;&gt;                  $this-&gt;mx_free = $x;
&gt;&gt;&gt;                  $this-&gt;my_free = $y;
&gt;&gt;&gt;                  return  
&gt;&gt;&gt; (false);                                     // We Have To Set  
&gt;&gt;&gt; done  To False (Not Finished Yet)
&gt;&gt;&gt;               }
&gt;&gt;&gt;            }
&gt;&gt;&gt;         }
&gt;&gt;&gt;         return(true);
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function get_done_C() {
&gt;&gt;&gt;         for($x=0;$x&lt;$this-&gt;width;$x+=2)   
&gt;&gt;&gt; {                           // Loop Through All The Rooms
&gt;&gt;&gt;            for($y=0;$y&lt;$this-&gt;height;$y+=2)   
&gt;&gt;&gt; {                       // On X And Y Axis
&gt;&gt;&gt;               if($this-&gt;tex($x,$y)==0)   
&gt;&gt;&gt; {                            // If Current Texture Pixel (Room)  
&gt;&gt;&gt; Is  Blank
&gt;&gt;&gt;                  $this-&gt;mx_free = $x;
&gt;&gt;&gt;                  $this-&gt;my_free = $y;
&gt;&gt;&gt;                  return  
&gt;&gt;&gt; (false);                                     // We Have To Set  
&gt;&gt;&gt; done  To False (Not Finished Yet)
&gt;&gt;&gt;               }
&gt;&gt;&gt;            }
&gt;&gt;&gt;         }
&gt;&gt;&gt;         return(true);
&gt;&gt;&gt;      }
&gt;&gt;&gt;
&gt;&gt;&gt;      function get_done() {
&gt;&gt;&gt;         static $c = 0;
&gt;&gt;&gt;         if(!$c) {
&gt;&gt;&gt;            $c = 1;
&gt;&gt;&gt;            if($this-&gt;get_done_A() &amp;&amp; $this-&gt;get_done_B() &amp;&amp;  
&gt;&gt;&gt; $this- &gt;get_done_C()) {
&gt;&gt;&gt;               $this-&gt;done = true;
&gt;&gt;&gt;               return(true);
&gt;&gt;&gt;            }
&gt;&gt;&gt;         }
&gt;&gt;&gt;         else {
&gt;&gt;&gt;            $c = 0;
&gt;&gt;&gt;            if($this-&gt;get_done_B() &amp;&amp; $this-&gt;get_done_A() &amp;&amp;  
&gt;&gt;&gt; $this- &gt;get_done_C()) {
&gt;&gt;&gt;               $this-&gt;done = true;
&gt;&gt;&gt;               return(true);
&gt;&gt;&gt;            }
&gt;&gt;&gt;         }
&gt;&gt;&gt;         return(false);
&gt;&gt;&gt;      }
&gt;&gt;&gt;   };
&gt;&gt;&gt;
&gt;&gt;&gt;   $fun = new Fun();
&gt;&gt;&gt;
&gt;&gt;&gt;   while(!$break_loop) {
&gt;&gt;&gt;      $fun-&gt;do_loop();
&gt;&gt;&gt;      if(!$break_loop) {
&gt;&gt;&gt;         $fun-&gt;TexMake();
&gt;&gt;&gt;      }
&gt;&gt;&gt;   }
&gt;&gt;&gt; ?&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; (sorry for my english ;))
&gt;&gt;&gt; mfg xxoes
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060224152454</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-02-24 15:24:54-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] win32 compilation failure</subject><body>

CVS HEAD version works now.  Fussy compiler...

----- Original Message ----- 
From: "xxoes" &lt;xxoes@nw7.de&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Friday, February 24, 2006 11:12 AM
Subject: Re: [PHP-GTK-DEV] win32 compilation failure


&gt; No,
&gt; but now there is a new error:
&gt;
&gt; php_gtk+_types.c
&gt; ext\gtk+\php_gtk+_types.c(515) : error C2275: "phpg_modelrow_t" : illegal 
&gt; use of this type as an expression
&gt;        ext\gtk+\php_gtk+_types.c(492) : see declaration of 
&gt; 'phpg_modelrow_t'
&gt; ext\gtk+\php_gtk+_types.c(515) : error C2065: 'row' : undeclared 
&gt; identifier
&gt; ext\gtk+\php_gtk+_types.c(521) : warning C4047: '=' : 'int' differs in 
&gt; levels of indirection from 'void *'
&gt; ext\gtk+\php_gtk+_types.c(522) : error C2223: left of '-&gt;model' must point 
&gt; to struct/union
&gt; ext\gtk+\php_gtk+_types.c(522) : error C2223: left of '-&gt;iter' must point 
&gt; to struct/union
&gt; ext\gtk+\php_gtk+_types.c(522) : warning C4047: 'Funktion' : 'GtkTreeModel 
&gt; *' differs in levels of indirection from 'void ***  '
&gt; ext\gtk+\php_gtk+_types.c(522) : error C2198: 'phpg_modelrowiter_new' : 
&gt; too few actual parameters
&gt; NMAKE : fataler Fehler U1077: 'cl' : Rueckgabe-Code '0x2'
&gt;
&gt;
&gt;
&gt; It's in that code:
&gt; -------------
&gt; static void phpg_modelrowiter_new(zval **zobj, GtkTreeModel *model, 
&gt; GtkTreeIter *parent_iter TSRMLS_DC);
&gt;
&gt; static PHP_METHOD(GtkTreeModelRow, children)
&gt; {
&gt;    NOT_STATIC_METHOD();
&gt;    phpg_modelrow_t *row;
&gt;
&gt;    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "")) {
&gt;        return;
&gt;    }
&gt;
&gt;    row = zend_object_store_get_object(this_ptr TSRMLS_CC);
&gt;    phpg_modelrowiter_new(&amp;return_value, row-&gt;model, &amp;row-&gt;iter TSRMLS_CC);
&gt; }
&gt; -------------
&gt;
&gt; "phpg_modelrow_t *row;" is line 515
&gt;
&gt;
&gt;
&gt; mfg xxoes
&gt;
&gt;
&gt; Andrei Zmievski schrieb:
&gt;
&gt;&gt; I committed a patch. Do you still get this error?
&gt;&gt;
&gt;&gt; -Andrei
&gt;&gt;
&gt;&gt;
&gt;&gt; On Feb 20, 2006, at 11:24 PM, xxoes wrote:
&gt;&gt;
&gt;&gt;&gt; Next error:
&gt;&gt;&gt;
&gt;&gt;&gt; ext\gtk+\php_gtk+_types.c(500) : error C2061: syntax error :  identifier 
&gt;&gt;&gt; 'int32_t'
&gt;&gt;&gt; ext\gtk+\php_gtk+_types.c(503) : error C2059: syntax error : '}'
&gt;&gt;&gt; ext\gtk+\php_gtk+_types.c(515) : error C2275: "phpg_modelrow_t" : 
&gt;&gt;&gt; illegal use of this type as an expression
&gt;&gt;&gt;        ext\gtk+\php_gtk+_types.c(492) : see declaration of 
&gt;&gt;&gt; 'phpg_modelrow_t'
&gt;&gt;&gt; ext\gtk+\php_gtk+_types.c(515) : error C2065: 'row' :  undeclared 
&gt;&gt;&gt; identifier
&gt;&gt;&gt; ext\gtk+\php_gtk+_types.c(521) : warning C4047: '=' : 'int' differs  in 
&gt;&gt;&gt; levels of indirection from 'void *'
&gt;&gt;&gt; ext\gtk+\php_gtk+_types.c(522) : error C2223: left of '-&gt;model'  must 
&gt;&gt;&gt; point to struct/union
&gt;&gt;&gt; ext\gtk+\php_gtk+_types.c(522) : error C2223: left of '-&gt;iter' must 
&gt;&gt;&gt; point to struct/union
&gt;&gt;&gt; ...
&gt;&gt;&gt;
&gt;&gt;&gt; It's in that code:
&gt;&gt;&gt; -----------
&gt;&gt;&gt; /* {{{ GtkTreeModelRow and GtkTreeModelRowIter */
&gt;&gt;&gt;
&gt;&gt;&gt; typedef struct {
&gt;&gt;&gt;    PHPG_OBJ_HEADER
&gt;&gt;&gt;    GtkTreeModel *model;
&gt;&gt;&gt;    GtkTreeIter iter;
&gt;&gt;&gt; } phpg_modelrow_t;
&gt;&gt;&gt;
&gt;&gt;&gt; typedef struct {
&gt;&gt;&gt;    PHPG_OBJ_HEADER
&gt;&gt;&gt;    GtkTreeModel *model;
&gt;&gt;&gt;    GtkTreeIter iter;
&gt;&gt;&gt;    GtkTreeIter *parent_iter;
&gt;&gt;&gt;    gboolean is_valid;
&gt;&gt;&gt;    int32_t index;
&gt;&gt;&gt;    zval *current;
&gt;&gt;&gt;    zend_object_iterator ziter;
&gt;&gt;&gt; } phpg_modelrowiter_t;
&gt;&gt;&gt;
&gt;&gt;&gt; PHP_GTK_API PHP_GTK_EXPORT_CE(gtktreemodelrow_ce) = NULL;
&gt;&gt;&gt; PHP_GTK_API PHP_GTK_EXPORT_CE(gtktreemodelrowiter_ce) = NULL;
&gt;&gt;&gt;
&gt;&gt;&gt; static zend_object_handlers gtktreemodelrow_handlers;
&gt;&gt;&gt; -----------
&gt;&gt;&gt;
&gt;&gt;&gt; "int32_t index" is line 500
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; mfg xxoes
&gt;&gt;&gt;
&gt;&gt;&gt; Andrei Zmievski schrieb:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; should be fixed
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; On Feb 19, 2006, at 11:59 PM, Christian Weiske wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Hello all,
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; The win32 build is broken again:
&gt;&gt;&gt;&gt;&gt; --------
&gt;&gt;&gt;&gt;&gt; ext\gtk+\php_gtk+_types.c(404) : error C2082: Neudefinition des 
&gt;&gt;&gt;&gt;&gt; formalen
&gt;&gt;&gt;&gt;&gt; Parameters "tsrm_ls"
&gt;&gt;&gt;&gt;&gt; ext\gtk+\php_gtk+_types.c(501) : error C2061: Syntaxfehler : 
&gt;&gt;&gt;&gt;&gt; Bezeichner
&gt;&gt;&gt;&gt;&gt; 'int32_t'
&gt;&gt;&gt;&gt;&gt; ext\gtk+\php_gtk+_types.c(504) : error C2059: Syntaxfehler : '}'
&gt;&gt;&gt;&gt;&gt; --------
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; That would be in english:
&gt;&gt;&gt;&gt;&gt; Redefinition of the formal parameter "tsrm_ls"
&gt;&gt;&gt;&gt;&gt; syntax error: identifier int32_t
&gt;&gt;&gt;&gt;&gt; syntax error: }
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; It's in that code:
&gt;&gt;&gt;&gt;&gt; -----------
&gt;&gt;&gt;&gt;&gt; /* {{{ GtkTreeModel */
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; int phpg_model_set_row(GtkTreeModel *model, GtkTreeIter *iter, zval
&gt;&gt;&gt;&gt;&gt; *items TSRMLS_DC)
&gt;&gt;&gt;&gt;&gt; {
&gt;&gt;&gt;&gt;&gt;     gint n_cols, i;
&gt;&gt;&gt;&gt;&gt;     GtkTreeModel *child;
&gt;&gt;&gt;&gt;&gt;     GtkTreeIter child_iter;
&gt;&gt;&gt;&gt;&gt;     zval **item;
&gt;&gt;&gt;&gt;&gt;     TSRMLS_FETCH();
&gt;&gt;&gt;&gt;&gt; -----------
&gt;&gt;&gt;&gt;&gt; the last one is line 404
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt; Regards/MfG,
&gt;&gt;&gt;&gt;&gt; Christian Weiske
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060224174623</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-24 17:46:23-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Some help needed</subject><body>

Thanks for the update. I guess I won't implement set_visible_func()  
yet then..

-Andrei


On Feb 24, 2006, at 4:51 AM, Christian Weiske wrote:

&gt; Andrei,
&gt;
&gt;&gt; The question is: why doesn't gtk_tree_model_filter_finalize() invoke
&gt;&gt; the filter-&gt;priv-&gt;visible_destroy in order to clean up the user data?
&gt;&gt; How is the user data supposed to be cleaned up at all?
&gt; I sent the question twice, but nobody has answered yet.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060228032959</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-28 03:29:59-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] UTF-8 - how does the conversion work?</subject><body>

PHP-GTK will automatically convert strings to UTF-8 when you pass  
data to it and from UTF-8 when you receive data. The character  
encoding it uses for conversion is specified as an INI entry php- 
gtk.codepage. It does not do any detection, it trusts you to set that  
INI entry properly.

If you have values in the database in iso-8859-14, but code is in  
utf-8 then you have two options.

1) Do conversion manually. Use iconv() or mbstring_convert_encoding()  
to convert the database data to UTF-8 encoding and pass the data to  
PHP-GTK.
2) Set php-gtk.codepage to iso-8859-14 before calling PHP-GTK  
functions with the database data and reset it back to UTF-8 after  
you're done. You have to make sure that all the data you pass to PHP- 
GTK is in the same iso-8859-14 encoding though, so if you mix string  
literals and database data you may have issues.

-Andrei


On Feb 27, 2006, at 8:20 AM, Christian Weiske wrote:

&gt; Hello readers, especiall Andrei,
&gt;
&gt;
&gt; How does the utf8 conversion work? All I know is that it should be  
&gt; done
&gt; automatically. How does php-gtk detect which charset the data are?
&gt; Does it try the php code file encoding?
&gt;
&gt; What if I have values from database in iso-8859-14, but my code is  
&gt; utf-8?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske


-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060228033201</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-28 03:32:01-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] utf8 conversion on gtkliststore?</subject><body>

Hmm, it should. Can you send me a short example, making sure to  
maintain the encoding properly?

-Andrei


On Feb 27, 2006, at 3:22 PM, Christian Weiske wrote:

&gt; Hello all and Andrei,
&gt;
&gt;
&gt; I need to display some rows from the database, the text fields are in
&gt; spanish. I fetch them from mysql via pear db and display them in two
&gt; ways: entry field and tree view.
&gt; When displaying them in the entry, all accented spanish characters are
&gt; shown fine. When the data gets displayed in the store, they are cut of
&gt; at that place where the accented characters appear.
&gt; I use the set() method to put the data from my variables into the list
&gt; store.
&gt; Could it be that the set() method doesn't do utf8 conversion?
&gt;
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060228140121</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-02-28 14:01:21-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkGC constructor</subject><body>

Andrei Zmievski wrote:
&gt; Choice1
&gt; 
&gt;   $gc = new GdkGC($window);
&gt;   $gc-&gt;set_foreground(...);
&gt;   $gc-&gt;set_background(...);
&gt;   $gc-&gt;set_line_attributes(...);

I vote for 1A. It makes for cleaner code than the others. Plus it will 
make the docs for GdkGC easier to understand (and to write).

-- 
Scott Mattocks
http://www.crisscott.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060228200821</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-28 20:08:21-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] PHP-GTK 2 Unit Testing</subject><body>


Scott,

&gt; Honestly, I don't know if they would ever get done or if most of the
&gt; methods can even be tested (how do you test that something shows up in
I think writing tests for methods that have been created by the
generator don't need to be tested. Methods written by hand, ok.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060228204558</emailId><senderName>Adam Lebsack</senderName><senderEmail>adam@ruffdogs.com</senderEmail><timestampReceived>2006-02-28 20:45:58-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkTreeView get_cursor patch</subject><body>

Andrei,

Upon further inspection, it looks like it may be partially the fault  
of my PHP code, I just want to check.

Basically, between get_cursor calls, I'm calling $treeview-&gt;set_model 
(&amp;new GtkListStore(Gtk::TYPE_STRING));

Looks like that clears out any cursor selection on the treeview, and  
get_cursor returns a NULL path.  Next time it's called like that, it  
segfaults, so it seems the set_model doesn't set any keyboard focus  
information on the treeview.

Adam

On Feb 27, 2006, at 8:24 PM, Andrei Zmievski wrote:

&gt; Can you please provide a small script reproducing the problem? I  
&gt; tried calling the function several times and it works.
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Feb 27, 2006, at 8:13 AM, Adam Lebsack wrote:
&gt;
&gt;&gt; Andrei,
&gt;&gt;
&gt;&gt; That function is casing a segfault now....  After calling it a  
&gt;&gt; couple times, it just crashes the program.  My version didn't do  
&gt;&gt; this, and I struggled to figure out why, but couldn't.  That's  
&gt;&gt; probably why my code was a bit ugly.  :)
&gt;&gt;
&gt;&gt; Got any ideas?
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Adam
&gt;&gt;
&gt;&gt; On Feb 23, 2006, at 10:00 PM, Andrei Zmievski wrote:
&gt;&gt;
&gt;&gt;&gt; Applied, with some modifications.
&gt;&gt;&gt;
&gt;&gt;&gt; -Andrei
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Feb 14, 2006, at 8:57 AM, Adam Lebsack wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Hey guys,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; 've been doing some development with php-gtk2 and I needed a  
&gt;&gt;&gt;&gt; function implemented, so I uhhh...  implemented it.  It's  
&gt;&gt;&gt;&gt; GtkTreeView::get_cursor.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I've included the patch.  Could we get this override into the  
&gt;&gt;&gt;&gt; CVS tree?  Thanks!
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Adam Lebsack
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; --- php-gtk/ext/gtk+/gtktreeview.overrides	2006-02-13  
&gt;&gt;&gt;&gt; 20:09:54.000000000 -0700
&gt;&gt;&gt;&gt; +++ php-gtk.patched/ext/gtk+/gtktreeview.overrides	2006-02-10  
&gt;&gt;&gt;&gt; 16:39:30.000000000 -0700
&gt;&gt;&gt;&gt; @@ -1020,6 +1020,32 @@
&gt;&gt;&gt;&gt; }
&gt;&gt;&gt;&gt; %%
&gt;&gt;&gt;&gt; +override gtk_tree_view_get_cursor
&gt;&gt;&gt;&gt; +PHP_METHOD
&gt;&gt;&gt;&gt; +{
&gt;&gt;&gt;&gt; +        GtkTreePath *path = NULL;
&gt;&gt;&gt;&gt; +        GtkTreeViewColumn *column = NULL;
&gt;&gt;&gt;&gt; +        zval *php_path = NULL, *php_column = NULL;
&gt;&gt;&gt;&gt; +
&gt;&gt;&gt;&gt; +        NOT_STATIC_METHOD();
&gt;&gt;&gt;&gt; +        gtk_tree_view_get_cursor(GTK_TREE_VIEW(PHPG_GOBJECT 
&gt;&gt;&gt;&gt; (this_ptr)), &amp;path, &amp;column);
&gt;&gt;&gt;&gt; +
&gt;&gt;&gt;&gt; +        array_init(return_value);
&gt;&gt;&gt;&gt; +        if (path) {
&gt;&gt;&gt;&gt; +                phpg_tree_path_to_zval(path, &amp;php_path TSRMLS_CC);
&gt;&gt;&gt;&gt; +                phpg_gobject_new(&amp;php_column, (GObject*)column  
&gt;&gt;&gt;&gt; TSRMLS_CC);
&gt;&gt;&gt;&gt; +
&gt;&gt;&gt;&gt; +                array_init(return_value);
&gt;&gt;&gt;&gt; +                add_next_index_zval(return_value, php_path);
&gt;&gt;&gt;&gt; +                add_next_index_zval(return_value, php_column);
&gt;&gt;&gt;&gt; +        } else {
&gt;&gt;&gt;&gt; +                RETURN_FALSE;
&gt;&gt;&gt;&gt; +                //MAKE_STD_ZVAL(php_path);
&gt;&gt;&gt;&gt; +                //MAKE_STD_ZVAL(php_column);
&gt;&gt;&gt;&gt; +        }
&gt;&gt;&gt;&gt; +}
&gt;&gt;&gt;&gt; +
&gt;&gt;&gt;&gt; +%%
&gt;&gt;&gt;&gt; add-arginfo GtkTreeView get_path_at_pos
&gt;&gt;&gt;&gt; static
&gt;&gt;&gt;&gt; ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; -- 
&gt;&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060228234744</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-02-28 23:47:44-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GTK2 and ffi module</subject><body>


Pedro,

&gt; I'm still using the win32 version located at (
&gt; http://ftp.emini.dk/pub/php/win32/gtk2/ ). I haven't downloaded GNOPE.
&gt; 
&gt; I never tried to load the gtk-2 module onto the PHP5' version to be
&gt; downloaded on the PHP's website, so maybe I should.
&gt; Yes the problem is a message wich does not allow me to continue running
&gt; the software wich has follow:
&gt; 
&gt;&gt; PHP Warning:  PHP Startup: : Unable to initialize module
&gt;&gt; Module compiled with module API=20041030, debug=0, thread-safety=1
&gt;&gt; PHP    compiled with module API=20050922, debug=0, thread-safety=1
&gt;&gt; These options need to match
&gt;&gt;  in Unknown on line 0

Which module is causing this message? Try to load the modules alone and
see which module causes the message.


-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060113090837</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-13 09:08:37-0400</timestampReceived><subject>[PHP-GTK-DEV] Feature request: GtkEntry constructor allows text to be set</subject><body>


Hello readers,


Could we have the constructor of GtkEntry extended to accept a text
value? So that $entry = new GtkEntry('hello'); would automatically set
the text of the widget?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060114122830</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-14 12:28:30-0400</timestampReceived><subject>[PHP-GTK-DEV] GdkFont::string_extends vs. text_extends</subject><body>


Hello all,


If you look at the gdk docs you'll note that gdk_string_extends and
gdk_text_extends are the same methods, just with the difference of
nul-terminated string vs. string length.

That doesn't matter for php; so there are two possibilities:
- ignore string_extends, so that one can use text_extends only
- make string_extends a alias for text_extends.

Opinions?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060113123239</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-13 12:32:39-0400</timestampReceived><subject>[PHP-GTK-DEV] spinning boxes</subject><body>


Hello,


While trying to implement gtk_tree_view_column_cell_get_size, I'm stuck
because I just can't program C.

I did the following:
-------
%% {{{ GtkTreeViewColumn

%%
override gtk_tree_view_column_cell_get_size
PHP_METHOD
{
    gint x_offset, y_offset, width, height;
    GdkRectangle cell_area;
    zval *cell_area2;

    NOT_STATIC_METHOD();

    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "")) {
        return;
    }


gtk_tree_view_column_cell_get_size(GTK_TREE_VIEW_COLUMN(PHPG_GOBJECT(this_ptr)),
&amp;cell_area, &amp;x_offset, &amp;y_offset, &amp;width, &amp;height);
    phpg_gboxed_new(&amp;cell_area2, GDK_TYPE_RECTANGLE, &amp;cell_area, TRUE,
TRUE TSRMLS_CC);

    php_gtk_build_value(&amp;return_value, "(Viiii)", cell_area2, x_offset,
y_offset, width, height);
}

%% }}}
-------

but that doesn't work (segfaults). If you remove the phpg_gboxed_new and
return cell_area instead of cell_area, the method works but the first
array key is something like
&gt;   [0]=&gt;
&gt;   &amp;UNKNOWN:0
So I thought there has to be a call to phpg_gboxed_new, but I just don't
know how that works and what it does :/

Steph?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060113085301</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-13 08:53:01-0400</timestampReceived><subject>[PHP-GTK-DEV] bug?: connect and php functions</subject><body>


Hello all,


In my opinion, it should be able to do the following:
&gt; $btn2-&gt;connect_simple('clicked', 'print', $btn2-&gt;get_label());
which would cause the button's label to be printed out each time the
button is clicked. However, although (or "because"?) that function is
defined by php and accessible, I get:
&gt; PHP Warning:  Unable to invoke signal callback 'print' specified in
&gt; somefile.phpw on line 20 in
&gt; somefile.phpw on line 27

If I write my own "echoit" method
&gt; function echoit($value) { echo $value;}
and do a
&gt; $btn2-&gt;connect_simple('clicked', 'echoit', $btn2-&gt;get_label());
it works as expected.

So is there a restriction in not being allowed to use functions defined
by php and not the user? Bug?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060118215213</emailId><senderName>"joseph dot cohen at gmail dot com"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-01-18 21:52:13-0400</timestampReceived><subject>[PHP-GTK-DEV] #35966 [Opn]: missing GdkPixbuf::new_from_xpm_data</subject><body>

 ID:               35966
 User updated by:  joseph dot cohen at gmail dot com
 Reported By:      joseph dot cohen at gmail dot com
 Status:           Open
 Bug Type:         PHP-GTK related
 Operating System: Gentoo Linux 2005.1-r1
 PHP Version:      2.0.0-beta
 New Comment:

Is anyone going to take care of this?


Previous Comments:
------------------------------------------------------------------------

[2006-01-11 03:06:52] joseph dot cohen at gmail dot com

Description:
------------
missing method to import xpm array string into a GdkPixbuf
(GdkPixbuf::new_from_xpm_data or something.) Should be easy to
implement but I don't know how to modify the php-gtk source since I
suck at C and don't understand the code. Can someone please implement
this asap. This function is Different from the "new_from_inline"
function which takes C source code.

Here is a ref:
http://gtk2-perl.sourceforge.net/doc/pod/Gtk2/Gdk/Pixbuf.html#pixbuf_Gtk2_Gdk_Pixb2



------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=35966&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060119095154</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-19 09:51:54-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkComboBox::new_with_model vs. GtkComboBox(optional $model)</subject><body>


Hello readers,

Currently PHP-Gtk2 implements the default constructors of GtkComboBox:
default without parameters, one new_text() which automatically creates a
text model and new_with_model which allows a model as parameter.

I would suggest dropping the latter and adding an optional parameter to
the default constructor. Anyone against this?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060119215853</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-19 21:58:53-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkCellLayout::set_cell_data_func</subject><body>

[Attachment #2 (multipart/mixed)]


Hi

One more function, copied from the GtkTreeViewColumn implementation.

Demo script:
$entry = new GtkEntry();
$compl = new GtkEntryCompletion();
$entry-&gt;set_completion($compl);

$store = new GtkListStore(Gtk::TYPE_STRING);
$compl-&gt;set_model($store);
$compl-&gt;set_text_column(0);

$store-&gt;append(array('small'));
$store-&gt;append(array('little'));
$store-&gt;append(array('lowercase'));

$renderer = new GtkCellRendererText();
$compl-&gt;clear();
$compl-&gt;pack_start($renderer, true);
$compl-&gt;set_cell_data_func($renderer, 'makeUpper');

function makeUpper($column, $cell, $model, $iter) {
    $info = $model-&gt;get_value($iter, 0);
    $cell-&gt;set_property('text', strtoupper($info));
}

$wnd = new GtkWindow();
$wnd-&gt;add($entry);
$wnd-&gt;connect_simple('destroy', array('gtk', 'main_quit'));
$wnd-&gt;show_all();
Gtk::main();

-- 
Regards/MfG,
Christian Weiske

["gtk.overrides.diff" (text/plain)]

--- orig/gtk.overrides	2006-01-19 22:34:38.000000000 +0100
+++ php-gtk/ext/gtk+/gtk.overrides	2006-01-19 22:34:14.000000000 +0100
@@ -37,6 +37,7 @@
     gtk_button_new_with_label
     gtk_button_new_with_mnemonic
     gtk_color_button_new
+    gtk_combo_box_new_with_model
     gtk_dialog_new
     gtk_exit
     gtk_entry_new_with_max_length
@@ -846,6 +847,45 @@
 
 %% }}}
 
+
+%% {{{ GtkCellLayout
+
+%%
+add-arginfo GtkCellLayout set_cell_data_func
+static
+ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
+    ZEND_ARG_OBJ_INFO(0, cellrenderer, GtkCellRenderer, 1)
+    ZEND_ARG_INFO(0, callback)
+ZEND_END_ARG_INFO();
+
+%%
+override gtk_cell_layout_set_cell_data_func
+PHP_METHOD
+{
+    zval *php_cell;
+    GtkCellRenderer *cell;
+    zval *callback, *extra;
+    phpg_cb_data_t *cb_data;
+
+    NOT_STATIC_METHOD();
+
+    if (!php_gtk_parse_varargs(ZEND_NUM_ARGS(), 2, &amp;extra, "OV", &amp;php_cell, \
gtkcellrenderer_ce, &amp;callback)) +        return;
+
+    cell = GTK_CELL_RENDERER(PHPG_GOBJECT(php_cell));
+
+    zval_add_ref(&amp;callback);
+    cb_data = phpg_cb_data_new(callback, extra TSRMLS_CC);
+
+    gtk_cell_layout_set_cell_data_func(GTK_CELL_LAYOUT(PHPG_GOBJECT(this_ptr)), \
cell, +                                            \
(GtkCellLayoutDataFunc)phpg_cell_data_func_marshal, +                                 \
cb_data, phpg_cb_data_destroy); +}
+%% }}}
+
+
+%% }}
+
 %% {{{ GtkCheckButton
 %%
 add-arginfo GtkCheckButton __construct
@@ -1057,6 +1097,7 @@
 }
 %% }}}
 
+
 %% include gtkcontainer.overrides
 
 %% {{{ GtkDialog
@@ -2432,6 +2473,7 @@
 
 
 %% {{{ GtkWindow
+
 %%
 override gtk_window_get_position
 PHP_METHOD


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060117220854</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-01-17 22:08:54-0400</timestampReceived><subject>[PHP-GTK-DEV] Gtk+-2.8 features</subject><body>

Hello,

I up'ed my Gtk+-2.0 to version 2.8.8 and recompiled PHP-GTK 2. I 
expected features that were added in 2.8 to automatically be added to my 
PHP-GTK 2. Is that understanding wrong? I know it is possible that the 
methods in question (gtk_menu_bar_set_pack_direction [1]) need some sort 
of override, but I just wanted to see if what I expected to happen was 
wrong.

[1] 
http://developer.gnome.org/doc/API/2.0/gtk/GtkMenuBar.html#gtk-menu-bar-set-pack-direction

Thanks,
Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060120125055</emailId><senderName>Jakub Moc</senderName><senderEmail>jakub@gentoo.org</senderEmail><timestampReceived>2006-01-20 12:50:55-0400</timestampReceived><subject>Re[2]: Fw: [PHP-GTK-DEV] #36100 [NEW]: php-gtk-1.0.2 load error: "undefined symbol: gtk_shpaned_new"</subject><body>



20.1.2006, 13:15:14, Anant Narayanan wrote:

&gt; Steph,

&gt;&gt; Hmm, since this is a generated file under the *nix build system it _sounds_
&gt;&gt; like a problem in the distro rather than in our source - anyone want to/able
&gt;&gt; to check this out?

&gt; I run on Gentoo, and I don't face any trouble with PHP-Gtk1.0.2.
&gt; Probably because my PHP version is 5.1.2? I'll try and revert back to
&gt; 4.4 and give it a shot.

&gt; Jakub, if you emerged PHP-Gtk from portage, you can try building it
&gt; from source. Or vice-versa. As far as I know, the ebuild for PHP-Gtk
&gt; on the portage tree is pretty solid.


Thanks for reply, Anant. We don't provide gtk-php ebuilds for php-5.1*, so
php 5.1 snapshots are irrelevant for us. I've reproduced the problem using
latest php-4.4 CVS snapshot. I also tend to agree with Steph that PHP
version is irrelevant here.


-- 
Best regards,

 Jakub Moc
 mailto:jakub@gentoo.org
 GPG signature: http://subkeys.pgp.net:11371/pks/lookup?op=get&amp;search=0xCEBA3D9E
 Primary key fingerprint: D2D7 933C 9BA1 C95B 2C95  B30F 8717 D5FD CEBA 3D9E

 ... still no signature ;)
[Attachment #3 (application/pgp-signature)]

</body></email><email><emailId>20060118043603</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-18 04:36:03-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Gtk+-2.8 features</subject><body>

Heck, at least it compiled :)

You may have some methods the rest of us aren't privy to, is all.

- Steph

----- Original Message ----- 
From: "Scott Mattocks" &lt;scott@crisscott.com&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Wednesday, January 18, 2006 12:08 AM
Subject: [PHP-GTK-DEV] Gtk+-2.8 features


&gt; Hello,
&gt;
&gt; I up'ed my Gtk+-2.0 to version 2.8.8 and recompiled PHP-GTK 2. I expected 
&gt; features that were added in 2.8 to automatically be added to my PHP-GTK 2. 
&gt; Is that understanding wrong? I know it is possible that the methods in 
&gt; question (gtk_menu_bar_set_pack_direction [1]) need some sort of override, 
&gt; but I just wanted to see if what I expected to happen was wrong.
&gt;
&gt; [1] 
&gt; http://developer.gnome.org/doc/API/2.0/gtk/GtkMenuBar.html#gtk-menu-bar-set-pack-direction
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1369 (20060117) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060120115637</emailId><senderName>"jakub at gentoo dot org"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-01-20 11:56:37-0400</timestampReceived><subject>[PHP-GTK-DEV] #36100 [NEW]: php-gtk-1.0.2 load error: "undefined symbol: gtk_shpaned_new"</subject><body>

From:             jakub at gentoo dot org
Operating system: Gentoo Linux
PHP version:      4.4.2
PHP Bug Type:     PHP-GTK related
Bug description:  php-gtk-1.0.2 load error: "undefined symbol: gtk_shpaned_new"

Description:
------------
Trying to load php-gtk extension produces fatal error.


Reproduce code:
---------------
See http://bugs.gentoo.org/show_bug.cgi?id=90570 for the original bug
report, also the issue and fix is noted by a user in
http://gtk.php.net/manual/en/

The respective code hasn't been updated for a couple of years
(http://cvs.php.net/viewcvs.cgi/php-gtk/main/php_gtk_ext.c.in?view=log)


Expected result:
----------------
Uhm, just work? ;)

Actual result:
--------------
"Warning: dl(): Unable to load dynamic library
'/usr/lib/php/extensions/no-debug-non-zts-20020429/php_gtk.so' -
/usr/lib/php/extensions/no-debug-non-zts-20020429/php_gtk.so: undefined
symbol:
gtk_shpaned_new in..."


-- 
Edit bug report at http://bugs.php.net/?id=36100&amp;edit=1
-- 
Try a CVS snapshot (PHP 4.4): http://bugs.php.net/fix.php?id=36100&amp;r=trysnapshot44
Try a CVS snapshot (PHP 5.1): http://bugs.php.net/fix.php?id=36100&amp;r=trysnapshot51
Try a CVS snapshot (PHP 6.0): http://bugs.php.net/fix.php?id=36100&amp;r=trysnapshot60
Fixed in CVS:                 http://bugs.php.net/fix.php?id=36100&amp;r=fixedcvs
Fixed in release:             http://bugs.php.net/fix.php?id=36100&amp;r=alreadyfixed
Need backtrace:               http://bugs.php.net/fix.php?id=36100&amp;r=needtrace
Need Reproduce Script:        http://bugs.php.net/fix.php?id=36100&amp;r=needscript
Try newer version:            http://bugs.php.net/fix.php?id=36100&amp;r=oldversion
Not developer issue:          http://bugs.php.net/fix.php?id=36100&amp;r=support
Expected behavior:            http://bugs.php.net/fix.php?id=36100&amp;r=notwrong
Not enough info:              http://bugs.php.net/fix.php?id=36100&amp;r=notenoughinfo
Submitted twice:              http://bugs.php.net/fix.php?id=36100&amp;r=submittedtwice
register_globals:             http://bugs.php.net/fix.php?id=36100&amp;r=globals
PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=36100&amp;r=php3
Daylight Savings:             http://bugs.php.net/fix.php?id=36100&amp;r=dst
IIS Stability:                http://bugs.php.net/fix.php?id=36100&amp;r=isapi
Install GNU Sed:              http://bugs.php.net/fix.php?id=36100&amp;r=gnused
Floating point limitations:   http://bugs.php.net/fix.php?id=36100&amp;r=float
No Zend Extensions:           http://bugs.php.net/fix.php?id=36100&amp;r=nozend
MySQL Configuration Error:    http://bugs.php.net/fix.php?id=36100&amp;r=mysqlcfg

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060114141344</emailId><senderName>Christopher Logan</senderName><senderEmail>chris@b40d.com</senderEmail><timestampReceived>2006-01-14 14:13:44-0400</timestampReceived><subject>[PHP-GTK-DEV] Installing PHP-GTK on OS X</subject><body>

Well I got PHP-GTK 2 on Fedora Core 4 working, I have it on Windows with 
Gnope, now I am trying to get it on OS X on my Mac Mini. Although there 
seems to be a problem I got the latest cvs as of today.

My Specs
OS X 10.4.4
Xcode Tools 2.0
DarwinPorts: port install gtk
PHP 5.1.1: /usr/local/bin/php

While trying to use ./buildconf I get the following error:

./buildconf
Configuring for:
PHP Api Version:         20020918
Zend Module Api No:      20020429
Zend Extension Api No:   20021010
configure.in:22: error: possibly undefined macro: AC_MSG_ERROR
      If this token and others are legitimate, please use m4_pattern_allow.
      See the Autoconf documentation.
configure:3092: error: possibly undefined macro: AM_PATH_GLIB_2_0
configure:3206: error: possibly undefined macro: AM_PATH_GTK_2_0
make: *** [buildmk.stamp] Error 1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060114143552</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-14 14:35:52-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Installing PHP-GTK on OS X</subject><body>

Check which php you're actually using there.. Those API numbers look very 
wrong - even if you were using 5.1.1 (NB you should be building against 
5.1.2 now anyway), you'd expect to see dates this side of 2002.

----- Original Message ----- 
From: "Christopher Logan" &lt;chris@b40d.com&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Saturday, January 14, 2006 4:13 PM
Subject: [PHP-GTK-DEV] Installing PHP-GTK on OS X


&gt; Well I got PHP-GTK 2 on Fedora Core 4 working, I have it on Windows with 
&gt; Gnope, now I am trying to get it on OS X on my Mac Mini. Although there 
&gt; seems to be a problem I got the latest cvs as of today.
&gt;
&gt; My Specs
&gt; OS X 10.4.4
&gt; Xcode Tools 2.0
&gt; DarwinPorts: port install gtk
&gt; PHP 5.1.1: /usr/local/bin/php
&gt;
&gt; While trying to use ./buildconf I get the following error:
&gt;
&gt; ./buildconf
&gt; Configuring for:
&gt; PHP Api Version:         20020918
&gt; Zend Module Api No:      20020429
&gt; Zend Extension Api No:   20021010
&gt; configure.in:22: error: possibly undefined macro: AC_MSG_ERROR
&gt;      If this token and others are legitimate, please use m4_pattern_allow.
&gt;      See the Autoconf documentation.
&gt; configure:3092: error: possibly undefined macro: AM_PATH_GLIB_2_0
&gt; configure:3206: error: possibly undefined macro: AM_PATH_GTK_2_0
&gt; make: *** [buildmk.stamp] Error 1
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1364 (20060113) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060121234731</emailId><senderName>Ivan Rodriguez</senderName><senderEmail>epplestun@gmail.com</senderEmail><timestampReceived>2006-01-21 23:47:31-0400</timestampReceived><subject>[PHP-GTK-DEV] Problems doing make with the CVS version of PHP-GTK2</subject><body>


Hi, I try to compile the last version of PHP-GTK2 fromde CVS and when I do
the make I get this error:

/include -I/usr/X11R6/include -I/usr/include/atk-1.0 -I/usr/include/pango-
1.0 -I/usr/include/freetype2
-I/usr/include/libglade-2.0-I/usr/include/libxml2 -DHAVE_CONFIG_H -g
-O2 -c
/home/epplestun/php-dev/php-gtk/main/phpg_support.c  -fPIC -DPIC -o
main/.libs/phpg_support.o
/home/epplestun/php-dev/php-gtk/main/phpg_support.c: In function
`phpg_init_object':
/home/epplestun/php-dev/php-gtk/main/phpg_support.c:246: error: structure
has no member named `guards'
make: *** [main/phpg_support.lo] Error 1

Any idea?

Regards


</body></email><email><emailId>20060114220849</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-14 22:08:49-0400</timestampReceived><subject>[PHP-GTK-DEV] Return value on half failure</subject><body>


Andrei (and others with a voice),


What return value should methods have that have a "half" failure, e.g.
gdk_event_get_coords? It returns true and fills two double variables in
case the event had some coords associated, and returns false if there
were no coords for the event.

PyGtk returns an empty array in the latter case, but it would be more
php-ish to return FALSE instead of an array. On the other side it's no
"real" error.

I still vote for returning false, but want to hear your opinion.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060122211848</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-22 21:18:48-0400</timestampReceived><subject>[PHP-GTK-DEV] Patches: GtkNotebook::query_tab_label_packing(), GtkBox::query_child_packing()</subject><body>

[Attachment #2 (multipart/mixed)]


Hello Andrei and all others,

two more patches:
GtkNotebook::query_tab_label_packing()
GtkBox::query_child_packing()
together with two other, yet unconfirmed ones.

Also attached the test script.

-- 
Regards/MfG,
Christian Weiske

["gtk.overrides.diff" (text/plain)]

--- orig/gtk.overrides	2006-01-22 22:16:42.000000000 +0100
+++ php-gtk/ext/gtk+/gtk.overrides	2006-01-22 22:14:29.000000000 +0100
@@ -37,6 +37,7 @@
     gtk_button_new_with_label
     gtk_button_new_with_mnemonic
     gtk_color_button_new
+    gtk_combo_box_new_with_model
     gtk_dialog_new
     gtk_exit
     gtk_entry_new_with_max_length
@@ -718,6 +719,36 @@
 %% }}}
 
 
+%% {{{ GtkBox
+
+%%
+add-arginfo GtkBox query_child_packing
+static
+ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
+    ZEND_ARG_OBJ_INFO(0, widget, GtkWidget, 0)
+ZEND_END_ARG_INFO();
+
+%%
+override gtk_box_query_child_packing
+PHP_METHOD
+{
+    gboolean expand, fill;
+    guint padding;
+    GtkPackType pack_type;
+    zval *php_widget;
+
+    NOT_STATIC_METHOD();
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "O", &amp;php_widget, gtkwidget_ce))
+        return;
+
+    gtk_box_query_child_packing(GTK_BOX(PHPG_GOBJECT(this_ptr)), \
GTK_WIDGET(PHPG_GOBJECT(php_widget)), &amp;expand, &amp;fill, &amp;padding, &amp;pack_type); +    \
php_gtk_build_value(&amp;return_value, "(bbii)", expand, fill, padding, (int)pack_type); \
+} +
+%% }}}
+
+
 %% {{{ GtkButton
 
 %%
@@ -846,6 +877,45 @@
 
 %% }}}
 
+
+%% {{{ GtkCellLayout
+
+%%
+add-arginfo GtkCellLayout set_cell_data_func
+static
+ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
+    ZEND_ARG_OBJ_INFO(0, cellrenderer, GtkCellRenderer, 1)
+    ZEND_ARG_INFO(0, callback)
+ZEND_END_ARG_INFO();
+
+%%
+override gtk_cell_layout_set_cell_data_func
+PHP_METHOD
+{
+    zval *php_cell;
+    GtkCellRenderer *cell;
+    zval *callback, *extra;
+    phpg_cb_data_t *cb_data;
+
+    NOT_STATIC_METHOD();
+
+    if (!php_gtk_parse_varargs(ZEND_NUM_ARGS(), 2, &amp;extra, "OV", &amp;php_cell, \
gtkcellrenderer_ce, &amp;callback)) +        return;
+
+    cell = GTK_CELL_RENDERER(PHPG_GOBJECT(php_cell));
+
+    zval_add_ref(&amp;callback);
+    cb_data = phpg_cb_data_new(callback, extra TSRMLS_CC);
+
+    gtk_cell_layout_set_cell_data_func(GTK_CELL_LAYOUT(PHPG_GOBJECT(this_ptr)), \
cell, +                                            \
(GtkCellLayoutDataFunc)phpg_cell_data_func_marshal, +                                 \
cb_data, phpg_cb_data_destroy); +}
+%% }}}
+
+
+%% }}
+
 %% {{{ GtkCheckButton
 %%
 add-arginfo GtkCheckButton __construct
@@ -1057,6 +1127,43 @@
 }
 %% }}}
 
+
+%% {{{ GtkComboBox
+
+%%
+add-arginfo GtkComboBox __construct
+static
+ZEND_BEGIN_ARG_INFO_EX(ARGINFO_NAME, 0, 0, 0)
+    ZEND_ARG_OBJ_INFO(0, model, GtkTreeModel, 1)
+ZEND_END_ARG_INFO();
+
+%%
+override gtk_combo_box_new
+PHP_METHOD
+{
+    zval *model = NULL;
+    GObject *wrapped_obj;
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|O", &amp;model, gtktreemodel_ce)) {
+        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkComboBox);
+    }
+
+    if (!model) {
+        wrapped_obj = (GObject *) g_object_newv(phpg_gtype_from_zval(this_ptr), 0, \
NULL); +    } else {
+        wrapped_obj = (GObject *) \
gtk_combo_box_new_with_model(GTK_TREE_MODEL(PHPG_GOBJECT(model))); +    }
+
+    if (!wrapped_obj) {
+        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkComboBox);
+    }
+
+    phpg_gobject_set_wrapper(this_ptr, wrapped_obj TSRMLS_CC);
+}
+
+%% }}}
+
+
 %% include gtkcontainer.overrides
 
 %% {{{ GtkDialog
@@ -1839,6 +1946,35 @@
 %% }}}
 
 
+%% {{{ GtkNotebook
+
+%%
+add-arginfo GtkNotebook query_tab_label_packing
+static
+ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
+    ZEND_ARG_OBJ_INFO(0, widget, GtkWidget, 0)
+ZEND_END_ARG_INFO();
+
+%%
+override gtk_notebook_query_tab_label_packing
+PHP_METHOD
+{
+    gboolean expand, fill;
+    GtkPackType pack_type;
+    zval *php_widget;
+
+    NOT_STATIC_METHOD();
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "O", &amp;php_widget, gtkwidget_ce))
+        return;
+
+    gtk_notebook_query_tab_label_packing(GTK_NOTEBOOK(PHPG_GOBJECT(this_ptr)), \
GTK_WIDGET(PHPG_GOBJECT(php_widget)), &amp;expand, &amp;fill, &amp;pack_type); +    \
php_gtk_build_value(&amp;return_value, "(bbi)", expand, fill, (int)pack_type); +}
+
+%% }}}
+
+
 %% {{{ GtkProgressBar
 
 %%
@@ -2432,6 +2568,7 @@
 
 
 %% {{{ GtkWindow
+
 %%
 override gtk_window_get_position
 PHP_METHOD


["window6.phpw" (text/html)]

&lt;?php
/*
Removed GtkComboBox::new_with_model()
Added GtkComboBox($model) parameter on constructor
GtkCellLayout::set_data_func()
GtkNotebook::query_tab_label_packing()
GtkBox::query_child_packing()
*/


/*
$box = new GtkVBox();
$entry = new GtkEntry();
$box-&gt;pack_end($entry);
var_dump($box-&gt;query_child_packing($entry));
/**/

/*
$ntbk = new GtkNotebook();
$entry = new GtkEntry();
$ntbk-&gt;add($entry);
var_dump($ntbk-&gt;query_tab_label_packing($entry));
/**/

/*
$entry = new GtkEntry();
$compl = new GtkEntryCompletion();
$entry-&gt;set_completion($compl);

$store = new GtkListStore(Gtk::TYPE_STRING);
$compl-&gt;set_model($store);
$compl-&gt;set_text_column(0);

$store-&gt;append(array('small'));
$store-&gt;append(array('little'));
$store-&gt;append(array('lowercase'));

$renderer = new GtkCellRendererText();
$compl-&gt;clear();
$compl-&gt;pack_start($renderer, true);
$compl-&gt;set_cell_data_func($renderer, 'makeUpper');

function makeUpper($column, $cell, $model, $iter) {
    $info = $model-&gt;get_value($iter, 0);
    $cell-&gt;set_property('text', strtoupper($info));
}

$wnd = new GtkWindow();
$wnd-&gt;add($entry);
$wnd-&gt;connect_simple('destroy', array('gtk', 'main_quit'));
$wnd-&gt;show_all();
Gtk::main();
/**/

/*
$cmb = new GtkComboBox();
var_dump($cmb);
$cmb = new GtkComboBox(new GtkListStore(Gtk::TYPE_STRING));
var_dump($cmb);
/**/
?&gt;
["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060121191139</emailId><senderName>Jeremy Johnstone</senderName><senderEmail>phpdev@gmail.com</senderEmail><timestampReceived>2006-01-21 19:11:39-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Return value on half failure</subject><body>

I vote for FALSE. If it returns TRUE when it can fill in the
variables, I think FALSE is more than appropriate when it can't /
doesn't fill them in.

-Jeremy

On 1/14/06, Christian Weiske &lt;cweiske@cweiske.de&gt; wrote:
&gt; Andrei (and others with a voice),
&gt;
&gt;
&gt; What return value should methods have that have a "half" failure, e.g.
&gt; gdk_event_get_coords? It returns true and fills two double variables in
&gt; case the event had some coords associated, and returns false if there
&gt; were no coords for the event.
&gt;
&gt; PyGtk returns an empty array in the latter case, but it would be more
&gt; php-ish to return FALSE instead of an array. On the other side it's no
&gt; "real" error.
&gt;
&gt; I still vote for returning false, but want to hear your opinion.
&gt;
&gt; --
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;
&gt;
&gt;


--
---------------------------
Jeremy Johnstone
http://www.jeremyjohnstone.com
jsjohnst@php.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060122114848</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-22 11:48:48-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Return value on half failure</subject><body>


&gt; I vote for FALSE. If it returns TRUE when it can fill in the
&gt; variables, I think FALSE is more than appropriate when it can't /
&gt; doesn't fill them in.
It returns an array with values if all is ok.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060122185440</emailId><senderName>Jeremy Johnstone</senderName><senderEmail>phpdev@gmail.com</senderEmail><timestampReceived>2006-01-22 18:54:40-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Return value on half failure</subject><body>


I still vote for returning FALSE because that is what the underlying library
does (unless it does differently than what you say). It's one less point of
confusion for someone already familiar with GTK (forget someone who is used
to PyGTK, they don't count in the instance =)).

-Jeremy

On 1/22/06, Christian Weiske &lt;cweiske@cweiske.de&gt; wrote:
&gt;
&gt; &gt; I vote for FALSE. If it returns TRUE when it can fill in the
&gt; &gt; variables, I think FALSE is more than appropriate when it can't /
&gt; &gt; doesn't fill them in.
&gt; It returns an array with values if all is ok.
&gt;
&gt; --
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;
&gt;
&gt;


--
---------------------------
Jeremy Johnstone
http://www.jeremyjohnstone.com
jsjohnst@php.net


</body></email><email><emailId>20060122190622</emailId><senderName>Jeremy Johnstone</senderName><senderEmail>phpdev@gmail.com</senderEmail><timestampReceived>2006-01-22 19:06:22-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Return value on half failure</subject><body>


Returning FALSE on failure is a PHPish style thing to do. Returning an empt=
y
array is far less common.

-Jeremy

On 1/22/06, Anant Narayanan &lt;anant@kix.in&gt; wrote:
&gt;
&gt; Jeremy,
&gt;
&gt; &gt; does (unless it does differently than what you say). It's one less poin=
t
&gt; of
&gt; &gt; confusion for someone already familiar with GTK (forget someone who is
&gt; used
&gt;
&gt; Like Steph already pointed out previously in the list, people who are
&gt; familiar with Gtk will rarely find any reason to use PHP-Gtk2 instead.
&gt; I support that point, and majority of the users are expected to be
&gt; familiar in PHP, not Gtk.
&gt;
&gt; IMO, we must implement all methods etc. in a PHPish style as far as
&gt; possible, not try and imitate the native C api of Gtk.
&gt;
&gt; Regards,
&gt; --
&gt; Anant Narayanan
&gt; -------------------------
&gt; Find Freedom!
&gt; http://www.kix.in/
&gt;



--
---------------------------
Jeremy Johnstone
http://www.jeremyjohnstone.com
jsjohnst@php.net


</body></email><email><emailId>20060122190703</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-22 19:07:03-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Return value on half failure</subject><body>


Jeremy,

&gt; does (unless it does differently than what you say). It's one less point of
Sorry for the confusion - I meant the php-gtk method returns an array.
And I agree with you that it should return false on error.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060122190941</emailId><senderName>Jeremy Johnstone</senderName><senderEmail>phpdev@gmail.com</senderEmail><timestampReceived>2006-01-22 19:09:41-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Return value on half failure</subject><body>


Ideally it should throw an exception on error which could be caught and the=
n
ignored if you felt that was appropriate, but that is an arguement I will
leave alone... ;-)

-Jeremy

On 1/22/06, Christian Weiske &lt;cweiske@cweiske.de&gt; wrote:
&gt;
&gt; Jeremy,
&gt;
&gt; &gt; does (unless it does differently than what you say). It's one less poin=
t
&gt; of
&gt; Sorry for the confusion - I meant the php-gtk method returns an array.
&gt; And I agree with you that it should return false on error.
&gt;
&gt; --
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;
&gt;
&gt;


--
---------------------------
Jeremy Johnstone
http://www.jeremyjohnstone.com
jsjohnst@php.net


</body></email><email><emailId>20060122191334</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-01-22 19:13:34-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Return value on half failure</subject><body>

Jeremy,

&gt; does (unless it does differently than what you say). It's one less point of
&gt; confusion for someone already familiar with GTK (forget someone who is used

Like Steph already pointed out previously in the list, people who are
familiar with Gtk will rarely find any reason to use PHP-Gtk2 instead.
I support that point, and majority of the users are expected to be
familiar in PHP, not Gtk.

IMO, we must implement all methods etc. in a PHPish style as far as
possible, not try and imitate the native C api of Gtk.

Regards,
--
Anant Narayanan
-------------------------
Find Freedom!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060122000217</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-22 00:02:17-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Problems doing make with the CVS version of PHP-GTK2</subject><body>

Upgrade PHP.  That message is due to a Zend Engine change in the 5_1 branch.

----- Original Message ----- 
From: "Ivan Rodriguez" &lt;epplestun@gmail.com&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Sunday, January 22, 2006 1:47 AM
Subject: [PHP-GTK-DEV] Problems doing make with the CVS version of PHP-GTK2


Hi, I try to compile the last version of PHP-GTK2 fromde CVS and when I do
the make I get this error:

/include -I/usr/X11R6/include -I/usr/include/atk-1.0 -I/usr/include/pango-
1.0 -I/usr/include/freetype2
-I/usr/include/libglade-2.0-I/usr/include/libxml2 -DHAVE_CONFIG_H -g
-O2 -c
/home/epplestun/php-dev/php-gtk/main/phpg_support.c  -fPIC -DPIC -o
main/.libs/phpg_support.o
/home/epplestun/php-dev/php-gtk/main/phpg_support.c: In function
`phpg_init_object':
/home/epplestun/php-dev/php-gtk/main/phpg_support.c:246: error: structure
has no member named `guards'
make: *** [main/phpg_support.lo] Error 1

Any idea?

Regards


__________ NOD32 1.1373 (20060120) Information __________

This message was checked by NOD32 antivirus system.
http://www.eset.com

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060114145955</emailId><senderName>Christopher Logan</senderName><senderEmail>chris@b40d.com</senderEmail><timestampReceived>2006-01-14 14:59:55-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Installing PHP-GTK on OS X</subject><body>

Well there is a problem with that when I installed php it installed it
in /usr/local/bin/ but the php that came with OS X is in /usr/bin/ and I
couldn't figure out how to get it to put it in /usr/bin/.

As for the dates I'm not sure I used the same cvs command I used to get
it on Fedora:
cvs -d :pserver:cvsread@cvs.php.net:/repository co php-gtk

As for the php version I'll get a update but was just using what I had
already.

Steph Fox wrote:
&gt; Check which php you're actually using there.. Those API numbers look 
&gt; very wrong - even if you were using 5.1.1 (NB you should be building 
&gt; against 5.1.2 now anyway), you'd expect to see dates this side of 2002.
&gt;
&gt; ----- Original Message ----- From: "Christopher Logan" &lt;chris@b40d.com&gt;
&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Saturday, January 14, 2006 4:13 PM
&gt; Subject: [PHP-GTK-DEV] Installing PHP-GTK on OS X
&gt;
&gt;
&gt;&gt; Well I got PHP-GTK 2 on Fedora Core 4 working, I have it on Windows 
&gt;&gt; with Gnope, now I am trying to get it on OS X on my Mac Mini. 
&gt;&gt; Although there seems to be a problem I got the latest cvs as of today.
&gt;&gt;
&gt;&gt; My Specs
&gt;&gt; OS X 10.4.4
&gt;&gt; Xcode Tools 2.0
&gt;&gt; DarwinPorts: port install gtk
&gt;&gt; PHP 5.1.1: /usr/local/bin/php
&gt;&gt;
&gt;&gt; While trying to use ./buildconf I get the following error:
&gt;&gt;
&gt;&gt; ./buildconf
&gt;&gt; Configuring for:
&gt;&gt; PHP Api Version:         20020918
&gt;&gt; Zend Module Api No:      20020429
&gt;&gt; Zend Extension Api No:   20021010
&gt;&gt; configure.in:22: error: possibly undefined macro: AC_MSG_ERROR
&gt;&gt;      If this token and others are legitimate, please use 
&gt;&gt; m4_pattern_allow.
&gt;&gt;      See the Autoconf documentation.
&gt;&gt; configure:3092: error: possibly undefined macro: AM_PATH_GLIB_2_0
&gt;&gt; configure:3206: error: possibly undefined macro: AM_PATH_GTK_2_0
&gt;&gt; make: *** [buildmk.stamp] Error 1
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;
&gt;&gt;
&gt;&gt; __________ NOD32 1.1364 (20060113) Information __________
&gt;&gt;
&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt; http://www.eset.com
&gt;&gt;
&gt;&gt;
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060114172442</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-01-14 17:24:42-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Installing PHP-GTK on OS X</subject><body>

Do this:

buildconf --with-phpize=/usr/local/bin/phpize (or wherever your PHP  
5.1 phpize script is)
configure --with-php-config=/usr/local/bin/php-config (same thing)

-Andrei


On Jan 14, 2006, at 6:59 AM, Christopher Logan wrote:

&gt; Well there is a problem with that when I installed php it installed it
&gt; in /usr/local/bin/ but the php that came with OS X is in /usr/bin/  
&gt; and I
&gt; couldn't figure out how to get it to put it in /usr/bin/.
&gt;
&gt; As for the dates I'm not sure I used the same cvs command I used to  
&gt; get
&gt; it on Fedora:
&gt; cvs -d :pserver:cvsread@cvs.php.net:/repository co php-gtk
&gt;
&gt; As for the php version I'll get a update but was just using what I had
&gt; already.
&gt;
&gt; Steph Fox wrote:
&gt;&gt; Check which php you're actually using there.. Those API numbers  
&gt;&gt; look very wrong - even if you were using 5.1.1 (NB you should be  
&gt;&gt; building against 5.1.2 now anyway), you'd expect to see dates this  
&gt;&gt; side of 2002.
&gt;&gt;
&gt;&gt; ----- Original Message ----- From: "Christopher Logan"  
&gt;&gt; &lt;chris@b40d.com&gt;
&gt;&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt; Sent: Saturday, January 14, 2006 4:13 PM
&gt;&gt; Subject: [PHP-GTK-DEV] Installing PHP-GTK on OS X
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; Well I got PHP-GTK 2 on Fedora Core 4 working, I have it on  
&gt;&gt;&gt; Windows with Gnope, now I am trying to get it on OS X on my Mac  
&gt;&gt;&gt; Mini. Although there seems to be a problem I got the latest cvs  
&gt;&gt;&gt; as of today.
&gt;&gt;&gt;
&gt;&gt;&gt; My Specs
&gt;&gt;&gt; OS X 10.4.4
&gt;&gt;&gt; Xcode Tools 2.0
&gt;&gt;&gt; DarwinPorts: port install gtk
&gt;&gt;&gt; PHP 5.1.1: /usr/local/bin/php
&gt;&gt;&gt;
&gt;&gt;&gt; While trying to use ./buildconf I get the following error:
&gt;&gt;&gt;
&gt;&gt;&gt; ./buildconf
&gt;&gt;&gt; Configuring for:
&gt;&gt;&gt; PHP Api Version:         20020918
&gt;&gt;&gt; Zend Module Api No:      20020429
&gt;&gt;&gt; Zend Extension Api No:   20021010
&gt;&gt;&gt; configure.in:22: error: possibly undefined macro: AC_MSG_ERROR
&gt;&gt;&gt;      If this token and others are legitimate, please use  
&gt;&gt;&gt; m4_pattern_allow.
&gt;&gt;&gt;      See the Autoconf documentation.
&gt;&gt;&gt; configure:3092: error: possibly undefined macro: AM_PATH_GLIB_2_0
&gt;&gt;&gt; configure:3206: error: possibly undefined macro: AM_PATH_GTK_2_0
&gt;&gt;&gt; make: *** [buildmk.stamp] Error 1
&gt;&gt;&gt;
&gt;&gt;&gt; -- 
&gt;&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; __________ NOD32 1.1364 (20060113) Information __________
&gt;&gt;&gt;
&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060115032932</emailId><senderName>Christopher Logan</senderName><senderEmail>chris@b40d.com</senderEmail><timestampReceived>2006-01-15 03:29:32-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Installing PHP-GTK on OS X</subject><body>

Andrei your a genius after specifying the location everything started 
working I now have it compiled and working on Mac and Linux and using 
Gnope on Windows. Why does php compile in /usr/local/bin/ besides 
/usr/bin/ on OS X? I'm not a expert at compiling programs but do like a 
good trouble shooting challenge now and then.

Thanks,
Christopher Logan

Andrei Zmievski wrote:
&gt; Do this:
&gt;
&gt; buildconf --with-phpize=/usr/local/bin/phpize (or wherever your PHP 
&gt; 5.1 phpize script is)
&gt; configure --with-php-config=/usr/local/bin/php-config (same thing)
&gt;
&gt; -Andrei
&gt;
&gt;
&gt; On Jan 14, 2006, at 6:59 AM, Christopher Logan wrote:
&gt;
&gt;&gt; Well there is a problem with that when I installed php it installed it
&gt;&gt; in /usr/local/bin/ but the php that came with OS X is in /usr/bin/ and I
&gt;&gt; couldn't figure out how to get it to put it in /usr/bin/.
&gt;&gt;
&gt;&gt; As for the dates I'm not sure I used the same cvs command I used to get
&gt;&gt; it on Fedora:
&gt;&gt; cvs -d :pserver:cvsread@cvs.php.net:/repository co php-gtk
&gt;&gt;
&gt;&gt; As for the php version I'll get a update but was just using what I had
&gt;&gt; already.
&gt;&gt;
&gt;&gt; Steph Fox wrote:
&gt;&gt;&gt; Check which php you're actually using there.. Those API numbers look 
&gt;&gt;&gt; very wrong - even if you were using 5.1.1 (NB you should be building 
&gt;&gt;&gt; against 5.1.2 now anyway), you'd expect to see dates this side of 2002.
&gt;&gt;&gt;
&gt;&gt;&gt; ----- Original Message ----- From: "Christopher Logan" &lt;chris@b40d.com&gt;
&gt;&gt;&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt;&gt;&gt; Sent: Saturday, January 14, 2006 4:13 PM
&gt;&gt;&gt; Subject: [PHP-GTK-DEV] Installing PHP-GTK on OS X
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Well I got PHP-GTK 2 on Fedora Core 4 working, I have it on Windows 
&gt;&gt;&gt;&gt; with Gnope, now I am trying to get it on OS X on my Mac Mini. 
&gt;&gt;&gt;&gt; Although there seems to be a problem I got the latest cvs as of today.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; My Specs
&gt;&gt;&gt;&gt; OS X 10.4.4
&gt;&gt;&gt;&gt; Xcode Tools 2.0
&gt;&gt;&gt;&gt; DarwinPorts: port install gtk
&gt;&gt;&gt;&gt; PHP 5.1.1: /usr/local/bin/php
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; While trying to use ./buildconf I get the following error:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; ./buildconf
&gt;&gt;&gt;&gt; Configuring for:
&gt;&gt;&gt;&gt; PHP Api Version:         20020918
&gt;&gt;&gt;&gt; Zend Module Api No:      20020429
&gt;&gt;&gt;&gt; Zend Extension Api No:   20021010
&gt;&gt;&gt;&gt; configure.in:22: error: possibly undefined macro: AC_MSG_ERROR
&gt;&gt;&gt;&gt;      If this token and others are legitimate, please use 
&gt;&gt;&gt;&gt; m4_pattern_allow.
&gt;&gt;&gt;&gt;      See the Autoconf documentation.
&gt;&gt;&gt;&gt; configure:3092: error: possibly undefined macro: AM_PATH_GLIB_2_0
&gt;&gt;&gt;&gt; configure:3206: error: possibly undefined macro: AM_PATH_GTK_2_0
&gt;&gt;&gt;&gt; make: *** [buildmk.stamp] Error 1
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; --PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; __________ NOD32 1.1364 (20060113) Information __________
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt;&gt;&gt;&gt; http://www.eset.com
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; --PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; --PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060120120618</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-20 12:06:18-0400</timestampReceived><subject>Fw: [PHP-GTK-DEV] #36100 [NEW]: php-gtk-1.0.2 load error: "undefined symbol: gtk_shpaned_new"</subject><body>

Hmm, since this is a generated file under the *nix build system it _sounds_ 
like a problem in the distro rather than in our source - anyone want to/able 
to check this out?

- Steph

----- Original Message ----- 
From: "jakub at gentoo dot org" &lt;php-gtk-dev@lists.php.net&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Friday, January 20, 2006 1:56 PM
Subject: [PHP-GTK-DEV] #36100 [NEW]: php-gtk-1.0.2 load error: "undefined 
symbol: gtk_shpaned_new"


&gt; From:             jakub at gentoo dot org
&gt; Operating system: Gentoo Linux
&gt; PHP version:      4.4.2
&gt; PHP Bug Type:     PHP-GTK related
&gt; Bug description:  php-gtk-1.0.2 load error: "undefined symbol: 
&gt; gtk_shpaned_new"
&gt;
&gt; Description:
&gt; ------------
&gt; Trying to load php-gtk extension produces fatal error.
&gt;
&gt;
&gt; Reproduce code:
&gt; ---------------
&gt; See http://bugs.gentoo.org/show_bug.cgi?id=90570 for the original bug
&gt; report, also the issue and fix is noted by a user in
&gt; http://gtk.php.net/manual/en/
&gt;
&gt; The respective code hasn't been updated for a couple of years
&gt; (http://cvs.php.net/viewcvs.cgi/php-gtk/main/php_gtk_ext.c.in?view=log)
&gt;
&gt;
&gt; Expected result:
&gt; ----------------
&gt; Uhm, just work? ;)
&gt;
&gt; Actual result:
&gt; --------------
&gt; "Warning: dl(): Unable to load dynamic library
&gt; '/usr/lib/php/extensions/no-debug-non-zts-20020429/php_gtk.so' -
&gt; /usr/lib/php/extensions/no-debug-non-zts-20020429/php_gtk.so: undefined
&gt; symbol:
&gt; gtk_shpaned_new in..."
&gt;
&gt;
&gt; -- 
&gt; Edit bug report at http://bugs.php.net/?id=36100&amp;edit=1
&gt; -- 
&gt; Try a CVS snapshot (PHP 4.4): 
&gt; http://bugs.php.net/fix.php?id=36100&amp;r=trysnapshot44
&gt; Try a CVS snapshot (PHP 5.1): 
&gt; http://bugs.php.net/fix.php?id=36100&amp;r=trysnapshot51
&gt; Try a CVS snapshot (PHP 6.0): 
&gt; http://bugs.php.net/fix.php?id=36100&amp;r=trysnapshot60
&gt; Fixed in CVS: 
&gt; http://bugs.php.net/fix.php?id=36100&amp;r=fixedcvs
&gt; Fixed in release: 
&gt; http://bugs.php.net/fix.php?id=36100&amp;r=alreadyfixed
&gt; Need backtrace: 
&gt; http://bugs.php.net/fix.php?id=36100&amp;r=needtrace
&gt; Need Reproduce Script: 
&gt; http://bugs.php.net/fix.php?id=36100&amp;r=needscript
&gt; Try newer version: 
&gt; http://bugs.php.net/fix.php?id=36100&amp;r=oldversion
&gt; Not developer issue: 
&gt; http://bugs.php.net/fix.php?id=36100&amp;r=support
&gt; Expected behavior: 
&gt; http://bugs.php.net/fix.php?id=36100&amp;r=notwrong
&gt; Not enough info: 
&gt; http://bugs.php.net/fix.php?id=36100&amp;r=notenoughinfo
&gt; Submitted twice: 
&gt; http://bugs.php.net/fix.php?id=36100&amp;r=submittedtwice
&gt; register_globals: 
&gt; http://bugs.php.net/fix.php?id=36100&amp;r=globals
&gt; PHP 3 support discontinued:   http://bugs.php.net/fix.php?id=36100&amp;r=php3
&gt; Daylight Savings:             http://bugs.php.net/fix.php?id=36100&amp;r=dst
&gt; IIS Stability:                http://bugs.php.net/fix.php?id=36100&amp;r=isapi
&gt; Install GNU Sed: 
&gt; http://bugs.php.net/fix.php?id=36100&amp;r=gnused
&gt; Floating point limitations:   http://bugs.php.net/fix.php?id=36100&amp;r=float
&gt; No Zend Extensions: 
&gt; http://bugs.php.net/fix.php?id=36100&amp;r=nozend
&gt; MySQL Configuration Error: 
&gt; http://bugs.php.net/fix.php?id=36100&amp;r=mysqlcfg
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1372 (20060119) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060120122714</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-01-20 12:27:14-0400</timestampReceived><subject>Re: Fw: [PHP-GTK-DEV] #36100 [NEW]: php-gtk-1.0.2 load error: "undefined symbol: gtk_shpaned_new"</subject><body>

Steph,

&gt; Hmm, since this is a generated file under the *nix build system it _sounds_
&gt; like a problem in the distro rather than in our source - anyone want to/able
&gt; to check this out?

I run on Gentoo, and I don't face any trouble with PHP-Gtk1.0.2.
Probably because my PHP version is 5.1.2? I'll try and revert back to
4.4 and give it a shot.

Jakub, if you emerged PHP-Gtk from portage, you can try building it
from source. Or vice-versa. As far as I know, the ebuild for PHP-Gtk
on the portage tree is pretty solid.

Regards,
--
Anant Narayanan
-------------------------
Find Freedom!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060118190014</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-18 19:00:14-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkTreeStore/ListStore::set_value</subject><body>

Hello readers,

I just stumbled upon the set_value method of GtkTreeStore and
GtkListStore. One might say that it's not necessary to implement it
because set() does the same thing, but just with multiple columns at once.

Nevertheless do I think set_value has it's use: If you want to update
10000 rows, and only one column in a row. set_value() would be so much
faster than set() [because set() itself uses set_value internally, but
does some more things like looping over the parameters and so], and I
think that would be worth the implementation.

What do you think?


And Andrei, the insert_* patches I sent you: I noted that insert()
itself my have no parameters at all, and the code works when you just
add a bar "|" at the beginning of the parameter parsing code.

-- 
Regards/MfG,
Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060120123027</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-20 12:30:27-0400</timestampReceived><subject>Re: Fw: [PHP-GTK-DEV] #36100 [NEW]: php-gtk-1.0.2 load error: "undefined symbol: gtk_shpaned_new"</subject><body>

Thanks Anant, actually the PHP version shouldn't make any difference to 
this.

Can you update the bug report please? I don't know if Jakub reads the dev 
list...

- Steph

----- Original Message ----- 
From: "Anant Narayanan" &lt;anant@kix.in&gt;
To: "Steph Fox" &lt;steph@zend.com&gt;; "GTK-DEV" &lt;php-gtk-dev@lists.php.net&gt;; 
&lt;jakub@gentoo.org&gt;
Sent: Friday, January 20, 2006 2:15 PM
Subject: Re: Fw: [PHP-GTK-DEV] #36100 [NEW]: php-gtk-1.0.2 load error: 
"undefined symbol: gtk_shpaned_new"


Steph,

&gt; Hmm, since this is a generated file under the *nix build system it 
&gt; _sounds_
&gt; like a problem in the distro rather than in our source - anyone want 
&gt; to/able
&gt; to check this out?

I run on Gentoo, and I don't face any trouble with PHP-Gtk1.0.2.
Probably because my PHP version is 5.1.2? I'll try and revert back to
4.4 and give it a shot.

Jakub, if you emerged PHP-Gtk from portage, you can try building it
from source. Or vice-versa. As far as I know, the ebuild for PHP-Gtk
on the portage tree is pretty solid.

Regards,
--
Anant Narayanan
-------------------------
Find Freedom!
http://www.kix.in/ 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060120134809</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-01-20 13:48:09-0400</timestampReceived><subject>Re: Fw: [PHP-GTK-DEV] #36100 [NEW]: php-gtk-1.0.2 load error: "undefined</subject><body>

Steph Fox wrote:
&gt; 
&gt; I have _no_ clue how to commit to a CVS branch, we need to wait til 
&gt; either someone guides me gently/Christian just does it/Andrei gets back 
&gt; from his long weekend. But I'm 100% sure that's the problem.

This is my goto-guide for CVS branching questions: 
http://www.psc.edu/~semke/cvs_branches.html It has never let me down.

Anyway, if you want to make a change to a branch the easiest way is to 
just check it out, make the change, and then commit it. CVS will 
remember all the branch stuff for you.

// The -r flag indicates the branch you want to checkout
// The last argument is the name of the directory to checkout to (so you 
don't overwrite your PHP-GTK2 checkout.
$&gt; cvs co -r PHP_GTK_1 php-gtk php_gtk_1

Then just make your change and commit the file as normal
$&gt; cvs commit -m 'Added missing file' config.m4

Let me know if I need to be more gentle.

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060118135113</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-01-18 13:51:13-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Gtk+-2.8 features</subject><body>

Steph Fox wrote:
&gt; Heck, at least it compiled :)
&gt; 
&gt; You may have some methods the rest of us aren't privy to, is all.

Yeah it compiled after a day and a half of fighting. Then gimp, FireFox 
and Thunderbird stopped working, among other things. Anyway, the problem 
is that I don't have any extra methods (at least not the two I checked). 
But gernearlly speaking, I should right? The way compiling PHP-GTK works 
is that it builds off of what ever GTK you have right? I think these are 
just two misbehaving methods.

Thanks,
Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060118144806</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-18 14:48:06-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Gtk+-2.8 features</subject><body>

You need the methods to be in the gtk+ extension's defs files before you 
build, and those are generated from the GTK+ source using a python script 
(generator/h2def.py).

Note: since the defs files are retained in CVS, you're definitely taking a 
walk away from 'standard distro' here.  (I wasn't thinking earlier, 
obviously!)

- Steph

----- Original Message ----- 
From: "Scott Mattocks" &lt;scott@crisscott.com&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Wednesday, January 18, 2006 3:51 PM
Subject: Re: [PHP-GTK-DEV] Gtk+-2.8 features


&gt; Steph Fox wrote:
&gt;&gt; Heck, at least it compiled :)
&gt;&gt;
&gt;&gt; You may have some methods the rest of us aren't privy to, is all.
&gt;
&gt; Yeah it compiled after a day and a half of fighting. Then gimp, FireFox 
&gt; and Thunderbird stopped working, among other things. Anyway, the problem 
&gt; is that I don't have any extra methods (at least not the two I checked). 
&gt; But gernearlly speaking, I should right? The way compiling PHP-GTK works 
&gt; is that it builds off of what ever GTK you have right? I think these are 
&gt; just two misbehaving methods.
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1370 (20060118) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060119205736</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-01-19 20:57:36-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Gtk+-2.8 features</subject><body>

Because the .defs we have in CVS are for 2.6. They would need to be  
updated, but that is a delicate process.

-Andrei


On Jan 17, 2006, at 2:08 PM, Scott Mattocks wrote:

&gt; Hello,
&gt;
&gt; I up'ed my Gtk+-2.0 to version 2.8.8 and recompiled PHP-GTK 2. I  
&gt; expected features that were added in 2.8 to automatically be added  
&gt; to my PHP-GTK 2. Is that understanding wrong? I know it is possible  
&gt; that the methods in question (gtk_menu_bar_set_pack_direction [1])  
&gt; need some sort of override, but I just wanted to see if what I  
&gt; expected to happen was wrong.
&gt;
&gt; [1] http://developer.gnome.org/doc/API/2.0/gtk/GtkMenuBar.html#gtk- 
&gt; menu-bar-set-pack-direction
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060119210735</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-01-19 21:07:35-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Gtk+-2.8 features</subject><body>

Andrei Zmievski wrote:
&gt; Because the .defs we have in CVS are for 2.6. They would need to be  
&gt; updated, but that is a delicate process.

Disclaimer: I just want to be clear that I am not asking for the .defs 
to be updated or that anything really be done I am just curious as to 
how this works.

That being said, if the .defs are updated for 2.8 does that make the 
minimum required version of Gtk+, 2.8 or will users with 2.6 just not 
have access to the new methods?

Thanks,
Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060119211546</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-19 21:15:46-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Gtk+-2.8 features</subject><body>

Under windows it'd cause build problems. Can't speak for *nix.

----- Original Message ----- 
From: "Scott Mattocks" &lt;scott@crisscott.com&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Thursday, January 19, 2006 11:07 PM
Subject: Re: [PHP-GTK-DEV] Gtk+-2.8 features


&gt; Andrei Zmievski wrote:
&gt;&gt; Because the .defs we have in CVS are for 2.6. They would need to be  
&gt;&gt; updated, but that is a delicate process.
&gt; 
&gt; Disclaimer: I just want to be clear that I am not asking for the .defs 
&gt; to be updated or that anything really be done I am just curious as to 
&gt; how this works.
&gt; 
&gt; That being said, if the .defs are updated for 2.8 does that make the 
&gt; minimum required version of Gtk+, 2.8 or will users with 2.6 just not 
&gt; have access to the new methods?
&gt; 
&gt; Thanks,
&gt; Scott
&gt; 
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; 
&gt; 
&gt; __________ NOD32 1.1371 (20060118) Information __________
&gt; 
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt; 
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060119221456</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-19 22:14:56-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkCellLayout::set_cell_data_func</subject><body>

one +%% }} too many... (and what's with the extra spacing?)  Apart from that 
it looks ok here. Will test when get time.


----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Thursday, January 19, 2006 11:58 PM
Subject: [PHP-GTK-DEV] GtkCellLayout::set_cell_data_func


&gt; Hi
&gt;
&gt; One more function, copied from the GtkTreeViewColumn implementation.
&gt;
&gt; Demo script:
&gt; $entry = new GtkEntry();
&gt; $compl = new GtkEntryCompletion();
&gt; $entry-&gt;set_completion($compl);
&gt;
&gt; $store = new GtkListStore(Gtk::TYPE_STRING);
&gt; $compl-&gt;set_model($store);
&gt; $compl-&gt;set_text_column(0);
&gt;
&gt; $store-&gt;append(array('small'));
&gt; $store-&gt;append(array('little'));
&gt; $store-&gt;append(array('lowercase'));
&gt;
&gt; $renderer = new GtkCellRendererText();
&gt; $compl-&gt;clear();
&gt; $compl-&gt;pack_start($renderer, true);
&gt; $compl-&gt;set_cell_data_func($renderer, 'makeUpper');
&gt;
&gt; function makeUpper($column, $cell, $model, $iter) {
&gt;    $info = $model-&gt;get_value($iter, 0);
&gt;    $cell-&gt;set_property('text', strtoupper($info));
&gt; }
&gt;
&gt; $wnd = new GtkWindow();
&gt; $wnd-&gt;add($entry);
&gt; $wnd-&gt;connect_simple('destroy', array('gtk', 'main_quit'));
&gt; $wnd-&gt;show_all();
&gt; Gtk::main();
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;


--------------------------------------------------------------------------------


&gt; --- orig/gtk.overrides 2006-01-19 22:34:38.000000000 +0100
&gt; +++ php-gtk/ext/gtk+/gtk.overrides 2006-01-19 22:34:14.000000000 +0100
&gt; @@ -37,6 +37,7 @@
&gt;     gtk_button_new_with_label
&gt;     gtk_button_new_with_mnemonic
&gt;     gtk_color_button_new
&gt; +    gtk_combo_box_new_with_model
&gt;     gtk_dialog_new
&gt;     gtk_exit
&gt;     gtk_entry_new_with_max_length
&gt; @@ -846,6 +847,45 @@
&gt;
&gt; %% }}}
&gt;
&gt; +
&gt; +%% {{{ GtkCellLayout
&gt; +
&gt; +%%
&gt; +add-arginfo GtkCellLayout set_cell_data_func
&gt; +static
&gt; +ZEND_BEGIN_ARG_INFO(ARGINFO_NAME, 0)
&gt; +    ZEND_ARG_OBJ_INFO(0, cellrenderer, GtkCellRenderer, 1)
&gt; +    ZEND_ARG_INFO(0, callback)
&gt; +ZEND_END_ARG_INFO();
&gt; +
&gt; +%%
&gt; +override gtk_cell_layout_set_cell_data_func
&gt; +PHP_METHOD
&gt; +{
&gt; +    zval *php_cell;
&gt; +    GtkCellRenderer *cell;
&gt; +    zval *callback, *extra;
&gt; +    phpg_cb_data_t *cb_data;
&gt; +
&gt; +    NOT_STATIC_METHOD();
&gt; +
&gt; +    if (!php_gtk_parse_varargs(ZEND_NUM_ARGS(), 2, &amp;extra, "OV", 
&gt; &amp;php_cell, gtkcellrenderer_ce, &amp;callback))
&gt; +        return;
&gt; +
&gt; +    cell = GTK_CELL_RENDERER(PHPG_GOBJECT(php_cell));
&gt; +
&gt; +    zval_add_ref(&amp;callback);
&gt; +    cb_data = phpg_cb_data_new(callback, extra TSRMLS_CC);
&gt; +
&gt; + 
&gt; gtk_cell_layout_set_cell_data_func(GTK_CELL_LAYOUT(PHPG_GOBJECT(this_ptr)), 
&gt; cell,
&gt; + 
&gt; (GtkCellLayoutDataFunc)phpg_cell_data_func_marshal,
&gt; +                                            cb_data, 
&gt; phpg_cb_data_destroy);
&gt; +}
&gt; +%% }}}
&gt; +
&gt; +
&gt; +%% }}
&gt; +
&gt; %% {{{ GtkCheckButton
&gt; %%
&gt; add-arginfo GtkCheckButton __construct
&gt; @@ -1057,6 +1097,7 @@
&gt; }
&gt; %% }}}
&gt;
&gt; +
&gt; %% include gtkcontainer.overrides
&gt;
&gt; %% {{{ GtkDialog
&gt; @@ -2432,6 +2473,7 @@
&gt;
&gt;
&gt; %% {{{ GtkWindow
&gt; +
&gt; %%
&gt; override gtk_window_get_position
&gt; PHP_METHOD
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060119134223</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-01-19 13:42:23-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkComboBox::new_with_model vs. GtkComboBox(optional</subject><body>

Christian Weiske wrote:
&gt; Hello readers,
&gt; 
&gt; Currently PHP-Gtk2 implements the default constructors of GtkComboBox:
&gt; default without parameters, one new_text() which automatically creates a
&gt; text model and new_with_model which allows a model as parameter.
&gt; 
&gt; I would suggest dropping the latter and adding an optional parameter to
&gt; the default constructor. Anyone against this?
&gt; 

I am not against this change or any of the others that you have proposed 
so far, but I think we once had a motto of "stick with the GTK API". 
Making all of these API changes will make it a little more difficult to 
create a new backward compatible version of PHP-GTK. All of the 
customizations (such as optional constructor arguments) will have to be 
added again in the new version. Also, dropping stuff from the GTK API 
will make it more difficult for people coming from the GTK world to 
adopt PHP-GTK.

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060118215654</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-18 21:56:54-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] #35966 [Opn]: missing GdkPixbuf::new_from_xpm_data</subject><body>


&gt; Is anyone going to take care of this?
Joseph, we are working on php-gtk2 but since we don't get paid, there
are other things to do, too. The missing function will be implemented -
some day.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060113090918</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-13 09:09:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] bug?: connect and php functions</subject><body>

I wouldn't call it a bug - I'd call it expected behaviour.


----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Friday, January 13, 2006 10:53 AM
Subject: [PHP-GTK-DEV] bug?: connect and php functions

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060113092145</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-13 09:21:45-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] bug?: connect and php functions</subject><body>


&gt; I wouldn't call it a bug - I'd call it expected behaviour.
And that is because ..? I don't understand why it's expected.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060113093143</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-13 09:31:43-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] bug?: connect and php functions</subject><body>

I'd say basically it's not sensible for PHP-GTK to 'know' the difference 
between a user function and a PHP function in this context. The only way we 
could have it work sanely would be if there were full support for namespaces 
in PHP, and even then it'd be unlikely that non-prefixed functions would be 
differentiated in this way because the necessary checking entailed would 
slow things down.

----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Friday, January 13, 2006 11:21 AM
Subject: Re: [PHP-GTK-DEV] bug?: connect and php functions

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060113134936</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-01-13 13:49:36-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] bug?: connect and php functions</subject><body>

Christian Weiske wrote:
&gt;&gt;I wouldn't call it a bug - I'd call it expected behaviour.
&gt; 
&gt; And that is because ..? I don't understand why it's expected.
&gt; 

Because print isn't a function. print is a language construct just like 
echo and require_once. That is why print/echo can be used without 
parenthesis.

http://us2.php.net/manual/en/function.print.php


Also, I don't think this is really really related to PHP-GTK. I think it 
has to do with PHP's callback mechanism. I can't test this right now but 
try it with array_walk. My guess is that you will see the same thing.

Of course it could fail on true functions also. Try connecting to 
something like substr(). You won't see any real results but if you don't 
get the warning then you know it worked.

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060118200418</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-01-18 20:04:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] bug?: connect and php functions</subject><body>

Scott Mattocks wrote:
&gt; Christian Weiske wrote:
&gt; 
&gt;&gt;&gt; I wouldn't call it a bug - I'd call it expected behaviour.
&gt;&gt;
&gt;&gt;
&gt;&gt; And that is because ..? I don't understand why it's expected.
&gt;&gt;
&gt; 
&gt; Because print isn't a function. print is a language construct just like 
&gt; echo and require_once. That is why print/echo can be used without 
&gt; parenthesis.

I am sure that everyone has moved on from this topic by now but I just 
came across this page in the PHP manual:
http://us2.php.net/manual/en/language.pseudo-types.php#language.types.callback

It gives a list of "functions" that cannot be used as callbacks. 
Everything in the list is a language construct and not a function.

Scott

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060114123101</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-14 12:31:01-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkFont::string_extends vs. text_extends</subject><body>

That's better :)

Opinion: having one as an alias for the other will be more confusing. I vote 
for adding the one we can't use to the 'ignore' list.

- Steph


----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Saturday, January 14, 2006 2:28 PM
Subject: [PHP-GTK-DEV] GdkFont::string_extends vs. text_extends

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060113092257</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-13 09:22:57-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Feature request: GtkEntry constructor allows text to be set</subject><body>

I don't see any compelling reason why not. In GTK 1 there was a reason, 
because the alternative to plain 'gtk_entry_new' was 
'gtk_entry_new_with_max_length', but that reason doesn't exist any more.

Andrei, thoughts?


----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Friday, January 13, 2006 11:08 AM
Subject: [PHP-GTK-DEV] Feature request: GtkEntry constructor allows text to 
be set

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060113171210</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-01-13 17:12:10-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Feature request: GtkEntry constructor allows text to be set</subject><body>

I'll have them once I had my coffee..

-Andrei

On Jan 13, 2006, at 1:22 AM, Steph Fox wrote:

&gt; I don't see any compelling reason why not. In GTK 1 there was a 
&gt; reason, because the alternative to plain 'gtk_entry_new' was 
&gt; 'gtk_entry_new_with_max_length', but that reason doesn't exist any 
&gt; more.
&gt;
&gt; Andrei, thoughts?
&gt;
&gt;
&gt; ----- Original Message ----- From: "Christian Weiske" 
&gt; &lt;cweiske@cweiske.de&gt;
&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Friday, January 13, 2006 11:08 AM
&gt; Subject: [PHP-GTK-DEV] Feature request: GtkEntry constructor allows 
&gt; text to be set
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060114041800</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-01-14 04:18:00-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Feature request: GtkEntry constructor allows text to be set</subject><body>

Implemented in CVS.

GtkEntry([string text = "" [, int max_length = 0]])

-Andrei


On Jan 13, 2006, at 1:22 AM, Steph Fox wrote:

&gt; I don't see any compelling reason why not. In GTK 1 there was a  
&gt; reason, because the alternative to plain 'gtk_entry_new' was  
&gt; 'gtk_entry_new_with_max_length', but that reason doesn't exist any  
&gt; more.
&gt;
&gt; Andrei, thoughts?
&gt;
&gt;
&gt; ----- Original Message ----- From: "Christian Weiske"  
&gt; &lt;cweiske@cweiske.de&gt;
&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Friday, January 13, 2006 11:08 AM
&gt; Subject: [PHP-GTK-DEV] Feature request: GtkEntry constructor allows  
&gt; text to be set
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060114045727</emailId><senderName></senderName><senderEmail>andrei</senderEmail><timestampReceived>2006-01-14 04:57:27-0400</timestampReceived><subject>[PHP-GTK-DEV] #35990 [Opn-&gt;Csd]: activate signal on GtkEntry throws warning</subject><body>

 ID:               35990
 Updated by:       andrei@php.net
 Reported By:      cweiske@php.net
-Status:           Open
+Status:           Closed
 Bug Type:         PHP-GTK related
 Operating System: any
 PHP Version:      5.1.2
 New Comment:

This bug has been fixed in CVS.

Snapshots of the sources are packaged every three hours; this change
will be in the next snapshot. You can grab the snapshot at
http://snaps.php.net/.
 
Thank you for the report, and for helping us make PHP better.


Previous Comments:
------------------------------------------------------------------------

[2006-01-13 10:34:31] cweiske@php.net

Description:
------------
I get a warning when using the activate signal on a GtkEntry.


Reproduce code:
---------------
&lt;?php
//Start it and press return. Warning will come
$wnd = new GtkWindow();
$wnd-&gt;connect_simple('destroy', array('gtk', 'main_quit'));

$entry = new GtkEntry();
function echoit($value) { echo $value . "\r\n";}
$entry-&gt;connect_simple('activate', 'echoit', 'test');

$wnd-&gt;add($entry);
$wnd-&gt;show_all();
Gtk::main();
?&gt;



Expected result:
----------------
output: test

Actual result:
--------------
PHP Warning:  PHP-GTK internal error: unsupported type (null) in
/data/cvs/phpgtk2/php-gtk/test/bug_gtkentry_activate.phpw on line 9
PHP Warning:  Could not convert return value of signal callback
'echoit' to '(null)' in
/data/cvs/phpgtk2/php-gtk/test/bug_gtkentry_activate.phpw on line 9


------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=35990&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060114061849</emailId><senderName></senderName><senderEmail>tencent_office@56.com</senderEmail><timestampReceived>2006-01-14 06:18:49-0400</timestampReceived><subject>[PHP-GTK-DEV] =?shift-jis?B?gs2CooLNgqKCzYKigUk=?=</subject><body>


KILOTCgI
luoTCg\
http://zwya.com/hh1292/

j
xiaomenkaixingfulai@Yaho0.com.cn
14:18:49

</body></email><email><emailId>20060114193118</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-01-14 19:31:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GdkFont::string_extends vs. text_extends</subject><body>

No aliases. Get rid of string_extends and adjust text_extends to  
figure out the length of passed in string.

-Andrei


On Jan 14, 2006, at 4:28 AM, Christian Weiske wrote:

&gt; Hello all,
&gt;
&gt;
&gt; If you look at the gdk docs you'll note that gdk_string_extends and
&gt; gdk_text_extends are the same methods, just with the difference of
&gt; nul-terminated string vs. string length.
&gt;
&gt; That doesn't matter for php; so there are two possibilities:
&gt; - ignore string_extends, so that one can use text_extends only
&gt; - make string_extends a alias for text_extends.
&gt;
&gt; Opinions?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060114193358</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-01-14 19:33:58-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] spinning boxes</subject><body>

On Jan 13, 2006, at 4:32 AM, Christian Weiske wrote:

&gt;
&gt; gtk_tree_view_column_cell_get_size(GTK_TREE_VIEW_COLUMN(PHPG_GOBJECT 
&gt; (this_ptr)),
&gt; &amp;cell_area, &amp;x_offset, &amp;y_offset, &amp;width, &amp;height);
&gt;     phpg_gboxed_new(&amp;cell_area2, GDK_TYPE_RECTANGLE, &amp;cell_area, TRUE,
&gt; TRUE TSRMLS_CC);
&gt;
&gt;     php_gtk_build_value(&amp;return_value, "(Viiii)", cell_area2,  
&gt; x_offset,
&gt; y_offset, width, height);
&gt; }
&gt;
&gt; %% }}}
&gt; -------
&gt;
&gt; but that doesn't work (segfaults). If you remove the  
&gt; phpg_gboxed_new and
&gt; return cell_area instead of cell_area, the method works but the first
&gt; array key is something like
&gt;&gt;   [0]=&gt;
&gt;&gt;   &amp;UNKNOWN:0
&gt; So I thought there has to be a call to phpg_gboxed_new, but I just  
&gt; don't
&gt; know how that works and what it does :/

phpg_gboxed_new() initializes cell_area2 to have a refcount of 1.  
When you call php_gtk_build_value() and use 'V' specifier it will add  
increment the refcount. Since we have just created cell_area2 we  
don't want that, so use 'N' specifier for that.

By the way, preferred names of PHP wrappers are php_*. So call it  
php_cell_area.

-Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060117074923</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-01-17 07:49:23-0400</timestampReceived><subject>[PHP-GTK-DEV] Feature Requests</subject><body>

Hiya,

I would like to make a few feature requests. I may have said this
before, but it'll be really nice if we could include a PHP-Gtk2
implementation of GtkSourceView.
(http://gtksourceview.sourceforge.net/). It's a nice widget and will
defintely add value.

One more thing I was wondering whether it was possible to make the
GtkTreeView editable (well,  technically speaking, the model behind
it). I think Gtk supports it, we should too.

Add to the TODO list? Frankly, I'd love to help you guys, but my C
sucks. I'll limit myself to the docs for now :)

Regards,
--
Anant Narayanan
-------------------------
Find Freedom!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060118210307</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-18 21:03:07-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] bug?: connect and php functions</subject><body>

Useful info :) thanks, I didn't know this either.

----- Original Message ----- 
From: "Scott Mattocks" &lt;scott@crisscott.com&gt;
To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Wednesday, January 18, 2006 10:04 PM
Subject: Re: [PHP-GTK-DEV] bug?: connect and php functions


&gt; Scott Mattocks wrote:
&gt;&gt; Christian Weiske wrote:
&gt;&gt;
&gt;&gt;&gt;&gt; I wouldn't call it a bug - I'd call it expected behaviour.
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; And that is because ..? I don't understand why it's expected.
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; Because print isn't a function. print is a language construct just like 
&gt;&gt; echo and require_once. That is why print/echo can be used without 
&gt;&gt; parenthesis.
&gt;
&gt; I am sure that everyone has moved on from this topic by now but I just 
&gt; came across this page in the PHP manual:
&gt; http://us2.php.net/manual/en/language.pseudo-types.php#language.types.callback
&gt;
&gt; It gives a list of "functions" that cannot be used as callbacks. 
&gt; Everything in the list is a language construct and not a function.
&gt;
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1370 (20060118) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060118215818</emailId><senderName>Scott Mattocks</senderName><senderEmail>scott@crisscott.com</senderEmail><timestampReceived>2006-01-18 21:58:18-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] #35966 [Opn]: missing GdkPixbuf::new_from_xpm_data</subject><body>

Someone will take care of it just not right away. There is a long list 
of things that need to be fixed and only a few people with the skills to 
fix them.

Please be patient.

Scott Mattocks

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060119105549</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-19 10:55:49-0400</timestampReceived><subject>[PHP-GTK-DEV] GtkComboBox constructor patch</subject><body>

[Attachment #2 (multipart/mixed)]


Hi,

Here is the patch for the GtkComboBox constructor. Andrei, could you
review it?

-- 
Regards/MfG,
Christian Weiske

["gtk.overrides.diff" (text/plain)]

--- orig/gtk.overrides	2006-01-19 11:54:16.000000000 +0100
+++ php-gtk/ext/gtk+/gtk.overrides	2006-01-19 11:38:22.000000000 +0100
@@ -37,6 +37,7 @@
     gtk_button_new_with_label
     gtk_button_new_with_mnemonic
     gtk_color_button_new
+    gtk_combo_box_new_with_model
     gtk_dialog_new
     gtk_exit
     gtk_entry_new_with_max_length
@@ -1058,6 +1059,43 @@
 }
 %% }}}
 
+
+%% {{{ GtkComboBox
+
+%%
+add-arginfo GtkComboBox __construct
+static
+ZEND_BEGIN_ARG_INFO_EX(ARGINFO_NAME, 0, 0, 0)
+    ZEND_ARG_OBJ_INFO(0, model, GtkTreeModel, 1)
+ZEND_END_ARG_INFO();
+
+%%
+override gtk_combo_box_new
+PHP_METHOD
+{
+    zval *model = NULL;
+    GObject *wrapped_obj;
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "|O", &amp;model, gtktreemodel_ce)) {
+        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkComboBox);
+    }
+
+    if (!model) {
+        wrapped_obj = (GObject *) g_object_newv(phpg_gtype_from_zval(this_ptr), 0, NULL);
+    } else {
+        wrapped_obj = (GObject *) gtk_combo_box_new_with_model(GTK_TREE_MODEL(PHPG_GOBJECT(model)));
+    }
+
+    if (!wrapped_obj) {
+        PHPG_THROW_CONSTRUCT_EXCEPTION(GtkComboBox);
+    }
+
+    phpg_gobject_set_wrapper(this_ptr, wrapped_obj TSRMLS_CC);
+}
+
+%% }}}
+
+
 %% include gtkcontainer.overrides
 
 %% {{{ GtkDialog

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060119135453</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-19 13:54:53-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkComboBox::new_with_model vs. GtkComboBox(optional$model)</subject><body>

&gt; I am not against this change or any of the others that you have proposed 
&gt; so far, but I think we once had a motto of "stick with the GTK API". 
&gt; Making all of these API changes will make it a little more difficult to 
&gt; create a new backward compatible version of PHP-GTK. All of the 
&gt; customizations (such as optional constructor arguments) will have to be 
&gt; added again in the new version. Also, dropping stuff from the GTK API will 
&gt; make it more difficult for people coming from the GTK world to adopt 
&gt; PHP-GTK.

Hi Scott,

I personally don't see any evidence of GTK coders (aka people who write C) 
rushing to adopt PHP-GTK, but there you go :)

Simplified constructors - aka those with optional parameters - have a long 
and happy history in PHP-GTK, right from the word 'go'. The only question, 
when there are more than two options, is which to make 'standard' and which 
to leave alone. And (as usual at present, sorry Christian) I'm up to the 
eyeballs in it and don't have time to do that piece of research.

- Steph

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060119222344</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-19 22:23:44-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkCellLayout::set_cell_data_func</subject><body>


&gt; one +%% }} too many... (and what's with the extra spacing?)  Apart from
&gt; that it looks ok here. Will test when get time.
That's just because I removed the GtkComboBox constructor thing which
isn't clear.


-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060120003813</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-01-20 00:38:13-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Gtk+-2.8 features</subject><body>

Yes, it would make 2.8 the minimum required version, unless a lot of  
work is put into generator to output #ifdef blocks.

-Andrei


On Jan 19, 2006, at 1:07 PM, Scott Mattocks wrote:

&gt; Andrei Zmievski wrote:
&gt;&gt; Because the .defs we have in CVS are for 2.6. They would need to  
&gt;&gt; be  updated, but that is a delicate process.
&gt;
&gt; Disclaimer: I just want to be clear that I am not asking for  
&gt; the .defs to be updated or that anything really be done I am just  
&gt; curious as to how this works.
&gt;
&gt; That being said, if the .defs are updated for 2.8 does that make  
&gt; the minimum required version of Gtk+, 2.8 or will users with 2.6  
&gt; just not have access to the new methods?
&gt;
&gt; Thanks,
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060120123718</emailId><senderName></senderName><senderEmail>anant</senderEmail><timestampReceived>2006-01-20 12:37:18-0400</timestampReceived><subject>[PHP-GTK-DEV] #36100 [Opn-&gt;Fbk]: php-gtk-1.0.2 load error: "undefined symbol: gtk_shpaned_new"</subject><body>

 ID:               36100
 Updated by:       anant@php.net
 Reported By:      jakub at gentoo dot org
-Status:           Open
+Status:           Feedback
 Bug Type:         PHP-GTK related
 Operating System: Gentoo Linux
 PHP Version:      1.0.0 (php 4.4.2)
 New Comment:

Please try using this CVS snapshot:

  http://snaps.php.net/php5.1-latest.tar.gz
 
For Windows:
 
  http://snaps.php.net/win32/php5.1-win32-latest.zip

If you emerged PHP-Gtk from the portage tree, try building from source,
or vice-versa.


Previous Comments:
------------------------------------------------------------------------

[2006-01-20 12:56:36] jakub at gentoo dot org

Description:
------------
Trying to load php-gtk extension produces fatal error.


Reproduce code:
---------------
See http://bugs.gentoo.org/show_bug.cgi?id=90570 for the original bug
report, also the issue and fix is noted by a user in
http://gtk.php.net/manual/en/

The respective code hasn't been updated for a couple of years
(http://cvs.php.net/viewcvs.cgi/php-gtk/main/php_gtk_ext.c.in?view=log)


Expected result:
----------------
Uhm, just work? ;)

Actual result:
--------------
"Warning: dl(): Unable to load dynamic library
'/usr/lib/php/extensions/no-debug-non-zts-20020429/php_gtk.so' -
/usr/lib/php/extensions/no-debug-non-zts-20020429/php_gtk.so: undefined
symbol:
gtk_shpaned_new in..."



------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=36100&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060120125619</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-20 12:56:19-0400</timestampReceived><subject>Re: Re[2]: Fw: [PHP-GTK-DEV] #36100 [NEW]: php-gtk-1.0.2 load error: "undefined symbol: gtk_shpaned_</subject><body>

Yeah, I just found the file's missing from the list in config.m4, which 
might have some bearing on the issue :)  Just got confused as to why you 
were seeing a problem and Anant wasn't, but that's clear now.

I have _no_ clue how to commit to a CVS branch, we need to wait til either 
someone guides me gently/Christian just does it/Andrei gets back from his 
long weekend. But I'm 100% sure that's the problem.

Thanks!


----- Original Message ----- 
From: "Jakub Moc" &lt;jakub@gentoo.org&gt;
To: "Anant Narayanan" &lt;anant@kix.in&gt;
Cc: "Steph Fox" &lt;steph@zend.com&gt;; "GTK-DEV" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Friday, January 20, 2006 2:50 PM
Subject: Re[2]: Fw: [PHP-GTK-DEV] #36100 [NEW]: php-gtk-1.0.2 load error: 
"undefined symbol: gtk_shpaned_new"

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060120134927</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-20 13:49:27-0400</timestampReceived><subject>Re: Fw: [PHP-GTK-DEV] #36100 [NEW]: php-gtk-1.0.2 load error: "undefinedsymbol: gtk_shpaned_new"</subject><body>

Nope, that works for me, thanks :)


----- Original Message ----- 
From: "Scott Mattocks" &lt;scott@crisscott.com&gt;
To: "GTK-DEV" &lt;php-gtk-dev@lists.php.net&gt;
Cc: "Jakub Moc" &lt;jakub@gentoo.org&gt;
Sent: Friday, January 20, 2006 3:48 PM
Subject: Re: Fw: [PHP-GTK-DEV] #36100 [NEW]: php-gtk-1.0.2 load error: 
"undefinedsymbol: gtk_shpaned_new"


&gt; Steph Fox wrote:
&gt;&gt;
&gt;&gt; I have _no_ clue how to commit to a CVS branch, we need to wait til 
&gt;&gt; either someone guides me gently/Christian just does it/Andrei gets back 
&gt;&gt; from his long weekend. But I'm 100% sure that's the problem.
&gt;
&gt; This is my goto-guide for CVS branching questions: 
&gt; http://www.psc.edu/~semke/cvs_branches.html It has never let me down.
&gt;
&gt; Anyway, if you want to make a change to a branch the easiest way is to 
&gt; just check it out, make the change, and then commit it. CVS will remember 
&gt; all the branch stuff for you.
&gt;
&gt; // The -r flag indicates the branch you want to checkout
&gt; // The last argument is the name of the directory to checkout to (so you 
&gt; don't overwrite your PHP-GTK2 checkout.
&gt; $&gt; cvs co -r PHP_GTK_1 php-gtk php_gtk_1
&gt;
&gt; Then just make your change and commit the file as normal
&gt; $&gt; cvs commit -m 'Added missing file' config.m4
&gt;
&gt; Let me know if I need to be more gentle.
&gt;
&gt; Scott
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1372 (20060119) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060120135829</emailId><senderName></senderName><senderEmail>sfox</senderEmail><timestampReceived>2006-01-20 13:58:29-0400</timestampReceived><subject>[PHP-GTK-DEV] #36100 [Fbk]: php-gtk-1.0.2 load error: "undefined symbol: gtk_shpaned_new"</subject><body>

 ID:               36100
 Updated by:       sfox@php.net
 Reported By:      jakub at gentoo dot org
 Status:           Feedback
 Bug Type:         PHP-GTK related
 Operating System: Gentoo Linux
 PHP Version:      1.0.0 (php 4.4.2)
 New Comment:

Should be fixed in CVS now. Please can you confirm this, as I have no
way to test it.

Thanks!



Previous Comments:
------------------------------------------------------------------------

[2006-01-20 13:37:16] anant@php.net

Please try using this CVS snapshot:

  http://snaps.php.net/php5.1-latest.tar.gz
 
For Windows:
 
  http://snaps.php.net/win32/php5.1-win32-latest.zip

If you emerged PHP-Gtk from the portage tree, try building from source,
or vice-versa.

------------------------------------------------------------------------

[2006-01-20 12:56:36] jakub at gentoo dot org

Description:
------------
Trying to load php-gtk extension produces fatal error.


Reproduce code:
---------------
See http://bugs.gentoo.org/show_bug.cgi?id=90570 for the original bug
report, also the issue and fix is noted by a user in
http://gtk.php.net/manual/en/

The respective code hasn't been updated for a couple of years
(http://cvs.php.net/viewcvs.cgi/php-gtk/main/php_gtk_ext.c.in?view=log)


Expected result:
----------------
Uhm, just work? ;)

Actual result:
--------------
"Warning: dl(): Unable to load dynamic library
'/usr/lib/php/extensions/no-debug-non-zts-20020429/php_gtk.so' -
/usr/lib/php/extensions/no-debug-non-zts-20020429/php_gtk.so: undefined
symbol:
gtk_shpaned_new in..."



------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=36100&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060120225344</emailId><senderName>"jakub at gentoo dot org"</senderName><senderEmail>php-gtk-dev@lists.php.net</senderEmail><timestampReceived>2006-01-20 22:53:44-0400</timestampReceived><subject>[PHP-GTK-DEV] #36100 [Fbk-&gt;Csd]: php-gtk-1.0.2 load error: "undefined symbol: gtk_shpaned_new"</subject><body>

 ID:               36100
 User updated by:  jakub at gentoo dot org
 Reported By:      jakub at gentoo dot org
-Status:           Feedback
+Status:           Closed
 Bug Type:         PHP-GTK related
 Operating System: Gentoo Linux
 PHP Version:      1.0.0 (php 4.4.2)
 New Comment:

Thanks, works for me.


Previous Comments:
------------------------------------------------------------------------

[2006-01-20 14:58:28] sfox@php.net

Should be fixed in CVS now. Please can you confirm this, as I have no
way to test it.

Thanks!


------------------------------------------------------------------------

[2006-01-20 13:37:16] anant@php.net

Please try using this CVS snapshot:

  http://snaps.php.net/php5.1-latest.tar.gz
 
For Windows:
 
  http://snaps.php.net/win32/php5.1-win32-latest.zip

If you emerged PHP-Gtk from the portage tree, try building from source,
or vice-versa.

------------------------------------------------------------------------

[2006-01-20 12:56:36] jakub at gentoo dot org

Description:
------------
Trying to load php-gtk extension produces fatal error.


Reproduce code:
---------------
See http://bugs.gentoo.org/show_bug.cgi?id=90570 for the original bug
report, also the issue and fix is noted by a user in
http://gtk.php.net/manual/en/

The respective code hasn't been updated for a couple of years
(http://cvs.php.net/viewcvs.cgi/php-gtk/main/php_gtk_ext.c.in?view=log)


Expected result:
----------------
Uhm, just work? ;)

Actual result:
--------------
"Warning: dl(): Unable to load dynamic library
'/usr/lib/php/extensions/no-debug-non-zts-20020429/php_gtk.so' -
/usr/lib/php/extensions/no-debug-non-zts-20020429/php_gtk.so: undefined
symbol:
gtk_shpaned_new in..."



------------------------------------------------------------------------


-- 
Edit this bug report at http://bugs.php.net/?id=36100&amp;edit=1

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060121190735</emailId><senderName>Jeremy Johnstone</senderName><senderEmail>phpdev@gmail.com</senderEmail><timestampReceived>2006-01-21 19:07:35-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Installing PHP-GTK on OS X</subject><body>

When compiling PHP, do the following:

./configure --prefix=/usr
make
sudo make install

And it will then correctly put itself where you are wanting.

-Jeremy

On 1/14/06, Christopher Logan &lt;chris@b40d.com&gt; wrote:
&gt; Andrei your a genius after specifying the location everything started
&gt; working I now have it compiled and working on Mac and Linux and using
&gt; Gnope on Windows. Why does php compile in /usr/local/bin/ besides
&gt; /usr/bin/ on OS X? I'm not a expert at compiling programs but do like a
&gt; good trouble shooting challenge now and then.
&gt;
&gt; Thanks,
&gt; Christopher Logan
&gt;
&gt; Andrei Zmievski wrote:
&gt; &gt; Do this:
&gt; &gt;
&gt; &gt; buildconf --with-phpize=/usr/local/bin/phpize (or wherever your PHP
&gt; &gt; 5.1 phpize script is)
&gt; &gt; configure --with-php-config=/usr/local/bin/php-config (same thing)
&gt; &gt;
&gt; &gt; -Andrei
&gt; &gt;
&gt; &gt;
&gt; &gt; On Jan 14, 2006, at 6:59 AM, Christopher Logan wrote:
&gt; &gt;
&gt; &gt;&gt; Well there is a problem with that when I installed php it installed it
&gt; &gt;&gt; in /usr/local/bin/ but the php that came with OS X is in /usr/bin/ and I
&gt; &gt;&gt; couldn't figure out how to get it to put it in /usr/bin/.
&gt; &gt;&gt;
&gt; &gt;&gt; As for the dates I'm not sure I used the same cvs command I used to get
&gt; &gt;&gt; it on Fedora:
&gt; &gt;&gt; cvs -d :pserver:cvsread@cvs.php.net:/repository co php-gtk
&gt; &gt;&gt;
&gt; &gt;&gt; As for the php version I'll get a update but was just using what I had
&gt; &gt;&gt; already.
&gt; &gt;&gt;
&gt; &gt;&gt; Steph Fox wrote:
&gt; &gt;&gt;&gt; Check which php you're actually using there.. Those API numbers look
&gt; &gt;&gt;&gt; very wrong - even if you were using 5.1.1 (NB you should be building
&gt; &gt;&gt;&gt; against 5.1.2 now anyway), you'd expect to see dates this side of 2002.
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; ----- Original Message ----- From: "Christopher Logan" &lt;chris@b40d.com&gt;
&gt; &gt;&gt;&gt; To: "PHP-GTK Dev list" &lt;php-gtk-dev@lists.php.net&gt;
&gt; &gt;&gt;&gt; Sent: Saturday, January 14, 2006 4:13 PM
&gt; &gt;&gt;&gt; Subject: [PHP-GTK-DEV] Installing PHP-GTK on OS X
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; Well I got PHP-GTK 2 on Fedora Core 4 working, I have it on Windows
&gt; &gt;&gt;&gt;&gt; with Gnope, now I am trying to get it on OS X on my Mac Mini.
&gt; &gt;&gt;&gt;&gt; Although there seems to be a problem I got the latest cvs as of today.
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; My Specs
&gt; &gt;&gt;&gt;&gt; OS X 10.4.4
&gt; &gt;&gt;&gt;&gt; Xcode Tools 2.0
&gt; &gt;&gt;&gt;&gt; DarwinPorts: port install gtk
&gt; &gt;&gt;&gt;&gt; PHP 5.1.1: /usr/local/bin/php
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; While trying to use ./buildconf I get the following error:
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; ./buildconf
&gt; &gt;&gt;&gt;&gt; Configuring for:
&gt; &gt;&gt;&gt;&gt; PHP Api Version:         20020918
&gt; &gt;&gt;&gt;&gt; Zend Module Api No:      20020429
&gt; &gt;&gt;&gt;&gt; Zend Extension Api No:   20021010
&gt; &gt;&gt;&gt;&gt; configure.in:22: error: possibly undefined macro: AC_MSG_ERROR
&gt; &gt;&gt;&gt;&gt;      If this token and others are legitimate, please use
&gt; &gt;&gt;&gt;&gt; m4_pattern_allow.
&gt; &gt;&gt;&gt;&gt;      See the Autoconf documentation.
&gt; &gt;&gt;&gt;&gt; configure:3092: error: possibly undefined macro: AM_PATH_GLIB_2_0
&gt; &gt;&gt;&gt;&gt; configure:3206: error: possibly undefined macro: AM_PATH_GTK_2_0
&gt; &gt;&gt;&gt;&gt; make: *** [buildmk.stamp] Error 1
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; --PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; &gt;&gt;&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; __________ NOD32 1.1364 (20060113) Information __________
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; This message was checked by NOD32 antivirus system.
&gt; &gt;&gt;&gt;&gt; http://www.eset.com
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; --PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; &gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; &gt;
&gt; &gt; --PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; &gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt; &gt;
&gt; &gt;
&gt;
&gt; --
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;


--
---------------------------
Jeremy Johnstone
http://www.jeremyjohnstone.com
jsjohnst@php.net

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060122002243</emailId><senderName>Ivan Rodriguez</senderName><senderEmail>epplestun@gmail.com</senderEmail><timestampReceived>2006-01-22 00:22:43-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Problems doing make with the CVS version of PHP-GTK2</subject><body>


Thans Steph i'm doing now this :)

On 1/22/06, Steph Fox &lt;steph@zend.com&gt; wrote:
&gt;
&gt; Upgrade PHP.  That message is due to a Zend Engine change in the 5_1
&gt; branch.
&gt;
&gt; ----- Original Message -----
&gt; From: "Ivan Rodriguez" &lt;epplestun@gmail.com&gt;
&gt; To: &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Sunday, January 22, 2006 1:47 AM
&gt; Subject: [PHP-GTK-DEV] Problems doing make with the CVS version of
&gt; PHP-GTK2
&gt;
&gt;
&gt; Hi, I try to compile the last version of PHP-GTK2 fromde CVS and when I d=
o
&gt; the make I get this error:
&gt;
&gt; /include -I/usr/X11R6/include -I/usr/include/atk-1.0 -I/usr/include/pango=
-
&gt; 1.0 -I/usr/include/freetype2
&gt; -I/usr/include/libglade-2.0-I/usr/include/libxml2 -DHAVE_CONFIG_H -g
&gt; -O2 -c
&gt; /home/epplestun/php-dev/php-gtk/main/phpg_support.c  -fPIC -DPIC -o
&gt; main/.libs/phpg_support.o
&gt; /home/epplestun/php-dev/php-gtk/main/phpg_support.c: In function
&gt; `phpg_init_object':
&gt; /home/epplestun/php-dev/php-gtk/main/phpg_support.c:246: error: structure
&gt; has no member named `guards'
&gt; make: *** [main/phpg_support.lo] Error 1
&gt;
&gt; Any idea?
&gt;
&gt; Regards
&gt;
&gt;
&gt; __________ NOD32 1.1373 (20060120) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt;
&gt;


</body></email><email><emailId>20060123121554</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-23 12:15:54-0400</timestampReceived><subject>Re: Fw: [PHP-GTK-DEV] GtkCTreeNode boxed or not?</subject><body>

Heck, I was close!

(that was a typo, it's 18th on my box - vive le tz, eh?)

----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
Sent: Monday, January 23, 2006 2:02 PM
Subject: Re: Fw: [PHP-GTK-DEV] GtkCTreeNode boxed or not?

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060123171528</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-23 17:15:28-0400</timestampReceived><subject>[PHP-GTK-DEV] Re: [PHP-GTK] January News</subject><body>


&gt; By the way, does anyone know how often the live server gets refreshed from
&gt; CVS?
I thought once a day?

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060123181451</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-01-23 18:14:51-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Return value on half failure</subject><body>

I would return null or FALSE. In general, we have been returning null 
as the error value (especially for invalid parameters), but we should 
standardize on something. It doesn't really matter, but I have a slight 
preference for null since there may be methods that are supposed to 
return boolean values and in those you cannot use FALSE for error 
value.

-Andrei

On Jan 14, 2006, at 2:08 PM, Christian Weiske wrote:

&gt; Andrei (and others with a voice),
&gt;
&gt;
&gt; What return value should methods have that have a "half" failure, e.g.
&gt; gdk_event_get_coords? It returns true and fills two double variables in
&gt; case the event had some coords associated, and returns false if there
&gt; were no coords for the event.
&gt;
&gt; PyGtk returns an empty array in the latter case, but it would be more
&gt; php-ish to return FALSE instead of an array. On the other side it's no
&gt; "real" error.
&gt;
&gt; I still vote for returning false, but want to hear your opinion.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060123182136</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-01-23 18:21:36-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Overrides for GtkUIManager and GtkCalendar</subject><body>

Haven't looked at it yet.. Hopefully soon.

-Andrei

On Jan 22, 2006, at 1:07 PM, Christian Weiske wrote:

&gt;&gt; Here is a combined UiManager and GtkCalendar patch for gtk2
&gt;
&gt; Bump. What's with the patch - accepted or not, and what does get_date()
&gt; return now? A timestamp?
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060123225916</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-01-23 22:59:16-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Patches: GtkNotebook::query_tab_label_packing(), GtkBox::query_child_packing()</subject><body>

This is not quite correct. You want this:

    if (!model) {
         wrapped_obj = (GObject *) 
g_object_new(phpg_gtype_from_zval(this_ptr), NULL);
     } else {
         wrapped_obj = (GObject *) 
g_object_new(phpg_gtype_from_zval(this_ptr), "model", 
GTK_TREE_MODEL(PHPG_GOBJECT(model)), NULL);
     }

When you use an explicit constructor like 
gtk_combo_box_new_with_model() you basically disallow users to inherit 
classes from this one and make them work properly..

-Andrei

On Jan 22, 2006, at 1:18 PM, Christian Weiske wrote:

&gt; +    if (!model) {
&gt; +        wrapped_obj = (GObject *) 
&gt; g_object_newv(phpg_gtype_from_zval(this_ptr), 0, NULL);
&gt; +    } else {
&gt; +        wrapped_obj = (GObject *) 
&gt; gtk_combo_box_new_with_model(GTK_TREE_MODEL(PHPG_GOBJECT(model)));
&gt; +    }

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060124000447</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-01-24 00:04:47-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkTreeStore/ListStore::set_value</subject><body>

I agree that set_value() has its uses.

-Andrei

On Jan 18, 2006, at 11:00 AM, Christian Weiske wrote:

&gt; Hello readers,
&gt;
&gt; I just stumbled upon the set_value method of GtkTreeStore and
&gt; GtkListStore. One might say that it's not necessary to implement it
&gt; because set() does the same thing, but just with multiple columns at 
&gt; once.
&gt;
&gt; Nevertheless do I think set_value has it's use: If you want to update
&gt; 10000 rows, and only one column in a row. set_value() would be so much
&gt; faster than set() [because set() itself uses set_value internally, but
&gt; does some more things like looping over the parameters and so], and I
&gt; think that would be worth the implementation.
&gt;
&gt; What do you think?
&gt;
&gt;
&gt; And Andrei, the insert_* patches I sent you: I noted that insert()
&gt; itself my have no parameters at all, and the code works when you just
&gt; add a bar "|" at the beginning of the parameter parsing code.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060124074745</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-24 07:47:45-0400</timestampReceived><subject>[PHP-GTK-DEV] [Fwd: [PEAR-DEV] RELEASE_1_0_4]</subject><body>


Here you see that it wasn't my fault!

-------- Original Message --------
Subject: [PEAR-DEV] RELEASE_1_0_4
Date: Tue, 24 Jan 2006 08:42:53 +0100 (CET)
From: Derick Rethans &lt;derick@php.net&gt;
To: PHP Developers Mailing List &lt;internals@lists.php.net&gt;,
pecl-dev@lists.php.net, pear-dev@lists.php.net

Hello!

For some reason all of our code in all repositories in CVS have a tag
"RELEASE_1_0_4". Seems to have happened on the 18th, according to the
timestamp in the ChangeLog's history:
http://cvs.php.net/viewcvs.cgi/php-src/ChangeLog?view=log

If you think you've something to do with this, please reply as we'll
have to cleanup this tag from many extensions. :I

regards,
Derick

-- 
PEAR Development Mailing List (http://pear.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php



-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060124000931</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-01-24 00:09:31-0400</timestampReceived><subject>[PHP-GTK-DEV] RELEASE_1_0_4 ?</subject><body>

Who the heck tagged HEAD with this?

borndress-lm% cvs stat -v ext/gtk+/gtk.overrides
===================================================================
File: gtk.overrides     Status: Up-to-date

    Working revision:    1.146
    Repository revision: 1.146   
/repository/php-gtk/ext/gtk+/gtk.overrides,v
    Sticky Tag:          (none)
    Sticky Date:         (none)
    Sticky Options:      (none)

    Existing Tags:
         RELEASE_1_0_4                   (revision: 1.145)

--Andrei

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060127003255</emailId><senderName>Tom Rogers</senderName><senderEmail>trogers@kwikin.com</senderEmail><timestampReceived>2006-01-27 00:32:55-0400</timestampReceived><subject>[PHP-GTK-DEV] Complie problems with win32</subject><body>

Hi

Found a few typos and a compile error after getting latest CVS.

The compile error (from gtk.overrides):

gen_gtk.c
ext\gtk+\gen_gtk.c(33137) : error C2275: 'zval' : illegal use of this type as an expression
        ..\php5\Zend\zend.h(265) : see declaration of 'zval'

Fixes below....

Index: gdk.overrides
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/gdk.overrides,v
retrieving revision 1.41
diff -u -w -b -r1.41 gdk.overrides
--- gdk.overrides       15 Jan 2006 22:21:41 -0000      1.41
+++ gdk.overrides       27 Jan 2006 00:18:52 -0000
@@ -289,7 +289,7 @@
     GdkWindow *window;
     zval *php_window = NULL;
 
-    NO_STATIC_METHOD();
+    NOT_STATIC_METHOD();
 
     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
         return;
@@ -873,7 +873,7 @@
     GdkAxisUse axis_use;
     gdouble value;
 
-    NO_STATIC_METHOD();
+    NOT_STATIC_METHOD();
 
     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "V", &amp;php_axis_use))
         return;
@@ -895,7 +895,7 @@
 {
     gdouble x_win, y_win;
 
-    NO_STATIC_METHOD();
+    NOT_STATIC_METHOD();
 
     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
         return;
@@ -914,7 +914,7 @@
 {
     gdouble x_win, y_win;
 
-    NO_STATIC_METHOD();
+    NOT_STATIC_METHOD();
 
     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
         return;
@@ -933,7 +933,7 @@
 {
     GdkModifierType state = 0;
 
-    NO_STATIC_METHOD();
+    NOT_STATIC_METHOD();
 
     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
         return;
********************************************************

Index: gtk.overrides
===================================================================
RCS file: /repository/php-gtk/ext/gtk+/gtk.overrides,v
retrieving revision 1.147
diff -u -w -b -r1.147 gtk.overrides
--- gtk.overrides       24 Jan 2006 00:15:54 -0000      1.147
+++ gtk.overrides       27 Jan 2006 00:27:08 -0000
@@ -1173,14 +1173,13 @@
 PHP_METHOD
 {
     zval *buttons = NULL;
+    zval **text, **response;
 
     NOT_STATIC_METHOD();
 
     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;buttons))
         return;
 
-    zval **text, **response;
-
     if (zend_hash_num_elements(Z_ARRVAL_P(buttons)) % 2) {
         php_error(E_WARNING, "%s::%s(): button list has to contain pairs of items",
                     get_active_class_name(NULL TSRMLS_CC), get_active_function_name(TSRMLS_C));
-- 

Tom                          

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060127045935</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-27 04:59:35-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Complie problems with win32</subject><body>

Tom, everything here's on hold 'til Monday.

Thanks for the warning tho' ;)

- Steph

----- Original Message ----- 
From: "Tom Rogers" &lt;trogers@kwikin.com&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Friday, January 27, 2006 2:32 AM
Subject: [PHP-GTK-DEV] Complie problems with win32


&gt; Hi
&gt;
&gt; Found a few typos and a compile error after getting latest CVS.
&gt;
&gt; The compile error (from gtk.overrides):
&gt;
&gt; gen_gtk.c
&gt; ext\gtk+\gen_gtk.c(33137) : error C2275: 'zval' : illegal use of this type 
&gt; as an expression
&gt;        ..\php5\Zend\zend.h(265) : see declaration of 'zval'
&gt;
&gt; Fixes below....
&gt;
&gt; Index: gdk.overrides
&gt; ===================================================================
&gt; RCS file: /repository/php-gtk/ext/gtk+/gdk.overrides,v
&gt; retrieving revision 1.41
&gt; diff -u -w -b -r1.41 gdk.overrides
&gt; --- gdk.overrides       15 Jan 2006 22:21:41 -0000      1.41
&gt; +++ gdk.overrides       27 Jan 2006 00:18:52 -0000
&gt; @@ -289,7 +289,7 @@
&gt;     GdkWindow *window;
&gt;     zval *php_window = NULL;
&gt;
&gt; -    NO_STATIC_METHOD();
&gt; +    NOT_STATIC_METHOD();
&gt;
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
&gt;         return;
&gt; @@ -873,7 +873,7 @@
&gt;     GdkAxisUse axis_use;
&gt;     gdouble value;
&gt;
&gt; -    NO_STATIC_METHOD();
&gt; +    NOT_STATIC_METHOD();
&gt;
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "V", &amp;php_axis_use))
&gt;         return;
&gt; @@ -895,7 +895,7 @@
&gt; {
&gt;     gdouble x_win, y_win;
&gt;
&gt; -    NO_STATIC_METHOD();
&gt; +    NOT_STATIC_METHOD();
&gt;
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
&gt;         return;
&gt; @@ -914,7 +914,7 @@
&gt; {
&gt;     gdouble x_win, y_win;
&gt;
&gt; -    NO_STATIC_METHOD();
&gt; +    NOT_STATIC_METHOD();
&gt;
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
&gt;         return;
&gt; @@ -933,7 +933,7 @@
&gt; {
&gt;     GdkModifierType state = 0;
&gt;
&gt; -    NO_STATIC_METHOD();
&gt; +    NOT_STATIC_METHOD();
&gt;
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
&gt;         return;
&gt; ********************************************************
&gt;
&gt; Index: gtk.overrides
&gt; ===================================================================
&gt; RCS file: /repository/php-gtk/ext/gtk+/gtk.overrides,v
&gt; retrieving revision 1.147
&gt; diff -u -w -b -r1.147 gtk.overrides
&gt; --- gtk.overrides       24 Jan 2006 00:15:54 -0000      1.147
&gt; +++ gtk.overrides       27 Jan 2006 00:27:08 -0000
&gt; @@ -1173,14 +1173,13 @@
&gt; PHP_METHOD
&gt; {
&gt;     zval *buttons = NULL;
&gt; +    zval **text, **response;
&gt;
&gt;     NOT_STATIC_METHOD();
&gt;
&gt;     if (!php_gtk_parse_args(ZEND_NUM_ARGS(), "a", &amp;buttons))
&gt;         return;
&gt;
&gt; -    zval **text, **response;
&gt; -
&gt;     if (zend_hash_num_elements(Z_ARRVAL_P(buttons)) % 2) {
&gt;         php_error(E_WARNING, "%s::%s(): button list has to contain pairs 
&gt; of items",
&gt;                     get_active_class_name(NULL TSRMLS_CC), 
&gt; get_active_function_name(TSRMLS_C));
&gt; -- 
&gt;
&gt; Tom
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060127054602</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-27 05:46:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Complie problems with win32</subject><body>


Tom,

&gt; -    NO_STATIC_METHOD();
&gt; +    NOT_STATIC_METHOD();
That's my fault - I didn't notice that there is actually a T in.

&gt;      zval *buttons = NULL;
&gt; +    zval **text, **response;
That's the $ compiler, it doesn't let you declare variables in the mid
of a method.

-- 
Regards/MfG,
Christian Weiske


["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060127063140</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-27 06:31:40-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Complie problems with win32</subject><body>

Now that's _really_ weird, because I _did_ see that - and fixed it.

So how's it still there?!

----- Original Message ----- 
From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
To: &lt;php-gtk-dev@lists.php.net&gt;
Sent: Friday, January 27, 2006 7:46 AM
Subject: Re: [PHP-GTK-DEV] Complie problems with win32

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060127063939</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-27 06:39:39-0400</timestampReceived><subject>Fw: [PHP-GTK-DEV] Complie problems with win32</subject><body>

nm, I just found out why.  I didn't fix it, I just wrote and told you to ;)

(if cvs was working properly for me yes it would've been simpler to just fix 
it myself darnit)


----- Original Message ----- 
From: "Steph Fox" &lt;steph@zend.com&gt;
To: "Christian Weiske" &lt;cweiske@cweiske.de&gt;; &lt;php-gtk-dev@lists.php.net&gt;
Sent: Friday, January 27, 2006 8:31 AM
Subject: Re: [PHP-GTK-DEV] Complie problems with win32


&gt; Now that's _really_ weird, because I _did_ see that - and fixed it.
&gt;
&gt; So how's it still there?!
&gt;
&gt; ----- Original Message ----- 
&gt; From: "Christian Weiske" &lt;cweiske@cweiske.de&gt;
&gt; To: &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Friday, January 27, 2006 7:46 AM
&gt; Subject: Re: [PHP-GTK-DEV] Complie problems with win32
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt;
&gt; __________ NOD32 1.1380 (20060125) Information __________
&gt;
&gt; This message was checked by NOD32 antivirus system.
&gt; http://www.eset.com
&gt;
&gt; 

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060124062925</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-24 06:29:25-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] RELEASE_1_0_4 ?</subject><body>


&gt;         RELEASE_1_0_4                   (revision: 1.145)
I don't know - some day I commited a patch, and this tag was created. I
don't have the slightest idea why it is there; I did nothing for that -
I think Tux was drunken and did that without my notice.

-- 
Regards/MfG,
Christian Weiske

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060124160002</emailId><senderName>Jeremy Johnstone</senderName><senderEmail>phpdev@gmail.com</senderEmail><timestampReceived>2006-01-24 16:00:02-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] RELEASE_1_0_4 ?</subject><body>


It's rumored to be a PEAR person who did it. Seems a large chunk of CVS was
erroneously tagged.

-Jeremy

On 1/23/06, Christian Weiske &lt;cweiske@cweiske.de&gt; wrote:
&gt;
&gt; &gt;         RELEASE_1_0_4                   (revision: 1.145)
&gt; I don't know - some day I commited a patch, and this tag was created. I
&gt; don't have the slightest idea why it is there; I did nothing for that -
&gt; I think Tux was drunken and did that without my notice.
&gt;
&gt; --
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;
&gt;
&gt;


--
---------------------------
Jeremy Johnstone
http://www.jeremyjohnstone.com
jsjohnst@php.net


</body></email><email><emailId>20060124161145</emailId><senderName>"Steph Fox"</senderName><senderEmail>steph@zend.com</senderEmail><timestampReceived>2006-01-24 16:11:45-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] RELEASE_1_0_4 ?</subject><body>

heh, it's nobody on this project, thankfully...

----- Original Message ----- 
From: "Anant Narayanan" &lt;anant@kix.in&gt;
To: "Jeremy Johnstone" &lt;phpdev@gmail.com&gt;; "GTK-DEV" 
&lt;php-gtk-dev@lists.php.net&gt;
Sent: Tuesday, January 24, 2006 6:04 PM
Subject: Re: [PHP-GTK-DEV] RELEASE_1_0_4 ?


&gt; It's rumored to be a PEAR person who did it. Seems a large chunk of CVS 
&gt; was
&gt; erroneously tagged.

&gt;&gt;That's pretty easy, isn't it? RELEASE_x_x_x tags are used for PEAR
&gt;&gt;package releases, and the only PEAR release in question is
&gt;&gt;System_Command 1.0.4 on the 20th.

So who's incharge of System_Command? :)

Regards,
--
Anant Narayanan
-------------------------
Find Freedom!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email><email><emailId>20060124161632</emailId><senderName>Anant Narayanan</senderName><senderEmail>anant@kix.in</senderEmail><timestampReceived>2006-01-24 16:16:32-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] RELEASE_1_0_4 ?</subject><body>

&gt; It's rumored to be a PEAR person who did it. Seems a large chunk of CVS was
&gt; erroneously tagged.

&gt;&gt;That's pretty easy, isn't it? RELEASE_x_x_x tags are used for PEAR
&gt;&gt;package releases, and the only PEAR release in question is
&gt;&gt;System_Command 1.0.4 on the 20th.

So who's incharge of System_Command? :)

Regards,
--
Anant Narayanan
-------------------------
Find Freedom!
http://www.kix.in/

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060127073830</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-01-27 07:38:30-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] Complie problems with win32</subject><body>

That's C for you. Declare variables at the top.

-Andrei


On Jan 26, 2006, at 9:46 PM, Christian Weiske wrote:

&gt; Tom,
&gt;
&gt;&gt; -    NO_STATIC_METHOD();
&gt;&gt; +    NOT_STATIC_METHOD();
&gt; That's my fault - I didn't notice that there is actually a T in.
&gt;
&gt;&gt;      zval *buttons = NULL;
&gt;&gt; +    zval **text, **response;
&gt; That's the $ compiler, it doesn't let you declare variables in the  
&gt; mid
&gt; of a method.
&gt;
&gt; -- 
&gt; Regards/MfG,
&gt; Christian Weiske
&gt;

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php


</body></email><email><emailId>20060127082318</emailId><senderName>Christian Weiske</senderName><senderEmail>cweiske@cweiske.de</senderEmail><timestampReceived>2006-01-27 08:23:18-0400</timestampReceived><subject>[PHP-GTK-DEV] Some GList* overrides</subject><body>

[Attachment #2 (multipart/mixed)]


Hi Andrei,


Here are some overridden methods that needed a GList*. Could you review
them?
-- 
Regards/MfG,
Christian Weiske

["gdk.defs.diff" (text/plain)]

--- orig/gdk.defs	2006-01-27 09:19:52.000000000 +0100
+++ php-gtk/ext/gtk+/gdk.defs	2006-01-27 08:49:14.000000000 +0100
@@ -3683,9 +3683,11 @@
   (return-type "GdkWindow*")
 )
 
-(define-function window_get_toplevels
+(define-method get_toplevels
+  (of-object "GdkWindow")
   (c-name "gdk_window_get_toplevels")
   (return-type "GList*")
+  (static #t)
 )
 
 (define-method get_update_area

["gdk.overrides.diff" (text/plain)]

--- orig/gdk.overrides	2006-01-27 09:15:17.000000000 +0100
+++ php-gtk/ext/gtk+/gdk.overrides	2006-01-27 08:54:00.000000000 +0100
@@ -43,10 +43,55 @@
 ignore
     gdk_gc_new2
     gdk_string_extents
+    gdk_window_peek_children
 
 /* }}} */
 
 
+%% {{{ Gdk
+
+%%
+override gdk_devices_list
+PHP_METHOD
+{
+    GList *list, *item;
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
+        return;
+
+    list = gdk_devices_list();
+
+    array_init(return_value);
+    for (item = list; item; item = item-&gt;next) {
+        zval *php_item = NULL;
+        phpg_gobject_new(&amp;php_item, G_OBJECT(item-&gt;data) TSRMLS_CC);
+        add_next_index_zval(return_value, php_item);
+    }
+
+    g_list_free(list);
+}
+
+%%
+override gdk_list_visuals
+PHP_METHOD
+{
+    GList *list, *item;
+
+    list = gdk_list_visuals();
+
+    array_init(return_value);
+    for (item = list; item; item = item-&gt;next) {
+        zval *php_item = NULL;
+        phpg_gobject_new(&amp;php_item, G_OBJECT(item-&gt;data) TSRMLS_CC);
+        add_next_index_zval(return_value, php_item);
+    }
+
+    g_list_free(list);
+}
+
+%% }}}
+
+
 %% {{{ GdkColor
 
 %%
@@ -304,6 +349,30 @@
     }
 }
 
+
+%%
+override gdk_display_list_devices
+PHP_METHOD
+{
+    GList *list, *item;
+
+    NOT_STATIC_METHOD();
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
+        return;
+
+    list = gdk_display_list_devices(GDK_DISPLAY(PHPG_GOBJECT(this_ptr)));
+
+    array_init(return_value);
+    for (item = list; item; item = item-&gt;next) {
+        zval *php_item = NULL;
+        phpg_gobject_new(&amp;php_item, G_OBJECT(item-&gt;data) TSRMLS_CC);
+        add_next_index_zval(return_value, php_item);
+    }
+
+    g_list_free(list);
+}
+
 %% }}}
 
 
@@ -1087,6 +1156,58 @@
 
 %% }}}
 
+
+%% {{{ GdkScreen
+
+%%
+override gdk_screen_get_toplevel_windows
+PHP_METHOD
+{
+    GList *list, *item;
+
+    NOT_STATIC_METHOD();
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
+        return;
+
+    list = gdk_screen_get_toplevel_windows(GDK_SCREEN(PHPG_GOBJECT(this_ptr)));
+
+    array_init(return_value);
+    for (item = list; item; item = item-&gt;next) {
+        zval *php_item = NULL;
+        phpg_gobject_new(&amp;php_item, G_OBJECT(item-&gt;data) TSRMLS_CC);
+        add_next_index_zval(return_value, php_item);
+    }
+
+    g_list_free(list);
+}
+
+%%
+override gdk_screen_list_visuals
+PHP_METHOD
+{
+    GList *list, *item;
+
+    NOT_STATIC_METHOD();
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
+        return;
+
+    list = gdk_screen_list_visuals(GDK_SCREEN(PHPG_GOBJECT(this_ptr)));
+
+    array_init(return_value);
+    for (item = list; item; item = item-&gt;next) {
+        zval *php_item = NULL;
+        phpg_gobject_new(&amp;php_item, G_OBJECT(item-&gt;data) TSRMLS_CC);
+        add_next_index_zval(return_value, php_item);
+    }
+
+    g_list_free(list);
+}
+
+%% }}}
+
+
 %% {{{ GdkWindow
 
 %%
@@ -1112,6 +1233,30 @@
 
 
 %%
+override gdk_window_get_children
+PHP_METHOD
+{
+    GList *list, *item;
+
+    NOT_STATIC_METHOD();
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
+        return;
+
+    list = gdk_window_get_children(GDK_WINDOW(PHPG_GOBJECT(this_ptr)));
+
+    array_init(return_value);
+    for (item = list; item; item = item-&gt;next) {
+        zval *php_item = NULL;
+        phpg_gobject_new(&amp;php_item, G_OBJECT(item-&gt;data) TSRMLS_CC);
+        add_next_index_zval(return_value, php_item);
+    }
+
+    g_list_free(list);
+}
+
+
+%%
 override gdk_window_get_geometry
 PHP_METHOD
 {
@@ -1191,6 +1336,29 @@
     php_gtk_build_value(&amp;return_value, "(ii)", x, y);
 }
 
+
+%%
+override gdk_window_get_toplevels
+PHP_METHOD
+{
+    GList *list, *item;
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
+        return;
+
+    list = gdk_window_get_toplevels();
+
+    array_init(return_value);
+    for (item = list; item; item = item-&gt;next) {
+        zval *php_item = NULL;
+        phpg_gobject_new(&amp;php_item, G_OBJECT(item-&gt;data) TSRMLS_CC);
+        add_next_index_zval(return_value, php_item);
+    }
+
+    g_list_free(list);
+}
+
+
 %% }}}
 
 %%

["gtktreeview.overrides.diff" (text/plain)]

--- orig/gtktreeview.overrides	2006-01-19 21:36:02.000000000 +0100
+++ php-gtk/ext/gtk+/gtktreeview.overrides	2006-01-27 09:12:38.000000000 +0100
@@ -105,6 +105,34 @@
 
 %% }}}
 
+
+%% {{{ GtkCellView
+
+%%
+override gtk_cell_view_get_cell_renderers
+PHP_METHOD
+{
+    GList *list, *item;
+
+    NOT_STATIC_METHOD();
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
+        return;
+
+    list = gtk_cell_view_get_cell_renderers(GTK_CELL_VIEW(PHPG_GOBJECT(this_ptr)));
+
+    array_init(return_value);
+    for (item = list; item; item = item-&gt;next) {
+        zval *php_item = NULL;
+        phpg_gobject_new(&amp;php_item, G_OBJECT(item-&gt;data) TSRMLS_CC);
+        add_next_index_zval(return_value, php_item);
+    }
+
+    g_list_free(list);
+}
+
+%% }}}
+
 %% {{{ GtkListStore
 %%
 add-arginfo GtkListStore __construct
@@ -458,6 +486,16 @@
     phpg_gboxed_new(&amp;return_value, GTK_TYPE_TREE_ITER, &amp;iter, TRUE, TRUE TSRMLS_CC);
 }
 
+
+%%
+add-arginfo GtkTreeStore insert
+static
+ZEND_BEGIN_ARG_INFO_EX(ARGINFO_NAME, 0, 0, 1)
+    ZEND_ARG_INFO(0, position)
+    ZEND_ARG_OBJ_INFO(0, parent, GtkTreeIter, 1)
+    ZEND_ARG_INFO(0, items)
+ZEND_END_ARG_INFO();
+
 %%
 override gtk_tree_store_insert
 PHP_METHOD
@@ -485,6 +523,16 @@
     phpg_gboxed_new(&amp;return_value, GTK_TYPE_TREE_ITER, &amp;iter, TRUE, TRUE TSRMLS_CC);
 }
 
+
+%%
+add-arginfo GtkTreeStore insert_before
+static
+ZEND_BEGIN_ARG_INFO_EX(ARGINFO_NAME, 0, 0, 0)
+    ZEND_ARG_OBJ_INFO(0, parent, GtkTreeIter, 1)
+    ZEND_ARG_OBJ_INFO(0, sibling, GtkTreeIter, 1)
+    ZEND_ARG_INFO(0, items)
+ZEND_END_ARG_INFO();
+
 %%
 override gtk_tree_store_insert_before
 PHP_METHOD
@@ -514,6 +562,16 @@
     phpg_gboxed_new(&amp;return_value, GTK_TYPE_TREE_ITER, &amp;iter, TRUE, TRUE TSRMLS_CC);
 }
 
+
+%%
+add-arginfo GtkTreeStore insert_after
+static
+ZEND_BEGIN_ARG_INFO_EX(ARGINFO_NAME, 0, 0, 0)
+    ZEND_ARG_OBJ_INFO(0, parent, GtkTreeIter, 1)
+    ZEND_ARG_OBJ_INFO(0, sibling, GtkTreeIter, 1)
+    ZEND_ARG_INFO(0, items)
+ZEND_END_ARG_INFO();
+
 %%
 override gtk_tree_store_insert_after
 PHP_METHOD
@@ -543,6 +601,7 @@
     phpg_gboxed_new(&amp;return_value, GTK_TYPE_TREE_ITER, &amp;iter, TRUE, TRUE TSRMLS_CC);
 }
 
+
 %%
 add-arginfo GtkTreeStore set
 static
@@ -1213,4 +1272,29 @@
                                             (GtkTreeCellDataFunc)phpg_cell_data_func_marshal,
                                             cb_data, phpg_cb_data_destroy);
 }
+
+
+%%
+override gtk_tree_view_column_get_cell_renderers
+PHP_METHOD
+{
+    GList *list, *item;
+
+    NOT_STATIC_METHOD();
+
+    if (!php_gtk_parse_args(ZEND_NUM_ARGS(), ""))
+        return;
+
+    list = gtk_tree_view_column_get_cell_renderers(GTK_TREE_VIEW_COLUMN(PHPG_GOBJECT(this_ptr)));
+
+    array_init(return_value);
+    for (item = list; item; item = item-&gt;next) {
+        zval *php_item = NULL;
+        phpg_gobject_new(&amp;php_item, G_OBJECT(item-&gt;data) TSRMLS_CC);
+        add_next_index_zval(return_value, php_item);
+    }
+
+    g_list_free(list);
+}
+
 %% }}}

["signature.asc" (application/pgp-signature)]

</body></email><email><emailId>20060210034234</emailId><senderName>Andrei Zmievski</senderName><senderEmail>andrei@gravitonic.com</senderEmail><timestampReceived>2006-02-10 03:42:34-0400</timestampReceived><subject>Re: [PHP-GTK-DEV] GtkCList, GtkCTree and memleaks</subject><body>

Did you ever commit this?

-Andrei


On Dec 18, 2005, at 12:34 PM, Steph Fox wrote:

&gt; OK, I took advice on this now (thanks Tony) and the memleaks are  
&gt; finally dead.  Need to test clist, will commit tomorrow (I don't  
&gt; think there's anything contentious here - it's more or less the  
&gt; same behaviour we had before).
&gt;
&gt; - Steph (gorn)
&gt;
&gt;
&gt; ----- Original Message ----- From: "Steph Fox" &lt;steph@zend.com&gt;
&gt; To: "Andrei" &lt;andrei@gravitonic.com&gt;
&gt; Cc: "PHP-GTK dev" &lt;php-gtk-dev@lists.php.net&gt;
&gt; Sent: Saturday, December 17, 2005 10:05 PM
&gt; Subject: [PHP-GTK-DEV] GtkCList, GtkCTree and memleaks
&gt;
&gt;
&gt;&gt; Andrei,
&gt;&gt;
&gt;&gt; Looking into GtkCList and GtkCTree constructors, both of which need
&gt;&gt; overrides to avoid the '_with_titles' variant and to get some i18n  
&gt;&gt; support.
&gt;&gt; The first bit of code below comes directly from the php-gtk1  
&gt;&gt; overrides and
&gt;&gt; suffers from memory leaks:
&gt;&gt;
&gt;&gt;
&gt;&gt;        target_hash = HASH_OF(php_titles);
&gt;&gt;        titles = emalloc(sizeof(gchar *) * columns);
&gt;&gt;        zend_hash_internal_pointer_reset(target_hash);
&gt;&gt;
&gt;&gt;        while (zend_hash_get_current_data(target_hash, (void **) 
&gt;&gt; &amp;temp_title)
&gt;&gt; == SUCCESS) {
&gt;&gt;            convert_to_string_ex(temp_title);
&gt;&gt;            titles[i++] = estrndup(Z_STRVAL_PP(temp_title),
&gt;&gt; Z_STRLEN_PP(temp_title)); /* this leaks 1 byte per title char (+  
&gt;&gt; 1)  */
&gt;&gt;            zend_hash_move_forward(target_hash);
&gt;&gt;        }
&gt;&gt;
&gt;&gt; The second bit of code is a much-reduced version of what I  
&gt;&gt; currently have:
&gt;&gt;
&gt;&gt;        titles = emalloc(sizeof(gchar *) * columns);
&gt;&gt;        zend_hash_internal_pointer_reset(Z_ARRVAL_P(php_titles));
&gt;&gt;
&gt;&gt;        while (zend_hash_get_current_data(Z_ARRVAL_P(php_titles),  
&gt;&gt; (void
&gt;&gt; **)&amp;temp_title) == SUCCESS) {
&gt;&gt;            convert_to_string_ex(temp_title);
&gt;&gt;            titles[i++] = Z_STRVAL_PP(temp_title); /* this doesn't  
&gt;&gt; leak at
&gt;&gt; all, but it doesn't feel too safe either... */
&gt;&gt;            zend_hash_move_forward(Z_ARRVAL_P(php_titles));
&gt;&gt;        }
&gt;&gt;
&gt;&gt; Is it better to live with the leaks in this situation?  Either way  
&gt;&gt; works,
&gt;&gt; for practical purposes... or is there a third way I didn't fall  
&gt;&gt; across yet?
&gt;&gt;
&gt;&gt; - Steph
&gt;&gt;
&gt;&gt; (ISP's been broken all day following stormy weather here - sorry,  
&gt;&gt; you'll be
&gt;&gt; getting everything at once from me :-\)
&gt;&gt;
&gt;&gt; -- 
&gt;&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt;&gt; To unsubscribe, visit: http://www.php.net/unsub.php
&gt;
&gt; -- 
&gt; PHP-GTK Development Mailing List (http://gtk.php.net/)
&gt; To unsubscribe, visit: http://www.php.net/unsub.php

-- 
PHP-GTK Development Mailing List (http://gtk.php.net/)
To unsubscribe, visit: http://www.php.net/unsub.php

</body></email></emails>